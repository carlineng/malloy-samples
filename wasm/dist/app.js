(()=>{var EBe=Object.create;var ak=Object.defineProperty;var SBe=Object.getOwnPropertyDescriptor;var wBe=Object.getOwnPropertyNames;var CBe=Object.getPrototypeOf,ABe=Object.prototype.hasOwnProperty;var kfe=n=>ak(n,"__esModule",{value:!0});var uk=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var FG=(n,e)=>()=>(n&&(e=n(n=0)),e);var Ae=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),DG=(n,e)=>{for(var t in e)ak(n,t,{get:e[t],enumerable:!0})},Ife=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of wBe(e))!ABe.call(n,i)&&(t||i!=="default")&&ak(n,i,{get:()=>e[i],enumerable:!(r=SBe(e,i))||r.enumerable});return n},dr=(n,e)=>Ife(kfe(ak(n!=null?EBe(CBe(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),TBe=(n=>(e,t)=>n&&n.get(e)||(t=Ife(kfe({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var OG=Ae((ubt,Pfe)=>{"use strict";m();var Mfe=Object.getOwnPropertySymbols,FBe=Object.prototype.hasOwnProperty,DBe=Object.prototype.propertyIsEnumerable;function OBe(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function RBe(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Pfe.exports=RBe()?Object.assign:function(n,e){for(var t,r=OBe(n),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var o in t)FBe.call(t,o)&&(r[o]=t[o]);if(Mfe){i=Mfe(t);for(var a=0;a<i.length;a++)DBe.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r}});var Zfe=Ae(ra=>{"use strict";m();var RG=OG(),HE=60103,Bfe=60106;ra.Fragment=60107;ra.StrictMode=60108;ra.Profiler=60114;var jfe=60109,qfe=60110,Ufe=60112;ra.Suspense=60113;var $fe=60115,zfe=60116;typeof Symbol=="function"&&Symbol.for&&(Ap=Symbol.for,HE=Ap("react.element"),Bfe=Ap("react.portal"),ra.Fragment=Ap("react.fragment"),ra.StrictMode=Ap("react.strict_mode"),ra.Profiler=Ap("react.profiler"),jfe=Ap("react.provider"),qfe=Ap("react.context"),Ufe=Ap("react.forward_ref"),ra.Suspense=Ap("react.suspense"),$fe=Ap("react.memo"),zfe=Ap("react.lazy"));var Ap,Hfe=typeof Symbol=="function"&&Symbol.iterator;function NBe(n){return n===null||typeof n!="object"?null:(n=Hfe&&n[Hfe]||n["@@iterator"],typeof n=="function"?n:null)}function lA(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vfe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wfe={};function VE(n,e,t){this.props=n,this.context=e,this.refs=Wfe,this.updater=t||Vfe}VE.prototype.isReactComponent={};VE.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(lA(85));this.updater.enqueueSetState(this,n,e,"setState")};VE.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Qfe(){}Qfe.prototype=VE.prototype;function NG(n,e,t){this.props=n,this.context=e,this.refs=Wfe,this.updater=t||Vfe}var LG=NG.prototype=new Qfe;LG.constructor=NG;RG(LG,VE.prototype);LG.isPureReactComponent=!0;var kG={current:null},Gfe=Object.prototype.hasOwnProperty,Yfe={key:!0,ref:!0,__self:!0,__source:!0};function Kfe(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Gfe.call(e,r)&&!Yfe.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:HE,type:n,key:s,ref:o,props:i,_owner:kG.current}}function LBe(n,e){return{$$typeof:HE,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function IG(n){return typeof n=="object"&&n!==null&&n.$$typeof===HE}function kBe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Jfe=/\/+/g;function MG(n,e){return typeof n=="object"&&n!==null&&n.key!=null?kBe(""+n.key):e.toString(36)}function lk(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case HE:case Bfe:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+MG(o,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(Jfe,"$&/")+"/"),lk(i,e,t,"",function(f){return f})):i!=null&&(IG(i)&&(i=LBe(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jfe,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+MG(s,a);o+=lk(s,e,t,l,i)}else if(l=NBe(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+MG(s,a++),o+=lk(s,e,t,l,i);else if(s==="object")throw e=""+n,Error(lA(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return o}function ck(n,e,t){if(n==null)return n;var r=[],i=0;return lk(n,r,"","",function(s){return e.call(t,s,i++)}),r}function IBe(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var Xfe={current:null};function lg(){var n=Xfe.current;if(n===null)throw Error(lA(321));return n}var MBe={ReactCurrentDispatcher:Xfe,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:kG,IsSomeRendererActing:{current:!1},assign:RG};ra.Children={map:ck,forEach:function(n,e,t){ck(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ck(n,function(){e++}),e},toArray:function(n){return ck(n,function(e){return e})||[]},only:function(n){if(!IG(n))throw Error(lA(143));return n}};ra.Component=VE;ra.PureComponent=NG;ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MBe;ra.cloneElement=function(n,e,t){if(n==null)throw Error(lA(267,n));var r=RG({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=kG.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)Gfe.call(e,l)&&!Yfe.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:HE,type:n.type,key:i,ref:s,props:r,_owner:o}};ra.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:qfe,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:jfe,_context:n},n.Consumer=n};ra.createElement=Kfe;ra.createFactory=function(n){var e=Kfe.bind(null,n);return e.type=n,e};ra.createRef=function(){return{current:null}};ra.forwardRef=function(n){return{$$typeof:Ufe,render:n}};ra.isValidElement=IG;ra.lazy=function(n){return{$$typeof:zfe,_payload:{_status:-1,_result:n},_init:IBe}};ra.memo=function(n,e){return{$$typeof:$fe,type:n,compare:e===void 0?null:e}};ra.useCallback=function(n,e){return lg().useCallback(n,e)};ra.useContext=function(n,e){return lg().useContext(n,e)};ra.useDebugValue=function(){};ra.useEffect=function(n,e){return lg().useEffect(n,e)};ra.useImperativeHandle=function(n,e,t){return lg().useImperativeHandle(n,e,t)};ra.useLayoutEffect=function(n,e){return lg().useLayoutEffect(n,e)};ra.useMemo=function(n,e){return lg().useMemo(n,e)};ra.useReducer=function(n,e,t){return lg().useReducer(n,e,t)};ra.useRef=function(n){return lg().useRef(n)};ra.useState=function(n){return lg().useState(n)};ra.version="17.0.2"});var Fr=Ae((cbt,e0e)=>{"use strict";m();e0e.exports=Zfe()});var v,m=FG(()=>{v=dr(Fr())});var o0e=Ae(Ea=>{"use strict";m();var WE,cA,fk,PG;typeof performance=="object"&&typeof performance.now=="function"?(t0e=performance,Ea.unstable_now=function(){return t0e.now()}):(BG=Date,n0e=BG.now(),Ea.unstable_now=function(){return BG.now()-n0e});var t0e,BG,n0e;typeof window=="undefined"||typeof MessageChannel!="function"?(QE=null,jG=null,qG=function(){if(QE!==null)try{var n=Ea.unstable_now();QE(!0,n),QE=null}catch(e){throw setTimeout(qG,0),e}},WE=function(n){QE!==null?setTimeout(WE,0,n):(QE=n,setTimeout(qG,0))},cA=function(n,e){jG=setTimeout(n,e)},fk=function(){clearTimeout(jG)},Ea.unstable_shouldYield=function(){return!1},PG=Ea.unstable_forceFrameRate=function(){}):(r0e=window.setTimeout,i0e=window.clearTimeout,typeof console!="undefined"&&(s0e=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof s0e!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),fA=!1,dA=null,dk=-1,UG=5,$G=0,Ea.unstable_shouldYield=function(){return Ea.unstable_now()>=$G},PG=function(){},Ea.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):UG=0<n?Math.floor(1e3/n):5},zG=new MessageChannel,hk=zG.port2,zG.port1.onmessage=function(){if(dA!==null){var n=Ea.unstable_now();$G=n+UG;try{dA(!0,n)?hk.postMessage(null):(fA=!1,dA=null)}catch(e){throw hk.postMessage(null),e}}else fA=!1},WE=function(n){dA=n,fA||(fA=!0,hk.postMessage(null))},cA=function(n,e){dk=r0e(function(){n(Ea.unstable_now())},e)},fk=function(){i0e(dk),dk=-1});var QE,jG,qG,r0e,i0e,s0e,fA,dA,dk,UG,$G,zG,hk;function HG(n,e){var t=n.length;n.push(e);e:for(;;){var r=t-1>>>1,i=n[r];if(i!==void 0&&0<mk(i,e))n[r]=e,n[t]=i,t=r;else break e}}function rm(n){return n=n[0],n===void 0?null:n}function pk(n){var e=n[0];if(e!==void 0){var t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,i=n.length;r<i;){var s=2*(r+1)-1,o=n[s],a=s+1,l=n[a];if(o!==void 0&&0>mk(o,t))l!==void 0&&0>mk(l,o)?(n[r]=l,n[a]=t,r=a):(n[r]=o,n[s]=t,r=s);else if(l!==void 0&&0>mk(l,t))n[r]=l,n[a]=t,r=a;else break e}}return e}return null}function mk(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}var c2=[],g3=[],PBe=1,Tp=null,E0=3,xk=!1,c_=!1,hA=!1;function VG(n){for(var e=rm(g3);e!==null;){if(e.callback===null)pk(g3);else if(e.startTime<=n)pk(g3),e.sortIndex=e.expirationTime,HG(c2,e);else break;e=rm(g3)}}function WG(n){if(hA=!1,VG(n),!c_)if(rm(c2)!==null)c_=!0,WE(QG);else{var e=rm(g3);e!==null&&cA(WG,e.startTime-n)}}function QG(n,e){c_=!1,hA&&(hA=!1,fk()),xk=!0;var t=E0;try{for(VG(e),Tp=rm(c2);Tp!==null&&(!(Tp.expirationTime>e)||n&&!Ea.unstable_shouldYield());){var r=Tp.callback;if(typeof r=="function"){Tp.callback=null,E0=Tp.priorityLevel;var i=r(Tp.expirationTime<=e);e=Ea.unstable_now(),typeof i=="function"?Tp.callback=i:Tp===rm(c2)&&pk(c2),VG(e)}else pk(c2);Tp=rm(c2)}if(Tp!==null)var s=!0;else{var o=rm(g3);o!==null&&cA(WG,o.startTime-e),s=!1}return s}finally{Tp=null,E0=t,xk=!1}}var BBe=PG;Ea.unstable_IdlePriority=5;Ea.unstable_ImmediatePriority=1;Ea.unstable_LowPriority=4;Ea.unstable_NormalPriority=3;Ea.unstable_Profiling=null;Ea.unstable_UserBlockingPriority=2;Ea.unstable_cancelCallback=function(n){n.callback=null};Ea.unstable_continueExecution=function(){c_||xk||(c_=!0,WE(QG))};Ea.unstable_getCurrentPriorityLevel=function(){return E0};Ea.unstable_getFirstCallbackNode=function(){return rm(c2)};Ea.unstable_next=function(n){switch(E0){case 1:case 2:case 3:var e=3;break;default:e=E0}var t=E0;E0=e;try{return n()}finally{E0=t}};Ea.unstable_pauseExecution=function(){};Ea.unstable_requestPaint=BBe;Ea.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=E0;E0=n;try{return e()}finally{E0=t}};Ea.unstable_scheduleCallback=function(n,e,t){var r=Ea.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=t+i,n={id:PBe++,callback:e,priorityLevel:n,startTime:t,expirationTime:i,sortIndex:-1},t>r?(n.sortIndex=t,HG(g3,n),rm(c2)===null&&n===rm(g3)&&(hA?fk():hA=!0,cA(WG,t-r))):(n.sortIndex=i,HG(c2,n),c_||xk||(c_=!0,WE(QG))),n};Ea.unstable_wrapCallback=function(n){var e=E0;return function(){var t=E0;E0=e;try{return n.apply(this,arguments)}finally{E0=t}}}});var u0e=Ae((hbt,a0e)=>{"use strict";m();a0e.exports=o0e()});var Ghe=Ae(Lp=>{"use strict";m();var gk=Fr(),ju=OG(),pf=u0e();function oi(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!gk)throw Error(oi(227));var l0e=new Set,pA={};function f_(n,e){GE(n,e),GE(n+"Capture",e)}function GE(n,e){for(pA[n]=e,n=0;n<e.length;n++)l0e.add(e[n])}var cg=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),jBe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c0e=Object.prototype.hasOwnProperty,f0e={},d0e={};function qBe(n){return c0e.call(d0e,n)?!0:c0e.call(f0e,n)?!1:jBe.test(n)?d0e[n]=!0:(f0e[n]=!0,!1)}function UBe(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $Be(n,e,t,r){if(e===null||typeof e=="undefined"||UBe(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cd(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){qf[n]=new cd(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];qf[e]=new cd(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){qf[n]=new cd(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){qf[n]=new cd(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){qf[n]=new cd(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){qf[n]=new cd(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){qf[n]=new cd(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){qf[n]=new cd(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){qf[n]=new cd(n,5,!1,n.toLowerCase(),null,!1,!1)});var GG=/[\-:]([a-z])/g;function YG(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(GG,YG);qf[e]=new cd(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(GG,YG);qf[e]=new cd(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(GG,YG);qf[e]=new cd(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){qf[n]=new cd(n,1,!1,n.toLowerCase(),null,!1,!1)});qf.xlinkHref=new cd("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){qf[n]=new cd(n,1,!1,n.toLowerCase(),null,!0,!0)});function KG(n,e,t,r){var i=qf.hasOwnProperty(e)?qf[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||($Be(e,t,i,r)&&(t=null),r||i===null?qBe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var d_=gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mA=60103,h_=60106,y3=60107,JG=60108,xA=60114,XG=60109,ZG=60110,yk=60112,gA=60113,vk=60120,_k=60115,eY=60116,tY=60121,nY=60128,h0e=60129,rY=60130,iY=60131;typeof Symbol=="function"&&Symbol.for&&(qc=Symbol.for,mA=qc("react.element"),h_=qc("react.portal"),y3=qc("react.fragment"),JG=qc("react.strict_mode"),xA=qc("react.profiler"),XG=qc("react.provider"),ZG=qc("react.context"),yk=qc("react.forward_ref"),gA=qc("react.suspense"),vk=qc("react.suspense_list"),_k=qc("react.memo"),eY=qc("react.lazy"),tY=qc("react.block"),qc("react.scope"),nY=qc("react.opaque.id"),h0e=qc("react.debug_trace_mode"),rY=qc("react.offscreen"),iY=qc("react.legacy_hidden"));var qc,p0e=typeof Symbol=="function"&&Symbol.iterator;function yA(n){return n===null||typeof n!="object"?null:(n=p0e&&n[p0e]||n["@@iterator"],typeof n=="function"?n:null)}var sY;function vA(n){if(sY===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);sY=e&&e[1]||""}return`
`+sY+n}var oY=!1;function bk(n,e){if(!n||oY)return"";oY=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(n,[],e)}else{try{e.call()}catch(l){r=l}n.call(e.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{oY=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?vA(n):""}function zBe(n){switch(n.tag){case 5:return vA(n.type);case 16:return vA("Lazy");case 13:return vA("Suspense");case 19:return vA("SuspenseList");case 0:case 2:case 15:return n=bk(n.type,!1),n;case 11:return n=bk(n.type.render,!1),n;case 22:return n=bk(n.type._render,!1),n;case 1:return n=bk(n.type,!0),n;default:return""}}function YE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case y3:return"Fragment";case h_:return"Portal";case xA:return"Profiler";case JG:return"StrictMode";case gA:return"Suspense";case vk:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ZG:return(n.displayName||"Context")+".Consumer";case XG:return(n._context.displayName||"Context")+".Provider";case yk:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case _k:return YE(n.type);case tY:return YE(n._render);case eY:e=n._payload,n=n._init;try{return YE(n(e))}catch{}}return null}function v3(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function m0e(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HBe(n){var e=m0e(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ek(n){n._valueTracker||(n._valueTracker=HBe(n))}function x0e(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=m0e(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Sk(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function aY(n,e){var t=e.checked;return ju({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function g0e(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=v3(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function y0e(n,e){e=e.checked,e!=null&&KG(n,"checked",e,!1)}function uY(n,e){y0e(n,e);var t=v3(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?lY(n,e.type,t):e.hasOwnProperty("defaultValue")&&lY(n,e.type,v3(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function v0e(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function lY(n,e,t){(e!=="number"||Sk(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function VBe(n){var e="";return gk.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function cY(n,e){return n=ju({children:void 0},e),(e=VBe(e.children))&&(n.children=e),n}function KE(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+v3(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function fY(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oi(91));return ju({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function _0e(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(oi(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(oi(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:v3(t)}}function b0e(n,e){var t=v3(e.value),r=v3(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function E0e(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var dY={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function S0e(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hY(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?S0e(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var wk,w0e=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==dY.svg||"innerHTML"in n)n.innerHTML=e;else{for(wk=wk||document.createElement("div"),wk.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wk.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function _A(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var bA={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WBe=["Webkit","ms","Moz","O"];Object.keys(bA).forEach(function(n){WBe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),bA[e]=bA[n]})});function C0e(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||bA.hasOwnProperty(n)&&bA[n]?(""+e).trim():e+"px"}function A0e(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=C0e(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var QBe=ju({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pY(n,e){if(e){if(QBe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oi(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oi(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(oi(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oi(62))}}function mY(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xY(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gY=null,JE=null,XE=null;function T0e(n){if(n=jA(n)){if(typeof gY!="function")throw Error(oi(280));var e=n.stateNode;e&&(e=Vk(e),gY(n.stateNode,n.type,e))}}function F0e(n){JE?XE?XE.push(n):XE=[n]:JE=n}function D0e(){if(JE){var n=JE,e=XE;if(XE=JE=null,T0e(n),e)for(n=0;n<e.length;n++)T0e(e[n])}}function yY(n,e){return n(e)}function O0e(n,e,t,r,i){return n(e,t,r,i)}function vY(){}var R0e=yY,p_=!1,_Y=!1;function bY(){(JE!==null||XE!==null)&&(vY(),D0e())}function GBe(n,e,t){if(_Y)return n(e,t);_Y=!0;try{return R0e(n,e,t)}finally{_Y=!1,bY()}}function EA(n,e){var t=n.stateNode;if(t===null)return null;var r=Vk(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(oi(231,e,typeof t));return t}var EY=!1;if(cg)try{ZE={},Object.defineProperty(ZE,"passive",{get:function(){EY=!0}}),window.addEventListener("test",ZE,ZE),window.removeEventListener("test",ZE,ZE)}catch{EY=!1}var ZE;function YBe(n,e,t,r,i,s,o,a,l){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(p){this.onError(p)}}var SA=!1,Ck=null,Ak=!1,SY=null,KBe={onError:function(n){SA=!0,Ck=n}};function JBe(n,e,t,r,i,s,o,a,l){SA=!1,Ck=null,YBe.apply(KBe,arguments)}function XBe(n,e,t,r,i,s,o,a,l){if(JBe.apply(this,arguments),SA){if(SA){var f=Ck;SA=!1,Ck=null}else throw Error(oi(198));Ak||(Ak=!0,SY=f)}}function m_(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function N0e(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function L0e(n){if(m_(n)!==n)throw Error(oi(188))}function ZBe(n){var e=n.alternate;if(!e){if(e=m_(n),e===null)throw Error(oi(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return L0e(i),n;if(s===r)return L0e(i),e;s=s.sibling}throw Error(oi(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(oi(189))}}if(t.alternate!==r)throw Error(oi(190))}if(t.tag!==3)throw Error(oi(188));return t.stateNode.current===t?n:e}function k0e(n){if(n=ZBe(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function I0e(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var M0e,wY,P0e,B0e,CY=!1,f2=[],_3=null,b3=null,E3=null,wA=new Map,CA=new Map,AA=[],j0e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AY(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function q0e(n,e){switch(n){case"focusin":case"focusout":_3=null;break;case"dragenter":case"dragleave":b3=null;break;case"mouseover":case"mouseout":E3=null;break;case"pointerover":case"pointerout":wA.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":CA.delete(e.pointerId)}}function TA(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n=AY(e,t,r,i,s),e!==null&&(e=jA(e),e!==null&&wY(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function eje(n,e,t,r,i){switch(e){case"focusin":return _3=TA(_3,n,e,t,r,i),!0;case"dragenter":return b3=TA(b3,n,e,t,r,i),!0;case"mouseover":return E3=TA(E3,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return wA.set(s,TA(wA.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,CA.set(s,TA(CA.get(s)||null,n,e,t,r,i)),!0}return!1}function tje(n){var e=x_(n.target);if(e!==null){var t=m_(e);if(t!==null){if(e=t.tag,e===13){if(e=N0e(t),e!==null){n.blockedOn=e,B0e(n.lanePriority,function(){pf.unstable_runWithPriority(n.priority,function(){P0e(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tk(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=NY(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=jA(t),e!==null&&wY(e),n.blockedOn=t,!1;e.shift()}return!0}function U0e(n,e,t){Tk(n)&&t.delete(e)}function nje(){for(CY=!1;0<f2.length;){var n=f2[0];if(n.blockedOn!==null){n=jA(n.blockedOn),n!==null&&M0e(n);break}for(var e=n.targetContainers;0<e.length;){var t=NY(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&f2.shift()}_3!==null&&Tk(_3)&&(_3=null),b3!==null&&Tk(b3)&&(b3=null),E3!==null&&Tk(E3)&&(E3=null),wA.forEach(U0e),CA.forEach(U0e)}function FA(n,e){n.blockedOn===e&&(n.blockedOn=null,CY||(CY=!0,pf.unstable_scheduleCallback(pf.unstable_NormalPriority,nje)))}function $0e(n){function e(i){return FA(i,n)}if(0<f2.length){FA(f2[0],n);for(var t=1;t<f2.length;t++){var r=f2[t];r.blockedOn===n&&(r.blockedOn=null)}}for(_3!==null&&FA(_3,n),b3!==null&&FA(b3,n),E3!==null&&FA(E3,n),wA.forEach(e),CA.forEach(e),t=0;t<AA.length;t++)r=AA[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<AA.length&&(t=AA[0],t.blockedOn===null);)tje(t),t.blockedOn===null&&AA.shift()}function Fk(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var e7={animationend:Fk("Animation","AnimationEnd"),animationiteration:Fk("Animation","AnimationIteration"),animationstart:Fk("Animation","AnimationStart"),transitionend:Fk("Transition","TransitionEnd")},TY={},z0e={};cg&&(z0e=document.createElement("div").style,"AnimationEvent"in window||(delete e7.animationend.animation,delete e7.animationiteration.animation,delete e7.animationstart.animation),"TransitionEvent"in window||delete e7.transitionend.transition);function Dk(n){if(TY[n])return TY[n];if(!e7[n])return n;var e=e7[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in z0e)return TY[n]=e[t];return n}var H0e=Dk("animationend"),V0e=Dk("animationiteration"),W0e=Dk("animationstart"),Q0e=Dk("transitionend"),G0e=new Map,FY=new Map,rje=["abort","abort",H0e,"animationEnd",V0e,"animationIteration",W0e,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Q0e,"transitionEnd","waiting","waiting"];function DY(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),FY.set(r,e),G0e.set(r,i),f_(i,[r])}}var ije=pf.unstable_now;ije();var tu=8;function t7(n){if((1&n)!==0)return tu=15,1;if((2&n)!==0)return tu=14,2;if((4&n)!==0)return tu=13,4;var e=24&n;return e!==0?(tu=12,e):(n&32)!==0?(tu=11,32):(e=192&n,e!==0?(tu=10,e):(n&256)!==0?(tu=9,256):(e=3584&n,e!==0?(tu=8,e):(n&4096)!==0?(tu=7,4096):(e=4186112&n,e!==0?(tu=6,e):(e=62914560&n,e!==0?(tu=5,e):n&67108864?(tu=4,67108864):(n&134217728)!==0?(tu=3,134217728):(e=805306368&n,e!==0?(tu=2,e):(1073741824&n)!==0?(tu=1,1073741824):(tu=8,n))))))}function sje(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function oje(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(oi(358,n))}}function DA(n,e){var t=n.pendingLanes;if(t===0)return tu=0;var r=0,i=0,s=n.expiredLanes,o=n.suspendedLanes,a=n.pingedLanes;if(s!==0)r=s,i=tu=15;else if(s=t&134217727,s!==0){var l=s&~o;l!==0?(r=t7(l),i=tu):(a&=s,a!==0&&(r=t7(a),i=tu))}else s=t&~o,s!==0?(r=t7(s),i=tu):a!==0&&(r=t7(a),i=tu);if(r===0)return 0;if(r=31-S3(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(t7(e),i<=tu)return e;tu=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-S3(e),i=1<<t,r|=n[t],e&=~i;return r}function Y0e(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ok(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=n7(24&~e),n===0?Ok(10,e):n;case 10:return n=n7(192&~e),n===0?Ok(8,e):n;case 8:return n=n7(3584&~e),n===0&&(n=n7(4186112&~e),n===0&&(n=512)),n;case 2:return e=n7(805306368&~e),e===0&&(e=268435456),e}throw Error(oi(358,n))}function n7(n){return n&-n}function OY(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Rk(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-S3(e),n[e]=t}var S3=Math.clz32?Math.clz32:lje,aje=Math.log,uje=Math.LN2;function lje(n){return n===0?32:31-(aje(n)/uje|0)|0}var cje=pf.unstable_UserBlockingPriority,fje=pf.unstable_runWithPriority,Nk=!0;function dje(n,e,t,r){p_||vY();var i=RY,s=p_;p_=!0;try{O0e(i,n,e,t,r)}finally{(p_=s)||bY()}}function hje(n,e,t,r){fje(cje,RY.bind(null,n,e,t,r))}function RY(n,e,t,r){if(Nk){var i;if((i=(e&4)===0)&&0<f2.length&&-1<j0e.indexOf(n))n=AY(null,n,e,t,r),f2.push(n);else{var s=NY(n,e,t,r);if(s===null)i&&q0e(n,r);else{if(i){if(-1<j0e.indexOf(n)){n=AY(s,n,e,t,r),f2.push(n);return}if(eje(s,n,e,t,r))return;q0e(n,r)}Sde(n,e,r,null,t)}}}}function NY(n,e,t,r){var i=xY(r);if(i=x_(i),i!==null){var s=m_(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=N0e(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Sde(n,e,r,i,t),null}var w3=null,LY=null,Lk=null;function K0e(){if(Lk)return Lk;var n,e=LY,t=e.length,r,i="value"in w3?w3.value:w3.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Lk=i.slice(n,1<r?1-r:void 0)}function kk(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Ik(){return!0}function J0e(){return!1}function jh(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ik:J0e,this.isPropagationStopped=J0e,this}return ju(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ik)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ik)},persist:function(){},isPersistent:Ik}),e}var r7={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kY=jh(r7),OA=ju({},r7,{view:0,detail:0}),pje=jh(OA),IY,MY,RA,Mk=ju({},OA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BY,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==RA&&(RA&&n.type==="mousemove"?(IY=n.screenX-RA.screenX,MY=n.screenY-RA.screenY):MY=IY=0,RA=n),IY)},movementY:function(n){return"movementY"in n?n.movementY:MY}}),X0e=jh(Mk),mje=ju({},Mk,{dataTransfer:0}),xje=jh(mje),gje=ju({},OA,{relatedTarget:0}),PY=jh(gje),yje=ju({},r7,{animationName:0,elapsedTime:0,pseudoElement:0}),vje=jh(yje),_je=ju({},r7,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bje=jh(_je),Eje=ju({},r7,{data:0}),Z0e=jh(Eje),Sje={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wje={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cje={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aje(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Cje[n])?!!e[n]:!1}function BY(){return Aje}var Tje=ju({},OA,{key:function(n){if(n.key){var e=Sje[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=kk(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?wje[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BY,charCode:function(n){return n.type==="keypress"?kk(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?kk(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Fje=jh(Tje),Dje=ju({},Mk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ede=jh(Dje),Oje=ju({},OA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BY}),Rje=jh(Oje),Nje=ju({},r7,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lje=jh(Nje),kje=ju({},Mk,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ije=jh(kje),Mje=[9,13,27,32],jY=cg&&"CompositionEvent"in window,NA=null;cg&&"documentMode"in document&&(NA=document.documentMode);var Pje=cg&&"TextEvent"in window&&!NA,tde=cg&&(!jY||NA&&8<NA&&11>=NA),nde=String.fromCharCode(32),rde=!1;function ide(n,e){switch(n){case"keyup":return Mje.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sde(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var i7=!1;function Bje(n,e){switch(n){case"compositionend":return sde(e);case"keypress":return e.which!==32?null:(rde=!0,nde);case"textInput":return n=e.data,n===nde&&rde?null:n;default:return null}}function jje(n,e){if(i7)return n==="compositionend"||!jY&&ide(n,e)?(n=K0e(),Lk=LY=w3=null,i7=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tde&&e.locale!=="ko"?null:e.data;default:return null}}var qje={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ode(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!qje[n.type]:e==="textarea"}function ade(n,e,t,r){F0e(r),e=Uk(e,"onChange"),0<e.length&&(t=new kY("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var LA=null,kA=null;function Uje(n){yde(n,0)}function Pk(n){var e=l7(n);if(x0e(e))return n}function $je(n,e){if(n==="change")return e}var ude=!1;cg&&(cg?(jk="oninput"in document,jk||(qY=document.createElement("div"),qY.setAttribute("oninput","return;"),jk=typeof qY.oninput=="function"),Bk=jk):Bk=!1,ude=Bk&&(!document.documentMode||9<document.documentMode));var Bk,jk,qY;function lde(){LA&&(LA.detachEvent("onpropertychange",cde),kA=LA=null)}function cde(n){if(n.propertyName==="value"&&Pk(kA)){var e=[];if(ade(e,kA,n,xY(n)),n=Uje,p_)n(e);else{p_=!0;try{yY(n,e)}finally{p_=!1,bY()}}}}function zje(n,e,t){n==="focusin"?(lde(),LA=e,kA=t,LA.attachEvent("onpropertychange",cde)):n==="focusout"&&lde()}function Hje(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Pk(kA)}function Vje(n,e){if(n==="click")return Pk(e)}function Wje(n,e){if(n==="input"||n==="change")return Pk(e)}function Qje(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Fp=typeof Object.is=="function"?Object.is:Qje,Gje=Object.prototype.hasOwnProperty;function IA(n,e){if(Fp(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!Gje.call(e,t[r])||!Fp(n[t[r]],e[t[r]]))return!1;return!0}function fde(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dde(n,e){var t=fde(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=fde(t)}}function hde(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?hde(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function pde(){for(var n=window,e=Sk();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Sk(n.document)}return e}function UY(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var Yje=cg&&"documentMode"in document&&11>=document.documentMode,s7=null,$Y=null,MA=null,zY=!1;function mde(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;zY||s7==null||s7!==Sk(r)||(r=s7,"selectionStart"in r&&UY(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),MA&&IA(MA,r)||(MA=r,r=Uk($Y,"onSelect"),0<r.length&&(e=new kY("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=s7)))}DY("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);DY("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);DY(rje,2);for(HY="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qk=0;qk<HY.length;qk++)FY.set(HY[qk],0);var HY,qk;GE("onMouseEnter",["mouseout","mouseover"]);GE("onMouseLeave",["mouseout","mouseover"]);GE("onPointerEnter",["pointerout","pointerover"]);GE("onPointerLeave",["pointerout","pointerover"]);f_("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));f_("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));f_("onBeforeInput",["compositionend","keypress","textInput","paste"]);f_("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));f_("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));f_("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var PA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xde=new Set("cancel close invalid load scroll toggle".split(" ").concat(PA));function gde(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,XBe(r,e,void 0,n),n.currentTarget=null}function yde(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,f=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;gde(i,a,f),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,f=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;gde(i,a,f),s=l}}}if(Ak)throw n=SY,Ak=!1,SY=null,n}function gu(n,e){var t=Dde(e),r=n+"__bubble";t.has(r)||(Ede(e,n,2,!1),t.add(r))}var vde="_reactListening"+Math.random().toString(36).slice(2);function _de(n){n[vde]||(n[vde]=!0,l0e.forEach(function(e){xde.has(e)||bde(e,!1,n,null),bde(e,!0,n,null)}))}function bde(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=t;if(n==="selectionchange"&&t.nodeType!==9&&(s=t.ownerDocument),r!==null&&!e&&xde.has(n)){if(n!=="scroll")return;i|=2,s=r}var o=Dde(s),a=n+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),Ede(s,n,i,e),o.add(a))}function Ede(n,e,t,r){var i=FY.get(e);switch(i===void 0?2:i){case 0:i=dje;break;case 1:i=hje;break;default:i=RY}t=i.bind(null,e,t,n),i=void 0,!EY||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Sde(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=x_(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}GBe(function(){var f=s,p=xY(t),_=[];e:{var E=G0e.get(n);if(E!==void 0){var O=kY,R=n;switch(n){case"keypress":if(kk(t)===0)break e;case"keydown":case"keyup":O=Fje;break;case"focusin":R="focus",O=PY;break;case"focusout":R="blur",O=PY;break;case"beforeblur":case"afterblur":O=PY;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=X0e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=xje;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Rje;break;case H0e:case V0e:case W0e:O=vje;break;case Q0e:O=Lje;break;case"scroll":O=pje;break;case"wheel":O=Ije;break;case"copy":case"cut":case"paste":O=bje;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=ede}var q=(e&4)!==0,z=!q&&n==="scroll",L=q?E!==null?E+"Capture":null:E;q=[];for(var B=f,P;B!==null;){P=B;var G=P.stateNode;if(P.tag===5&&G!==null&&(P=G,L!==null&&(G=EA(B,L),G!=null&&q.push(BA(B,G,P)))),z)break;B=B.return}0<q.length&&(E=new O(E,R,null,t,p),_.push({event:E,listeners:q}))}}if((e&7)===0){e:{if(E=n==="mouseover"||n==="pointerover",O=n==="mouseout"||n==="pointerout",E&&(e&16)===0&&(R=t.relatedTarget||t.fromElement)&&(x_(R)||R[u7]))break e;if((O||E)&&(E=p.window===p?p:(E=p.ownerDocument)?E.defaultView||E.parentWindow:window,O?(R=t.relatedTarget||t.toElement,O=f,R=R?x_(R):null,R!==null&&(z=m_(R),R!==z||R.tag!==5&&R.tag!==6)&&(R=null)):(O=null,R=f),O!==R)){if(q=X0e,G="onMouseLeave",L="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(q=ede,G="onPointerLeave",L="onPointerEnter",B="pointer"),z=O==null?E:l7(O),P=R==null?E:l7(R),E=new q(G,B+"leave",O,t,p),E.target=z,E.relatedTarget=P,G=null,x_(p)===f&&(q=new q(L,B+"enter",R,t,p),q.target=P,q.relatedTarget=z,G=q),z=G,O&&R)t:{for(q=O,L=R,B=0,P=q;P;P=o7(P))B++;for(P=0,G=L;G;G=o7(G))P++;for(;0<B-P;)q=o7(q),B--;for(;0<P-B;)L=o7(L),P--;for(;B--;){if(q===L||L!==null&&q===L.alternate)break t;q=o7(q),L=o7(L)}q=null}else q=null;O!==null&&wde(_,E,O,q,!1),R!==null&&z!==null&&wde(_,z,R,q,!0)}}e:{if(E=f?l7(f):window,O=E.nodeName&&E.nodeName.toLowerCase(),O==="select"||O==="input"&&E.type==="file")var ue=$je;else if(ode(E))if(ude)ue=Wje;else{ue=Hje;var I=zje}else(O=E.nodeName)&&O.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(ue=Vje);if(ue&&(ue=ue(n,f))){ade(_,ue,t,p);break e}I&&I(n,E,f),n==="focusout"&&(I=E._wrapperState)&&I.controlled&&E.type==="number"&&lY(E,"number",E.value)}switch(I=f?l7(f):window,n){case"focusin":(ode(I)||I.contentEditable==="true")&&(s7=I,$Y=f,MA=null);break;case"focusout":MA=$Y=s7=null;break;case"mousedown":zY=!0;break;case"contextmenu":case"mouseup":case"dragend":zY=!1,mde(_,t,p);break;case"selectionchange":if(Yje)break;case"keydown":case"keyup":mde(_,t,p)}var J;if(jY)e:{switch(n){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else i7?ide(n,t)&&(he="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(he="onCompositionStart");he&&(tde&&t.locale!=="ko"&&(i7||he!=="onCompositionStart"?he==="onCompositionEnd"&&i7&&(J=K0e()):(w3=p,LY="value"in w3?w3.value:w3.textContent,i7=!0)),I=Uk(f,he),0<I.length&&(he=new Z0e(he,n,null,t,p),_.push({event:he,listeners:I}),J?he.data=J:(J=sde(t),J!==null&&(he.data=J)))),(J=Pje?Bje(n,t):jje(n,t))&&(f=Uk(f,"onBeforeInput"),0<f.length&&(p=new Z0e("onBeforeInput","beforeinput",null,t,p),_.push({event:p,listeners:f}),p.data=J))}yde(_,e)})}function BA(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Uk(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=EA(n,t),s!=null&&r.unshift(BA(n,s,i)),s=EA(n,e),s!=null&&r.push(BA(n,s,i))),n=n.return}return r}function o7(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function wde(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,f=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&f!==null&&(a=f,i?(l=EA(t,s),l!=null&&o.unshift(BA(t,l,a))):i||(l=EA(t,s),l!=null&&o.push(BA(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}function $k(){}var VY=null,WY=null;function Cde(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function QY(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ade=typeof setTimeout=="function"?setTimeout:void 0,Kje=typeof clearTimeout=="function"?clearTimeout:void 0;function GY(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function a7(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function Tde(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var YY=0;function Jje(n){return{$$typeof:nY,toString:n,valueOf:n}}var zk=Math.random().toString(36).slice(2),C3="__reactFiber$"+zk,Hk="__reactProps$"+zk,u7="__reactContainer$"+zk,Fde="__reactEvents$"+zk;function x_(n){var e=n[C3];if(e)return e;for(var t=n.parentNode;t;){if(e=t[u7]||t[C3]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Tde(n);n!==null;){if(t=n[C3])return t;n=Tde(n)}return e}n=t,t=n.parentNode}return null}function jA(n){return n=n[C3]||n[u7],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function l7(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(oi(33))}function Vk(n){return n[Hk]||null}function Dde(n){var e=n[Fde];return e===void 0&&(e=n[Fde]=new Set),e}var KY=[],c7=-1;function A3(n){return{current:n}}function yu(n){0>c7||(n.current=KY[c7],KY[c7]=null,c7--)}function Dl(n,e){c7++,KY[c7]=n.current,n.current=e}var T3={},S0=A3(T3),eh=A3(!1),g_=T3;function f7(n,e){var t=n.type.contextTypes;if(!t)return T3;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function th(n){return n=n.childContextTypes,n!=null}function Wk(){yu(eh),yu(S0)}function Ode(n,e,t){if(S0.current!==T3)throw Error(oi(168));Dl(S0,e),Dl(eh,t)}function Rde(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(oi(108,YE(e)||"Unknown",i));return ju({},t,r)}function Qk(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||T3,g_=S0.current,Dl(S0,n),Dl(eh,eh.current),!0}function Nde(n,e,t){var r=n.stateNode;if(!r)throw Error(oi(169));t?(n=Rde(n,e,g_),r.__reactInternalMemoizedMergedChildContext=n,yu(eh),yu(S0),Dl(S0,n)):yu(eh),Dl(eh,t)}var JY=null,y_=null,Xje=pf.unstable_runWithPriority,XY=pf.unstable_scheduleCallback,ZY=pf.unstable_cancelCallback,Zje=pf.unstable_shouldYield,Lde=pf.unstable_requestPaint,eK=pf.unstable_now,eqe=pf.unstable_getCurrentPriorityLevel,Gk=pf.unstable_ImmediatePriority,kde=pf.unstable_UserBlockingPriority,Ide=pf.unstable_NormalPriority,Mde=pf.unstable_LowPriority,Pde=pf.unstable_IdlePriority,tK={},tqe=Lde!==void 0?Lde:function(){},fg=null,Yk=null,nK=!1,Bde=eK(),w0=1e4>Bde?eK:function(){return eK()-Bde};function d7(){switch(eqe()){case Gk:return 99;case kde:return 98;case Ide:return 97;case Mde:return 96;case Pde:return 95;default:throw Error(oi(332))}}function jde(n){switch(n){case 99:return Gk;case 98:return kde;case 97:return Ide;case 96:return Mde;case 95:return Pde;default:throw Error(oi(332))}}function v_(n,e){return n=jde(n),Xje(n,e)}function qA(n,e,t){return n=jde(n),XY(n,e,t)}function d2(){if(Yk!==null){var n=Yk;Yk=null,ZY(n)}qde()}function qde(){if(!nK&&fg!==null){nK=!0;var n=0;try{var e=fg;v_(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),fg=null}catch(t){throw fg!==null&&(fg=fg.slice(n+1)),XY(Gk,d2),t}finally{nK=!1}}}var nqe=d_.ReactCurrentBatchConfig;function im(n,e){if(n&&n.defaultProps){e=ju({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Kk=A3(null),Jk=null,h7=null,Xk=null;function rK(){Xk=h7=Jk=null}function iK(n){var e=Kk.current;yu(Kk),n.type._context._currentValue=e}function Ude(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function p7(n,e){Jk=n,Xk=h7=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(sm=!0),n.firstContext=null)}function Dp(n,e){if(Xk!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Xk=n,e=1073741823),e={context:n,observedBits:e,next:null},h7===null){if(Jk===null)throw Error(oi(308));h7=e,Jk.dependencies={lanes:0,firstContext:e,responders:null}}else h7=h7.next=e;return n._currentValue}var F3=!1;function sK(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function $de(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function D3(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function O3(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function zde(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function UA(n,e,t,r){var i=n.updateQueue;F3=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,f=l.next;l.next=null,o===null?s=f:o.next=f,o=l;var p=n.alternate;if(p!==null){p=p.updateQueue;var _=p.lastBaseUpdate;_!==o&&(_===null?p.firstBaseUpdate=f:_.next=f,p.lastBaseUpdate=l)}}if(s!==null){_=i.baseState,o=0,p=f=l=null;do{a=s.lane;var E=s.eventTime;if((r&a)===a){p!==null&&(p=p.next={eventTime:E,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var O=n,R=s;switch(a=e,E=t,R.tag){case 1:if(O=R.payload,typeof O=="function"){_=O.call(E,_,a);break e}_=O;break e;case 3:O.flags=O.flags&-4097|64;case 0:if(O=R.payload,a=typeof O=="function"?O.call(E,_,a):O,a==null)break e;_=ju({},_,a);break e;case 2:F3=!0}}s.callback!==null&&(n.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else E={eventTime:E,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(f=p=E,l=_):p=p.next=E,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);p===null&&(l=_),i.baseState=l,i.firstBaseUpdate=f,i.lastBaseUpdate=p,ZA|=o,n.lanes=o,n.memoizedState=_}}function Hde(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(oi(191,i));i.call(r)}}}var Vde=new gk.Component().refs;function Zk(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ju({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var eI={isMounted:function(n){return(n=n._reactInternals)?m_(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=qh(),i=L3(n),s=D3(r,i);s.payload=e,t!=null&&(s.callback=t),O3(n,s),k3(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=qh(),i=L3(n),s=D3(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),O3(n,s),k3(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=qh(),r=L3(n),i=D3(t,r);i.tag=2,e!=null&&(i.callback=e),O3(n,i),k3(n,r,t)}};function Wde(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!IA(t,r)||!IA(i,s):!0}function Qde(n,e,t){var r=!1,i=T3,s=e.contextType;return typeof s=="object"&&s!==null?s=Dp(s):(i=th(e)?g_:S0.current,r=e.contextTypes,s=(r=r!=null)?f7(n,i):T3),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eI,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function Gde(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&eI.enqueueReplaceState(e,e.state,null)}function oK(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=Vde,sK(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dp(s):(s=th(e)?g_:S0.current,i.context=f7(n,s)),UA(n,t,i,r),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zk(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&eI.enqueueReplaceState(i,i.state,null),UA(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var tI=Array.isArray;function $A(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(oi(309));var r=t.stateNode}if(!r)throw Error(oi(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===Vde&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof n!="string")throw Error(oi(284));if(!t._owner)throw Error(oi(290,n))}return n}function nI(n,e){if(n.type!=="textarea")throw Error(oi(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Yde(n){function e(z,L){if(n){var B=z.lastEffect;B!==null?(B.nextEffect=L,z.lastEffect=L):z.firstEffect=z.lastEffect=L,L.nextEffect=null,L.flags=8}}function t(z,L){if(!n)return null;for(;L!==null;)e(z,L),L=L.sibling;return null}function r(z,L){for(z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function i(z,L){return z=P3(z,L),z.index=0,z.sibling=null,z}function s(z,L,B){return z.index=B,n?(B=z.alternate,B!==null?(B=B.index,B<L?(z.flags=2,L):B):(z.flags=2,L)):L}function o(z){return n&&z.alternate===null&&(z.flags=2),z}function a(z,L,B,P){return L===null||L.tag!==6?(L=$K(B,z.mode,P),L.return=z,L):(L=i(L,B),L.return=z,L)}function l(z,L,B,P){return L!==null&&L.elementType===B.type?(P=i(L,B.props),P.ref=$A(z,L,B),P.return=z,P):(P=_I(B.type,B.key,B.props,null,z.mode,P),P.ref=$A(z,L,B),P.return=z,P)}function f(z,L,B,P){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=zK(B,z.mode,P),L.return=z,L):(L=i(L,B.children||[]),L.return=z,L)}function p(z,L,B,P,G){return L===null||L.tag!==7?(L=E7(B,z.mode,P,G),L.return=z,L):(L=i(L,B),L.return=z,L)}function _(z,L,B){if(typeof L=="string"||typeof L=="number")return L=$K(""+L,z.mode,B),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case mA:return B=_I(L.type,L.key,L.props,null,z.mode,B),B.ref=$A(z,null,L),B.return=z,B;case h_:return L=zK(L,z.mode,B),L.return=z,L}if(tI(L)||yA(L))return L=E7(L,z.mode,B,null),L.return=z,L;nI(z,L)}return null}function E(z,L,B,P){var G=L!==null?L.key:null;if(typeof B=="string"||typeof B=="number")return G!==null?null:a(z,L,""+B,P);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case mA:return B.key===G?B.type===y3?p(z,L,B.props.children,P,G):l(z,L,B,P):null;case h_:return B.key===G?f(z,L,B,P):null}if(tI(B)||yA(B))return G!==null?null:p(z,L,B,P,null);nI(z,B)}return null}function O(z,L,B,P,G){if(typeof P=="string"||typeof P=="number")return z=z.get(B)||null,a(L,z,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case mA:return z=z.get(P.key===null?B:P.key)||null,P.type===y3?p(L,z,P.props.children,G,P.key):l(L,z,P,G);case h_:return z=z.get(P.key===null?B:P.key)||null,f(L,z,P,G)}if(tI(P)||yA(P))return z=z.get(B)||null,p(L,z,P,G,null);nI(L,P)}return null}function R(z,L,B,P){for(var G=null,ue=null,I=L,J=L=0,he=null;I!==null&&J<B.length;J++){I.index>J?(he=I,I=null):he=I.sibling;var ve=E(z,I,B[J],P);if(ve===null){I===null&&(I=he);break}n&&I&&ve.alternate===null&&e(z,I),L=s(ve,L,J),ue===null?G=ve:ue.sibling=ve,ue=ve,I=he}if(J===B.length)return t(z,I),G;if(I===null){for(;J<B.length;J++)I=_(z,B[J],P),I!==null&&(L=s(I,L,J),ue===null?G=I:ue.sibling=I,ue=I);return G}for(I=r(z,I);J<B.length;J++)he=O(I,z,J,B[J],P),he!==null&&(n&&he.alternate!==null&&I.delete(he.key===null?J:he.key),L=s(he,L,J),ue===null?G=he:ue.sibling=he,ue=he);return n&&I.forEach(function(Ve){return e(z,Ve)}),G}function q(z,L,B,P){var G=yA(B);if(typeof G!="function")throw Error(oi(150));if(B=G.call(B),B==null)throw Error(oi(151));for(var ue=G=null,I=L,J=L=0,he=null,ve=B.next();I!==null&&!ve.done;J++,ve=B.next()){I.index>J?(he=I,I=null):he=I.sibling;var Ve=E(z,I,ve.value,P);if(Ve===null){I===null&&(I=he);break}n&&I&&Ve.alternate===null&&e(z,I),L=s(Ve,L,J),ue===null?G=Ve:ue.sibling=Ve,ue=Ve,I=he}if(ve.done)return t(z,I),G;if(I===null){for(;!ve.done;J++,ve=B.next())ve=_(z,ve.value,P),ve!==null&&(L=s(ve,L,J),ue===null?G=ve:ue.sibling=ve,ue=ve);return G}for(I=r(z,I);!ve.done;J++,ve=B.next())ve=O(I,z,J,ve.value,P),ve!==null&&(n&&ve.alternate!==null&&I.delete(ve.key===null?J:ve.key),L=s(ve,L,J),ue===null?G=ve:ue.sibling=ve,ue=ve);return n&&I.forEach(function(ot){return e(z,ot)}),G}return function(z,L,B,P){var G=typeof B=="object"&&B!==null&&B.type===y3&&B.key===null;G&&(B=B.props.children);var ue=typeof B=="object"&&B!==null;if(ue)switch(B.$$typeof){case mA:e:{for(ue=B.key,G=L;G!==null;){if(G.key===ue){switch(G.tag){case 7:if(B.type===y3){t(z,G.sibling),L=i(G,B.props.children),L.return=z,z=L;break e}break;default:if(G.elementType===B.type){t(z,G.sibling),L=i(G,B.props),L.ref=$A(z,G,B),L.return=z,z=L;break e}}t(z,G);break}else e(z,G);G=G.sibling}B.type===y3?(L=E7(B.props.children,z.mode,P,B.key),L.return=z,z=L):(P=_I(B.type,B.key,B.props,null,z.mode,P),P.ref=$A(z,L,B),P.return=z,z=P)}return o(z);case h_:e:{for(G=B.key;L!==null;){if(L.key===G)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){t(z,L.sibling),L=i(L,B.children||[]),L.return=z,z=L;break e}else{t(z,L);break}else e(z,L);L=L.sibling}L=zK(B,z.mode,P),L.return=z,z=L}return o(z)}if(typeof B=="string"||typeof B=="number")return B=""+B,L!==null&&L.tag===6?(t(z,L.sibling),L=i(L,B),L.return=z,z=L):(t(z,L),L=$K(B,z.mode,P),L.return=z,z=L),o(z);if(tI(B))return R(z,L,B,P);if(yA(B))return q(z,L,B,P);if(ue&&nI(z,B),typeof B=="undefined"&&!G)switch(z.tag){case 1:case 22:case 0:case 11:case 15:throw Error(oi(152,YE(z.type)||"Component"))}return t(z,L)}}var rI=Yde(!0),Kde=Yde(!1),zA={},h2=A3(zA),HA=A3(zA),VA=A3(zA);function __(n){if(n===zA)throw Error(oi(174));return n}function aK(n,e){switch(Dl(VA,e),Dl(HA,n),Dl(h2,zA),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hY(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=hY(e,n)}yu(h2),Dl(h2,e)}function m7(){yu(h2),yu(HA),yu(VA)}function Jde(n){__(VA.current);var e=__(h2.current),t=hY(e,n.type);e!==t&&(Dl(HA,n),Dl(h2,t))}function uK(n){HA.current===n&&(yu(h2),yu(HA))}var Ol=A3(0);function iI(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dg=null,R3=null,p2=!1;function Xde(n,e){var t=Np(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function Zde(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function lK(n){if(p2){var e=R3;if(e){var t=e;if(!Zde(n,e)){if(e=a7(t.nextSibling),!e||!Zde(n,e)){n.flags=n.flags&-1025|2,p2=!1,dg=n;return}Xde(dg,t)}dg=n,R3=a7(e.firstChild)}else n.flags=n.flags&-1025|2,p2=!1,dg=n}}function ehe(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;dg=n}function sI(n){if(n!==dg)return!1;if(!p2)return ehe(n),p2=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!QY(e,n.memoizedProps))for(e=R3;e;)Xde(n,e),e=a7(e.nextSibling);if(ehe(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(oi(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){R3=a7(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}R3=null}}else R3=dg?a7(n.stateNode.nextSibling):null;return!0}function cK(){R3=dg=null,p2=!1}var x7=[];function fK(){for(var n=0;n<x7.length;n++)x7[n]._workInProgressVersionPrimary=null;x7.length=0}var WA=d_.ReactCurrentDispatcher,Op=d_.ReactCurrentBatchConfig,QA=0,Ql=null,C0=null,Uf=null,oI=!1,GA=!1;function nh(){throw Error(oi(321))}function dK(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Fp(n[t],e[t]))return!1;return!0}function hK(n,e,t,r,i,s){if(QA=s,Ql=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,WA.current=n===null||n.memoizedState===null?iqe:sqe,n=t(r,i),GA){s=0;do{if(GA=!1,!(25>s))throw Error(oi(301));s+=1,Uf=C0=null,e.updateQueue=null,WA.current=oqe,n=t(r,i)}while(GA)}if(WA.current=cI,e=C0!==null&&C0.next!==null,QA=0,Uf=C0=Ql=null,oI=!1,e)throw Error(oi(300));return n}function b_(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Uf===null?Ql.memoizedState=Uf=n:Uf=Uf.next=n,Uf}function E_(){if(C0===null){var n=Ql.alternate;n=n!==null?n.memoizedState:null}else n=C0.next;var e=Uf===null?Ql.memoizedState:Uf.next;if(e!==null)Uf=e,C0=n;else{if(n===null)throw Error(oi(310));C0=n,n={memoizedState:C0.memoizedState,baseState:C0.baseState,baseQueue:C0.baseQueue,queue:C0.queue,next:null},Uf===null?Ql.memoizedState=Uf=n:Uf=Uf.next=n}return Uf}function m2(n,e){return typeof e=="function"?e(n):e}function YA(n){var e=E_(),t=e.queue;if(t===null)throw Error(oi(311));t.lastRenderedReducer=n;var r=C0,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var f=l.lane;if((QA&f)===f)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===n?l.eagerState:n(r,l.action);else{var p={lane:f,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=p,s=r):a=a.next=p,Ql.lanes|=f,ZA|=f}l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,Fp(r,e.memoizedState)||(sm=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function KA(n){var e=E_(),t=e.queue;if(t===null)throw Error(oi(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Fp(s,e.memoizedState)||(sm=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function the(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(QA&n)===n)&&(e._workInProgressVersionPrimary=r,x7.push(e))),n)return t(e._source);throw x7.push(e),Error(oi(350))}function nhe(n,e,t,r){var i=fd;if(i===null)throw Error(oi(349));var s=e._getVersion,o=s(e._source),a=WA.current,l=a.useState(function(){return the(i,e,t)}),f=l[1],p=l[0];l=Uf;var _=n.memoizedState,E=_.refs,O=E.getSnapshot,R=_.source;_=_.subscribe;var q=Ql;return n.memoizedState={refs:E,source:e,subscribe:r},a.useEffect(function(){E.getSnapshot=t,E.setSnapshot=f;var z=s(e._source);if(!Fp(o,z)){z=t(e._source),Fp(p,z)||(f(z),z=L3(q),i.mutableReadLanes|=z&i.pendingLanes),z=i.mutableReadLanes,i.entangledLanes|=z;for(var L=i.entanglements,B=z;0<B;){var P=31-S3(B),G=1<<P;L[P]|=z,B&=~G}}},[t,e,r]),a.useEffect(function(){return r(e._source,function(){var z=E.getSnapshot,L=E.setSnapshot;try{L(z(e._source));var B=L3(q);i.mutableReadLanes|=B&i.pendingLanes}catch(P){L(function(){throw P})}})},[e,r]),Fp(O,t)&&Fp(R,e)&&Fp(_,r)||(n={pending:null,dispatch:null,lastRenderedReducer:m2,lastRenderedState:p},n.dispatch=f=gK.bind(null,Ql,n),l.queue=n,l.baseQueue=null,p=the(i,e,t),l.memoizedState=l.baseState=p),p}function rhe(n,e,t){var r=E_();return nhe(r,n,e,t)}function JA(n){var e=b_();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:m2,lastRenderedState:n},n=n.dispatch=gK.bind(null,Ql,n),[e.memoizedState,n]}function aI(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ql.updateQueue,e===null?(e={lastEffect:null},Ql.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function ihe(n){var e=b_();return n={current:n},e.memoizedState=n}function uI(){return E_().memoizedState}function pK(n,e,t,r){var i=b_();Ql.flags|=n,i.memoizedState=aI(1|e,t,void 0,r===void 0?null:r)}function mK(n,e,t,r){var i=E_();r=r===void 0?null:r;var s=void 0;if(C0!==null){var o=C0.memoizedState;if(s=o.destroy,r!==null&&dK(r,o.deps)){aI(e,t,s,r);return}}Ql.flags|=n,i.memoizedState=aI(1|e,t,s,r)}function she(n,e){return pK(516,4,n,e)}function lI(n,e){return mK(516,4,n,e)}function ohe(n,e){return mK(4,2,n,e)}function ahe(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function uhe(n,e,t){return t=t!=null?t.concat([n]):null,mK(4,2,ahe.bind(null,e,n),t)}function xK(){}function lhe(n,e){var t=E_();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&dK(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function che(n,e){var t=E_();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&dK(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function rqe(n,e){var t=d7();v_(98>t?98:t,function(){n(!0)}),v_(97<t?97:t,function(){var r=Op.transition;Op.transition=1;try{n(!1),e()}finally{Op.transition=r}})}function gK(n,e,t){var r=qh(),i=L3(n),s={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=n.alternate,n===Ql||o!==null&&o===Ql)GA=oI=!0;else{if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,t);if(s.eagerReducer=o,s.eagerState=l,Fp(l,a))return}catch{}finally{}k3(n,i,r)}}var cI={readContext:Dp,useCallback:nh,useContext:nh,useEffect:nh,useImperativeHandle:nh,useLayoutEffect:nh,useMemo:nh,useReducer:nh,useRef:nh,useState:nh,useDebugValue:nh,useDeferredValue:nh,useTransition:nh,useMutableSource:nh,useOpaqueIdentifier:nh,unstable_isNewReconciler:!1},iqe={readContext:Dp,useCallback:function(n,e){return b_().memoizedState=[n,e===void 0?null:e],n},useContext:Dp,useEffect:she,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,pK(4,2,ahe.bind(null,e,n),t)},useLayoutEffect:function(n,e){return pK(4,2,n,e)},useMemo:function(n,e){var t=b_();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=b_();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=gK.bind(null,Ql,n),[r.memoizedState,n]},useRef:ihe,useState:JA,useDebugValue:xK,useDeferredValue:function(n){var e=JA(n),t=e[0],r=e[1];return she(function(){var i=Op.transition;Op.transition=1;try{r(n)}finally{Op.transition=i}},[n]),t},useTransition:function(){var n=JA(!1),e=n[0];return n=rqe.bind(null,n[1]),ihe(n),[n,e]},useMutableSource:function(n,e,t){var r=b_();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},nhe(r,n,e,t)},useOpaqueIdentifier:function(){if(p2){var n=!1,e=Jje(function(){throw n||(n=!0,t("r:"+(YY++).toString(36))),Error(oi(355))}),t=JA(e)[1];return(Ql.mode&2)===0&&(Ql.flags|=516,aI(5,function(){t("r:"+(YY++).toString(36))},void 0,null)),e}return e="r:"+(YY++).toString(36),JA(e),e},unstable_isNewReconciler:!1},sqe={readContext:Dp,useCallback:lhe,useContext:Dp,useEffect:lI,useImperativeHandle:uhe,useLayoutEffect:ohe,useMemo:che,useReducer:YA,useRef:uI,useState:function(){return YA(m2)},useDebugValue:xK,useDeferredValue:function(n){var e=YA(m2),t=e[0],r=e[1];return lI(function(){var i=Op.transition;Op.transition=1;try{r(n)}finally{Op.transition=i}},[n]),t},useTransition:function(){var n=YA(m2)[0];return[uI().current,n]},useMutableSource:rhe,useOpaqueIdentifier:function(){return YA(m2)[0]},unstable_isNewReconciler:!1},oqe={readContext:Dp,useCallback:lhe,useContext:Dp,useEffect:lI,useImperativeHandle:uhe,useLayoutEffect:ohe,useMemo:che,useReducer:KA,useRef:uI,useState:function(){return KA(m2)},useDebugValue:xK,useDeferredValue:function(n){var e=KA(m2),t=e[0],r=e[1];return lI(function(){var i=Op.transition;Op.transition=1;try{r(n)}finally{Op.transition=i}},[n]),t},useTransition:function(){var n=KA(m2)[0];return[uI().current,n]},useMutableSource:rhe,useOpaqueIdentifier:function(){return KA(m2)[0]},unstable_isNewReconciler:!1},aqe=d_.ReactCurrentOwner,sm=!1;function rh(n,e,t,r){e.child=n===null?Kde(e,null,t,r):rI(e,n.child,t,r)}function fhe(n,e,t,r,i){t=t.render;var s=e.ref;return p7(e,i),r=hK(n,e,t,r,s,i),n!==null&&!sm?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,hg(n,e,i)):(e.flags|=1,rh(n,e,r,i),e.child)}function dhe(n,e,t,r,i,s){if(n===null){var o=t.type;return typeof o=="function"&&!qK(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,hhe(n,e,o,r,i,s)):(n=_I(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}return o=n.child,(i&s)===0&&(i=o.memoizedProps,t=t.compare,t=t!==null?t:IA,t(i,r)&&n.ref===e.ref)?hg(n,e,s):(e.flags|=1,n=P3(o,r),n.ref=e.ref,n.return=e,e.child=n)}function hhe(n,e,t,r,i,s){if(n!==null&&IA(n.memoizedProps,r)&&n.ref===e.ref)if(sm=!1,(s&i)!==0)(n.flags&16384)!==0&&(sm=!0);else return e.lanes=n.lanes,hg(n,e,s);return vK(n,e,t,r,s)}function yK(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},vI(e,t);else if((t&1073741824)!==0)e.memoizedState={baseLanes:0},vI(e,s!==null?s.baseLanes:t);else return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},vI(e,n),null;else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,vI(e,r);return rh(n,e,i,t),e.child}function phe(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function vK(n,e,t,r,i){var s=th(t)?g_:S0.current;return s=f7(e,s),p7(e,i),t=hK(n,e,t,r,s,i),n!==null&&!sm?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,hg(n,e,i)):(e.flags|=1,rh(n,e,t,i),e.child)}function mhe(n,e,t,r,i){if(th(t)){var s=!0;Qk(e)}else s=!1;if(p7(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),Qde(e,t,r),oK(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,f=t.contextType;typeof f=="object"&&f!==null?f=Dp(f):(f=th(t)?g_:S0.current,f=f7(e,f));var p=t.getDerivedStateFromProps,_=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==f)&&Gde(e,o,r,f),F3=!1;var E=e.memoizedState;o.state=E,UA(e,r,o,i),l=e.memoizedState,a!==r||E!==l||eh.current||F3?(typeof p=="function"&&(Zk(e,t,p,r),l=e.memoizedState),(a=F3||Wde(e,t,a,r,E,l,f))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=f,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,$de(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:im(e.type,a),o.props=f,_=e.pendingProps,E=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Dp(l):(l=th(t)?g_:S0.current,l=f7(e,l));var O=t.getDerivedStateFromProps;(p=typeof O=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==_||E!==l)&&Gde(e,o,r,l),F3=!1,E=e.memoizedState,o.state=E,UA(e,r,o,i);var R=e.memoizedState;a!==_||E!==R||eh.current||F3?(typeof O=="function"&&(Zk(e,t,O,r),R=e.memoizedState),(f=F3||Wde(e,t,f,r,E,R,l))?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&E===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&E===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=l,r=f):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&E===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&E===n.memoizedState||(e.flags|=256),r=!1)}return _K(n,e,t,r,s,i)}function _K(n,e,t,r,i,s){phe(n,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Nde(e,t,!1),hg(n,e,s);r=e.stateNode,aqe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=rI(e,n.child,null,s),e.child=rI(e,null,a,s)):rh(n,e,a,s),e.memoizedState=r.state,i&&Nde(e,t,!0),e.child}function xhe(n){var e=n.stateNode;e.pendingContext?Ode(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Ode(n,e.context,!1),aK(n,e.containerInfo)}var fI={dehydrated:null,retryLane:0};function ghe(n,e,t){var r=e.pendingProps,i=Ol.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Dl(Ol,i&1),n===null?(r.fallback!==void 0&&lK(e),n=r.children,i=r.fallback,s?(n=yhe(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=fI,n):typeof r.unstable_expectedLoadTime=="number"?(n=yhe(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=fI,e.lanes=33554432,n):(t=UK({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?s?(r=_he(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=fI,r):(t=vhe(n,e,r.children,t),e.memoizedState=null,t):s?(r=_he(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=fI,r):(t=vhe(n,e,r.children,t),e.memoizedState=null,t)}function yhe(n,e,t,r){var i=n.mode,s=n.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=UK(e,i,0,null),t=E7(t,i,r,null),s.return=n,t.return=n,s.sibling=t,n.child=s,t}function vhe(n,e,t,r){var i=n.child;return n=i.sibling,t=P3(i,{mode:"visible",children:t}),(e.mode&2)===0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function _he(n,e,t,r,i){var s=e.mode,o=n.child;n=o.sibling;var a={mode:"hidden",children:t};return(s&2)===0&&e.child!==o?(t=e.child,t.childLanes=0,t.pendingProps=a,o=t.lastEffect,o!==null?(e.firstEffect=t.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):t=P3(o,a),n!==null?r=P3(n,r):(r=E7(r,s,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function bhe(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),Ude(n.return,e)}function bK(n,e,t,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i,o.lastEffect=s)}function Ehe(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rh(n,e,r.children,t),r=Ol.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bhe(n,t);else if(n.tag===19)bhe(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Dl(Ol,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&iI(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),bK(e,!1,i,t,s,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&iI(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}bK(e,!0,t,null,s,e.lastEffect);break;case"together":bK(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function hg(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ZA|=e.lanes,(t&e.childLanes)!==0){if(n!==null&&e.child!==n.child)throw Error(oi(153));if(e.child!==null){for(n=e.child,t=P3(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=P3(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var She,EK,whe,Che;She=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};EK=function(){};whe=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,__(h2.current);var s=null;switch(t){case"input":i=aY(n,i),r=aY(n,r),s=[];break;case"option":i=cY(n,i),r=cY(n,r),s=[];break;case"select":i=ju({},i,{value:void 0}),r=ju({},r,{value:void 0}),s=[];break;case"textarea":i=fY(n,i),r=fY(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=$k)}pY(t,r);var o;t=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(pA.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(a=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&l!==a&&(l!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(f,t)),t=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(pA.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&gu("scroll",n),s||a===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===nY?l.toString():(s=s||[]).push(f,l))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};Che=function(n,e,t,r){t!==r&&(e.flags|=4)};function XA(n,e){if(!p2)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function uqe(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return th(e.type)&&Wk(),null;case 3:return m7(),yu(eh),yu(S0),fK(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(sI(e)?e.flags|=4:r.hydrate||(e.flags|=256)),EK(e),null;case 5:uK(e);var i=__(VA.current);if(t=e.type,n!==null&&e.stateNode!=null)whe(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(oi(166));return null}if(n=__(h2.current),sI(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[C3]=e,r[Hk]=s,t){case"dialog":gu("cancel",r),gu("close",r);break;case"iframe":case"object":case"embed":gu("load",r);break;case"video":case"audio":for(n=0;n<PA.length;n++)gu(PA[n],r);break;case"source":gu("error",r);break;case"img":case"image":case"link":gu("error",r),gu("load",r);break;case"details":gu("toggle",r);break;case"input":g0e(r,s),gu("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gu("invalid",r);break;case"textarea":_0e(r,s),gu("invalid",r)}pY(t,s),n=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):pA.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&gu("scroll",r));switch(t){case"input":Ek(r),v0e(r,s,!0);break;case"textarea":Ek(r),E0e(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$k)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,n===dY.html&&(n=S0e(t)),n===dY.html?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[C3]=e,n[Hk]=r,She(n,e,!1,!1),e.stateNode=n,o=mY(t,r),t){case"dialog":gu("cancel",n),gu("close",n),i=r;break;case"iframe":case"object":case"embed":gu("load",n),i=r;break;case"video":case"audio":for(i=0;i<PA.length;i++)gu(PA[i],n);i=r;break;case"source":gu("error",n),i=r;break;case"img":case"image":case"link":gu("error",n),gu("load",n),i=r;break;case"details":gu("toggle",n),i=r;break;case"input":g0e(n,r),i=aY(n,r),gu("invalid",n);break;case"option":i=cY(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=ju({},r,{value:void 0}),gu("invalid",n);break;case"textarea":_0e(n,r),i=fY(n,r),gu("invalid",n);break;default:i=r}pY(t,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?A0e(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&w0e(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&_A(n,l):typeof l=="number"&&_A(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pA.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gu("scroll",n):l!=null&&KG(n,s,l,o))}switch(t){case"input":Ek(n),v0e(n,r,!1);break;case"textarea":Ek(n),E0e(n);break;case"option":r.value!=null&&n.setAttribute("value",""+v3(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?KE(n,!!r.multiple,s,!1):r.defaultValue!=null&&KE(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=$k)}Cde(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)Che(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oi(166));t=__(VA.current),__(h2.current),sI(e)?(r=e.stateNode,t=e.memoizedProps,r[C3]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[C3]=e,e.stateNode=r)}return null;case 13:return yu(Ol),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&sI(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!==0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Ol.current&1)!==0?$f===0&&($f=3):(($f===0||$f===3)&&($f=4),fd===null||(ZA&134217727)===0&&(y7&134217727)===0||_7(fd,A0))),(r||t)&&(e.flags|=4),null);case 4:return m7(),EK(e),n===null&&_de(e.stateNode.containerInfo),null;case 10:return iK(e),null;case 17:return th(e.type)&&Wk(),null;case 19:if(yu(Ol),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)XA(r,!1);else{if($f!==0||n!==null&&(n.flags&64)!==0)for(n=e.child;n!==null;){if(o=iI(n),o!==null){for(e.flags|=64,XA(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Dl(Ol,Ol.current&1|2),e.child}n=n.sibling}r.tail!==null&&w0()>LK&&(e.flags|=64,s=!0,XA(r,!1),e.lanes=33554432)}else{if(!s)if(n=iI(o),n!==null){if(e.flags|=64,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),XA(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!p2)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*w0()-r.renderingStartTime>LK&&t!==1073741824&&(e.flags|=64,s=!0,XA(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=w0(),t.sibling=null,e=Ol.current,Dl(Ol,s?e&1|2:e&1),t):null;case 23:case 24:return jK(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(oi(156,e.tag))}function lqe(n){switch(n.tag){case 1:th(n.type)&&Wk();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(m7(),yu(eh),yu(S0),fK(),e=n.flags,(e&64)!==0)throw Error(oi(285));return n.flags=e&-4097|64,n;case 5:return uK(n),null;case 13:return yu(Ol),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return yu(Ol),null;case 4:return m7(),null;case 10:return iK(n),null;case 23:case 24:return jK(),null;default:return null}}function SK(n,e){try{var t="",r=e;do t+=zBe(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i}}function wK(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var cqe=typeof WeakMap=="function"?WeakMap:Map;function Ahe(n,e,t){t=D3(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){pI||(pI=!0,kK=r),wK(n,e)},t}function The(n,e,t){t=D3(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return wK(n,e),r(i)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(x2===null?x2=new Set([this]):x2.add(this),wK(n,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}var fqe=typeof WeakSet=="function"?WeakSet:Set;function Fhe(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){M3(n,t)}else e.current=null}function dqe(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:im(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&GY(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(oi(163))}function hqe(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)===3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(zhe(t,n),bqe(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:im(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&Hde(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hde(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&Cde(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&$0e(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(oi(163))}function Dhe(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=C0e("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function Ohe(n,e){if(y_&&typeof y_.onCommitFiberUnmount=="function")try{y_.onCommitFiberUnmount(JY,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)zhe(e,t);else{r=e;try{i()}catch(s){M3(r,s)}}t=t.next}while(t!==n)}break;case 1:if(Fhe(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(s){M3(e,s)}break;case 5:Fhe(e);break;case 4:khe(n,e)}}function Rhe(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function Nhe(n){return n.tag===5||n.tag===3||n.tag===4}function Lhe(n){e:{for(var e=n.return;e!==null;){if(Nhe(e))break e;e=e.return}throw Error(oi(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(oi(161))}t.flags&16&&(_A(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||Nhe(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?CK(n,t,e):AK(n,t,e)}function CK(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=$k));else if(r!==4&&(n=n.child,n!==null))for(CK(n,e,t),n=n.sibling;n!==null;)CK(n,e,t),n=n.sibling}function AK(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(AK(n,e,t),n=n.sibling;n!==null;)AK(n,e,t),n=n.sibling}function khe(n,e){for(var t=e,r=!1,i,s;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(oi(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var o=n,a=t,l=a;;)if(Ohe(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,a=t.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,s=!0,t.child.return=t,t=t.child;continue}}else if(Ohe(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function TK(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)===3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(t[Hk]=r,n==="input"&&r.type==="radio"&&r.name!=null&&y0e(t,r),mY(n,i),e=mY(n,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?A0e(t,a):o==="dangerouslySetInnerHTML"?w0e(t,a):o==="children"?_A(t,a):KG(t,o,a,e)}switch(n){case"input":uY(t,r);break;case"textarea":b0e(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?KE(t,!!r.multiple,s,!1):n!==!!r.multiple&&(r.defaultValue!=null?KE(t,!!r.multiple,r.defaultValue,!0):KE(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(oi(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,$0e(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(NK=w0(),Dhe(e.child,!0)),Ihe(e);return;case 19:Ihe(e);return;case 17:return;case 23:case 24:Dhe(e,e.memoizedState!==null);return}throw Error(oi(163))}function Ihe(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new fqe),e.forEach(function(r){var i=wqe.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function pqe(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var mqe=Math.ceil,dI=d_.ReactCurrentDispatcher,FK=d_.ReactCurrentOwner,qs=0,fd=null,Uc=null,A0=0,S_=0,DK=A3(0),$f=0,hI=null,g7=0,ZA=0,y7=0,OK=0,RK=null,NK=0,LK=1/0;function v7(){LK=w0()+500}var Vi=null,pI=!1,kK=null,x2=null,N3=!1,eT=null,tT=90,IK=[],MK=[],pg=null,nT=0,PK=null,mI=-1,mg=0,xI=0,rT=null,gI=!1;function qh(){return(qs&48)!==0?w0():mI!==-1?mI:mI=w0()}function L3(n){if(n=n.mode,(n&2)===0)return 1;if((n&4)===0)return d7()===99?1:2;if(mg===0&&(mg=g7),nqe.transition!==0){xI!==0&&(xI=RK!==null?RK.pendingLanes:0),n=mg;var e=4186112&~xI;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=d7(),(qs&4)!==0&&n===98?n=Ok(12,mg):(n=sje(n),n=Ok(n,mg)),n}function k3(n,e,t){if(50<nT)throw nT=0,PK=null,Error(oi(185));if(n=yI(n,e),n===null)return null;Rk(n,e,t),n===fd&&(y7|=e,$f===4&&_7(n,A0));var r=d7();e===1?(qs&8)!==0&&(qs&48)===0?BK(n):(Rp(n,t),qs===0&&(v7(),d2())):((qs&4)===0||r!==98&&r!==99||(pg===null?pg=new Set([n]):pg.add(n)),Rp(n,t)),RK=n}function yI(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Rp(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-S3(o),l=1<<a,f=s[a];if(f===-1){if((l&r)===0||(l&i)!==0){f=e,t7(l);var p=tu;s[a]=10<=p?f+250:6<=p?f+5e3:-1}}else f<=e&&(n.expiredLanes|=l);o&=~l}if(r=DA(n,n===fd?A0:0),e=tu,r===0)t!==null&&(t!==tK&&ZY(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==tK&&ZY(t)}e===15?(t=BK.bind(null,n),fg===null?(fg=[t],Yk=XY(Gk,qde)):fg.push(t),t=tK):e===14?t=qA(99,BK.bind(null,n)):(t=oje(e),t=qA(t,Mhe.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function Mhe(n){if(mI=-1,xI=mg=0,(qs&48)!==0)throw Error(oi(327));var e=n.callbackNode;if(I3()&&n.callbackNode!==e)return null;var t=DA(n,n===fd?A0:0);if(t===0)return null;var r=t,i=qs;qs|=16;var s=qhe();(fd!==n||A0!==r)&&(v7(),b7(n,r));do try{yqe();break}catch(a){jhe(n,a)}while(1);if(rK(),dI.current=s,qs=i,Uc!==null?r=0:(fd=null,A0=0,r=$f),(g7&y7)!==0)b7(n,0);else if(r!==0){if(r===2&&(qs|=64,n.hydrate&&(n.hydrate=!1,GY(n.containerInfo)),t=Y0e(n),t!==0&&(r=iT(n,t))),r===1)throw e=hI,b7(n,0),_7(n,t),Rp(n,w0()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(oi(345));case 2:w_(n);break;case 3:if(_7(n,t),(t&62914560)===t&&(r=NK+500-w0(),10<r)){if(DA(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){qh(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Ade(w_.bind(null,n),r);break}w_(n);break;case 4:if(_7(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var o=31-S3(t);s=1<<o,o=r[o],o>i&&(i=o),t&=~s}if(t=i,t=w0()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*mqe(t/1960))-t,10<t){n.timeoutHandle=Ade(w_.bind(null,n),t);break}w_(n);break;case 5:w_(n);break;default:throw Error(oi(329))}}return Rp(n,w0()),n.callbackNode===e?Mhe.bind(null,n):null}function _7(n,e){for(e&=~OK,e&=~y7,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-S3(e),r=1<<t;n[t]=-1,e&=~r}}function BK(n){if((qs&48)!==0)throw Error(oi(327));if(I3(),n===fd&&(n.expiredLanes&A0)!==0){var e=A0,t=iT(n,e);(g7&y7)!==0&&(e=DA(n,e),t=iT(n,e))}else e=DA(n,0),t=iT(n,e);if(n.tag!==0&&t===2&&(qs|=64,n.hydrate&&(n.hydrate=!1,GY(n.containerInfo)),e=Y0e(n),e!==0&&(t=iT(n,e))),t===1)throw t=hI,b7(n,0),_7(n,e),Rp(n,w0()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,w_(n),Rp(n,w0()),null}function xqe(){if(pg!==null){var n=pg;pg=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Rp(e,w0())})}d2()}function Phe(n,e){var t=qs;qs|=1;try{return n(e)}finally{qs=t,qs===0&&(v7(),d2())}}function Bhe(n,e){var t=qs;qs&=-2,qs|=8;try{return n(e)}finally{qs=t,qs===0&&(v7(),d2())}}function vI(n,e){Dl(DK,S_),S_|=e,g7|=e}function jK(){S_=DK.current,yu(DK)}function b7(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Kje(t)),Uc!==null)for(t=Uc.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wk();break;case 3:m7(),yu(eh),yu(S0),fK();break;case 5:uK(r);break;case 4:m7();break;case 13:yu(Ol);break;case 19:yu(Ol);break;case 10:iK(r);break;case 23:case 24:jK()}t=t.return}fd=n,Uc=P3(n.current,null),A0=S_=g7=e,$f=0,hI=null,OK=y7=ZA=0}function jhe(n,e){do{var t=Uc;try{if(rK(),WA.current=cI,oI){for(var r=Ql.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oI=!1}if(QA=0,Uf=C0=Ql=null,GA=!1,FK.current=null,t===null||t.return===null){$f=1,hI=e,Uc=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=A0,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l;if((a.mode&2)===0){var p=a.alternate;p?(a.updateQueue=p.updateQueue,a.memoizedState=p.memoizedState,a.lanes=p.lanes):(a.updateQueue=null,a.memoizedState=null)}var _=(Ol.current&1)!==0,E=o;do{var O;if(O=E.tag===13){var R=E.memoizedState;if(R!==null)O=R.dehydrated!==null;else{var q=E.memoizedProps;O=q.fallback===void 0?!1:q.unstable_avoidThisFallback!==!0?!0:!_}}if(O){var z=E.updateQueue;if(z===null){var L=new Set;L.add(f),E.updateQueue=L}else z.add(f);if((E.mode&2)===0){if(E.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var B=D3(-1,1);B.tag=2,O3(a,B)}a.lanes|=1;break e}l=void 0,a=e;var P=s.pingCache;if(P===null?(P=s.pingCache=new cqe,l=new Set,P.set(f,l)):(l=P.get(f),l===void 0&&(l=new Set,P.set(f,l))),!l.has(a)){l.add(a);var G=Sqe.bind(null,s,f,a);f.then(G,G)}E.flags|=4096,E.lanes=e;break e}E=E.return}while(E!==null);l=Error((YE(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}$f!==5&&($f=2),l=SK(l,a),E=o;do{switch(E.tag){case 3:s=l,E.flags|=4096,e&=-e,E.lanes|=e;var ue=Ahe(E,s,e);zde(E,ue);break e;case 1:s=l;var I=E.type,J=E.stateNode;if((E.flags&64)===0&&(typeof I.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(x2===null||!x2.has(J)))){E.flags|=4096,e&=-e,E.lanes|=e;var he=The(E,s,e);zde(E,he);break e}}E=E.return}while(E!==null)}$he(t)}catch(ve){e=ve,Uc===t&&t!==null&&(Uc=t=t.return);continue}break}while(1)}function qhe(){var n=dI.current;return dI.current=cI,n===null?cI:n}function iT(n,e){var t=qs;qs|=16;var r=qhe();fd===n&&A0===e||b7(n,e);do try{gqe();break}catch(i){jhe(n,i)}while(1);if(rK(),qs=t,dI.current=r,Uc!==null)throw Error(oi(261));return fd=null,A0=0,$f}function gqe(){for(;Uc!==null;)Uhe(Uc)}function yqe(){for(;Uc!==null&&!Zje();)Uhe(Uc)}function Uhe(n){var e=Vhe(n.alternate,n,S_);n.memoizedProps=n.pendingProps,e===null?$he(n):Uc=e,FK.current=null}function $he(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)===0){if(t=uqe(t,e,S_),t!==null){Uc=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(S_&1073741824)!==0||(t.mode&4)===0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)===0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=lqe(e),t!==null){t.flags&=2047,Uc=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){Uc=e;return}Uc=e=n}while(e!==null);$f===0&&($f=5)}function w_(n){var e=d7();return v_(99,vqe.bind(null,n,e)),null}function vqe(n,e){do I3();while(eT!==null);if((qs&48)!==0)throw Error(oi(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(oi(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,s=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var o=n.eventTimes,a=n.expirationTimes;0<s;){var l=31-S3(s),f=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~f}if(pg!==null&&(r&24)===0&&pg.has(n)&&pg.delete(n),n===fd&&(Uc=fd=null,A0=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=qs,qs|=32,FK.current=null,VY=Nk,o=pde(),UY(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(f=a.getSelection&&a.getSelection())&&f.rangeCount!==0){a=f.anchorNode,s=f.anchorOffset,l=f.focusNode,f=f.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var p=0,_=-1,E=-1,O=0,R=0,q=o,z=null;t:for(;;){for(var L;q!==a||s!==0&&q.nodeType!==3||(_=p+s),q!==l||f!==0&&q.nodeType!==3||(E=p+f),q.nodeType===3&&(p+=q.nodeValue.length),(L=q.firstChild)!==null;)z=q,q=L;for(;;){if(q===o)break t;if(z===a&&++O===s&&(_=p),z===l&&++R===f&&(E=p),(L=q.nextSibling)!==null)break;q=z,z=q.parentNode}q=L}a=_===-1||E===-1?null:{start:_,end:E}}else a=null;a=a||{start:0,end:0}}else a=null;WY={focusedElem:o,selectionRange:a},Nk=!1,rT=null,gI=!1,Vi=r;do try{_qe()}catch(ve){if(Vi===null)throw Error(oi(330));M3(Vi,ve),Vi=Vi.nextEffect}while(Vi!==null);rT=null,Vi=r;do try{for(o=n;Vi!==null;){var B=Vi.flags;if(B&16&&_A(Vi.stateNode,""),B&128){var P=Vi.alternate;if(P!==null){var G=P.ref;G!==null&&(typeof G=="function"?G(null):G.current=null)}}switch(B&1038){case 2:Lhe(Vi),Vi.flags&=-3;break;case 6:Lhe(Vi),Vi.flags&=-3,TK(Vi.alternate,Vi);break;case 1024:Vi.flags&=-1025;break;case 1028:Vi.flags&=-1025,TK(Vi.alternate,Vi);break;case 4:TK(Vi.alternate,Vi);break;case 8:a=Vi,khe(o,a);var ue=a.alternate;Rhe(a),ue!==null&&Rhe(ue)}Vi=Vi.nextEffect}}catch(ve){if(Vi===null)throw Error(oi(330));M3(Vi,ve),Vi=Vi.nextEffect}while(Vi!==null);if(G=WY,P=pde(),B=G.focusedElem,o=G.selectionRange,P!==B&&B&&B.ownerDocument&&hde(B.ownerDocument.documentElement,B)){for(o!==null&&UY(B)&&(P=o.start,G=o.end,G===void 0&&(G=P),"selectionStart"in B?(B.selectionStart=P,B.selectionEnd=Math.min(G,B.value.length)):(G=(P=B.ownerDocument||document)&&P.defaultView||window,G.getSelection&&(G=G.getSelection(),a=B.textContent.length,ue=Math.min(o.start,a),o=o.end===void 0?ue:Math.min(o.end,a),!G.extend&&ue>o&&(a=o,o=ue,ue=a),a=dde(B,ue),s=dde(B,o),a&&s&&(G.rangeCount!==1||G.anchorNode!==a.node||G.anchorOffset!==a.offset||G.focusNode!==s.node||G.focusOffset!==s.offset)&&(P=P.createRange(),P.setStart(a.node,a.offset),G.removeAllRanges(),ue>o?(G.addRange(P),G.extend(s.node,s.offset)):(P.setEnd(s.node,s.offset),G.addRange(P)))))),P=[],G=B;G=G.parentNode;)G.nodeType===1&&P.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<P.length;B++)G=P[B],G.element.scrollLeft=G.left,G.element.scrollTop=G.top}Nk=!!VY,WY=VY=null,n.current=t,Vi=r;do try{for(B=n;Vi!==null;){var I=Vi.flags;if(I&36&&hqe(B,Vi.alternate,Vi),I&128){P=void 0;var J=Vi.ref;if(J!==null){var he=Vi.stateNode;switch(Vi.tag){case 5:P=he;break;default:P=he}typeof J=="function"?J(P):J.current=P}}Vi=Vi.nextEffect}}catch(ve){if(Vi===null)throw Error(oi(330));M3(Vi,ve),Vi=Vi.nextEffect}while(Vi!==null);Vi=null,tqe(),qs=i}else n.current=t;if(N3)N3=!1,eT=n,tT=e;else for(Vi=r;Vi!==null;)e=Vi.nextEffect,Vi.nextEffect=null,Vi.flags&8&&(I=Vi,I.sibling=null,I.stateNode=null),Vi=e;if(r=n.pendingLanes,r===0&&(x2=null),r===1?n===PK?nT++:(nT=0,PK=n):nT=0,t=t.stateNode,y_&&typeof y_.onCommitFiberRoot=="function")try{y_.onCommitFiberRoot(JY,t,void 0,(t.current.flags&64)===64)}catch{}if(Rp(n,w0()),pI)throw pI=!1,n=kK,kK=null,n;return(qs&8)!==0||d2(),null}function _qe(){for(;Vi!==null;){var n=Vi.alternate;gI||rT===null||((Vi.flags&8)!==0?I0e(Vi,rT)&&(gI=!0):Vi.tag===13&&pqe(n,Vi)&&I0e(Vi,rT)&&(gI=!0));var e=Vi.flags;(e&256)!==0&&dqe(n,Vi),(e&512)===0||N3||(N3=!0,qA(97,function(){return I3(),null})),Vi=Vi.nextEffect}}function I3(){if(tT!==90){var n=97<tT?97:tT;return tT=90,v_(n,Eqe)}return!1}function bqe(n,e){IK.push(e,n),N3||(N3=!0,qA(97,function(){return I3(),null}))}function zhe(n,e){MK.push(e,n),N3||(N3=!0,qA(97,function(){return I3(),null}))}function Eqe(){if(eT===null)return!1;var n=eT;if(eT=null,(qs&48)!==0)throw Error(oi(331));var e=qs;qs|=32;var t=MK;MK=[];for(var r=0;r<t.length;r+=2){var i=t[r],s=t[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(oi(330));M3(s,l)}}for(t=IK,IK=[],r=0;r<t.length;r+=2){i=t[r],s=t[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(s===null)throw Error(oi(330));M3(s,l)}}for(a=n.current.firstEffect;a!==null;)n=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=n;return qs=e,d2(),!0}function Hhe(n,e,t){e=SK(t,e),e=Ahe(n,e,1),O3(n,e),e=qh(),n=yI(n,1),n!==null&&(Rk(n,1,e),Rp(n,e))}function M3(n,e){if(n.tag===3)Hhe(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){Hhe(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(x2===null||!x2.has(r))){n=SK(e,n);var i=The(t,n,1);if(O3(t,i),i=qh(),t=yI(t,1),t!==null)Rk(t,1,i),Rp(t,i);else if(typeof r.componentDidCatch=="function"&&(x2===null||!x2.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function Sqe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=qh(),n.pingedLanes|=n.suspendedLanes&t,fd===n&&(A0&t)===t&&($f===4||$f===3&&(A0&62914560)===A0&&500>w0()-NK?b7(n,0):OK|=t),Rp(n,e)}function wqe(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)===0?e=1:(e&4)===0?e=d7()===99?1:2:(mg===0&&(mg=g7),e=n7(62914560&~mg),e===0&&(e=4194304))),t=qh(),n=yI(n,e),n!==null&&(Rk(n,e,t),Rp(n,t))}var Vhe;Vhe=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||eh.current)sm=!0;else if((t&r)!==0)sm=(n.flags&16384)!==0;else{switch(sm=!1,e.tag){case 3:xhe(e),cK();break;case 5:Jde(e);break;case 1:th(e.type)&&Qk(e);break;case 4:aK(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Dl(Kk,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!==0?ghe(n,e,t):(Dl(Ol,Ol.current&1),e=hg(n,e,t),e!==null?e.sibling:null);Dl(Ol,Ol.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&64)!==0){if(r)return Ehe(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dl(Ol,Ol.current),r)break;return null;case 23:case 24:return e.lanes=0,yK(n,e,t)}return hg(n,e,t)}else sm=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=f7(e,S0.current),p7(e,t),i=hK(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,th(r)){var s=!0;Qk(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sK(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&Zk(e,r,o,n),i.updater=eI,e.stateNode=i,i._reactInternals=e,oK(e,r,n,t),e=_K(null,e,r,!0,s,t)}else e.tag=0,rh(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Aqe(i),n=im(i,n),s){case 0:e=vK(null,e,i,n,t);break e;case 1:e=mhe(null,e,i,n,t);break e;case 11:e=fhe(null,e,i,n,t);break e;case 14:e=dhe(null,e,i,im(i.type,n),r,t);break e}throw Error(oi(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:im(r,i),vK(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:im(r,i),mhe(n,e,r,i,t);case 3:if(xhe(e),r=e.updateQueue,n===null||r===null)throw Error(oi(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,$de(n,e),UA(e,r,null,t),r=e.memoizedState.element,r===i)cK(),e=hg(n,e,t);else{if(i=e.stateNode,(s=i.hydrate)&&(R3=a7(e.stateNode.containerInfo.firstChild),dg=e,s=p2=!0),s){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)s=n[i],s._workInProgressVersionPrimary=n[i+1],x7.push(s);for(t=Kde(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else rh(n,e,r,t),cK();e=e.child}return e;case 5:return Jde(e),n===null&&lK(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,QY(r,i)?o=null:s!==null&&QY(r,s)&&(e.flags|=16),phe(n,e),rh(n,e,o,t),e.child;case 6:return n===null&&lK(e),null;case 13:return ghe(n,e,t);case 4:return aK(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=rI(e,null,r,t):rh(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:im(r,i),fhe(n,e,r,i,t);case 7:return rh(n,e,e.pendingProps,t),e.child;case 8:return rh(n,e,e.pendingProps.children,t),e.child;case 12:return rh(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(Dl(Kk,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Fp(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!eh.current){e=hg(n,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var f=l.firstContext;f!==null;){if(f.context===r&&(f.observedBits&s)!==0){a.tag===1&&(f=D3(-1,t&-t),f.tag=2,O3(a,f)),a.lanes|=t,f=a.alternate,f!==null&&(f.lanes|=t),Ude(a.return,t),l.lanes|=t;break}f=f.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}rh(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,p7(e,t),i=Dp(i,s.unstable_observedBits),r=r(i),e.flags|=1,rh(n,e,r,t),e.child;case 14:return i=e.type,s=im(i,e.pendingProps),s=im(i.type,s),dhe(n,e,i,s,r,t);case 15:return hhe(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:im(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,th(r)?(n=!0,Qk(e)):n=!1,p7(e,t),Qde(e,r,i),oK(e,r,i,t),_K(null,e,r,!0,n,t);case 19:return Ehe(n,e,t);case 23:return yK(n,e,t);case 24:return yK(n,e,t)}throw Error(oi(156,e.tag))};function Cqe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Np(n,e,t,r){return new Cqe(n,e,t,r)}function qK(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Aqe(n){if(typeof n=="function")return qK(n)?1:0;if(n!=null){if(n=n.$$typeof,n===yk)return 11;if(n===_k)return 14}return 2}function P3(n,e){var t=n.alternate;return t===null?(t=Np(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function _I(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")qK(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case y3:return E7(t.children,i,s,e);case h0e:o=8,i|=16;break;case JG:o=8,i|=1;break;case xA:return n=Np(12,t,e,i|8),n.elementType=xA,n.type=xA,n.lanes=s,n;case gA:return n=Np(13,t,e,i),n.type=gA,n.elementType=gA,n.lanes=s,n;case vk:return n=Np(19,t,e,i),n.elementType=vk,n.lanes=s,n;case rY:return UK(t,i,s,e);case iY:return n=Np(24,t,e,i),n.elementType=iY,n.lanes=s,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case XG:o=10;break e;case ZG:o=9;break e;case yk:o=11;break e;case _k:o=14;break e;case eY:o=16,r=null;break e;case tY:o=22;break e}throw Error(oi(130,n==null?n:typeof n,""))}return e=Np(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function E7(n,e,t,r){return n=Np(7,n,r,e),n.lanes=t,n}function UK(n,e,t,r){return n=Np(23,n,r,e),n.elementType=rY,n.lanes=t,n}function $K(n,e,t){return n=Np(6,n,null,e),n.lanes=t,n}function zK(n,e,t){return e=Np(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Tqe(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=OY(0),this.expirationTimes=OY(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=OY(0),this.mutableSourceEagerHydrationData=null}function Fqe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h_,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function bI(n,e,t,r){var i=e.current,s=qh(),o=L3(i);e:if(t){t=t._reactInternals;t:{if(m_(t)!==t||t.tag!==1)throw Error(oi(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(th(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(oi(171))}if(t.tag===1){var l=t.type;if(th(l)){t=Rde(t,l,a);break e}}t=a}else t=T3;return e.context===null?e.context=t:e.pendingContext=t,e=D3(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),O3(i,e),k3(i,o,s),o}function HK(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Whe(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function VK(n,e){Whe(n,e),(n=n.alternate)&&Whe(n,e)}function Dqe(){return null}function WK(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new Tqe(n,e,t!=null&&t.hydrate===!0),e=Np(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,sK(e),n[u7]=t.current,_de(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}WK.prototype.render=function(n){bI(n,this._internalRoot,null,null)};WK.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;bI(null,n,null,function(){e[u7]=null})};function sT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Oqe(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new WK(n,0,e?{hydrate:!0}:void 0)}function EI(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var f=HK(o);a.call(f)}}bI(e,o,n,i)}else{if(s=t._reactRootContainer=Oqe(t,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var f=HK(o);l.call(f)}}Bhe(function(){bI(e,o,n,i)})}return HK(o)}M0e=function(n){if(n.tag===13){var e=qh();k3(n,4,e),VK(n,4)}};wY=function(n){if(n.tag===13){var e=qh();k3(n,67108864,e),VK(n,67108864)}};P0e=function(n){if(n.tag===13){var e=qh(),t=L3(n);k3(n,t,e),VK(n,t)}};B0e=function(n,e){return e()};gY=function(n,e,t){switch(e){case"input":if(uY(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Vk(r);if(!i)throw Error(oi(90));x0e(r),uY(r,i)}}}break;case"textarea":b0e(n,t);break;case"select":e=t.value,e!=null&&KE(n,!!t.multiple,e,!1)}};yY=Phe;O0e=function(n,e,t,r,i){var s=qs;qs|=4;try{return v_(98,n.bind(null,e,t,r,i))}finally{qs=s,qs===0&&(v7(),d2())}};vY=function(){(qs&49)===0&&(xqe(),I3())};R0e=function(n,e){var t=qs;qs|=2;try{return n(e)}finally{qs=t,qs===0&&(v7(),d2())}};function Qhe(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sT(e))throw Error(oi(200));return Fqe(n,e,null,t)}var Rqe={Events:[jA,l7,Vk,F0e,D0e,I3,{current:!1}]},oT={findFiberByHostInstance:x_,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Nqe={bundleType:oT.bundleType,version:oT.version,rendererPackageName:oT.rendererPackageName,rendererConfig:oT.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d_.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=k0e(n),n===null?null:n.stateNode},findFiberByHostInstance:oT.findFiberByHostInstance||Dqe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(aT=__REACT_DEVTOOLS_GLOBAL_HOOK__,!aT.isDisabled&&aT.supportsFiber))try{JY=aT.inject(Nqe),y_=aT}catch{}var aT;Lp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rqe;Lp.createPortal=Qhe;Lp.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(oi(188)):Error(oi(268,Object.keys(n)));return n=k0e(e),n=n===null?null:n.stateNode,n};Lp.flushSync=function(n,e){var t=qs;if((t&48)!==0)return n(e);qs|=1;try{if(n)return v_(99,n.bind(null,e))}finally{qs=t,d2()}};Lp.hydrate=function(n,e,t){if(!sT(e))throw Error(oi(200));return EI(null,n,e,!0,t)};Lp.render=function(n,e,t){if(!sT(e))throw Error(oi(200));return EI(null,n,e,!1,t)};Lp.unmountComponentAtNode=function(n){if(!sT(n))throw Error(oi(40));return n._reactRootContainer?(Bhe(function(){EI(null,null,n,!1,function(){n._reactRootContainer=null,n[u7]=null})}),!0):!1};Lp.unstable_batchedUpdates=Phe;Lp.unstable_createPortal=function(n,e){return Qhe(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Lp.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!sT(t))throw Error(oi(200));if(n==null||n._reactInternals===void 0)throw Error(oi(38));return EI(n,e,t,!1,r)};Lp.version="17.0.2"});var SI=Ae((mbt,Khe)=>{"use strict";m();function Yhe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yhe)}catch(n){console.error(n)}}Yhe(),Khe.exports=Ghe()});var spe={};DG(spe,{getCLS:()=>Lqe,getFCP:()=>epe,getFID:()=>Mqe,getLCP:()=>Pqe,getTTFB:()=>Bqe});var B3,uT,Jhe,wI,xg,CI,AI,lT,j3,cT,Xhe,Zhe,QK,epe,tpe,GK,Lqe,fT,kqe,npe,rpe,Iqe,ipe,Mqe,YK,Pqe,Bqe,ope=FG(()=>{m();xg=function(n,e){return{name:n,value:e===void 0?-1:e,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},CI=function(n,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if(n==="first-input"&&!("PerformanceEventTiming"in self))return;var t=new PerformanceObserver(function(r){return r.getEntries().map(e)});return t.observe({type:n,buffered:!0}),t}}catch{}},AI=function(n,e){var t=function r(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||(n(i),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},lT=function(n){addEventListener("pageshow",function(e){e.persisted&&n(e)},!0)},j3=function(n,e,t){var r;return function(i){e.value>=0&&(i||t)&&(e.delta=e.value-(r||0),(e.delta||r===void 0)&&(r=e.value,n(e)))}},cT=-1,Xhe=function(){return document.visibilityState==="hidden"?0:1/0},Zhe=function(){AI(function(n){var e=n.timeStamp;cT=e},!0)},QK=function(){return cT<0&&(cT=Xhe(),Zhe(),lT(function(){setTimeout(function(){cT=Xhe(),Zhe()},0)})),{get firstHiddenTime(){return cT}}},epe=function(n,e){var t,r=QK(),i=xg("FCP"),s=function(l){l.name==="first-contentful-paint"&&(a&&a.disconnect(),l.startTime<r.firstHiddenTime&&(i.value=l.startTime,i.entries.push(l),t(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=o?null:CI("paint",s);(o||a)&&(t=j3(n,i,e),o&&s(o),lT(function(l){i=xg("FCP"),t=j3(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-l.timeStamp,t(!0)})})}))},tpe=!1,GK=-1,Lqe=function(n,e){tpe||(epe(function(f){GK=f.value}),tpe=!0);var t,r=function(f){GK>-1&&n(f)},i=xg("CLS",0),s=0,o=[],a=function(f){if(!f.hadRecentInput){var p=o[0],_=o[o.length-1];s&&f.startTime-_.startTime<1e3&&f.startTime-p.startTime<5e3?(s+=f.value,o.push(f)):(s=f.value,o=[f]),s>i.value&&(i.value=s,i.entries=o,t())}},l=CI("layout-shift",a);l&&(t=j3(r,i,e),AI(function(){l.takeRecords().map(a),t(!0)}),lT(function(){s=0,GK=-1,i=xg("CLS",0),t=j3(r,i,e)}))},fT={passive:!0,capture:!0},kqe=new Date,npe=function(n,e){B3||(B3=e,uT=n,Jhe=new Date,ipe(removeEventListener),rpe())},rpe=function(){if(uT>=0&&uT<Jhe-kqe){var n={entryType:"first-input",name:B3.type,target:B3.target,cancelable:B3.cancelable,startTime:B3.timeStamp,processingStart:B3.timeStamp+uT};wI.forEach(function(e){e(n)}),wI=[]}},Iqe=function(n){if(n.cancelable){var e=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(t,r){var i=function(){npe(t,r),o()},s=function(){o()},o=function(){removeEventListener("pointerup",i,fT),removeEventListener("pointercancel",s,fT)};addEventListener("pointerup",i,fT),addEventListener("pointercancel",s,fT)}(e,n):npe(e,n)}},ipe=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return n(e,Iqe,fT)})},Mqe=function(n,e){var t,r=QK(),i=xg("FID"),s=function(a){a.startTime<r.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),t(!0))},o=CI("first-input",s);t=j3(n,i,e),o&&AI(function(){o.takeRecords().map(s),o.disconnect()},!0),o&&lT(function(){var a;i=xg("FID"),t=j3(n,i,e),wI=[],uT=-1,B3=null,ipe(addEventListener),a=s,wI.push(a),rpe()})},YK={},Pqe=function(n,e){var t,r=QK(),i=xg("LCP"),s=function(l){var f=l.startTime;f<r.firstHiddenTime&&(i.value=f,i.entries.push(l),t())},o=CI("largest-contentful-paint",s);if(o){t=j3(n,i,e);var a=function(){YK[i.id]||(o.takeRecords().map(s),o.disconnect(),YK[i.id]=!0,t(!0))};["keydown","click"].forEach(function(l){addEventListener(l,a,{once:!0,capture:!0})}),AI(a,!0),lT(function(l){i=xg("LCP"),t=j3(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-l.timeStamp,YK[i.id]=!0,t(!0)})})})}},Bqe=function(n){var e,t=xg("TTFB");e=function(){try{var r=performance.getEntriesByType("navigation")[0]||function(){var i=performance.timing,s={entryType:"navigation",startTime:0};for(var o in i)o!=="navigationStart"&&o!=="toJSON"&&(s[o]=Math.max(i[o]-i.navigationStart,0));return s}();if(t.value=t.delta=r.responseStart,t.value<0||t.value>performance.now())return;t.entries=[r],n(t)}catch{}},document.readyState==="complete"?setTimeout(e,0):addEventListener("load",function(){return setTimeout(e,0)})}});var x1e=Ae(Aa=>{"use strict";m();var CJ=Symbol.for("react.element"),AJ=Symbol.for("react.portal"),PI=Symbol.for("react.fragment"),BI=Symbol.for("react.strict_mode"),jI=Symbol.for("react.profiler"),qI=Symbol.for("react.provider"),UI=Symbol.for("react.context"),r$e=Symbol.for("react.server_context"),$I=Symbol.for("react.forward_ref"),zI=Symbol.for("react.suspense"),HI=Symbol.for("react.suspense_list"),VI=Symbol.for("react.memo"),WI=Symbol.for("react.lazy"),i$e=Symbol.for("react.offscreen"),m1e;m1e=Symbol.for("react.module.reference");function Ip(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case CJ:switch(n=n.type,n){case PI:case jI:case BI:case zI:case HI:return n;default:switch(n=n&&n.$$typeof,n){case r$e:case UI:case $I:case WI:case VI:case qI:return n;default:return e}}case AJ:return e}}}Aa.ContextConsumer=UI;Aa.ContextProvider=qI;Aa.Element=CJ;Aa.ForwardRef=$I;Aa.Fragment=PI;Aa.Lazy=WI;Aa.Memo=VI;Aa.Portal=AJ;Aa.Profiler=jI;Aa.StrictMode=BI;Aa.Suspense=zI;Aa.SuspenseList=HI;Aa.isAsyncMode=function(){return!1};Aa.isConcurrentMode=function(){return!1};Aa.isContextConsumer=function(n){return Ip(n)===UI};Aa.isContextProvider=function(n){return Ip(n)===qI};Aa.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===CJ};Aa.isForwardRef=function(n){return Ip(n)===$I};Aa.isFragment=function(n){return Ip(n)===PI};Aa.isLazy=function(n){return Ip(n)===WI};Aa.isMemo=function(n){return Ip(n)===VI};Aa.isPortal=function(n){return Ip(n)===AJ};Aa.isProfiler=function(n){return Ip(n)===jI};Aa.isStrictMode=function(n){return Ip(n)===BI};Aa.isSuspense=function(n){return Ip(n)===zI};Aa.isSuspenseList=function(n){return Ip(n)===HI};Aa.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===PI||n===jI||n===BI||n===zI||n===HI||n===i$e||typeof n=="object"&&n!==null&&(n.$$typeof===WI||n.$$typeof===VI||n.$$typeof===qI||n.$$typeof===UI||n.$$typeof===$I||n.$$typeof===m1e||n.getModuleId!==void 0)};Aa.typeOf=Ip});var y1e=Ae((t8t,g1e)=>{"use strict";m();g1e.exports=x1e()});var _1e=Ae((n8t,v1e)=>{m();v1e.exports=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),f=0;f<o.length;f++){var p=o[f];if(!l(p))return!1;var _=e[p],E=t[p];if(s=r?r.call(i,_,E,p):void 0,s===!1||s===void 0&&_!==E)return!1}return!0}});var S1e=Ae(TJ=>{"use strict";m();Object.defineProperty(TJ,"__esModule",{value:!0});function a$e(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}TJ.default=a$e});var C1e=Ae((o8t,w1e)=>{"use strict";m();w1e.exports=S1e()});var A1e=Ae(FJ=>{"use strict";m();Object.defineProperty(FJ,"__esModule",{value:!0});var u$e=C1e();function l$e(n){return n&&n.__esModule?n:{default:n}}var c$e=l$e(u$e),f$e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d$e=c$e.default(function(n){return f$e.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});FJ.default=d$e});var F1e=Ae((u8t,T1e)=>{"use strict";m();T1e.exports=A1e()});var O1e=Ae(Ta=>{"use strict";m();var mf=typeof Symbol=="function"&&Symbol.for,DJ=mf?Symbol.for("react.element"):60103,OJ=mf?Symbol.for("react.portal"):60106,QI=mf?Symbol.for("react.fragment"):60107,GI=mf?Symbol.for("react.strict_mode"):60108,YI=mf?Symbol.for("react.profiler"):60114,KI=mf?Symbol.for("react.provider"):60109,JI=mf?Symbol.for("react.context"):60110,RJ=mf?Symbol.for("react.async_mode"):60111,XI=mf?Symbol.for("react.concurrent_mode"):60111,ZI=mf?Symbol.for("react.forward_ref"):60112,eM=mf?Symbol.for("react.suspense"):60113,h$e=mf?Symbol.for("react.suspense_list"):60120,tM=mf?Symbol.for("react.memo"):60115,nM=mf?Symbol.for("react.lazy"):60116,p$e=mf?Symbol.for("react.block"):60121,m$e=mf?Symbol.for("react.fundamental"):60117,x$e=mf?Symbol.for("react.responder"):60118,g$e=mf?Symbol.for("react.scope"):60119;function zh(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case DJ:switch(n=n.type,n){case RJ:case XI:case QI:case YI:case GI:case eM:return n;default:switch(n=n&&n.$$typeof,n){case JI:case ZI:case nM:case tM:case KI:return n;default:return e}}case OJ:return e}}}function D1e(n){return zh(n)===XI}Ta.AsyncMode=RJ;Ta.ConcurrentMode=XI;Ta.ContextConsumer=JI;Ta.ContextProvider=KI;Ta.Element=DJ;Ta.ForwardRef=ZI;Ta.Fragment=QI;Ta.Lazy=nM;Ta.Memo=tM;Ta.Portal=OJ;Ta.Profiler=YI;Ta.StrictMode=GI;Ta.Suspense=eM;Ta.isAsyncMode=function(n){return D1e(n)||zh(n)===RJ};Ta.isConcurrentMode=D1e;Ta.isContextConsumer=function(n){return zh(n)===JI};Ta.isContextProvider=function(n){return zh(n)===KI};Ta.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===DJ};Ta.isForwardRef=function(n){return zh(n)===ZI};Ta.isFragment=function(n){return zh(n)===QI};Ta.isLazy=function(n){return zh(n)===nM};Ta.isMemo=function(n){return zh(n)===tM};Ta.isPortal=function(n){return zh(n)===OJ};Ta.isProfiler=function(n){return zh(n)===YI};Ta.isStrictMode=function(n){return zh(n)===GI};Ta.isSuspense=function(n){return zh(n)===eM};Ta.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===QI||n===XI||n===YI||n===GI||n===eM||n===h$e||typeof n=="object"&&n!==null&&(n.$$typeof===nM||n.$$typeof===tM||n.$$typeof===KI||n.$$typeof===JI||n.$$typeof===ZI||n.$$typeof===m$e||n.$$typeof===x$e||n.$$typeof===g$e||n.$$typeof===p$e)};Ta.typeOf=zh});var N1e=Ae((c8t,R1e)=>{"use strict";m();R1e.exports=O1e()});var j1e=Ae((f8t,B1e)=>{"use strict";m();var NJ=N1e(),y$e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},v$e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_$e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},L1e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},LJ={};LJ[NJ.ForwardRef]=_$e;LJ[NJ.Memo]=L1e;function k1e(n){return NJ.isMemo(n)?L1e:LJ[n.$$typeof]||y$e}var b$e=Object.defineProperty,E$e=Object.getOwnPropertyNames,I1e=Object.getOwnPropertySymbols,S$e=Object.getOwnPropertyDescriptor,w$e=Object.getPrototypeOf,M1e=Object.prototype;function P1e(n,e,t){if(typeof e!="string"){if(M1e){var r=w$e(e);r&&r!==M1e&&P1e(n,r,t)}var i=E$e(e);I1e&&(i=i.concat(I1e(e)));for(var s=k1e(n),o=k1e(e),a=0;a<i.length;++a){var l=i[a];if(!v$e[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var f=S$e(e,l);try{b$e(n,l,f)}catch{}}}}return n}B1e.exports=P1e});var ame=Ae((LT,QJ)=>{m();(function(n,e){typeof LT=="object"&&typeof QJ=="object"?QJ.exports=e():typeof define=="function"&&define.amd?define([],e):typeof LT=="object"?LT.onig=e():n.onig=e()})(LT,function(){return n={770:function(t,r,i){"use strict";var s=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(r,"__esModule",{value:!0}),r.setDefaultDebugCall=r.createOnigScanner=r.createOnigString=r.loadWASM=r.OnigScanner=r.OnigString=void 0;let o=s(i(418)),a=null,l=!1;class f{constructor(q){let z=q.length,L=f._utf8ByteLength(q),B=L!==z,P=B?new Uint32Array(z+1):null;B&&(P[z]=L);let G=B?new Uint32Array(L+1):null;B&&(G[L]=z);let ue=new Uint8Array(L),I=0;for(let J=0;J<z;J++){let he=q.charCodeAt(J),ve=he,Ve=!1;if(he>=55296&&he<=56319&&J+1<z){let ot=q.charCodeAt(J+1);ot>=56320&&ot<=57343&&(ve=65536+(he-55296<<10)|ot-56320,Ve=!0)}B&&(P[J]=I,Ve&&(P[J+1]=I),ve<=127?G[I+0]=J:ve<=2047?(G[I+0]=J,G[I+1]=J):ve<=65535?(G[I+0]=J,G[I+1]=J,G[I+2]=J):(G[I+0]=J,G[I+1]=J,G[I+2]=J,G[I+3]=J)),ve<=127?ue[I++]=ve:ve<=2047?(ue[I++]=192|(1984&ve)>>>6,ue[I++]=128|(63&ve)>>>0):ve<=65535?(ue[I++]=224|(61440&ve)>>>12,ue[I++]=128|(4032&ve)>>>6,ue[I++]=128|(63&ve)>>>0):(ue[I++]=240|(1835008&ve)>>>18,ue[I++]=128|(258048&ve)>>>12,ue[I++]=128|(4032&ve)>>>6,ue[I++]=128|(63&ve)>>>0),Ve&&J++}this.utf16Length=z,this.utf8Length=L,this.utf16Value=q,this.utf8Value=ue,this.utf16OffsetToUtf8=P,this.utf8OffsetToUtf16=G}static _utf8ByteLength(q){let z=0;for(let L=0,B=q.length;L<B;L++){let P=q.charCodeAt(L),G=P,ue=!1;if(P>=55296&&P<=56319&&L+1<B){let I=q.charCodeAt(L+1);I>=56320&&I<=57343&&(G=65536+(P-55296<<10)|I-56320,ue=!0)}z+=G<=127?1:G<=2047?2:G<=65535?3:4,ue&&L++}return z}createString(q){let z=q._omalloc(this.utf8Length);return q.HEAPU8.set(this.utf8Value,z),z}}class p{constructor(q){if(this.id=++p.LAST_ID,!a)throw new Error("Must invoke loadWASM first.");this._onigBinding=a,this.content=q;let z=new f(q);this.utf16Length=z.utf16Length,this.utf8Length=z.utf8Length,this.utf16OffsetToUtf8=z.utf16OffsetToUtf8,this.utf8OffsetToUtf16=z.utf8OffsetToUtf16,this.utf8Length<1e4&&!p._sharedPtrInUse?(p._sharedPtr||(p._sharedPtr=a._omalloc(1e4)),p._sharedPtrInUse=!0,a.HEAPU8.set(z.utf8Value,p._sharedPtr),this.ptr=p._sharedPtr):this.ptr=z.createString(a)}convertUtf8OffsetToUtf16(q){return this.utf8OffsetToUtf16?q<0?0:q>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[q]:q}convertUtf16OffsetToUtf8(q){return this.utf16OffsetToUtf8?q<0?0:q>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[q]:q}dispose(){this.ptr===p._sharedPtr?p._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}r.OnigString=p,p.LAST_ID=0,p._sharedPtr=0,p._sharedPtrInUse=!1;class _{constructor(q){if(!a)throw new Error("Must invoke loadWASM first.");let z=[],L=[];for(let ue=0,I=q.length;ue<I;ue++){let J=new f(q[ue]);z[ue]=J.createString(a),L[ue]=J.utf8Length}let B=a._omalloc(4*q.length);a.HEAPU32.set(z,B/4);let P=a._omalloc(4*q.length);a.HEAPU32.set(L,P/4);let G=a._createOnigScanner(B,P,q.length);for(let ue=0,I=q.length;ue<I;ue++)a._ofree(z[ue]);a._ofree(P),a._ofree(B),G===0&&function(ue){throw new Error(ue.UTF8ToString(ue._getLastOnigError()))}(a),this._onigBinding=a,this._ptr=G}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(q,z,L){let B=l,P=0;if(typeof L=="number"?(8&L&&(B=!0),P=L):typeof L=="boolean"&&(B=L),typeof q=="string"){q=new p(q);let G=this._findNextMatchSync(q,z,B,P);return q.dispose(),G}return this._findNextMatchSync(q,z,B,P)}_findNextMatchSync(q,z,L,B){let P=this._onigBinding,G;if(G=L?P._findNextOnigScannerMatchDbg(this._ptr,q.id,q.ptr,q.utf8Length,q.convertUtf16OffsetToUtf8(z),B):P._findNextOnigScannerMatch(this._ptr,q.id,q.ptr,q.utf8Length,q.convertUtf16OffsetToUtf8(z),B),G===0)return null;let ue=P.HEAPU32,I=G/4,J=ue[I++],he=ue[I++],ve=[];for(let Ve=0;Ve<he;Ve++){let ot=q.convertUtf8OffsetToUtf16(ue[I++]),lt=q.convertUtf8OffsetToUtf16(ue[I++]);ve[Ve]={start:ot,end:lt,length:lt-ot}}return{index:J,captureIndices:ve}}}r.OnigScanner=_;let E=!1,O=null;r.loadWASM=function(R){if(E)return O;let q,z,L,B;if(E=!0,function(P){return typeof P.instantiator=="function"}(R))q=R.instantiator,z=R.print;else{let P;(function(G){return G.data!==void 0})(R)?(P=R.data,z=R.print):P=R,q=function(G){return typeof Response!="undefined"&&G instanceof Response}(P)?typeof WebAssembly.instantiateStreaming=="function"?function(G){return ue=>WebAssembly.instantiateStreaming(G,ue)}(P):function(G){return async ue=>{let I=await G.arrayBuffer();return WebAssembly.instantiate(I,ue)}}(P):function(G){return ue=>WebAssembly.instantiate(G,ue)}(P)}return O=new Promise((P,G)=>{L=P,B=G}),function(P,G,ue,I){o.default({print:G,instantiateWasm:(J,he)=>{if(typeof performance=="undefined"){let ve=()=>Date.now();J.env.emscripten_get_now=ve,J.wasi_snapshot_preview1.emscripten_get_now=ve}return P(J).then(ve=>he(ve.instance),I),{}}}).then(J=>{a=J,ue()})}(q,z,L,B),O},r.createOnigString=function(R){return new p(R)},r.createOnigScanner=function(R){return new _(R)},r.setDefaultDebugCall=function(R){l=R}},418:t=>{var r=(typeof document!="undefined"&&document.currentScript&&document.currentScript.src,function(i){var s,o,a=(i=i||{})!==void 0?i:{};a.ready=new Promise(function(Re,He){s=Re,o=He});var l,f={};for(l in a)a.hasOwnProperty(l)&&(f[l]=a[l]);var p,_=[],E=!1,O=!1,R=!0,q="";function z(Re){return a.locateFile?a.locateFile(Re,q):q+Re}R&&(p=function(Re){var He;return typeof readbuffer=="function"?new Uint8Array(readbuffer(Re)):(J(typeof(He=read(Re,"binary"))=="object"),He)},typeof scriptArgs!="undefined"?_=scriptArgs:arguments!==void 0&&(_=arguments),typeof onig_print!="undefined"&&(typeof console=="undefined"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr!="undefined"?printErr:onig_print));var L=a.print||console.log.bind(console),B=a.printErr||console.warn.bind(console);for(l in f)f.hasOwnProperty(l)&&(a[l]=f[l]);f=null,a.arguments&&(_=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;var P,G,ue=function(Re){};a.wasmBinary&&(P=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&_e("no native wasm support detected");var I=!1;function J(Re,He){Re||_e("Assertion failed: "+He)}var he,ve,Ve,ot=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function lt(Re,He,De){for(var Bt=He+De,pt=He;Re[pt]&&!(pt>=Bt);)++pt;if(pt-He>16&&Re.subarray&&ot)return ot.decode(Re.subarray(He,pt));for(var mt="";He<pt;){var nn=Re[He++];if(128&nn){var Qt=63&Re[He++];if((224&nn)!=192){var Fn=63&Re[He++];if((nn=(240&nn)==224?(15&nn)<<12|Qt<<6|Fn:(7&nn)<<18|Qt<<12|Fn<<6|63&Re[He++])<65536)mt+=String.fromCharCode(nn);else{var Wn=nn-65536;mt+=String.fromCharCode(55296|Wn>>10,56320|1023&Wn)}}else mt+=String.fromCharCode((31&nn)<<6|Qt)}else mt+=String.fromCharCode(nn)}return mt}function et(Re,He){return Re?lt(ve,Re,He):""}function bt(Re,He){return Re%He>0&&(Re+=He-Re%He),Re}function Pt(Re){he=Re,a.HEAP8=new Int8Array(Re),a.HEAP16=new Int16Array(Re),a.HEAP32=Ve=new Int32Array(Re),a.HEAPU8=ve=new Uint8Array(Re),a.HEAPU16=new Uint16Array(Re),a.HEAPU32=new Uint32Array(Re),a.HEAPF32=new Float32Array(Re),a.HEAPF64=new Float64Array(Re)}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le"),a.INITIAL_MEMORY;var $e,te=[],Ze=[],ye=[],Le=[];function Ce(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Ht(a.preRun.shift());_t(te)}function pe(){_t(Ze)}function Je(){_t(ye)}function ut(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Ct(a.postRun.shift());_t(Le)}function Ht(Re){te.unshift(Re)}function Ct(Re){Le.unshift(Re)}Ze.push({func:function(){tr()}});var xn=0,Tt=null,Ot=null;function rn(Re){xn++,a.monitorRunDependencies&&a.monitorRunDependencies(xn)}function St(Re){if(xn--,a.monitorRunDependencies&&a.monitorRunDependencies(xn),xn==0&&(Tt!==null&&(clearInterval(Tt),Tt=null),Ot)){var He=Ot;Ot=null,He()}}function _e(Re){a.onAbort&&a.onAbort(Re),B(Re+=""),I=!0,Re="abort("+Re+"). Build with -s ASSERTIONS=1 for more info.";var He=new WebAssembly.RuntimeError(Re);throw o(He),He}function ke(Re,He){return String.prototype.startsWith?Re.startsWith(He):Re.indexOf(He)===0}a.preloadedImages={},a.preloadedAudios={};var Se="data:application/octet-stream;base64,";function ce(Re){return ke(Re,Se)}var tt,Ie="onig.wasm";function re(Re){try{if(Re==Ie&&P)return new Uint8Array(P);if(p)return p(Re);throw"both async and sync fetching of the wasm failed"}catch(He){_e(He)}}function Ne(){return P||!E&&!O||typeof fetch!="function"?Promise.resolve().then(function(){return re(Ie)}):fetch(Ie,{credentials:"same-origin"}).then(function(Re){if(!Re.ok)throw"failed to load wasm binary file at '"+Ie+"'";return Re.arrayBuffer()}).catch(function(){return re(Ie)})}function ct(){var Re={env:Mn,wasi_snapshot_preview1:Mn};function He(pt,mt){var nn=pt.exports;a.asm=nn,Pt((G=a.asm.memory).buffer),$e=a.asm.__indirect_function_table,St()}function De(pt){He(pt.instance)}function Bt(pt){return Ne().then(function(mt){return WebAssembly.instantiate(mt,Re)}).then(pt,function(mt){B("failed to asynchronously prepare wasm: "+mt),_e(mt)})}if(rn(),a.instantiateWasm)try{return a.instantiateWasm(Re,He)}catch(pt){return B("Module.instantiateWasm callback failed with error: "+pt),!1}return(P||typeof WebAssembly.instantiateStreaming!="function"||ce(Ie)||typeof fetch!="function"?Bt(De):fetch(Ie,{credentials:"same-origin"}).then(function(pt){return WebAssembly.instantiateStreaming(pt,Re).then(De,function(mt){return B("wasm streaming compile failed: "+mt),B("falling back to ArrayBuffer instantiation"),Bt(De)})})).catch(o),{}}function _t(Re){for(;Re.length>0;){var He=Re.shift();if(typeof He!="function"){var De=He.func;typeof De=="number"?He.arg===void 0?$e.get(De)():$e.get(De)(He.arg):De(He.arg===void 0?null:He.arg)}else He(a)}}function Lt(Re,He,De){ve.copyWithin(Re,He,He+De)}function Yt(){return ve.length}function Gt(Re){try{return G.grow(Re-he.byteLength+65535>>>16),Pt(G.buffer),1}catch{}}function fn(Re){var He=Yt(),De=2147483648;if(Re>De)return!1;for(var Bt=1;Bt<=4;Bt*=2){var pt=He*(1+.2/Bt);if(pt=Math.min(pt,Re+100663296),Gt(Math.min(De,bt(Math.max(Re,pt),65536))))return!0}return!1}ce(Ie)||(Ie=z(Ie)),tt=typeof dateNow!="undefined"?dateNow:function(){return performance.now()};var gn={mappings:{},buffers:[null,[],[]],printChar:function(Re,He){var De=gn.buffers[Re];He===0||He===10?((Re===1?L:B)(lt(De,0)),De.length=0):De.push(He)},varargs:void 0,get:function(){return gn.varargs+=4,Ve[gn.varargs-4>>2]},getStr:function(Re){return et(Re)},get64:function(Re,He){return Re}};function yn(Re,He,De,Bt){for(var pt=0,mt=0;mt<De;mt++){for(var nn=Ve[He+8*mt>>2],Qt=Ve[He+(8*mt+4)>>2],Fn=0;Fn<Qt;Fn++)gn.printChar(Re,ve[nn+Fn]);pt+=Qt}return Ve[Bt>>2]=pt,0}function It(Re){ue(0|Re)}var un,Mn={emscripten_get_now:tt,emscripten_memcpy_big:Lt,emscripten_resize_heap:fn,fd_write:yn,setTempRet0:It},tr=(ct(),a.___wasm_call_ctors=function(){return(tr=a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)});function Rn(Re){function He(){un||(un=!0,a.calledRun=!0,I||(pe(),Je(),s(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),ut()))}Re=Re||_,xn>0||(Ce(),xn>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),He()},1)):He()))}if(a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a._omalloc=function(){return(a._omalloc=a.asm.omalloc).apply(null,arguments)},a._ofree=function(){return(a._ofree=a.asm.ofree).apply(null,arguments)},a._getLastOnigError=function(){return(a._getLastOnigError=a.asm.getLastOnigError).apply(null,arguments)},a._createOnigScanner=function(){return(a._createOnigScanner=a.asm.createOnigScanner).apply(null,arguments)},a._freeOnigScanner=function(){return(a._freeOnigScanner=a.asm.freeOnigScanner).apply(null,arguments)},a._findNextOnigScannerMatch=function(){return(a._findNextOnigScannerMatch=a.asm.findNextOnigScannerMatch).apply(null,arguments)},a._findNextOnigScannerMatchDbg=function(){return(a._findNextOnigScannerMatchDbg=a.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.dynCall_jiji).apply(null,arguments)},a.UTF8ToString=et,Ot=function Re(){un||Rn(),un||(Ot=Re)},a.run=Rn,a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Rn(),i.ready});t.exports=r}},e={},function t(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={exports:{}};return n[r].call(s.exports,s,s.exports,t),s.exports}(770);var n,e})});var ume=Ae((kT,GJ)=>{m();(function(n,e){typeof kT=="object"&&typeof GJ=="object"?GJ.exports=e():typeof define=="function"&&define.amd?define([],e):typeof kT=="object"?kT.vscodetextmate=e():n.vscodetextmate=e()})(kT,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,s){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},t.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)t.d(s,o,function(a){return r[a]}.bind(null,o));return s},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(1),i=t(5),s=t(6),o=t(2),a=typeof performance=="undefined"?function(){return Date.now()}:function(){return performance.now()};e.createGrammar=function($e,te,Ze,ye,Le,Ce){return new P($e,te,Ze,ye,Le,Ce)};var l=function($e){this.scopeName=$e};e.FullScopeDependency=l;var f=function(){function $e(te,Ze){this.scopeName=te,this.include=Ze}return $e.prototype.toKey=function(){return this.scopeName+"#"+this.include},$e}();e.PartialScopeDependency=f;var p=function(){function $e(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return $e.prototype.add=function(te){te instanceof l?this._seenFull.has(te.scopeName)||(this._seenFull.add(te.scopeName),this.full.push(te)):this._seenPartial.has(te.toKey())||(this._seenPartial.add(te.toKey()),this.partial.push(te))},$e}();function _($e,te,Ze,ye,Le){for(var Ce=0,pe=ye;Ce<pe.length;Ce++){var Je=pe[Ce];if(!$e.visitedRule.has(Je)){$e.visitedRule.add(Je);var ut=Je.repository?r.mergeObjects({},Le,Je.repository):Le;Array.isArray(Je.patterns)&&_($e,te,Ze,Je.patterns,ut);var Ht=Je.include;if(Ht)if(Ht==="$base"||Ht===te.scopeName)O($e,te,te);else if(Ht==="$self"||Ht===Ze.scopeName)O($e,te,Ze);else if(Ht.charAt(0)==="#")E($e,te,Ze,Ht.substring(1),ut);else{var Ct=Ht.indexOf("#");if(Ct>=0){var xn=Ht.substring(0,Ct),Tt=Ht.substring(Ct+1);xn===te.scopeName?E($e,te,te,Tt,ut):xn===Ze.scopeName?E($e,te,Ze,Tt,ut):$e.add(new f(xn,Ht.substring(Ct+1)))}else $e.add(new l(Ht))}}}}function E($e,te,Ze,ye,Le){Le===void 0&&(Le=Ze.repository),Le&&Le[ye]&&_($e,te,Ze,[Le[ye]],Le)}function O($e,te,Ze){if(Ze.patterns&&Array.isArray(Ze.patterns)&&_($e,te,Ze,Ze.patterns,Ze.repository),Ze.injections){var ye=[];for(var Le in Ze.injections)ye.push(Ze.injections[Le]);_($e,te,Ze,ye,Ze.repository)}}function R($e,te){if(!$e)return!1;if($e===te)return!0;var Ze=te.length;return $e.length>Ze&&$e.substr(0,Ze)===te&&$e[Ze]==="."}function q($e,te){if(te.length<$e.length)return!1;var Ze=0;return $e.every(function(ye){for(var Le=Ze;Le<te.length;Le++)if(R(te[Le],ye))return Ze=Le+1,!0;return!1})}function z($e,te,Ze,ye,Le){for(var Ce=s.createMatchers(te,q),pe=i.RuleFactory.getCompiledRuleId(Ze,ye,Le.repository),Je=0,ut=Ce;Je<ut.length;Je++){var Ht=ut[Je];$e.push({matcher:Ht.matcher,ruleId:pe,grammar:Le,priority:Ht.priority})}}e.ScopeDependencyCollector=p,e.collectSpecificDependencies=E,e.collectDependencies=O;var L=function($e,te,Ze,ye){this.scopeName=$e,this.languageId=te,this.tokenType=Ze,this.themeData=ye};e.ScopeMetadata=L;var B=function(){function $e(te,Ze,ye){if(this._initialLanguage=te,this._themeProvider=Ze,this._cache=new Map,this._defaultMetaData=new L("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),ye)for(var Le=Object.keys(ye),Ce=0,pe=Le.length;Ce<pe;Ce++){var Je=Le[Ce],ut=ye[Je];typeof ut=="number"&&ut!==0?this._embeddedLanguages[Je]=ut:console.warn("Invalid embedded language found at scope "+Je+": <<"+ut+">>")}var Ht=Object.keys(this._embeddedLanguages).map(function(Ct){return $e._escapeRegExpCharacters(Ct)});Ht.length===0?this._embeddedLanguagesRegex=null:(Ht.sort(),Ht.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+Ht.join(")|(")+"))($|\\.)",""))}return $e.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new L("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},$e.prototype.getDefaultMetadata=function(){return this._defaultMetaData},$e._escapeRegExpCharacters=function(te){return te.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},$e.prototype.getMetadataForScope=function(te){if(te===null)return $e._NULL_SCOPE_METADATA;var Ze=this._cache.get(te);return Ze||(Ze=this._doGetMetadataForScope(te),this._cache.set(te,Ze),Ze)},$e.prototype._doGetMetadataForScope=function(te){var Ze=this._scopeToLanguage(te),ye=this._toStandardTokenType(te),Le=this._themeProvider.themeMatch(te);return new L(te,Ze,ye,Le)},$e.prototype._scopeToLanguage=function(te){if(!te||!this._embeddedLanguagesRegex)return 0;var Ze=te.match(this._embeddedLanguagesRegex);if(!Ze)return 0;var ye=this._embeddedLanguages[Ze[1]]||0;return ye||0},$e.prototype._toStandardTokenType=function(te){var Ze=te.match($e.STANDARD_TOKEN_TYPE_REGEXP);if(!Ze)return 0;switch(Ze[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},$e._NULL_SCOPE_METADATA=new L("",0,0,null),$e.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,$e}(),P=function(){function $e(te,Ze,ye,Le,Ce,pe){if(this._scopeMetadataProvider=new B(Ze,Ce,ye),this._onigLib=pe,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=Ce,this._grammar=ue(te,null),this._injections=null,this._tokenTypeMatchers=[],Le)for(var Je=0,ut=Object.keys(Le);Je<ut.length;Je++)for(var Ht=ut[Je],Ct=0,xn=s.createMatchers(Ht,q);Ct<xn.length;Ct++){var Tt=xn[Ct];this._tokenTypeMatchers.push({matcher:Tt.matcher,type:Le[Ht]})}}return $e.prototype.dispose=function(){for(var te=0,Ze=this._ruleId2desc;te<Ze.length;te++){var ye=Ze[te];ye&&ye.dispose()}},$e.prototype.createOnigScanner=function(te){return this._onigLib.createOnigScanner(te)},$e.prototype.createOnigString=function(te){return this._onigLib.createOnigString(te)},$e.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},$e.prototype.getMetadataForScope=function(te){return this._scopeMetadataProvider.getMetadataForScope(te)},$e.prototype.getInjections=function(){var te=this;if(this._injections===null){this._injections=[];var Ze=this._grammar.injections;if(Ze)for(var ye in Ze)z(this._injections,ye,Ze[ye],this,this._grammar);if(this._grammarRepository){var Le=this._grammarRepository.injections(this._grammar.scopeName);Le&&Le.forEach(function(Ce){var pe=te.getExternalGrammar(Ce);if(pe){var Je=pe.injectionSelector;Je&&z(te._injections,Je,pe,te,pe)}})}this._injections.sort(function(Ce,pe){return Ce.priority-pe.priority})}return this._injections},$e.prototype.registerRule=function(te){var Ze=++this._lastRuleId,ye=te(Ze);return this._ruleId2desc[Ze]=ye,ye},$e.prototype.getRule=function(te){return this._ruleId2desc[te]},$e.prototype.getExternalGrammar=function(te,Ze){if(this._includedGrammars[te])return this._includedGrammars[te];if(this._grammarRepository){var ye=this._grammarRepository.lookup(te);if(ye)return this._includedGrammars[te]=ue(ye,Ze&&Ze.$base),this._includedGrammars[te]}return null},$e.prototype.tokenizeLine=function(te,Ze){var ye=this._tokenize(te,Ze,!1);return{tokens:ye.lineTokens.getResult(ye.ruleStack,ye.lineLength),ruleStack:ye.ruleStack}},$e.prototype.tokenizeLine2=function(te,Ze){var ye=this._tokenize(te,Ze,!0);return{tokens:ye.lineTokens.getBinaryResult(ye.ruleStack,ye.lineLength),ruleStack:ye.ruleStack}},$e.prototype._tokenize=function(te,Ze,ye){var Le;if(this._rootId===-1&&(this._rootId=i.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),Ze&&Ze!==lt.NULL)Le=!1,Ze.reset();else{Le=!0;var Ce=this._scopeMetadataProvider.getDefaultMetadata(),pe=Ce.themeData[0],Je=Ve.set(0,Ce.languageId,Ce.tokenType,pe.fontStyle,pe.foreground,pe.background),ut=this.getRule(this._rootId).getName(null,null),Ht=this._scopeMetadataProvider.getMetadataForScope(ut),Ct=ot.mergeMetadata(Je,null,Ht),xn=new ot(null,ut===null?"unknown":ut,Ct);Ze=new lt(null,this._rootId,-1,-1,!1,null,xn,xn)}te+=`
`;var Tt=this.createOnigString(te),Ot=Tt.content.length,rn=new bt(ye,te,this._tokenTypeMatchers),St=ve(this,Tt,Le,0,Ze,rn,!0);return G(Tt),{lineLength:Ot,lineTokens:rn,ruleStack:St}},$e}();function G($e){typeof $e.dispose=="function"&&$e.dispose()}function ue($e,te){return($e=r.clone($e)).repository=$e.repository||{},$e.repository.$self={$vscodeTextmateLocation:$e.$vscodeTextmateLocation,patterns:$e.patterns,name:$e.scopeName},$e.repository.$base=te||$e.repository.$self,$e}function I($e,te,Ze,ye,Le,Ce,pe){if(Ce.length!==0){for(var Je=te.content,ut=Math.min(Ce.length,pe.length),Ht=[],Ct=pe[0].end,xn=0;xn<ut;xn++){var Tt=Ce[xn];if(Tt!==null){var Ot=pe[xn];if(Ot.length!==0){if(Ot.start>Ct)break;for(;Ht.length>0&&Ht[Ht.length-1].endPos<=Ot.start;)Le.produceFromScopes(Ht[Ht.length-1].scopes,Ht[Ht.length-1].endPos),Ht.pop();if(Ht.length>0?Le.produceFromScopes(Ht[Ht.length-1].scopes,Ot.start):Le.produce(ye,Ot.start),Tt.retokenizeCapturedWithRuleId){var rn=Tt.getName(Je,pe),St=ye.contentNameScopesList.push($e,rn),_e=Tt.getContentName(Je,pe),ke=St.push($e,_e),Se=ye.push(Tt.retokenizeCapturedWithRuleId,Ot.start,-1,!1,null,St,ke),ce=$e.createOnigString(Je.substring(0,Ot.end));ve($e,ce,Ze&&Ot.start===0,Ot.start,Se,Le,!1),G(ce)}else{var tt=Tt.getName(Je,pe);if(tt!==null){var Ie=(Ht.length>0?Ht[Ht.length-1].scopes:ye.contentNameScopesList).push($e,tt);Ht.push(new et(Ie,Ot.end))}}}}}for(;Ht.length>0;)Le.produceFromScopes(Ht[Ht.length-1].scopes,Ht[Ht.length-1].endPos),Ht.pop()}}function J($e){for(var te=[],Ze=0,ye=$e.rules.length;Ze<ye;Ze++)te.push("   - "+$e.rules[Ze]+": "+$e.debugRegExps[Ze]);return te.join(`
`)}function he($e,te,Ze,ye,Le,Ce){var pe=function(xn,Tt,Ot,rn,St,_e){var ke=St.getRule(xn),Se=ke.compile(xn,St.endRule,Ot,rn===_e),ce=0;o.DebugFlags.InDebugMode&&(ce=a());var tt=Se.scanner.findNextMatchSync(Tt,rn);if(o.DebugFlags.InDebugMode){var Ie=a()-ce;Ie>5&&console.warn("Rule "+ke.debugName+" ("+ke.id+") matching took "+Ie+" against '"+Tt+"'"),tt&&console.log("matched rule id: "+Se.rules[tt.index]+" from "+tt.captureIndices[0].start+" to "+tt.captureIndices[0].end)}return tt?{captureIndices:tt.captureIndices,matchedRuleId:Se.rules[tt.index]}:null}($e,te,Ze,ye,Le,Ce),Je=$e.getInjections();if(Je.length===0)return pe;var ut=function(xn,Tt,Ot,rn,St,_e,ke){for(var Se,ce=Number.MAX_VALUE,tt=null,Ie=0,re=_e.contentNameScopesList.generateScopes(),Ne=0,ct=xn.length;Ne<ct;Ne++){var _t=xn[Ne];if(_t.matcher(re)){var Lt=Tt.getRule(_t.ruleId).compile(Tt,null,rn,St===ke),Yt=Lt.scanner.findNextMatchSync(Ot,St);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(J(Lt))),Yt){var Gt=Yt.captureIndices[0].start;if(!(Gt>=ce)&&(ce=Gt,tt=Yt.captureIndices,Se=Lt.rules[Yt.index],Ie=_t.priority,ce===St))break}}}return tt?{priorityMatch:Ie===-1,captureIndices:tt,matchedRuleId:Se}:null}(Je,$e,te,Ze,ye,Le,Ce);if(!ut)return pe;if(!pe)return ut;var Ht=pe.captureIndices[0].start,Ct=ut.captureIndices[0].start;return Ct<Ht||ut.priorityMatch&&Ct===Ht?ut:pe}function ve($e,te,Ze,ye,Le,Ce,pe){var Je=te.content.length,ut=!1,Ht=-1;if(pe){var Ct=function(Tt,Ot,rn,St,_e,ke){for(var Se=_e.beginRuleCapturedEOL?0:-1,ce=[],tt=_e;tt;tt=tt.pop()){var Ie=tt.getRule(Tt);Ie instanceof i.BeginWhileRule&&ce.push({rule:Ie,stack:tt})}for(var re=ce.pop();re;re=ce.pop()){var Ne=re.rule.compileWhile(Tt,re.stack.endRule,rn,Se===St),ct=Ne.scanner.findNextMatchSync(Ot,St);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(J(Ne))),!ct){o.DebugFlags.InDebugMode&&console.log("  popping "+re.rule.debugName+" - "+re.rule.debugWhileRegExp),_e=re.stack.pop();break}if(Ne.rules[ct.index]!==-2){_e=re.stack.pop();break}ct.captureIndices&&ct.captureIndices.length&&(ke.produce(re.stack,ct.captureIndices[0].start),I(Tt,Ot,rn,re.stack,ke,re.rule.whileCaptures,ct.captureIndices),ke.produce(re.stack,ct.captureIndices[0].end),Se=ct.captureIndices[0].end,ct.captureIndices[0].end>St&&(St=ct.captureIndices[0].end,rn=!1))}return{stack:_e,linePos:St,anchorPosition:Se,isFirstLine:rn}}($e,te,Ze,ye,Le,Ce);Le=Ct.stack,ye=Ct.linePos,Ze=Ct.isFirstLine,Ht=Ct.anchorPosition}for(;!ut;)xn();function xn(){o.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+ye+": |"+te.content.substr(ye).replace(/\n$/,"\\n")+"|"));var Tt=he($e,te,Ze,ye,Le,Ht);if(!Tt)return o.DebugFlags.InDebugMode&&console.log("  no more matches."),Ce.produce(Le,Je),void(ut=!0);var Ot=Tt.captureIndices,rn=Tt.matchedRuleId,St=!!(Ot&&Ot.length>0)&&Ot[0].end>ye;if(rn===-1){var _e=Le.getRule($e);o.DebugFlags.InDebugMode&&console.log("  popping "+_e.debugName+" - "+_e.debugEndRegExp),Ce.produce(Le,Ot[0].start),Le=Le.setContentNameScopesList(Le.nameScopesList),I($e,te,Ze,Le,Ce,_e.endCaptures,Ot),Ce.produce(Le,Ot[0].end);var ke=Le;if(Le=Le.pop(),Ht=ke.getAnchorPos(),!St&&ke.getEnterPos()===ye)return o.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),Le=ke,Ce.produce(Le,Je),void(ut=!0)}else{var Se=$e.getRule(rn);Ce.produce(Le,Ot[0].start);var ce=Le,tt=Se.getName(te.content,Ot),Ie=Le.contentNameScopesList.push($e,tt);if(Le=Le.push(rn,ye,Ht,Ot[0].end===Je,null,Ie,Ie),Se instanceof i.BeginEndRule){var re=Se;o.DebugFlags.InDebugMode&&console.log("  pushing "+re.debugName+" - "+re.debugBeginRegExp),I($e,te,Ze,Le,Ce,re.beginCaptures,Ot),Ce.produce(Le,Ot[0].end),Ht=Ot[0].end;var Ne=re.getContentName(te.content,Ot),ct=Ie.push($e,Ne);if(Le=Le.setContentNameScopesList(ct),re.endHasBackReferences&&(Le=Le.setEndRule(re.getEndWithResolvedBackReferences(te.content,Ot))),!St&&ce.hasSameRuleAs(Le))return o.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),Le=Le.pop(),Ce.produce(Le,Je),void(ut=!0)}else if(Se instanceof i.BeginWhileRule){if(re=Se,o.DebugFlags.InDebugMode&&console.log("  pushing "+re.debugName),I($e,te,Ze,Le,Ce,re.beginCaptures,Ot),Ce.produce(Le,Ot[0].end),Ht=Ot[0].end,Ne=re.getContentName(te.content,Ot),ct=Ie.push($e,Ne),Le=Le.setContentNameScopesList(ct),re.whileHasBackReferences&&(Le=Le.setEndRule(re.getWhileWithResolvedBackReferences(te.content,Ot))),!St&&ce.hasSameRuleAs(Le))return o.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),Le=Le.pop(),Ce.produce(Le,Je),void(ut=!0)}else{var _t=Se;if(o.DebugFlags.InDebugMode&&console.log("  matched "+_t.debugName+" - "+_t.debugMatchRegExp),I($e,te,Ze,Le,Ce,_t.captures,Ot),Ce.produce(Le,Ot[0].end),Le=Le.pop(),!St)return o.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),Le=Le.safePop(),Ce.produce(Le,Je),void(ut=!0)}}Ot[0].end>ye&&(ye=Ot[0].end,Ze=!1)}return Le}e.Grammar=P;var Ve=function(){function $e(){}return $e.toBinaryStr=function(te){for(var Ze=te.toString(2);Ze.length<32;)Ze="0"+Ze;return Ze},$e.printMetadata=function(te){var Ze=$e.getLanguageId(te),ye=$e.getTokenType(te),Le=$e.getFontStyle(te),Ce=$e.getForeground(te),pe=$e.getBackground(te);console.log({languageId:Ze,tokenType:ye,fontStyle:Le,foreground:Ce,background:pe})},$e.getLanguageId=function(te){return(255&te)>>>0},$e.getTokenType=function(te){return(1792&te)>>>8},$e.getFontStyle=function(te){return(14336&te)>>>11},$e.getForeground=function(te){return(8372224&te)>>>14},$e.getBackground=function(te){return(4286578688&te)>>>23},$e.set=function(te,Ze,ye,Le,Ce,pe){var Je=$e.getLanguageId(te),ut=$e.getTokenType(te),Ht=$e.getFontStyle(te),Ct=$e.getForeground(te),xn=$e.getBackground(te);return Ze!==0&&(Je=Ze),ye!==0&&(ut=ye===8?0:ye),Le!==-1&&(Ht=Le),Ce!==0&&(Ct=Ce),pe!==0&&(xn=pe),(Je<<0|ut<<8|Ht<<11|Ct<<14|xn<<23)>>>0},$e}();e.StackElementMetadata=Ve;var ot=function(){function $e(te,Ze,ye){this.parent=te,this.scope=Ze,this.metadata=ye}return $e._equals=function(te,Ze){for(;;){if(te===Ze||!te&&!Ze)return!0;if(!te||!Ze||te.scope!==Ze.scope||te.metadata!==Ze.metadata)return!1;te=te.parent,Ze=Ze.parent}},$e.prototype.equals=function(te){return $e._equals(this,te)},$e._matchesScope=function(te,Ze,ye){return Ze===te||te.substring(0,ye.length)===ye},$e._matches=function(te,Ze){if(Ze===null)return!0;for(var ye=Ze.length,Le=0,Ce=Ze[Le],pe=Ce+".";te;){if(this._matchesScope(te.scope,Ce,pe)){if(++Le===ye)return!0;pe=(Ce=Ze[Le])+"."}te=te.parent}return!1},$e.mergeMetadata=function(te,Ze,ye){if(ye===null)return te;var Le=-1,Ce=0,pe=0;if(ye.themeData!==null)for(var Je=0,ut=ye.themeData.length;Je<ut;Je++){var Ht=ye.themeData[Je];if(this._matches(Ze,Ht.parentScopes)){Le=Ht.fontStyle,Ce=Ht.foreground,pe=Ht.background;break}}return Ve.set(te,ye.languageId,ye.tokenType,Le,Ce,pe)},$e._push=function(te,Ze,ye){for(var Le=0,Ce=ye.length;Le<Ce;Le++){var pe=ye[Le],Je=Ze.getMetadataForScope(pe),ut=$e.mergeMetadata(te.metadata,te,Je);te=new $e(te,pe,ut)}return te},$e.prototype.push=function(te,Ze){return Ze===null?this:Ze.indexOf(" ")>=0?$e._push(this,te,Ze.split(/ /g)):$e._push(this,te,[Ze])},$e._generateScopes=function(te){for(var Ze=[],ye=0;te;)Ze[ye++]=te.scope,te=te.parent;return Ze.reverse(),Ze},$e.prototype.generateScopes=function(){return $e._generateScopes(this)},$e}();e.ScopeListElement=ot;var lt=function(){function $e(te,Ze,ye,Le,Ce,pe,Je,ut){this.parent=te,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=Ze,this._enterPos=ye,this._anchorPos=Le,this.beginRuleCapturedEOL=Ce,this.endRule=pe,this.nameScopesList=Je,this.contentNameScopesList=ut}return $e._structuralEquals=function(te,Ze){for(;;){if(te===Ze||!te&&!Ze)return!0;if(!te||!Ze||te.depth!==Ze.depth||te.ruleId!==Ze.ruleId||te.endRule!==Ze.endRule)return!1;te=te.parent,Ze=Ze.parent}},$e._equals=function(te,Ze){return te===Ze||!!this._structuralEquals(te,Ze)&&te.contentNameScopesList.equals(Ze.contentNameScopesList)},$e.prototype.clone=function(){return this},$e.prototype.equals=function(te){return te!==null&&$e._equals(this,te)},$e._reset=function(te){for(;te;)te._enterPos=-1,te._anchorPos=-1,te=te.parent},$e.prototype.reset=function(){$e._reset(this)},$e.prototype.pop=function(){return this.parent},$e.prototype.safePop=function(){return this.parent?this.parent:this},$e.prototype.push=function(te,Ze,ye,Le,Ce,pe,Je){return new $e(this,te,Ze,ye,Le,Ce,pe,Je)},$e.prototype.getEnterPos=function(){return this._enterPos},$e.prototype.getAnchorPos=function(){return this._anchorPos},$e.prototype.getRule=function(te){return te.getRule(this.ruleId)},$e.prototype._writeString=function(te,Ze){return this.parent&&(Ze=this.parent._writeString(te,Ze)),te[Ze++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",Ze},$e.prototype.toString=function(){var te=[];return this._writeString(te,0),"["+te.join(",")+"]"},$e.prototype.setContentNameScopesList=function(te){return this.contentNameScopesList===te?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,te)},$e.prototype.setEndRule=function(te){return this.endRule===te?this:new $e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,te,this.nameScopesList,this.contentNameScopesList)},$e.prototype.hasSameRuleAs=function(te){return this.ruleId===te.ruleId},$e.NULL=new $e(null,0,0,0,!1,null,null,null),$e}();e.StackElement=lt;var et=function($e,te){this.scopes=$e,this.endPos=te};e.LocalStackElement=et;var bt=function(){function $e(te,Ze,ye){this._emitBinaryTokens=te,this._tokenTypeOverrides=ye,o.DebugFlags.InDebugMode?this._lineText=Ze:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return $e.prototype.produce=function(te,Ze){this.produceFromScopes(te.contentNameScopesList,Ze)},$e.prototype.produceFromScopes=function(te,Ze){if(!(this._lastTokenEndIndex>=Ze)){if(this._emitBinaryTokens){for(var ye=te.metadata,Le=0,Ce=this._tokenTypeOverrides;Le<Ce.length;Le++){var pe=Ce[Le];pe.matcher(te.generateScopes())&&(ye=Ve.set(ye,0,Pt(pe.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===ye||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(ye)),void(this._lastTokenEndIndex=Ze)}var Je=te.generateScopes();if(o.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,Ze).replace(/\n$/,"\\n")+"|");for(var ut=0;ut<Je.length;ut++)console.log("      * "+Je[ut])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:Ze,scopes:Je}),this._lastTokenEndIndex=Ze}},$e.prototype.getResult=function(te,Ze){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===Ze-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(te,Ze),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},$e.prototype.getBinaryResult=function(te,Ze){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===Ze-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(te,Ze),this._binaryTokens[this._binaryTokens.length-2]=0);for(var ye=new Uint32Array(this._binaryTokens.length),Le=0,Ce=this._binaryTokens.length;Le<Ce;Le++)ye[Le]=this._binaryTokens[Le];return ye},$e}();function Pt($e){switch($e){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(n,e,t){"use strict";function r(o){return Array.isArray(o)?function(a){for(var l=[],f=0,p=a.length;f<p;f++)l[f]=r(a[f]);return l}(o):typeof o=="object"?function(a){var l={};for(var f in a)l[f]=r(a[f]);return l}(o):o}Object.defineProperty(e,"__esModule",{value:!0}),e.clone=function(o){return r(o)},e.mergeObjects=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];return a.forEach(function(f){for(var p in f)o[p]=f[p]}),o},e.basename=function o(a){var l=~a.lastIndexOf("/")||~a.lastIndexOf("\\");return l===0?a:~l==a.length-1?o(a.substring(0,a.length-1)):a.substr(1+~l)};var i=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,s=function(){function o(){}return o.hasCaptures=function(a){return a!==null&&i.test(a)},o.replaceCaptures=function(a,l,f){return a.replace(i,function(p,_,E,O){var R=f[parseInt(_||E,10)];if(!R)return p;for(var q=l.substring(R.start,R.end);q[0]===".";)q=q.substring(1);switch(O){case"downcase":return q.toLowerCase();case"upcase":return q.toUpperCase();default:return q}})},o}();e.RegexSource=s},function(n,e,t){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0}),e.DebugFlags={InDebugMode:r!==void 0&&!!r.env.VSCODE_TEXTMATE_DEBUG}}).call(this,t(7))},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(p,_,E,O){return new(E||(E=Promise))(function(R,q){function z(P){try{B(O.next(P))}catch(G){q(G)}}function L(P){try{B(O.throw(P))}catch(G){q(G)}}function B(P){var G;P.done?R(P.value):(G=P.value,G instanceof E?G:new E(function(ue){ue(G)})).then(z,L)}B((O=O.apply(p,_||[])).next())})},i=this&&this.__generator||function(p,_){var E,O,R,q,z={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return q={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function L(B){return function(P){return function(G){if(E)throw new TypeError("Generator is already executing.");for(;z;)try{if(E=1,O&&(R=2&G[0]?O.return:G[0]?O.throw||((R=O.return)&&R.call(O),0):O.next)&&!(R=R.call(O,G[1])).done)return R;switch(O=0,R&&(G=[2&G[0],R.value]),G[0]){case 0:case 1:R=G;break;case 4:return z.label++,{value:G[1],done:!1};case 5:z.label++,O=G[1],G=[0];continue;case 7:G=z.ops.pop(),z.trys.pop();continue;default:if(R=z.trys,!((R=R.length>0&&R[R.length-1])||G[0]!==6&&G[0]!==2)){z=0;continue}if(G[0]===3&&(!R||G[1]>R[0]&&G[1]<R[3])){z.label=G[1];break}if(G[0]===6&&z.label<R[1]){z.label=R[1],R=G;break}if(R&&z.label<R[2]){z.label=R[2],z.ops.push(G);break}R[2]&&z.ops.pop(),z.trys.pop();continue}G=_.call(p,z)}catch(ue){G=[6,ue],O=0}finally{E=R=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([B,P])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(4),o=t(8),a=t(11),l=t(0),f=function(){function p(_){this._options=_,this._syncRegistry=new s.SyncRegistry(a.Theme.createFromRawTheme(_.theme,_.colorMap),_.onigLib),this._ensureGrammarCache=new Map}return p.prototype.dispose=function(){this._syncRegistry.dispose()},p.prototype.setTheme=function(_,E){this._syncRegistry.setTheme(a.Theme.createFromRawTheme(_,E))},p.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},p.prototype.loadGrammarWithEmbeddedLanguages=function(_,E,O){return this.loadGrammarWithConfiguration(_,E,{embeddedLanguages:O})},p.prototype.loadGrammarWithConfiguration=function(_,E,O){return this._loadGrammar(_,E,O.embeddedLanguages,O.tokenTypes)},p.prototype.loadGrammar=function(_){return this._loadGrammar(_,0,null,null)},p.prototype._doLoadSingleGrammar=function(_){return r(this,void 0,void 0,function(){var E,O;return i(this,function(R){switch(R.label){case 0:return[4,this._options.loadGrammar(_)];case 1:return(E=R.sent())&&(O=typeof this._options.getInjections=="function"?this._options.getInjections(_):void 0,this._syncRegistry.addGrammar(E,O)),[2]}})})},p.prototype._loadSingleGrammar=function(_){return r(this,void 0,void 0,function(){return i(this,function(E){return this._ensureGrammarCache.has(_)||this._ensureGrammarCache.set(_,this._doLoadSingleGrammar(_)),[2,this._ensureGrammarCache.get(_)]})})},p.prototype._collectDependenciesForDep=function(_,E,O){var R=this._syncRegistry.lookup(O.scopeName);if(R){O instanceof l.FullScopeDependency?l.collectDependencies(E,this._syncRegistry.lookup(_),R):l.collectSpecificDependencies(E,this._syncRegistry.lookup(_),R,O.include);var q=this._syncRegistry.injections(O.scopeName);if(q)for(var z=0,L=q;z<L.length;z++){var B=L[z];E.add(new l.FullScopeDependency(B))}}else if(O.scopeName===_)throw new Error("No grammar provided for <"+_+">")},p.prototype._loadGrammar=function(_,E,O,R){return r(this,void 0,void 0,function(){var q,z,L,B,P,G,ue,I,J,he,ve,Ve,ot=this;return i(this,function(lt){switch(lt.label){case 0:q=new Set,z=new Set,q.add(_),L=[new l.FullScopeDependency(_)],lt.label=1;case 1:return L.length>0?(B=L,L=[],[4,Promise.all(B.map(function(et){return ot._loadSingleGrammar(et.scopeName)}))]):[3,3];case 2:for(lt.sent(),P=new l.ScopeDependencyCollector,G=0,ue=B;G<ue.length;G++)Ve=ue[G],this._collectDependenciesForDep(_,P,Ve);for(I=0,J=P.full;I<J.length;I++)Ve=J[I],q.has(Ve.scopeName)||(q.add(Ve.scopeName),L.push(Ve));for(he=0,ve=P.partial;he<ve.length;he++)Ve=ve[he],q.has(Ve.scopeName)||z.has(Ve.toKey())||(z.add(Ve.toKey()),L.push(Ve));return[3,1];case 3:return[2,this.grammarForScopeName(_,E,O,R)]}})})},p.prototype.addGrammar=function(_,E,O,R){return E===void 0&&(E=[]),O===void 0&&(O=0),R===void 0&&(R=null),r(this,void 0,void 0,function(){return i(this,function(q){switch(q.label){case 0:return this._syncRegistry.addGrammar(_,E),[4,this.grammarForScopeName(_.scopeName,O,R)];case 1:return[2,q.sent()]}})})},p.prototype.grammarForScopeName=function(_,E,O,R){return E===void 0&&(E=0),O===void 0&&(O=null),R===void 0&&(R=null),this._syncRegistry.grammarForScopeName(_,E,O,R)},p}();e.Registry=f,e.INITIAL=l.StackElement.NULL,e.parseRawGrammar=o.parseRawGrammar},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(a,l,f,p){return new(f||(f=Promise))(function(_,E){function O(z){try{q(p.next(z))}catch(L){E(L)}}function R(z){try{q(p.throw(z))}catch(L){E(L)}}function q(z){var L;z.done?_(z.value):(L=z.value,L instanceof f?L:new f(function(B){B(L)})).then(O,R)}q((p=p.apply(a,l||[])).next())})},i=this&&this.__generator||function(a,l){var f,p,_,E,O={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return E={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function R(q){return function(z){return function(L){if(f)throw new TypeError("Generator is already executing.");for(;O;)try{if(f=1,p&&(_=2&L[0]?p.return:L[0]?p.throw||((_=p.return)&&_.call(p),0):p.next)&&!(_=_.call(p,L[1])).done)return _;switch(p=0,_&&(L=[2&L[0],_.value]),L[0]){case 0:case 1:_=L;break;case 4:return O.label++,{value:L[1],done:!1};case 5:O.label++,p=L[1],L=[0];continue;case 7:L=O.ops.pop(),O.trys.pop();continue;default:if(_=O.trys,!((_=_.length>0&&_[_.length-1])||L[0]!==6&&L[0]!==2)){O=0;continue}if(L[0]===3&&(!_||L[1]>_[0]&&L[1]<_[3])){O.label=L[1];break}if(L[0]===6&&O.label<_[1]){O.label=_[1],_=L;break}if(_&&O.label<_[2]){O.label=_[2],O.ops.push(L);break}_[2]&&O.ops.pop(),O.trys.pop();continue}L=l.call(a,O)}catch(B){L=[6,B],p=0}finally{f=_=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}([q,z])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(0),o=function(){function a(l,f){this._theme=l,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=f}return a.prototype.dispose=function(){for(var l in this._grammars)this._grammars.hasOwnProperty(l)&&this._grammars[l].dispose()},a.prototype.setTheme=function(l){var f=this;this._theme=l,Object.keys(this._grammars).forEach(function(p){f._grammars[p].onDidChangeTheme()})},a.prototype.getColorMap=function(){return this._theme.getColorMap()},a.prototype.addGrammar=function(l,f){this._rawGrammars[l.scopeName]=l,f&&(this._injectionGrammars[l.scopeName]=f)},a.prototype.lookup=function(l){return this._rawGrammars[l]},a.prototype.injections=function(l){return this._injectionGrammars[l]},a.prototype.getDefaults=function(){return this._theme.getDefaults()},a.prototype.themeMatch=function(l){return this._theme.match(l)},a.prototype.grammarForScopeName=function(l,f,p,_){return r(this,void 0,void 0,function(){var E,O,R,q,z;return i(this,function(L){switch(L.label){case 0:return this._grammars[l]?[3,2]:(E=this._rawGrammars[l])?(O=this._grammars,R=l,q=s.createGrammar,z=[E,f,p,_,this],[4,this._onigLibPromise]):[2,null];case 1:O[R]=q.apply(void 0,z.concat([L.sent()])),L.label=2;case 2:return[2,this._grammars[l]]}})})},a}();e.SyncRegistry=o},function(n,e,t){"use strict";var r,i=this&&this.__extends||(r=function(B,P){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,ue){G.__proto__=ue}||function(G,ue){for(var I in ue)ue.hasOwnProperty(I)&&(G[I]=ue[I])})(B,P)},function(B,P){function G(){this.constructor=B}r(B,P),B.prototype=P===null?Object.create(P):(G.prototype=P.prototype,new G)});Object.defineProperty(e,"__esModule",{value:!0});var s=t(1),o=/\\(\d+)/,a=/\\(\d+)/g,l=function(){function B(P,G,ue){this.debugRegExps=G,this.rules=ue,this.scanner=P.createOnigScanner(G)}return B.prototype.dispose=function(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()},B}();e.CompiledRule=l;var f=function(){function B(P,G,ue,I){this.$location=P,this.id=G,this._name=ue||null,this._nameIsCapturing=s.RegexSource.hasCaptures(this._name),this._contentName=I||null,this._contentNameIsCapturing=s.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(B.prototype,"debugName",{get:function(){var P=this.$location?s.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+P},enumerable:!0,configurable:!0}),B.prototype.getName=function(P,G){return this._nameIsCapturing&&this._name!==null&&P!==null&&G!==null?s.RegexSource.replaceCaptures(this._name,P,G):this._name},B.prototype.getContentName=function(P,G){return this._contentNameIsCapturing&&this._contentName!==null?s.RegexSource.replaceCaptures(this._contentName,P,G):this._contentName},B}();e.Rule=f;var p=function(B){function P(G,ue,I,J,he){var ve=B.call(this,G,ue,I,J)||this;return ve.retokenizeCapturedWithRuleId=he,ve}return i(P,B),P.prototype.dispose=function(){},P.prototype.collectPatternsRecursive=function(G,ue,I){throw new Error("Not supported!")},P.prototype.compile=function(G,ue,I,J){throw new Error("Not supported!")},P}(f);e.CaptureRule=p;var _=function(){function B(P,G,ue){if(ue===void 0&&(ue=!0),ue)if(P){for(var I=P.length,J=0,he=[],ve=!1,Ve=0;Ve<I;Ve++)if(P.charAt(Ve)==="\\"&&Ve+1<I){var ot=P.charAt(Ve+1);ot==="z"?(he.push(P.substring(J,Ve)),he.push("$(?!\\n)(?<!\\n)"),J=Ve+2):ot!=="A"&&ot!=="G"||(ve=!0),Ve++}this.hasAnchor=ve,J===0?this.source=P:(he.push(P.substring(J,I)),this.source=he.join(""))}else this.hasAnchor=!1,this.source=P;else this.hasAnchor=!1,this.source=P;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=G,this.hasBackReferences=o.test(this.source)}return B.prototype.clone=function(){return new B(this.source,this.ruleId,!0)},B.prototype.setSource=function(P){this.source!==P&&(this.source=P,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},B.prototype.resolveBackReferences=function(P,G){var ue=G.map(function(I){return P.substring(I.start,I.end)});return a.lastIndex=0,this.source.replace(a,function(I,J){return(ue[parseInt(J,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},B.prototype._buildAnchorCache=function(){var P,G,ue,I,J=[],he=[],ve=[],Ve=[];for(P=0,G=this.source.length;P<G;P++)ue=this.source.charAt(P),J[P]=ue,he[P]=ue,ve[P]=ue,Ve[P]=ue,ue==="\\"&&P+1<G&&((I=this.source.charAt(P+1))==="A"?(J[P+1]="\uFFFF",he[P+1]="\uFFFF",ve[P+1]="A",Ve[P+1]="A"):I==="G"?(J[P+1]="\uFFFF",he[P+1]="G",ve[P+1]="\uFFFF",Ve[P+1]="G"):(J[P+1]=I,he[P+1]=I,ve[P+1]=I,Ve[P+1]=I),P++);return{A0_G0:J.join(""),A0_G1:he.join(""),A1_G0:ve.join(""),A1_G1:Ve.join("")}},B.prototype.resolveAnchors=function(P,G){return this.hasAnchor&&this._anchorCache?P?G?this._anchorCache.A1_G1:this._anchorCache.A1_G0:G?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},B}();e.RegExpSource=_;var E=function(){function B(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return B.prototype.dispose=function(){this._disposeCaches()},B.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},B.prototype.push=function(P){this._items.push(P),this._hasAnchors=this._hasAnchors||P.hasAnchor},B.prototype.unshift=function(P){this._items.unshift(P),this._hasAnchors=this._hasAnchors||P.hasAnchor},B.prototype.length=function(){return this._items.length},B.prototype.setSource=function(P,G){this._items[P].source!==G&&(this._disposeCaches(),this._items[P].setSource(G))},B.prototype.compile=function(P,G,ue){if(this._hasAnchors)return G?ue?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(P,G,ue)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(P,G,ue)),this._anchorCache.A1_G0):ue?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(P,G,ue)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(P,G,ue)),this._anchorCache.A0_G0);if(!this._cached){var I=this._items.map(function(J){return J.source});this._cached=new l(P,I,this._items.map(function(J){return J.ruleId}))}return this._cached},B.prototype._resolveAnchors=function(P,G,ue){var I=this._items.map(function(J){return J.resolveAnchors(G,ue)});return new l(P,I,this._items.map(function(J){return J.ruleId}))},B}();e.RegExpSourceList=E;var O=function(B){function P(G,ue,I,J,he){var ve=B.call(this,G,ue,I,null)||this;return ve._match=new _(J,ve.id),ve.captures=he,ve._cachedCompiledPatterns=null,ve}return i(P,B),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(P.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),P.prototype.collectPatternsRecursive=function(G,ue,I){ue.push(this._match)},P.prototype.compile=function(G,ue,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new E,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(G,I,J)},P}(f);e.MatchRule=O;var R=function(B){function P(G,ue,I,J,he){var ve=B.call(this,G,ue,I,J)||this;return ve.patterns=he.patterns,ve.hasMissingPatterns=he.hasMissingPatterns,ve._cachedCompiledPatterns=null,ve}return i(P,B),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},P.prototype.collectPatternsRecursive=function(G,ue,I){var J,he;for(J=0,he=this.patterns.length;J<he;J++)G.getRule(this.patterns[J]).collectPatternsRecursive(G,ue,!1)},P.prototype.compile=function(G,ue,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new E,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(G,I,J)},P}(f);e.IncludeOnlyRule=R;var q=function(B){function P(G,ue,I,J,he,ve,Ve,ot,lt,et){var bt=B.call(this,G,ue,I,J)||this;return bt._begin=new _(he,bt.id),bt.beginCaptures=ve,bt._end=new _(Ve||"\uFFFF",-1),bt.endHasBackReferences=bt._end.hasBackReferences,bt.endCaptures=ot,bt.applyEndPatternLast=lt||!1,bt.patterns=et.patterns,bt.hasMissingPatterns=et.hasMissingPatterns,bt._cachedCompiledPatterns=null,bt}return i(P,B),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(P.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),P.prototype.getEndWithResolvedBackReferences=function(G,ue){return this._end.resolveBackReferences(G,ue)},P.prototype.collectPatternsRecursive=function(G,ue,I){if(I){var J,he=void 0;for(he=0,J=this.patterns.length;he<J;he++)G.getRule(this.patterns[he]).collectPatternsRecursive(G,ue,!1)}else ue.push(this._begin)},P.prototype.compile=function(G,ue,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new E,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,ue):this._cachedCompiledPatterns.setSource(0,ue)),this._cachedCompiledPatterns.compile(G,I,J)},P}(f);e.BeginEndRule=q;var z=function(B){function P(G,ue,I,J,he,ve,Ve,ot,lt){var et=B.call(this,G,ue,I,J)||this;return et._begin=new _(he,et.id),et.beginCaptures=ve,et.whileCaptures=ot,et._while=new _(Ve,-2),et.whileHasBackReferences=et._while.hasBackReferences,et.patterns=lt.patterns,et.hasMissingPatterns=lt.hasMissingPatterns,et._cachedCompiledPatterns=null,et._cachedCompiledWhilePatterns=null,et}return i(P,B),P.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(P.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),P.prototype.getWhileWithResolvedBackReferences=function(G,ue){return this._while.resolveBackReferences(G,ue)},P.prototype.collectPatternsRecursive=function(G,ue,I){if(I){var J,he=void 0;for(he=0,J=this.patterns.length;he<J;he++)G.getRule(this.patterns[he]).collectPatternsRecursive(G,ue,!1)}else ue.push(this._begin)},P.prototype.compile=function(G,ue,I,J){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new E,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(G,I,J)},P.prototype.compileWhile=function(G,ue,I,J){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new E,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,ue||"\uFFFF"),this._cachedCompiledWhilePatterns.compile(G,I,J)},P}(f);e.BeginWhileRule=z;var L=function(){function B(){}return B.createCaptureRule=function(P,G,ue,I,J){return P.registerRule(function(he){return new p(G,he,ue,I,J)})},B.getCompiledRuleId=function(P,G,ue){return P.id||G.registerRule(function(I){if(P.id=I,P.match)return new O(P.$vscodeTextmateLocation,P.id,P.name,P.match,B._compileCaptures(P.captures,G,ue));if(P.begin===void 0){P.repository&&(ue=s.mergeObjects({},ue,P.repository));var J=P.patterns;return J===void 0&&P.include&&(J=[{include:P.include}]),new R(P.$vscodeTextmateLocation,P.id,P.name,P.contentName,B._compilePatterns(J,G,ue))}return P.while?new z(P.$vscodeTextmateLocation,P.id,P.name,P.contentName,P.begin,B._compileCaptures(P.beginCaptures||P.captures,G,ue),P.while,B._compileCaptures(P.whileCaptures||P.captures,G,ue),B._compilePatterns(P.patterns,G,ue)):new q(P.$vscodeTextmateLocation,P.id,P.name,P.contentName,P.begin,B._compileCaptures(P.beginCaptures||P.captures,G,ue),P.end,B._compileCaptures(P.endCaptures||P.captures,G,ue),P.applyEndPatternLast,B._compilePatterns(P.patterns,G,ue))}),P.id},B._compileCaptures=function(P,G,ue){var I=[];if(P){var J=0;for(var he in P)he!=="$vscodeTextmateLocation"&&(Ve=parseInt(he,10))>J&&(J=Ve);for(var ve=0;ve<=J;ve++)I[ve]=null;for(var he in P)if(he!=="$vscodeTextmateLocation"){var Ve=parseInt(he,10),ot=0;P[he].patterns&&(ot=B.getCompiledRuleId(P[he],G,ue)),I[Ve]=B.createCaptureRule(G,P[he].$vscodeTextmateLocation,P[he].name,P[he].contentName,ot)}}return I},B._compilePatterns=function(P,G,ue){var I=[];if(P)for(var J=0,he=P.length;J<he;J++){var ve=P[J],Ve=-1;if(ve.include)if(ve.include.charAt(0)==="#"){var ot=ue[ve.include.substr(1)];ot&&(Ve=B.getCompiledRuleId(ot,G,ue))}else if(ve.include==="$base"||ve.include==="$self")Ve=B.getCompiledRuleId(ue[ve.include],G,ue);else{var lt=null,et=null,bt=ve.include.indexOf("#");bt>=0?(lt=ve.include.substring(0,bt),et=ve.include.substring(bt+1)):lt=ve.include;var Pt=G.getExternalGrammar(lt,ue);if(Pt)if(et){var $e=Pt.repository[et];$e&&(Ve=B.getCompiledRuleId($e,G,Pt.repository))}else Ve=B.getCompiledRuleId(Pt.repository.$self,G,Pt.repository)}else Ve=B.getCompiledRuleId(ve,G,ue);if(Ve!==-1){var te=G.getRule(Ve),Ze=!1;if((te instanceof R||te instanceof q||te instanceof z)&&te.hasMissingPatterns&&te.patterns.length===0&&(Ze=!0),Ze)continue;I.push(Ve)}}return{patterns:I,hasMissingPatterns:(P?P.length:0)!==I.length}},B}();e.RuleFactory=L},function(n,e,t){"use strict";function r(i){return!!i&&!!i.match(/[\w\.:]+/)}Object.defineProperty(e,"__esModule",{value:!0}),e.createMatchers=function(i,s){for(var o,a,l,f=[],p=(l=(a=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(o=i),{next:function(){if(!l)return null;var z=l[0];return l=a.exec(o),z}}),_=p.next();_!==null;){var E=0;if(_.length===2&&_.charAt(1)===":"){switch(_.charAt(0)){case"R":E=1;break;case"L":E=-1;break;default:console.log("Unknown priority "+_+" in scope selector")}_=p.next()}var O=q();if(f.push({matcher:O,priority:E}),_!==",")break;_=p.next()}return f;function R(){if(_==="-"){_=p.next();var z=R();return function(P){return!!z&&!z(P)}}if(_==="("){_=p.next();var L=function(){for(var P=[],G=q();G&&(P.push(G),_==="|"||_===",");){do _=p.next();while(_==="|"||_===",");G=q()}return function(ue){return P.some(function(I){return I(ue)})}}();return _===")"&&(_=p.next()),L}if(r(_)){var B=[];do B.push(_),_=p.next();while(r(_));return function(P){return s(B,P)}}return null}function q(){for(var z=[],L=R();L;)z.push(L),L=R();return function(B){return z.every(function(P){return P(B)})}}}},function(n,e){var t,r,i=n.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(z){if(t===setTimeout)return setTimeout(z,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(z,0);try{return t(z,0)}catch{try{return t.call(null,z,0)}catch{return t.call(this,z,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:s}catch{t=s}try{r=typeof clearTimeout=="function"?clearTimeout:o}catch{r=o}})();var l,f=[],p=!1,_=-1;function E(){p&&l&&(p=!1,l.length?f=l.concat(f):_=-1,f.length&&O())}function O(){if(!p){var z=a(E);p=!0;for(var L=f.length;L;){for(l=f,f=[];++_<L;)l&&l[_].run();_=-1,L=f.length}l=null,p=!1,function(B){if(r===clearTimeout)return clearTimeout(B);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(B);try{r(B)}catch{try{return r.call(null,B)}catch{return r.call(this,B)}}}(z)}}function R(z,L){this.fun=z,this.array=L}function q(){}i.nextTick=function(z){var L=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)L[B-1]=arguments[B];f.push(new R(z,L)),f.length!==1||p||a(O)},R.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=q,i.addListener=q,i.once=q,i.off=q,i.removeListener=q,i.removeAllListeners=q,i.emit=q,i.prependListener=q,i.prependOnceListener=q,i.listeners=function(z){return[]},i.binding=function(z){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(z){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(9),i=t(2),s=t(10);e.parseRawGrammar=function(o,a){return a===void 0&&(a=null),a!==null&&/\.json$/.test(a)?function(l,f){return i.DebugFlags.InDebugMode?s.parse(l,f,!0):JSON.parse(l)}(o,a):function(l,f){return i.DebugFlags.InDebugMode?r.parseWithLocation(l,f,"$vscodeTextmateLocation"):r.parse(l)}(o,a)}},function(n,e,t){"use strict";function r(i,s,o){var a=i.length,l=0,f=1,p=0;function _(Tt){if(o===null)l+=Tt;else for(;Tt>0;)i.charCodeAt(l)===10?(l++,f++,p=0):(l++,p++),Tt--}function E(Tt){o===null?l=Tt:_(Tt-l)}function O(){for(;l<a;){var Tt=i.charCodeAt(l);if(Tt!==32&&Tt!==9&&Tt!==13&&Tt!==10)break;_(1)}}function R(Tt){return i.substr(l,Tt.length)===Tt&&(_(Tt.length),!0)}function q(Tt){var Ot=i.indexOf(Tt,l);E(Ot!==-1?Ot+Tt.length:a)}function z(Tt){var Ot=i.indexOf(Tt,l);if(Ot!==-1){var rn=i.substring(l,Ot);return E(Ot+Tt.length),rn}return rn=i.substr(l),E(a),rn}a>0&&i.charCodeAt(0)===65279&&(l=1);var L=0,B=null,P=[],G=[],ue=null;function I(Tt,Ot){P.push(L),G.push(B),L=Tt,B=Ot}function J(){if(P.length===0)return he("illegal state stack");L=P.pop(),B=G.pop()}function he(Tt){throw new Error("Near offset "+l+": "+Tt+" ~~~"+i.substr(l,50)+"~~~")}var ve,Ve,ot,lt=function(){if(ue===null)return he("missing <key>");var Tt={};o!==null&&(Tt[o]={filename:s,line:f,char:p}),B[ue]=Tt,ue=null,I(1,Tt)},et=function(){if(ue===null)return he("missing <key>");var Tt=[];B[ue]=Tt,ue=null,I(2,Tt)},bt=function(){var Tt={};o!==null&&(Tt[o]={filename:s,line:f,char:p}),B.push(Tt),I(1,Tt)},Pt=function(){var Tt=[];B.push(Tt),I(2,Tt)};function $e(){if(L!==1)return he("unexpected </dict>");J()}function te(){return L===1||L!==2?he("unexpected </array>"):void J()}function Ze(Tt){if(L===1){if(ue===null)return he("missing <key>");B[ue]=Tt,ue=null}else L===2?B.push(Tt):B=Tt}function ye(Tt){if(isNaN(Tt))return he("cannot parse float");if(L===1){if(ue===null)return he("missing <key>");B[ue]=Tt,ue=null}else L===2?B.push(Tt):B=Tt}function Le(Tt){if(isNaN(Tt))return he("cannot parse integer");if(L===1){if(ue===null)return he("missing <key>");B[ue]=Tt,ue=null}else L===2?B.push(Tt):B=Tt}function Ce(Tt){if(L===1){if(ue===null)return he("missing <key>");B[ue]=Tt,ue=null}else L===2?B.push(Tt):B=Tt}function pe(Tt){if(L===1){if(ue===null)return he("missing <key>");B[ue]=Tt,ue=null}else L===2?B.push(Tt):B=Tt}function Je(Tt){if(L===1){if(ue===null)return he("missing <key>");B[ue]=Tt,ue=null}else L===2?B.push(Tt):B=Tt}function ut(Tt){if(Tt.isClosed)return"";var Ot=z("</");return q(">"),Ot.replace(/&#([0-9]+);/g,function(rn,St){return String.fromCodePoint(parseInt(St,10))}).replace(/&#x([0-9a-f]+);/g,function(rn,St){return String.fromCodePoint(parseInt(St,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(rn){switch(rn){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return rn})}for(;l<a&&(O(),!(l>=a));){var Ht=i.charCodeAt(l);if(_(1),Ht!==60)return he("expected <");if(l>=a)return he("unexpected end of input");var Ct=i.charCodeAt(l);if(Ct!==63)if(Ct!==33){if(Ct===47){if(_(1),O(),R("plist")){q(">");continue}if(R("dict")){q(">"),$e();continue}if(R("array")){q(">"),te();continue}return he("unexpected closed tag")}var xn=(Ve=void 0,ot=void 0,Ve=z(">"),ot=!1,Ve.charCodeAt(Ve.length-1)===47&&(ot=!0,Ve=Ve.substring(0,Ve.length-1)),{name:Ve.trim(),isClosed:ot});switch(xn.name){case"dict":L===1?lt():L===2?bt():(B={},o!==null&&(B[o]={filename:s,line:f,char:p}),I(1,B)),xn.isClosed&&$e();continue;case"array":L===1?et():L===2?Pt():I(2,B=[]),xn.isClosed&&te();continue;case"key":ve=ut(xn),L!==1?he("unexpected <key>"):ue!==null?he("too many <key>"):ue=ve;continue;case"string":Ze(ut(xn));continue;case"real":ye(parseFloat(ut(xn)));continue;case"integer":Le(parseInt(ut(xn),10));continue;case"date":Ce(new Date(ut(xn)));continue;case"data":pe(ut(xn));continue;case"true":ut(xn),Je(!0);continue;case"false":ut(xn),Je(!1);continue}if(!/^plist/.test(xn.name))return he("unexpected opened tag "+xn.name)}else{if(_(1),R("--")){q("-->");continue}q(">")}else _(1),q("?>")}return B}Object.defineProperty(e,"__esModule",{value:!0}),e.parseWithLocation=function(i,s,o){return r(i,s,o)},e.parse=function(i){return r(i,null,null)}},function(n,e,t){"use strict";function r(a,l){throw new Error("Near offset "+a.pos+": "+l+" ~~~"+a.source.substr(a.pos,50)+"~~~")}Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(a,l,f){var p=new i(a),_=new s,E=0,O=null,R=[],q=[];function z(){R.push(E),q.push(O)}function L(){E=R.pop(),O=q.pop()}function B(I){r(p,I)}for(;o(p,_);){if(E===0){if(O!==null&&B("too many constructs in root"),_.type===3){O={},f&&(O.$vscodeTextmateLocation=_.toLocation(l)),z(),E=1;continue}if(_.type===2){O=[],z(),E=4;continue}B("unexpected token in root")}if(E===2){if(_.type===5){L();continue}if(_.type===7){E=3;continue}B("expected , or }")}if(E===1||E===3){if(E===1&&_.type===5){L();continue}if(_.type===1){var P=_.value;if(o(p,_)&&_.type===6||B("expected colon"),o(p,_)||B("expected value"),E=2,_.type===1){O[P]=_.value;continue}if(_.type===8){O[P]=null;continue}if(_.type===9){O[P]=!0;continue}if(_.type===10){O[P]=!1;continue}if(_.type===11){O[P]=parseFloat(_.value);continue}if(_.type===2){var G=[];O[P]=G,z(),E=4,O=G;continue}if(_.type===3){var ue={};f&&(ue.$vscodeTextmateLocation=_.toLocation(l)),O[P]=ue,z(),E=1,O=ue;continue}}B("unexpected token in dict")}if(E===5){if(_.type===4){L();continue}if(_.type===7){E=6;continue}B("expected , or ]")}if(E===4||E===6){if(E===4&&_.type===4){L();continue}if(E=5,_.type===1){O.push(_.value);continue}if(_.type===8){O.push(null);continue}if(_.type===9){O.push(!0);continue}if(_.type===10){O.push(!1);continue}if(_.type===11){O.push(parseFloat(_.value));continue}if(_.type===2){G=[],O.push(G),z(),E=4,O=G;continue}if(_.type===3){ue={},f&&(ue.$vscodeTextmateLocation=_.toLocation(l)),O.push(ue),z(),E=1,O=ue;continue}B("unexpected token in array")}B("unknown state")}return q.length!==0&&B("unclosed constructs"),O};var i=function(a){this.source=a,this.pos=0,this.len=a.length,this.line=1,this.char=0},s=function(){function a(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return a.prototype.toLocation=function(l){return{filename:l,line:this.line,char:this.char}},a}();function o(a,l){l.value=null,l.type=0,l.offset=-1,l.len=-1,l.line=-1,l.char=-1;for(var f,p=a.source,_=a.pos,E=a.len,O=a.line,R=a.char;;){if(_>=E)return!1;if((f=p.charCodeAt(_))!==32&&f!==9&&f!==13){if(f!==10)break;_++,O++,R=0}else _++,R++}if(l.offset=_,l.line=O,l.char=R,f===34){for(l.type=1,_++,R++;;){if(_>=E)return!1;if(f=p.charCodeAt(_),_++,R++,f!==92){if(f===34)break}else _++,R++}l.value=p.substring(l.offset+1,_-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(q,z){return String.fromCodePoint(parseInt(z,16))}).replace(/\\(.)/g,function(q,z){switch(z){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:r(a,"invalid escape sequence")}throw new Error("unreachable")})}else if(f===91)l.type=2,_++,R++;else if(f===123)l.type=3,_++,R++;else if(f===93)l.type=4,_++,R++;else if(f===125)l.type=5,_++,R++;else if(f===58)l.type=6,_++,R++;else if(f===44)l.type=7,_++,R++;else if(f===110){if(l.type=8,_++,R++,(f=p.charCodeAt(_))!==117||(_++,R++,(f=p.charCodeAt(_))!==108)||(_++,R++,(f=p.charCodeAt(_))!==108))return!1;_++,R++}else if(f===116){if(l.type=9,_++,R++,(f=p.charCodeAt(_))!==114||(_++,R++,(f=p.charCodeAt(_))!==117)||(_++,R++,(f=p.charCodeAt(_))!==101))return!1;_++,R++}else if(f===102){if(l.type=10,_++,R++,(f=p.charCodeAt(_))!==97||(_++,R++,(f=p.charCodeAt(_))!==108)||(_++,R++,(f=p.charCodeAt(_))!==115)||(_++,R++,(f=p.charCodeAt(_))!==101))return!1;_++,R++}else for(l.type=11;;){if(_>=E)return!1;if(!((f=p.charCodeAt(_))===46||f>=48&&f<=57||f===101||f===69||f===45||f===43))break;_++,R++}return l.len=_-l.offset,l.value===null&&(l.value=p.substr(l.offset,l.len)),a.pos=_,a.line=O,a.char=R,!0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(O,R,q,z,L,B){this.scope=O,this.parentScopes=R,this.index=q,this.fontStyle=z,this.foreground=L,this.background=B};function i(O){return!!/^#[0-9a-f]{6}$/i.test(O)||!!/^#[0-9a-f]{8}$/i.test(O)||!!/^#[0-9a-f]{3}$/i.test(O)||!!/^#[0-9a-f]{4}$/i.test(O)}function s(O){if(!O)return[];if(!O.settings||!Array.isArray(O.settings))return[];for(var R=O.settings,q=[],z=0,L=0,B=R.length;L<B;L++){var P=R[L];if(P.settings){var G=void 0;typeof P.scope=="string"?G=P.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):G=Array.isArray(P.scope)?P.scope:[""];var ue=-1;if(typeof P.settings.fontStyle=="string"){ue=0;for(var I=0,J=(Ve=P.settings.fontStyle.split(" ")).length;I<J;I++)switch(Ve[I]){case"italic":ue|=1;break;case"bold":ue|=2;break;case"underline":ue|=4}}var he=null;typeof P.settings.foreground=="string"&&i(P.settings.foreground)&&(he=P.settings.foreground);var ve=null;for(typeof P.settings.background=="string"&&i(P.settings.background)&&(ve=P.settings.background),I=0,J=G.length;I<J;I++){var Ve,ot=(Ve=G[I].trim().split(" "))[Ve.length-1],lt=null;Ve.length>1&&(lt=Ve.slice(0,Ve.length-1)).reverse(),q[z++]=new r(ot,lt,L,ue,he,ve)}}}return q}function o(O,R){O.sort(function(ve,Ve){var ot=f(ve.scope,Ve.scope);return ot!==0||(ot=p(ve.parentScopes,Ve.parentScopes))!==0?ot:ve.index-Ve.index});for(var q=0,z="#000000",L="#ffffff";O.length>=1&&O[0].scope==="";){var B=O.shift();B.fontStyle!==-1&&(q=B.fontStyle),B.foreground!==null&&(z=B.foreground),B.background!==null&&(L=B.background)}for(var P=new a(R),G=new _(0,null,q,P.getId(z),P.getId(L)),ue=new E(new _(0,null,-1,0,0),[]),I=0,J=O.length;I<J;I++){var he=O[I];ue.insert(0,he.scope,he.parentScopes,he.fontStyle,P.getId(he.foreground),P.getId(he.background))}return new l(P,G,ue)}e.ParsedThemeRule=r,e.parseTheme=s;var a=function(){function O(R){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(R)){this._isFrozen=!0;for(var q=0,z=R.length;q<z;q++)this._color2id[R[q]]=q,this._id2color[q]=R[q]}else this._isFrozen=!1}return O.prototype.getId=function(R){if(R===null)return 0;R=R.toUpperCase();var q=this._color2id[R];if(q)return q;if(this._isFrozen)throw new Error("Missing color in color map - "+R);return q=++this._lastColorId,this._color2id[R]=q,this._id2color[q]=R,q},O.prototype.getColorMap=function(){return this._id2color.slice(0)},O}();e.ColorMap=a;var l=function(){function O(R,q,z){this._colorMap=R,this._root=z,this._defaults=q,this._cache={}}return O.createFromRawTheme=function(R,q){return this.createFromParsedTheme(s(R),q)},O.createFromParsedTheme=function(R,q){return o(R,q)},O.prototype.getColorMap=function(){return this._colorMap.getColorMap()},O.prototype.getDefaults=function(){return this._defaults},O.prototype.match=function(R){return this._cache.hasOwnProperty(R)||(this._cache[R]=this._root.match(R)),this._cache[R]},O}();function f(O,R){return O<R?-1:O>R?1:0}function p(O,R){if(O===null&&R===null)return 0;if(!O)return-1;if(!R)return 1;var q=O.length,z=R.length;if(q===z){for(var L=0;L<q;L++){var B=f(O[L],R[L]);if(B!==0)return B}return 0}return q-z}e.Theme=l,e.strcmp=f,e.strArrCmp=p;var _=function(){function O(R,q,z,L,B){this.scopeDepth=R,this.parentScopes=q,this.fontStyle=z,this.foreground=L,this.background=B}return O.prototype.clone=function(){return new O(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},O.cloneArr=function(R){for(var q=[],z=0,L=R.length;z<L;z++)q[z]=R[z].clone();return q},O.prototype.acceptOverwrite=function(R,q,z,L){this.scopeDepth>R?console.log("how did this happen?"):this.scopeDepth=R,q!==-1&&(this.fontStyle=q),z!==0&&(this.foreground=z),L!==0&&(this.background=L)},O}();e.ThemeTrieElementRule=_;var E=function(){function O(R,q,z){q===void 0&&(q=[]),z===void 0&&(z={}),this._mainRule=R,this._rulesWithParentScopes=q,this._children=z}return O._sortBySpecificity=function(R){return R.length===1||R.sort(this._cmpBySpecificity),R},O._cmpBySpecificity=function(R,q){if(R.scopeDepth===q.scopeDepth){var z=R.parentScopes,L=q.parentScopes,B=z===null?0:z.length,P=L===null?0:L.length;if(B===P)for(var G=0;G<B;G++){var ue=z[G].length,I=L[G].length;if(ue!==I)return I-ue}return P-B}return q.scopeDepth-R.scopeDepth},O.prototype.match=function(R){if(R==="")return O._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var q,z,L=R.indexOf(".");return L===-1?(q=R,z=""):(q=R.substring(0,L),z=R.substring(L+1)),this._children.hasOwnProperty(q)?this._children[q].match(z):O._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},O.prototype.insert=function(R,q,z,L,B,P){if(q!==""){var G,ue,I,J=q.indexOf(".");J===-1?(G=q,ue=""):(G=q.substring(0,J),ue=q.substring(J+1)),this._children.hasOwnProperty(G)?I=this._children[G]:(I=new O(this._mainRule.clone(),_.cloneArr(this._rulesWithParentScopes)),this._children[G]=I),I.insert(R+1,ue,z,L,B,P)}else this._doInsertHere(R,z,L,B,P)},O.prototype._doInsertHere=function(R,q,z,L,B){if(q!==null){for(var P=0,G=this._rulesWithParentScopes.length;P<G;P++){var ue=this._rulesWithParentScopes[P];if(p(ue.parentScopes,q)===0)return void ue.acceptOverwrite(R,z,L,B)}z===-1&&(z=this._mainRule.fontStyle),L===0&&(L=this._mainRule.foreground),B===0&&(B=this._mainRule.background),this._rulesWithParentScopes.push(new _(R,q,z,L,B))}else this._mainRule.acceptOverwrite(R,z,L,B)},O}();e.ThemeTrieElement=E}])})});var YJ=Ae(()=>{m()});var KJ=Ae(()=>{m()});var hs=Ae((F8t,gM)=>{m();var Tme,Fme,Dme,Ome,Rme,Nme,Lme,kme,Ime,mM,iX,Mme,Pme,Bme,M7,jme,qme,Ume,$me,zme,Hme,Vme,Wme,Qme,xM;(function(n){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){n(t(e,t(r)))}):typeof gM=="object"&&typeof gM.exports=="object"?n(t(e,t(gM.exports))):n(t(e));function t(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(s,o){return r[s]=i?i(s,o):o}}})(function(n){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])};Tme=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function s(){this.constructor=r}r.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},Fme=Object.assign||function(r){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},Dme=function(r,i){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s},Ome=function(r,i,s,o){var a=arguments.length,l=a<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,s):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,i,s,o);else for(var p=r.length-1;p>=0;p--)(f=r[p])&&(l=(a<3?f(l):a>3?f(i,s,l):f(i,s))||l);return a>3&&l&&Object.defineProperty(i,s,l),l},Rme=function(r,i){return function(s,o){i(s,o,r)}},Nme=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},Lme=function(r,i,s,o){function a(l){return l instanceof s?l:new s(function(f){f(l)})}return new(s||(s=Promise))(function(l,f){function p(O){try{E(o.next(O))}catch(R){f(R)}}function _(O){try{E(o.throw(O))}catch(R){f(R)}}function E(O){O.done?l(O.value):a(O.value).then(p,_)}E((o=o.apply(r,i||[])).next())})},kme=function(r,i){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(E){return function(O){return _([E,O])}}function _(E){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(l=E[0]&2?a.return:E[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,E[1])).done)return l;switch(a=0,l&&(E=[E[0]&2,l.value]),E[0]){case 0:case 1:l=E;break;case 4:return s.label++,{value:E[1],done:!1};case 5:s.label++,a=E[1],E=[0];continue;case 7:E=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(E[0]===6||E[0]===2)){s=0;continue}if(E[0]===3&&(!l||E[1]>l[0]&&E[1]<l[3])){s.label=E[1];break}if(E[0]===6&&s.label<l[1]){s.label=l[1],l=E;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(E);break}l[2]&&s.ops.pop(),s.trys.pop();continue}E=i.call(r,s)}catch(O){E=[6,O],a=0}finally{o=l=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Ime=function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&xM(i,r,s)},xM=Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]},mM=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&r[i],o=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},iX=function(r,i){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var o=s.call(r),a,l=[],f;try{for(;(i===void 0||i-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(p){f={error:p}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(f)throw f.error}}return l},Mme=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(iX(arguments[i]));return r},Pme=function(){for(var r=0,i=0,s=arguments.length;i<s;i++)r+=arguments[i].length;for(var o=Array(r),a=0,i=0;i<s;i++)for(var l=arguments[i],f=0,p=l.length;f<p;f++,a++)o[a]=l[f];return o},Bme=function(r,i,s){if(s||arguments.length===2)for(var o=0,a=i.length,l;o<a;o++)(l||!(o in i))&&(l||(l=Array.prototype.slice.call(i,0,o)),l[o]=i[o]);return r.concat(l||Array.prototype.slice.call(i))},M7=function(r){return this instanceof M7?(this.v=r,this):new M7(r)},jme=function(r,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(r,i||[]),a,l=[];return a={},f("next"),f("throw"),f("return"),a[Symbol.asyncIterator]=function(){return this},a;function f(q){o[q]&&(a[q]=function(z){return new Promise(function(L,B){l.push([q,z,L,B])>1||p(q,z)})})}function p(q,z){try{_(o[q](z))}catch(L){R(l[0][3],L)}}function _(q){q.value instanceof M7?Promise.resolve(q.value.v).then(E,O):R(l[0][2],q)}function E(q){p("next",q)}function O(q){p("throw",q)}function R(q,z){q(z),l.shift(),l.length&&p(l[0][0],l[0][1])}},qme=function(r){var i,s;return i={},o("next"),o("throw",function(a){throw a}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(a,l){i[a]=r[a]?function(f){return(s=!s)?{value:M7(r[a](f)),done:a==="return"}:l?l(f):f}:l}},Ume=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],s;return i?i.call(r):(r=typeof mM=="function"?mM(r):r[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(l){s[l]=r[l]&&function(f){return new Promise(function(p,_){f=r[l](f),a(p,_,f.done,f.value)})}}function a(l,f,p,_){Promise.resolve(_).then(function(E){l({value:E,done:p})},f)}},$me=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var t=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};zme=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)&&xM(i,r,s);return t(i,r),i},Hme=function(r){return r&&r.__esModule?r:{default:r}},Vme=function(r,i,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!o:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(r):o?o.value:i.get(r)},Wme=function(r,i,s,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!a:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,s):a?a.value=s:i.set(r,s),s},Qme=function(r,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?i===r:r.has(i)},n("__extends",Tme),n("__assign",Fme),n("__rest",Dme),n("__decorate",Ome),n("__param",Rme),n("__metadata",Nme),n("__awaiter",Lme),n("__generator",kme),n("__exportStar",Ime),n("__createBinding",xM),n("__values",mM),n("__read",iX),n("__spread",Mme),n("__spreadArrays",Pme),n("__spreadArray",Bme),n("__await",M7),n("__asyncGenerator",jme),n("__asyncDelegator",qme),n("__asyncValues",Ume),n("__makeTemplateObject",$me),n("__importStar",zme),n("__importDefault",Hme),n("__classPrivateFieldGet",Vme),n("__classPrivateFieldSet",Wme),n("__classPrivateFieldIn",Qme)})});var L_=Ae(P7=>{"use strict";m();Object.defineProperty(P7,"__esModule",{value:!0});P7.encodeUtf8=P7.decodeUtf8=void 0;var Oze=new TextDecoder("utf-8"),Rze=n=>Oze.decode(n);P7.decodeUtf8=Rze;var Nze=new TextEncoder,Lze=n=>Nze.encode(n);P7.encodeUtf8=Lze});var _2=Ae(zi=>{"use strict";m();Object.defineProperty(zi,"__esModule",{value:!0});zi.isFlatbuffersByteBuffer=zi.isReadableNodeStream=zi.isWritableNodeStream=zi.isReadableDOMStream=zi.isWritableDOMStream=zi.isFetchResponse=zi.isFSReadStream=zi.isFileHandle=zi.isUnderlyingSink=zi.isIteratorResult=zi.isArrayLike=zi.isArrowJSON=zi.isAsyncIterable=zi.isIterable=zi.isObservable=zi.isPromise=zi.isObject=zi.BigUint64ArrayAvailable=zi.BigUint64Array=zi.BigInt64ArrayAvailable=zi.BigInt64Array=zi.BigIntAvailable=zi.BigInt=void 0;var[kze,Ize]=(()=>{let n=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw n()}return e.asIntN=()=>{throw n()},e.asUintN=()=>{throw n()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})();zi.BigInt=kze;zi.BigIntAvailable=Ize;var[Mze,Pze]=(()=>{let n=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})();zi.BigInt64Array=Mze;zi.BigInt64ArrayAvailable=Pze;var[Bze,jze]=(()=>{let n=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})();zi.BigUint64Array=Bze;zi.BigUint64ArrayAvailable=jze;var sX=n=>typeof n=="number",Gme=n=>typeof n=="boolean",Uu=n=>typeof n=="function",qze=n=>n!=null&&Object(n)===n;zi.isObject=qze;var Uze=n=>(0,zi.isObject)(n)&&Uu(n.then);zi.isPromise=Uze;var $ze=n=>(0,zi.isObject)(n)&&Uu(n.subscribe);zi.isObservable=$ze;var zze=n=>(0,zi.isObject)(n)&&Uu(n[Symbol.iterator]);zi.isIterable=zze;var Hze=n=>(0,zi.isObject)(n)&&Uu(n[Symbol.asyncIterator]);zi.isAsyncIterable=Hze;var Vze=n=>(0,zi.isObject)(n)&&(0,zi.isObject)(n.schema);zi.isArrowJSON=Vze;var Wze=n=>(0,zi.isObject)(n)&&sX(n.length);zi.isArrayLike=Wze;var Qze=n=>(0,zi.isObject)(n)&&"done"in n&&"value"in n;zi.isIteratorResult=Qze;var Gze=n=>(0,zi.isObject)(n)&&Uu(n.abort)&&Uu(n.close)&&Uu(n.start)&&Uu(n.write);zi.isUnderlyingSink=Gze;var Yze=n=>(0,zi.isObject)(n)&&Uu(n.stat)&&sX(n.fd);zi.isFileHandle=Yze;var Kze=n=>(0,zi.isReadableNodeStream)(n)&&sX(n.bytesRead);zi.isFSReadStream=Kze;var Jze=n=>(0,zi.isObject)(n)&&(0,zi.isReadableDOMStream)(n.body);zi.isFetchResponse=Jze;var yM=n=>"_getDOMStream"in n&&"_getNodeStream"in n,Xze=n=>(0,zi.isObject)(n)&&Uu(n.abort)&&Uu(n.getWriter)&&!yM(n);zi.isWritableDOMStream=Xze;var Zze=n=>(0,zi.isObject)(n)&&Uu(n.cancel)&&Uu(n.getReader)&&!yM(n);zi.isReadableDOMStream=Zze;var eHe=n=>(0,zi.isObject)(n)&&Uu(n.end)&&Uu(n.write)&&Gme(n.writable)&&!yM(n);zi.isWritableNodeStream=eHe;var tHe=n=>(0,zi.isObject)(n)&&Uu(n.read)&&Uu(n.pipe)&&Gme(n.readable)&&!yM(n);zi.isReadableNodeStream=tHe;var nHe=n=>(0,zi.isObject)(n)&&Uu(n.clear)&&Uu(n.bytes)&&Uu(n.position)&&Uu(n.setPosition)&&Uu(n.capacity)&&Uu(n.getBufferIdentifier)&&Uu(n.createLong);zi.isFlatbuffersByteBuffer=nHe});var Hf=Ae(Di=>{"use strict";m();Object.defineProperty(Di,"__esModule",{value:!0});Di.compareArrayLike=Di.rebaseValueOffsets=Di.toUint8ClampedArrayAsyncIterator=Di.toFloat64ArrayAsyncIterator=Di.toFloat32ArrayAsyncIterator=Di.toUint32ArrayAsyncIterator=Di.toUint16ArrayAsyncIterator=Di.toUint8ArrayAsyncIterator=Di.toInt32ArrayAsyncIterator=Di.toInt16ArrayAsyncIterator=Di.toInt8ArrayAsyncIterator=Di.toArrayBufferViewAsyncIterator=Di.toUint8ClampedArrayIterator=Di.toFloat64ArrayIterator=Di.toFloat32ArrayIterator=Di.toUint32ArrayIterator=Di.toUint16ArrayIterator=Di.toUint8ArrayIterator=Di.toInt32ArrayIterator=Di.toInt16ArrayIterator=Di.toInt8ArrayIterator=Di.toArrayBufferViewIterator=Di.toUint8ClampedArray=Di.toFloat64Array=Di.toFloat32Array=Di.toBigUint64Array=Di.toUint32Array=Di.toUint16Array=Di.toUint8Array=Di.toBigInt64Array=Di.toInt32Array=Di.toInt16Array=Di.toInt8Array=Di.toArrayBufferView=Di.joinUint8Arrays=Di.memcpy=void 0;var mc=hs(),rHe=L_(),K3=_2(),oX=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function iHe(n){let e=n[0]?[n[0]]:[],t,r,i,s;for(let o,a,l=0,f=0,p=n.length;++l<p;){if(o=e[f],a=n[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++f]=a);continue}if({byteOffset:t,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,t+i<r||r+s<t){a&&(e[++f]=a);continue}e[f]=new Uint8Array(o.buffer,t,r-t+s)}return e}function aX(n,e,t=0,r=e.byteLength){let i=n.byteLength,s=new Uint8Array(n.buffer,n.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,t),n}Di.memcpy=aX;function sHe(n,e){let t=iHe(n),r=t.reduce((p,_)=>p+_.byteLength,0),i,s,o,a=0,l=-1,f=Math.min(e||Number.POSITIVE_INFINITY,r);for(let p=t.length;++l<p;){if(i=t[l],s=i.subarray(0,Math.min(i.length,f-a)),f<=a+s.length){s.length<i.length?t[l]=i.subarray(s.length):s.length===i.length&&l++,o?aX(o,s,a):o=s;break}aX(o||(o=new Uint8Array(f)),s,a),a+=s.length}return[o||new Uint8Array(0),t.slice(l),r-(o?o.byteLength:0)]}Di.joinUint8Arrays=sHe;function hd(n,e){let t=(0,K3.isIteratorResult)(e)?e.value:e;return t instanceof n?n===Uint8Array?new n(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=(0,rHe.encodeUtf8)(t)),t instanceof ArrayBuffer?new n(t):t instanceof oX?new n(t):(0,K3.isFlatbuffersByteBuffer)(t)?hd(n,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new n(0):new n(t.buffer,t.byteOffset,t.byteLength/n.BYTES_PER_ELEMENT):n.from(t)):new n(0)}Di.toArrayBufferView=hd;var oHe=n=>hd(Int8Array,n);Di.toInt8Array=oHe;var aHe=n=>hd(Int16Array,n);Di.toInt16Array=aHe;var uHe=n=>hd(Int32Array,n);Di.toInt32Array=uHe;var lHe=n=>hd(K3.BigInt64Array,n);Di.toBigInt64Array=lHe;var cHe=n=>hd(Uint8Array,n);Di.toUint8Array=cHe;var fHe=n=>hd(Uint16Array,n);Di.toUint16Array=fHe;var dHe=n=>hd(Uint32Array,n);Di.toUint32Array=dHe;var hHe=n=>hd(K3.BigUint64Array,n);Di.toBigUint64Array=hHe;var pHe=n=>hd(Float32Array,n);Di.toFloat32Array=pHe;var mHe=n=>hd(Float64Array,n);Di.toFloat64Array=mHe;var xHe=n=>hd(Uint8ClampedArray,n);Di.toUint8ClampedArray=xHe;var uX=n=>(n.next(),n);function*b2(n,e){let t=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof oX?t(e):(0,K3.isIterable)(e)?e:t(e);return yield*uX(function*(i){let s=null;do s=i.next(yield hd(n,s));while(!s.done)}(r[Symbol.iterator]())),new n}Di.toArrayBufferViewIterator=b2;var gHe=n=>b2(Int8Array,n);Di.toInt8ArrayIterator=gHe;var yHe=n=>b2(Int16Array,n);Di.toInt16ArrayIterator=yHe;var vHe=n=>b2(Int32Array,n);Di.toInt32ArrayIterator=vHe;var _He=n=>b2(Uint8Array,n);Di.toUint8ArrayIterator=_He;var bHe=n=>b2(Uint16Array,n);Di.toUint16ArrayIterator=bHe;var EHe=n=>b2(Uint32Array,n);Di.toUint32ArrayIterator=EHe;var SHe=n=>b2(Float32Array,n);Di.toFloat32ArrayIterator=SHe;var wHe=n=>b2(Float64Array,n);Di.toFloat64ArrayIterator=wHe;var CHe=n=>b2(Uint8ClampedArray,n);Di.toUint8ClampedArrayIterator=CHe;function um(n,e){return mc.__asyncGenerator(this,arguments,function*(){if((0,K3.isPromise)(e))return yield mc.__await(yield mc.__await(yield*mc.__asyncDelegator(mc.__asyncValues(um(n,yield mc.__await(e))))));let r=function(o){return mc.__asyncGenerator(this,arguments,function*(){yield yield mc.__await(yield mc.__await(o))})},i=function(o){return mc.__asyncGenerator(this,arguments,function*(){yield mc.__await(yield*mc.__asyncDelegator(mc.__asyncValues(uX(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof oX?r(e):(0,K3.isIterable)(e)?i(e):(0,K3.isAsyncIterable)(e)?e:r(e);return yield mc.__await(yield*mc.__asyncDelegator(mc.__asyncValues(uX(function(o){return mc.__asyncGenerator(this,arguments,function*(){let a=null;do a=yield mc.__await(o.next(yield yield mc.__await(hd(n,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield mc.__await(new n)})}Di.toArrayBufferViewAsyncIterator=um;var AHe=n=>um(Int8Array,n);Di.toInt8ArrayAsyncIterator=AHe;var THe=n=>um(Int16Array,n);Di.toInt16ArrayAsyncIterator=THe;var FHe=n=>um(Int32Array,n);Di.toInt32ArrayAsyncIterator=FHe;var DHe=n=>um(Uint8Array,n);Di.toUint8ArrayAsyncIterator=DHe;var OHe=n=>um(Uint16Array,n);Di.toUint16ArrayAsyncIterator=OHe;var RHe=n=>um(Uint32Array,n);Di.toUint32ArrayAsyncIterator=RHe;var NHe=n=>um(Float32Array,n);Di.toFloat32ArrayAsyncIterator=NHe;var LHe=n=>um(Float64Array,n);Di.toFloat64ArrayAsyncIterator=LHe;var kHe=n=>um(Uint8ClampedArray,n);Di.toUint8ClampedArrayAsyncIterator=kHe;function IHe(n,e,t){if(n!==0){t=t.slice(0,e+1);for(let r=-1;++r<=e;)t[r]+=n}return t}Di.rebaseValueOffsets=IHe;function MHe(n,e){let t=0,r=n.length;if(r!==e.length)return!1;if(r>0)do if(n[t]!==e[t])return!1;while(++t<r);return!0}Di.compareArrayLike=MHe});var BT=Ae(cX=>{"use strict";m();Object.defineProperty(cX,"__esModule",{value:!0});var nu=hs(),pd=Hf();cX.default={fromIterable(n){return vM(PHe(n))},fromAsyncIterable(n){return vM(BHe(n))},fromDOMStream(n){return vM(jHe(n))},fromNodeStream(n){return vM(qHe(n))},toDOMStream(n,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(n,e){throw new Error('"toNodeStream" not available in this environment')}};var vM=n=>(n.next(),n);function*PHe(n){let e,t=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?(0,pd.joinUint8Arrays)(r,o)[0]:([i,r,a]=(0,pd.joinUint8Arrays)(r,o),i)}({cmd:s,size:o}=yield null);let f=(0,pd.toUint8ArrayIterator)(n)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?f.next():f.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!e)}catch(p){(t=!0)&&typeof f.throw=="function"&&f.throw(p)}finally{t===!1&&typeof f.return=="function"&&f.return(null)}return null}function BHe(n){return nu.__asyncGenerator(this,arguments,function*(){let t,r=!1,i=[],s,o,a,l=0;function f(){return o==="peek"?(0,pd.joinUint8Arrays)(i,a)[0]:([s,i,l]=(0,pd.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield nu.__await(null));let p=(0,pd.toUint8ArrayAsyncIterator)(n)[Symbol.asyncIterator]();try{do if({done:t,value:s}=Number.isNaN(a-l)?yield nu.__await(p.next()):yield nu.__await(p.next(a-l)),!t&&s.byteLength>0&&(i.push(s),l+=s.byteLength),t||a<=l)do({cmd:o,size:a}=yield yield nu.__await(f()));while(a<l);while(!t)}catch(_){(r=!0)&&typeof p.throw=="function"&&(yield nu.__await(p.throw(_)))}finally{r===!1&&typeof p.return=="function"&&(yield nu.__await(p.return(new Uint8Array(0))))}return yield nu.__await(null)})}function jHe(n){return nu.__asyncGenerator(this,arguments,function*(){let t=!1,r=!1,i=[],s,o,a,l=0;function f(){return o==="peek"?(0,pd.joinUint8Arrays)(i,a)[0]:([s,i,l]=(0,pd.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield nu.__await(null));let p=new Yme(n);try{do if({done:t,value:s}=Number.isNaN(a-l)?yield nu.__await(p.read()):yield nu.__await(p.read(a-l)),!t&&s.byteLength>0&&(i.push((0,pd.toUint8Array)(s)),l+=s.byteLength),t||a<=l)do({cmd:o,size:a}=yield yield nu.__await(f()));while(a<l);while(!t)}catch(_){(r=!0)&&(yield nu.__await(p.cancel(_)))}finally{r===!1?yield nu.__await(p.cancel()):n.locked&&p.releaseLock()}return yield nu.__await(null)})}var Yme=class{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return nu.__awaiter(this,void 0,void 0,function*(){let{reader:t,source:r}=this;t&&(yield t.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return nu.__awaiter(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let t=yield this.reader.read();return!t.done&&(t.value=(0,pd.toUint8Array)(t)),t})}},lX=(n,e)=>{let t=i=>r([e,i]),r;return[e,t,new Promise(i=>(r=i)&&n.once(e,t))]};function qHe(n){return nu.__asyncGenerator(this,arguments,function*(){let t=[],r="error",i=!1,s=null,o,a,l=0,f=[],p;function _(){return o==="peek"?(0,pd.joinUint8Arrays)(f,a)[0]:([p,f,l]=(0,pd.joinUint8Arrays)(f,a),p)}if({cmd:o,size:a}=yield yield nu.__await(null),n.isTTY)return yield yield nu.__await(new Uint8Array(0)),yield nu.__await(null);try{t[0]=lX(n,"end"),t[1]=lX(n,"error");do{if(t[2]=lX(n,"readable"),[r,s]=yield nu.__await(Promise.race(t.map(O=>O[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(p=(0,pd.toUint8Array)(n.read(a-l)),p.byteLength<a-l&&(p=(0,pd.toUint8Array)(n.read()))):p=(0,pd.toUint8Array)(n.read()),p.byteLength>0&&(f.push(p),l+=p.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield nu.__await(_()));while(a<l)}while(!i)}finally{yield nu.__await(E(t,r==="error"?s:null))}return yield nu.__await(null);function E(O,R){return p=f=null,new Promise((q,z)=>{for(let[L,B]of O)n.off(L,B);try{let L=n.destroy;L&&L.call(n,R),R=void 0}catch(L){R=L||R}finally{R!=null?z(R):q()}})}})}});var Nl=Ae(Fa=>{"use strict";m();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.BufferType=Fa.Type=Fa.MessageHeader=Fa.IntervalUnit=Fa.TimeUnit=Fa.DateUnit=Fa.Precision=Fa.UnionMode=Fa.MetadataVersion=void 0;var UHe;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(UHe=Fa.MetadataVersion||(Fa.MetadataVersion={}));var $He;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})($He=Fa.UnionMode||(Fa.UnionMode={}));var zHe;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(zHe=Fa.Precision||(Fa.Precision={}));var HHe;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(HHe=Fa.DateUnit||(Fa.DateUnit={}));var VHe;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(VHe=Fa.TimeUnit||(Fa.TimeUnit={}));var WHe;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(WHe=Fa.IntervalUnit||(Fa.IntervalUnit={}));var QHe;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(QHe=Fa.MessageHeader||(Fa.MessageHeader={}));var GHe;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(GHe=Fa.Type||(Fa.Type={}));var YHe;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(YHe=Fa.BufferType||(Fa.BufferType={}))});var bM=Ae(_M=>{"use strict";m();Object.defineProperty(_M,"__esModule",{value:!0});_M.valueToString=void 0;var KHe=void 0;function Kme(n){if(n===null)return"null";if(n===KHe)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?n instanceof BigInt64Array||n instanceof BigUint64Array?`[${[...n].map(e=>Kme(e))}]`:`[${n}]`:ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n,(e,t)=>typeof t=="bigint"?`${t}`:t)}_M.valueToString=Kme});var SM=Ae(zc=>{"use strict";m();Object.defineProperty(zc,"__esModule",{value:!0});zc.BN=zc.bignumToBigInt=zc.bignumToString=zc.isArrowBigNumSymbol=void 0;var JHe=Hf(),B7=_2();zc.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function lm(n,...e){return e.length===0?Object.setPrototypeOf((0,JHe.toArrayBufferView)(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...e),this.constructor.prototype)}lm.prototype[zc.isArrowBigNumSymbol]=!0;lm.prototype.toJSON=function(){return`"${(0,zc.bignumToString)(this)}"`};lm.prototype.valueOf=function(){return Jme(this)};lm.prototype.toString=function(){return(0,zc.bignumToString)(this)};lm.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return Jme(this);case"string":return(0,zc.bignumToString)(this);case"default":return(0,zc.bignumToBigInt)(this)}return(0,zc.bignumToString)(this)};function j7(...n){return lm.apply(this,n)}function q7(...n){return lm.apply(this,n)}function jT(...n){return lm.apply(this,n)}Object.setPrototypeOf(j7.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(q7.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(jT.prototype,Object.create(Uint32Array.prototype));Object.assign(j7.prototype,lm.prototype,{constructor:j7,signed:!0,TypedArray:Int32Array,BigIntArray:B7.BigInt64Array});Object.assign(q7.prototype,lm.prototype,{constructor:q7,signed:!1,TypedArray:Uint32Array,BigIntArray:B7.BigUint64Array});Object.assign(jT.prototype,lm.prototype,{constructor:jT,signed:!0,TypedArray:Uint32Array,BigIntArray:B7.BigUint64Array});function Jme(n){let{buffer:e,byteOffset:t,length:r,signed:i}=n,s=new B7.BigUint64Array(e,t,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63),a=BigInt(o?1:0),l=BigInt(0);if(o){for(let f of s)a+=~f*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(let f of s)a+=f*(BigInt(1)<<BigInt(32)*l++);return a}B7.BigIntAvailable?(zc.bignumToBigInt=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:fX(n),zc.bignumToString=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:fX(n)):(zc.bignumToString=fX,zc.bignumToBigInt=zc.bignumToString);function fX(n){let e="",t=new Uint32Array(2),r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),s=-1,o=r.length-1;do{for(t[0]=r[s=0];s<o;)r[s++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+r[s];r[s]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}var EM=class{static new(e,t){switch(t){case!0:return new j7(e);case!1:return new q7(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case B7.BigInt64Array:return new j7(e)}return e.byteLength===16?new jT(e):new q7(e)}static signed(e){return new j7(e)}static unsigned(e){return new q7(e)}static decimal(e){return new jT(e)}constructor(e,t){return EM.new(e,t)}};zc.BN=EM});var ru=Ae(ei=>{"use strict";m();var Xme,Zme,e2e,t2e,n2e,r2e,i2e,s2e,o2e,a2e,u2e,l2e,c2e,f2e,d2e,h2e,p2e,m2e,x2e;Object.defineProperty(ei,"__esModule",{value:!0});ei.strideForType=ei.Dictionary=ei.Map_=ei.FixedSizeList=ei.FixedSizeBinary=ei.SparseUnion=ei.DenseUnion=ei.Union=ei.Struct=ei.List=ei.IntervalYearMonth=ei.IntervalDayTime=ei.Interval=ei.TimestampNanosecond=ei.TimestampMicrosecond=ei.TimestampMillisecond=ei.TimestampSecond=ei.Timestamp=ei.TimeNanosecond=ei.TimeMicrosecond=ei.TimeMillisecond=ei.TimeSecond=ei.Time=ei.DateMillisecond=ei.DateDay=ei.Date_=ei.Decimal=ei.Bool=ei.Utf8=ei.Binary=ei.Float64=ei.Float32=ei.Float16=ei.Float=ei.Uint64=ei.Uint32=ei.Uint16=ei.Uint8=ei.Int64=ei.Int32=ei.Int16=ei.Int8=ei.Int=ei.Null=ei.DataType=void 0;var Pi=Nl(),vu=class{static isNull(e){return(e==null?void 0:e.typeId)===Pi.Type.Null}static isInt(e){return(e==null?void 0:e.typeId)===Pi.Type.Int}static isFloat(e){return(e==null?void 0:e.typeId)===Pi.Type.Float}static isBinary(e){return(e==null?void 0:e.typeId)===Pi.Type.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===Pi.Type.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===Pi.Type.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===Pi.Type.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===Pi.Type.Date}static isTime(e){return(e==null?void 0:e.typeId)===Pi.Type.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===Pi.Type.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===Pi.Type.Interval}static isList(e){return(e==null?void 0:e.typeId)===Pi.Type.List}static isStruct(e){return(e==null?void 0:e.typeId)===Pi.Type.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===Pi.Type.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===Pi.Type.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===Pi.Type.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===Pi.Type.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===Pi.Type.Dictionary}static isDenseUnion(e){return vu.isUnion(e)&&e.mode===Pi.UnionMode.Dense}static isSparseUnion(e){return vu.isUnion(e)&&e.mode===Pi.UnionMode.Sparse}get typeId(){return Pi.Type.NONE}};ei.DataType=vu;Xme=Symbol.toStringTag;vu[Xme]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))(vu.prototype);var wM=class extends vu{toString(){return"Null"}get typeId(){return Pi.Type.Null}};ei.Null=wM;Zme=Symbol.toStringTag;wM[Zme]=(n=>n[Symbol.toStringTag]="Null")(wM.prototype);var Pp=class extends vu{constructor(e,t){super();this.isSigned=e,this.bitWidth=t}get typeId(){return Pi.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};ei.Int=Pp;e2e=Symbol.toStringTag;Pp[e2e]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))(Pp.prototype);var dX=class extends Pp{constructor(){super(!0,8)}get ArrayType(){return Int8Array}};ei.Int8=dX;var hX=class extends Pp{constructor(){super(!0,16)}get ArrayType(){return Int16Array}};ei.Int16=hX;var pX=class extends Pp{constructor(){super(!0,32)}get ArrayType(){return Int32Array}};ei.Int32=pX;var mX=class extends Pp{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}};ei.Int64=mX;var xX=class extends Pp{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}};ei.Uint8=xX;var gX=class extends Pp{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}};ei.Uint16=gX;var yX=class extends Pp{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}};ei.Uint32=yX;var vX=class extends Pp{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};ei.Uint64=vX;Object.defineProperty(dX.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(hX.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(pX.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(mX.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(xX.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(gX.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(yX.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(vX.prototype,"ArrayType",{value:BigUint64Array});var k_=class extends vu{constructor(e){super();this.precision=e}get typeId(){return Pi.Type.Float}get ArrayType(){switch(this.precision){case Pi.Precision.HALF:return Uint16Array;case Pi.Precision.SINGLE:return Float32Array;case Pi.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};ei.Float=k_;t2e=Symbol.toStringTag;k_[t2e]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(k_.prototype);var _X=class extends k_{constructor(){super(Pi.Precision.HALF)}};ei.Float16=_X;var bX=class extends k_{constructor(){super(Pi.Precision.SINGLE)}};ei.Float32=bX;var EX=class extends k_{constructor(){super(Pi.Precision.DOUBLE)}};ei.Float64=EX;Object.defineProperty(_X.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(bX.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(EX.prototype,"ArrayType",{value:Float64Array});var CM=class extends vu{constructor(){super()}get typeId(){return Pi.Type.Binary}toString(){return"Binary"}};ei.Binary=CM;n2e=Symbol.toStringTag;CM[n2e]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(CM.prototype);var AM=class extends vu{constructor(){super()}get typeId(){return Pi.Type.Utf8}toString(){return"Utf8"}};ei.Utf8=AM;r2e=Symbol.toStringTag;AM[r2e]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(AM.prototype);var TM=class extends vu{constructor(){super()}get typeId(){return Pi.Type.Bool}toString(){return"Bool"}};ei.Bool=TM;i2e=Symbol.toStringTag;TM[i2e]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(TM.prototype);var FM=class extends vu{constructor(e,t,r=128){super();this.scale=e,this.precision=t,this.bitWidth=r}get typeId(){return Pi.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};ei.Decimal=FM;s2e=Symbol.toStringTag;FM[s2e]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(FM.prototype);var U7=class extends vu{constructor(e){super();this.unit=e}get typeId(){return Pi.Type.Date}toString(){return`Date${(this.unit+1)*32}<${Pi.DateUnit[this.unit]}>`}};ei.Date_=U7;o2e=Symbol.toStringTag;U7[o2e]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(U7.prototype);var g2e=class extends U7{constructor(){super(Pi.DateUnit.DAY)}};ei.DateDay=g2e;var y2e=class extends U7{constructor(){super(Pi.DateUnit.MILLISECOND)}};ei.DateMillisecond=y2e;var J3=class extends vu{constructor(e,t){super();this.unit=e,this.bitWidth=t}get typeId(){return Pi.Type.Time}toString(){return`Time${this.bitWidth}<${Pi.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}};ei.Time=J3;a2e=Symbol.toStringTag;J3[a2e]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(J3.prototype);var v2e=class extends J3{constructor(){super(Pi.TimeUnit.SECOND,32)}};ei.TimeSecond=v2e;var _2e=class extends J3{constructor(){super(Pi.TimeUnit.MILLISECOND,32)}};ei.TimeMillisecond=_2e;var b2e=class extends J3{constructor(){super(Pi.TimeUnit.MICROSECOND,64)}};ei.TimeMicrosecond=b2e;var E2e=class extends J3{constructor(){super(Pi.TimeUnit.NANOSECOND,64)}};ei.TimeNanosecond=E2e;var X3=class extends vu{constructor(e,t){super();this.unit=e,this.timezone=t}get typeId(){return Pi.Type.Timestamp}toString(){return`Timestamp<${Pi.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};ei.Timestamp=X3;u2e=Symbol.toStringTag;X3[u2e]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(X3.prototype);var S2e=class extends X3{constructor(e){super(Pi.TimeUnit.SECOND,e)}};ei.TimestampSecond=S2e;var w2e=class extends X3{constructor(e){super(Pi.TimeUnit.MILLISECOND,e)}};ei.TimestampMillisecond=w2e;var C2e=class extends X3{constructor(e){super(Pi.TimeUnit.MICROSECOND,e)}};ei.TimestampMicrosecond=C2e;var A2e=class extends X3{constructor(e){super(Pi.TimeUnit.NANOSECOND,e)}};ei.TimestampNanosecond=A2e;var $7=class extends vu{constructor(e){super();this.unit=e}get typeId(){return Pi.Type.Interval}toString(){return`Interval<${Pi.IntervalUnit[this.unit]}>`}};ei.Interval=$7;l2e=Symbol.toStringTag;$7[l2e]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))($7.prototype);var T2e=class extends $7{constructor(){super(Pi.IntervalUnit.DAY_TIME)}};ei.IntervalDayTime=T2e;var F2e=class extends $7{constructor(){super(Pi.IntervalUnit.YEAR_MONTH)}};ei.IntervalYearMonth=F2e;var DM=class extends vu{constructor(e){super();this.children=[e]}get typeId(){return Pi.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};ei.List=DM;c2e=Symbol.toStringTag;DM[c2e]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(DM.prototype);var OM=class extends vu{constructor(e){super();this.children=e}get typeId(){return Pi.Type.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};ei.Struct=OM;f2e=Symbol.toStringTag;OM[f2e]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(OM.prototype);var z7=class extends vu{constructor(e,t,r){super();this.mode=e,this.children=r,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return Pi.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};ei.Union=z7;d2e=Symbol.toStringTag;z7[d2e]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(z7.prototype);var D2e=class extends z7{constructor(e,t){super(Pi.UnionMode.Dense,e,t)}};ei.DenseUnion=D2e;var O2e=class extends z7{constructor(e,t){super(Pi.UnionMode.Sparse,e,t)}};ei.SparseUnion=O2e;var RM=class extends vu{constructor(e){super();this.byteWidth=e}get typeId(){return Pi.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};ei.FixedSizeBinary=RM;h2e=Symbol.toStringTag;RM[h2e]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(RM.prototype);var NM=class extends vu{constructor(e,t){super();this.listSize=e,this.children=[t]}get typeId(){return Pi.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};ei.FixedSizeList=NM;p2e=Symbol.toStringTag;NM[p2e]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(NM.prototype);var LM=class extends vu{constructor(e,t=!1){super();this.children=[e],this.keysSorted=t}get typeId(){return Pi.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};ei.Map_=LM;m2e=Symbol.toStringTag;LM[m2e]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(LM.prototype);var XHe=(n=>()=>++n)(-1),kM=class extends vu{constructor(e,t,r,i){super();this.indices=t,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?XHe():typeof r=="number"?r:r.low}get typeId(){return Pi.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};ei.Dictionary=kM;x2e=Symbol.toStringTag;kM[x2e]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(kM.prototype);function ZHe(n){let e=n;switch(n.typeId){case Pi.Type.Decimal:return n.bitWidth/32;case Pi.Type.Timestamp:return 2;case Pi.Type.Date:return 1+e.unit;case Pi.Type.Interval:return 1+e.unit;case Pi.Type.FixedSizeList:return e.listSize;case Pi.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}ei.strideForType=ZHe});var md=Ae(IM=>{"use strict";m();Object.defineProperty(IM,"__esModule",{value:!0});IM.Visitor=void 0;var _r=Nl(),R2e=ru(),Ha=class{visitMany(e,...t){return e.map((r,i)=>this.visit(r,...t.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return eVe(this,e,t)}getVisitFnByTypeId(e,t=!0){return H7(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};IM.Visitor=Ha;function eVe(n,e,t=!0){return typeof e=="number"?H7(n,e,t):typeof e=="string"&&e in _r.Type?H7(n,_r.Type[e],t):e&&e instanceof R2e.DataType?H7(n,N2e(e),t):(e==null?void 0:e.type)&&e.type instanceof R2e.DataType?H7(n,N2e(e.type),t):H7(n,_r.Type.NONE,t)}function H7(n,e,t=!0){let r=null;switch(e){case _r.Type.Null:r=n.visitNull;break;case _r.Type.Bool:r=n.visitBool;break;case _r.Type.Int:r=n.visitInt;break;case _r.Type.Int8:r=n.visitInt8||n.visitInt;break;case _r.Type.Int16:r=n.visitInt16||n.visitInt;break;case _r.Type.Int32:r=n.visitInt32||n.visitInt;break;case _r.Type.Int64:r=n.visitInt64||n.visitInt;break;case _r.Type.Uint8:r=n.visitUint8||n.visitInt;break;case _r.Type.Uint16:r=n.visitUint16||n.visitInt;break;case _r.Type.Uint32:r=n.visitUint32||n.visitInt;break;case _r.Type.Uint64:r=n.visitUint64||n.visitInt;break;case _r.Type.Float:r=n.visitFloat;break;case _r.Type.Float16:r=n.visitFloat16||n.visitFloat;break;case _r.Type.Float32:r=n.visitFloat32||n.visitFloat;break;case _r.Type.Float64:r=n.visitFloat64||n.visitFloat;break;case _r.Type.Utf8:r=n.visitUtf8;break;case _r.Type.Binary:r=n.visitBinary;break;case _r.Type.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case _r.Type.Date:r=n.visitDate;break;case _r.Type.DateDay:r=n.visitDateDay||n.visitDate;break;case _r.Type.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case _r.Type.Timestamp:r=n.visitTimestamp;break;case _r.Type.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case _r.Type.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case _r.Type.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case _r.Type.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case _r.Type.Time:r=n.visitTime;break;case _r.Type.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case _r.Type.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case _r.Type.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case _r.Type.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case _r.Type.Decimal:r=n.visitDecimal;break;case _r.Type.List:r=n.visitList;break;case _r.Type.Struct:r=n.visitStruct;break;case _r.Type.Union:r=n.visitUnion;break;case _r.Type.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case _r.Type.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case _r.Type.Dictionary:r=n.visitDictionary;break;case _r.Type.Interval:r=n.visitInterval;break;case _r.Type.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case _r.Type.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case _r.Type.FixedSizeList:r=n.visitFixedSizeList;break;case _r.Type.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!t)return()=>null;throw new Error(`Unrecognized type '${_r.Type[e]}'`)}function N2e(n){switch(n.typeId){case _r.Type.Null:return _r.Type.Null;case _r.Type.Int:{let{bitWidth:e,isSigned:t}=n;switch(e){case 8:return t?_r.Type.Int8:_r.Type.Uint8;case 16:return t?_r.Type.Int16:_r.Type.Uint16;case 32:return t?_r.Type.Int32:_r.Type.Uint32;case 64:return t?_r.Type.Int64:_r.Type.Uint64}return _r.Type.Int}case _r.Type.Float:switch(n.precision){case _r.Precision.HALF:return _r.Type.Float16;case _r.Precision.SINGLE:return _r.Type.Float32;case _r.Precision.DOUBLE:return _r.Type.Float64}return _r.Type.Float;case _r.Type.Binary:return _r.Type.Binary;case _r.Type.Utf8:return _r.Type.Utf8;case _r.Type.Bool:return _r.Type.Bool;case _r.Type.Decimal:return _r.Type.Decimal;case _r.Type.Time:switch(n.unit){case _r.TimeUnit.SECOND:return _r.Type.TimeSecond;case _r.TimeUnit.MILLISECOND:return _r.Type.TimeMillisecond;case _r.TimeUnit.MICROSECOND:return _r.Type.TimeMicrosecond;case _r.TimeUnit.NANOSECOND:return _r.Type.TimeNanosecond}return _r.Type.Time;case _r.Type.Timestamp:switch(n.unit){case _r.TimeUnit.SECOND:return _r.Type.TimestampSecond;case _r.TimeUnit.MILLISECOND:return _r.Type.TimestampMillisecond;case _r.TimeUnit.MICROSECOND:return _r.Type.TimestampMicrosecond;case _r.TimeUnit.NANOSECOND:return _r.Type.TimestampNanosecond}return _r.Type.Timestamp;case _r.Type.Date:switch(n.unit){case _r.DateUnit.DAY:return _r.Type.DateDay;case _r.DateUnit.MILLISECOND:return _r.Type.DateMillisecond}return _r.Type.Date;case _r.Type.Interval:switch(n.unit){case _r.IntervalUnit.DAY_TIME:return _r.Type.IntervalDayTime;case _r.IntervalUnit.YEAR_MONTH:return _r.Type.IntervalYearMonth}return _r.Type.Interval;case _r.Type.Map:return _r.Type.Map;case _r.Type.List:return _r.Type.List;case _r.Type.Struct:return _r.Type.Struct;case _r.Type.Union:switch(n.mode){case _r.UnionMode.Dense:return _r.Type.DenseUnion;case _r.UnionMode.Sparse:return _r.Type.SparseUnion}return _r.Type.Union;case _r.Type.FixedSizeBinary:return _r.Type.FixedSizeBinary;case _r.Type.FixedSizeList:return _r.Type.FixedSizeList;case _r.Type.Dictionary:return _r.Type.Dictionary}throw new Error(`Unrecognized type '${_r.Type[n.typeId]}'`)}Ha.prototype.visitInt8=null;Ha.prototype.visitInt16=null;Ha.prototype.visitInt32=null;Ha.prototype.visitInt64=null;Ha.prototype.visitUint8=null;Ha.prototype.visitUint16=null;Ha.prototype.visitUint32=null;Ha.prototype.visitUint64=null;Ha.prototype.visitFloat16=null;Ha.prototype.visitFloat32=null;Ha.prototype.visitFloat64=null;Ha.prototype.visitDateDay=null;Ha.prototype.visitDateMillisecond=null;Ha.prototype.visitTimestampSecond=null;Ha.prototype.visitTimestampMillisecond=null;Ha.prototype.visitTimestampMicrosecond=null;Ha.prototype.visitTimestampNanosecond=null;Ha.prototype.visitTimeSecond=null;Ha.prototype.visitTimeMillisecond=null;Ha.prototype.visitTimeMicrosecond=null;Ha.prototype.visitTimeNanosecond=null;Ha.prototype.visitDenseUnion=null;Ha.prototype.visitSparseUnion=null;Ha.prototype.visitIntervalDayTime=null;Ha.prototype.visitIntervalYearMonth=null});var qT=Ae(W7=>{"use strict";m();Object.defineProperty(W7,"__esModule",{value:!0});W7.float64ToUint16=W7.uint16ToFloat64=void 0;var L2e=new Float64Array(1),V7=new Uint32Array(L2e.buffer);function tVe(n){let e=(n&31744)>>10,t=(n&1023)/1024,r=Math.pow(-1,(n&32768)>>15);switch(e){case 31:return r*(t?Number.NaN:1/0);case 0:return r*(t?6103515625e-14*t:0)}return r*Math.pow(2,e-15)*(1+t)}W7.uint16ToFloat64=tVe;function nVe(n){if(n!==n)return 32256;L2e[0]=n;let e=(V7[1]&2147483648)>>16&65535,t=V7[1]&2146435072,r=0;return t>=1089470464?V7[0]>0?t=31744:(t=(t&2080374784)>>16,r=(V7[1]&1048575)>>10):t<=1056964608?(r=1048576+(V7[1]&1048575),r=1048576+(r<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,r=(V7[1]&1048575)+512>>10),e|t|r&65535}W7.float64ToUint16=nVe});var Bp=Ae(Ar=>{"use strict";m();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.instance=Ar.setIntervalYearMonth=Ar.setIntervalDayTime=Ar.setIntervalValue=Ar.setDecimal=Ar.setTime=Ar.setTimeNanosecond=Ar.setTimeMicrosecond=Ar.setTimeMillisecond=Ar.setTimeSecond=Ar.setTimestamp=Ar.setTimestampNanosecond=Ar.setTimestampMicrosecond=Ar.setTimestampMillisecond=Ar.setTimestampSecond=Ar.setDate=Ar.setFixedSizeBinary=Ar.setDateMillisecond=Ar.setDateDay=Ar.setAnyFloat=Ar.setFloat16=Ar.setFloat=Ar.setInt=Ar.setVariableWidthBytes=Ar.setEpochMsToNanosecondsLong=Ar.setEpochMsToMicrosecondsLong=Ar.setEpochMsToMillisecondsLong=Ar.setEpochMsToDays=Ar.SetVisitor=void 0;var rVe=xd(),iVe=md(),sVe=L_(),oVe=qT(),oh=Nl(),Ys=class extends iVe.Visitor{};Ar.SetVisitor=Ys;function xo(n){return(e,t,r)=>{if(e.setValid(t,r!=null))return n(e,t,r)}}var aVe=(n,e,t)=>{n[e]=Math.trunc(t/864e5)};Ar.setEpochMsToDays=aVe;var uVe=(n,e,t)=>{n[e]=Math.trunc(t%4294967296),n[e+1]=Math.trunc(t/4294967296)};Ar.setEpochMsToMillisecondsLong=uVe;var lVe=(n,e,t)=>{n[e]=Math.trunc(t*1e3%4294967296),n[e+1]=Math.trunc(t*1e3/4294967296)};Ar.setEpochMsToMicrosecondsLong=lVe;var cVe=(n,e,t)=>{n[e]=Math.trunc(t*1e6%4294967296),n[e+1]=Math.trunc(t*1e6/4294967296)};Ar.setEpochMsToNanosecondsLong=cVe;var fVe=(n,e,t,r)=>{if(t+1<e.length){let{[t]:i,[t+1]:s}=e;n.set(r.subarray(0,s-i),i)}};Ar.setVariableWidthBytes=fVe;var dVe=({offset:n,values:e},t,r)=>{let i=n+t;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},hVe=({values:n},e,t)=>{n[e]=t};Ar.setInt=hVe;var pVe=({values:n},e,t)=>{n[e]=t};Ar.setFloat=pVe;var mVe=({values:n},e,t)=>{n[e]=(0,oVe.float64ToUint16)(t)};Ar.setFloat16=mVe;var xVe=(n,e,t)=>{switch(n.type.precision){case oh.Precision.HALF:return(0,Ar.setFloat16)(n,e,t);case oh.Precision.SINGLE:case oh.Precision.DOUBLE:return(0,Ar.setFloat)(n,e,t)}};Ar.setAnyFloat=xVe;var gVe=({values:n},e,t)=>{(0,Ar.setEpochMsToDays)(n,e,t.valueOf())};Ar.setDateDay=gVe;var yVe=({values:n},e,t)=>{(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t.valueOf())};Ar.setDateMillisecond=yVe;var vVe=({stride:n,values:e},t,r)=>{e.set(r.subarray(0,n),n*t)};Ar.setFixedSizeBinary=vVe;var _Ve=({values:n,valueOffsets:e},t,r)=>(0,Ar.setVariableWidthBytes)(n,e,t,r),bVe=({values:n,valueOffsets:e},t,r)=>{(0,Ar.setVariableWidthBytes)(n,e,t,(0,sVe.encodeUtf8)(r))},EVe=(n,e,t)=>{n.type.unit===oh.DateUnit.DAY?(0,Ar.setDateDay)(n,e,t):(0,Ar.setDateMillisecond)(n,e,t)};Ar.setDate=EVe;var SVe=({values:n},e,t)=>(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t/1e3);Ar.setTimestampSecond=SVe;var wVe=({values:n},e,t)=>(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t);Ar.setTimestampMillisecond=wVe;var CVe=({values:n},e,t)=>(0,Ar.setEpochMsToMicrosecondsLong)(n,e*2,t);Ar.setTimestampMicrosecond=CVe;var AVe=({values:n},e,t)=>(0,Ar.setEpochMsToNanosecondsLong)(n,e*2,t);Ar.setTimestampNanosecond=AVe;var TVe=(n,e,t)=>{switch(n.type.unit){case oh.TimeUnit.SECOND:return(0,Ar.setTimestampSecond)(n,e,t);case oh.TimeUnit.MILLISECOND:return(0,Ar.setTimestampMillisecond)(n,e,t);case oh.TimeUnit.MICROSECOND:return(0,Ar.setTimestampMicrosecond)(n,e,t);case oh.TimeUnit.NANOSECOND:return(0,Ar.setTimestampNanosecond)(n,e,t)}};Ar.setTimestamp=TVe;var FVe=({values:n},e,t)=>{n[e]=t};Ar.setTimeSecond=FVe;var DVe=({values:n},e,t)=>{n[e]=t};Ar.setTimeMillisecond=DVe;var OVe=({values:n},e,t)=>{n[e]=t};Ar.setTimeMicrosecond=OVe;var RVe=({values:n},e,t)=>{n[e]=t};Ar.setTimeNanosecond=RVe;var NVe=(n,e,t)=>{switch(n.type.unit){case oh.TimeUnit.SECOND:return(0,Ar.setTimeSecond)(n,e,t);case oh.TimeUnit.MILLISECOND:return(0,Ar.setTimeMillisecond)(n,e,t);case oh.TimeUnit.MICROSECOND:return(0,Ar.setTimeMicrosecond)(n,e,t);case oh.TimeUnit.NANOSECOND:return(0,Ar.setTimeNanosecond)(n,e,t)}};Ar.setTime=NVe;var LVe=({values:n,stride:e},t,r)=>{n.set(r.subarray(0,e),e*t)};Ar.setDecimal=LVe;var kVe=(n,e,t)=>{let r=n.children[0],i=n.valueOffsets,s=Ar.instance.getVisitFn(r);if(Array.isArray(t))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,t[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,t.get(++o))},IVe=(n,e,t)=>{let r=n.children[0],{valueOffsets:i}=n,s=Ar.instance.getVisitFn(r),{[e]:o,[e+1]:a}=i,l=t instanceof Map?t.entries():Object.entries(t);for(let f of l)if(s(r,o,f),++o>=a)break},MVe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[s]),PVe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(s)),BVe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(i.name)),jVe=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[i.name]),qVe=(n,e,t)=>{let r=n.type.children.map(s=>Ar.instance.getVisitFn(s.type)),i=t instanceof Map?BVe(e,t):t instanceof rVe.Vector?PVe(e,t):Array.isArray(t)?MVe(e,t):jVe(e,t);n.type.children.forEach((s,o)=>i(r[o],n.children[o],s,o))},UVe=(n,e,t)=>{n.type.mode===oh.UnionMode.Dense?k2e(n,e,t):I2e(n,e,t)},k2e=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];Ar.instance.visit(i,n.valueOffsets[e],t)},I2e=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];Ar.instance.visit(i,e,t)},$Ve=(n,e,t)=>{var r;(r=n.dictionary)===null||r===void 0||r.set(n.values[e],t)},zVe=(n,e,t)=>{n.type.unit===oh.IntervalUnit.DAY_TIME?(0,Ar.setIntervalDayTime)(n,e,t):(0,Ar.setIntervalYearMonth)(n,e,t)};Ar.setIntervalValue=zVe;var HVe=({values:n},e,t)=>{n.set(t.subarray(0,2),2*e)};Ar.setIntervalDayTime=HVe;var VVe=({values:n},e,t)=>{n[e]=t[0]*12+t[1]%12};Ar.setIntervalYearMonth=VVe;var WVe=(n,e,t)=>{let{stride:r}=n,i=n.children[0],s=Ar.instance.getVisitFn(i);if(Array.isArray(t))for(let o=-1,a=e*r;++o<r;)s(i,a+o,t[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,t.get(o))};Ys.prototype.visitBool=xo(dVe);Ys.prototype.visitInt=xo(Ar.setInt);Ys.prototype.visitInt8=xo(Ar.setInt);Ys.prototype.visitInt16=xo(Ar.setInt);Ys.prototype.visitInt32=xo(Ar.setInt);Ys.prototype.visitInt64=xo(Ar.setInt);Ys.prototype.visitUint8=xo(Ar.setInt);Ys.prototype.visitUint16=xo(Ar.setInt);Ys.prototype.visitUint32=xo(Ar.setInt);Ys.prototype.visitUint64=xo(Ar.setInt);Ys.prototype.visitFloat=xo(Ar.setAnyFloat);Ys.prototype.visitFloat16=xo(Ar.setFloat16);Ys.prototype.visitFloat32=xo(Ar.setFloat);Ys.prototype.visitFloat64=xo(Ar.setFloat);Ys.prototype.visitUtf8=xo(bVe);Ys.prototype.visitBinary=xo(_Ve);Ys.prototype.visitFixedSizeBinary=xo(Ar.setFixedSizeBinary);Ys.prototype.visitDate=xo(Ar.setDate);Ys.prototype.visitDateDay=xo(Ar.setDateDay);Ys.prototype.visitDateMillisecond=xo(Ar.setDateMillisecond);Ys.prototype.visitTimestamp=xo(Ar.setTimestamp);Ys.prototype.visitTimestampSecond=xo(Ar.setTimestampSecond);Ys.prototype.visitTimestampMillisecond=xo(Ar.setTimestampMillisecond);Ys.prototype.visitTimestampMicrosecond=xo(Ar.setTimestampMicrosecond);Ys.prototype.visitTimestampNanosecond=xo(Ar.setTimestampNanosecond);Ys.prototype.visitTime=xo(Ar.setTime);Ys.prototype.visitTimeSecond=xo(Ar.setTimeSecond);Ys.prototype.visitTimeMillisecond=xo(Ar.setTimeMillisecond);Ys.prototype.visitTimeMicrosecond=xo(Ar.setTimeMicrosecond);Ys.prototype.visitTimeNanosecond=xo(Ar.setTimeNanosecond);Ys.prototype.visitDecimal=xo(Ar.setDecimal);Ys.prototype.visitList=xo(kVe);Ys.prototype.visitStruct=xo(qVe);Ys.prototype.visitUnion=xo(UVe);Ys.prototype.visitDenseUnion=xo(k2e);Ys.prototype.visitSparseUnion=xo(I2e);Ys.prototype.visitDictionary=xo($Ve);Ys.prototype.visitInterval=xo(Ar.setIntervalValue);Ys.prototype.visitIntervalDayTime=xo(Ar.setIntervalDayTime);Ys.prototype.visitIntervalYearMonth=xo(Ar.setIntervalYearMonth);Ys.prototype.visitFixedSizeList=xo(WVe);Ys.prototype.visitMap=xo(IVe);Ar.instance=new Ys});var PM=Ae(MM=>{"use strict";m();Object.defineProperty(MM,"__esModule",{value:!0});MM.StructRow=void 0;var M2e=bM(),SX=I_(),QVe=Bp(),cm=Symbol.for("parent"),Q7=Symbol.for("rowIndex"),wX=class{constructor(e,t){return this[cm]=e,this[Q7]=t,new Proxy(this,new B2e)}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[Q7],t=this[cm],r=t.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=SX.instance.visit(t.children[s],e);return i}toString(){return`{${[...this].map(([e,t])=>`${(0,M2e.valueToString)(e)}: ${(0,M2e.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new P2e(this[cm],this[Q7])}};MM.StructRow=wX;var P2e=class{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,SX.instance.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}};Object.defineProperties(wX.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[cm]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Q7]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});var B2e=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[cm].type.children.map(t=>t.name)}has(e,t){return e[cm].type.children.findIndex(r=>r.name===t)!==-1}getOwnPropertyDescriptor(e,t){if(e[cm].type.children.findIndex(r=>r.name===t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[cm].type.children.findIndex(i=>i.name===t);if(r!==-1){let i=SX.instance.visit(e[cm].children[r],e[Q7]);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[cm].type.children.findIndex(s=>s.name===t);return i!==-1?(QVe.instance.visit(e[cm].children[i],e[Q7],r),Reflect.set(e,t,r)):Reflect.has(e,t)||typeof t=="symbol"?Reflect.set(e,t,r):!1}}});var I_=Ae(e5=>{"use strict";m();Object.defineProperty(e5,"__esModule",{value:!0});e5.instance=e5.GetVisitor=void 0;var GVe=SM(),j2e=xd(),YVe=md(),KVe=UT(),JVe=PM(),XVe=L_(),q2e=qT(),jp=Nl(),$s=class extends YVe.Visitor{};e5.GetVisitor=$s;function ao(n){return(e,t)=>e.getValid(t)?n(e,t):null}var ZVe=(n,e)=>864e5*n[e],CX=(n,e)=>4294967296*n[e+1]+(n[e]>>>0),eWe=(n,e)=>4294967296*(n[e+1]/1e3)+(n[e]>>>0)/1e3,tWe=(n,e)=>4294967296*(n[e+1]/1e6)+(n[e]>>>0)/1e6,U2e=n=>new Date(n),nWe=(n,e)=>U2e(ZVe(n,e)),rWe=(n,e)=>U2e(CX(n,e)),iWe=(n,e)=>null,$2e=(n,e,t)=>{if(t+1>=e.length)return null;let r=e[t],i=e[t+1];return n.subarray(r,i)},sWe=({offset:n,values:e},t)=>{let r=n+t;return(e[r>>3]&1<<r%8)!==0},z2e=({values:n},e)=>nWe(n,e),H2e=({values:n},e)=>rWe(n,e*2),Z3=({stride:n,values:e},t)=>e[n*t],oWe=({stride:n,values:e},t)=>(0,q2e.uint16ToFloat64)(e[n*t]),V2e=({values:n},e)=>n[e],aWe=({stride:n,values:e},t)=>e.subarray(n*t,n*(t+1)),uWe=({values:n,valueOffsets:e},t)=>$2e(n,e,t),lWe=({values:n,valueOffsets:e},t)=>{let r=$2e(n,e,t);return r!==null?(0,XVe.decodeUtf8)(r):null},cWe=({values:n},e)=>n[e],fWe=({type:n,values:e},t)=>n.precision!==jp.Precision.HALF?e[t]:(0,q2e.uint16ToFloat64)(e[t]),dWe=(n,e)=>n.type.unit===jp.DateUnit.DAY?z2e(n,e):H2e(n,e),W2e=({values:n},e)=>1e3*CX(n,e*2),Q2e=({values:n},e)=>CX(n,e*2),G2e=({values:n},e)=>eWe(n,e*2),Y2e=({values:n},e)=>tWe(n,e*2),hWe=(n,e)=>{switch(n.type.unit){case jp.TimeUnit.SECOND:return W2e(n,e);case jp.TimeUnit.MILLISECOND:return Q2e(n,e);case jp.TimeUnit.MICROSECOND:return G2e(n,e);case jp.TimeUnit.NANOSECOND:return Y2e(n,e)}},K2e=({values:n},e)=>n[e],J2e=({values:n},e)=>n[e],X2e=({values:n},e)=>n[e],Z2e=({values:n},e)=>n[e],pWe=(n,e)=>{switch(n.type.unit){case jp.TimeUnit.SECOND:return K2e(n,e);case jp.TimeUnit.MILLISECOND:return J2e(n,e);case jp.TimeUnit.MICROSECOND:return X2e(n,e);case jp.TimeUnit.NANOSECOND:return Z2e(n,e)}},mWe=({values:n,stride:e},t)=>GVe.BN.decimal(n.subarray(e*t,e*(t+1))),xWe=(n,e)=>{let{valueOffsets:t,stride:r,children:i}=n,{[e*r]:s,[e*r+1]:o}=t,l=i[0].slice(s,o-s);return new j2e.Vector([l])},gWe=(n,e)=>{let{valueOffsets:t,children:r}=n,{[e]:i,[e+1]:s}=t,o=r[0];return new KVe.MapRow(o.slice(i,s-i))},yWe=(n,e)=>new JVe.StructRow(n,e),vWe=(n,e)=>n.type.mode===jp.UnionMode.Dense?exe(n,e):txe(n,e),exe=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return e5.instance.visit(r,n.valueOffsets[e])},txe=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return e5.instance.visit(r,e)},_We=(n,e)=>{var t;return(t=n.dictionary)===null||t===void 0?void 0:t.get(n.values[e])},bWe=(n,e)=>n.type.unit===jp.IntervalUnit.DAY_TIME?nxe(n,e):rxe(n,e),nxe=({values:n},e)=>n.subarray(2*e,2*(e+1)),rxe=({values:n},e)=>{let t=n[e],r=new Int32Array(2);return r[0]=Math.trunc(t/12),r[1]=Math.trunc(t%12),r},EWe=(n,e)=>{let{stride:t,children:r}=n,s=r[0].slice(e*t,t);return new j2e.Vector([s])};$s.prototype.visitNull=ao(iWe);$s.prototype.visitBool=ao(sWe);$s.prototype.visitInt=ao(cWe);$s.prototype.visitInt8=ao(Z3);$s.prototype.visitInt16=ao(Z3);$s.prototype.visitInt32=ao(Z3);$s.prototype.visitInt64=ao(V2e);$s.prototype.visitUint8=ao(Z3);$s.prototype.visitUint16=ao(Z3);$s.prototype.visitUint32=ao(Z3);$s.prototype.visitUint64=ao(V2e);$s.prototype.visitFloat=ao(fWe);$s.prototype.visitFloat16=ao(oWe);$s.prototype.visitFloat32=ao(Z3);$s.prototype.visitFloat64=ao(Z3);$s.prototype.visitUtf8=ao(lWe);$s.prototype.visitBinary=ao(uWe);$s.prototype.visitFixedSizeBinary=ao(aWe);$s.prototype.visitDate=ao(dWe);$s.prototype.visitDateDay=ao(z2e);$s.prototype.visitDateMillisecond=ao(H2e);$s.prototype.visitTimestamp=ao(hWe);$s.prototype.visitTimestampSecond=ao(W2e);$s.prototype.visitTimestampMillisecond=ao(Q2e);$s.prototype.visitTimestampMicrosecond=ao(G2e);$s.prototype.visitTimestampNanosecond=ao(Y2e);$s.prototype.visitTime=ao(pWe);$s.prototype.visitTimeSecond=ao(K2e);$s.prototype.visitTimeMillisecond=ao(J2e);$s.prototype.visitTimeMicrosecond=ao(X2e);$s.prototype.visitTimeNanosecond=ao(Z2e);$s.prototype.visitDecimal=ao(mWe);$s.prototype.visitList=ao(xWe);$s.prototype.visitStruct=ao(yWe);$s.prototype.visitUnion=ao(vWe);$s.prototype.visitDenseUnion=ao(exe);$s.prototype.visitSparseUnion=ao(txe);$s.prototype.visitDictionary=ao(_We);$s.prototype.visitInterval=ao(bWe);$s.prototype.visitIntervalDayTime=ao(nxe);$s.prototype.visitIntervalYearMonth=ao(rxe);$s.prototype.visitFixedSizeList=ao(EWe);$s.prototype.visitMap=ao(gWe);e5.instance=new $s});var UT=Ae($u=>{"use strict";m();Object.defineProperty($u,"__esModule",{value:!0});$u.MapRow=$u.kVals=$u.kKeys=void 0;var SWe=xd(),ixe=bM(),AX=I_(),wWe=Bp();$u.kKeys=Symbol.for("keys");$u.kVals=Symbol.for("vals");var TX=class{constructor(e){return this[$u.kKeys]=new SWe.Vector([e.children[0]]).memoize(),this[$u.kVals]=e.children[1],new Proxy(this,new oxe)}[Symbol.iterator](){return new sxe(this[$u.kKeys],this[$u.kVals])}get size(){return this[$u.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[$u.kKeys],t=this[$u.kVals],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=AX.instance.visit(t,i);return r}toString(){return`{${[...this].map(([e,t])=>`${(0,ixe.valueToString)(e)}: ${(0,ixe.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}};$u.MapRow=TX;var sxe=class{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){let e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),AX.instance.visit(this.vals,e)]})}},oxe=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[$u.kKeys].toArray().map(String)}has(e,t){return e[$u.kKeys].includes(t)}getOwnPropertyDescriptor(e,t){if(e[$u.kKeys].indexOf(t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[$u.kKeys].indexOf(t);if(r!==-1){let i=AX.instance.visit(Reflect.get(e,$u.kVals),r);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[$u.kKeys].indexOf(t);return i!==-1?(wWe.instance.visit(Reflect.get(e,$u.kVals),i,r),Reflect.set(e,t,r)):Reflect.has(e,t)?Reflect.set(e,t,r):!1}};Object.defineProperties(TX.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[$u.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[$u.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var zT=Ae(t5=>{"use strict";m();Object.defineProperty(t5,"__esModule",{value:!0});t5.createElementComparator=t5.clampRange=t5.clampIndex=void 0;var axe=xd(),CWe=UT(),AWe=PM(),TWe=Hf();function FWe(n,e,t){let r=n.length,i=e>-1?e:r+e%r;return t?t(n,i):i}t5.clampIndex=FWe;var uxe;function DWe(n,e,t,r){let{length:i=0}=n,s=typeof e!="number"?0:e,o=typeof t!="number"?i:t;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(uxe=s,s=o,o=uxe),o>i&&(o=i),r?r(n,s,o):[s,o]}t5.clampRange=DWe;var lxe=n=>n!==n;function $T(n){if(typeof n!=="object"||n===null)return lxe(n)?lxe:t=>t===n;if(n instanceof Date){let t=n.valueOf();return r=>r instanceof Date?r.valueOf()===t:!1}return ArrayBuffer.isView(n)?t=>t?(0,TWe.compareArrayLike)(n,t):!1:n instanceof Map?RWe(n):Array.isArray(n)?OWe(n):n instanceof axe.Vector?NWe(n):LWe(n,!0)}t5.createElementComparator=$T;function OWe(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=$T(n[t]);return BM(e)}function RWe(n){let e=-1,t=[];for(let r of n.values())t[++e]=$T(r);return BM(t)}function NWe(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=$T(n.get(t));return BM(e)}function LWe(n,e=!1){let t=Object.keys(n);if(!e&&t.length===0)return()=>!1;let r=[];for(let i=-1,s=t.length;++i<s;)r[i]=$T(n[t[i]]);return BM(r,t)}function BM(n,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return kWe(n,t);case Map:return cxe(n,t,t.keys());case CWe.MapRow:case AWe.StructRow:case Object:case void 0:return cxe(n,t,e||Object.keys(t))}return t instanceof axe.Vector?IWe(n,t):!1}}function kWe(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e[r]))return!1;return!0}function IWe(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e.get(r)))return!1;return!0}function cxe(n,e,t){let r=t[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=n.length,l=s.next(),f=r.next(),p=i.next();for(;o<a&&!f.done&&!p.done&&!l.done&&!(f.value!==p.value||!n[o](l.value));++o,f=r.next(),p=i.next(),l=s.next());return o===a&&f.done&&p.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}});var M_=Ae(xc=>{"use strict";m();Object.defineProperty(xc,"__esModule",{value:!0});xc.popcnt_uint32=xc.popcnt_array=xc.popcnt_bit_range=xc.BitIterator=xc.packBools=xc.truncateBitmap=xc.setBool=xc.getBit=xc.getBool=void 0;function fxe(n,e,t,r){return(t&1<<r)!==0}xc.getBool=fxe;function dxe(n,e,t,r){return(t&1<<r)>>r}xc.getBit=dxe;function MWe(n,e,t){return t?!!(n[e>>3]|=1<<e%8)||!0:!(n[e>>3]&=~(1<<e%8))&&!1}xc.setBool=MWe;function PWe(n,e,t){let r=t.byteLength+7&~7;if(n>0||t.byteLength<r){let i=new Uint8Array(r);return i.set(n%8===0?t.subarray(n>>3):hxe(new jM(t,n,e,null,fxe)).subarray(0,r)),i}return t}xc.truncateBitmap=PWe;function hxe(n){let e=[],t=0,r=0,i=0;for(let o of n)o&&(i|=1<<r),++r===8&&(e[t++]=i,i=r=0);(t===0||r>0)&&(e[t++]=i);let s=new Uint8Array(e.length+7&~7);return s.set(e),s}xc.packBools=hxe;var jM=class{constructor(e,t,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};xc.BitIterator=jM;function FX(n,e,t){if(t-e<=0)return 0;if(t-e<8){let s=0;for(let o of new jM(n,e,t-e,n,dxe))s+=o;return s}let r=t>>3<<3,i=e+(e%8===0?0:8-e%8);return FX(n,e,i)+FX(n,r,t)+pxe(n,i>>3,r-i>>3)}xc.popcnt_bit_range=FX;function pxe(n,e,t){let r=0,i=Math.trunc(e),s=new DataView(n.buffer,n.byteOffset,n.byteLength),o=t===void 0?n.byteLength:i+t;for(;o-i>=4;)r+=qM(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=qM(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=qM(s.getUint8(i)),i+=1;return r}xc.popcnt_array=pxe;function qM(n){let e=Math.trunc(n);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}xc.popcnt_uint32=qM});var E2=Ae(_g=>{"use strict";m();Object.defineProperty(_g,"__esModule",{value:!0});_g.makeData=_g.Data=_g.kUnknownNullCount=void 0;var BWe=xd(),n5=Nl(),vg=ru(),mxe=M_();_g.kUnknownNullCount=-1;var _u=class{constructor(e,t,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof _u?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=(0,vg.strideForType)(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:r,nullBitmap:i,typeIds:s}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=_g.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-(0,mxe.popcnt_bit_range)(t,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){let t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){let{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}let{nullBitmap:r,offset:i}=this,s=i+e>>3,o=(i+e)%8,a=r[s]>>o&1;return t?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new _u(e,t,r,i,s,o,this.dictionary)}slice(e,t){let{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,t,r,i);return this.clone(this.type,this.offset+e,t,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===n5.Type.Null)return this.clone(this.type,0,e,0);let{length:t,nullCount:r}=this,i=new Uint8Array((e+63&~63)>>3).fill(255,0,t>>3);i[t>>3]=(1<<t-(t&~7))-1,r>0&&i.set((0,mxe.truncateBitmap)(this.offset,t,this.nullBitmap),0);let s=this.buffers;return s[n5.BufferType.VALIDITY]=i,this.clone(this.type,0,e,r+(e-t),s)}_sliceBuffers(e,t,r,i){let s,{buffers:o}=this;return(s=o[n5.BufferType.TYPE])&&(o[n5.BufferType.TYPE]=s.subarray(e,e+t)),(s=o[n5.BufferType.OFFSET])&&(o[n5.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=o[n5.BufferType.DATA])&&(o[n5.BufferType.DATA]=i===6?s:s.subarray(r*e,r*(e+t))),o}_sliceChildren(e,t,r){return e.map(i=>i.slice(t,r))}};_g.Data=_u;_u.prototype.children=Object.freeze([]);var jWe=md(),Go=Hf(),G7=class extends jWe.Visitor{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){let{["type"]:t,["offset"]:r=0,["length"]:i=0}=e;return new _u(t,r,i,0)}visitBool(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,s,i])}visitInt(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,s,i])}visitFloat(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,s,i])}visitUtf8(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.data),s=(0,Go.toUint8Array)(e.nullBitmap),o=(0,Go.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new _u(t,r,a,l,[o,i,s])}visitBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.data),s=(0,Go.toUint8Array)(e.nullBitmap),o=(0,Go.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new _u(t,r,a,l,[o,i,s])}visitFixedSizeBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,vg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,s,i])}visitDate(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,vg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,s,i])}visitTimestamp(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,vg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,s,i])}visitTime(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,vg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,s,i])}visitDecimal(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,vg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,s,i])}visitList(e){let{["type"]:t,["offset"]:r=0,["child"]:i}=e,s=(0,Go.toUint8Array)(e.nullBitmap),o=(0,Go.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new _u(t,r,a,l,[o,void 0,s],[i])}visitStruct(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,Go.toUint8Array)(e.nullBitmap),{length:o=i.reduce((l,{length:f})=>Math.max(l,f),0),nullCount:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,void 0,s],i)}visitUnion(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,Go.toUint8Array)(e.nullBitmap),o=(0,Go.toArrayBufferView)(t.ArrayType,e.typeIds),{["length"]:a=o.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;if(vg.DataType.isSparseUnion(t))return new _u(t,r,a,l,[void 0,void 0,s,o],i);let f=(0,Go.toInt32Array)(e.valueOffsets);return new _u(t,r,a,l,[f,void 0,s,o],i)}visitDictionary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.indices.ArrayType,e.data),{["dictionary"]:o=new BWe.Vector([new G7().visit({type:t.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new _u(t,r,a,l,[void 0,s,i],[],o)}visitInterval(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,vg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,s,i])}visitFixedSizeList(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new G7().visit({type:t.valueType})}=e,s=(0,Go.toUint8Array)(e.nullBitmap),{["length"]:o=i.length/(0,vg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new _u(t,r,o,a,[void 0,void 0,s],[i])}visitMap(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new G7().visit({type:t.childType})}=e,s=(0,Go.toUint8Array)(e.nullBitmap),o=(0,Go.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new _u(t,r,a,l,[o,void 0,s],[i])}};function qWe(n){return new G7().visit(n)}_g.makeData=qWe});var $M=Ae(gc=>{"use strict";m();Object.defineProperty(gc,"__esModule",{value:!0});gc.wrapChunkedIndexOf=gc.wrapChunkedCall2=gc.wrapChunkedCall1=gc.isChunkedValid=gc.binarySearch=gc.sliceChunks=gc.computeChunkOffsets=gc.computeChunkNullCounts=gc.ChunkedIterator=void 0;var xxe=class{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}};gc.ChunkedIterator=xxe;function UWe(n){return n.reduce((e,t)=>e+t.nullCount,0)}gc.computeChunkNullCounts=UWe;function $We(n){return n.reduce((e,t,r)=>(e[r+1]=e[r]+t.length,e),new Uint32Array(n.length+1))}gc.computeChunkOffsets=$We;function zWe(n,e,t,r){let i=[];for(let s=-1,o=n.length;++s<o;){let a=n[s],l=e[s],{length:f}=a;if(l>=r)break;if(t>=l+f)continue;if(l>=t&&l+f<=r){i.push(a);continue}let p=Math.max(0,t-l),_=Math.min(r-l,f);i.push(a.slice(p,_-p))}return i.length===0&&i.push(n[0].slice(0,0)),i}gc.sliceChunks=zWe;function UM(n,e,t,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return t<e[o]?r(n,i,t-e[i]):null;s=i+Math.trunc((o-i)*.5),t<e[s]?o=s:i=s}while(i<o)}gc.binarySearch=UM;function HWe(n,e){return n.getValid(e)}gc.isChunkedValid=HWe;function VWe(n){function e(t,r,i){return n(t[r],i)}return function(t){let r=this.data;return UM(r,this._offsets,t,e)}}gc.wrapChunkedCall1=VWe;function WWe(n){let e;function t(r,i,s){return n(r[i],s,e)}return function(r,i){let s=this.data;e=i;let o=UM(s,this._offsets,r,t);return e=void 0,o}}gc.wrapChunkedCall2=WWe;function QWe(n){let e;function t(r,i,s){let o=s,a=0,l=0;for(let f=i-1,p=r.length;++f<p;){let _=r[f];if(~(a=n(_,e,o)))return l+a;o=0,l+=_.length}return-1}return function(r,i){e=r;let s=this.data,o=typeof i!="number"?t(s,0,0):UM(s,this._offsets,i,t);return e=void 0,o}}gc.wrapChunkedIndexOf=QWe});var zM=Ae(Y7=>{"use strict";m();Object.defineProperty(Y7,"__esModule",{value:!0});Y7.instance=Y7.IndexOfVisitor=void 0;var GWe=md(),gxe=I_(),yxe=M_(),vxe=zT(),zs=class extends GWe.Visitor{};Y7.IndexOfVisitor=zs;function YWe(n,e){return e===null&&n.length>0?0:-1}function KWe(n,e){let{nullBitmap:t}=n;if(!t||n.nullCount<=0)return-1;let r=0;for(let i of new yxe.BitIterator(t,n.offset+(e||0),n.length,t,yxe.getBool)){if(!i)return r;++r}return-1}function To(n,e,t){if(e===void 0)return-1;if(e===null)return KWe(n,t);let r=gxe.instance.getVisitFn(n),i=(0,vxe.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}function _xe(n,e,t){let r=gxe.instance.getVisitFn(n),i=(0,vxe.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}zs.prototype.visitNull=YWe;zs.prototype.visitBool=To;zs.prototype.visitInt=To;zs.prototype.visitInt8=To;zs.prototype.visitInt16=To;zs.prototype.visitInt32=To;zs.prototype.visitInt64=To;zs.prototype.visitUint8=To;zs.prototype.visitUint16=To;zs.prototype.visitUint32=To;zs.prototype.visitUint64=To;zs.prototype.visitFloat=To;zs.prototype.visitFloat16=To;zs.prototype.visitFloat32=To;zs.prototype.visitFloat64=To;zs.prototype.visitUtf8=To;zs.prototype.visitBinary=To;zs.prototype.visitFixedSizeBinary=To;zs.prototype.visitDate=To;zs.prototype.visitDateDay=To;zs.prototype.visitDateMillisecond=To;zs.prototype.visitTimestamp=To;zs.prototype.visitTimestampSecond=To;zs.prototype.visitTimestampMillisecond=To;zs.prototype.visitTimestampMicrosecond=To;zs.prototype.visitTimestampNanosecond=To;zs.prototype.visitTime=To;zs.prototype.visitTimeSecond=To;zs.prototype.visitTimeMillisecond=To;zs.prototype.visitTimeMicrosecond=To;zs.prototype.visitTimeNanosecond=To;zs.prototype.visitDecimal=To;zs.prototype.visitList=To;zs.prototype.visitStruct=To;zs.prototype.visitUnion=To;zs.prototype.visitDenseUnion=_xe;zs.prototype.visitSparseUnion=_xe;zs.prototype.visitDictionary=To;zs.prototype.visitInterval=To;zs.prototype.visitIntervalDayTime=To;zs.prototype.visitIntervalYearMonth=To;zs.prototype.visitFixedSizeList=To;zs.prototype.visitMap=To;Y7.instance=new zs});var HM=Ae(K7=>{"use strict";m();Object.defineProperty(K7,"__esModule",{value:!0});K7.instance=K7.IteratorVisitor=void 0;var JWe=md(),bxe=Nl(),DX=ru(),Exe=$M(),Hs=class extends JWe.Visitor{};K7.IteratorVisitor=Hs;function uo(n){let{type:e}=n;if(n.nullCount===0&&n.stride===1&&(e.typeId===bxe.Type.Timestamp||e instanceof DX.Int&&e.bitWidth!==64||e instanceof DX.Time&&e.bitWidth!==64||e instanceof DX.Float&&e.precision!==bxe.Precision.HALF))return new Exe.ChunkedIterator(n.data.length,r=>{let i=n.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let t=0;return new Exe.ChunkedIterator(n.data.length,r=>{let s=n.data[r].length,o=n.slice(t,t+s);return t+=s,new Sxe(o)})}var Sxe=class{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};Hs.prototype.visitNull=uo;Hs.prototype.visitBool=uo;Hs.prototype.visitInt=uo;Hs.prototype.visitInt8=uo;Hs.prototype.visitInt16=uo;Hs.prototype.visitInt32=uo;Hs.prototype.visitInt64=uo;Hs.prototype.visitUint8=uo;Hs.prototype.visitUint16=uo;Hs.prototype.visitUint32=uo;Hs.prototype.visitUint64=uo;Hs.prototype.visitFloat=uo;Hs.prototype.visitFloat16=uo;Hs.prototype.visitFloat32=uo;Hs.prototype.visitFloat64=uo;Hs.prototype.visitUtf8=uo;Hs.prototype.visitBinary=uo;Hs.prototype.visitFixedSizeBinary=uo;Hs.prototype.visitDate=uo;Hs.prototype.visitDateDay=uo;Hs.prototype.visitDateMillisecond=uo;Hs.prototype.visitTimestamp=uo;Hs.prototype.visitTimestampSecond=uo;Hs.prototype.visitTimestampMillisecond=uo;Hs.prototype.visitTimestampMicrosecond=uo;Hs.prototype.visitTimestampNanosecond=uo;Hs.prototype.visitTime=uo;Hs.prototype.visitTimeSecond=uo;Hs.prototype.visitTimeMillisecond=uo;Hs.prototype.visitTimeMicrosecond=uo;Hs.prototype.visitTimeNanosecond=uo;Hs.prototype.visitDecimal=uo;Hs.prototype.visitList=uo;Hs.prototype.visitStruct=uo;Hs.prototype.visitUnion=uo;Hs.prototype.visitDenseUnion=uo;Hs.prototype.visitSparseUnion=uo;Hs.prototype.visitDictionary=uo;Hs.prototype.visitInterval=uo;Hs.prototype.visitIntervalDayTime=uo;Hs.prototype.visitIntervalYearMonth=uo;Hs.prototype.visitFixedSizeList=uo;Hs.prototype.visitMap=uo;K7.instance=new Hs});var VM=Ae(qp=>{"use strict";m();Object.defineProperty(qp,"__esModule",{value:!0});qp.instance=qp.GetByteLengthVisitor=void 0;var XWe=md(),wxe=Nl(),ZWe=(n,e)=>n+e,S2=class extends XWe.Visitor{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===wxe.TimeUnit.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((r,i)=>r+qp.instance.visit(i,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((r,i)=>r+qp.instance.visit(i,t),0)}visitDictionary(e,t){var r;return e.type.indices.bitWidth/8+(((r=e.dictionary)===null||r===void 0?void 0:r.getByteLength(e.values[t]))||0)}};qp.GetByteLengthVisitor=S2;var eQe=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),tQe=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),nQe=({valueOffsets:n,stride:e,children:t},r)=>{let i=t[0],{[r*e]:s}=n,{[r*e+1]:o}=n,a=qp.instance.getVisitFn(i.type),l=i.slice(s,o-s),f=8;for(let p=-1,_=o-s;++p<_;)f+=a(l,p);return f},rQe=({stride:n,children:e},t)=>{let r=e[0],i=r.slice(t*n,n),s=qp.instance.getVisitFn(r.type),o=0;for(let a=-1,l=i.length;++a<l;)o+=s(i,a);return o},iQe=(n,e)=>n.type.mode===wxe.UnionMode.Dense?Cxe(n,e):Axe(n,e),Cxe=({type:n,children:e,typeIds:t,valueOffsets:r},i)=>{let s=n.typeIdToChildIndex[t[i]];return 8+qp.instance.visit(e[s],r[i])},Axe=({children:n},e)=>4+qp.instance.visitMany(n,n.map(()=>e)).reduce(ZWe,0);S2.prototype.visitUtf8=eQe;S2.prototype.visitBinary=tQe;S2.prototype.visitList=nQe;S2.prototype.visitFixedSizeList=rQe;S2.prototype.visitUnion=iQe;S2.prototype.visitDenseUnion=Cxe;S2.prototype.visitSparseUnion=Axe;qp.instance=new S2});var xd=Ae(X7=>{"use strict";m();var Txe;Object.defineProperty(X7,"__esModule",{value:!0});X7.makeVector=X7.Vector=void 0;var sQe=hs(),bg=Nl(),oQe=zT(),J7=ru(),ah=E2(),w2=$M(),Fxe=I_(),Dxe=Bp(),Oxe=zM(),aQe=HM(),Rxe=VM(),Nxe={},Lxe={},Da=class{constructor(e){var t,r,i;let s=e[0]instanceof Da?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof ah.Data)))throw new TypeError("Vector constructor expects an Array of Data instances.");let o=(t=s[0])===null||t===void 0?void 0:t.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{let{get:a,set:l,indexOf:f,byteLength:p}=Nxe[o.typeId],_=s[0];this.isValid=E=>(0,w2.isChunkedValid)(_,E),this.get=E=>a(_,E),this.set=(E,O)=>l(_,E,O),this.indexOf=E=>f(_,E),this.getByteLength=E=>p(_,E),this._offsets=[0,_.length];break}default:Object.setPrototypeOf(this,Lxe[o.typeId]),this._offsets=(0,w2.computeChunkOffsets)(s);break}this.data=s,this.type=o,this.stride=(0,J7.strideForType)(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,w2.computeChunkNullCounts)(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${bg.Type[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return aQe.instance.visit(this)}concat(...e){return new Da(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new Da((0,oQe.clampRange)(this,e,t,({data:r,_offsets:i},s,o)=>(0,w2.sliceChunks)(r,i,s,o)))}toJSON(){return[...this]}toArray(){let{type:e,data:t,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case bg.Type.Int:case bg.Type.Float:case bg.Type.Decimal:case bg.Type.Time:case bg.Type.Timestamp:switch(t.length){case 0:return new s;case 1:return t[0].values.subarray(0,r*i);default:return t.reduce((o,{values:a})=>(o.array.set(a,o.offset),o.offset+=a.length,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt((t=this.type.children)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Da(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return J7.DataType.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(J7.DataType.isDictionary(this.type)){let e=new HT(this.data[0].dictionary),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new Da(t)}return new HT(this)}unmemoize(){if(J7.DataType.isDictionary(this.type)&&this.isMemoized){let e=this.data[0].dictionary.unmemoize(),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new Da(t)}return this}};X7.Vector=Da;Txe=Symbol.toStringTag;Da[Txe]=(n=>{n.type=J7.DataType.prototype,n.data=[],n.length=0,n.stride=1,n.numChildren=0,n._nullCount=-1,n._byteLength=-1,n._offsets=new Uint32Array([0]),n[Symbol.isConcatSpreadable]=!0;let e=Object.keys(bg.Type).map(t=>bg.Type[t]).filter(t=>typeof t=="number"&&t!==bg.Type.NONE);for(let t of e){let r=Fxe.instance.getVisitFnByTypeId(t),i=Dxe.instance.getVisitFnByTypeId(t),s=Oxe.instance.getVisitFnByTypeId(t),o=Rxe.instance.getVisitFnByTypeId(t);Nxe[t]={get:r,set:i,indexOf:s,byteLength:o},Lxe[t]=Object.create(n,{isValid:{value:(0,w2.wrapChunkedCall1)(w2.isChunkedValid)},get:{value:(0,w2.wrapChunkedCall1)(Fxe.instance.getVisitFnByTypeId(t))},set:{value:(0,w2.wrapChunkedCall2)(Dxe.instance.getVisitFnByTypeId(t))},indexOf:{value:(0,w2.wrapChunkedIndexOf)(Oxe.instance.getVisitFnByTypeId(t))},getByteLength:{value:(0,w2.wrapChunkedCall1)(Rxe.instance.getVisitFnByTypeId(t))}})}return"Vector"})(Da.prototype);var HT=class extends Da{constructor(e){super(e.data);let t=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){let a=s[o];if(a!==void 0)return a;let l=t.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new HT(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Da(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}},C2=sQe.__importStar(ru());function kxe(n){if(n){if(n instanceof ah.Data)return new Da([n]);if(n instanceof Da)return new Da(n.data);if(n.type instanceof J7.DataType)return new Da([(0,ah.makeData)(n)]);if(Array.isArray(n))return new Da(n.flatMap(e=>uQe(e)));if(ArrayBuffer.isView(n)){n instanceof DataView&&(n=new Uint8Array(n.buffer));let e={offset:0,length:n.length,nullCount:0,data:n};if(n instanceof Int8Array)return new Da([(0,ah.makeData)(Object.assign(Object.assign({},e),{type:new C2.Int8}))]);if(n instanceof Int16Array)return new Da([(0,ah.makeData)(Object.assign(Object.assign({},e),{type:new C2.Int16}))]);if(n instanceof Int32Array)return new Da([(0,ah.makeData)(Object.assign(Object.assign({},e),{type:new C2.Int32}))]);if(n instanceof BigInt64Array)return new Da([(0,ah.makeData)(Object.assign(Object.assign({},e),{type:new C2.Int64}))]);if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return new Da([(0,ah.makeData)(Object.assign(Object.assign({},e),{type:new C2.Uint8}))]);if(n instanceof Uint16Array)return new Da([(0,ah.makeData)(Object.assign(Object.assign({},e),{type:new C2.Uint16}))]);if(n instanceof Uint32Array)return new Da([(0,ah.makeData)(Object.assign(Object.assign({},e),{type:new C2.Uint32}))]);if(n instanceof BigUint64Array)return new Da([(0,ah.makeData)(Object.assign(Object.assign({},e),{type:new C2.Uint64}))]);if(n instanceof Float32Array)return new Da([(0,ah.makeData)(Object.assign(Object.assign({},e),{type:new C2.Float32}))]);if(n instanceof Float64Array)return new Da([(0,ah.makeData)(Object.assign(Object.assign({},e),{type:new C2.Float64}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}X7.makeVector=kxe;function uQe(n){return n instanceof ah.Data?[n]:n instanceof Da?n.data:kxe(n).data}});var Ixe=Ae(WM=>{"use strict";m();Object.defineProperty(WM,"__esModule",{value:!0});WM.createIsValidFunction=void 0;var OX=bM(),lQe=_2();function cQe(n){if(!n||n.length<=0)return function(i){return!0};let e="",t=n.filter(r=>r===r);return t.length>0&&(e=`
    switch (x) {${t.map(r=>`
        case ${fQe(r)}:`).join("")}
            return false;
    }`),n.length!==t.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}WM.createIsValidFunction=cQe;function fQe(n){return typeof n!="bigint"?(0,OX.valueToString)(n):lQe.BigIntAvailable?`${(0,OX.valueToString)(n)}n`:`"${(0,OX.valueToString)(n)}"`}});var P_=Ae(A2=>{"use strict";m();Object.defineProperty(A2,"__esModule",{value:!0});A2.OffsetsBufferBuilder=A2.BitmapBufferBuilder=A2.DataBufferBuilder=A2.BufferBuilder=void 0;var Mxe=Hf(),RX=(n,e)=>(n*e+63&~63||64)/e,dQe=(n,e=0)=>n.length>=e?n.subarray(0,e):(0,Mxe.memcpy)(new n.constructor(e),n,0),QM=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=Math.trunc(e.length/t))}get byteLength(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,r=this.length*t,i=this.buffer.length;r>=i&&this._resize(i===0?RX(r*1,this.BYTES_PER_ELEMENT):RX(r*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=RX(e*this.stride,this.BYTES_PER_ELEMENT);let t=dQe(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=(0,Mxe.memcpy)(new this.ArrayType(e),this.buffer)}};A2.BufferBuilder=QM;QM.prototype.offset=0;var GM=class extends QM{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};A2.DataBufferBuilder=GM;var Pxe=class extends GM{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:r}=this.reserve(e-this.length+1),i=e>>3,s=e%8,o=r[i]>>s&1;return t?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}};A2.BitmapBufferBuilder=Pxe;var Bxe=class extends GM{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let r=this.length-1,i=this.reserve(e-r+1).buffer;return r<e++&&i.fill(i[r],r,e),i[e]=i[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}};A2.OffsetsBufferBuilder=Bxe});var Gl=Ae(r5=>{"use strict";m();Object.defineProperty(r5,"__esModule",{value:!0});r5.VariableWidthBuilder=r5.FixedWidthBuilder=r5.Builder=void 0;var hQe=xd(),pQe=E2(),jxe=UT(),mQe=ru(),xQe=Ixe(),NX=P_(),T2=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=(0,mQe.strideForType)(e),this._nulls=new NX.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=(0,xQe.createIsValidFunction)(t))}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}toVector(){return new hQe.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0,{_offsets:t,_values:r,_nulls:i,_typeIds:s,children:o}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),o.reduce((a,l)=>a+l.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((t,r)=>t+r.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,t,r,i,{type:s,length:o,nullCount:a,_typeIds:l,_offsets:f,_values:p,_nulls:_}=this;(t=l==null?void 0:l.flush(o))?i=f==null?void 0:f.flush(o):(i=f==null?void 0:f.flush(o))?e=p==null?void 0:p.flush(f.last()):e=p==null?void 0:p.flush(o),a>0&&(r=_==null?void 0:_.flush(o));let E=this.children.map(O=>O.flush());return this.clear(),(0,pQe.makeData)({type:s,length:o,nullCount:a,children:E,child:E[0],data:e,typeIds:t,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(let e of this.children)e.finish();return this}clear(){var e,t,r,i;this.length=0,(e=this._nulls)===null||e===void 0||e.clear(),(t=this._values)===null||t===void 0||t.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(let s of this.children)s.clear();return this}};r5.Builder=T2;T2.prototype.length=1;T2.prototype.stride=1;T2.prototype.children=null;T2.prototype.finished=!1;T2.prototype.nullValues=null;T2.prototype._isValid=()=>!0;var qxe=class extends T2{constructor(e){super(e);this._values=new NX.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let r=this._values;return r.reserve(e-r.length+1),super.setValue(e,t)}};r5.FixedWidthBuilder=qxe;var Uxe=class extends T2{constructor(e){super(e);this._pendingLength=0,this._offsets=new NX.OffsetsBufferBuilder}setValue(e,t){let r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t instanceof jxe.MapRow?t[jxe.kKeys].length:t.length,r.set(e,t)}setValid(e,t){return super.setValid(e,t)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}};r5.VariableWidthBuilder=Uxe});var LX=Ae(YM=>{"use strict";m();Object.defineProperty(YM,"__esModule",{value:!0});YM.Block=void 0;var $xe=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,t,r,i){return e.prep(8,24),e.writeInt64(i),e.pad(4),e.writeInt32(r),e.writeInt64(t),e.offset()}};YM.Block=$xe});var B_=Ae(F2=>{"use strict";m();Object.defineProperty(F2,"__esModule",{value:!0});F2.SIZE_PREFIX_LENGTH=F2.FILE_IDENTIFIER_LENGTH=F2.SIZEOF_INT=F2.SIZEOF_SHORT=void 0;F2.SIZEOF_SHORT=2;F2.SIZEOF_INT=4;F2.FILE_IDENTIFIER_LENGTH=4;F2.SIZE_PREFIX_LENGTH=4});var kX=Ae(Up=>{"use strict";m();Object.defineProperty(Up,"__esModule",{value:!0});Up.isLittleEndian=Up.float64=Up.float32=Up.int32=void 0;Up.int32=new Int32Array(2);Up.float32=new Float32Array(Up.int32.buffer);Up.float64=new Float64Array(Up.int32.buffer);Up.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var KM=Ae(Z7=>{"use strict";m();Object.defineProperty(Z7,"__esModule",{value:!0});Z7.Long=Z7.createLong=void 0;function gQe(n,e){return zxe.create(n,e)}Z7.createLong=gQe;var zxe=function(){function n(e,t){this.low=e|0,this.high=t|0}return n.create=function(e,t){return e==0&&t==0?n.ZERO:new n(e,t)},n.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296},n.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},n.ZERO=new n(0,0),n}();Z7.Long=zxe});var IX=Ae(VT=>{"use strict";m();Object.defineProperty(VT,"__esModule",{value:!0});VT.Encoding=void 0;var yQe;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(yQe=VT.Encoding||(VT.Encoding={}))});var PX=Ae(JM=>{"use strict";m();Object.defineProperty(JM,"__esModule",{value:!0});JM.ByteBuffer=void 0;var D2=B_(),MX=KM(),uh=kX(),vQe=IX(),_Qe=function(){function n(e){this.bytes_=e,this.position_=0}return n.allocate=function(e){return new n(new Uint8Array(e))},n.prototype.clear=function(){this.position_=0},n.prototype.bytes=function(){return this.bytes_},n.prototype.position=function(){return this.position_},n.prototype.setPosition=function(e){this.position_=e},n.prototype.capacity=function(){return this.bytes_.length},n.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},n.prototype.readUint8=function(e){return this.bytes_[e]},n.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},n.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},n.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},n.prototype.readUint32=function(e){return this.readInt32(e)>>>0},n.prototype.readInt64=function(e){return new MX.Long(this.readInt32(e),this.readInt32(e+4))},n.prototype.readUint64=function(e){return new MX.Long(this.readUint32(e),this.readUint32(e+4))},n.prototype.readFloat32=function(e){return uh.int32[0]=this.readInt32(e),uh.float32[0]},n.prototype.readFloat64=function(e){return uh.int32[uh.isLittleEndian?0:1]=this.readInt32(e),uh.int32[uh.isLittleEndian?1:0]=this.readInt32(e+4),uh.float64[0]},n.prototype.writeInt8=function(e,t){this.bytes_[e]=t},n.prototype.writeUint8=function(e,t){this.bytes_[e]=t},n.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},n.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},n.prototype.writeFloat32=function(e,t){uh.float32[0]=t,this.writeInt32(e,uh.int32[0])},n.prototype.writeFloat64=function(e,t){uh.float64[0]=t,this.writeInt32(e,uh.int32[uh.isLittleEndian?0:1]),this.writeInt32(e+4,uh.int32[uh.isLittleEndian?1:0])},n.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+D2.SIZEOF_INT+D2.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<D2.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+D2.SIZEOF_INT+t));return e},n.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},n.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},n.prototype.__string=function(e,t){e+=this.readInt32(e);var r=this.readInt32(e),i="",s=0;if(e+=D2.SIZEOF_INT,t===vQe.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+r);for(;s<r;){var o=void 0,a=this.readUint8(e+s++);if(a<192)o=a;else{var l=this.readUint8(e+s++);if(a<224)o=(a&31)<<6|l&63;else{var f=this.readUint8(e+s++);if(a<240)o=(a&15)<<12|(l&63)<<6|f&63;else{var p=this.readUint8(e+s++);o=(a&7)<<18|(l&63)<<12|(f&63)<<6|p&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&(1<<10)-1)+56320))}return i},n.prototype.__union_with_string=function(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)},n.prototype.__indirect=function(e){return e+this.readInt32(e)},n.prototype.__vector=function(e){return e+this.readInt32(e)+D2.SIZEOF_INT},n.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},n.prototype.__has_identifier=function(e){if(e.length!=D2.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+D2.FILE_IDENTIFIER_LENGTH);for(var t=0;t<D2.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+D2.SIZEOF_INT+t))return!1;return!0},n.prototype.createLong=function(e,t){return MX.Long.create(e,t)},n.prototype.createScalarList=function(e,t){for(var r=[],i=0;i<t;++i)e(i)!==null&&r.push(e(i));return r},n.prototype.createObjList=function(e,t){for(var r=[],i=0;i<t;++i){var s=e(i);s!==null&&r.push(s.unpack())}return r},n}();JM.ByteBuffer=_Qe});var Vxe=Ae(XM=>{"use strict";m();Object.defineProperty(XM,"__esModule",{value:!0});XM.Builder=void 0;var Hxe=PX(),Vh=B_(),bQe=KM(),EQe=function(){function n(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;var t;e?t=e:t=1024,this.bb=Hxe.ByteBuffer.allocate(t),this.space=t}return n.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null},n.prototype.forceDefaults=function(e){this.force_defaults=e},n.prototype.dataBuffer=function(){return this.bb},n.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},n.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var r=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<r+e+t;){var i=this.bb.capacity();this.bb=n.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)},n.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},n.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},n.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},n.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},n.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},n.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},n.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},n.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},n.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},n.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},n.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},n.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},n.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},n.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},n.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},n.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},n.prototype.addFieldInt64=function(e,t,r){(this.force_defaults||!t.equals(r))&&(this.addInt64(t),this.slot(e))},n.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},n.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},n.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},n.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},n.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},n.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},n.prototype.slot=function(e){this.vtable!==null&&(this.vtable[e]=this.offset())},n.prototype.offset=function(){return this.bb.capacity()-this.space},n.growByteBuffer=function(e){var t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=t<<1,i=Hxe.ByteBuffer.allocate(r);return i.setPosition(r-t),i.bytes().set(e.bytes(),r-t),i},n.prototype.addOffset=function(e){this.prep(Vh.SIZEOF_INT,0),this.writeInt32(this.offset()-e+Vh.SIZEOF_INT)},n.prototype.startObject=function(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},n.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var r=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);var i=2;this.addInt16(e-this.object_start);var s=(r+i)*Vh.SIZEOF_SHORT;this.addInt16(s);var o=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var l=this.bb.capacity()-this.vtables[t];if(s==this.bb.readInt16(l)){for(var f=Vh.SIZEOF_SHORT;f<s;f+=Vh.SIZEOF_SHORT)if(this.bb.readInt16(a+f)!=this.bb.readInt16(l+f))continue e;o=this.vtables[t];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},n.prototype.finish=function(e,t,r){var i=r?Vh.SIZE_PREFIX_LENGTH:0;if(t){var s=t;if(this.prep(this.minalign,Vh.SIZEOF_INT+Vh.FILE_IDENTIFIER_LENGTH+i),s.length!=Vh.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Vh.FILE_IDENTIFIER_LENGTH);for(var o=Vh.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Vh.SIZEOF_INT+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},n.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},n.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,i=r-this.bb.readInt32(r),s=this.bb.readInt16(i+t)!=0;if(!s)throw new Error("FlatBuffers: field "+t+" must be set")},n.prototype.startVector=function(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(Vh.SIZEOF_INT,e*t),this.prep(r,e*t)},n.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},n.prototype.createSharedString=function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t},n.prototype.createString=function(e){if(!e)return 0;var t;if(e instanceof Uint8Array)t=e;else{t=[];for(var r=0;r<e.length;){var i=void 0,s=e.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{var o=e.charCodeAt(r++);i=(s<<10)+o+(65536-(55296<<10)-56320)}i<128?t.push(i):(i<2048?t.push(i>>6&31|192):(i<65536?t.push(i>>12&15|224):t.push(i>>18&7|240,i>>12&63|128),t.push(i>>6&63|128)),t.push(i&63|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var r=0,a=this.space,l=this.bb.bytes();r<t.length;r++)l[a++]=t[r];return this.endVector()},n.prototype.createLong=function(e,t){return bQe.Long.create(e,t)},n.prototype.createObjectOffset=function(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)},n.prototype.createObjectOffsetList=function(e){for(var t=[],r=0;r<e.length;++r){var i=e[r];if(i!==null)t.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t},n.prototype.createStructOffsetList=function(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()},n}();XM.Builder=EQe});var wo=Ae(Ba=>{"use strict";m();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.ByteBuffer=Ba.Builder=Ba.Encoding=Ba.createLong=Ba.Long=Ba.isLittleEndian=Ba.float64=Ba.float32=Ba.int32=Ba.SIZE_PREFIX_LENGTH=Ba.FILE_IDENTIFIER_LENGTH=Ba.SIZEOF_INT=Ba.SIZEOF_SHORT=void 0;var SQe=B_();Object.defineProperty(Ba,"SIZEOF_SHORT",{enumerable:!0,get:function(){return SQe.SIZEOF_SHORT}});var wQe=B_();Object.defineProperty(Ba,"SIZEOF_INT",{enumerable:!0,get:function(){return wQe.SIZEOF_INT}});var CQe=B_();Object.defineProperty(Ba,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return CQe.FILE_IDENTIFIER_LENGTH}});var AQe=B_();Object.defineProperty(Ba,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return AQe.SIZE_PREFIX_LENGTH}});var ZM=kX();Object.defineProperty(Ba,"int32",{enumerable:!0,get:function(){return ZM.int32}});Object.defineProperty(Ba,"float32",{enumerable:!0,get:function(){return ZM.float32}});Object.defineProperty(Ba,"float64",{enumerable:!0,get:function(){return ZM.float64}});Object.defineProperty(Ba,"isLittleEndian",{enumerable:!0,get:function(){return ZM.isLittleEndian}});var Wxe=KM();Object.defineProperty(Ba,"Long",{enumerable:!0,get:function(){return Wxe.Long}});Object.defineProperty(Ba,"createLong",{enumerable:!0,get:function(){return Wxe.createLong}});var TQe=IX();Object.defineProperty(Ba,"Encoding",{enumerable:!0,get:function(){return TQe.Encoding}});var FQe=Vxe();Object.defineProperty(Ba,"Builder",{enumerable:!0,get:function(){return FQe.Builder}});var DQe=PX();Object.defineProperty(Ba,"ByteBuffer",{enumerable:!0,get:function(){return DQe.ByteBuffer}})});var e8=Ae(eP=>{"use strict";m();Object.defineProperty(eP,"__esModule",{value:!0});eP.KeyValue=void 0;var OQe=hs(),RQe=OQe.__importStar(wo()),Eg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new Eg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+RQe.SIZE_PREFIX_LENGTH),(t||new Eg).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,r){return Eg.startKeyValue(e),Eg.addKey(e,t),Eg.addValue(e,r),Eg.endKeyValue(e)}};eP.KeyValue=Eg});var BX=Ae(WT=>{"use strict";m();Object.defineProperty(WT,"__esModule",{value:!0});WT.MetadataVersion=void 0;var NQe;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(NQe=WT.MetadataVersion||(WT.MetadataVersion={}))});var jX=Ae(QT=>{"use strict";m();Object.defineProperty(QT,"__esModule",{value:!0});QT.Endianness=void 0;var LQe;(function(n){n[n.Little=0]="Little",n[n.Big=1]="Big"})(LQe=QT.Endianness||(QT.Endianness={}))});var Qxe=Ae(GT=>{"use strict";m();Object.defineProperty(GT,"__esModule",{value:!0});GT.DictionaryKind=void 0;var kQe;(function(n){n[n.DenseArray=0]="DenseArray"})(kQe=GT.DictionaryKind||(GT.DictionaryKind={}))});var i5=Ae(tP=>{"use strict";m();Object.defineProperty(tP,"__esModule",{value:!0});tP.Int=void 0;var IQe=hs(),MQe=IQe.__importStar(wo()),Sg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new Sg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+MQe.SIZE_PREFIX_LENGTH),(t||new Sg).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,r){return Sg.startInt(e),Sg.addBitWidth(e,t),Sg.addIsSigned(e,r),Sg.endInt(e)}};tP.Int=Sg});var qX=Ae(nP=>{"use strict";m();Object.defineProperty(nP,"__esModule",{value:!0});nP.DictionaryEncoding=void 0;var PQe=hs(),BQe=PQe.__importStar(wo()),Gxe=Qxe(),jQe=i5(),YT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new YT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+BQe.SIZE_PREFIX_LENGTH),(t||new YT).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new jQe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Gxe.DictionaryKind.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,Gxe.DictionaryKind.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}};nP.DictionaryEncoding=YT});var UX=Ae(rP=>{"use strict";m();Object.defineProperty(rP,"__esModule",{value:!0});rP.Binary=void 0;var qQe=hs(),UQe=qQe.__importStar(wo()),j_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new j_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+UQe.SIZE_PREFIX_LENGTH),(t||new j_).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return j_.startBinary(e),j_.endBinary(e)}};rP.Binary=j_});var $X=Ae(iP=>{"use strict";m();Object.defineProperty(iP,"__esModule",{value:!0});iP.Bool=void 0;var $Qe=hs(),zQe=$Qe.__importStar(wo()),q_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new q_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+zQe.SIZE_PREFIX_LENGTH),(t||new q_).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return q_.startBool(e),q_.endBool(e)}};iP.Bool=q_});var Yxe=Ae(KT=>{"use strict";m();Object.defineProperty(KT,"__esModule",{value:!0});KT.DateUnit=void 0;var HQe;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(HQe=KT.DateUnit||(KT.DateUnit={}))});var oP=Ae(sP=>{"use strict";m();Object.defineProperty(sP,"__esModule",{value:!0});sP.Date=void 0;var VQe=hs(),WQe=VQe.__importStar(wo()),Kxe=Yxe(),s5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new s5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+WQe.SIZE_PREFIX_LENGTH),(t||new s5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Kxe.DateUnit.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Kxe.DateUnit.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return s5.startDate(e),s5.addUnit(e,t),s5.endDate(e)}};sP.Date=s5});var uP=Ae(aP=>{"use strict";m();Object.defineProperty(aP,"__esModule",{value:!0});aP.Decimal=void 0;var QQe=hs(),GQe=QQe.__importStar(wo()),O2=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new O2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+GQe.SIZE_PREFIX_LENGTH),(t||new O2).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,r,i){return O2.startDecimal(e),O2.addPrecision(e,t),O2.addScale(e,r),O2.addBitWidth(e,i),O2.endDecimal(e)}};aP.Decimal=O2});var lP=Ae(JT=>{"use strict";m();Object.defineProperty(JT,"__esModule",{value:!0});JT.TimeUnit=void 0;var YQe;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(YQe=JT.TimeUnit||(JT.TimeUnit={}))});var Xxe=Ae(cP=>{"use strict";m();Object.defineProperty(cP,"__esModule",{value:!0});cP.Duration=void 0;var KQe=hs(),JQe=KQe.__importStar(wo()),Jxe=lP(),o5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new o5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+JQe.SIZE_PREFIX_LENGTH),(t||new o5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Jxe.TimeUnit.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Jxe.TimeUnit.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return o5.startDuration(e),o5.addUnit(e,t),o5.endDuration(e)}};cP.Duration=o5});var dP=Ae(fP=>{"use strict";m();Object.defineProperty(fP,"__esModule",{value:!0});fP.FixedSizeBinary=void 0;var XQe=hs(),ZQe=XQe.__importStar(wo()),a5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new a5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+ZQe.SIZE_PREFIX_LENGTH),(t||new a5).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return a5.startFixedSizeBinary(e),a5.addByteWidth(e,t),a5.endFixedSizeBinary(e)}};fP.FixedSizeBinary=a5});var pP=Ae(hP=>{"use strict";m();Object.defineProperty(hP,"__esModule",{value:!0});hP.FixedSizeList=void 0;var eGe=hs(),tGe=eGe.__importStar(wo()),u5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new u5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+tGe.SIZE_PREFIX_LENGTH),(t||new u5).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return u5.startFixedSizeList(e),u5.addListSize(e,t),u5.endFixedSizeList(e)}};hP.FixedSizeList=u5});var Zxe=Ae(XT=>{"use strict";m();Object.defineProperty(XT,"__esModule",{value:!0});XT.Precision=void 0;var nGe;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(nGe=XT.Precision||(XT.Precision={}))});var xP=Ae(mP=>{"use strict";m();Object.defineProperty(mP,"__esModule",{value:!0});mP.FloatingPoint=void 0;var rGe=hs(),iGe=rGe.__importStar(wo()),ege=Zxe(),l5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new l5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+iGe.SIZE_PREFIX_LENGTH),(t||new l5).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ege.Precision.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,ege.Precision.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return l5.startFloatingPoint(e),l5.addPrecision(e,t),l5.endFloatingPoint(e)}};mP.FloatingPoint=l5});var tge=Ae(ZT=>{"use strict";m();Object.defineProperty(ZT,"__esModule",{value:!0});ZT.IntervalUnit=void 0;var sGe;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(sGe=ZT.IntervalUnit||(ZT.IntervalUnit={}))});var yP=Ae(gP=>{"use strict";m();Object.defineProperty(gP,"__esModule",{value:!0});gP.Interval=void 0;var oGe=hs(),aGe=oGe.__importStar(wo()),nge=tge(),c5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new c5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+aGe.SIZE_PREFIX_LENGTH),(t||new c5).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):nge.IntervalUnit.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,nge.IntervalUnit.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return c5.startInterval(e),c5.addUnit(e,t),c5.endInterval(e)}};gP.Interval=c5});var rge=Ae(vP=>{"use strict";m();Object.defineProperty(vP,"__esModule",{value:!0});vP.LargeBinary=void 0;var uGe=hs(),lGe=uGe.__importStar(wo()),U_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new U_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+lGe.SIZE_PREFIX_LENGTH),(t||new U_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return U_.startLargeBinary(e),U_.endLargeBinary(e)}};vP.LargeBinary=U_});var ige=Ae(_P=>{"use strict";m();Object.defineProperty(_P,"__esModule",{value:!0});_P.LargeList=void 0;var cGe=hs(),fGe=cGe.__importStar(wo()),$_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new $_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+fGe.SIZE_PREFIX_LENGTH),(t||new $_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return $_.startLargeList(e),$_.endLargeList(e)}};_P.LargeList=$_});var sge=Ae(bP=>{"use strict";m();Object.defineProperty(bP,"__esModule",{value:!0});bP.LargeUtf8=void 0;var dGe=hs(),hGe=dGe.__importStar(wo()),z_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new z_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+hGe.SIZE_PREFIX_LENGTH),(t||new z_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return z_.startLargeUtf8(e),z_.endLargeUtf8(e)}};bP.LargeUtf8=z_});var zX=Ae(EP=>{"use strict";m();Object.defineProperty(EP,"__esModule",{value:!0});EP.List=void 0;var pGe=hs(),mGe=pGe.__importStar(wo()),H_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new H_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+mGe.SIZE_PREFIX_LENGTH),(t||new H_).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return H_.startList(e),H_.endList(e)}};EP.List=H_});var wP=Ae(SP=>{"use strict";m();Object.defineProperty(SP,"__esModule",{value:!0});SP.Map=void 0;var xGe=hs(),gGe=xGe.__importStar(wo()),f5=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new f5).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+gGe.SIZE_PREFIX_LENGTH),(t||new f5).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return f5.startMap(e),f5.addKeysSorted(e,t),f5.endMap(e)}};SP.Map=f5});var HX=Ae(CP=>{"use strict";m();Object.defineProperty(CP,"__esModule",{value:!0});CP.Null=void 0;var yGe=hs(),vGe=yGe.__importStar(wo()),V_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new V_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+vGe.SIZE_PREFIX_LENGTH),(t||new V_).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return V_.startNull(e),V_.endNull(e)}};CP.Null=V_});var VX=Ae(AP=>{"use strict";m();Object.defineProperty(AP,"__esModule",{value:!0});AP.Struct_=void 0;var _Ge=hs(),bGe=_Ge.__importStar(wo()),W_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new W_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+bGe.SIZE_PREFIX_LENGTH),(t||new W_).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return W_.startStruct_(e),W_.endStruct_(e)}};AP.Struct_=W_});var FP=Ae(TP=>{"use strict";m();Object.defineProperty(TP,"__esModule",{value:!0});TP.Time=void 0;var EGe=hs(),SGe=EGe.__importStar(wo()),oge=lP(),wg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new wg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+SGe.SIZE_PREFIX_LENGTH),(t||new wg).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):oge.TimeUnit.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,oge.TimeUnit.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,r){return wg.startTime(e),wg.addUnit(e,t),wg.addBitWidth(e,r),wg.endTime(e)}};TP.Time=wg});var OP=Ae(DP=>{"use strict";m();Object.defineProperty(DP,"__esModule",{value:!0});DP.Timestamp=void 0;var wGe=hs(),CGe=wGe.__importStar(wo()),age=lP(),Cg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new Cg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+CGe.SIZE_PREFIX_LENGTH),(t||new Cg).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):age.TimeUnit.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,age.TimeUnit.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,r){return Cg.startTimestamp(e),Cg.addUnit(e,t),Cg.addTimezone(e,r),Cg.endTimestamp(e)}};DP.Timestamp=Cg});var uge=Ae(eF=>{"use strict";m();Object.defineProperty(eF,"__esModule",{value:!0});eF.UnionMode=void 0;var AGe;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(AGe=eF.UnionMode||(eF.UnionMode={}))});var NP=Ae(RP=>{"use strict";m();Object.defineProperty(RP,"__esModule",{value:!0});RP.Union=void 0;var TGe=hs(),FGe=TGe.__importStar(wo()),lge=uge(),Ag=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new Ag).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+FGe.SIZE_PREFIX_LENGTH),(t||new Ag).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):lge.UnionMode.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,lge.UnionMode.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,r){return Ag.startUnion(e),Ag.addMode(e,t),Ag.addTypeIds(e,r),Ag.endUnion(e)}};RP.Union=Ag});var WX=Ae(LP=>{"use strict";m();Object.defineProperty(LP,"__esModule",{value:!0});LP.Utf8=void 0;var DGe=hs(),OGe=DGe.__importStar(wo()),Q_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new Q_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+OGe.SIZE_PREFIX_LENGTH),(t||new Q_).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Q_.startUtf8(e),Q_.endUtf8(e)}};LP.Utf8=Q_});var t8=Ae(Tg=>{"use strict";m();Object.defineProperty(Tg,"__esModule",{value:!0});Tg.unionListToType=Tg.unionToType=Tg.Type=void 0;var cge=UX(),fge=$X(),dge=oP(),hge=uP(),pge=Xxe(),mge=dP(),xge=pP(),gge=xP(),yge=i5(),vge=yP(),_ge=rge(),bge=ige(),Ege=sge(),Sge=zX(),wge=wP(),Cge=HX(),Age=VX(),Tge=FP(),Fge=OP(),Dge=NP(),Oge=WX(),QX;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.FloatingPoint=3]="FloatingPoint",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct_=13]="Struct_",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Duration=18]="Duration",n[n.LargeBinary=19]="LargeBinary",n[n.LargeUtf8=20]="LargeUtf8",n[n.LargeList=21]="LargeList"})(QX=Tg.Type||(Tg.Type={}));function RGe(n,e){switch(QX[n]){case"NONE":return null;case"Null":return e(new Cge.Null);case"Int":return e(new yge.Int);case"FloatingPoint":return e(new gge.FloatingPoint);case"Binary":return e(new cge.Binary);case"Utf8":return e(new Oge.Utf8);case"Bool":return e(new fge.Bool);case"Decimal":return e(new hge.Decimal);case"Date":return e(new dge.Date);case"Time":return e(new Tge.Time);case"Timestamp":return e(new Fge.Timestamp);case"Interval":return e(new vge.Interval);case"List":return e(new Sge.List);case"Struct_":return e(new Age.Struct_);case"Union":return e(new Dge.Union);case"FixedSizeBinary":return e(new mge.FixedSizeBinary);case"FixedSizeList":return e(new xge.FixedSizeList);case"Map":return e(new wge.Map);case"Duration":return e(new pge.Duration);case"LargeBinary":return e(new _ge.LargeBinary);case"LargeUtf8":return e(new Ege.LargeUtf8);case"LargeList":return e(new bge.LargeList);default:return null}}Tg.unionToType=RGe;function NGe(n,e,t){switch(QX[n]){case"NONE":return null;case"Null":return e(t,new Cge.Null);case"Int":return e(t,new yge.Int);case"FloatingPoint":return e(t,new gge.FloatingPoint);case"Binary":return e(t,new cge.Binary);case"Utf8":return e(t,new Oge.Utf8);case"Bool":return e(t,new fge.Bool);case"Decimal":return e(t,new hge.Decimal);case"Date":return e(t,new dge.Date);case"Time":return e(t,new Tge.Time);case"Timestamp":return e(t,new Fge.Timestamp);case"Interval":return e(t,new vge.Interval);case"List":return e(t,new Sge.List);case"Struct_":return e(t,new Age.Struct_);case"Union":return e(t,new Dge.Union);case"FixedSizeBinary":return e(t,new mge.FixedSizeBinary);case"FixedSizeList":return e(t,new xge.FixedSizeList);case"Map":return e(t,new wge.Map);case"Duration":return e(t,new pge.Duration);case"LargeBinary":return e(t,new _ge.LargeBinary);case"LargeUtf8":return e(t,new Ege.LargeUtf8);case"LargeList":return e(t,new bge.LargeList);default:return null}}Tg.unionListToType=NGe});var GX=Ae(kP=>{"use strict";m();Object.defineProperty(kP,"__esModule",{value:!0});kP.Field=void 0;var LGe=hs(),kGe=LGe.__importStar(wo()),IGe=qX(),MGe=e8(),Rge=t8(),n8=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new n8).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+kGe.SIZE_PREFIX_LENGTH),(t||new n8).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Rge.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new IGe.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let r=this.bb.__offset(this.bb_pos,14);return r?(t||new n8).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,16);return r?(t||new MGe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,Rge.Type.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}};kP.Field=n8});var MP=Ae(IP=>{"use strict";m();Object.defineProperty(IP,"__esModule",{value:!0});IP.Schema=void 0;var PGe=hs(),BGe=PGe.__importStar(wo()),Nge=jX(),jGe=GX(),qGe=e8(),fm=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new fm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+BGe.SIZE_PREFIX_LENGTH),(t||new fm).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Nge.Endianness.Little}fields(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new jGe.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new qGe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,Nge.Endianness.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,r,i,s){return fm.startSchema(e),fm.addEndianness(e,t),fm.addFields(e,r),fm.addCustomMetadata(e,i),fm.addFeatures(e,s),fm.endSchema(e)}};IP.Schema=fm});var Ige=Ae(PP=>{"use strict";m();Object.defineProperty(PP,"__esModule",{value:!0});PP.Footer=void 0;var UGe=hs(),$Ge=UGe.__importStar(wo()),Lge=LX(),zGe=e8(),kge=BX(),HGe=MP(),tF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new tF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+$Ge.SIZE_PREFIX_LENGTH),(t||new tF).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):kge.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new HGe.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new Lge.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new Lge.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new zGe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,kge.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}};PP.Footer=tF});var lh=Ae(r8=>{"use strict";m();Object.defineProperty(r8,"__esModule",{value:!0});r8.Field=r8.Schema=void 0;var VGe=ru(),$p=class{constructor(e=[],t,r){this.fields=e||[],this.metadata=t||new Map,r||(r=YX(e)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){let t=new Set(e),r=this.fields.filter(i=>t.has(i.name));return new $p(r,this.metadata)}selectAt(e){let t=e.map(r=>this.fields[r]).filter(Boolean);return new $p(t,this.metadata)}assign(...e){let t=e[0]instanceof $p?e[0]:Array.isArray(e[0])?new $p(e[0]):new $p(e),r=[...this.fields],i=BP(BP(new Map,this.metadata),t.metadata),s=t.fields.filter(a=>{let l=r.findIndex(f=>f.name===a.name);return~l?(r[l]=a.clone({metadata:BP(BP(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=YX(s,new Map);return new $p([...r,...s],i,new Map([...this.dictionaries,...o]))}};r8.Schema=$p;$p.prototype.fields=null;$p.prototype.metadata=null;$p.prototype.dictionaries=null;var Fg=class{constructor(e,t,r=!1,i){this.name=e,this.type=t,this.nullable=r,this.metadata=i||new Map}static new(...e){let[t,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new Fg(`${t}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:t=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],Fg.new(t,r,i,s)}};r8.Field=Fg;Fg.prototype.type=null;Fg.prototype.name=null;Fg.prototype.nullable=null;Fg.prototype.metadata=null;function BP(n,e){return new Map([...n||new Map,...e||new Map])}function YX(n,e=new Map){for(let t=-1,r=n.length;++t<r;){let s=n[t].type;if(VGe.DataType.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&YX(s.children,e)}return e}});var XX=Ae(i8=>{"use strict";m();Object.defineProperty(i8,"__esModule",{value:!0});i8.FileBlock=i8.Footer=void 0;var WGe=hs(),QGe=LX(),R2=Ige(),KX=WGe.__importStar(wo()),Mge=KX.Long,GGe=KX.Builder,YGe=KX.ByteBuffer,Pge=lh(),Bge=Nl(),KGe=Hf(),JX=class{constructor(e,t=Bge.MetadataVersion.V4,r,i){this.schema=e,this.version=t,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(e){e=new YGe((0,KGe.toUint8Array)(e));let t=R2.Footer.getRootAsFooter(e),r=Pge.Schema.decode(t.schema());return new jge(r,t)}static encode(e){let t=new GGe,r=Pge.Schema.encode(t,e.schema);R2.Footer.startRecordBatchesVector(t,e.numRecordBatches);for(let o of[...e.recordBatches()].slice().reverse())d5.encode(t,o);let i=t.endVector();R2.Footer.startDictionariesVector(t,e.numDictionaries);for(let o of[...e.dictionaryBatches()].slice().reverse())d5.encode(t,o);let s=t.endVector();return R2.Footer.startFooter(t),R2.Footer.addSchema(t,r),R2.Footer.addVersion(t,Bge.MetadataVersion.V4),R2.Footer.addRecordBatches(t,i),R2.Footer.addDictionaries(t,s),R2.Footer.finishFooterBuffer(t,R2.Footer.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,r=this.numRecordBatches;++t<r;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,r=this.numDictionaries;++t<r;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};i8.Footer=JX;var jge=class extends JX{constructor(e,t){super(e,t.version());this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return d5.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return d5.decode(t)}return null}},d5=class{constructor(e,t,r){this.metaDataLength=e,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new d5(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:r}=t,i=new Mge(t.offset,0),s=new Mge(t.bodyLength,0);return QGe.Block.createBlock(e,i,r,s)}};i8.FileBlock=d5});var nF=Ae(ch=>{"use strict";m();Object.defineProperty(ch,"__esModule",{value:!0});ch.AsyncQueue=ch.ReadableInterop=ch.ArrowJSON=ch.ITERATOR_DONE=void 0;var s8=hs(),qge=s8.__importDefault(BT());ch.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var Uge=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};ch.ArrowJSON=Uge;var ZX=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};ch.ReadableInterop=ZX;var $ge=class extends ZX{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return s8.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(ch.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return qge.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return qge.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return s8.__awaiter(this,void 0,void 0,function*(){return yield this.abort(e),ch.ITERATOR_DONE})}return(e){return s8.__awaiter(this,void 0,void 0,function*(){return yield this.close(),ch.ITERATOR_DONE})}read(e){return s8.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return s8.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,r)=>{this.resolvers.push({resolve:t,reject:r})}):Promise.resolve(ch.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};ch.AsyncQueue=$ge});var x5=Ae(m5=>{"use strict";m();Object.defineProperty(m5,"__esModule",{value:!0});m5.AsyncByteStream=m5.ByteStream=m5.AsyncByteQueue=void 0;var Dg=hs(),h5=Dg.__importDefault(BT()),zge=L_(),rF=nF(),eZ=Hf(),o8=_2(),tZ=class extends rF.AsyncQueue{write(e){if((e=(0,eZ.toUint8Array)(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?(0,zge.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(zge.decodeUtf8)}toUint8Array(e=!1){return e?(0,eZ.joinUint8Arrays)(this._values)[0]:(()=>Dg.__awaiter(this,void 0,void 0,function*(){var t,r;let i=[],s=0;try{for(var o=Dg.__asyncValues(this),a;a=yield o.next(),!a.done;){let l=a.value;i.push(l),s+=l.byteLength}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return(0,eZ.joinUint8Arrays)(i,s)[0]}))()}};m5.AsyncByteQueue=tZ;var Hge=class{constructor(e){e&&(this.source=new Vge(h5.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};m5.ByteStream=Hge;var jP=class{constructor(e){e instanceof jP?this.source=e.source:e instanceof tZ?this.source=new p5(h5.default.fromAsyncIterable(e)):(0,o8.isReadableNodeStream)(e)?this.source=new p5(h5.default.fromNodeStream(e)):(0,o8.isReadableDOMStream)(e)?this.source=new p5(h5.default.fromDOMStream(e)):(0,o8.isFetchResponse)(e)?this.source=new p5(h5.default.fromDOMStream(e.body)):(0,o8.isIterable)(e)?this.source=new p5(h5.default.fromIterable(e)):(0,o8.isPromise)(e)?this.source=new p5(h5.default.fromAsyncIterable(e)):(0,o8.isAsyncIterable)(e)&&(this.source=new p5(h5.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};m5.AsyncByteStream=jP;var Vge=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||rF.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||rF.ITERATOR_DONE)}},p5=class{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return Dg.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return Dg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return Dg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return Dg.__awaiter(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return Dg.__awaiter(this,void 0,void 0,function*(){let t=this.source.throw&&(yield this.source.throw(e))||rF.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return Dg.__awaiter(this,void 0,void 0,function*(){let t=this.source.return&&(yield this.source.return(e))||rF.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}});var nZ=Ae(a8=>{"use strict";m();Object.defineProperty(a8,"__esModule",{value:!0});a8.AsyncRandomAccessFile=a8.RandomAccessFile=void 0;var g5=hs(),Wge=x5(),JGe=Hf(),Qge=class extends Wge.ByteStream{constructor(e,t){super();this.position=0,this.buffer=(0,JGe.toUint8Array)(e),this.size=typeof t=="undefined"?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:r}=this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:r,position:i}=this;return t&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),t.subarray(i,this.position)):null}readAt(e,t){let r=this.buffer,i=Math.min(this.size,e+t);return r?r.subarray(e,i):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};a8.RandomAccessFile=Qge;var Gge=class extends Wge.AsyncByteStream{constructor(e,t){super();this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=(()=>g5.__awaiter(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return g5.__awaiter(this,void 0,void 0,function*(){let{buffer:t,byteOffset:r}=yield this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)})}seek(e){return g5.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return g5.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:t,size:r,position:i}=this;if(t&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0,l=Math.min(r,s+Math.min(r-s,e)),f=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<f.byteLength;)({bytesRead:a}=yield t.read(f,o,f.byteLength-o,s));return f}return null})}readAt(e,t){return g5.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:r,size:i}=this;if(r&&e+t<i){let s=Math.min(i,e+t),o=new Uint8Array(s-e);return(yield r.read(o,0,t,e)).buffer}return new Uint8Array(t)})}close(){return g5.__awaiter(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return g5.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return g5.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};a8.AsyncRandomAccessFile=Gge});var iZ=Ae(N2=>{"use strict";m();Object.defineProperty(N2,"__esModule",{value:!0});N2.Int128=N2.Int64=N2.Uint64=N2.BaseInt64=void 0;var XGe=1<<16;function u8(n){return n<0&&(n=4294967295+n+1),`0x${n.toString(16)}`}var l8=8,rZ=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],qP=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),i=t[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=t[2]*r[3],s+=i,i=t[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?XGe:0,this.buffer[1]+=s>>>16,this.buffer[1]+=t[1]*r[3]+t[2]*r[2]+t[3]*r[1],this.buffer[1]+=t[0]*r[3]+t[1]*r[2]+t[2]*r[1]+t[3]*r[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${u8(this.buffer[1])} ${u8(this.buffer[0])}`}};N2.BaseInt64=qP;var ha=class extends qP{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return ha.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return ha.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.length,i=new ha(t);for(let s=0;s<r;){let o=l8<r-s?l8:r-s,a=new ha(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),l=new ha(new Uint32Array([rZ[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)ha.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new ha(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new ha(new Uint32Array(e.buffer)).plus(t)}};N2.Uint64=ha;var Wh=class extends qP{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,r=e.buffer[1]<<0;return t<r||t===r&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return Wh.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Wh.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.startsWith("-"),i=e.length,s=new Wh(t);for(let o=r?1:0;o<i;){let a=l8<i-o?l8:i-o,l=new Wh(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),f=new Wh(new Uint32Array([rZ[a],0]));s.times(f),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)Wh.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new Wh(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Wh(new Uint32Array(e.buffer)).plus(t)}};N2.Int64=Wh;var dm=class{constructor(e){this.buffer=e}high(){return new Wh(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Wh(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let t=new ha(new Uint32Array([this.buffer[3],0])),r=new ha(new Uint32Array([this.buffer[2],0])),i=new ha(new Uint32Array([this.buffer[1],0])),s=new ha(new Uint32Array([this.buffer[0],0])),o=new ha(new Uint32Array([e.buffer[3],0])),a=new ha(new Uint32Array([e.buffer[2],0])),l=new ha(new Uint32Array([e.buffer[1],0])),f=new ha(new Uint32Array([e.buffer[0],0])),p=ha.multiply(s,f);this.buffer[0]=p.low();let _=new ha(new Uint32Array([p.high(),0]));return p=ha.multiply(i,f),_.plus(p),p=ha.multiply(s,l),_.plus(p),this.buffer[1]=_.low(),this.buffer[3]=_.lessThan(p)?1:0,this.buffer[2]=_.high(),new ha(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ha.multiply(r,f)).plus(ha.multiply(i,l)).plus(ha.multiply(s,a)),this.buffer[3]+=ha.multiply(t,f).plus(ha.multiply(r,l)).plus(ha.multiply(i,a)).plus(ha.multiply(s,o)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${u8(this.buffer[3])} ${u8(this.buffer[2])} ${u8(this.buffer[1])} ${u8(this.buffer[0])}`}static multiply(e,t){return new dm(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new dm(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return dm.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return dm.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let r=e.startsWith("-"),i=e.length,s=new dm(t);for(let o=r?1:0;o<i;){let a=l8<i-o?l8:i-o,l=new dm(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),f=new dm(new Uint32Array([rZ[a],0,0,0]));s.times(f),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)dm.from(e[r],new Uint32Array(t.buffer,t.byteOffset+4*4*r,4));return t}};N2.Int128=dm});var Xge=Ae(c8=>{"use strict";m();Object.defineProperty(c8,"__esModule",{value:!0});c8.JSONVectorLoader=c8.VectorLoader=void 0;var Hc=E2(),ZGe=lh(),Og=ru(),eYe=md(),Yge=M_(),tYe=L_(),UP=iZ(),Kge=Nl(),L2=Hf(),sZ=class extends eYe.Visitor{constructor(e,t,r,i){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=r,this.dictionaries=i}visit(e){return super.visit(e instanceof ZGe.Field?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t})}visitBool(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===Kge.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Hc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,r=this.nextBufferRange()){return t>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+t)}readDictionary(e){return this.dictionaries.get(e.id)}};c8.VectorLoader=sZ;var Jge=class extends sZ{constructor(e,t,r,i){super(new Uint8Array(0),t,r,i);this.sources=e}readNullBitmap(e,t,{offset:r}=this.nextBufferRange()){return t<=0?new Uint8Array(0):(0,Yge.packBools)(this.sources[r])}readOffsets(e,{offset:t}=this.nextBufferRange()){return(0,L2.toArrayBufferView)(Uint8Array,(0,L2.toArrayBufferView)(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return(0,L2.toArrayBufferView)(Uint8Array,(0,L2.toArrayBufferView)(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:r}=this;return Og.DataType.isTimestamp(e)||(Og.DataType.isInt(e)||Og.DataType.isTime(e))&&e.bitWidth===64||Og.DataType.isDate(e)&&e.unit===Kge.DateUnit.MILLISECOND?(0,L2.toArrayBufferView)(Uint8Array,UP.Int64.convertArray(r[t])):Og.DataType.isDecimal(e)?(0,L2.toArrayBufferView)(Uint8Array,UP.Int128.convertArray(r[t])):Og.DataType.isBinary(e)||Og.DataType.isFixedSizeBinary(e)?nYe(r[t]):Og.DataType.isBool(e)?(0,Yge.packBools)(r[t]):Og.DataType.isUtf8(e)?(0,tYe.encodeUtf8)(r[t].join("")):(0,L2.toArrayBufferView)(Uint8Array,(0,L2.toArrayBufferView)(e.ArrayType,r[t].map(i=>+i)))}};c8.JSONVectorLoader=Jge;function nYe(n){let e=n.join(""),t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r>>1]=Number.parseInt(e.slice(r,r+2),16);return t}});var zP=Ae($P=>{"use strict";m();Object.defineProperty($P,"__esModule",{value:!0});$P.BinaryBuilder=void 0;var rYe=Hf(),iYe=P_(),sYe=Gl(),Zge=class extends sYe.VariableWidthBuilder{constructor(e){super(e);this._values=new iYe.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,rYe.toUint8Array)(t))}_flushPending(e,t){let r=this._offsets,i=this._values.reserve(t).buffer,s=0;for(let[o,a]of e)if(a===void 0)r.set(o,0);else{let l=a.length;i.set(a,s),r.set(o,l),s+=l}}};$P.BinaryBuilder=Zge});var oZ=Ae(HP=>{"use strict";m();Object.defineProperty(HP,"__esModule",{value:!0});HP.BoolBuilder=void 0;var oYe=P_(),aYe=Gl(),eye=class extends aYe.Builder{constructor(e){super(e);this._values=new oYe.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};HP.BoolBuilder=eye});var cZ=Ae(y5=>{"use strict";m();Object.defineProperty(y5,"__esModule",{value:!0});y5.DateMillisecondBuilder=y5.DateDayBuilder=y5.DateBuilder=void 0;var uYe=Gl(),aZ=Bp(),iF=class extends uYe.FixedWidthBuilder{};y5.DateBuilder=iF;iF.prototype._setValue=aZ.setDate;var uZ=class extends iF{};y5.DateDayBuilder=uZ;uZ.prototype._setValue=aZ.setDateDay;var lZ=class extends iF{};y5.DateMillisecondBuilder=lZ;lZ.prototype._setValue=aZ.setDateMillisecond});var dZ=Ae(VP=>{"use strict";m();Object.defineProperty(VP,"__esModule",{value:!0});VP.DecimalBuilder=void 0;var lYe=Gl(),cYe=Bp(),fZ=class extends lYe.FixedWidthBuilder{};VP.DecimalBuilder=fZ;fZ.prototype._setValue=cYe.setDecimal});var hZ=Ae(WP=>{"use strict";m();Object.defineProperty(WP,"__esModule",{value:!0});WP.DictionaryBuilder=void 0;var fYe=ru(),dYe=Gl(),tye=sF(),nye=class extends dYe.Builder{constructor({type:e,nullValues:t,dictionaryHashFunction:r}){super({type:new fYe.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,tye.makeBuilder)({type:this.type.indices,nullValues:t}),this.dictionary=(0,tye.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let r=this.indices;return t=r.setValid(e,t),this.length=r.length,t}setValue(e,t){let r=this._keysToIndices,i=this.valueToKey(t),s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,s)}flush(){let e=this.type,t=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};WP.DictionaryBuilder=nye});var mZ=Ae(QP=>{"use strict";m();Object.defineProperty(QP,"__esModule",{value:!0});QP.FixedSizeBinaryBuilder=void 0;var hYe=Gl(),pYe=Bp(),pZ=class extends hYe.FixedWidthBuilder{};QP.FixedSizeBinaryBuilder=pZ;pZ.prototype._setValue=pYe.setFixedSizeBinary});var xZ=Ae(GP=>{"use strict";m();Object.defineProperty(GP,"__esModule",{value:!0});GP.FixedSizeListBuilder=void 0;var mYe=lh(),xYe=Gl(),gYe=ru(),rye=class extends xYe.Builder{setValue(e,t){let[r]=this.children,i=e*this.stride;for(let s=-1,o=t.length;++s<o;)r.set(i+s,t[s])}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let r=this.children.push(e);return this.type=new gYe.FixedSizeList(this.type.listSize,new mYe.Field(t,e.type,!0)),r}};GP.FixedSizeListBuilder=rye});var gZ=Ae(k2=>{"use strict";m();Object.defineProperty(k2,"__esModule",{value:!0});k2.Float64Builder=k2.Float32Builder=k2.Float16Builder=k2.FloatBuilder=void 0;var yYe=qT(),vYe=Gl(),oF=class extends vYe.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};k2.FloatBuilder=oF;var iye=class extends oF{setValue(e,t){super.setValue(e,(0,yYe.float64ToUint16)(t))}};k2.Float16Builder=iye;var sye=class extends oF{};k2.Float32Builder=sye;var oye=class extends oF{};k2.Float64Builder=oye});var bZ=Ae(v5=>{"use strict";m();Object.defineProperty(v5,"__esModule",{value:!0});v5.IntervalYearMonthBuilder=v5.IntervalDayTimeBuilder=v5.IntervalBuilder=void 0;var _Ye=Gl(),yZ=Bp(),aF=class extends _Ye.FixedWidthBuilder{};v5.IntervalBuilder=aF;aF.prototype._setValue=yZ.setIntervalValue;var vZ=class extends aF{};v5.IntervalDayTimeBuilder=vZ;vZ.prototype._setValue=yZ.setIntervalDayTime;var _Z=class extends aF{};v5.IntervalYearMonthBuilder=_Z;_Z.prototype._setValue=yZ.setIntervalYearMonth});var EZ=Ae(yc=>{"use strict";m();Object.defineProperty(yc,"__esModule",{value:!0});yc.Uint64Builder=yc.Uint32Builder=yc.Uint16Builder=yc.Uint8Builder=yc.Int64Builder=yc.Int32Builder=yc.Int16Builder=yc.Int8Builder=yc.IntBuilder=void 0;var bYe=Gl(),I2=class extends bYe.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};yc.IntBuilder=I2;var aye=class extends I2{};yc.Int8Builder=aye;var uye=class extends I2{};yc.Int16Builder=uye;var lye=class extends I2{};yc.Int32Builder=lye;var cye=class extends I2{};yc.Int64Builder=cye;var fye=class extends I2{};yc.Uint8Builder=fye;var dye=class extends I2{};yc.Uint16Builder=dye;var hye=class extends I2{};yc.Uint32Builder=hye;var pye=class extends I2{};yc.Uint64Builder=pye});var SZ=Ae(YP=>{"use strict";m();Object.defineProperty(YP,"__esModule",{value:!0});YP.ListBuilder=void 0;var EYe=lh(),SYe=ru(),wYe=P_(),CYe=Gl(),mye=class extends CYe.VariableWidthBuilder{constructor(e){super(e);this._offsets=new wYe.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new SYe.List(new EYe.Field(t,e.type,!0)),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let o=s.length,a=t.set(i,o).buffer[i];for(let l=-1;++l<o;)r.set(a+l,s[l])}}};YP.ListBuilder=mye});var wZ=Ae(KP=>{"use strict";m();Object.defineProperty(KP,"__esModule",{value:!0});KP.MapBuilder=void 0;var AYe=lh(),TYe=ru(),FYe=Gl(),xye=class extends FYe.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){let r=t instanceof Map?t:new Map(Object.entries(t)),i=this._pending||(this._pending=new Map),s=i.get(e);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(e,r)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new TYe.Map_(new AYe.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let{[i]:o,[i+1]:a}=t.set(i,s.size).buffer;for(let l of s.entries())if(r.set(o,l),++o>=a)break}}};KP.MapBuilder=xye});var CZ=Ae(JP=>{"use strict";m();Object.defineProperty(JP,"__esModule",{value:!0});JP.NullBuilder=void 0;var DYe=Gl(),gye=class extends DYe.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};JP.NullBuilder=gye});var AZ=Ae(XP=>{"use strict";m();Object.defineProperty(XP,"__esModule",{value:!0});XP.StructBuilder=void 0;var OYe=lh(),RYe=Gl(),NYe=ru(),yye=class extends RYe.Builder{setValue(e,t){let{children:r,type:i}=this;switch(Array.isArray(t)||t.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(e,t[o]));case Map:return i.children.forEach((s,o)=>r[o].set(e,t.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(e,t[s.name]))}}setValid(e,t){return super.setValid(e,t)||this.children.forEach(r=>r.setValid(e,t)),t}addChild(e,t=`${this.numChildren}`){let r=this.children.push(e);return this.type=new NYe.Struct([...this.type.children,new OYe.Field(t,e.type,!0)]),r}};XP.StructBuilder=yye});var RZ=Ae(zp=>{"use strict";m();Object.defineProperty(zp,"__esModule",{value:!0});zp.TimestampNanosecondBuilder=zp.TimestampMicrosecondBuilder=zp.TimestampMillisecondBuilder=zp.TimestampSecondBuilder=zp.TimestampBuilder=void 0;var LYe=Gl(),uF=Bp(),G_=class extends LYe.FixedWidthBuilder{};zp.TimestampBuilder=G_;G_.prototype._setValue=uF.setTimestamp;var TZ=class extends G_{};zp.TimestampSecondBuilder=TZ;TZ.prototype._setValue=uF.setTimestampSecond;var FZ=class extends G_{};zp.TimestampMillisecondBuilder=FZ;FZ.prototype._setValue=uF.setTimestampMillisecond;var DZ=class extends G_{};zp.TimestampMicrosecondBuilder=DZ;DZ.prototype._setValue=uF.setTimestampMicrosecond;var OZ=class extends G_{};zp.TimestampNanosecondBuilder=OZ;OZ.prototype._setValue=uF.setTimestampNanosecond});var MZ=Ae(Hp=>{"use strict";m();Object.defineProperty(Hp,"__esModule",{value:!0});Hp.TimeNanosecondBuilder=Hp.TimeMicrosecondBuilder=Hp.TimeMillisecondBuilder=Hp.TimeSecondBuilder=Hp.TimeBuilder=void 0;var kYe=Gl(),lF=Bp(),Y_=class extends kYe.FixedWidthBuilder{};Hp.TimeBuilder=Y_;Y_.prototype._setValue=lF.setTime;var NZ=class extends Y_{};Hp.TimeSecondBuilder=NZ;NZ.prototype._setValue=lF.setTimeSecond;var LZ=class extends Y_{};Hp.TimeMillisecondBuilder=LZ;LZ.prototype._setValue=lF.setTimeMillisecond;var kZ=class extends Y_{};Hp.TimeMicrosecondBuilder=kZ;kZ.prototype._setValue=lF.setTimeMicrosecond;var IZ=class extends Y_{};Hp.TimeNanosecondBuilder=IZ;IZ.prototype._setValue=lF.setTimeNanosecond});var PZ=Ae(_5=>{"use strict";m();Object.defineProperty(_5,"__esModule",{value:!0});_5.DenseUnionBuilder=_5.SparseUnionBuilder=_5.UnionBuilder=void 0;var IYe=lh(),vye=P_(),MYe=Gl(),PYe=ru(),ZP=class extends MYe.Builder{constructor(e){super(e);this._typeIds=new vye.DataBufferBuilder(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,r){return r===void 0&&(r=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,r),this}setValue(e,t,r){this._typeIds.set(e,r);let i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(e,t)}addChild(e,t=`${this.children.length}`){let r=this.children.push(e),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new IYe.Field(t,e.type)];return this.type=new PYe.Union(s,[...o,r],a),r}_valueToChildTypeId(e,t,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};_5.UnionBuilder=ZP;var _ye=class extends ZP{};_5.SparseUnionBuilder=_ye;var bye=class extends ZP{constructor(e){super(e);this._offsets=new vye.DataBufferBuilder(new Int32Array(0))}setValue(e,t,r){let i=this._typeIds.set(e,r).buffer[e],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(e,s.length).buffer[e];s==null||s.set(o,t)}};_5.DenseUnionBuilder=bye});var jZ=Ae(eB=>{"use strict";m();Object.defineProperty(eB,"__esModule",{value:!0});eB.Utf8Builder=void 0;var BYe=L_(),jYe=zP(),qYe=P_(),UYe=Gl(),BZ=class extends UYe.VariableWidthBuilder{constructor(e){super(e);this._values=new qYe.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,BYe.encodeUtf8)(t))}_flushPending(e,t){}};eB.Utf8Builder=BZ;BZ.prototype._flushPending=jYe.BinaryBuilder.prototype._flushPending});var Eye=Ae(f8=>{"use strict";m();Object.defineProperty(f8,"__esModule",{value:!0});f8.instance=f8.GetBuilderCtor=void 0;var $Ye=md(),zYe=zP(),HYe=oZ(),qZ=cZ(),VYe=dZ(),WYe=hZ(),QYe=mZ(),GYe=xZ(),tB=gZ(),UZ=bZ(),Rg=EZ(),YYe=SZ(),KYe=wZ(),JYe=CZ(),XYe=AZ(),cF=RZ(),fF=MZ(),$Z=PZ(),ZYe=jZ(),zZ=class extends $Ye.Visitor{visitNull(){return JYe.NullBuilder}visitBool(){return HYe.BoolBuilder}visitInt(){return Rg.IntBuilder}visitInt8(){return Rg.Int8Builder}visitInt16(){return Rg.Int16Builder}visitInt32(){return Rg.Int32Builder}visitInt64(){return Rg.Int64Builder}visitUint8(){return Rg.Uint8Builder}visitUint16(){return Rg.Uint16Builder}visitUint32(){return Rg.Uint32Builder}visitUint64(){return Rg.Uint64Builder}visitFloat(){return tB.FloatBuilder}visitFloat16(){return tB.Float16Builder}visitFloat32(){return tB.Float32Builder}visitFloat64(){return tB.Float64Builder}visitUtf8(){return ZYe.Utf8Builder}visitBinary(){return zYe.BinaryBuilder}visitFixedSizeBinary(){return QYe.FixedSizeBinaryBuilder}visitDate(){return qZ.DateBuilder}visitDateDay(){return qZ.DateDayBuilder}visitDateMillisecond(){return qZ.DateMillisecondBuilder}visitTimestamp(){return cF.TimestampBuilder}visitTimestampSecond(){return cF.TimestampSecondBuilder}visitTimestampMillisecond(){return cF.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return cF.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return cF.TimestampNanosecondBuilder}visitTime(){return fF.TimeBuilder}visitTimeSecond(){return fF.TimeSecondBuilder}visitTimeMillisecond(){return fF.TimeMillisecondBuilder}visitTimeMicrosecond(){return fF.TimeMicrosecondBuilder}visitTimeNanosecond(){return fF.TimeNanosecondBuilder}visitDecimal(){return VYe.DecimalBuilder}visitList(){return YYe.ListBuilder}visitStruct(){return XYe.StructBuilder}visitUnion(){return $Z.UnionBuilder}visitDenseUnion(){return $Z.DenseUnionBuilder}visitSparseUnion(){return $Z.SparseUnionBuilder}visitDictionary(){return WYe.DictionaryBuilder}visitInterval(){return UZ.IntervalBuilder}visitIntervalDayTime(){return UZ.IntervalDayTimeBuilder}visitIntervalYearMonth(){return UZ.IntervalYearMonthBuilder}visitFixedSizeList(){return GYe.FixedSizeListBuilder}visitMap(){return KYe.MapBuilder}};f8.GetBuilderCtor=zZ;f8.instance=new zZ});var mF=Ae(Ll=>{"use strict";m();Object.defineProperty(Ll,"__esModule",{value:!0});Ll.compareTypes=Ll.compareFields=Ll.compareSchemas=Ll.instance=Ll.TypeComparator=void 0;var eKe=md(),Vs=class extends eKe.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((r,i)=>this.compareFields(r,t[i]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};Ll.TypeComparator=Vs;function fh(n,e){return e instanceof n.constructor}function dF(n,e){return n===e||fh(n,e)}function Ng(n,e){return n===e||fh(n,e)&&n.bitWidth===e.bitWidth&&n.isSigned===e.isSigned}function nB(n,e){return n===e||fh(n,e)&&n.precision===e.precision}function tKe(n,e){return n===e||fh(n,e)&&n.byteWidth===e.byteWidth}function HZ(n,e){return n===e||fh(n,e)&&n.unit===e.unit}function hF(n,e){return n===e||fh(n,e)&&n.unit===e.unit&&n.timezone===e.timezone}function pF(n,e){return n===e||fh(n,e)&&n.unit===e.unit&&n.bitWidth===e.bitWidth}function nKe(n,e){return n===e||fh(n,e)&&n.children.length===e.children.length&&Ll.instance.compareManyFields(n.children,e.children)}function rKe(n,e){return n===e||fh(n,e)&&n.children.length===e.children.length&&Ll.instance.compareManyFields(n.children,e.children)}function VZ(n,e){return n===e||fh(n,e)&&n.mode===e.mode&&n.typeIds.every((t,r)=>t===e.typeIds[r])&&Ll.instance.compareManyFields(n.children,e.children)}function iKe(n,e){return n===e||fh(n,e)&&n.id===e.id&&n.isOrdered===e.isOrdered&&Ll.instance.visit(n.indices,e.indices)&&Ll.instance.visit(n.dictionary,e.dictionary)}function WZ(n,e){return n===e||fh(n,e)&&n.unit===e.unit}function sKe(n,e){return n===e||fh(n,e)&&n.listSize===e.listSize&&n.children.length===e.children.length&&Ll.instance.compareManyFields(n.children,e.children)}function oKe(n,e){return n===e||fh(n,e)&&n.keysSorted===e.keysSorted&&n.children.length===e.children.length&&Ll.instance.compareManyFields(n.children,e.children)}Vs.prototype.visitNull=dF;Vs.prototype.visitBool=dF;Vs.prototype.visitInt=Ng;Vs.prototype.visitInt8=Ng;Vs.prototype.visitInt16=Ng;Vs.prototype.visitInt32=Ng;Vs.prototype.visitInt64=Ng;Vs.prototype.visitUint8=Ng;Vs.prototype.visitUint16=Ng;Vs.prototype.visitUint32=Ng;Vs.prototype.visitUint64=Ng;Vs.prototype.visitFloat=nB;Vs.prototype.visitFloat16=nB;Vs.prototype.visitFloat32=nB;Vs.prototype.visitFloat64=nB;Vs.prototype.visitUtf8=dF;Vs.prototype.visitBinary=dF;Vs.prototype.visitFixedSizeBinary=tKe;Vs.prototype.visitDate=HZ;Vs.prototype.visitDateDay=HZ;Vs.prototype.visitDateMillisecond=HZ;Vs.prototype.visitTimestamp=hF;Vs.prototype.visitTimestampSecond=hF;Vs.prototype.visitTimestampMillisecond=hF;Vs.prototype.visitTimestampMicrosecond=hF;Vs.prototype.visitTimestampNanosecond=hF;Vs.prototype.visitTime=pF;Vs.prototype.visitTimeSecond=pF;Vs.prototype.visitTimeMillisecond=pF;Vs.prototype.visitTimeMicrosecond=pF;Vs.prototype.visitTimeNanosecond=pF;Vs.prototype.visitDecimal=dF;Vs.prototype.visitList=nKe;Vs.prototype.visitStruct=rKe;Vs.prototype.visitUnion=VZ;Vs.prototype.visitDenseUnion=VZ;Vs.prototype.visitSparseUnion=VZ;Vs.prototype.visitDictionary=iKe;Vs.prototype.visitInterval=WZ;Vs.prototype.visitIntervalDayTime=WZ;Vs.prototype.visitIntervalYearMonth=WZ;Vs.prototype.visitFixedSizeList=sKe;Vs.prototype.visitMap=oKe;Ll.instance=new Vs;function aKe(n,e){return Ll.instance.compareSchemas(n,e)}Ll.compareSchemas=aKe;function uKe(n,e){return Ll.instance.compareFields(n,e)}Ll.compareFields=uKe;function lKe(n,e){return Ll.instance.visit(n,e)}Ll.compareTypes=lKe});var sF=Ae(Wp=>{"use strict";m();Object.defineProperty(Wp,"__esModule",{value:!0});Wp.builderThroughAsyncIterable=Wp.builderThroughIterable=Wp.tableFromJSON=Wp.vectorFromArray=Wp.makeBuilder=void 0;var K_=hs(),QZ=lh(),Vp=K_.__importStar(ru()),cKe=E2(),Sye=xd(),fKe=Eye(),dKe=d8(),hKe=b5(),pKe=mF();function rB(n){let e=n.type,t=new(fKe.instance.getVisitFn(e)())(n);if(e.children&&e.children.length>0){let r=n.children||[],i={nullValues:n.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(let[o,a]of e.children.entries()){let{type:l}=a,f=s(a,o);t.children.push(rB(Object.assign(Object.assign({},f),{type:l})))}}return t}Wp.makeBuilder=rB;function wye(n,e){if(n instanceof cKe.Data||n instanceof Sye.Vector||n.type instanceof Vp.DataType||ArrayBuffer.isView(n))return(0,Sye.makeVector)(n);let t={type:e??iB(n),nullValues:[null]},r=[...Cye(t)(n)],i=r.length===1?r[0]:r.reduce((s,o)=>s.concat(o));return Vp.DataType.isDictionary(i.type)?i.memoize():i}Wp.vectorFromArray=wye;function mKe(n){let e=wye(n),t=new hKe.RecordBatch(new QZ.Schema(e.type.children),e.data[0]);return new dKe.Table(t)}Wp.tableFromJSON=mKe;function iB(n){if(n.length===0)return new Vp.Null;let e=0,t=0,r=0,i=0,s=0,o=0,a=0,l=0;for(let f of n){if(f==null){++e;continue}switch(typeof f){case"bigint":++o;continue;case"boolean":++a;continue;case"number":++i;continue;case"string":++s;continue;case"object":Array.isArray(f)?++t:Object.prototype.toString.call(f)==="[object Date]"?++l:++r;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}if(i+e===n.length)return new Vp.Float64;if(s+e===n.length)return new Vp.Dictionary(new Vp.Utf8,new Vp.Int32);if(o+e===n.length)return new Vp.Int64;if(a+e===n.length)return new Vp.Bool;if(l+e===n.length)return new Vp.DateMillisecond;if(t+e===n.length){let f=n,p=iB(f[f.findIndex(_=>_!=null)]);if(f.every(_=>_==null||(0,pKe.compareTypes)(p,iB(_))))return new Vp.List(new QZ.Field("",p,!0))}else if(r+e===n.length){let f=new Map;for(let p of n)for(let _ of Object.keys(p))!f.has(_)&&p[_]!=null&&f.set(_,new QZ.Field(_,iB([p[_]]),!0));return new Vp.Struct([...f.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}function Cye(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function*(i){let s=0,o=rB(n);for(let a of i)o.append(a)[r]>=t&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}Wp.builderThroughIterable=Cye;function xKe(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function(i){return K_.__asyncGenerator(this,arguments,function*(){var s,o;let a=0,l=rB(n);try{for(var f=K_.__asyncValues(i),p;p=yield K_.__await(f.next()),!p.done;){let _=p.value;l.append(_)[r]>=t&&++a&&(yield yield K_.__await(l.toVector()))}}catch(_){s={error:_}}finally{try{p&&!p.done&&(o=f.return)&&(yield K_.__await(o.call(f)))}finally{if(s)throw s.error}}(l.finish().length>0||a===0)&&(yield yield K_.__await(l.toVector()))})}}Wp.builderThroughAsyncIterable=xKe});var Tye=Ae(sB=>{"use strict";m();Object.defineProperty(sB,"__esModule",{value:!0});sB.distributeVectorsIntoRecordBatches=void 0;var Aye=E2(),gKe=ru(),yKe=b5();function vKe(n,e){return _Ke(n,e.map(t=>t.data.concat()))}sB.distributeVectorsIntoRecordBatches=vKe;function _Ke(n,e){let t=[...n.fields],r=[],i={numBatches:e.reduce((_,E)=>Math.max(_,E.length),0)},s=0,o=0,a=-1,l=e.length,f,p=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)p[a]=f=e[a].shift(),o=Math.min(o,f?f.length:o);Number.isFinite(o)&&(p=bKe(t,o,p,e,i),o>0&&(r[s++]=(0,Aye.makeData)({type:new gKe.Struct(t),length:o,nullCount:0,children:p.slice()})))}return[n=n.assign(t),r.map(_=>new yKe.RecordBatch(n,_))]}function bKe(n,e,t,r,i){var s;let o=(e+63&~63)>>3;for(let a=-1,l=r.length;++a<l;){let f=t[a],p=f==null?void 0:f.length;if(p>=e)p===e?t[a]=f:(t[a]=f.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(f.slice(e,p-e))));else{let _=n[a];n[a]=_.clone({nullable:!0}),t[a]=(s=f==null?void 0:f._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:(0,Aye.makeData)({type:_.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return t}});var d8=Ae(E5=>{"use strict";m();var Fye;Object.defineProperty(E5,"__esModule",{value:!0});E5.tableFromArrays=E5.makeTable=E5.Table=void 0;var oB=Nl(),GZ=E2(),EKe=sF(),xF=xd(),J_=lh(),Dye=ru(),SKe=mF(),YZ=Tye(),Lg=$M(),wKe=I_(),CKe=Bp(),AKe=zM(),TKe=HM(),FKe=VM(),DKe=zT(),h8=b5(),Qh=class{constructor(...e){var t,r;if(e.length===0)return this.batches=[],this.schema=new J_.Schema([]),this._offsets=[0],this;let i,s;e[0]instanceof J_.Schema&&(i=e.shift()),e[e.length-1]instanceof Uint32Array&&(s=e.pop());let o=l=>{if(l){if(l instanceof h8.RecordBatch)return[l];if(l instanceof Qh)return l.batches;if(l instanceof GZ.Data){if(l.type instanceof Dye.Struct)return[new h8.RecordBatch(new J_.Schema(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(f=>o(f));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(f=>o(f));if(typeof l=="object"){let f=Object.keys(l),p=f.map(O=>new xF.Vector([l[O]])),_=new J_.Schema(f.map((O,R)=>new J_.Field(String(O),p[R].type))),[,E]=(0,YZ.distributeVectorsIntoRecordBatches)(_,p);return E.length===0?[new h8.RecordBatch(l)]:E}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i??((t=a[0])===null||t===void 0?void 0:t.schema))!==null&&r!==void 0?r:new J_.Schema([]),!(i instanceof J_.Schema))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let l of a){if(!(l instanceof h8.RecordBatch))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,SKe.compareSchemas)(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??(0,Lg.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,Lg.computeChunkNullCounts)(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?TKe.instance.visit(new xF.Vector(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){let t=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new Qh(t,r.map(i=>new h8.RecordBatch(t,i)))}slice(e,t){let r=this.schema;[e,t]=(0,DKe.clampRange)({length:this.numRows},e,t);let i=(0,Lg.sliceChunks)(this.data,this._offsets,e,t);return new Qh(r,i.map(s=>new h8.RecordBatch(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){let t=this.data.map(r=>r.children[e]);if(t.length===0){let{type:r}=this.schema.fields[e],i=(0,GZ.makeData)({type:r,length:0,nullCount:0});t.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new xF.Vector(t)}return null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new xF.Vector([(0,GZ.makeData)({type:new Dye.Null,length:this.numRows})]));let s=r.fields.slice(),o=s[e].clone({type:t.type}),a=this.schema.fields.map((l,f)=>this.getChildAt(f));[s[e],a[e]]=[o,t],[r,i]=(0,YZ.distributeVectorsIntoRecordBatches)(r,a)}return new Qh(r,i)}select(e){let t=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>t.get(r)).filter(r=>r>-1))}selectAt(e){let t=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new Qh(t,r)}assign(e){let t=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,f)=>{let[p,_]=a,E=t.findIndex(O=>O.name===l.name);return~E?_[E]=f:p.push(f),a},[[],[]]),s=this.schema.assign(e.schema),o=[...t.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new Qh(...(0,YZ.distributeVectorsIntoRecordBatches)(s,o))}};E5.Table=Qh;Fye=Symbol.toStringTag;Qh[Fye]=(n=>(n.schema=null,n.batches=[],n._offsets=new Uint32Array([0]),n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,n.isValid=(0,Lg.wrapChunkedCall1)(Lg.isChunkedValid),n.get=(0,Lg.wrapChunkedCall1)(wKe.instance.getVisitFn(oB.Type.Struct)),n.set=(0,Lg.wrapChunkedCall2)(CKe.instance.getVisitFn(oB.Type.Struct)),n.indexOf=(0,Lg.wrapChunkedIndexOf)(AKe.instance.getVisitFn(oB.Type.Struct)),n.getByteLength=(0,Lg.wrapChunkedCall1)(FKe.instance.getVisitFn(oB.Type.Struct)),"Table"))(Qh.prototype);function OKe(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,xF.makeVector)(i);return new Qh(e)}E5.makeTable=OKe;function RKe(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,EKe.vectorFromArray)(i);return new Qh(e)}E5.tableFromArrays=RKe});var b5=Ae(p8=>{"use strict";m();var Oye;Object.defineProperty(p8,"__esModule",{value:!0});p8._InternalEmptyPlaceholderRecordBatch=p8.RecordBatch=void 0;var Qp=E2(),NKe=d8(),aB=xd(),uB=lh(),kg=ru(),LKe=I_(),kKe=Bp(),IKe=zM(),MKe=HM(),PKe=VM(),M2=class{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof uB.Schema))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,Qp.makeData)({nullCount:0,type:new kg.Struct(this.schema.fields),children:this.schema.fields.map(t=>(0,Qp.makeData)({type:t.type,nullCount:0}))})]=e,!(this.data instanceof Qp.Data))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Rye(this.schema,this.data.children);break}case 1:{let[t]=e,{fields:r,children:i,length:s}=Object.keys(t).reduce((l,f,p)=>(l.children[p]=t[f],l.length=Math.max(l.length,t[f].length),l.fields[p]=uB.Field.new({name:f,type:t[f].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new uB.Schema(r),a=(0,Qp.makeData)({type:new kg.Struct(r),length:s,children:i,nullCount:0});[this.schema,this.data]=Rye(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Nye(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return LKe.instance.visit(this.data,e)}set(e,t){return kKe.instance.visit(this.data,e,t)}indexOf(e,t){return IKe.instance.visit(this.data,e,t)}getByteLength(e){return PKe.instance.visit(this.data,e)}[Symbol.iterator](){return MKe.instance.visit(new aB.Vector([this.data]))}toArray(){return[...this]}concat(...e){return new NKe.Table(this.schema,[this,...e])}slice(e,t){let[r]=new aB.Vector([this.data]).slice(e,t).data;return new M2(this.schema,r)}getChild(e){var t;return this.getChildAt((t=this.schema.fields)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new aB.Vector([this.data.children[e]]):null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){t||(t=new aB.Vector([(0,Qp.makeData)({type:new kg.Null,length:this.numRows})]));let s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:t.type});[s[e],o[e]]=[a,t.data[0]],r=new uB.Schema(s,new Map(this.schema.metadata)),i=(0,Qp.makeData)({type:new kg.Struct(s),children:o})}return new M2(r,i)}select(e){let t=this.schema.select(e),r=new kg.Struct(t.fields),i=[];for(let s of e){let o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new M2(t,(0,Qp.makeData)({type:r,length:this.numRows,children:i}))}selectAt(e){let t=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=(0,Qp.makeData)({type:new kg.Struct(t.fields),length:this.numRows,children:r});return new M2(t,i)}};p8.RecordBatch=M2;Oye=Symbol.toStringTag;M2[Oye]=(n=>(n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(M2.prototype);function Rye(n,e,t=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;let i=[...n.fields],s=[...e],o=(t+63&~63)>>3;for(let[a,l]of n.fields.entries()){let f=e[a];(!f||f.length!==t)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=f==null?void 0:f._changeLengthAndBackfillNullBitmap(t))!==null&&r!==void 0?r:(0,Qp.makeData)({type:l.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)}))}return[n.assign(i),(0,Qp.makeData)({type:new kg.Struct(i),length:t,children:s})]}function Nye(n,e,t=new Map){for(let r=-1,i=n.length;++r<i;){let o=n[r].type,a=e[r];if(kg.DataType.isDictionary(o)){if(!t.has(o.id))a.dictionary&&t.set(o.id,a.dictionary);else if(t.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&Nye(o.children,a.children,t)}return t}var Lye=class extends M2{constructor(e){let t=e.fields.map(i=>(0,Qp.makeData)({type:i.type})),r=(0,Qp.makeData)({type:new kg.Struct(e.fields),nullCount:0,children:t});super(e,r)}};p8._InternalEmptyPlaceholderRecordBatch=Lye});var kye=Ae(gF=>{"use strict";m();Object.defineProperty(gF,"__esModule",{value:!0});gF.BodyCompressionMethod=void 0;var BKe;(function(n){n[n.BUFFER=0]="BUFFER"})(BKe=gF.BodyCompressionMethod||(gF.BodyCompressionMethod={}))});var Iye=Ae(yF=>{"use strict";m();Object.defineProperty(yF,"__esModule",{value:!0});yF.CompressionType=void 0;var jKe;(function(n){n[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD"})(jKe=yF.CompressionType||(yF.CompressionType={}))});var Bye=Ae(lB=>{"use strict";m();Object.defineProperty(lB,"__esModule",{value:!0});lB.BodyCompression=void 0;var qKe=hs(),UKe=qKe.__importStar(wo()),Mye=kye(),Pye=Iye(),Ig=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new Ig).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+UKe.SIZE_PREFIX_LENGTH),(t||new Ig).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Pye.CompressionType.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):Mye.BodyCompressionMethod.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,Pye.CompressionType.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,Mye.BodyCompressionMethod.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,r){return Ig.startBodyCompression(e),Ig.addCodec(e,t),Ig.addMethod(e,r),Ig.endBodyCompression(e)}};lB.BodyCompression=Ig});var S5=Ae(cB=>{"use strict";m();Object.defineProperty(cB,"__esModule",{value:!0});cB.Buffer=void 0;var jye=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};cB.Buffer=jye});var KZ=Ae(fB=>{"use strict";m();Object.defineProperty(fB,"__esModule",{value:!0});fB.FieldNode=void 0;var qye=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};fB.FieldNode=qye});var hB=Ae(dB=>{"use strict";m();Object.defineProperty(dB,"__esModule",{value:!0});dB.RecordBatch=void 0;var $Ke=hs(),zKe=$Ke.__importStar(wo()),HKe=Bye(),VKe=S5(),WKe=KZ(),vF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new vF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+zKe.SIZE_PREFIX_LENGTH),(t||new vF).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new WKe.FieldNode).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new VKe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new HKe.BodyCompression).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}};dB.RecordBatch=vF});var JZ=Ae(pB=>{"use strict";m();Object.defineProperty(pB,"__esModule",{value:!0});pB.DictionaryBatch=void 0;var QKe=hs(),GKe=QKe.__importStar(wo()),YKe=hB(),_F=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new _F).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+GKe.SIZE_PREFIX_LENGTH),(t||new _F).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new YKe.RecordBatch).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}};pB.DictionaryBatch=_F});var Uye=Ae(bF=>{"use strict";m();Object.defineProperty(bF,"__esModule",{value:!0});bF.SparseMatrixCompressedAxis=void 0;var KKe;(function(n){n[n.Row=0]="Row",n[n.Column=1]="Column"})(KKe=bF.SparseMatrixCompressedAxis||(bF.SparseMatrixCompressedAxis={}))});var Vye=Ae(mB=>{"use strict";m();Object.defineProperty(mB,"__esModule",{value:!0});mB.SparseMatrixIndexCSX=void 0;var JKe=hs(),XKe=JKe.__importStar(wo()),$ye=S5(),zye=i5(),Hye=Uye(),EF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseMatrixIndexCSX(e,t){return(t||new EF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseMatrixIndexCSX(e,t){return e.setPosition(e.position()+XKe.SIZE_PREFIX_LENGTH),(t||new EF).__init(e.readInt32(e.position())+e.position(),e)}compressedAxis(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Hye.SparseMatrixCompressedAxis.Row}indptrType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new zye.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new $ye.Buffer).__init(this.bb_pos+t,this.bb):null}indicesType(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new zye.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new $ye.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseMatrixIndexCSX(e){e.startObject(5)}static addCompressedAxis(e,t){e.addFieldInt16(0,t,Hye.SparseMatrixCompressedAxis.Row)}static addIndptrType(e,t){e.addFieldOffset(1,t,0)}static addIndptrBuffer(e,t){e.addFieldStruct(2,t,0)}static addIndicesType(e,t){e.addFieldOffset(3,t,0)}static addIndicesBuffer(e,t){e.addFieldStruct(4,t,0)}static endSparseMatrixIndexCSX(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};mB.SparseMatrixIndexCSX=EF});var Wye=Ae(xB=>{"use strict";m();Object.defineProperty(xB,"__esModule",{value:!0});xB.SparseTensorIndexCOO=void 0;var ZKe=hs(),eJe=ZKe.__importStar(wo()),tJe=S5(),nJe=i5(),SF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCOO(e,t){return(t||new SF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCOO(e,t){return e.setPosition(e.position()+eJe.SIZE_PREFIX_LENGTH),(t||new SF).__init(e.readInt32(e.position())+e.position(),e)}indicesType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new nJe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesStrides(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}indicesStridesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new tJe.Buffer).__init(this.bb_pos+t,this.bb):null}isCanonical(){let e=this.bb.__offset(this.bb_pos,10);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startSparseTensorIndexCOO(e){e.startObject(4)}static addIndicesType(e,t){e.addFieldOffset(0,t,0)}static addIndicesStrides(e,t){e.addFieldOffset(1,t,0)}static createIndicesStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startIndicesStridesVector(e,t){e.startVector(8,t,8)}static addIndicesBuffer(e,t){e.addFieldStruct(2,t,0)}static addIsCanonical(e,t){e.addFieldInt8(3,+t,0)}static endSparseTensorIndexCOO(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,8),t}};xB.SparseTensorIndexCOO=SF});var Yye=Ae(gB=>{"use strict";m();Object.defineProperty(gB,"__esModule",{value:!0});gB.SparseTensorIndexCSF=void 0;var rJe=hs(),iJe=rJe.__importStar(wo()),Qye=S5(),Gye=i5(),wF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCSF(e,t){return(t||new wF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCSF(e,t){return e.setPosition(e.position()+iJe.SIZE_PREFIX_LENGTH),(t||new wF).__init(e.readInt32(e.position())+e.position(),e)}indptrType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new Gye.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffers(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new Qye.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indptrBuffersLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesType(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new Gye.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffers(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new Qye.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indicesBuffersLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrder(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}axisOrderLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrderArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startSparseTensorIndexCSF(e){e.startObject(5)}static addIndptrType(e,t){e.addFieldOffset(0,t,0)}static addIndptrBuffers(e,t){e.addFieldOffset(1,t,0)}static startIndptrBuffersVector(e,t){e.startVector(16,t,8)}static addIndicesType(e,t){e.addFieldOffset(2,t,0)}static addIndicesBuffers(e,t){e.addFieldOffset(3,t,0)}static startIndicesBuffersVector(e,t){e.startVector(16,t,8)}static addAxisOrder(e,t){e.addFieldOffset(4,t,0)}static createAxisOrderVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startAxisOrderVector(e,t){e.startVector(4,t,4)}static endSparseTensorIndexCSF(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};gB.SparseTensorIndexCSF=wF});var Zye=Ae(Mg=>{"use strict";m();Object.defineProperty(Mg,"__esModule",{value:!0});Mg.unionListToSparseTensorIndex=Mg.unionToSparseTensorIndex=Mg.SparseTensorIndex=void 0;var Kye=Vye(),Jye=Wye(),Xye=Yye(),XZ;(function(n){n[n.NONE=0]="NONE",n[n.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",n[n.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",n[n.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(XZ=Mg.SparseTensorIndex||(Mg.SparseTensorIndex={}));function sJe(n,e){switch(XZ[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(new Jye.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(new Kye.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(new Xye.SparseTensorIndexCSF);default:return null}}Mg.unionToSparseTensorIndex=sJe;function oJe(n,e,t){switch(XZ[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(t,new Jye.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(t,new Kye.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(t,new Xye.SparseTensorIndexCSF);default:return null}}Mg.unionListToSparseTensorIndex=oJe});var ZZ=Ae(yB=>{"use strict";m();Object.defineProperty(yB,"__esModule",{value:!0});yB.TensorDim=void 0;var aJe=hs(),uJe=aJe.__importStar(wo()),Pg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorDim(e,t){return(t||new Pg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorDim(e,t){return e.setPosition(e.position()+uJe.SIZE_PREFIX_LENGTH),(t||new Pg).__init(e.readInt32(e.position())+e.position(),e)}size(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}name(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTensorDim(e){e.startObject(2)}static addSize(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addName(e,t){e.addFieldOffset(1,t,0)}static endTensorDim(e){return e.endObject()}static createTensorDim(e,t,r){return Pg.startTensorDim(e),Pg.addSize(e,t),Pg.addName(e,r),Pg.endTensorDim(e)}};yB.TensorDim=Pg});var n3e=Ae(vB=>{"use strict";m();Object.defineProperty(vB,"__esModule",{value:!0});vB.SparseTensor=void 0;var lJe=hs(),cJe=lJe.__importStar(wo()),fJe=S5(),e3e=Zye(),dJe=ZZ(),t3e=t8(),CF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new CF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+cJe.SIZE_PREFIX_LENGTH),(t||new CF).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):t3e.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new dJe.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}nonZeroLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}sparseIndexType(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb_pos+e):e3e.SparseTensorIndex.NONE}sparseIndex(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__union(e,this.bb_pos+t):null}data(e){let t=this.bb.__offset(this.bb_pos,16);return t?(e||new fJe.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseTensor(e){e.startObject(7)}static addTypeType(e,t){e.addFieldInt8(0,t,t3e.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addNonZeroLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addSparseIndexType(e,t){e.addFieldInt8(4,t,e3e.SparseTensorIndex.NONE)}static addSparseIndex(e,t){e.addFieldOffset(5,t,0)}static addData(e,t){e.addFieldStruct(6,t,0)}static endSparseTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,14),e.requiredField(t,16),t}static finishSparseTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedSparseTensorBuffer(e,t){e.finish(t,void 0,!0)}};vB.SparseTensor=CF});var i3e=Ae(_B=>{"use strict";m();Object.defineProperty(_B,"__esModule",{value:!0});_B.Tensor=void 0;var hJe=hs(),pJe=hJe.__importStar(wo()),mJe=S5(),xJe=ZZ(),r3e=t8(),AF=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new AF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+pJe.SIZE_PREFIX_LENGTH),(t||new AF).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):r3e.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new xJe.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}strides(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}stridesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}data(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new mJe.Buffer).__init(this.bb_pos+t,this.bb):null}static startTensor(e){e.startObject(5)}static addTypeType(e,t){e.addFieldInt8(0,t,r3e.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addStrides(e,t){e.addFieldOffset(3,t,0)}static createStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startStridesVector(e,t){e.startVector(8,t,8)}static addData(e,t){e.addFieldStruct(4,t,0)}static endTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,12),t}static finishTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedTensorBuffer(e,t){e.finish(t,void 0,!0)}};_B.Tensor=AF});var tee=Ae(Bg=>{"use strict";m();Object.defineProperty(Bg,"__esModule",{value:!0});Bg.unionListToMessageHeader=Bg.unionToMessageHeader=Bg.MessageHeader=void 0;var s3e=JZ(),o3e=hB(),a3e=MP(),u3e=n3e(),l3e=i3e(),eee;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(eee=Bg.MessageHeader||(Bg.MessageHeader={}));function gJe(n,e){switch(eee[n]){case"NONE":return null;case"Schema":return e(new a3e.Schema);case"DictionaryBatch":return e(new s3e.DictionaryBatch);case"RecordBatch":return e(new o3e.RecordBatch);case"Tensor":return e(new l3e.Tensor);case"SparseTensor":return e(new u3e.SparseTensor);default:return null}}Bg.unionToMessageHeader=gJe;function yJe(n,e,t){switch(eee[n]){case"NONE":return null;case"Schema":return e(t,new a3e.Schema);case"DictionaryBatch":return e(t,new s3e.DictionaryBatch);case"RecordBatch":return e(t,new o3e.RecordBatch);case"Tensor":return e(t,new l3e.Tensor);case"SparseTensor":return e(t,new u3e.SparseTensor);default:return null}}Bg.unionListToMessageHeader=yJe});var d3e=Ae(bB=>{"use strict";m();Object.defineProperty(bB,"__esModule",{value:!0});bB.Message=void 0;var vJe=hs(),_Je=vJe.__importStar(wo()),bJe=e8(),c3e=tee(),f3e=BX(),Gp=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new Gp).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+_Je.SIZE_PREFIX_LENGTH),(t||new Gp).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):f3e.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):c3e.MessageHeader.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new bJe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,f3e.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,c3e.MessageHeader.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,r,i,s,o){return Gp.startMessage(e),Gp.addVersion(e,t),Gp.addHeaderType(e,r),Gp.addHeader(e,i),Gp.addBodyLength(e,s),Gp.addCustomMetadata(e,o),Gp.endMessage(e)}};bB.Message=Gp});var v3e=Ae(x8=>{"use strict";m();Object.defineProperty(x8,"__esModule",{value:!0});x8.instance=x8.TypeAssembler=void 0;var EJe=hs(),SJe=EJe.__importStar(wo()),wJe=SJe.Long,CJe=md(),h3e=HX(),EB=i5(),nee=xP(),p3e=UX(),m3e=$X(),x3e=WX(),TF=uP(),ree=oP(),SB=FP(),wB=OP(),iee=yP(),g3e=zX(),y3e=VX(),m8=NP(),FF=qX(),see=dP(),oee=pP(),aee=wP(),uee=class extends CJe.Visitor{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return h3e.Null.startNull(t),h3e.Null.endNull(t)}visitInt(e,t){return EB.Int.startInt(t),EB.Int.addBitWidth(t,e.bitWidth),EB.Int.addIsSigned(t,e.isSigned),EB.Int.endInt(t)}visitFloat(e,t){return nee.FloatingPoint.startFloatingPoint(t),nee.FloatingPoint.addPrecision(t,e.precision),nee.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return p3e.Binary.startBinary(t),p3e.Binary.endBinary(t)}visitBool(e,t){return m3e.Bool.startBool(t),m3e.Bool.endBool(t)}visitUtf8(e,t){return x3e.Utf8.startUtf8(t),x3e.Utf8.endUtf8(t)}visitDecimal(e,t){return TF.Decimal.startDecimal(t),TF.Decimal.addScale(t,e.scale),TF.Decimal.addPrecision(t,e.precision),TF.Decimal.addBitWidth(t,e.bitWidth),TF.Decimal.endDecimal(t)}visitDate(e,t){return ree.Date.startDate(t),ree.Date.addUnit(t,e.unit),ree.Date.endDate(t)}visitTime(e,t){return SB.Time.startTime(t),SB.Time.addUnit(t,e.unit),SB.Time.addBitWidth(t,e.bitWidth),SB.Time.endTime(t)}visitTimestamp(e,t){let r=e.timezone&&t.createString(e.timezone)||void 0;return wB.Timestamp.startTimestamp(t),wB.Timestamp.addUnit(t,e.unit),r!==void 0&&wB.Timestamp.addTimezone(t,r),wB.Timestamp.endTimestamp(t)}visitInterval(e,t){return iee.Interval.startInterval(t),iee.Interval.addUnit(t,e.unit),iee.Interval.endInterval(t)}visitList(e,t){return g3e.List.startList(t),g3e.List.endList(t)}visitStruct(e,t){return y3e.Struct_.startStruct_(t),y3e.Struct_.endStruct_(t)}visitUnion(e,t){m8.Union.startTypeIdsVector(t,e.typeIds.length);let r=m8.Union.createTypeIdsVector(t,e.typeIds);return m8.Union.startUnion(t),m8.Union.addMode(t,e.mode),m8.Union.addTypeIds(t,r),m8.Union.endUnion(t)}visitDictionary(e,t){let r=this.visit(e.indices,t);return FF.DictionaryEncoding.startDictionaryEncoding(t),FF.DictionaryEncoding.addId(t,new wJe(e.id,0)),FF.DictionaryEncoding.addIsOrdered(t,e.isOrdered),r!==void 0&&FF.DictionaryEncoding.addIndexType(t,r),FF.DictionaryEncoding.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return see.FixedSizeBinary.startFixedSizeBinary(t),see.FixedSizeBinary.addByteWidth(t,e.byteWidth),see.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return oee.FixedSizeList.startFixedSizeList(t),oee.FixedSizeList.addListSize(t,e.listSize),oee.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return aee.Map.startMap(t),aee.Map.addKeysSorted(t,e.keysSorted),aee.Map.endMap(t)}};x8.TypeAssembler=uee;x8.instance=new uee});var A3e=Ae(P2=>{"use strict";m();Object.defineProperty(P2,"__esModule",{value:!0});P2.fieldFromJSON=P2.dictionaryBatchFromJSON=P2.recordBatchFromJSON=P2.schemaFromJSON=void 0;var g8=lh(),zu=ru(),X_=Z_(),y8=Nl();function AJe(n,e=new Map){return new g8.Schema(FJe(n,e),CB(n.customMetadata),e)}P2.schemaFromJSON=AJe;function _3e(n){return new X_.RecordBatch(n.count,E3e(n.columns),S3e(n.columns))}P2.recordBatchFromJSON=_3e;function TJe(n){return new X_.DictionaryBatch(_3e(n.data),n.id,n.isDelta)}P2.dictionaryBatchFromJSON=TJe;function FJe(n,e){return(n.fields||[]).filter(Boolean).map(t=>g8.Field.fromJSON(t,e))}function b3e(n,e){return(n.children||[]).filter(Boolean).map(t=>g8.Field.fromJSON(t,e))}function E3e(n){return(n||[]).reduce((e,t)=>[...e,new X_.FieldNode(t.count,DJe(t.VALIDITY)),...E3e(t.children)],[])}function S3e(n,e=[]){for(let t=-1,r=(n||[]).length;++t<r;){let i=n[t];i.VALIDITY&&e.push(new X_.BufferRegion(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new X_.BufferRegion(e.length,i.TYPE.length)),i.OFFSET&&e.push(new X_.BufferRegion(e.length,i.OFFSET.length)),i.DATA&&e.push(new X_.BufferRegion(e.length,i.DATA.length)),e=S3e(i.children,e)}return e}function DJe(n){return(n||[]).reduce((e,t)=>e+ +(t===0),0)}function OJe(n,e){let t,r,i,s,o,a;return!e||!(s=n.dictionary)?(o=C3e(n,b3e(n,e)),i=new g8.Field(n.name,o,n.nullable,CB(n.customMetadata))):e.has(t=s.id)?(r=(r=s.indexType)?w3e(r):new zu.Int32,a=new zu.Dictionary(e.get(t),r,t,s.isOrdered),i=new g8.Field(n.name,a,n.nullable,CB(n.customMetadata))):(r=(r=s.indexType)?w3e(r):new zu.Int32,e.set(t,o=C3e(n,b3e(n,e))),a=new zu.Dictionary(o,r,t,s.isOrdered),i=new g8.Field(n.name,a,n.nullable,CB(n.customMetadata))),i||null}P2.fieldFromJSON=OJe;function CB(n){return new Map(Object.entries(n||{}))}function w3e(n){return new zu.Int(n.isSigned,n.bitWidth)}function C3e(n,e){let t=n.type.name;switch(t){case"NONE":return new zu.Null;case"null":return new zu.Null;case"binary":return new zu.Binary;case"utf8":return new zu.Utf8;case"bool":return new zu.Bool;case"list":return new zu.List((e||[])[0]);case"struct":return new zu.Struct(e||[]);case"struct_":return new zu.Struct(e||[])}switch(t){case"int":{let r=n.type;return new zu.Int(r.isSigned,r.bitWidth)}case"floatingpoint":{let r=n.type;return new zu.Float(y8.Precision[r.precision])}case"decimal":{let r=n.type;return new zu.Decimal(r.scale,r.precision,r.bitWidth)}case"date":{let r=n.type;return new zu.Date_(y8.DateUnit[r.unit])}case"time":{let r=n.type;return new zu.Time(y8.TimeUnit[r.unit],r.bitWidth)}case"timestamp":{let r=n.type;return new zu.Timestamp(y8.TimeUnit[r.unit],r.timezone)}case"interval":{let r=n.type;return new zu.Interval(y8.IntervalUnit[r.unit])}case"union":{let r=n.type;return new zu.Union(y8.UnionMode[r.mode],r.typeIds||[],e||[])}case"fixedsizebinary":{let r=n.type;return new zu.FixedSizeBinary(r.byteWidth)}case"fixedsizelist":{let r=n.type;return new zu.FixedSizeList(r.listSize,(e||[])[0])}case"map":{let r=n.type;return new zu.Map_((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}});var Z_=Ae(Kp=>{"use strict";m();Object.defineProperty(Kp,"__esModule",{value:!0});Kp.FieldNode=Kp.BufferRegion=Kp.DictionaryBatch=Kp.RecordBatch=Kp.Message=void 0;var RJe=hs(),lee=RJe.__importStar(wo()),jg=MP(),NJe=i5(),w5=hB(),v8=JZ(),LJe=S5(),hm=GX(),kJe=KZ(),Vc=t8(),C5=e8(),T3e=jX(),IJe=xP(),MJe=uP(),PJe=oP(),BJe=FP(),jJe=OP(),qJe=yP(),UJe=NP(),$Je=dP(),zJe=pP(),HJe=wP(),A5=d3e(),xf=lh(),VJe=Hf(),kl=Nl(),cee=v3e(),AB=A3e(),e6=lee.Long,WJe=lee.Builder,QJe=lee.ByteBuffer,Hu=ru(),T5=class{constructor(e,t,r,i){this._version=t,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){let r=new T5(0,kl.MetadataVersion.V4,t);return r._createHeader=GJe(e,t),r}static decode(e){e=new QJe((0,VJe.toUint8Array)(e));let t=A5.Message.getRootAsMessage(e),r=t.bodyLength(),i=t.version(),s=t.headerType(),o=new T5(r,i,s);return o._createHeader=YJe(t,s),o}static encode(e){let t=new WJe,r=-1;return e.isSchema()?r=xf.Schema.encode(t,e.header()):e.isRecordBatch()?r=Yp.encode(t,e.header()):e.isDictionaryBatch()&&(r=B2.encode(t,e.header())),A5.Message.startMessage(t),A5.Message.addVersion(t,kl.MetadataVersion.V4),A5.Message.addHeader(t,r),A5.Message.addHeaderType(t,e.headerType),A5.Message.addBodyLength(t,new e6(e.bodyLength,0)),A5.Message.finishMessageBuffer(t,A5.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof xf.Schema)return new T5(0,kl.MetadataVersion.V4,kl.MessageHeader.Schema,e);if(e instanceof Yp)return new T5(t,kl.MetadataVersion.V4,kl.MessageHeader.RecordBatch,e);if(e instanceof B2)return new T5(t,kl.MetadataVersion.V4,kl.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===kl.MessageHeader.Schema}isRecordBatch(){return this.headerType===kl.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===kl.MessageHeader.DictionaryBatch}};Kp.Message=T5;var Yp=class{constructor(e,t,r){this._nodes=t,this._buffers=r,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};Kp.RecordBatch=Yp;var B2=class{constructor(e,t,r=!1){this._data=e,this._isDelta=r,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};Kp.DictionaryBatch=B2;var t6=class{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}};Kp.BufferRegion=t6;var n6=class{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}};Kp.FieldNode=n6;function GJe(n,e){return()=>{switch(e){case kl.MessageHeader.Schema:return xf.Schema.fromJSON(n);case kl.MessageHeader.RecordBatch:return Yp.fromJSON(n);case kl.MessageHeader.DictionaryBatch:return B2.fromJSON(n)}throw new Error(`Unrecognized Message type: { name: ${kl.MessageHeader[e]}, type: ${e} }`)}}function YJe(n,e){return()=>{switch(e){case kl.MessageHeader.Schema:return xf.Schema.decode(n.header(new jg.Schema));case kl.MessageHeader.RecordBatch:return Yp.decode(n.header(new w5.RecordBatch),n.version());case kl.MessageHeader.DictionaryBatch:return B2.decode(n.header(new v8.DictionaryBatch),n.version())}throw new Error(`Unrecognized Message type: { name: ${kl.MessageHeader[e]}, type: ${e} }`)}}xf.Field.encode=oXe;xf.Field.decode=iXe;xf.Field.fromJSON=AB.fieldFromJSON;xf.Schema.encode=sXe;xf.Schema.decode=KJe;xf.Schema.fromJSON=AB.schemaFromJSON;Yp.encode=aXe;Yp.decode=JJe;Yp.fromJSON=AB.recordBatchFromJSON;B2.encode=uXe;B2.decode=XJe;B2.fromJSON=AB.dictionaryBatchFromJSON;n6.encode=lXe;n6.decode=eXe;t6.encode=cXe;t6.decode=ZJe;function KJe(n,e=new Map){let t=rXe(n,e);return new xf.Schema(t,TB(n),e)}function JJe(n,e=kl.MetadataVersion.V4){if(n.compression()!==null)throw new Error("Record batch compression not implemented");return new Yp(n.length(),tXe(n),nXe(n,e))}function XJe(n,e=kl.MetadataVersion.V4){return new B2(Yp.decode(n.data(),e),n.id(),n.isDelta())}function ZJe(n){return new t6(n.offset(),n.length())}function eXe(n){return new n6(n.length(),n.nullCount())}function tXe(n){let e=[];for(let t,r=-1,i=-1,s=n.nodesLength();++r<s;)(t=n.nodes(r))&&(e[++i]=n6.decode(t));return e}function nXe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.buffersLength();++i<o;)(r=n.buffers(i))&&(e<kl.MetadataVersion.V4&&(r.bb_pos+=8*(i+1)),t[++s]=t6.decode(r));return t}function rXe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.fieldsLength();++i<o;)(r=n.fields(i))&&(t[++s]=xf.Field.decode(r,e));return t}function F3e(n,e){let t=[];for(let r,i=-1,s=-1,o=n.childrenLength();++i<o;)(r=n.children(i))&&(t[++s]=xf.Field.decode(r,e));return t}function iXe(n,e){let t,r,i,s,o,a;return!e||!(a=n.dictionary())?(i=O3e(n,F3e(n,e)),r=new xf.Field(n.name(),i,n.nullable(),TB(n))):e.has(t=a.id().low)?(s=(s=a.indexType())?D3e(s):new Hu.Int32,o=new Hu.Dictionary(e.get(t),s,t,a.isOrdered()),r=new xf.Field(n.name(),o,n.nullable(),TB(n))):(s=(s=a.indexType())?D3e(s):new Hu.Int32,e.set(t,i=O3e(n,F3e(n,e))),o=new Hu.Dictionary(i,s,t,a.isOrdered()),r=new xf.Field(n.name(),o,n.nullable(),TB(n))),r||null}function TB(n){let e=new Map;if(n)for(let t,r,i=-1,s=Math.trunc(n.customMetadataLength());++i<s;)(t=n.customMetadata(i))&&(r=t.key())!=null&&e.set(r,t.value());return e}function D3e(n){return new Hu.Int(n.isSigned(),n.bitWidth())}function O3e(n,e){let t=n.typeType();switch(t){case Vc.Type.NONE:return new Hu.Null;case Vc.Type.Null:return new Hu.Null;case Vc.Type.Binary:return new Hu.Binary;case Vc.Type.Utf8:return new Hu.Utf8;case Vc.Type.Bool:return new Hu.Bool;case Vc.Type.List:return new Hu.List((e||[])[0]);case Vc.Type.Struct_:return new Hu.Struct(e||[])}switch(t){case Vc.Type.Int:{let r=n.type(new NJe.Int);return new Hu.Int(r.isSigned(),r.bitWidth())}case Vc.Type.FloatingPoint:{let r=n.type(new IJe.FloatingPoint);return new Hu.Float(r.precision())}case Vc.Type.Decimal:{let r=n.type(new MJe.Decimal);return new Hu.Decimal(r.scale(),r.precision(),r.bitWidth())}case Vc.Type.Date:{let r=n.type(new PJe.Date);return new Hu.Date_(r.unit())}case Vc.Type.Time:{let r=n.type(new BJe.Time);return new Hu.Time(r.unit(),r.bitWidth())}case Vc.Type.Timestamp:{let r=n.type(new jJe.Timestamp);return new Hu.Timestamp(r.unit(),r.timezone())}case Vc.Type.Interval:{let r=n.type(new qJe.Interval);return new Hu.Interval(r.unit())}case Vc.Type.Union:{let r=n.type(new UJe.Union);return new Hu.Union(r.mode(),r.typeIdsArray()||[],e||[])}case Vc.Type.FixedSizeBinary:{let r=n.type(new $Je.FixedSizeBinary);return new Hu.FixedSizeBinary(r.byteWidth())}case Vc.Type.FixedSizeList:{let r=n.type(new zJe.FixedSizeList);return new Hu.FixedSizeList(r.listSize(),(e||[])[0])}case Vc.Type.Map:{let r=n.type(new HJe.Map);return new Hu.Map_((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Vc.Type[t]}" (${t})`)}function sXe(n,e){let t=e.fields.map(s=>xf.Field.encode(n,s));jg.Schema.startFieldsVector(n,t.length);let r=jg.Schema.createFieldsVector(n,t),i=e.metadata&&e.metadata.size>0?jg.Schema.createCustomMetadataVector(n,[...e.metadata].map(([s,o])=>{let a=n.createString(`${s}`),l=n.createString(`${o}`);return C5.KeyValue.startKeyValue(n),C5.KeyValue.addKey(n,a),C5.KeyValue.addValue(n,l),C5.KeyValue.endKeyValue(n)})):-1;return jg.Schema.startSchema(n),jg.Schema.addFields(n,r),jg.Schema.addEndianness(n,fXe?T3e.Endianness.Little:T3e.Endianness.Big),i!==-1&&jg.Schema.addCustomMetadata(n,i),jg.Schema.endSchema(n)}function oXe(n,e){let t=-1,r=-1,i=-1,s=e.type,o=e.typeId;Hu.DataType.isDictionary(s)?(o=s.dictionary.typeId,i=cee.instance.visit(s,n),r=cee.instance.visit(s.dictionary,n)):r=cee.instance.visit(s,n);let a=(s.children||[]).map(p=>xf.Field.encode(n,p)),l=hm.Field.createChildrenVector(n,a),f=e.metadata&&e.metadata.size>0?hm.Field.createCustomMetadataVector(n,[...e.metadata].map(([p,_])=>{let E=n.createString(`${p}`),O=n.createString(`${_}`);return C5.KeyValue.startKeyValue(n),C5.KeyValue.addKey(n,E),C5.KeyValue.addValue(n,O),C5.KeyValue.endKeyValue(n)})):-1;return e.name&&(t=n.createString(e.name)),hm.Field.startField(n),hm.Field.addType(n,r),hm.Field.addTypeType(n,o),hm.Field.addChildren(n,l),hm.Field.addNullable(n,!!e.nullable),t!==-1&&hm.Field.addName(n,t),i!==-1&&hm.Field.addDictionary(n,i),f!==-1&&hm.Field.addCustomMetadata(n,f),hm.Field.endField(n)}function aXe(n,e){let t=e.nodes||[],r=e.buffers||[];w5.RecordBatch.startNodesVector(n,t.length);for(let o of t.slice().reverse())n6.encode(n,o);let i=n.endVector();w5.RecordBatch.startBuffersVector(n,r.length);for(let o of r.slice().reverse())t6.encode(n,o);let s=n.endVector();return w5.RecordBatch.startRecordBatch(n),w5.RecordBatch.addLength(n,new e6(e.length,0)),w5.RecordBatch.addNodes(n,i),w5.RecordBatch.addBuffers(n,s),w5.RecordBatch.endRecordBatch(n)}function uXe(n,e){let t=Yp.encode(n,e.data);return v8.DictionaryBatch.startDictionaryBatch(n),v8.DictionaryBatch.addId(n,new e6(e.id,0)),v8.DictionaryBatch.addIsDelta(n,e.isDelta),v8.DictionaryBatch.addData(n,t),v8.DictionaryBatch.endDictionaryBatch(n)}function lXe(n,e){return kJe.FieldNode.createFieldNode(n,new e6(e.length,0),new e6(e.nullCount,0))}function cXe(n,e){return LJe.Buffer.createBuffer(n,new e6(e.offset,0),new e6(e.length,0))}var fXe=(()=>{let n=new ArrayBuffer(2);return new DataView(n).setInt16(0,256,!0),new Int16Array(n)[0]===256})()});var DB=Ae(Yo=>{"use strict";m();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.magicX2AndPadding=Yo.magicAndPadding=Yo.magicLength=Yo.checkForMagicArrowString=Yo.MAGIC=Yo.MAGIC_STR=Yo.PADDING=Yo.JSONMessageReader=Yo.AsyncMessageReader=Yo.MessageReader=void 0;var F5=hs(),D5=Nl(),R3e=wo(),DF=Z_(),dXe=_2(),hXe=nZ(),N3e=Hf(),FB=x5(),pm=nF(),fee=n=>`Expected ${D5.MessageHeader[n]} Message in stream, but was null or length 0.`,dee=n=>`Header pointer of flatbuffer-encoded ${D5.MessageHeader[n]} Message is null or length 0.`,L3e=(n,e)=>`Expected to read ${n} metadata bytes, but only read ${e}.`,k3e=(n,e)=>`Expected to read ${n} bytes for message body, but only read ${e}.`,hee=class{constructor(e){this.source=e instanceof FB.ByteStream?e:new FB.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?pm.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(fee(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=(0,N3e.toUint8Array)(this.source.read(e));if(t.byteLength<e)throw new Error(k3e(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=D5.MessageHeader.Schema,r=this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(dee(t));return i}readMetadataLength(){let e=this.source.read(Yo.PADDING),t=e&&new R3e.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(e){let t=this.source.read(e);if(!t)return pm.ITERATOR_DONE;if(t.byteLength<e)throw new Error(L3e(e,t.byteLength));return{done:!1,value:DF.Message.decode(t)}}};Yo.MessageReader=hee;var I3e=class{constructor(e,t){this.source=e instanceof FB.AsyncByteStream?e:(0,dXe.isFileHandle)(e)?new hXe.AsyncRandomAccessFile(e,t):new FB.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return F5.__awaiter(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?pm.ITERATOR_DONE:e})}throw(e){return F5.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return F5.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return F5.__awaiter(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(fee(e));return t.value})}readMessageBody(e){return F5.__awaiter(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let t=(0,N3e.toUint8Array)(yield this.source.read(e));if(t.byteLength<e)throw new Error(k3e(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return F5.__awaiter(this,void 0,void 0,function*(){let t=D5.MessageHeader.Schema,r=yield this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(dee(t));return i})}readMetadataLength(){return F5.__awaiter(this,void 0,void 0,function*(){let e=yield this.source.read(Yo.PADDING),t=e&&new R3e.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(e){return F5.__awaiter(this,void 0,void 0,function*(){let t=yield this.source.read(e);if(!t)return pm.ITERATOR_DONE;if(t.byteLength<e)throw new Error(L3e(e,t.byteLength));return{done:!1,value:DF.Message.decode(t)}})}};Yo.AsyncMessageReader=I3e;var M3e=class extends hee{constructor(e){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof pm.ArrowJSON?e:new pm.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let t=DF.Message.fromJSON(e.schema,D5.MessageHeader.Schema);return{done:!1,value:t}}if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];this._body=t.data.columns;let r=DF.Message.fromJSON(t,D5.MessageHeader.DictionaryBatch);return{done:!1,value:r}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];this._body=t.columns;let r=DF.Message.fromJSON(t,D5.MessageHeader.RecordBatch);return{done:!1,value:r}}return this._body=[],pm.ITERATOR_DONE}readMessageBody(e){return t(this._body);function t(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...t(s.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(fee(e));return t.value}readSchema(){let e=D5.MessageHeader.Schema,t=this.readMessage(e),r=t==null?void 0:t.header();if(!t||!r)throw new Error(dee(e));return r}};Yo.JSONMessageReader=M3e;Yo.PADDING=4;Yo.MAGIC_STR="ARROW1";Yo.MAGIC=new Uint8Array(Yo.MAGIC_STR.length);for(let n=0;n<Yo.MAGIC_STR.length;n+=1)Yo.MAGIC[n]=Yo.MAGIC_STR.codePointAt(n);function pXe(n,e=0){for(let t=-1,r=Yo.MAGIC.length;++t<r;)if(Yo.MAGIC[t]!==n[e+t])return!1;return!0}Yo.checkForMagicArrowString=pXe;Yo.magicLength=Yo.MAGIC.length;Yo.magicAndPadding=Yo.magicLength+Yo.PADDING;Yo.magicX2AndPadding=Yo.magicLength*2+Yo.PADDING});var LF=Ae(Zp=>{"use strict";m();Object.defineProperty(Zp,"__esModule",{value:!0});Zp.AsyncRecordBatchFileReader=Zp.RecordBatchFileReader=Zp.AsyncRecordBatchStreamReader=Zp.RecordBatchStreamReader=Zp.RecordBatchReader=void 0;var ja=hs(),mXe=E2(),P3e=xd(),xXe=ru(),OB=Nl(),B3e=XX(),j3e=ja.__importDefault(BT()),q3e=x5(),OF=nZ(),U3e=Xge(),pee=b5(),r6=nF(),Jp=DB(),Xp=_2(),j2=class extends r6.ReadableInterop{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return(0,Xp.isPromise)(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return j3e.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return j3e.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof j2?e:(0,Xp.isArrowJSON)(e)?gXe(e):(0,Xp.isFileHandle)(e)?_Xe(e):(0,Xp.isPromise)(e)?(()=>ja.__awaiter(this,void 0,void 0,function*(){return yield j2.from(yield e)}))():(0,Xp.isFetchResponse)(e)||(0,Xp.isReadableDOMStream)(e)||(0,Xp.isReadableNodeStream)(e)||(0,Xp.isAsyncIterable)(e)?vXe(new q3e.AsyncByteStream(e)):yXe(new q3e.ByteStream(e))}static readAll(e){return e instanceof j2?e.isSync()?V3e(e):W3e(e):(0,Xp.isArrowJSON)(e)||ArrayBuffer.isView(e)||(0,Xp.isIterable)(e)||(0,Xp.isIteratorResult)(e)?V3e(e):W3e(e)}};Zp.RecordBatchReader=j2;var _8=class extends j2{constructor(e){super(e);this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return ja.__asyncGenerator(this,arguments,function*(){yield ja.__await(yield*ja.__asyncDelegator(ja.__asyncValues(this[Symbol.iterator]())))})}};Zp.RecordBatchStreamReader=_8;var b8=class extends j2{constructor(e){super(e);this._impl=e}readAll(){var e,t;return ja.__awaiter(this,void 0,void 0,function*(){let r=new Array;try{for(var i=ja.__asyncValues(this),s;s=yield i.next(),!s.done;){let o=s.value;r.push(o)}}catch(o){e={error:o}}finally{try{s&&!s.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}return r})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};Zp.AsyncRecordBatchStreamReader=b8;var RB=class extends _8{constructor(e){super(e);this._impl=e}};Zp.RecordBatchFileReader=RB;var mee=class extends b8{constructor(e){super(e);this._impl=e}};Zp.AsyncRecordBatchFileReader=mee;var xee=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){let r=this._loadVectors(e,t,this.schema.fields),i=(0,mXe.makeData)({type:new xXe.Struct(this.schema.fields),length:e.length,children:r});return new pee.RecordBatch(this.schema,i)}_loadDictionaryBatch(e,t){let{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r);if(i||!a){let l=o.dictionaries.get(r),f=this._loadVectors(e.data,t,[l]);return(a&&i?a.concat(new P3e.Vector(f)):new P3e.Vector(f)).memoize()}return a.memoize()}_loadVectors(e,t,r){return new U3e.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}},RF=class extends xee{constructor(e,t){super(t);this._reader=(0,Xp.isArrowJSON)(e)?new Jp.JSONMessageReader(this._handle=e):new Jp.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=H3e(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):r6.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):r6.ITERATOR_DONE}next(){if(this.closed)return r6.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new pee._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},NF=class extends xee{constructor(e,t){super(t);this._reader=new Jp.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return ja.__awaiter(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return ja.__awaiter(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=H3e(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return ja.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):r6.ITERATOR_DONE})}return(e){return ja.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):r6.ITERATOR_DONE})}next(){return ja.__awaiter(this,void 0,void 0,function*(){if(this.closed)return r6.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new pee._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return ja.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},gee=class extends RF{constructor(e,t){super(e instanceof OF.RandomAccessFile?e:new OF.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(OB.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var t;let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(OB.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){let{_handle:e}=this,t=e.size-Jp.magicAndPadding,r=e.readInt32(t),i=e.readAt(t-r,r);return B3e.Footer.decode(i)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}},$3e=class extends NF{constructor(e,...t){let r=typeof t[0]!="number"?t.shift():void 0,i=t[0]instanceof Map?t.shift():void 0;super(e instanceof OF.AsyncRandomAccessFile?e:new OF.AsyncRandomAccessFile(e,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let t=Object.create(null,{open:{get:()=>super.open}});return ja.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){var t;return ja.__awaiter(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(OB.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){var t;return ja.__awaiter(this,void 0,void 0,function*(){let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(OB.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return ja.__awaiter(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-Jp.magicAndPadding,r=yield e.readInt32(t),i=yield e.readAt(t-r,r);return B3e.Footer.decode(i)})}_readNextMessageAndValidate(e){return ja.__awaiter(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}},z3e=class extends RF{constructor(e,t){super(e,t)}_loadVectors(e,t,r){return new U3e.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}};function H3e(n,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:n.autoDestroy}function*V3e(n){let e=j2.from(n);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function W3e(n){return ja.__asyncGenerator(this,arguments,function*(){let t=yield ja.__await(j2.from(n));try{if(!(yield ja.__await(t.open({autoDestroy:!1}))).closed)do yield yield ja.__await(t);while(!(yield ja.__await(t.reset().open())).closed)}finally{yield ja.__await(t.cancel())}})}function gXe(n){return new _8(new z3e(n))}function yXe(n){let e=n.peek(Jp.magicLength+7&~7);return e&&e.byteLength>=4?(0,Jp.checkForMagicArrowString)(e)?new RB(new gee(n.read())):new _8(new RF(n)):new _8(new RF(function*(){}()))}function vXe(n){return ja.__awaiter(this,void 0,void 0,function*(){let e=yield n.peek(Jp.magicLength+7&~7);return e&&e.byteLength>=4?(0,Jp.checkForMagicArrowString)(e)?new RB(new gee(yield n.read())):new b8(new NF(n)):new b8(new NF(function(){return ja.__asyncGenerator(this,arguments,function*(){})}()))})}function _Xe(n){return ja.__awaiter(this,void 0,void 0,function*(){let{size:e}=yield n.stat(),t=new OF.AsyncRandomAccessFile(n,e);return e>=Jp.magicX2AndPadding&&(0,Jp.checkForMagicArrowString)(yield t.readAt(0,Jp.magicLength+7&~7))?new mee(new $3e(t)):new b8(new NF(t))})}});var J3e=Ae(NB=>{"use strict";m();Object.defineProperty(NB,"__esModule",{value:!0});NB.VectorAssembler=void 0;var bXe=xd(),EXe=md(),Q3e=Nl(),SXe=b5(),yee=Hf(),vee=M_(),G3e=Z_(),Y3e=ru(),vc=class extends EXe.Visitor{constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=i=>i.flatMap(s=>Array.isArray(s)?t(s):s instanceof SXe.RecordBatch?s.data.children:s.data),r=new vc;return r.visitMany(t(e)),r}visit(e){if(e instanceof bXe.Vector)return this.visitMany(e.data),this;let{type:t}=e;if(!Y3e.DataType.isDictionary(t)){let{length:r,nullCount:i}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Y3e.DataType.isNull(t)||mm.call(this,i<=0?new Uint8Array(0):(0,vee.truncateBitmap)(e.offset,r,e.nullBitmap)),this.nodes.push(new G3e.FieldNode(r,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};NB.VectorAssembler=vc;function mm(n){let e=n.byteLength+7&~7;return this.buffers.push(n),this.bufferRegions.push(new G3e.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function wXe(n){let{type:e,length:t,typeIds:r,valueOffsets:i}=n;if(mm.call(this,r),e.mode===Q3e.UnionMode.Sparse)return bee.call(this,n);if(e.mode===Q3e.UnionMode.Dense){if(n.offset<=0)return mm.call(this,i),bee.call(this,n);{let s=r.reduce((p,_)=>Math.max(p,_),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),l=new Int32Array(t),f=(0,yee.rebaseValueOffsets)(-i[0],t,i);for(let p,_,E=-1;++E<t;)(_=a[p=r[E]])===-1&&(_=a[p]=f[p]),l[E]=f[E]-_,++o[p];mm.call(this,l);for(let p,_=-1,E=e.children.length;++_<E;)if(p=n.children[_]){let O=e.typeIds[_],R=Math.min(t,o[O]);this.visit(p.slice(a[O],R))}}}return this}function CXe(n){let e;return n.nullCount>=n.length?mm.call(this,new Uint8Array(0)):(e=n.values)instanceof Uint8Array?mm.call(this,(0,vee.truncateBitmap)(n.offset,n.length,e)):mm.call(this,(0,vee.packBools)(n.values))}function O5(n){return mm.call(this,n.values.subarray(0,n.length*n.stride))}function K3e(n){let{length:e,values:t,valueOffsets:r}=n,i=r[0],s=r[e],o=Math.min(s-i,t.byteLength-i);return mm.call(this,(0,yee.rebaseValueOffsets)(-r[0],e,r)),mm.call(this,t.subarray(i,i+o)),this}function _ee(n){let{length:e,valueOffsets:t}=n;return t&&mm.call(this,(0,yee.rebaseValueOffsets)(t[0],e,t)),this.visit(n.children[0])}function bee(n){return this.visitMany(n.type.children.map((e,t)=>n.children[t]).filter(Boolean))[0]}vc.prototype.visitBool=CXe;vc.prototype.visitInt=O5;vc.prototype.visitFloat=O5;vc.prototype.visitUtf8=K3e;vc.prototype.visitBinary=K3e;vc.prototype.visitFixedSizeBinary=O5;vc.prototype.visitDate=O5;vc.prototype.visitTimestamp=O5;vc.prototype.visitTime=O5;vc.prototype.visitDecimal=O5;vc.prototype.visitList=_ee;vc.prototype.visitStruct=bee;vc.prototype.visitUnion=wXe;vc.prototype.visitInterval=O5;vc.prototype.visitFixedSizeList=_ee;vc.prototype.visitMap=_ee});var Z3e=Ae(LB=>{"use strict";m();Object.defineProperty(LB,"__esModule",{value:!0});LB.JSONTypeAssembler=void 0;var AXe=md(),Vf=t8(),E8=Nl(),X3e=class extends AXe.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:Vf.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:r}){return{name:Vf.Type[e].toLowerCase(),bitWidth:t,isSigned:r}}visitFloat({typeId:e,precision:t}){return{name:Vf.Type[e].toLowerCase(),precision:E8.Precision[t]}}visitBinary({typeId:e}){return{name:Vf.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:Vf.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:Vf.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:r,bitWidth:i}){return{name:Vf.Type[e].toLowerCase(),scale:t,precision:r,bitWidth:i}}visitDate({typeId:e,unit:t}){return{name:Vf.Type[e].toLowerCase(),unit:E8.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:r}){return{name:Vf.Type[e].toLowerCase(),unit:E8.TimeUnit[t],bitWidth:r}}visitTimestamp({typeId:e,timezone:t,unit:r}){return{name:Vf.Type[e].toLowerCase(),unit:E8.TimeUnit[r],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:Vf.Type[e].toLowerCase(),unit:E8.IntervalUnit[t]}}visitList({typeId:e}){return{name:Vf.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:Vf.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:r}){return{name:Vf.Type[e].toLowerCase(),mode:E8.UnionMode[t],typeIds:[...r]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:Vf.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:Vf.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:Vf.Type[e].toLowerCase(),keysSorted:t}}};LB.JSONTypeAssembler=X3e});var n5e=Ae(MB=>{"use strict";m();Object.defineProperty(MB,"__esModule",{value:!0});MB.JSONVectorAssembler=void 0;var TXe=SM(),Eee=xd(),FXe=md(),DXe=Nl(),See=Nl(),kB=M_(),e5e=ru(),IB=class extends FXe.Visitor{static assemble(...e){let t=new IB;return e.map(({schema:r,data:i})=>t.visitMany(r.fields,i.children))}visit({name:e},t){let{length:r}=t,{offset:i,nullCount:s,nullBitmap:o}=t,a=e5e.DataType.isDictionary(t.type)?t.type.indices:t.type,l=Object.assign([],t.buffers,{[DXe.BufferType.VALIDITY]:void 0});return Object.assign({name:e,count:r,VALIDITY:e5e.DataType.isNull(a)?void 0:s<=0?Array.from({length:r},()=>1):[...new kB.BitIterator(o,i,r,null,kB.getBit)]},super.visit(t.clone(a,i,r,0,l)))}visitNull(){return{}}visitBool({values:e,offset:t,length:r}){return{DATA:[...new kB.BitIterator(e,t,r,null,kB.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...kF(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...new Eee.Vector([e])],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...t5e(new Eee.Vector([e]))],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...t5e(new Eee.Vector([e]))]}}visitDate(e){return{DATA:e.type.unit===See.DateUnit.DAY?[...e.values]:[...kF(e.values,2)]}}visitTimestamp(e){return{DATA:[...kF(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<See.TimeUnit.MICROSECOND?[...e.values]:[...kF(e.values,2)]}}visitDecimal(e){return{DATA:[...kF(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}visitStruct(e){return{children:this.visitMany(e.type.children,e.children)}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===See.UnionMode.Dense?[...e.valueOffsets]:void 0,children:this.visitMany(e.type.children,e.children)}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:this.visitMany(e.type.children,e.children)}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}};MB.JSONVectorAssembler=IB;function*t5e(n){for(let e of n)yield e.reduce((t,r)=>`${t}${("0"+(r&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*kF(n,e){let t=new Uint32Array(n.buffer);for(let r=-1,i=t.length/e;++r<i;)yield`${TXe.BN.new(t.subarray((r+0)*e,(r+1)*e),!1)}`}});var $B=Ae(U2=>{"use strict";m();Object.defineProperty(U2,"__esModule",{value:!0});U2.RecordBatchJSONWriter=U2.RecordBatchFileWriter=U2.RecordBatchStreamWriter=U2.RecordBatchWriter=void 0;var wee=hs(),Cee=d8(),OXe=DB(),RXe=xd(),NXe=ru(),PB=Z_(),Aee=wee.__importStar(Z_()),S8=XX(),Tee=Nl(),r5e=mF(),Fee=x5(),i5e=J3e(),LXe=Z3e(),s5e=n5e(),kXe=Hf(),BB=b5(),IXe=nF(),q2=_2(),IF=class extends IXe.ReadableInterop{constructor(e){super();this._position=0,this._started=!1,this._sink=new Fee.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(0,q2.isObject)(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return(0,q2.isPromise)(e)?e.then(t=>this.writeAll(t)):(0,q2.isAsyncIterable)(e)?Oee(this,e):Dee(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof Fee.AsyncByteQueue?this._sink=e:(this._sink=new Fee.AsyncByteQueue,e&&(0,q2.isWritableDOMStream)(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&(0,q2.isWritableNodeStream)(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!(0,r5e.compareSchemas)(t,this._schema))&&(t==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Cee.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof BB.RecordBatch&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!(0,r5e.compareSchemas)(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof BB.RecordBatch?e instanceof BB._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof Cee.Table?this.writeAll(e.batches):(0,q2.isIterable)(e)&&this.writeAll(e)}_writeMessage(e,t=8){let r=t-1,i=PB.Message.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return e.headerType===Tee.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new S8.FileBlock(a,e.bodyLength,this._position)):e.headerType===Tee.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new S8.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){let t=(0,kXe.toUint8Array)(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(PB.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(OXe.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:r,bufferRegions:i,buffers:s}=i5e.VectorAssembler.assemble(e),o=new Aee.RecordBatch(e.numRows,r,i),a=PB.Message.from(o,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,t,r=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=i5e.VectorAssembler.assemble(new RXe.Vector([e])),l=new Aee.RecordBatch(e.length,s,o),f=new Aee.DictionaryBatch(l,t,r),p=PB.Message.from(f,i);return this._writeMessage(p)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,r,i;for(let s=-1,o=e.length;++s<o;)(t=e[s])&&(r=t.byteLength)>0&&(this._write(t),(i=(r+7&~7)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[t,r]of e.dictionaries){let i=this._dictionaryDeltaOffsets.get(t)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(let s of r.data)this._writeDictionaryBatch(s,t,i>0),i+=s.length}return this}};U2.RecordBatchWriter=IF;var jB=class extends IF{static writeAll(e,t){let r=new jB(t);return(0,q2.isPromise)(e)?e.then(i=>r.writeAll(i)):(0,q2.isAsyncIterable)(e)?Oee(r,e):Dee(r,e)}};U2.RecordBatchStreamWriter=jB;var qB=class extends IF{static writeAll(e){let t=new qB;return(0,q2.isPromise)(e)?e.then(r=>t.writeAll(r)):(0,q2.isAsyncIterable)(e)?Oee(t,e):Dee(t,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=S8.Footer.encode(new S8.Footer(e,Tee.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};U2.RecordBatchFileWriter=qB;var UB=class extends IF{constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return new UB().writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(t=>o5e(t))},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,r=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${MXe(e,t,r)}`),this._dictionaryBlocks.push(new S8.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,t=this._recordBatches.length;++e<t;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${PXe(this._recordBatches[e])}`),this._recordBatchBlocks.push(new S8.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}};U2.RecordBatchJSONWriter=UB;function Dee(n,e){let t=e;e instanceof Cee.Table&&(t=e.batches,n.reset(void 0,e.schema));for(let r of t)n.write(r);return n.finish()}function Oee(n,e){var t,r,i,s;return wee.__awaiter(this,void 0,void 0,function*(){try{for(t=wee.__asyncValues(e);r=yield t.next(),!r.done;){let o=r.value;n.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}return n.finish()})}function o5e({name:n,type:e,nullable:t}){let r=new LXe.JSONTypeAssembler;return{name:n,nullable:t,type:r.visit(e),children:(e.children||[]).map(i=>o5e(i)),dictionary:NXe.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:r.visit(e.indices)}:void 0}}function MXe(n,e,t=!1){let[r]=s5e.JSONVectorAssembler.assemble(new BB.RecordBatch({[e]:n}));return JSON.stringify({id:e,isDelta:t,data:{count:n.length,columns:r}},null,2)}function PXe(n){let[e]=s5e.JSONVectorAssembler.assemble(n);return JSON.stringify({count:n.numRows,columns:e},null,2)}});var l5e=Ae(HB=>{"use strict";m();Object.defineProperty(HB,"__esModule",{value:!0});HB.toDOMStream=void 0;var zB=hs(),a5e=Hf(),u5e=_2();function BXe(n,e){if((0,u5e.isAsyncIterable)(n))return qXe(n,e);if((0,u5e.isIterable)(n))return jXe(n,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}HB.toDOMStream=BXe;function jXe(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){s(o,t||(t=n[Symbol.iterator]()))},pull(o){t?s(o,t):o.close()},cancel(){((t==null?void 0:t.return)&&t.return()||!0)&&(t=null)}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){let l,f=null,p=o.desiredSize||null;for(;!(f=a.next(r?p:null)).done;)if(ArrayBuffer.isView(f.value)&&(l=(0,a5e.toUint8Array)(f.value))&&(p!=null&&r&&(p=p-l.byteLength+1),f.value=l),o.enqueue(f.value),p!=null&&--p<=0)return;o.close()}}function qXe(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){return zB.__awaiter(this,void 0,void 0,function*(){yield s(o,t||(t=n[Symbol.asyncIterator]()))})},pull(o){return zB.__awaiter(this,void 0,void 0,function*(){t?yield s(o,t):o.close()})},cancel(){return zB.__awaiter(this,void 0,void 0,function*(){((t==null?void 0:t.return)&&(yield t.return())||!0)&&(t=null)})}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){return zB.__awaiter(this,void 0,void 0,function*(){let l,f=null,p=o.desiredSize||null;for(;!(f=yield a.next(r?p:null)).done;)if(ArrayBuffer.isView(f.value)&&(l=(0,a5e.toUint8Array)(f.value))&&(p!=null&&r&&(p=p-l.byteLength+1),f.value=l),o.enqueue(f.value),p!=null&&--p<=0)return;o.close()})}}});var d5e=Ae(w8=>{"use strict";m();Object.defineProperty(w8,"__esModule",{value:!0});w8.BuilderTransform=w8.builderThroughDOMStream=void 0;var UXe=hs(),$Xe=sF();function zXe(n){return new Ree(n)}w8.builderThroughDOMStream=zXe;var Ree=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:t,["writableStrategy"]:r,["queueingStrategy"]:i="count"}=e,s=UXe.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,$Xe.makeBuilder)(s),this._getSize=i!=="bytes"?c5e:f5e;let{["highWaterMark"]:o=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},t),{["highWaterMark"]:a=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},r);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:l=>{this._maybeFlush(this._builder,this._controller=l)},start:l=>{this._maybeFlush(this._builder,this._controller=l)}},{highWaterMark:o,size:i!=="bytes"?c5e:f5e}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:l=>this._writeValueAndReturnChunkSize(l)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){t!=null&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,t==null?e.close():e.enqueue(t)}};w8.BuilderTransform=Ree;var c5e=n=>{var e;return(e=n==null?void 0:n.length)!==null&&e!==void 0?e:0},f5e=n=>{var e;return(e=n==null?void 0:n.byteLength)!==null&&e!==void 0?e:0}});var h5e=Ae(VB=>{"use strict";m();Object.defineProperty(VB,"__esModule",{value:!0});VB.recordBatchReaderThroughDOMStream=void 0;var MF=hs(),HXe=x5(),VXe=LF();function WXe(n,e){let t=new HXe.AsyncByteQueue,r=null,i=new ReadableStream({cancel(){return MF.__awaiter(this,void 0,void 0,function*(){yield t.close()})},start(a){return MF.__awaiter(this,void 0,void 0,function*(){yield o(a,r||(r=yield s()))})},pull(a){return MF.__awaiter(this,void 0,void 0,function*(){r?yield o(a,r):a.close()})}});return{writable:new WritableStream(t,Object.assign({highWaterMark:Math.pow(2,14)},n)),readable:i};function s(){return MF.__awaiter(this,void 0,void 0,function*(){return yield(yield VXe.RecordBatchReader.from(t)).open(e)})}function o(a,l){return MF.__awaiter(this,void 0,void 0,function*(){let f=a.desiredSize,p=null;for(;!(p=yield l.next()).done;)if(a.enqueue(p.value),f!=null&&--f<=0)return;a.close()})}}VB.recordBatchReaderThroughDOMStream=WXe});var p5e=Ae(QB=>{"use strict";m();Object.defineProperty(QB,"__esModule",{value:!0});QB.recordBatchWriterThroughDOMStream=void 0;var WB=hs(),QXe=x5();function GXe(n,e){let t=new this(n),r=new QXe.AsyncByteStream(t),i=new ReadableStream({cancel(){return WB.__awaiter(this,void 0,void 0,function*(){yield r.cancel()})},pull(o){return WB.__awaiter(this,void 0,void 0,function*(){yield s(o)})},start(o){return WB.__awaiter(this,void 0,void 0,function*(){yield s(o)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(t,n),readable:i};function s(o){return WB.__awaiter(this,void 0,void 0,function*(){let a=null,l=o.desiredSize;for(;a=yield r.read(l||null);)if(o.enqueue(a),l!=null&&(l-=a.byteLength)<=0)return;o.close()})}}QB.recordBatchWriterThroughDOMStream=GXe});var y5e=Ae(C8=>{"use strict";m();Object.defineProperty(C8,"__esModule",{value:!0});C8.tableToIPC=C8.tableFromIPC=void 0;var m5e=d8(),YXe=_2(),KXe=LF(),x5e=$B();function g5e(n){let e=KXe.RecordBatchReader.from(n);return(0,YXe.isPromise)(e)?e.then(t=>g5e(t)):e.isAsync()?e.readAll().then(t=>new m5e.Table(t)):new m5e.Table(e.readAll())}C8.tableFromIPC=g5e;function JXe(n,e="stream"){return(e==="stream"?x5e.RecordBatchStreamWriter:x5e.RecordBatchFileWriter).writeAll(n).toUint8Array(!0)}C8.tableToIPC=JXe});var jee=Ae(ln=>{"use strict";m();Object.defineProperty(ln,"__esModule",{value:!0});ln.Dictionary=ln.SparseUnion=ln.DenseUnion=ln.Union=ln.Struct=ln.List=ln.Decimal=ln.TimeNanosecond=ln.TimeMicrosecond=ln.TimeMillisecond=ln.TimeSecond=ln.Time=ln.TimestampNanosecond=ln.TimestampMicrosecond=ln.TimestampMillisecond=ln.TimestampSecond=ln.Timestamp=ln.DateMillisecond=ln.DateDay=ln.Date_=ln.FixedSizeBinary=ln.Binary=ln.Utf8=ln.Float64=ln.Float32=ln.Float16=ln.Float=ln.Uint64=ln.Uint32=ln.Uint16=ln.Uint8=ln.Int64=ln.Int32=ln.Int16=ln.Int8=ln.Int=ln.Bool=ln.Null=ln.DataType=ln.makeData=ln.Data=ln.MetadataVersion=ln.IntervalUnit=ln.UnionMode=ln.Precision=ln.TimeUnit=ln.DateUnit=ln.BufferType=ln.Type=ln.MessageHeader=void 0;ln.TimestampMillisecondBuilder=ln.TimestampSecondBuilder=ln.TimestampBuilder=ln.TimeNanosecondBuilder=ln.TimeMicrosecondBuilder=ln.TimeMillisecondBuilder=ln.TimeSecondBuilder=ln.TimeBuilder=ln.Uint64Builder=ln.Uint32Builder=ln.Uint16Builder=ln.Uint8Builder=ln.Int64Builder=ln.Int32Builder=ln.Int16Builder=ln.Int8Builder=ln.IntBuilder=ln.Float64Builder=ln.Float32Builder=ln.Float16Builder=ln.FloatBuilder=ln.FixedSizeBinaryBuilder=ln.DictionaryBuilder=ln.DecimalBuilder=ln.DateMillisecondBuilder=ln.DateDayBuilder=ln.DateBuilder=ln.NullBuilder=ln.BoolBuilder=ln.builderThroughAsyncIterable=ln.builderThroughIterable=ln.tableFromJSON=ln.vectorFromArray=ln.makeBuilder=ln.Builder=ln.StructRow=ln.MapRow=ln.Field=ln.Schema=ln.Visitor=ln.makeVector=ln.Vector=ln.tableFromArrays=ln.makeTable=ln.Table=ln.Map_=ln.FixedSizeList=ln.IntervalYearMonth=ln.IntervalDayTime=ln.Interval=void 0;ln.util=ln.RecordBatch=ln.Message=ln.JSONMessageReader=ln.AsyncMessageReader=ln.MessageReader=ln.tableFromIPC=ln.tableToIPC=ln.RecordBatchJSONWriter=ln.RecordBatchStreamWriter=ln.RecordBatchFileWriter=ln.RecordBatchWriter=ln.AsyncRecordBatchStreamReader=ln.AsyncRecordBatchFileReader=ln.RecordBatchStreamReader=ln.RecordBatchFileReader=ln.RecordBatchReader=ln.AsyncByteQueue=ln.AsyncByteStream=ln.ByteStream=ln.DenseUnionBuilder=ln.SparseUnionBuilder=ln.UnionBuilder=ln.StructBuilder=ln.MapBuilder=ln.FixedSizeListBuilder=ln.ListBuilder=ln.BinaryBuilder=ln.Utf8Builder=ln.IntervalYearMonthBuilder=ln.IntervalDayTimeBuilder=ln.IntervalBuilder=ln.TimestampNanosecondBuilder=ln.TimestampMicrosecondBuilder=void 0;var A8=hs(),XXe=tee();Object.defineProperty(ln,"MessageHeader",{enumerable:!0,get:function(){return XXe.MessageHeader}});var R5=Nl();Object.defineProperty(ln,"Type",{enumerable:!0,get:function(){return R5.Type}});Object.defineProperty(ln,"BufferType",{enumerable:!0,get:function(){return R5.BufferType}});Object.defineProperty(ln,"DateUnit",{enumerable:!0,get:function(){return R5.DateUnit}});Object.defineProperty(ln,"TimeUnit",{enumerable:!0,get:function(){return R5.TimeUnit}});Object.defineProperty(ln,"Precision",{enumerable:!0,get:function(){return R5.Precision}});Object.defineProperty(ln,"UnionMode",{enumerable:!0,get:function(){return R5.UnionMode}});Object.defineProperty(ln,"IntervalUnit",{enumerable:!0,get:function(){return R5.IntervalUnit}});Object.defineProperty(ln,"MetadataVersion",{enumerable:!0,get:function(){return R5.MetadataVersion}});var v5e=E2();Object.defineProperty(ln,"Data",{enumerable:!0,get:function(){return v5e.Data}});Object.defineProperty(ln,"makeData",{enumerable:!0,get:function(){return v5e.makeData}});var eo=ru();Object.defineProperty(ln,"DataType",{enumerable:!0,get:function(){return eo.DataType}});Object.defineProperty(ln,"Null",{enumerable:!0,get:function(){return eo.Null}});Object.defineProperty(ln,"Bool",{enumerable:!0,get:function(){return eo.Bool}});Object.defineProperty(ln,"Int",{enumerable:!0,get:function(){return eo.Int}});Object.defineProperty(ln,"Int8",{enumerable:!0,get:function(){return eo.Int8}});Object.defineProperty(ln,"Int16",{enumerable:!0,get:function(){return eo.Int16}});Object.defineProperty(ln,"Int32",{enumerable:!0,get:function(){return eo.Int32}});Object.defineProperty(ln,"Int64",{enumerable:!0,get:function(){return eo.Int64}});Object.defineProperty(ln,"Uint8",{enumerable:!0,get:function(){return eo.Uint8}});Object.defineProperty(ln,"Uint16",{enumerable:!0,get:function(){return eo.Uint16}});Object.defineProperty(ln,"Uint32",{enumerable:!0,get:function(){return eo.Uint32}});Object.defineProperty(ln,"Uint64",{enumerable:!0,get:function(){return eo.Uint64}});Object.defineProperty(ln,"Float",{enumerable:!0,get:function(){return eo.Float}});Object.defineProperty(ln,"Float16",{enumerable:!0,get:function(){return eo.Float16}});Object.defineProperty(ln,"Float32",{enumerable:!0,get:function(){return eo.Float32}});Object.defineProperty(ln,"Float64",{enumerable:!0,get:function(){return eo.Float64}});Object.defineProperty(ln,"Utf8",{enumerable:!0,get:function(){return eo.Utf8}});Object.defineProperty(ln,"Binary",{enumerable:!0,get:function(){return eo.Binary}});Object.defineProperty(ln,"FixedSizeBinary",{enumerable:!0,get:function(){return eo.FixedSizeBinary}});Object.defineProperty(ln,"Date_",{enumerable:!0,get:function(){return eo.Date_}});Object.defineProperty(ln,"DateDay",{enumerable:!0,get:function(){return eo.DateDay}});Object.defineProperty(ln,"DateMillisecond",{enumerable:!0,get:function(){return eo.DateMillisecond}});Object.defineProperty(ln,"Timestamp",{enumerable:!0,get:function(){return eo.Timestamp}});Object.defineProperty(ln,"TimestampSecond",{enumerable:!0,get:function(){return eo.TimestampSecond}});Object.defineProperty(ln,"TimestampMillisecond",{enumerable:!0,get:function(){return eo.TimestampMillisecond}});Object.defineProperty(ln,"TimestampMicrosecond",{enumerable:!0,get:function(){return eo.TimestampMicrosecond}});Object.defineProperty(ln,"TimestampNanosecond",{enumerable:!0,get:function(){return eo.TimestampNanosecond}});Object.defineProperty(ln,"Time",{enumerable:!0,get:function(){return eo.Time}});Object.defineProperty(ln,"TimeSecond",{enumerable:!0,get:function(){return eo.TimeSecond}});Object.defineProperty(ln,"TimeMillisecond",{enumerable:!0,get:function(){return eo.TimeMillisecond}});Object.defineProperty(ln,"TimeMicrosecond",{enumerable:!0,get:function(){return eo.TimeMicrosecond}});Object.defineProperty(ln,"TimeNanosecond",{enumerable:!0,get:function(){return eo.TimeNanosecond}});Object.defineProperty(ln,"Decimal",{enumerable:!0,get:function(){return eo.Decimal}});Object.defineProperty(ln,"List",{enumerable:!0,get:function(){return eo.List}});Object.defineProperty(ln,"Struct",{enumerable:!0,get:function(){return eo.Struct}});Object.defineProperty(ln,"Union",{enumerable:!0,get:function(){return eo.Union}});Object.defineProperty(ln,"DenseUnion",{enumerable:!0,get:function(){return eo.DenseUnion}});Object.defineProperty(ln,"SparseUnion",{enumerable:!0,get:function(){return eo.SparseUnion}});Object.defineProperty(ln,"Dictionary",{enumerable:!0,get:function(){return eo.Dictionary}});Object.defineProperty(ln,"Interval",{enumerable:!0,get:function(){return eo.Interval}});Object.defineProperty(ln,"IntervalDayTime",{enumerable:!0,get:function(){return eo.IntervalDayTime}});Object.defineProperty(ln,"IntervalYearMonth",{enumerable:!0,get:function(){return eo.IntervalYearMonth}});Object.defineProperty(ln,"FixedSizeList",{enumerable:!0,get:function(){return eo.FixedSizeList}});Object.defineProperty(ln,"Map_",{enumerable:!0,get:function(){return eo.Map_}});var Nee=d8();Object.defineProperty(ln,"Table",{enumerable:!0,get:function(){return Nee.Table}});Object.defineProperty(ln,"makeTable",{enumerable:!0,get:function(){return Nee.makeTable}});Object.defineProperty(ln,"tableFromArrays",{enumerable:!0,get:function(){return Nee.tableFromArrays}});var _5e=xd();Object.defineProperty(ln,"Vector",{enumerable:!0,get:function(){return _5e.Vector}});Object.defineProperty(ln,"makeVector",{enumerable:!0,get:function(){return _5e.makeVector}});var ZXe=md();Object.defineProperty(ln,"Visitor",{enumerable:!0,get:function(){return ZXe.Visitor}});var b5e=lh();Object.defineProperty(ln,"Schema",{enumerable:!0,get:function(){return b5e.Schema}});Object.defineProperty(ln,"Field",{enumerable:!0,get:function(){return b5e.Field}});var eZe=UT();Object.defineProperty(ln,"MapRow",{enumerable:!0,get:function(){return eZe.MapRow}});var tZe=PM();Object.defineProperty(ln,"StructRow",{enumerable:!0,get:function(){return tZe.StructRow}});var nZe=Gl();Object.defineProperty(ln,"Builder",{enumerable:!0,get:function(){return nZe.Builder}});var PF=sF();Object.defineProperty(ln,"makeBuilder",{enumerable:!0,get:function(){return PF.makeBuilder}});Object.defineProperty(ln,"vectorFromArray",{enumerable:!0,get:function(){return PF.vectorFromArray}});Object.defineProperty(ln,"tableFromJSON",{enumerable:!0,get:function(){return PF.tableFromJSON}});Object.defineProperty(ln,"builderThroughIterable",{enumerable:!0,get:function(){return PF.builderThroughIterable}});Object.defineProperty(ln,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return PF.builderThroughAsyncIterable}});var rZe=oZ();Object.defineProperty(ln,"BoolBuilder",{enumerable:!0,get:function(){return rZe.BoolBuilder}});var iZe=CZ();Object.defineProperty(ln,"NullBuilder",{enumerable:!0,get:function(){return iZe.NullBuilder}});var Lee=cZ();Object.defineProperty(ln,"DateBuilder",{enumerable:!0,get:function(){return Lee.DateBuilder}});Object.defineProperty(ln,"DateDayBuilder",{enumerable:!0,get:function(){return Lee.DateDayBuilder}});Object.defineProperty(ln,"DateMillisecondBuilder",{enumerable:!0,get:function(){return Lee.DateMillisecondBuilder}});var sZe=dZ();Object.defineProperty(ln,"DecimalBuilder",{enumerable:!0,get:function(){return sZe.DecimalBuilder}});var oZe=hZ();Object.defineProperty(ln,"DictionaryBuilder",{enumerable:!0,get:function(){return oZe.DictionaryBuilder}});var aZe=mZ();Object.defineProperty(ln,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return aZe.FixedSizeBinaryBuilder}});var GB=gZ();Object.defineProperty(ln,"FloatBuilder",{enumerable:!0,get:function(){return GB.FloatBuilder}});Object.defineProperty(ln,"Float16Builder",{enumerable:!0,get:function(){return GB.Float16Builder}});Object.defineProperty(ln,"Float32Builder",{enumerable:!0,get:function(){return GB.Float32Builder}});Object.defineProperty(ln,"Float64Builder",{enumerable:!0,get:function(){return GB.Float64Builder}});var qg=EZ();Object.defineProperty(ln,"IntBuilder",{enumerable:!0,get:function(){return qg.IntBuilder}});Object.defineProperty(ln,"Int8Builder",{enumerable:!0,get:function(){return qg.Int8Builder}});Object.defineProperty(ln,"Int16Builder",{enumerable:!0,get:function(){return qg.Int16Builder}});Object.defineProperty(ln,"Int32Builder",{enumerable:!0,get:function(){return qg.Int32Builder}});Object.defineProperty(ln,"Int64Builder",{enumerable:!0,get:function(){return qg.Int64Builder}});Object.defineProperty(ln,"Uint8Builder",{enumerable:!0,get:function(){return qg.Uint8Builder}});Object.defineProperty(ln,"Uint16Builder",{enumerable:!0,get:function(){return qg.Uint16Builder}});Object.defineProperty(ln,"Uint32Builder",{enumerable:!0,get:function(){return qg.Uint32Builder}});Object.defineProperty(ln,"Uint64Builder",{enumerable:!0,get:function(){return qg.Uint64Builder}});var BF=MZ();Object.defineProperty(ln,"TimeBuilder",{enumerable:!0,get:function(){return BF.TimeBuilder}});Object.defineProperty(ln,"TimeSecondBuilder",{enumerable:!0,get:function(){return BF.TimeSecondBuilder}});Object.defineProperty(ln,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return BF.TimeMillisecondBuilder}});Object.defineProperty(ln,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return BF.TimeMicrosecondBuilder}});Object.defineProperty(ln,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return BF.TimeNanosecondBuilder}});var jF=RZ();Object.defineProperty(ln,"TimestampBuilder",{enumerable:!0,get:function(){return jF.TimestampBuilder}});Object.defineProperty(ln,"TimestampSecondBuilder",{enumerable:!0,get:function(){return jF.TimestampSecondBuilder}});Object.defineProperty(ln,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return jF.TimestampMillisecondBuilder}});Object.defineProperty(ln,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return jF.TimestampMicrosecondBuilder}});Object.defineProperty(ln,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return jF.TimestampNanosecondBuilder}});var kee=bZ();Object.defineProperty(ln,"IntervalBuilder",{enumerable:!0,get:function(){return kee.IntervalBuilder}});Object.defineProperty(ln,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return kee.IntervalDayTimeBuilder}});Object.defineProperty(ln,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return kee.IntervalYearMonthBuilder}});var uZe=jZ();Object.defineProperty(ln,"Utf8Builder",{enumerable:!0,get:function(){return uZe.Utf8Builder}});var lZe=zP();Object.defineProperty(ln,"BinaryBuilder",{enumerable:!0,get:function(){return lZe.BinaryBuilder}});var cZe=SZ();Object.defineProperty(ln,"ListBuilder",{enumerable:!0,get:function(){return cZe.ListBuilder}});var fZe=xZ();Object.defineProperty(ln,"FixedSizeListBuilder",{enumerable:!0,get:function(){return fZe.FixedSizeListBuilder}});var dZe=wZ();Object.defineProperty(ln,"MapBuilder",{enumerable:!0,get:function(){return dZe.MapBuilder}});var hZe=AZ();Object.defineProperty(ln,"StructBuilder",{enumerable:!0,get:function(){return hZe.StructBuilder}});var Iee=PZ();Object.defineProperty(ln,"UnionBuilder",{enumerable:!0,get:function(){return Iee.UnionBuilder}});Object.defineProperty(ln,"SparseUnionBuilder",{enumerable:!0,get:function(){return Iee.SparseUnionBuilder}});Object.defineProperty(ln,"DenseUnionBuilder",{enumerable:!0,get:function(){return Iee.DenseUnionBuilder}});var Mee=x5();Object.defineProperty(ln,"ByteStream",{enumerable:!0,get:function(){return Mee.ByteStream}});Object.defineProperty(ln,"AsyncByteStream",{enumerable:!0,get:function(){return Mee.AsyncByteStream}});Object.defineProperty(ln,"AsyncByteQueue",{enumerable:!0,get:function(){return Mee.AsyncByteQueue}});var qF=LF();Object.defineProperty(ln,"RecordBatchReader",{enumerable:!0,get:function(){return qF.RecordBatchReader}});Object.defineProperty(ln,"RecordBatchFileReader",{enumerable:!0,get:function(){return qF.RecordBatchFileReader}});Object.defineProperty(ln,"RecordBatchStreamReader",{enumerable:!0,get:function(){return qF.RecordBatchStreamReader}});Object.defineProperty(ln,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return qF.AsyncRecordBatchFileReader}});Object.defineProperty(ln,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return qF.AsyncRecordBatchStreamReader}});var YB=$B();Object.defineProperty(ln,"RecordBatchWriter",{enumerable:!0,get:function(){return YB.RecordBatchWriter}});Object.defineProperty(ln,"RecordBatchFileWriter",{enumerable:!0,get:function(){return YB.RecordBatchFileWriter}});Object.defineProperty(ln,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return YB.RecordBatchStreamWriter}});Object.defineProperty(ln,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return YB.RecordBatchJSONWriter}});var E5e=y5e();Object.defineProperty(ln,"tableToIPC",{enumerable:!0,get:function(){return E5e.tableToIPC}});Object.defineProperty(ln,"tableFromIPC",{enumerable:!0,get:function(){return E5e.tableFromIPC}});var Pee=DB();Object.defineProperty(ln,"MessageReader",{enumerable:!0,get:function(){return Pee.MessageReader}});Object.defineProperty(ln,"AsyncMessageReader",{enumerable:!0,get:function(){return Pee.AsyncMessageReader}});Object.defineProperty(ln,"JSONMessageReader",{enumerable:!0,get:function(){return Pee.JSONMessageReader}});var pZe=Z_();Object.defineProperty(ln,"Message",{enumerable:!0,get:function(){return pZe.Message}});var mZe=b5();Object.defineProperty(ln,"RecordBatch",{enumerable:!0,get:function(){return mZe.RecordBatch}});var xZe=A8.__importStar(SM()),gZe=A8.__importStar(iZ()),yZe=A8.__importStar(M_()),vZe=A8.__importStar(qT()),_Ze=A8.__importStar(Hf()),bZe=A8.__importStar(zT()),Bee=mF();ln.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xZe),gZe),yZe),vZe),_Ze),bZe),{compareSchemas:Bee.compareSchemas,compareFields:Bee.compareFields,compareTypes:Bee.compareTypes})});var KB=Ae(cn=>{"use strict";m();Object.defineProperty(cn,"__esModule",{value:!0});cn.SparseUnion=cn.DenseUnion=cn.Union=cn.StructRow=cn.Struct=cn.List=cn.Decimal=cn.TimeNanosecond=cn.TimeMicrosecond=cn.TimeMillisecond=cn.TimeSecond=cn.Time=cn.TimestampNanosecond=cn.TimestampMicrosecond=cn.TimestampMillisecond=cn.TimestampSecond=cn.Timestamp=cn.DateMillisecond=cn.DateDay=cn.Date_=cn.FixedSizeBinary=cn.Binary=cn.Utf8=cn.Float64=cn.Float32=cn.Float16=cn.Float=cn.Uint64=cn.Uint32=cn.Uint16=cn.Uint8=cn.Int64=cn.Int32=cn.Int16=cn.Int8=cn.Int=cn.Bool=cn.Null=cn.DataType=cn.makeData=cn.Data=cn.BufferType=cn.UnionMode=cn.Type=cn.TimeUnit=cn.Precision=cn.MetadataVersion=cn.MessageHeader=cn.IntervalUnit=cn.DateUnit=void 0;cn.FixedSizeListBuilder=cn.FixedSizeBinaryBuilder=cn.DictionaryBuilder=cn.DecimalBuilder=cn.DateMillisecondBuilder=cn.DateDayBuilder=cn.DateBuilder=cn.BoolBuilder=cn.BinaryBuilder=cn.builderThroughAsyncIterable=cn.builderThroughIterable=cn.makeBuilder=cn.Builder=cn.util=cn.RecordBatch=cn.Message=cn.JSONMessageReader=cn.AsyncMessageReader=cn.MessageReader=cn.tableToIPC=cn.tableFromIPC=cn.RecordBatchJSONWriter=cn.RecordBatchStreamWriter=cn.RecordBatchFileWriter=cn.RecordBatchWriter=cn.AsyncRecordBatchStreamReader=cn.AsyncRecordBatchFileReader=cn.RecordBatchStreamReader=cn.RecordBatchFileReader=cn.RecordBatchReader=cn.AsyncByteQueue=cn.AsyncByteStream=cn.ByteStream=cn.tableFromJSON=cn.vectorFromArray=cn.makeVector=cn.Vector=cn.Visitor=cn.Field=cn.Schema=cn.tableFromArrays=cn.makeTable=cn.Table=cn.MapRow=cn.Map_=cn.FixedSizeList=cn.IntervalYearMonth=cn.IntervalDayTime=cn.Interval=cn.Dictionary=void 0;cn.Utf8Builder=cn.SparseUnionBuilder=cn.DenseUnionBuilder=cn.UnionBuilder=cn.TimeNanosecondBuilder=cn.TimeMicrosecondBuilder=cn.TimeMillisecondBuilder=cn.TimeSecondBuilder=cn.TimeBuilder=cn.TimestampNanosecondBuilder=cn.TimestampMicrosecondBuilder=cn.TimestampMillisecondBuilder=cn.TimestampSecondBuilder=cn.TimestampBuilder=cn.StructBuilder=cn.NullBuilder=cn.MapBuilder=cn.ListBuilder=cn.Uint64Builder=cn.Uint32Builder=cn.Uint16Builder=cn.Uint8Builder=cn.Int64Builder=cn.Int32Builder=cn.Int16Builder=cn.Int8Builder=cn.IntBuilder=cn.IntervalYearMonthBuilder=cn.IntervalDayTimeBuilder=cn.IntervalBuilder=cn.Float64Builder=cn.Float32Builder=cn.Float16Builder=cn.FloatBuilder=void 0;var EZe=hs(),SZe=EZe.__importDefault(BT()),wZe=Gl(),qee=LF(),Uee=$B(),CZe=l5e(),AZe=d5e(),$ee=h5e(),zee=p5e();SZe.default.toDOMStream=CZe.toDOMStream;wZe.Builder.throughDOM=AZe.builderThroughDOMStream;qee.RecordBatchReader.throughDOM=$ee.recordBatchReaderThroughDOMStream;qee.RecordBatchFileReader.throughDOM=$ee.recordBatchReaderThroughDOMStream;qee.RecordBatchStreamReader.throughDOM=$ee.recordBatchReaderThroughDOMStream;Uee.RecordBatchWriter.throughDOM=zee.recordBatchWriterThroughDOMStream;Uee.RecordBatchFileWriter.throughDOM=zee.recordBatchWriterThroughDOMStream;Uee.RecordBatchStreamWriter.throughDOM=zee.recordBatchWriterThroughDOMStream;var ti=jee();Object.defineProperty(cn,"DateUnit",{enumerable:!0,get:function(){return ti.DateUnit}});Object.defineProperty(cn,"IntervalUnit",{enumerable:!0,get:function(){return ti.IntervalUnit}});Object.defineProperty(cn,"MessageHeader",{enumerable:!0,get:function(){return ti.MessageHeader}});Object.defineProperty(cn,"MetadataVersion",{enumerable:!0,get:function(){return ti.MetadataVersion}});Object.defineProperty(cn,"Precision",{enumerable:!0,get:function(){return ti.Precision}});Object.defineProperty(cn,"TimeUnit",{enumerable:!0,get:function(){return ti.TimeUnit}});Object.defineProperty(cn,"Type",{enumerable:!0,get:function(){return ti.Type}});Object.defineProperty(cn,"UnionMode",{enumerable:!0,get:function(){return ti.UnionMode}});Object.defineProperty(cn,"BufferType",{enumerable:!0,get:function(){return ti.BufferType}});Object.defineProperty(cn,"Data",{enumerable:!0,get:function(){return ti.Data}});Object.defineProperty(cn,"makeData",{enumerable:!0,get:function(){return ti.makeData}});Object.defineProperty(cn,"DataType",{enumerable:!0,get:function(){return ti.DataType}});Object.defineProperty(cn,"Null",{enumerable:!0,get:function(){return ti.Null}});Object.defineProperty(cn,"Bool",{enumerable:!0,get:function(){return ti.Bool}});Object.defineProperty(cn,"Int",{enumerable:!0,get:function(){return ti.Int}});Object.defineProperty(cn,"Int8",{enumerable:!0,get:function(){return ti.Int8}});Object.defineProperty(cn,"Int16",{enumerable:!0,get:function(){return ti.Int16}});Object.defineProperty(cn,"Int32",{enumerable:!0,get:function(){return ti.Int32}});Object.defineProperty(cn,"Int64",{enumerable:!0,get:function(){return ti.Int64}});Object.defineProperty(cn,"Uint8",{enumerable:!0,get:function(){return ti.Uint8}});Object.defineProperty(cn,"Uint16",{enumerable:!0,get:function(){return ti.Uint16}});Object.defineProperty(cn,"Uint32",{enumerable:!0,get:function(){return ti.Uint32}});Object.defineProperty(cn,"Uint64",{enumerable:!0,get:function(){return ti.Uint64}});Object.defineProperty(cn,"Float",{enumerable:!0,get:function(){return ti.Float}});Object.defineProperty(cn,"Float16",{enumerable:!0,get:function(){return ti.Float16}});Object.defineProperty(cn,"Float32",{enumerable:!0,get:function(){return ti.Float32}});Object.defineProperty(cn,"Float64",{enumerable:!0,get:function(){return ti.Float64}});Object.defineProperty(cn,"Utf8",{enumerable:!0,get:function(){return ti.Utf8}});Object.defineProperty(cn,"Binary",{enumerable:!0,get:function(){return ti.Binary}});Object.defineProperty(cn,"FixedSizeBinary",{enumerable:!0,get:function(){return ti.FixedSizeBinary}});Object.defineProperty(cn,"Date_",{enumerable:!0,get:function(){return ti.Date_}});Object.defineProperty(cn,"DateDay",{enumerable:!0,get:function(){return ti.DateDay}});Object.defineProperty(cn,"DateMillisecond",{enumerable:!0,get:function(){return ti.DateMillisecond}});Object.defineProperty(cn,"Timestamp",{enumerable:!0,get:function(){return ti.Timestamp}});Object.defineProperty(cn,"TimestampSecond",{enumerable:!0,get:function(){return ti.TimestampSecond}});Object.defineProperty(cn,"TimestampMillisecond",{enumerable:!0,get:function(){return ti.TimestampMillisecond}});Object.defineProperty(cn,"TimestampMicrosecond",{enumerable:!0,get:function(){return ti.TimestampMicrosecond}});Object.defineProperty(cn,"TimestampNanosecond",{enumerable:!0,get:function(){return ti.TimestampNanosecond}});Object.defineProperty(cn,"Time",{enumerable:!0,get:function(){return ti.Time}});Object.defineProperty(cn,"TimeSecond",{enumerable:!0,get:function(){return ti.TimeSecond}});Object.defineProperty(cn,"TimeMillisecond",{enumerable:!0,get:function(){return ti.TimeMillisecond}});Object.defineProperty(cn,"TimeMicrosecond",{enumerable:!0,get:function(){return ti.TimeMicrosecond}});Object.defineProperty(cn,"TimeNanosecond",{enumerable:!0,get:function(){return ti.TimeNanosecond}});Object.defineProperty(cn,"Decimal",{enumerable:!0,get:function(){return ti.Decimal}});Object.defineProperty(cn,"List",{enumerable:!0,get:function(){return ti.List}});Object.defineProperty(cn,"Struct",{enumerable:!0,get:function(){return ti.Struct}});Object.defineProperty(cn,"StructRow",{enumerable:!0,get:function(){return ti.StructRow}});Object.defineProperty(cn,"Union",{enumerable:!0,get:function(){return ti.Union}});Object.defineProperty(cn,"DenseUnion",{enumerable:!0,get:function(){return ti.DenseUnion}});Object.defineProperty(cn,"SparseUnion",{enumerable:!0,get:function(){return ti.SparseUnion}});Object.defineProperty(cn,"Dictionary",{enumerable:!0,get:function(){return ti.Dictionary}});Object.defineProperty(cn,"Interval",{enumerable:!0,get:function(){return ti.Interval}});Object.defineProperty(cn,"IntervalDayTime",{enumerable:!0,get:function(){return ti.IntervalDayTime}});Object.defineProperty(cn,"IntervalYearMonth",{enumerable:!0,get:function(){return ti.IntervalYearMonth}});Object.defineProperty(cn,"FixedSizeList",{enumerable:!0,get:function(){return ti.FixedSizeList}});Object.defineProperty(cn,"Map_",{enumerable:!0,get:function(){return ti.Map_}});Object.defineProperty(cn,"MapRow",{enumerable:!0,get:function(){return ti.MapRow}});Object.defineProperty(cn,"Table",{enumerable:!0,get:function(){return ti.Table}});Object.defineProperty(cn,"makeTable",{enumerable:!0,get:function(){return ti.makeTable}});Object.defineProperty(cn,"tableFromArrays",{enumerable:!0,get:function(){return ti.tableFromArrays}});Object.defineProperty(cn,"Schema",{enumerable:!0,get:function(){return ti.Schema}});Object.defineProperty(cn,"Field",{enumerable:!0,get:function(){return ti.Field}});Object.defineProperty(cn,"Visitor",{enumerable:!0,get:function(){return ti.Visitor}});Object.defineProperty(cn,"Vector",{enumerable:!0,get:function(){return ti.Vector}});Object.defineProperty(cn,"makeVector",{enumerable:!0,get:function(){return ti.makeVector}});Object.defineProperty(cn,"vectorFromArray",{enumerable:!0,get:function(){return ti.vectorFromArray}});Object.defineProperty(cn,"tableFromJSON",{enumerable:!0,get:function(){return ti.tableFromJSON}});Object.defineProperty(cn,"ByteStream",{enumerable:!0,get:function(){return ti.ByteStream}});Object.defineProperty(cn,"AsyncByteStream",{enumerable:!0,get:function(){return ti.AsyncByteStream}});Object.defineProperty(cn,"AsyncByteQueue",{enumerable:!0,get:function(){return ti.AsyncByteQueue}});Object.defineProperty(cn,"RecordBatchReader",{enumerable:!0,get:function(){return ti.RecordBatchReader}});Object.defineProperty(cn,"RecordBatchFileReader",{enumerable:!0,get:function(){return ti.RecordBatchFileReader}});Object.defineProperty(cn,"RecordBatchStreamReader",{enumerable:!0,get:function(){return ti.RecordBatchStreamReader}});Object.defineProperty(cn,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return ti.AsyncRecordBatchFileReader}});Object.defineProperty(cn,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return ti.AsyncRecordBatchStreamReader}});Object.defineProperty(cn,"RecordBatchWriter",{enumerable:!0,get:function(){return ti.RecordBatchWriter}});Object.defineProperty(cn,"RecordBatchFileWriter",{enumerable:!0,get:function(){return ti.RecordBatchFileWriter}});Object.defineProperty(cn,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return ti.RecordBatchStreamWriter}});Object.defineProperty(cn,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return ti.RecordBatchJSONWriter}});Object.defineProperty(cn,"tableFromIPC",{enumerable:!0,get:function(){return ti.tableFromIPC}});Object.defineProperty(cn,"tableToIPC",{enumerable:!0,get:function(){return ti.tableToIPC}});Object.defineProperty(cn,"MessageReader",{enumerable:!0,get:function(){return ti.MessageReader}});Object.defineProperty(cn,"AsyncMessageReader",{enumerable:!0,get:function(){return ti.AsyncMessageReader}});Object.defineProperty(cn,"JSONMessageReader",{enumerable:!0,get:function(){return ti.JSONMessageReader}});Object.defineProperty(cn,"Message",{enumerable:!0,get:function(){return ti.Message}});Object.defineProperty(cn,"RecordBatch",{enumerable:!0,get:function(){return ti.RecordBatch}});Object.defineProperty(cn,"util",{enumerable:!0,get:function(){return ti.util}});Object.defineProperty(cn,"Builder",{enumerable:!0,get:function(){return ti.Builder}});Object.defineProperty(cn,"makeBuilder",{enumerable:!0,get:function(){return ti.makeBuilder}});Object.defineProperty(cn,"builderThroughIterable",{enumerable:!0,get:function(){return ti.builderThroughIterable}});Object.defineProperty(cn,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return ti.builderThroughAsyncIterable}});var lo=jee();Object.defineProperty(cn,"BinaryBuilder",{enumerable:!0,get:function(){return lo.BinaryBuilder}});Object.defineProperty(cn,"BoolBuilder",{enumerable:!0,get:function(){return lo.BoolBuilder}});Object.defineProperty(cn,"DateBuilder",{enumerable:!0,get:function(){return lo.DateBuilder}});Object.defineProperty(cn,"DateDayBuilder",{enumerable:!0,get:function(){return lo.DateDayBuilder}});Object.defineProperty(cn,"DateMillisecondBuilder",{enumerable:!0,get:function(){return lo.DateMillisecondBuilder}});Object.defineProperty(cn,"DecimalBuilder",{enumerable:!0,get:function(){return lo.DecimalBuilder}});Object.defineProperty(cn,"DictionaryBuilder",{enumerable:!0,get:function(){return lo.DictionaryBuilder}});Object.defineProperty(cn,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return lo.FixedSizeBinaryBuilder}});Object.defineProperty(cn,"FixedSizeListBuilder",{enumerable:!0,get:function(){return lo.FixedSizeListBuilder}});Object.defineProperty(cn,"FloatBuilder",{enumerable:!0,get:function(){return lo.FloatBuilder}});Object.defineProperty(cn,"Float16Builder",{enumerable:!0,get:function(){return lo.Float16Builder}});Object.defineProperty(cn,"Float32Builder",{enumerable:!0,get:function(){return lo.Float32Builder}});Object.defineProperty(cn,"Float64Builder",{enumerable:!0,get:function(){return lo.Float64Builder}});Object.defineProperty(cn,"IntervalBuilder",{enumerable:!0,get:function(){return lo.IntervalBuilder}});Object.defineProperty(cn,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return lo.IntervalDayTimeBuilder}});Object.defineProperty(cn,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return lo.IntervalYearMonthBuilder}});Object.defineProperty(cn,"IntBuilder",{enumerable:!0,get:function(){return lo.IntBuilder}});Object.defineProperty(cn,"Int8Builder",{enumerable:!0,get:function(){return lo.Int8Builder}});Object.defineProperty(cn,"Int16Builder",{enumerable:!0,get:function(){return lo.Int16Builder}});Object.defineProperty(cn,"Int32Builder",{enumerable:!0,get:function(){return lo.Int32Builder}});Object.defineProperty(cn,"Int64Builder",{enumerable:!0,get:function(){return lo.Int64Builder}});Object.defineProperty(cn,"Uint8Builder",{enumerable:!0,get:function(){return lo.Uint8Builder}});Object.defineProperty(cn,"Uint16Builder",{enumerable:!0,get:function(){return lo.Uint16Builder}});Object.defineProperty(cn,"Uint32Builder",{enumerable:!0,get:function(){return lo.Uint32Builder}});Object.defineProperty(cn,"Uint64Builder",{enumerable:!0,get:function(){return lo.Uint64Builder}});Object.defineProperty(cn,"ListBuilder",{enumerable:!0,get:function(){return lo.ListBuilder}});Object.defineProperty(cn,"MapBuilder",{enumerable:!0,get:function(){return lo.MapBuilder}});Object.defineProperty(cn,"NullBuilder",{enumerable:!0,get:function(){return lo.NullBuilder}});Object.defineProperty(cn,"StructBuilder",{enumerable:!0,get:function(){return lo.StructBuilder}});Object.defineProperty(cn,"TimestampBuilder",{enumerable:!0,get:function(){return lo.TimestampBuilder}});Object.defineProperty(cn,"TimestampSecondBuilder",{enumerable:!0,get:function(){return lo.TimestampSecondBuilder}});Object.defineProperty(cn,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return lo.TimestampMillisecondBuilder}});Object.defineProperty(cn,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return lo.TimestampMicrosecondBuilder}});Object.defineProperty(cn,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return lo.TimestampNanosecondBuilder}});Object.defineProperty(cn,"TimeBuilder",{enumerable:!0,get:function(){return lo.TimeBuilder}});Object.defineProperty(cn,"TimeSecondBuilder",{enumerable:!0,get:function(){return lo.TimeSecondBuilder}});Object.defineProperty(cn,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return lo.TimeMillisecondBuilder}});Object.defineProperty(cn,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return lo.TimeMicrosecondBuilder}});Object.defineProperty(cn,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return lo.TimeNanosecondBuilder}});Object.defineProperty(cn,"UnionBuilder",{enumerable:!0,get:function(){return lo.UnionBuilder}});Object.defineProperty(cn,"DenseUnionBuilder",{enumerable:!0,get:function(){return lo.DenseUnionBuilder}});Object.defineProperty(cn,"SparseUnionBuilder",{enumerable:!0,get:function(){return lo.SparseUnionBuilder}});Object.defineProperty(cn,"Utf8Builder",{enumerable:!0,get:function(){return lo.Utf8Builder}})});var j5e=Ae((Zwt,B5e)=>{"use strict";m();var TZe=Object.create,JB=Object.defineProperty,FZe=Object.getOwnPropertyDescriptor,DZe=Object.getOwnPropertyNames,OZe=Object.getPrototypeOf,RZe=Object.prototype.hasOwnProperty,NZe=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),LZe=(n,e)=>{for(var t in e)JB(n,t,{get:e[t],enumerable:!0})},S5e=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of DZe(e))!RZe.call(n,i)&&i!==t&&JB(n,i,{get:()=>e[i],enumerable:!(r=FZe(e,i))||r.enumerable});return n},Hee=(n,e,t)=>(t=n!=null?TZe(OZe(n)):{},S5e(e||!n||!n.__esModule?JB(t,"default",{value:n,enumerable:!0}):t,n)),kZe=n=>S5e(JB({},"__esModule",{value:!0}),n),IZe=NZe((n,e)=>{e.exports=Worker}),w5e={};LZe(w5e,{AsyncDuckDB:()=>zZe,AsyncDuckDBConnection:()=>O5e,AsyncDuckDBDispatcher:()=>HZe,AsyncPreparedStatement:()=>R5e,AsyncResultStreamIterator:()=>Vee,ConsoleLogger:()=>PZe,LogEvent:()=>T5e,LogLevel:()=>C5e,LogOrigin:()=>F5e,LogTopic:()=>A5e,PACKAGE_NAME:()=>k5e,PACKAGE_VERSION:()=>I5e,PACKAGE_VERSION_MAJOR:()=>YZe,PACKAGE_VERSION_MINOR:()=>KZe,PACKAGE_VERSION_PATCH:()=>JZe,StatusCode:()=>D5e,VoidLogger:()=>MZe,WorkerRequestType:()=>N5e,WorkerResponseType:()=>L5e,WorkerTask:()=>Ko,createWorker:()=>ret,getJsDelivrBundles:()=>eet,getLogEventLabel:()=>jZe,getLogLevelLabel:()=>BZe,getLogOriginLabel:()=>UZe,getLogTopicLabel:()=>qZe,getPlatformFeatures:()=>P5e,isFirefox:()=>XZe,isNode:()=>Yee,isSafari:()=>ZZe,selectBundle:()=>tet});B5e.exports=kZe(w5e);var C5e=(n=>(n[n.NONE=0]="NONE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR",n))(C5e||{}),A5e=(n=>(n[n.NONE=0]="NONE",n[n.CONNECT=1]="CONNECT",n[n.DISCONNECT=2]="DISCONNECT",n[n.OPEN=3]="OPEN",n[n.QUERY=4]="QUERY",n[n.INSTANTIATE=5]="INSTANTIATE",n))(A5e||{}),T5e=(n=>(n[n.NONE=0]="NONE",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",n[n.START=3]="START",n[n.RUN=4]="RUN",n[n.CAPTURE=5]="CAPTURE",n))(T5e||{}),F5e=(n=>(n[n.NONE=0]="NONE",n[n.WEB_WORKER=1]="WEB_WORKER",n[n.NODE_WORKER=2]="NODE_WORKER",n[n.BINDINGS=3]="BINDINGS",n[n.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",n))(F5e||{}),MZe=class{log(n){}},PZe=class{constructor(n=2){this.level=n}log(n){n.level>=this.level&&console.log(n)}};function BZe(n){switch(n){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function jZe(n){switch(n){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function qZe(n){switch(n){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function UZe(n){switch(n){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var D5e=(n=>(n[n.SUCCESS=0]="SUCCESS",n))(D5e||{}),i6=Hee(KB()),O5e=class{constructor(n,e){this._bindings=n,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(n){return n(this._bindings,this._conn)}async query(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.runQuery(this._conn,n),t=i6.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new i6.Table(t)}async send(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.startPendingQuery(this._conn,n);for(;e==null;)e=await this._bindings.pollPendingQuery(this._conn);let t=new Vee(this._bindings,this._conn,e),r=await i6.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(n){return await this._bindings.getTableNames(this._conn,n)}async prepare(n){let e=await this._bindings.createPrepared(this._conn,n);return new R5e(this._bindings,this._conn,e)}async insertArrowTable(n,e){let t=i6.tableToIPC(n,"stream");await this.insertArrowFromIPCStream(t,e)}async insertArrowFromIPCStream(n,e){await this._bindings.insertArrowFromIPCStream(this._conn,n,e)}async insertCSVFromPath(n,e){await this._bindings.insertCSVFromPath(this._conn,n,e)}async insertJSONFromPath(n,e){await this._bindings.insertJSONFromPath(this._conn,n,e)}},Vee=class{constructor(n,e,t){this.db=n,this.conn=e,this.header=t,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let n;return this._inFlight!=null?(n=await this._inFlight,this._inFlight=null):n=await this.db.fetchQueryResults(this.conn),this._depleted=n.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:n}}[Symbol.asyncIterator](){return this}},R5e=class{constructor(n,e,t){this.bindings=n,this.connectionId=e,this.statementId=t}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...n){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,n),t=i6.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new i6.Table(t)}async send(...n){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,n),t=new Vee(this.bindings,this.connectionId,e),r=await i6.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},N5e=(n=>(n.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",n.CLOSE_PREPARED="CLOSE_PREPARED",n.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",n.CONNECT="CONNECT",n.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",n.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",n.CREATE_PREPARED="CREATE_PREPARED",n.DISCONNECT="DISCONNECT",n.DROP_FILE="DROP_FILE",n.DROP_FILES="DROP_FILES",n.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",n.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",n.FLUSH_FILES="FLUSH_FILES",n.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",n.GET_TABLE_NAMES="GET_TABLE_NAMES",n.GET_VERSION="GET_VERSION",n.GLOB_FILE_INFOS="GLOB_FILE_INFOS",n.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",n.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",n.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",n.INSTANTIATE="INSTANTIATE",n.OPEN="OPEN",n.PING="PING",n.POLL_PENDING_QUERY="POLL_PENDING_QUERY",n.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",n.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",n.REGISTER_FILE_URL="REGISTER_FILE_URL",n.RESET="RESET",n.RUN_PREPARED="RUN_PREPARED",n.RUN_QUERY="RUN_QUERY",n.SEND_PREPARED="SEND_PREPARED",n.START_PENDING_QUERY="START_PENDING_QUERY",n.TOKENIZE="TOKENIZE",n))(N5e||{}),L5e=(n=>(n.CONNECTION_INFO="CONNECTION_INFO",n.ERROR="ERROR",n.FEATURE_FLAGS="FEATURE_FLAGS",n.FILE_BUFFER="FILE_BUFFER",n.FILE_INFOS="FILE_INFOS",n.FILE_SIZE="FILE_SIZE",n.FILE_STATISTICS="FILE_STATISTICS",n.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",n.LOG="LOG",n.OK="OK",n.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",n.QUERY_PLAN="QUERY_PLAN",n.QUERY_RESULT="QUERY_RESULT",n.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",n.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",n.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",n.REGISTERED_FILE="REGISTERED_FILE",n.SCRIPT_TOKENS="SCRIPT_TOKENS",n.SUCCESS="SUCCESS",n.TABLE_NAMES="TABLE_NAMES",n.VERSION_STRING="VERSION_STRING",n))(L5e||{}),Ko=class{constructor(n,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=n,this.data=e,this.promise=new Promise((t,r)=>{this.promiseResolver=t,this.promiseRejecter=r})}},$o=Hee(KB());function XB(n){switch(n.typeId){case $o.Type.Binary:return{sqlType:"binary"};case $o.Type.Bool:return{sqlType:"bool"};case $o.Type.Date:return{sqlType:"date"};case $o.Type.DateDay:return{sqlType:"date32[d]"};case $o.Type.DateMillisecond:return{sqlType:"date64[ms]"};case $o.Type.Decimal:{let e=n;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case $o.Type.Float:return{sqlType:"float"};case $o.Type.Float16:return{sqlType:"float16"};case $o.Type.Float32:return{sqlType:"float32"};case $o.Type.Float64:return{sqlType:"float64"};case $o.Type.Int:return{sqlType:"int32"};case $o.Type.Int16:return{sqlType:"int16"};case $o.Type.Int32:return{sqlType:"int32"};case $o.Type.Int64:return{sqlType:"int64"};case $o.Type.Uint16:return{sqlType:"uint16"};case $o.Type.Uint32:return{sqlType:"uint32"};case $o.Type.Uint64:return{sqlType:"uint64"};case $o.Type.Uint8:return{sqlType:"uint8"};case $o.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case $o.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case $o.Type.List:return{sqlType:"list",valueType:XB(n.valueType)};case $o.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:n.byteWidth};case $o.Type.Null:return{sqlType:"null"};case $o.Type.Utf8:return{sqlType:"utf8"};case $o.Type.Struct:return{sqlType:"struct",fields:n.children.map(e=>Wee(e.name,e.type))};case $o.Type.Map:{let e=n;return{sqlType:"map",keyType:XB(e.keyType),valueType:XB(e.valueType)}}case $o.Type.Time:return{sqlType:"time[s]"};case $o.Type.TimeMicrosecond:return{sqlType:"time[us]"};case $o.Type.TimeMillisecond:return{sqlType:"time[ms]"};case $o.Type.TimeNanosecond:return{sqlType:"time[ns]"};case $o.Type.TimeSecond:return{sqlType:"time[s]"};case $o.Type.Timestamp:return{sqlType:"timestamp",timezone:n.timezone||void 0};case $o.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:n.timezone||void 0};case $o.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:n.timezone||void 0};case $o.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:n.timezone||void 0};case $o.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:n.timezone||void 0}}throw new Error(`unsupported arrow type: ${n.toString()}`)}function Wee(n,e){let t=XB(e);return t.name=n,t}var $Ze=new TextEncoder,zZe=class{constructor(n,e=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=n,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(n){this._worker=n,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,t)=>{this._workerShutdownResolver=e})}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(n,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let t=this._nextMessageId++;return this._pendingRequests.set(t,n),this._worker.postMessage({messageId:t,type:n.type,data:n.data},e),await n.promise}onMessage(n){let e=n.data;switch(e.type){case"LOG":{this._logger.log(e.data);return}case"INSTANTIATE_PROGRESS":{for(let r of this._onInstantiationProgress)r(e.data);return}}let t=this._pendingRequests.get(e.requestId);if(!t){console.warn(`unassociated response: [${e.requestId}, ${e.type.toString()}]`);return}if(this._pendingRequests.delete(e.requestId),e.type=="ERROR"){let r=new Error(e.data.message);r.name=e.data.name,r.stack=e.data.stack,t.promiseRejecter(r);return}switch(t.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(e.type=="OK"){t.promiseResolver(e.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],e.type=="OK"){t.promiseResolver(e.data);return}break;case"GLOB_FILE_INFOS":if(e.type=="FILE_INFOS"){t.promiseResolver(e.data);return}break;case"GET_VERSION":if(e.type=="VERSION_STRING"){t.promiseResolver(e.data);return}break;case"GET_FEATURE_FLAGS":if(e.type=="FEATURE_FLAGS"){t.promiseResolver(e.data);return}break;case"GET_TABLE_NAMES":if(e.type=="TABLE_NAMES"){t.promiseResolver(e.data);return}break;case"TOKENIZE":if(e.type=="SCRIPT_TOKENS"){t.promiseResolver(e.data);return}break;case"COPY_FILE_TO_BUFFER":if(e.type=="FILE_BUFFER"){t.promiseResolver(e.data);return}break;case"EXPORT_FILE_STATISTICS":if(e.type=="FILE_STATISTICS"){t.promiseResolver(e.data);return}break;case"CONNECT":if(e.type=="CONNECTION_INFO"){t.promiseResolver(e.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(e.type=="QUERY_RESULT"){t.promiseResolver(e.data);return}break;case"SEND_PREPARED":if(e.type=="QUERY_RESULT_HEADER"){t.promiseResolver(e.data);return}break;case"START_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"POLL_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],e.type=="SUCCESS"){t.promiseResolver(e.data);return}break;case"FETCH_QUERY_RESULTS":if(e.type=="QUERY_RESULT_CHUNK"){t.promiseResolver(e.data);return}break;case"CREATE_PREPARED":if(e.type=="PREPARED_STATEMENT_ID"){t.promiseResolver(e.data);return}break}t.promiseRejecter(new Error(`unexpected response type: ${e.type.toString()}`))}onError(n){console.error(n),console.error(`error in duckdb worker: ${n.message}`),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`);return}this._pendingRequests.clear()}async reset(){let n=new Ko("RESET",null);return await this.postTask(n)}async ping(){let n=new Ko("PING",null);await this.postTask(n)}async dropFile(n){let e=new Ko("DROP_FILE",n);return await this.postTask(e)}async dropFiles(){let n=new Ko("DROP_FILES",null);return await this.postTask(n)}async flushFiles(){let n=new Ko("FLUSH_FILES",null);return await this.postTask(n)}async instantiate(n,e=null,t=r=>{}){this._onInstantiationProgress.push(t);let r=new Ko("INSTANTIATE",[n,e]);return await this.postTask(r)}async getVersion(){let n=new Ko("GET_VERSION",null);return await this.postTask(n)}async getFeatureFlags(){let n=new Ko("GET_FEATURE_FLAGS",null);return await this.postTask(n)}async open(n){let e=new Ko("OPEN",n);await this.postTask(e)}async tokenize(n){let e=new Ko("TOKENIZE",n);return await this.postTask(e)}async connectInternal(){let n=new Ko("CONNECT",null);return await this.postTask(n)}async connect(){let n=await this.connectInternal();return new O5e(this,n)}async disconnect(n){let e=new Ko("DISCONNECT",n);await this.postTask(e)}async runQuery(n,e){let t=new Ko("RUN_QUERY",[n,e]);return await this.postTask(t)}async startPendingQuery(n,e){let t=new Ko("START_PENDING_QUERY",[n,e]);return await this.postTask(t)}async pollPendingQuery(n){let e=new Ko("POLL_PENDING_QUERY",n);return await this.postTask(e)}async cancelPendingQuery(n){let e=new Ko("CANCEL_PENDING_QUERY",n);return await this.postTask(e)}async fetchQueryResults(n){let e=new Ko("FETCH_QUERY_RESULTS",n);return await this.postTask(e)}async getTableNames(n,e){let t=new Ko("GET_TABLE_NAMES",[n,e]);return await this.postTask(t)}async createPrepared(n,e){let t=new Ko("CREATE_PREPARED",[n,e]);return await this.postTask(t)}async closePrepared(n,e){let t=new Ko("CLOSE_PREPARED",[n,e]);await this.postTask(t)}async runPrepared(n,e,t){let r=new Ko("RUN_PREPARED",[n,e,t]);return await this.postTask(r)}async sendPrepared(n,e,t){let r=new Ko("SEND_PREPARED",[n,e,t]);return await this.postTask(r)}async globFiles(n){let e=new Ko("GLOB_FILE_INFOS",n);return await this.postTask(e)}async registerFileText(n,e){let t=$Ze.encode(e);await this.registerFileBuffer(n,t)}async registerFileURL(n,e){e===void 0&&(e=n);let t=new Ko("REGISTER_FILE_URL",[n,e]);await this.postTask(t)}async registerEmptyFileBuffer(n){let e=new Ko("REGISTER_FILE_BUFFER",[n,new Uint8Array]);await this.postTask(e)}async registerFileBuffer(n,e){let t=new Ko("REGISTER_FILE_BUFFER",[n,e]);await this.postTask(t,[e.buffer])}async registerFileHandle(n,e){let t=new Ko("REGISTER_FILE_HANDLE",[n,e]);await this.postTask(t,[])}async collectFileStatistics(n,e){let t=new Ko("COLLECT_FILE_STATISTICS",[n,e]);await this.postTask(t,[])}async exportFileStatistics(n){let e=new Ko("EXPORT_FILE_STATISTICS",n);return await this.postTask(e,[])}async copyFileToBuffer(n){let e=new Ko("COPY_FILE_TO_BUFFER",n);return await this.postTask(e)}async copyFileToPath(n,e){let t=new Ko("COPY_FILE_TO_PATH",[n,e]);await this.postTask(t)}async insertArrowFromIPCStream(n,e,t){if(e.length==0)return;let r=new Ko("INSERT_ARROW_FROM_IPC_STREAM",[n,e,t]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(Wee(s,o))}t.columnsFlat=i,delete t.columns}let r=new Ko("IMPORT_CSV_FROM_PATH",[n,e,t]);await this.postTask(r)}async insertJSONFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(Wee(s,o))}t.columnsFlat=i,delete t.columns}let r=new Ko("IMPORT_JSON_FROM_PATH",[n,e,t]);await this.postTask(r)}},HZe=class{constructor(){this._bindings=null,this._nextMessageId=0}log(n){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:n},[])}sendOK(n){this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"OK",data:null},[])}failWith(n,e){let t={name:e.name,message:e.message,stack:e.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"ERROR",data:t},[])}async onMessage(n){switch(n.type){case"PING":this.sendOK(n);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(n,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(n.data[0],n.data[1],e=>{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"INSTANTIATE_PROGRESS",data:e},[])}),this.sendOK(n)}catch(e){this._bindings=null,this.failWith(n,e)}return;default:break}if(!this._bindings)return this.failWith(n,new Error("duckdb is not initialized"));try{switch(n.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(n);break;case"OPEN":this._bindings.open(n.data),this.sendOK(n);break;case"DROP_FILE":this._bindings.dropFile(n.data),this.sendOK(n);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(n);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(n);break;case"CONNECT":{let e=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"CONNECTION_INFO",data:e.useUnsafe((t,r)=>r)},[]);break}case"DISCONNECT":this._bindings.disconnect(n.data),this.sendOK(n);break;case"CREATE_PREPARED":{let e=this._bindings.createPrepared(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"PREPARED_STATEMENT_ID",data:e},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(n.data[0],n.data[1]),this.sendOK(n);break}case"RUN_PREPARED":{let e=this._bindings.runPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"RUN_QUERY":{let e=this._bindings.runQuery(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"SEND_PREPARED":{let e=this._bindings.sendPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER",data:e},[e.buffer]);break}case"START_PENDING_QUERY":{let e=this._bindings.startPendingQuery(n.data[0],n.data[1]),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"POLL_PENDING_QUERY":{let e=this._bindings.pollPendingQuery(n.data),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"CANCEL_PENDING_QUERY":{let e=this._bindings.cancelPendingQuery(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SUCCESS",data:e},[]);break}case"FETCH_QUERY_RESULTS":{let e=this._bindings.fetchQueryResults(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_CHUNK",data:e},[e.buffer]);break}case"GET_TABLE_NAMES":{let e=this._bindings.getTableNames(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"TABLE_NAMES",data:e},[]);break}case"GLOB_FILE_INFOS":{let e=this._bindings.globFiles(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_INFOS",data:e},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(n.data[0],n.data[1]),this.sendOK(n);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(n.data[0],n.data[1]),this.sendOK(n);break;case"REGISTER_FILE_HANDLE":this._bindings.registerFileHandle(n.data[0],n.data[1]),this.sendOK(n);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(n.data[0],n.data[1]),this.sendOK(n);break;case"COPY_FILE_TO_BUFFER":{let e=this._bindings.copyFileToBuffer(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_BUFFER",data:e},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(n.data[0],n.data[1]),this.sendOK(n);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(n.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"TOKENIZE":{let e=this._bindings.tokenize(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SCRIPT_TOKENS",data:e},[]);break}}}catch(e){return this.failWith(n,e)}}},VZe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),WZe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),QZe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),GZe=()=>(async n=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(n)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Qee={name:"@duckdb/duckdb-wasm",version:"1.17.0",description:"DuckDB powered by WebAssembly",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^9.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.0","@typescript-eslint/eslint-plugin":"^5.36.1","@typescript-eslint/parser":"^5.36.1",esbuild:"^0.15.6",eslint:"^8.23.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.31.1","fast-glob":"^3.2.11",jasmine:"^4.4.0","jasmine-core":"^4.3.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.0","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.0.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.34","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.7.1",puppeteer:"^17.1.3",rimraf:"^3.0.2",s3rver:"^3.7.1",typedoc:"^0.23.14",typescript:"^4.7.4","wasm-feature-detect":"^1.2.11","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},k5e=Qee.name,I5e=Qee.version,Gee=Qee.version.split("."),YZe=Gee[0],KZe=Gee[1],JZe=Gee[2],Yee=()=>typeof navigator>"u",M5e=()=>Yee()?"node":navigator.userAgent,XZe=()=>M5e().includes("Firefox"),ZZe=()=>/^((?!chrome|android).)*safari/i.test(M5e());function eet(){let n=`https://cdn.jsdelivr.net/npm/${k5e}@${I5e}/dist/`;return{mvp:{mainModule:`${n}duckdb-mvp.wasm`,mainWorker:`${n}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${n}duckdb-eh.wasm`,mainWorker:`${n}duckdb-browser-eh.worker.js`}}}var Kee=null,Jee=null,Xee=null,Zee=null,ete=null;async function P5e(){return Kee==null&&(Kee=typeof BigInt64Array<"u"),Jee==null&&(Jee=await WZe()),Xee==null&&(Xee=await GZe()),Zee==null&&(Zee=await QZe()),ete==null&&(ete=await VZe()),{bigInt64Array:Kee,crossOriginIsolated:Yee()||globalThis.crossOriginIsolated||!1,wasmExceptions:Jee,wasmSIMD:Zee,wasmThreads:Xee,wasmBulkMemory:ete}}async function tet(n){let e=await P5e();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&n.coi)return{mainModule:n.coi.mainModule,mainWorker:n.coi.mainWorker,pthreadWorker:n.coi.pthreadWorker};if(n.eh)return{mainModule:n.eh.mainModule,mainWorker:n.eh.mainWorker,pthreadWorker:null}}return{mainModule:n.mvp.mainModule,mainWorker:n.mvp.mainWorker,pthreadWorker:null}}var net=Hee(IZe());async function ret(n){let e=new Request(n),t=await fetch(e),r=URL.createObjectURL(await t.blob());return new net.default(r)}});var xm=Ae(Wr=>{"use strict";m();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.isValueDate=Wr.isValueTimestamp=Wr.isValueBoolean=Wr.isValueNumber=Wr.isValueString=Wr.isMeasureLike=Wr.getPhysicalFields=Wr.getDimensions=Wr.isPhysical=Wr.isDimensional=Wr.isTurtleDef=Wr.getIdentifier=Wr.isFieldStructDef=Wr.isFieldTimeBased=Wr.isFieldTypeDef=Wr.isJoinOn=Wr.isIndexSegment=Wr.isSamplingEnable=Wr.isSamplingPercent=Wr.isSamplingRows=Wr.isQuerySegment=Wr.isProjectSegment=Wr.isReduceSegment=Wr.refIsStructDef=Wr.isByExpression=Wr.isByName=Wr.ValueType=Wr.isExtractUnit=Wr.isTimestampUnit=Wr.isDateUnit=Wr.FieldIsIntrinsic=Wr.isAtomicFieldType=Wr.isTimeFieldType=Wr.hasExpression=Wr.mkExpr=Wr.isApplyFragment=Wr.isApplyValue=Wr.isParameterFragment=Wr.isFieldFragment=Wr.isUngroupFragment=Wr.isAsymmetricFragment=Wr.isAggregateFragment=Wr.isDialectFragment=Wr.isFilterFragment=Wr.isFilteredAliasedName=Wr.paramHasValue=Wr.isConditionParameter=Wr.isValueParameter=void 0;function q5e(n){return n.value!==void 0}Wr.isValueParameter=q5e;function iet(n){return n.condition!==void 0}Wr.isConditionParameter=iet;function set(n){return q5e(n)||n.condition!==null}Wr.paramHasValue=set;function oet(n){for(let e of Object.keys(n))if(!["name","as","filterList"].includes(e))return!1;return!0}Wr.isFilteredAliasedName=oet;function aet(n){return(n==null?void 0:n.type)==="filterExpression"}Wr.isFilterFragment=aet;function uet(n){return(n==null?void 0:n.type)==="dialect"}Wr.isDialectFragment=uet;function U5e(n){return(n==null?void 0:n.type)==="aggregate"}Wr.isAggregateFragment=U5e;function cet(n){return U5e(n)&&["sum","avg","count"].includes(n.function)}Wr.isAsymmetricFragment=cet;function fet(n){let e=n==null?void 0:n.type;return e=="all"||e=="exclude"}Wr.isUngroupFragment=fet;function det(n){return(n==null?void 0:n.type)==="field"}Wr.isFieldFragment=det;function het(n){return(n==null?void 0:n.type)==="parameter"}Wr.isParameterFragment=het;function pet(n){return(n==null?void 0:n.type)==="applyVal"}Wr.isApplyValue=pet;function met(n){return(n==null?void 0:n.type)==="apply"}Wr.isApplyFragment=met;function xet(n,...e){let t=[],r;for(r=0;r<e.length;r++){let i=e[r];n[r].length>0&&t.push(n[r]),typeof i=="string"?t.push(i):t.push(...i)}return n[r].length>0&&t.push(n[r]),t}Wr.mkExpr=xet;function $5e(n){return n.e!==void 0}Wr.hasExpression=$5e;function get(n){return n=="date"||n=="timestamp"}Wr.isTimeFieldType=get;function z5e(n){return["string","number","date","timestamp","boolean"].includes(n)}Wr.isAtomicFieldType=z5e;function yet(n){return z5e(n.type)&&!$5e(n)?!0:n.type==="struct"&&(n.structSource.type==="inline"||n.structSource.type==="nested")}Wr.FieldIsIntrinsic=yet;function H5e(n){return["day","week","month","quarter","year"].includes(n)}Wr.isDateUnit=H5e;function V5e(n){return H5e(n)||["hour","minute","second"].includes(n)}Wr.isTimestampUnit=V5e;function vet(n){return V5e(n)||n=="day_of_week"||n=="day_of_year"}Wr.isExtractUnit=vet;var _et;(function(n){n.Date="date",n.Timestamp="timestamp",n.Number="number",n.String="string"})(_et=Wr.ValueType||(Wr.ValueType={}));function bet(n){return n===void 0?!1:n.by==="name"}Wr.isByName=bet;function Eet(n){return n===void 0?!1:n.by==="name"}Wr.isByExpression=Eet;function wet(n){return typeof n!="string"&&n.type==="struct"}Wr.refIsStructDef=wet;function W5e(n){return n.type==="reduce"}Wr.isReduceSegment=W5e;function Q5e(n){return n.type==="project"}Wr.isProjectSegment=Q5e;function Cet(n){return Q5e(n)||W5e(n)}Wr.isQuerySegment=Cet;function Aet(n){return n.rows!==void 0}Wr.isSamplingRows=Aet;function Tet(n){return n.percent!==void 0}Wr.isSamplingPercent=Tet;function Fet(n){return n.enable!==void 0}Wr.isSamplingEnable=Fet;function Det(n){return n.type==="index"}Wr.isIndexSegment=Det;function Oet(n){return["one","many","cross"].includes(n.type)}Wr.isJoinOn=Oet;function G5e(n){return n.type==="string"||n.type==="date"||n.type==="number"||n.type==="timestamp"||n.type==="boolean"}Wr.isFieldTypeDef=G5e;function Ret(n){return n.type==="date"||n.type==="timestamp"}Wr.isFieldTimeBased=Ret;function Y5e(n){return n.type==="struct"}Wr.isFieldStructDef=Y5e;function Net(n){return n.as!==void 0?n.as:n.name}Wr.getIdentifier=Net;function Let(n){return n.type==="turtle"}Wr.isTurtleDef=Let;function K5e(n){var e;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension":!1}Wr.isDimensional=K5e;function J5e(n){return G5e(n)&&n.e===void 0||Y5e(n)&&(n.structSource.type==="nested"||n.structSource.type=="inline")}Wr.isPhysical=J5e;function ket(n){return n.fields.filter(K5e)}Wr.getDimensions=ket;function Iet(n){return n.fields.filter(J5e)}Wr.getPhysicalFields=Iet;function Met(n){var e,t;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=n.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct":!1}Wr.isMeasureLike=Met;function Pet(n,e){return e.type==="string"}Wr.isValueString=Pet;function Bet(n,e){return e.type==="number"}Wr.isValueNumber=Bet;function jet(n,e){return e.type==="boolean"}Wr.isValueBoolean=jet;function qet(n,e){return e.type==="timestamp"}Wr.isValueTimestamp=qet;function Uet(n,e){return e.type==="date"}Wr.isValueDate=Uet});var $F=Ae((T8,UF)=>{m();(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",s="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",a=500,l="__lodash_placeholder__",f=1,p=2,_=4,E=1,O=2,R=1,q=2,z=4,L=8,B=16,P=32,G=64,ue=128,I=256,J=512,he=30,ve="...",Ve=800,ot=16,lt=1,et=2,bt=3,Pt=1/0,$e=9007199254740991,te=17976931348623157e292,Ze=0/0,ye=4294967295,Le=ye-1,Ce=ye>>>1,pe=[["ary",ue],["bind",R],["bindKey",q],["curry",L],["curryRight",B],["flip",J],["partial",P],["partialRight",G],["rearg",I]],Je="[object Arguments]",ut="[object Array]",Ht="[object AsyncFunction]",Ct="[object Boolean]",xn="[object Date]",Tt="[object DOMException]",Ot="[object Error]",rn="[object Function]",St="[object GeneratorFunction]",_e="[object Map]",ke="[object Number]",Se="[object Null]",ce="[object Object]",tt="[object Promise]",Ie="[object Proxy]",re="[object RegExp]",Ne="[object Set]",ct="[object String]",_t="[object Symbol]",Lt="[object Undefined]",Yt="[object WeakMap]",Gt="[object WeakSet]",fn="[object ArrayBuffer]",gn="[object DataView]",yn="[object Float32Array]",It="[object Float64Array]",un="[object Int8Array]",Mn="[object Int16Array]",tr="[object Int32Array]",Rn="[object Uint8Array]",Re="[object Uint8ClampedArray]",He="[object Uint16Array]",De="[object Uint32Array]",Bt=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nn=/&(?:amp|lt|gt|quot|#39);/g,Qt=/[&<>"']/g,Fn=RegExp(nn.source),Wn=RegExp(Qt.source),Zn=/<%-([\s\S]+?)%>/g,Nn=/<%([\s\S]+?)%>/g,nr=/<%=([\s\S]+?)%>/g,Ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yt=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,je=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(je.source),Rt=/^\s+/,hn=/\s/,an=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ft=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,Te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/[()=,{}\[\]\/\s]/,xt=/\\(\\)?/g,Et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nt=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,Qe=/^\[object .+?Constructor\]$/,it=/^0o[0-7]+$/i,Ut=/^(?:0|[1-9]\d*)$/,sn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cn=/($^)/,En=/['\n\r\u2028\u2029\\]/g,vn="\\ud800-\\udfff",zn="\\u0300-\\u036f",Oe="\\ufe20-\\ufe2f",ze="\\u20d0-\\u20ff",Dt=zn+Oe+ze,N="\\u2700-\\u27bf",V="a-z\\xdf-\\xf6\\xf8-\\xff",be="\\xac\\xb1\\xd7\\xf7",xe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",K="\\u2000-\\u206f",ae=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ge="\\ufe0e\\ufe0f",Mt=be+xe+K+ae,At="['\u2019]",dn="["+vn+"]",w="["+Mt+"]",j="["+Dt+"]",ee="\\d+",Ee="["+N+"]",dt="["+V+"]",Ft="[^"+vn+Mt+ee+N+V+fe+"]",Zt="\\ud83c[\\udffb-\\udfff]",Xt="(?:"+j+"|"+Zt+")",mn="[^"+vn+"]",qn="(?:\\ud83c[\\udde6-\\uddff]){2}",Un="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="["+fe+"]",Jr="\\u200d",Vr="(?:"+dt+"|"+Ft+")",yr="(?:"+Vn+"|"+Ft+")",Mr="(?:"+At+"(?:d|ll|m|re|s|t|ve))?",xi="(?:"+At+"(?:D|LL|M|RE|S|T|VE))?",ai=Xt+"?",Xi="["+Ge+"]?",Ss="(?:"+Jr+"(?:"+[mn,qn,Un].join("|")+")"+Xi+ai+")*",ts="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pa=Xi+ai+Ss,xl="(?:"+[Ee,qn,Un].join("|")+")"+pa,Oc="(?:"+[mn+j+"?",j,qn,Un,dn].join("|")+")",lu=RegExp(At,"g"),cu=RegExp(j,"g"),Ju=RegExp(Zt+"(?="+Zt+")|"+Oc+pa,"g"),Fu=RegExp([Vn+"?"+dt+"+"+Mr+"(?="+[w,Vn,"$"].join("|")+")",yr+"+"+xi+"(?="+[w,Vn+Vr,"$"].join("|")+")",Vn+"?"+Vr+"+"+Mr,Vn+"+"+xi,wa,ts,ee,xl].join("|"),"g"),Rc=RegExp("["+Jr+vn+Dt+Ge+"]"),ea=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ef=-1,Ye={};Ye[yn]=Ye[It]=Ye[un]=Ye[Mn]=Ye[tr]=Ye[Rn]=Ye[Re]=Ye[He]=Ye[De]=!0,Ye[Je]=Ye[ut]=Ye[fn]=Ye[Ct]=Ye[gn]=Ye[xn]=Ye[Ot]=Ye[rn]=Ye[_e]=Ye[ke]=Ye[ce]=Ye[re]=Ye[Ne]=Ye[ct]=Ye[Yt]=!1;var Kt={};Kt[Je]=Kt[ut]=Kt[fn]=Kt[gn]=Kt[Ct]=Kt[xn]=Kt[yn]=Kt[It]=Kt[un]=Kt[Mn]=Kt[tr]=Kt[_e]=Kt[ke]=Kt[ce]=Kt[re]=Kt[Ne]=Kt[ct]=Kt[_t]=Kt[Rn]=Kt[Re]=Kt[He]=Kt[De]=!0,Kt[Ot]=Kt[rn]=Kt[Yt]=!1;var Bn={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Yn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ri={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Br={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xr=parseFloat,Cs=parseInt,co=typeof global=="object"&&global&&global.Object===Object&&global,ro=typeof self=="object"&&self&&self.Object===Object&&self,us=co||ro||Function("return this")(),io=typeof T8=="object"&&T8&&!T8.nodeType&&T8,fo=io&&typeof UF=="object"&&UF&&!UF.nodeType&&UF,hi=fo&&fo.exports===io,Ei=hi&&co.process,Wi=function(){try{var tn=fo&&fo.require&&fo.require("util").types;return tn||Ei&&Ei.binding&&Ei.binding("util")}catch{}}(),Jo=Wi&&Wi.isArrayBuffer,fa=Wi&&Wi.isDate,da=Wi&&Wi.isMap,ho=Wi&&Wi.isRegExp,ls=Wi&&Wi.isSet,ps=Wi&&Wi.isTypedArray;function Zi(tn,Jn,bn){switch(bn.length){case 0:return tn.call(Jn);case 1:return tn.call(Jn,bn[0]);case 2:return tn.call(Jn,bn[0],bn[1]);case 3:return tn.call(Jn,bn[0],bn[1],bn[2])}return tn.apply(Jn,bn)}function fu(tn,Jn,bn,Yr){for(var Ti=-1,ns=tn==null?0:tn.length;++Ti<ns;){var ms=tn[Ti];Jn(Yr,ms,bn(ms),tn)}return Yr}function Ms(tn,Jn){for(var bn=-1,Yr=tn==null?0:tn.length;++bn<Yr&&Jn(tn[bn],bn,tn)!==!1;);return tn}function ma(tn,Jn){for(var bn=tn==null?0:tn.length;bn--&&Jn(tn[bn],bn,tn)!==!1;);return tn}function oa(tn,Jn){for(var bn=-1,Yr=tn==null?0:tn.length;++bn<Yr;)if(!Jn(tn[bn],bn,tn))return!1;return!0}function Ri(tn,Jn){for(var bn=-1,Yr=tn==null?0:tn.length,Ti=0,ns=[];++bn<Yr;){var ms=tn[bn];Jn(ms,bn,tn)&&(ns[Ti++]=ms)}return ns}function Vo(tn,Jn){var bn=tn==null?0:tn.length;return!!bn&&ua(tn,Jn,0)>-1}function vs(tn,Jn,bn){for(var Yr=-1,Ti=tn==null?0:tn.length;++Yr<Ti;)if(bn(Jn,tn[Yr]))return!0;return!1}function Ii(tn,Jn){for(var bn=-1,Yr=tn==null?0:tn.length,Ti=Array(Yr);++bn<Yr;)Ti[bn]=Jn(tn[bn],bn,tn);return Ti}function Do(tn,Jn){for(var bn=-1,Yr=Jn.length,Ti=tn.length;++bn<Yr;)tn[Ti+bn]=Jn[bn];return tn}function Na(tn,Jn,bn,Yr){var Ti=-1,ns=tn==null?0:tn.length;for(Yr&&ns&&(bn=tn[++Ti]);++Ti<ns;)bn=Jn(bn,tn[Ti],Ti,tn);return bn}function Ka(tn,Jn,bn,Yr){var Ti=tn==null?0:tn.length;for(Yr&&Ti&&(bn=tn[--Ti]);Ti--;)bn=Jn(bn,tn[Ti],Ti,tn);return bn}function Oo(tn,Jn){for(var bn=-1,Yr=tn==null?0:tn.length;++bn<Yr;)if(Jn(tn[bn],bn,tn))return!0;return!1}var Ao=Zu("length");function qa(tn){return tn.split("")}function du(tn){return tn.match(Te)||[]}function Ua(tn,Jn,bn){var Yr;return bn(tn,function(Ti,ns,ms){if(Jn(Ti,ns,ms))return Yr=ns,!1}),Yr}function aa(tn,Jn,bn,Yr){for(var Ti=tn.length,ns=bn+(Yr?1:-1);Yr?ns--:++ns<Ti;)if(Jn(tn[ns],ns,tn))return ns;return-1}function ua(tn,Jn,bn){return Jn===Jn?Ir(tn,Jn,bn):aa(tn,$l,bn)}function gl(tn,Jn,bn,Yr){for(var Ti=bn-1,ns=tn.length;++Ti<ns;)if(Yr(tn[Ti],Jn))return Ti;return-1}function $l(tn){return tn!==tn}function ta(tn,Jn){var bn=tn==null?0:tn.length;return bn?mr(tn,Jn)/bn:Ze}function Zu(tn){return function(Jn){return Jn==null?n:Jn[tn]}}function ui(tn){return function(Jn){return tn==null?n:tn[Jn]}}function rs(tn,Jn,bn,Yr,Ti){return Ti(tn,function(ns,ms,Hi){bn=Yr?(Yr=!1,ns):Jn(bn,ns,ms,Hi)}),bn}function cs(tn,Jn){var bn=tn.length;for(tn.sort(Jn);bn--;)tn[bn]=tn[bn].value;return tn}function mr(tn,Jn){for(var bn,Yr=-1,Ti=tn.length;++Yr<Ti;){var ns=Jn(tn[Yr]);ns!==n&&(bn=bn===n?ns:bn+ns)}return bn}function is(tn,Jn){for(var bn=-1,Yr=Array(tn);++bn<tn;)Yr[bn]=Jn(bn);return Yr}function Me(tn,Jn){return Ii(Jn,function(bn){return[bn,tn[bn]]})}function gt(tn){return tn&&tn.slice(0,xs(tn)+1).replace(Rt,"")}function Jt(tn){return function(Jn){return tn(Jn)}}function $t(tn,Jn){return Ii(Jn,function(bn){return tn[bn]})}function pn(tn,Jn){return tn.has(Jn)}function Ln(tn,Jn){for(var bn=-1,Yr=tn.length;++bn<Yr&&ua(Jn,tn[bn],0)>-1;);return bn}function Kn(tn,Jn){for(var bn=tn.length;bn--&&ua(Jn,tn[bn],0)>-1;);return bn}function $n(tn,Jn){for(var bn=tn.length,Yr=0;bn--;)tn[bn]===Jn&&++Yr;return Yr}var br=ui(Bn),Cr=ui(Yn);function Gn(tn){return"\\"+Br[tn]}function ar(tn,Jn){return tn==null?n:tn[Jn]}function er(tn){return Rc.test(tn)}function gr(tn){return ea.test(tn)}function Rr(tn){for(var Jn,bn=[];!(Jn=tn.next()).done;)bn.push(Jn.value);return bn}function di(tn){var Jn=-1,bn=Array(tn.size);return tn.forEach(function(Yr,Ti){bn[++Jn]=[Ti,Yr]}),bn}function ni(tn,Jn){return function(bn){return tn(Jn(bn))}}function pi(tn,Jn){for(var bn=-1,Yr=tn.length,Ti=0,ns=[];++bn<Yr;){var ms=tn[bn];(ms===Jn||ms===l)&&(tn[bn]=l,ns[Ti++]=bn)}return ns}function ii(tn){var Jn=-1,bn=Array(tn.size);return tn.forEach(function(Yr){bn[++Jn]=Yr}),bn}function qr(tn){var Jn=-1,bn=Array(tn.size);return tn.forEach(function(Yr){bn[++Jn]=[Yr,Yr]}),bn}function Ir(tn,Jn,bn){for(var Yr=bn-1,Ti=tn.length;++Yr<Ti;)if(tn[Yr]===Jn)return Yr;return-1}function yi(tn,Jn,bn){for(var Yr=bn+1;Yr--;)if(tn[Yr]===Jn)return Yr;return Yr}function gi(tn){return er(tn)?Ps(tn):Ao(tn)}function os(tn){return er(tn)?ss(tn):qa(tn)}function xs(tn){for(var Jn=tn.length;Jn--&&hn.test(tn.charAt(Jn)););return Jn}var vi=ui(ri);function Ps(tn){for(var Jn=Ju.lastIndex=0;Ju.test(tn);)++Jn;return Jn}function ss(tn){return tn.match(Ju)||[]}function xa(tn){return tn.match(Fu)||[]}var Ro=function tn(Jn){Jn=Jn==null?us:As.defaults(us.Object(),Jn,As.pick(us,Xu));var bn=Jn.Array,Yr=Jn.Date,Ti=Jn.Error,ns=Jn.Function,ms=Jn.Math,Hi=Jn.Object,fs=Jn.RegExp,hu=Jn.String,le=Jn.TypeError,at=bn.prototype,en=ns.prototype,Dn=Hi.prototype,ir=Jn["__core-js_shared__"],vr=en.toString,fr=Dn.hasOwnProperty,es=0,_s=function(){var h=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Ns=Dn.toString,so=vr.call(Hi),Ja=us._,rc=fs("^"+vr.call(fr).replace(je,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tf=hi?Jn.Buffer:n,Nc=Jn.Symbol,o0=Jn.Uint8Array,V0=tf?tf.allocUnsafe:n,ic=ni(Hi.getPrototypeOf,Hi),nf=Hi.create,a0=Dn.propertyIsEnumerable,yl=at.splice,Lc=Nc?Nc.isConcatSpreadable:n,u0=Nc?Nc.iterator:n,sc=Nc?Nc.toStringTag:n,zl=function(){try{var h=Ur(Hi,"defineProperty");return h({},"",{}),h}catch{}}(),W0=Jn.clearTimeout!==us.clearTimeout&&Jn.clearTimeout,Ah=Yr&&Yr.now!==us.Date.now&&Yr.now,Q0=Jn.setTimeout!==us.setTimeout&&Jn.setTimeout,G0=ms.ceil,rf=ms.floor,Y0=Hi.getOwnPropertySymbols,kc=tf?tf.isBuffer:n,l0=Jn.isFinite,c0=at.join,f0=ni(Hi.keys,Hi),qo=ms.max,Xo=ms.min,d0=Yr.now,vl=Jn.parseInt,sf=ms.random,Bd=at.reverse,Du=Ur(Jn,"DataView"),vo=Ur(Jn,"Map"),Th=Ur(Jn,"Promise"),_l=Ur(Jn,"Set"),ks=Ur(Jn,"WeakMap"),bl=Ur(Hi,"create"),k=ks&&new ks,Z={},qe=Zx(Du),kt=Zx(vo),Vt=Zx(Th),An=Zx(_l),kn=Zx(ks),sr=Nc?Nc.prototype:n,hr=sr?sr.valueOf:n,Nr=sr?sr.toString:n;function rt(h){if(Mu(h)&&!js(h)&&!(h instanceof Qr)){if(h instanceof Li)return h;if(fr.call(h,"__wrapped__"))return _N(h)}return new Li(h)}var Fi=function(){function h(){}return function(S){if(!eu(S))return{};if(nf)return nf(S);h.prototype=S;var U=new h;return h.prototype=n,U}}();function Qi(){}function Li(h,S){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=n}rt.templateSettings={escape:Zn,evaluate:Nn,interpolate:nr,variable:"",imports:{_:rt}},rt.prototype=Qi.prototype,rt.prototype.constructor=rt,Li.prototype=Fi(Qi.prototype),Li.prototype.constructor=Li;function Qr(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ye,this.__views__=[]}function Gs(){var h=new Qr(this.__wrapped__);return h.__actions__=Fe(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Fe(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Fe(this.__views__),h}function Uo(){if(this.__filtered__){var h=new Qr(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function ga(){var h=this.__wrapped__.value(),S=this.__dir__,U=js(h),me=S<0,ht=U?h.length:0,Wt=fc(0,ht,this.__views__),_n=Wt.start,On=Wt.end,Qn=On-_n,Sr=me?On:_n-1,Tr=this.__iteratees__,Pr=Tr.length,wi=0,Ji=Xo(Qn,this.__takeCount__);if(!U||!me&&ht==Qn&&Ji==Qn)return W1(h,this.__actions__);var ys=[];e:for(;Qn--&&wi<Ji;){Sr+=S;for(var mo=-1,Es=h[Sr];++mo<Pr;){var So=Tr[mo],Io=So.iteratee,ad=So.type,jf=Io(Es);if(ad==et)Es=jf;else if(!jf){if(ad==lt)continue e;break e}}ys[wi++]=Es}return ys}Qr.prototype=Fi(Qi.prototype),Qr.prototype.constructor=Qr;function po(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var me=h[S];this.set(me[0],me[1])}}function La(){this.__data__=bl?bl(null):{},this.size=0}function oc(h){var S=this.has(h)&&delete this.__data__[h];return this.size-=S?1:0,S}function Hl(h){var S=this.__data__;if(bl){var U=S[h];return U===o?n:U}return fr.call(S,h)?S[h]:n}function ka(h){var S=this.__data__;return bl?S[h]!==n:fr.call(S,h)}function ac(h,S){var U=this.__data__;return this.size+=this.has(h)?0:1,U[h]=bl&&S===n?o:S,this}po.prototype.clear=La,po.prototype.delete=oc,po.prototype.get=Hl,po.prototype.has=ka,po.prototype.set=ac;function ya(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var me=h[S];this.set(me[0],me[1])}}function of(){this.__data__=[],this.size=0}function af(h){var S=this.__data__,U=tl(S,h);if(U<0)return!1;var me=S.length-1;return U==me?S.pop():yl.call(S,U,1),--this.size,!0}function el(h){var S=this.__data__,U=tl(S,h);return U<0?n:S[U][1]}function uc(h){return tl(this.__data__,h)>-1}function j1(h,S){var U=this.__data__,me=tl(U,h);return me<0?(++this.size,U.push([h,S])):U[me][1]=S,this}ya.prototype.clear=of,ya.prototype.delete=af,ya.prototype.get=el,ya.prototype.has=uc,ya.prototype.set=j1;function Ic(h){var S=-1,U=h==null?0:h.length;for(this.clear();++S<U;){var me=h[S];this.set(me[0],me[1])}}function Xm(){this.size=0,this.__data__={hash:new po,map:new(vo||ya),string:new po}}function Vl(h){var S=Bs(this,h).delete(h);return this.size-=S?1:0,S}function Df(h){return Bs(this,h).get(h)}function Mc(h){return Bs(this,h).has(h)}function jr(h,S){var U=Bs(this,h),me=U.size;return U.set(h,S),this.size+=U.size==me?0:1,this}Ic.prototype.clear=Xm,Ic.prototype.delete=Vl,Ic.prototype.get=Df,Ic.prototype.has=Mc,Ic.prototype.set=jr;function K0(h){var S=-1,U=h==null?0:h.length;for(this.__data__=new Ic;++S<U;)this.add(h[S])}function J0(h){return this.__data__.set(h,o),this}function $r(h){return this.__data__.has(h)}K0.prototype.add=K0.prototype.push=J0,K0.prototype.has=$r;function El(h){var S=this.__data__=new ya(h);this.size=S.size}function q1(){this.__data__=new ya,this.size=0}function cp(h){var S=this.__data__,U=S.delete(h);return this.size=S.size,U}function _o(h){return this.__data__.get(h)}function X0(h){return this.__data__.has(h)}function jd(h,S){var U=this.__data__;if(U instanceof ya){var me=U.__data__;if(!vo||me.length<t-1)return me.push([h,S]),this.size=++U.size,this;U=this.__data__=new Ic(me)}return U.set(h,S),this.size=U.size,this}El.prototype.clear=q1,El.prototype.delete=cp,El.prototype.get=_o,El.prototype.has=X0,El.prototype.set=jd;function Z0(h,S){var U=js(h),me=!U&&t2(h),ht=!U&&!me&&n2(h),Wt=!U&&!me&&!ht&&o3(h),_n=U||me||ht||Wt,On=_n?is(h.length,hu):[],Qn=On.length;for(var Sr in h)(S||fr.call(h,Sr))&&!(_n&&(Sr=="length"||ht&&(Sr=="offset"||Sr=="parent")||Wt&&(Sr=="buffer"||Sr=="byteLength"||Sr=="byteOffset")||_p(Sr,Qn)))&&On.push(Sr);return On}function uf(h){var S=h.length;return S?h[Nu(0,S-1)]:n}function Wx(h,S){return n3(Fe(h),Of(S,0,h.length))}function Qx(h){return n3(Fe(h))}function Fh(h,S,U){(U!==n&&!Kd(h[S],U)||U===n&&!(S in h))&&nl(h,S,U)}function lf(h,S,U){var me=h[S];(!(fr.call(h,S)&&Kd(me,U))||U===n&&!(S in h))&&nl(h,S,U)}function tl(h,S){for(var U=h.length;U--;)if(Kd(h[U][0],S))return U;return-1}function qd(h,S,U,me){return Pc(h,function(ht,Wt,_n){S(me,ht,U(ht),_n)}),me}function fp(h,S){return h&&st(S,Pu(S),h)}function U1(h,S){return h&&st(S,_0(S),h)}function nl(h,S,U){S=="__proto__"&&zl?zl(h,S,{configurable:!0,enumerable:!0,value:U,writable:!0}):h[S]=U}function ed(h,S){for(var U=-1,me=S.length,ht=bn(me),Wt=h==null;++U<me;)ht[U]=Wt?n:$9(h,S[U]);return ht}function Of(h,S,U){return h===h&&(U!==n&&(h=h<=U?h:U),S!==n&&(h=h>=S?h:S)),h}function Sl(h,S,U,me,ht,Wt){var _n,On=S&f,Qn=S&p,Sr=S&_;if(U&&(_n=ht?U(h,me,ht,Wt):U(h)),_n!==n)return _n;if(!eu(h))return h;var Tr=js(h);if(Tr){if(_n=Qd(h),!On)return Fe(h,_n)}else{var Pr=Eo(h),wi=Pr==rn||Pr==St;if(n2(h))return F(h,On);if(Pr==ce||Pr==Je||wi&&!ht){if(_n=Qn||wi?{}:Gd(h),!On)return Qn?wn(h,U1(_n,h)):zt(h,fp(_n,h))}else{if(!Kt[Pr])return ht?h:{};_n=Xx(h,Pr,On)}}Wt||(Wt=new El);var Ji=Wt.get(h);if(Ji)return Ji;Wt.set(h,_n),q9(h)?h.forEach(function(Es){_n.add(Sl(Es,S,U,Es,h,Wt))}):aL(h)&&h.forEach(function(Es,So){_n.set(So,Sl(Es,S,U,So,h,Wt))});var ys=Sr?Qn?Jy:e2:Qn?_0:Pu,mo=Tr?n:ys(h);return Ms(mo||h,function(Es,So){mo&&(So=Es,Es=h[So]),lf(_n,So,Sl(Es,S,U,So,h,Wt))}),_n}function dp(h){var S=Pu(h);return function(U){return pu(U,h,S)}}function pu(h,S,U){var me=U.length;if(h==null)return!me;for(h=Hi(h);me--;){var ht=U[me],Wt=S[ht],_n=h[ht];if(_n===n&&!(ht in h)||!Wt(_n))return!1}return!0}function $1(h,S,U){if(typeof h!="function")throw new le(i);return xu(function(){h.apply(n,U)},S)}function rl(h,S,U,me){var ht=-1,Wt=Vo,_n=!0,On=h.length,Qn=[],Sr=S.length;if(!On)return Qn;U&&(S=Ii(S,Jt(U))),me?(Wt=vs,_n=!1):S.length>=t&&(Wt=pn,_n=!1,S=new K0(S));e:for(;++ht<On;){var Tr=h[ht],Pr=U==null?Tr:U(Tr);if(Tr=me||Tr!==0?Tr:0,_n&&Pr===Pr){for(var wi=Sr;wi--;)if(S[wi]===Pr)continue e;Qn.push(Tr)}else Wt(S,Pr,me)||Qn.push(Tr)}return Qn}var Pc=Hn(Ia),Dh=Hn(Nh,!0);function Ud(h,S){var U=!0;return Pc(h,function(me,ht,Wt){return U=!!S(me,ht,Wt),U}),U}function cf(h,S,U){for(var me=-1,ht=h.length;++me<ht;){var Wt=h[me],_n=S(Wt);if(_n!=null&&(On===n?_n===_n&&!od(_n):U(_n,On)))var On=_n,Qn=Wt}return Qn}function Oh(h,S,U,me){var ht=h.length;for(U=Zs(U),U<0&&(U=-U>ht?0:ht+U),me=me===n||me>ht?ht:Zs(me),me<0&&(me+=ht),me=U>me?0:wp(me);U<me;)h[U++]=S;return h}function hp(h,S){var U=[];return Pc(h,function(me,ht,Wt){S(me,ht,Wt)&&U.push(me)}),U}function $a(h,S,U,me,ht){var Wt=-1,_n=h.length;for(U||(U=mN),ht||(ht=[]);++Wt<_n;){var On=h[Wt];S>0&&U(On)?S>1?$a(On,S-1,U,me,ht):Do(ht,On):me||(ht[ht.length]=On)}return ht}var Rh=or(),td=or(!0);function Ia(h,S){return h&&Rh(h,S,Pu)}function Nh(h,S){return h&&td(h,S,Pu)}function Ou(h,S){return Ri(S,function(U){return K1(h[U])})}function Xa(h,S){S=m0(S,h);for(var U=0,me=S.length;h!=null&&U<me;)h=h[Mf(S[U++])];return U&&U==me?h:n}function Lh(h,S,U){var me=S(h);return js(h)?me:Do(me,U(h))}function va(h){return h==null?h===n?Lt:Se:sc&&sc in Hi(h)?hf(h):t3(h)}function kh(h,S){return h>S}function pp(h,S){return h!=null&&fr.call(h,S)}function h0(h,S){return h!=null&&S in Hi(h)}function nd(h,S,U){return h>=Xo(S,U)&&h<qo(S,U)}function ff(h,S,U){for(var me=U?vs:Vo,ht=h[0].length,Wt=h.length,_n=Wt,On=bn(Wt),Qn=1/0,Sr=[];_n--;){var Tr=h[_n];_n&&S&&(Tr=Ii(Tr,Jt(S))),Qn=Xo(Tr.length,Qn),On[_n]=!U&&(S||ht>=120&&Tr.length>=120)?new K0(_n&&Tr):n}Tr=h[0];var Pr=-1,wi=On[0];e:for(;++Pr<ht&&Sr.length<Qn;){var Ji=Tr[Pr],ys=S?S(Ji):Ji;if(Ji=U||Ji!==0?Ji:0,!(wi?pn(wi,ys):me(Sr,ys,U))){for(_n=Wt;--_n;){var mo=On[_n];if(!(mo?pn(mo,ys):me(h[_n],ys,U)))continue e}wi&&wi.push(ys),Sr.push(Ji)}}return Sr}function Wl(h,S,U,me){return Ia(h,function(ht,Wt,_n){S(me,U(ht),Wt,_n)}),me}function Ru(h,S,U){S=m0(S,h),h=pE(h,S);var me=h==null?h:h[Mf(Yd(S))];return me==null?n:Zi(me,h,U)}function mp(h){return Mu(h)&&va(h)==Je}function il(h){return Mu(h)&&va(h)==fn}function Ih(h){return Mu(h)&&va(h)==xn}function $d(h,S,U,me,ht){return h===S?!0:h==null||S==null||!Mu(h)&&!Mu(S)?h!==h&&S!==S:Zm(h,S,U,me,$d,ht)}function Zm(h,S,U,me,ht,Wt){var _n=js(h),On=js(S),Qn=_n?ut:Eo(h),Sr=On?ut:Eo(S);Qn=Qn==Je?ce:Qn,Sr=Sr==Je?ce:Sr;var Tr=Qn==ce,Pr=Sr==ce,wi=Qn==Sr;if(wi&&n2(h)){if(!n2(S))return!1;_n=!0,Tr=!1}if(wi&&!Tr)return Wt||(Wt=new El),_n||o3(h)?Wd(h,S,U,me,ht,Wt):Q1(h,S,Qn,U,me,ht,Wt);if(!(U&E)){var Ji=Tr&&fr.call(h,"__wrapped__"),ys=Pr&&fr.call(S,"__wrapped__");if(Ji||ys){var mo=Ji?h.value():h,Es=ys?S.value():S;return Wt||(Wt=new El),ht(mo,Es,U,me,Wt)}}return wi?(Wt||(Wt=new El),vp(h,S,U,me,ht,Wt)):!1}function xp(h){return Mu(h)&&Eo(h)==_e}function Rf(h,S,U,me){var ht=U.length,Wt=ht,_n=!me;if(h==null)return!Wt;for(h=Hi(h);ht--;){var On=U[ht];if(_n&&On[2]?On[1]!==h[On[0]]:!(On[0]in h))return!1}for(;++ht<Wt;){On=U[ht];var Qn=On[0],Sr=h[Qn],Tr=On[1];if(_n&&On[2]){if(Sr===n&&!(Qn in h))return!1}else{var Pr=new El;if(me)var wi=me(Sr,Tr,Qn,h,S,Pr);if(!(wi===n?$d(Tr,Sr,E|O,me,Pr):wi))return!1}}return!0}function rd(h){if(!eu(h)||hW(h))return!1;var S=K1(h)?rc:Qe;return S.test(Zx(h))}function Js(h){return Mu(h)&&va(h)==re}function A(h){return Mu(h)&&Eo(h)==Ne}function W(h){return Mu(h)&&OE(h.length)&&!!Ye[va(h)]}function de(h){return typeof h=="function"?h:h==null?Bf:typeof h=="object"?js(h)?Bi(h[0],h[1]):$i(h):PE(h)}function Be(h){if(!U4(h))return f0(h);var S=[];for(var U in Hi(h))fr.call(h,U)&&U!="constructor"&&S.push(U);return S}function wt(h){if(!eu(h))return mW(h);var S=U4(h),U=[];for(var me in h)me=="constructor"&&(S||!fr.call(h,me))||U.push(me);return U}function Tn(h,S){return h<S}function ur(h,S){var U=-1,me=y0(h)?bn(h.length):[];return Pc(h,function(ht,Wt,_n){me[++U]=S(ht,Wt,_n)}),me}function $i(h){var S=bo(h);return S.length==1&&S[0][2]?h9(S[0][0],S[0][1]):function(U){return U===h||Rf(U,h,S)}}function Bi(h,S){return d9(h)&&xN(S)?h9(Mf(h),S):function(U){var me=$9(U,h);return me===n&&me===S?e_(U,h):$d(S,me,E|O)}}function oo(h,S,U,me,ht){h!==S&&Rh(S,function(Wt,_n){if(ht||(ht=new El),eu(Wt))mu(h,S,_n,U,oo,me,ht);else{var On=me?me(p9(h,_n),Wt,_n+"",h,S,ht):n;On===n&&(On=Wt),Fh(h,_n,On)}},_0)}function mu(h,S,U,me,ht,Wt,_n){var On=p9(h,U),Qn=p9(S,U),Sr=_n.get(Qn);if(Sr){Fh(h,U,Sr);return}var Tr=Wt?Wt(On,Qn,U+"",h,S,_n):n,Pr=Tr===n;if(Pr){var wi=js(Qn),Ji=!wi&&n2(Qn),ys=!wi&&!Ji&&o3(Qn);Tr=Qn,wi||Ji||ys?js(On)?Tr=On:Iu(On)?Tr=Fe(On):Ji?(Pr=!1,Tr=F(Qn,!0)):ys?(Pr=!1,Tr=x(Qn,!0)):Tr=[]:s3(Qn)||t2(Qn)?(Tr=On,t2(On)?Tr=v0(On):(!eu(On)||K1(On))&&(Tr=Gd(Qn))):Pr=!1}Pr&&(_n.set(Qn,Tr),ht(Tr,Qn,me,Wt,_n),_n.delete(Qn)),Fh(h,U,Tr)}function Bc(h,S){var U=h.length;if(!!U)return S+=S<0?U:0,_p(S,U)?h[S]:n}function Nf(h,S,U){S.length?S=Ii(S,function(Wt){return js(Wt)?function(_n){return Xa(_n,Wt.length===1?Wt[0]:Wt)}:Wt}):S=[Bf];var me=-1;S=Ii(S,Jt(Dr()));var ht=ur(h,function(Wt,_n,On){var Qn=Ii(S,function(Sr){return Sr(Wt)});return{criteria:Qn,index:++me,value:Wt}});return cs(ht,function(Wt,_n){return $(Wt,_n,U)})}function dE(h,S){return Qy(h,S,function(U,me){return e_(h,me)})}function Qy(h,S,U){for(var me=-1,ht=S.length,Wt={};++me<ht;){var _n=S[me],On=Xa(h,_n);U(On,_n)&&gp(Wt,m0(_n,h),On)}return Wt}function B4(h){return function(S){return Xa(S,h)}}function Gy(h,S,U,me){var ht=me?gl:ua,Wt=-1,_n=S.length,On=h;for(h===S&&(S=Fe(S)),U&&(On=Ii(h,Jt(U)));++Wt<_n;)for(var Qn=0,Sr=S[Wt],Tr=U?U(Sr):Sr;(Qn=ht(On,Tr,Qn,me))>-1;)On!==h&&yl.call(On,Qn,1),yl.call(h,Qn,1);return h}function id(h,S){for(var U=h?S.length:0,me=U-1;U--;){var ht=S[U];if(U==me||ht!==Wt){var Wt=ht;_p(ht)?yl.call(h,ht,1):V1(h,ht)}}return h}function Nu(h,S){return h+rf(sf()*(S-h+1))}function j4(h,S,U,me){for(var ht=-1,Wt=qo(G0((S-h)/(U||1)),0),_n=bn(Wt);Wt--;)_n[me?Wt:++ht]=h,h+=U;return _n}function Mh(h,S){var U="";if(!h||S<1||S>$e)return U;do S%2&&(U+=h),S=rf(S/2),S&&(h+=h);while(S);return U}function Ts(h,S){return xE(hE(h,S,Bf),h+"")}function p0(h){return uf(l3(h))}function wl(h,S){var U=l3(h);return n3(U,Of(S,0,U.length))}function gp(h,S,U,me){if(!eu(h))return h;S=m0(S,h);for(var ht=-1,Wt=S.length,_n=Wt-1,On=h;On!=null&&++ht<Wt;){var Qn=Mf(S[ht]),Sr=U;if(Qn==="__proto__"||Qn==="constructor"||Qn==="prototype")return h;if(ht!=_n){var Tr=On[Qn];Sr=me?me(Tr,Qn,On):n,Sr===n&&(Sr=eu(Tr)?Tr:_p(S[ht+1])?[]:{})}lf(On,Qn,Sr),On=On[Qn]}return h}var Lu=k?function(h,S){return k.set(h,S),h}:Bf,z1=zl?function(h,S){return zl(h,"toString",{configurable:!0,enumerable:!1,value:IE(S),writable:!0})}:Bf;function H1(h){return n3(l3(h))}function Cl(h,S,U){var me=-1,ht=h.length;S<0&&(S=-S>ht?0:ht+S),U=U>ht?ht:U,U<0&&(U+=ht),ht=S>U?0:U-S>>>0,S>>>=0;for(var Wt=bn(ht);++me<ht;)Wt[me]=h[me+S];return Wt}function Yy(h,S){var U;return Pc(h,function(me,ht,Wt){return U=S(me,ht,Wt),!U}),!!U}function zd(h,S,U){var me=0,ht=h==null?me:h.length;if(typeof S=="number"&&S===S&&ht<=Ce){for(;me<ht;){var Wt=me+ht>>>1,_n=h[Wt];_n!==null&&!od(_n)&&(U?_n<=S:_n<S)?me=Wt+1:ht=Wt}return ht}return Ph(h,S,Bf,U)}function Ph(h,S,U,me){var ht=0,Wt=h==null?0:h.length;if(Wt===0)return 0;S=U(S);for(var _n=S!==S,On=S===null,Qn=od(S),Sr=S===n;ht<Wt;){var Tr=rf((ht+Wt)/2),Pr=U(h[Tr]),wi=Pr!==n,Ji=Pr===null,ys=Pr===Pr,mo=od(Pr);if(_n)var Es=me||ys;else Sr?Es=ys&&(me||wi):On?Es=ys&&wi&&(me||!Ji):Qn?Es=ys&&wi&&!Ji&&(me||!mo):Ji||mo?Es=!1:Es=me?Pr<=S:Pr<S;Es?ht=Tr+1:Wt=Tr}return Xo(Wt,Le)}function Ky(h,S){for(var U=-1,me=h.length,ht=0,Wt=[];++U<me;){var _n=h[U],On=S?S(_n):_n;if(!U||!Kd(On,Qn)){var Qn=On;Wt[ht++]=_n===0?0:_n}}return Wt}function Lf(h){return typeof h=="number"?h:od(h)?Ze:+h}function Al(h){if(typeof h=="string")return h;if(js(h))return Ii(h,Al)+"";if(od(h))return Nr?Nr.call(h):"";var S=h+"";return S=="0"&&1/h==-Pt?"-0":S}function kf(h,S,U){var me=-1,ht=Vo,Wt=h.length,_n=!0,On=[],Qn=On;if(U)_n=!1,ht=vs;else if(Wt>=t){var Sr=S?null:Tl(h);if(Sr)return ii(Sr);_n=!1,ht=pn,Qn=new K0}else Qn=S?[]:On;e:for(;++me<Wt;){var Tr=h[me],Pr=S?S(Tr):Tr;if(Tr=U||Tr!==0?Tr:0,_n&&Pr===Pr){for(var wi=Qn.length;wi--;)if(Qn[wi]===Pr)continue e;S&&Qn.push(Pr),On.push(Tr)}else ht(Qn,Pr,U)||(Qn!==On&&Qn.push(Pr),On.push(Tr))}return On}function V1(h,S){return S=m0(S,h),h=pE(h,S),h==null||delete h[Mf(Yd(S))]}function yp(h,S,U,me){return gp(h,S,U(Xa(h,S)),me)}function Hd(h,S,U,me){for(var ht=h.length,Wt=me?ht:-1;(me?Wt--:++Wt<ht)&&S(h[Wt],Wt,h););return U?Cl(h,me?0:Wt,me?Wt+1:ht):Cl(h,me?Wt+1:0,me?ht:Wt)}function W1(h,S){var U=h;return U instanceof Qr&&(U=U.value()),Na(S,function(me,ht){return ht.func.apply(ht.thisArg,Do([me],ht.args))},U)}function df(h,S,U){var me=h.length;if(me<2)return me?kf(h[0]):[];for(var ht=-1,Wt=bn(me);++ht<me;)for(var _n=h[ht],On=-1;++On<me;)On!=ht&&(Wt[ht]=rl(Wt[ht]||_n,h[On],S,U));return kf($a(Wt,1),S,U)}function Gx(h,S,U){for(var me=-1,ht=h.length,Wt=S.length,_n={};++me<ht;){var On=me<Wt?S[me]:n;U(_n,h[me],On)}return _n}function Yx(h){return Iu(h)?h:[]}function lc(h){return typeof h=="function"?h:Bf}function m0(h,S){return js(h)?h:d9(h,S)?[h]:z4(Wo(h))}var q4=Ts;function sd(h,S,U){var me=h.length;return U=U===n?me:U,!S&&U>=me?h:Cl(h,S,U)}var y=W0||function(h){return us.clearTimeout(h)};function F(h,S){if(S)return h.slice();var U=h.length,me=V0?V0(U):new h.constructor(U);return h.copy(me),me}function H(h){var S=new h.constructor(h.byteLength);return new o0(S).set(new o0(h)),S}function Y(h,S){var U=S?H(h.buffer):h.buffer;return new h.constructor(U,h.byteOffset,h.byteLength)}function Pe(h){var S=new h.constructor(h.source,Nt.exec(h));return S.lastIndex=h.lastIndex,S}function vt(h){return hr?Hi(hr.call(h)):{}}function x(h,S){var U=S?H(h.buffer):h.buffer;return new h.constructor(U,h.byteOffset,h.length)}function T(h,S){if(h!==S){var U=h!==n,me=h===null,ht=h===h,Wt=od(h),_n=S!==n,On=S===null,Qn=S===S,Sr=od(S);if(!On&&!Sr&&!Wt&&h>S||Wt&&_n&&Qn&&!On&&!Sr||me&&_n&&Qn||!U&&Qn||!ht)return 1;if(!me&&!Wt&&!Sr&&h<S||Sr&&U&&ht&&!me&&!Wt||On&&U&&ht||!_n&&ht||!Qn)return-1}return 0}function $(h,S,U){for(var me=-1,ht=h.criteria,Wt=S.criteria,_n=ht.length,On=U.length;++me<_n;){var Qn=T(ht[me],Wt[me]);if(Qn){if(me>=On)return Qn;var Sr=U[me];return Qn*(Sr=="desc"?-1:1)}}return h.index-S.index}function X(h,S,U,me){for(var ht=-1,Wt=h.length,_n=U.length,On=-1,Qn=S.length,Sr=qo(Wt-_n,0),Tr=bn(Qn+Sr),Pr=!me;++On<Qn;)Tr[On]=S[On];for(;++ht<_n;)(Pr||ht<Wt)&&(Tr[U[ht]]=h[ht]);for(;Sr--;)Tr[On++]=h[ht++];return Tr}function ge(h,S,U,me){for(var ht=-1,Wt=h.length,_n=-1,On=U.length,Qn=-1,Sr=S.length,Tr=qo(Wt-On,0),Pr=bn(Tr+Sr),wi=!me;++ht<Tr;)Pr[ht]=h[ht];for(var Ji=ht;++Qn<Sr;)Pr[Ji+Qn]=S[Qn];for(;++_n<On;)(wi||ht<Wt)&&(Pr[Ji+U[_n]]=h[ht++]);return Pr}function Fe(h,S){var U=-1,me=h.length;for(S||(S=bn(me));++U<me;)S[U]=h[U];return S}function st(h,S,U,me){var ht=!U;U||(U={});for(var Wt=-1,_n=S.length;++Wt<_n;){var On=S[Wt],Qn=me?me(U[On],h[On],On,U,h):n;Qn===n&&(Qn=h[On]),ht?nl(U,On,Qn):lf(U,On,Qn)}return U}function zt(h,S){return st(h,Er(h),S)}function wn(h,S){return st(h,ol(h),S)}function Sn(h,S){return function(U,me){var ht=js(U)?fu:qd,Wt=S?S():{};return ht(U,h,Dr(me,2),Wt)}}function Pn(h){return Ts(function(S,U){var me=-1,ht=U.length,Wt=ht>1?U[ht-1]:n,_n=ht>2?U[2]:n;for(Wt=h.length>3&&typeof Wt=="function"?(ht--,Wt):n,_n&&If(U[0],U[1],_n)&&(Wt=ht<3?n:Wt,ht=1),S=Hi(S);++me<ht;){var On=U[me];On&&h(S,On,me,Wt)}return S})}function Hn(h,S){return function(U,me){if(U==null)return U;if(!y0(U))return h(U,me);for(var ht=U.length,Wt=S?ht:-1,_n=Hi(U);(S?Wt--:++Wt<ht)&&me(_n[Wt],Wt,_n)!==!1;);return U}}function or(h){return function(S,U,me){for(var ht=-1,Wt=Hi(S),_n=me(S),On=_n.length;On--;){var Qn=_n[h?On:++ht];if(U(Wt[Qn],Qn,Wt)===!1)break}return S}}function Or(h,S,U){var me=S&R,ht=bi(h);function Wt(){var _n=this&&this!==us&&this instanceof Wt?ht:h;return _n.apply(me?U:this,arguments)}return Wt}function Kr(h){return function(S){S=Wo(S);var U=er(S)?os(S):n,me=U?U[0]:S.charAt(0),ht=U?sd(U,1).join(""):S.slice(1);return me[h]()+ht}}function Lr(h){return function(S){return Na(i_(SL(S).replace(lu,"")),h,"")}}function bi(h){return function(){var S=arguments;switch(S.length){case 0:return new h;case 1:return new h(S[0]);case 2:return new h(S[0],S[1]);case 3:return new h(S[0],S[1],S[2]);case 4:return new h(S[0],S[1],S[2],S[3]);case 5:return new h(S[0],S[1],S[2],S[3],S[4]);case 6:return new h(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new h(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var U=Fi(h.prototype),me=h.apply(U,S);return eu(me)?me:U}}function ki(h,S,U){var me=bi(h);function ht(){for(var Wt=arguments.length,_n=bn(Wt),On=Wt,Qn=G1(ht);On--;)_n[On]=arguments[On];var Sr=Wt<3&&_n[0]!==Qn&&_n[Wt-1]!==Qn?[]:pi(_n,Qn);if(Wt-=Sr.length,Wt<U)return Ca(h,S,Xs,ht.placeholder,n,_n,Sr,n,n,U-Wt);var Tr=this&&this!==us&&this instanceof ht?me:h;return Zi(Tr,this,_n)}return ht}function Ds(h){return function(S,U,me){var ht=Hi(S);if(!y0(S)){var Wt=Dr(U,3);S=Pu(S),U=function(On){return Wt(ht[On],On,ht)}}var _n=h(S,U,me);return _n>-1?ht[Wt?S[_n]:_n]:n}}function ds(h){return g0(function(S){var U=S.length,me=U,ht=Li.prototype.thru;for(h&&S.reverse();me--;){var Wt=S[me];if(typeof Wt!="function")throw new le(i);if(ht&&!_n&&Jx(Wt)=="wrapper")var _n=new Li([],!0)}for(me=_n?me:U;++me<U;){Wt=S[me];var On=Jx(Wt),Qn=On=="wrapper"?Kx(Wt):n;Qn&&e3(Qn[0])&&Qn[1]==(ue|L|P|I)&&!Qn[4].length&&Qn[9]==1?_n=_n[Jx(Qn[0])].apply(_n,Qn[3]):_n=Wt.length==1&&e3(Wt)?_n[On]():_n.thru(Wt)}return function(){var Sr=arguments,Tr=Sr[0];if(_n&&Sr.length==1&&js(Tr))return _n.plant(Tr).value();for(var Pr=0,wi=U?S[Pr].apply(this,Sr):Tr;++Pr<U;)wi=S[Pr].call(this,wi);return wi}})}function Xs(h,S,U,me,ht,Wt,_n,On,Qn,Sr){var Tr=S&ue,Pr=S&R,wi=S&q,Ji=S&(L|B),ys=S&J,mo=wi?n:bi(h);function Es(){for(var So=arguments.length,Io=bn(So),ad=So;ad--;)Io[ad]=arguments[ad];if(Ji)var jf=G1(Es),ud=$n(Io,jf);if(me&&(Io=X(Io,me,ht,Ji)),Wt&&(Io=ge(Io,Wt,_n,Ji)),So-=ud,Ji&&So<Sr){var Bu=pi(Io,jf);return Ca(h,S,Xs,Es.placeholder,U,Io,Bu,On,Qn,Sr-So)}var ld=Pr?U:this,Xd=wi?ld[h]:h;return So=Io.length,On?Io=mE(Io,On):ys&&So>1&&Io.reverse(),Tr&&Qn<So&&(Io.length=Qn),this&&this!==us&&this instanceof Es&&(Xd=mo||bi(Xd)),Xd.apply(ld,Io)}return Es}function gs(h,S){return function(U,me){return Wl(U,h,S(me),{})}}function Gr(h,S){return function(U,me){var ht;if(U===n&&me===n)return S;if(U!==n&&(ht=U),me!==n){if(ht===n)return me;typeof U=="string"||typeof me=="string"?(U=Al(U),me=Al(me)):(U=Lf(U),me=Lf(me)),ht=h(U,me)}return ht}}function Ki(h){return g0(function(S){return S=Ii(S,Jt(Dr())),Ts(function(U){var me=this;return h(S,function(ht){return Zi(ht,me,U)})})})}function Ma(h,S){S=S===n?" ":Al(S);var U=S.length;if(U<2)return U?Mh(S,h):S;var me=Mh(S,G0(h/gi(S)));return er(S)?sd(os(me),0,h).join(""):me.slice(0,h)}function Za(h,S,U,me){var ht=S&R,Wt=bi(h);function _n(){for(var On=-1,Qn=arguments.length,Sr=-1,Tr=me.length,Pr=bn(Tr+Qn),wi=this&&this!==us&&this instanceof _n?Wt:h;++Sr<Tr;)Pr[Sr]=me[Sr];for(;Qn--;)Pr[Sr++]=arguments[++On];return Zi(wi,ht?U:this,Pr)}return _n}function ku(h){return function(S,U,me){return me&&typeof me!="number"&&If(S,U,me)&&(U=me=n),S=J1(S),U===n?(U=S,S=0):U=J1(U),me=me===n?S<U?1:-1:J1(me),j4(S,U,me,h)}}function bs(h){return function(S,U){return typeof S=="string"&&typeof U=="string"||(S=al(S),U=al(U)),h(S,U)}}function Ca(h,S,U,me,ht,Wt,_n,On,Qn,Sr){var Tr=S&L,Pr=Tr?_n:n,wi=Tr?n:_n,Ji=Tr?Wt:n,ys=Tr?n:Wt;S|=Tr?P:G,S&=~(Tr?G:P),S&z||(S&=~(R|q));var mo=[h,S,ht,Ji,Pr,ys,wi,On,Qn,Sr],Es=U.apply(n,mo);return e3(h)&&Bh(Es,mo),Es.placeholder=me,$4(Es,h,S)}function za(h){var S=ms[h];return function(U,me){if(U=al(U),me=me==null?0:Xo(Zs(me),292),me&&l0(U)){var ht=(Wo(U)+"e").split("e"),Wt=S(ht[0]+"e"+(+ht[1]+me));return ht=(Wo(Wt)+"e").split("e"),+(ht[0]+"e"+(+ht[1]-me))}return S(U)}}var Tl=_l&&1/ii(new _l([,-0]))[1]==Pt?function(h){return new _l(h)}:c3;function Vd(h){return function(S){var U=Eo(S);return U==_e?di(S):U==Ne?qr(S):Me(S,h(S))}}function sl(h,S,U,me,ht,Wt,_n,On){var Qn=S&q;if(!Qn&&typeof h!="function")throw new le(i);var Sr=me?me.length:0;if(Sr||(S&=~(P|G),me=ht=n),_n=_n===n?_n:qo(Zs(_n),0),On=On===n?On:Zs(On),Sr-=ht?ht.length:0,S&G){var Tr=me,Pr=ht;me=ht=n}var wi=Qn?n:Kx(h),Ji=[h,S,U,me,ht,Tr,Pr,Wt,_n,On];if(wi&&yN(Ji,wi),h=Ji[0],S=Ji[1],U=Ji[2],me=Ji[3],ht=Ji[4],On=Ji[9]=Ji[9]===n?Qn?0:h.length:qo(Ji[9]-Sr,0),!On&&S&(L|B)&&(S&=~(L|B)),!S||S==R)var ys=Or(h,S,U);else S==L||S==B?ys=ki(h,S,On):(S==P||S==(R|P))&&!ht.length?ys=Za(h,S,U,me):ys=Xs.apply(n,Ji);var mo=wi?Lu:Bh;return $4(mo(ys,Ji),h,S)}function x0(h,S,U,me){return h===n||Kd(h,Dn[U])&&!fr.call(me,U)?S:h}function _a(h,S,U,me,ht,Wt){return eu(h)&&eu(S)&&(Wt.set(S,h),oo(h,S,n,_a,Wt),Wt.delete(S)),h}function cc(h){return s3(h)?n:h}function Wd(h,S,U,me,ht,Wt){var _n=U&E,On=h.length,Qn=S.length;if(On!=Qn&&!(_n&&Qn>On))return!1;var Sr=Wt.get(h),Tr=Wt.get(S);if(Sr&&Tr)return Sr==S&&Tr==h;var Pr=-1,wi=!0,Ji=U&O?new K0:n;for(Wt.set(h,S),Wt.set(S,h);++Pr<On;){var ys=h[Pr],mo=S[Pr];if(me)var Es=_n?me(mo,ys,Pr,S,h,Wt):me(ys,mo,Pr,h,S,Wt);if(Es!==n){if(Es)continue;wi=!1;break}if(Ji){if(!Oo(S,function(So,Io){if(!pn(Ji,Io)&&(ys===So||ht(ys,So,U,me,Wt)))return Ji.push(Io)})){wi=!1;break}}else if(!(ys===mo||ht(ys,mo,U,me,Wt))){wi=!1;break}}return Wt.delete(h),Wt.delete(S),wi}function Q1(h,S,U,me,ht,Wt,_n){switch(U){case gn:if(h.byteLength!=S.byteLength||h.byteOffset!=S.byteOffset)return!1;h=h.buffer,S=S.buffer;case fn:return!(h.byteLength!=S.byteLength||!Wt(new o0(h),new o0(S)));case Ct:case xn:case ke:return Kd(+h,+S);case Ot:return h.name==S.name&&h.message==S.message;case re:case ct:return h==S+"";case _e:var On=di;case Ne:var Qn=me&E;if(On||(On=ii),h.size!=S.size&&!Qn)return!1;var Sr=_n.get(h);if(Sr)return Sr==S;me|=O,_n.set(h,S);var Tr=Wd(On(h),On(S),me,ht,Wt,_n);return _n.delete(h),Tr;case _t:if(hr)return hr.call(h)==hr.call(S)}return!1}function vp(h,S,U,me,ht,Wt){var _n=U&E,On=e2(h),Qn=On.length,Sr=e2(S),Tr=Sr.length;if(Qn!=Tr&&!_n)return!1;for(var Pr=Qn;Pr--;){var wi=On[Pr];if(!(_n?wi in S:fr.call(S,wi)))return!1}var Ji=Wt.get(h),ys=Wt.get(S);if(Ji&&ys)return Ji==S&&ys==h;var mo=!0;Wt.set(h,S),Wt.set(S,h);for(var Es=_n;++Pr<Qn;){wi=On[Pr];var So=h[wi],Io=S[wi];if(me)var ad=_n?me(Io,So,wi,S,h,Wt):me(So,Io,wi,h,S,Wt);if(!(ad===n?So===Io||ht(So,Io,U,me,Wt):ad)){mo=!1;break}Es||(Es=wi=="constructor")}if(mo&&!Es){var jf=h.constructor,ud=S.constructor;jf!=ud&&"constructor"in h&&"constructor"in S&&!(typeof jf=="function"&&jf instanceof jf&&typeof ud=="function"&&ud instanceof ud)&&(mo=!1)}return Wt.delete(h),Wt.delete(S),mo}function g0(h){return xE(hE(h,n,W4),h+"")}function e2(h){return Lh(h,Pu,Er)}function Jy(h){return Lh(h,_0,ol)}var Kx=k?function(h){return k.get(h)}:c3;function Jx(h){for(var S=h.name+"",U=Z[S],me=fr.call(Z,S)?U.length:0;me--;){var ht=U[me],Wt=ht.func;if(Wt==null||Wt==h)return ht.name}return S}function G1(h){var S=fr.call(rt,"placeholder")?rt:h;return S.placeholder}function Dr(){var h=rt.iteratee||ME;return h=h===ME?de:h,arguments.length?h(arguments[0],arguments[1]):h}function Bs(h,S){var U=h.__data__;return fi(S)?U[typeof S=="string"?"string":"hash"]:U.map}function bo(h){for(var S=Pu(h),U=S.length;U--;){var me=S[U],ht=h[me];S[U]=[me,ht,xN(ht)]}return S}function Ur(h,S){var U=ar(h,S);return rd(U)?U:n}function hf(h){var S=fr.call(h,sc),U=h[sc];try{h[sc]=n;var me=!0}catch{}var ht=Ns.call(h);return me&&(S?h[sc]=U:delete h[sc]),ht}var Er=Y0?function(h){return h==null?[]:(h=Hi(h),Ri(Y0(h),function(S){return a0.call(h,S)}))}:X9,ol=Y0?function(h){for(var S=[];h;)Do(S,Er(h)),h=ic(h);return S}:X9,Eo=va;(Du&&Eo(new Du(new ArrayBuffer(1)))!=gn||vo&&Eo(new vo)!=_e||Th&&Eo(Th.resolve())!=tt||_l&&Eo(new _l)!=Ne||ks&&Eo(new ks)!=Yt)&&(Eo=function(h){var S=va(h),U=S==ce?h.constructor:n,me=U?Zx(U):"";if(me)switch(me){case qe:return gn;case kt:return _e;case Vt:return tt;case An:return Ne;case kn:return Yt}return S});function fc(h,S,U){for(var me=-1,ht=U.length;++me<ht;){var Wt=U[me],_n=Wt.size;switch(Wt.type){case"drop":h+=_n;break;case"dropRight":S-=_n;break;case"take":S=Xo(S,h+_n);break;case"takeRight":h=qo(h,S-_n);break}}return{start:h,end:S}}function Xy(h){var S=h.match(ft);return S?S[1].split(ie):[]}function Ls(h,S,U){S=m0(S,h);for(var me=-1,ht=S.length,Wt=!1;++me<ht;){var _n=Mf(S[me]);if(!(Wt=h!=null&&U(h,_n)))break;h=h[_n]}return Wt||++me!=ht?Wt:(ht=h==null?0:h.length,!!ht&&OE(ht)&&_p(_n,ht)&&(js(h)||t2(h)))}function Qd(h){var S=h.length,U=new h.constructor(S);return S&&typeof h[0]=="string"&&fr.call(h,"index")&&(U.index=h.index,U.input=h.input),U}function Gd(h){return typeof h.constructor=="function"&&!U4(h)?Fi(ic(h)):{}}function Xx(h,S,U){var me=h.constructor;switch(S){case fn:return H(h);case Ct:case xn:return new me(+h);case gn:return Y(h,U);case yn:case It:case un:case Mn:case tr:case Rn:case Re:case He:case De:return x(h,U);case _e:return new me;case ke:case ct:return new me(h);case re:return Pe(h);case Ne:return new me;case _t:return vt(h)}}function Zy(h,S){var U=S.length;if(!U)return h;var me=U-1;return S[me]=(U>1?"& ":"")+S[me],S=S.join(U>2?", ":" "),h.replace(an,`{
/* [wrapped with `+S+`] */
`)}function mN(h){return js(h)||t2(h)||!!(Lc&&h&&h[Lc])}function _p(h,S){var U=typeof h;return S=S??$e,!!S&&(U=="number"||U!="symbol"&&Ut.test(h))&&h>-1&&h%1==0&&h<S}function If(h,S,U){if(!eu(U))return!1;var me=typeof S;return(me=="number"?y0(U)&&_p(S,U.length):me=="string"&&S in U)?Kd(U[S],h):!1}function d9(h,S){if(js(h))return!1;var U=typeof h;return U=="number"||U=="symbol"||U=="boolean"||h==null||od(h)?!0:yt.test(h)||!Ke.test(h)||S!=null&&h in Hi(S)}function fi(h){var S=typeof h;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?h!=="__proto__":h===null}function e3(h){var S=Jx(h),U=rt[S];if(typeof U!="function"||!(S in Qr.prototype))return!1;if(h===U)return!0;var me=Kx(U);return!!me&&h===me[0]}function hW(h){return!!_s&&_s in h}var pW=ir?K1:BE;function U4(h){var S=h&&h.constructor,U=typeof S=="function"&&S.prototype||Dn;return h===U}function xN(h){return h===h&&!eu(h)}function h9(h,S){return function(U){return U==null?!1:U[h]===S&&(S!==n||h in Hi(U))}}function gN(h){var S=TE(h,function(me){return U.size===a&&U.clear(),me}),U=S.cache;return S}function yN(h,S){var U=h[1],me=S[1],ht=U|me,Wt=ht<(R|q|ue),_n=me==ue&&U==L||me==ue&&U==I&&h[7].length<=S[8]||me==(ue|I)&&S[7].length<=S[8]&&U==L;if(!(Wt||_n))return h;me&R&&(h[2]=S[2],ht|=U&R?0:z);var On=S[3];if(On){var Qn=h[3];h[3]=Qn?X(Qn,On,S[4]):On,h[4]=Qn?pi(h[3],l):S[4]}return On=S[5],On&&(Qn=h[5],h[5]=Qn?ge(Qn,On,S[6]):On,h[6]=Qn?pi(h[5],l):S[6]),On=S[7],On&&(h[7]=On),me&ue&&(h[8]=h[8]==null?S[8]:Xo(h[8],S[8])),h[9]==null&&(h[9]=S[9]),h[0]=S[0],h[1]=ht,h}function mW(h){var S=[];if(h!=null)for(var U in Hi(h))S.push(U);return S}function t3(h){return Ns.call(h)}function hE(h,S,U){return S=qo(S===n?h.length-1:S,0),function(){for(var me=arguments,ht=-1,Wt=qo(me.length-S,0),_n=bn(Wt);++ht<Wt;)_n[ht]=me[S+ht];ht=-1;for(var On=bn(S+1);++ht<S;)On[ht]=me[ht];return On[S]=U(_n),Zi(h,this,On)}}function pE(h,S){return S.length<2?h:Xa(h,Cl(S,0,-1))}function mE(h,S){for(var U=h.length,me=Xo(S.length,U),ht=Fe(h);me--;){var Wt=S[me];h[me]=_p(Wt,U)?ht[Wt]:n}return h}function p9(h,S){if(!(S==="constructor"&&typeof h[S]=="function")&&S!="__proto__")return h[S]}var Bh=vN(Lu),xu=Q0||function(h,S){return us.setTimeout(h,S)},xE=vN(z1);function $4(h,S,U){var me=S+"";return xE(h,Zy(me,r3(Xy(me),U)))}function vN(h){var S=0,U=0;return function(){var me=d0(),ht=ot-(me-U);if(U=me,ht>0){if(++S>=Ve)return arguments[0]}else S=0;return h.apply(n,arguments)}}function n3(h,S){var U=-1,me=h.length,ht=me-1;for(S=S===n?me:S;++U<S;){var Wt=Nu(U,ht),_n=h[Wt];h[Wt]=h[U],h[U]=_n}return h.length=S,h}var z4=gN(function(h){var S=[];return h.charCodeAt(0)===46&&S.push(""),h.replace(oe,function(U,me,ht,Wt){S.push(ht?Wt.replace(xt,"$1"):me||U)}),S});function Mf(h){if(typeof h=="string"||od(h))return h;var S=h+"";return S=="0"&&1/h==-Pt?"-0":S}function Zx(h){if(h!=null){try{return vr.call(h)}catch{}try{return h+""}catch{}}return""}function r3(h,S){return Ms(pe,function(U){var me="_."+U[0];S&U[1]&&!Vo(h,me)&&h.push(me)}),h.sort()}function _N(h){if(h instanceof Qr)return h.clone();var S=new Li(h.__wrapped__,h.__chain__);return S.__actions__=Fe(h.__actions__),S.__index__=h.__index__,S.__values__=h.__values__,S}function gE(h,S,U){(U?If(h,S,U):S===n)?S=1:S=qo(Zs(S),0);var me=h==null?0:h.length;if(!me||S<1)return[];for(var ht=0,Wt=0,_n=bn(G0(me/S));ht<me;)_n[Wt++]=Cl(h,ht,ht+=S);return _n}function bN(h){for(var S=-1,U=h==null?0:h.length,me=0,ht=[];++S<U;){var Wt=h[S];Wt&&(ht[me++]=Wt)}return ht}function H4(){var h=arguments.length;if(!h)return[];for(var S=bn(h-1),U=arguments[0],me=h;me--;)S[me-1]=arguments[me];return Do(js(U)?Fe(U):[U],$a(S,1))}var EN=Ts(function(h,S){return Iu(h)?rl(h,$a(S,1,Iu,!0)):[]}),V4=Ts(function(h,S){var U=Yd(S);return Iu(U)&&(U=n),Iu(h)?rl(h,$a(S,1,Iu,!0),Dr(U,2)):[]}),SN=Ts(function(h,S){var U=Yd(S);return Iu(U)&&(U=n),Iu(h)?rl(h,$a(S,1,Iu,!0),n,U):[]});function xW(h,S,U){var me=h==null?0:h.length;return me?(S=U||S===n?1:Zs(S),Cl(h,S<0?0:S,me)):[]}function wN(h,S,U){var me=h==null?0:h.length;return me?(S=U||S===n?1:Zs(S),S=me-S,Cl(h,0,S<0?0:S)):[]}function gW(h,S){return h&&h.length?Hd(h,Dr(S,3),!0,!0):[]}function CN(h,S){return h&&h.length?Hd(h,Dr(S,3),!0):[]}function Fce(h,S,U,me){var ht=h==null?0:h.length;return ht?(U&&typeof U!="number"&&If(h,S,U)&&(U=0,me=ht),Oh(h,S,U,me)):[]}function m9(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var ht=U==null?0:Zs(U);return ht<0&&(ht=qo(me+ht,0)),aa(h,Dr(S,3),ht)}function bp(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var ht=me-1;return U!==n&&(ht=Zs(U),ht=U<0?qo(me+ht,0):Xo(ht,me-1)),aa(h,Dr(S,3),ht,!0)}function W4(h){var S=h==null?0:h.length;return S?$a(h,1):[]}function eg(h){var S=h==null?0:h.length;return S?$a(h,Pt):[]}function AN(h,S){var U=h==null?0:h.length;return U?(S=S===n?1:Zs(S),$a(h,S)):[]}function x9(h){for(var S=-1,U=h==null?0:h.length,me={};++S<U;){var ht=h[S];me[ht[0]]=ht[1]}return me}function yE(h){return h&&h.length?h[0]:n}function TN(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var ht=U==null?0:Zs(U);return ht<0&&(ht=qo(me+ht,0)),ua(h,S,ht)}function yW(h){var S=h==null?0:h.length;return S?Cl(h,0,-1):[]}var vW=Ts(function(h){var S=Ii(h,Yx);return S.length&&S[0]===h[0]?ff(S):[]}),vE=Ts(function(h){var S=Yd(h),U=Ii(h,Yx);return S===Yd(U)?S=n:U.pop(),U.length&&U[0]===h[0]?ff(U,Dr(S,2)):[]}),_W=Ts(function(h){var S=Yd(h),U=Ii(h,Yx);return S=typeof S=="function"?S:n,S&&U.pop(),U.length&&U[0]===h[0]?ff(U,n,S):[]});function g9(h,S){return h==null?"":c0.call(h,S)}function Yd(h){var S=h==null?0:h.length;return S?h[S-1]:n}function FN(h,S,U){var me=h==null?0:h.length;if(!me)return-1;var ht=me;return U!==n&&(ht=Zs(U),ht=ht<0?qo(me+ht,0):Xo(ht,me-1)),S===S?yi(h,S,ht):aa(h,$l,ht,!0)}function bW(h,S){return h&&h.length?Bc(h,Zs(S)):n}var y9=Ts(_E);function _E(h,S){return h&&h.length&&S&&S.length?Gy(h,S):h}function v9(h,S,U){return h&&h.length&&S&&S.length?Gy(h,S,Dr(U,2)):h}function DN(h,S,U){return h&&h.length&&S&&S.length?Gy(h,S,n,U):h}var ON=g0(function(h,S){var U=h==null?0:h.length,me=ed(h,S);return id(h,Ii(S,function(ht){return _p(ht,U)?+ht:ht}).sort(T)),me});function bE(h,S){var U=[];if(!(h&&h.length))return U;var me=-1,ht=[],Wt=h.length;for(S=Dr(S,3);++me<Wt;){var _n=h[me];S(_n,me,h)&&(U.push(_n),ht.push(me))}return id(h,ht),U}function EE(h){return h==null?h:Bd.call(h)}function SE(h,S,U){var me=h==null?0:h.length;return me?(U&&typeof U!="number"&&If(h,S,U)?(S=0,U=me):(S=S==null?0:Zs(S),U=U===n?me:Zs(U)),Cl(h,S,U)):[]}function EW(h,S){return zd(h,S)}function SW(h,S,U){return Ph(h,S,Dr(U,2))}function RN(h,S){var U=h==null?0:h.length;if(U){var me=zd(h,S);if(me<U&&Kd(h[me],S))return me}return-1}function NN(h,S){return zd(h,S,!0)}function LN(h,S,U){return Ph(h,S,Dr(U,2),!0)}function wW(h,S){var U=h==null?0:h.length;if(U){var me=zd(h,S,!0)-1;if(Kd(h[me],S))return me}return-1}function _9(h){return h&&h.length?Ky(h):[]}function CW(h,S){return h&&h.length?Ky(h,Dr(S,2)):[]}function AW(h){var S=h==null?0:h.length;return S?Cl(h,1,S):[]}function kN(h,S,U){return h&&h.length?(S=U||S===n?1:Zs(S),Cl(h,0,S<0?0:S)):[]}function TW(h,S,U){var me=h==null?0:h.length;return me?(S=U||S===n?1:Zs(S),S=me-S,Cl(h,S<0?0:S,me)):[]}function FW(h,S){return h&&h.length?Hd(h,Dr(S,3),!1,!0):[]}function DW(h,S){return h&&h.length?Hd(h,Dr(S,3)):[]}var OW=Ts(function(h){return kf($a(h,1,Iu,!0))}),IN=Ts(function(h){var S=Yd(h);return Iu(S)&&(S=n),kf($a(h,1,Iu,!0),Dr(S,2))}),RW=Ts(function(h){var S=Yd(h);return S=typeof S=="function"?S:n,kf($a(h,1,Iu,!0),n,S)});function MN(h){return h&&h.length?kf(h):[]}function b9(h,S){return h&&h.length?kf(h,Dr(S,2)):[]}function NW(h,S){return S=typeof S=="function"?S:n,h&&h.length?kf(h,n,S):[]}function E9(h){if(!(h&&h.length))return[];var S=0;return h=Ri(h,function(U){if(Iu(U))return S=qo(U.length,S),!0}),is(S,function(U){return Ii(h,Zu(U))})}function S9(h,S){if(!(h&&h.length))return[];var U=E9(h);return S==null?U:Ii(U,function(me){return Zi(S,n,me)})}var PN=Ts(function(h,S){return Iu(h)?rl(h,S):[]}),w9=Ts(function(h){return df(Ri(h,Iu))}),LW=Ts(function(h){var S=Yd(h);return Iu(S)&&(S=n),df(Ri(h,Iu),Dr(S,2))}),kW=Ts(function(h){var S=Yd(h);return S=typeof S=="function"?S:n,df(Ri(h,Iu),n,S)}),BN=Ts(E9);function jN(h,S){return Gx(h||[],S||[],lf)}function IW(h,S){return Gx(h||[],S||[],gp)}var MW=Ts(function(h){var S=h.length,U=S>1?h[S-1]:n;return U=typeof U=="function"?(h.pop(),U):n,S9(h,U)});function PW(h){var S=rt(h);return S.__chain__=!0,S}function qN(h,S){return S(h),h}function Q4(h,S){return S(h)}var BW=g0(function(h){var S=h.length,U=S?h[0]:0,me=this.__wrapped__,ht=function(Wt){return ed(Wt,h)};return S>1||this.__actions__.length||!(me instanceof Qr)||!_p(U)?this.thru(ht):(me=me.slice(U,+U+(S?1:0)),me.__actions__.push({func:Q4,args:[ht],thisArg:n}),new Li(me,this.__chain__).thru(function(Wt){return S&&!Wt.length&&Wt.push(n),Wt}))});function jW(){return PW(this)}function Ep(){return new Li(this.value(),this.__chain__)}function qW(){this.__values__===n&&(this.__values__=cL(this.value()));var h=this.__index__>=this.__values__.length,S=h?n:this.__values__[this.__index__++];return{done:h,value:S}}function C9(){return this}function A9(h){for(var S,U=this;U instanceof Qi;){var me=_N(U);me.__index__=0,me.__values__=n,S?ht.__wrapped__=me:S=me;var ht=me;U=U.__wrapped__}return ht.__wrapped__=h,S}function T9(){var h=this.__wrapped__;if(h instanceof Qr){var S=h;return this.__actions__.length&&(S=new Qr(this)),S=S.reverse(),S.__actions__.push({func:Q4,args:[EE],thisArg:n}),new Li(S,this.__chain__)}return this.thru(EE)}function UN(){return W1(this.__wrapped__,this.__actions__)}var UW=Sn(function(h,S,U){fr.call(h,U)?++h[U]:nl(h,U,1)});function F9(h,S,U){var me=js(h)?oa:Ud;return U&&If(h,S,U)&&(S=n),me(h,Dr(S,3))}function wE(h,S){var U=js(h)?Ri:hp;return U(h,Dr(S,3))}var D9=Ds(m9),$N=Ds(bp);function Sp(h,S){return $a(G4(h,S),1)}function zN(h,S){return $a(G4(h,S),Pt)}function HN(h,S,U){return U=U===n?1:Zs(U),$a(G4(h,S),U)}function $W(h,S){var U=js(h)?Ms:Pc;return U(h,Dr(S,3))}function VN(h,S){var U=js(h)?ma:Dh;return U(h,Dr(S,3))}var zW=Sn(function(h,S,U){fr.call(h,U)?h[U].push(S):nl(h,U,[S])});function O9(h,S,U,me){h=y0(h)?h:l3(h),U=U&&!me?Zs(U):0;var ht=h.length;return U<0&&(U=qo(ht+U,0)),X4(h)?U<=ht&&h.indexOf(S,U)>-1:!!ht&&ua(h,S,U)>-1}var CE=Ts(function(h,S,U){var me=-1,ht=typeof S=="function",Wt=y0(h)?bn(h.length):[];return Pc(h,function(_n){Wt[++me]=ht?Zi(S,_n,U):Ru(_n,S,U)}),Wt}),AE=Sn(function(h,S,U){nl(h,U,S)});function G4(h,S){var U=js(h)?Ii:ur;return U(h,Dr(S,3))}function Dce(h,S,U,me){return h==null?[]:(js(S)||(S=S==null?[]:[S]),U=me?n:U,js(U)||(U=U==null?[]:[U]),Nf(h,S,U))}var HW=Sn(function(h,S,U){h[U?0:1].push(S)},function(){return[[],[]]});function Y1(h,S,U){var me=js(h)?Na:rs,ht=arguments.length<3;return me(h,Dr(S,4),U,ht,Pc)}function WN(h,S,U){var me=js(h)?Ka:rs,ht=arguments.length<3;return me(h,Dr(S,4),U,ht,Dh)}function QN(h,S){var U=js(h)?Ri:hp;return U(h,FE(Dr(S,3)))}function VW(h){var S=js(h)?uf:p0;return S(h)}function WW(h,S,U){(U?If(h,S,U):S===n)?S=1:S=Zs(S);var me=js(h)?Wx:wl;return me(h,S)}function QW(h){var S=js(h)?Qx:H1;return S(h)}function GN(h){if(h==null)return 0;if(y0(h))return X4(h)?gi(h):h.length;var S=Eo(h);return S==_e||S==Ne?h.size:Be(h).length}function GW(h,S,U){var me=js(h)?Oo:Yy;return U&&If(h,S,U)&&(S=n),me(h,Dr(S,3))}var YW=Ts(function(h,S){if(h==null)return[];var U=S.length;return U>1&&If(h,S[0],S[1])?S=[]:U>2&&If(S[0],S[1],S[2])&&(S=[S[0]]),Nf(h,$a(S,1),[])}),Y4=Ah||function(){return us.Date.now()};function KW(h,S){if(typeof S!="function")throw new le(i);return h=Zs(h),function(){if(--h<1)return S.apply(this,arguments)}}function YN(h,S,U){return S=U?n:S,S=h&&S==null?h.length:S,sl(h,ue,n,n,n,n,S)}function KN(h,S){var U;if(typeof S!="function")throw new le(i);return h=Zs(h),function(){return--h>0&&(U=S.apply(this,arguments)),h<=1&&(S=n),U}}var R9=Ts(function(h,S,U){var me=R;if(U.length){var ht=pi(U,G1(R9));me|=P}return sl(h,me,S,U,ht)}),JN=Ts(function(h,S,U){var me=R|q;if(U.length){var ht=pi(U,G1(JN));me|=P}return sl(S,me,h,U,ht)});function XN(h,S,U){S=U?n:S;var me=sl(h,L,n,n,n,n,n,S);return me.placeholder=XN.placeholder,me}function K4(h,S,U){S=U?n:S;var me=sl(h,B,n,n,n,n,n,S);return me.placeholder=K4.placeholder,me}function ZN(h,S,U){var me,ht,Wt,_n,On,Qn,Sr=0,Tr=!1,Pr=!1,wi=!0;if(typeof h!="function")throw new le(i);S=al(S)||0,eu(U)&&(Tr=!!U.leading,Pr="maxWait"in U,Wt=Pr?qo(al(U.maxWait)||0,S):Wt,wi="trailing"in U?!!U.trailing:wi);function Ji(Bu){var ld=me,Xd=ht;return me=ht=n,Sr=Bu,_n=h.apply(Xd,ld),_n}function ys(Bu){return Sr=Bu,On=xu(So,S),Tr?Ji(Bu):_n}function mo(Bu){var ld=Bu-Qn,Xd=Bu-Sr,nA=S-ld;return Pr?Xo(nA,Wt-Xd):nA}function Es(Bu){var ld=Bu-Qn,Xd=Bu-Sr;return Qn===n||ld>=S||ld<0||Pr&&Xd>=Wt}function So(){var Bu=Y4();if(Es(Bu))return Io(Bu);On=xu(So,mo(Bu))}function Io(Bu){return On=n,wi&&me?Ji(Bu):(me=ht=n,_n)}function ad(){On!==n&&y(On),Sr=0,me=Qn=ht=On=n}function jf(){return On===n?_n:Io(Y4())}function ud(){var Bu=Y4(),ld=Es(Bu);if(me=arguments,ht=this,Qn=Bu,ld){if(On===n)return ys(Qn);if(Pr)return y(On),On=xu(So,S),Ji(Qn)}return On===n&&(On=xu(So,S)),_n}return ud.cancel=ad,ud.flush=jf,ud}var JW=Ts(function(h,S){return $1(h,1,S)}),N9=Ts(function(h,S,U){return $1(h,al(S)||0,U)});function XW(h){return sl(h,J)}function TE(h,S){if(typeof h!="function"||S!=null&&typeof S!="function")throw new le(i);var U=function(){var me=arguments,ht=S?S.apply(this,me):me[0],Wt=U.cache;if(Wt.has(ht))return Wt.get(ht);var _n=h.apply(this,me);return U.cache=Wt.set(ht,_n)||Wt,_n};return U.cache=new(TE.Cache||Ic),U}TE.Cache=Ic;function FE(h){if(typeof h!="function")throw new le(i);return function(){var S=arguments;switch(S.length){case 0:return!h.call(this);case 1:return!h.call(this,S[0]);case 2:return!h.call(this,S[0],S[1]);case 3:return!h.call(this,S[0],S[1],S[2])}return!h.apply(this,S)}}function ZW(h){return KN(2,h)}var i3=q4(function(h,S){S=S.length==1&&js(S[0])?Ii(S[0],Jt(Dr())):Ii($a(S,1),Jt(Dr()));var U=S.length;return Ts(function(me){for(var ht=-1,Wt=Xo(me.length,U);++ht<Wt;)me[ht]=S[ht].call(this,me[ht]);return Zi(h,this,me)})}),DE=Ts(function(h,S){var U=pi(S,G1(DE));return sl(h,P,n,S,U)}),eL=Ts(function(h,S){var U=pi(S,G1(eL));return sl(h,G,n,S,U)}),tL=g0(function(h,S){return sl(h,I,n,n,n,S)});function eQ(h,S){if(typeof h!="function")throw new le(i);return S=S===n?S:Zs(S),Ts(h,S)}function tQ(h,S){if(typeof h!="function")throw new le(i);return S=S==null?0:qo(Zs(S),0),Ts(function(U){var me=U[S],ht=sd(U,0,S);return me&&Do(ht,me),Zi(h,this,ht)})}function L9(h,S,U){var me=!0,ht=!0;if(typeof h!="function")throw new le(i);return eu(U)&&(me="leading"in U?!!U.leading:me,ht="trailing"in U?!!U.trailing:ht),ZN(h,S,{leading:me,maxWait:S,trailing:ht})}function nL(h){return YN(h,1)}function nQ(h,S){return DE(lc(S),h)}function rQ(){if(!arguments.length)return[];var h=arguments[0];return js(h)?h:[h]}function k9(h){return Sl(h,_)}function I9(h,S){return S=typeof S=="function"?S:n,Sl(h,_,S)}function rL(h){return Sl(h,f|_)}function iL(h,S){return S=typeof S=="function"?S:n,Sl(h,f|_,S)}function sL(h,S){return S==null||pu(h,S,Pu(S))}function Kd(h,S){return h===S||h!==h&&S!==S}var iQ=bs(kh),sQ=bs(function(h,S){return h>=S}),t2=mp(function(){return arguments}())?mp:function(h){return Mu(h)&&fr.call(h,"callee")&&!a0.call(h,"callee")},js=bn.isArray,M9=Jo?Jt(Jo):il;function y0(h){return h!=null&&OE(h.length)&&!K1(h)}function Iu(h){return Mu(h)&&y0(h)}function oQ(h){return h===!0||h===!1||Mu(h)&&va(h)==Ct}var n2=kc||BE,aQ=fa?Jt(fa):Ih;function uQ(h){return Mu(h)&&h.nodeType===1&&!s3(h)}function lQ(h){if(h==null)return!0;if(y0(h)&&(js(h)||typeof h=="string"||typeof h.splice=="function"||n2(h)||o3(h)||t2(h)))return!h.length;var S=Eo(h);if(S==_e||S==Ne)return!h.size;if(U4(h))return!Be(h).length;for(var U in h)if(fr.call(h,U))return!1;return!0}function cQ(h,S){return $d(h,S)}function fQ(h,S,U){U=typeof U=="function"?U:n;var me=U?U(h,S):n;return me===n?$d(h,S,n,U):!!me}function P9(h){if(!Mu(h))return!1;var S=va(h);return S==Ot||S==Tt||typeof h.message=="string"&&typeof h.name=="string"&&!s3(h)}function dQ(h){return typeof h=="number"&&l0(h)}function K1(h){if(!eu(h))return!1;var S=va(h);return S==rn||S==St||S==Ht||S==Ie}function oL(h){return typeof h=="number"&&h==Zs(h)}function OE(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=$e}function eu(h){var S=typeof h;return h!=null&&(S=="object"||S=="function")}function Mu(h){return h!=null&&typeof h=="object"}var aL=da?Jt(da):xp;function hQ(h,S){return h===S||Rf(h,S,bo(S))}function pQ(h,S,U){return U=typeof U=="function"?U:n,Rf(h,S,bo(S),U)}function mQ(h){return B9(h)&&h!=+h}function xQ(h){if(pW(h))throw new Ti(r);return rd(h)}function gQ(h){return h===null}function uL(h){return h==null}function B9(h){return typeof h=="number"||Mu(h)&&va(h)==ke}function s3(h){if(!Mu(h)||va(h)!=ce)return!1;var S=ic(h);if(S===null)return!0;var U=fr.call(S,"constructor")&&S.constructor;return typeof U=="function"&&U instanceof U&&vr.call(U)==so}var J4=ho?Jt(ho):Js;function j9(h){return oL(h)&&h>=-$e&&h<=$e}var q9=ls?Jt(ls):A;function X4(h){return typeof h=="string"||!js(h)&&Mu(h)&&va(h)==ct}function od(h){return typeof h=="symbol"||Mu(h)&&va(h)==_t}var o3=ps?Jt(ps):W;function yQ(h){return h===n}function vQ(h){return Mu(h)&&Eo(h)==Yt}function lL(h){return Mu(h)&&va(h)==Gt}var _Q=bs(Tn),bQ=bs(function(h,S){return h<=S});function cL(h){if(!h)return[];if(y0(h))return X4(h)?os(h):Fe(h);if(u0&&h[u0])return Rr(h[u0]());var S=Eo(h),U=S==_e?di:S==Ne?ii:l3;return U(h)}function J1(h){if(!h)return h===0?h:0;if(h=al(h),h===Pt||h===-Pt){var S=h<0?-1:1;return S*te}return h===h?h:0}function Zs(h){var S=J1(h),U=S%1;return S===S?U?S-U:S:0}function wp(h){return h?Of(Zs(h),0,ye):0}function al(h){if(typeof h=="number")return h;if(od(h))return Ze;if(eu(h)){var S=typeof h.valueOf=="function"?h.valueOf():h;h=eu(S)?S+"":S}if(typeof h!="string")return h===0?h:+h;h=gt(h);var U=we.test(h);return U||it.test(h)?Cs(h.slice(2),U?2:8):ne.test(h)?Ze:+h}function v0(h){return st(h,_0(h))}function fL(h){return h?Of(Zs(h),-$e,$e):h===0?h:0}function Wo(h){return h==null?"":Al(h)}var r2=Pn(function(h,S){if(U4(S)||y0(S)){st(S,Pu(S),h);return}for(var U in S)fr.call(S,U)&&lf(h,U,S[U])}),dL=Pn(function(h,S){st(S,_0(S),h)}),X1=Pn(function(h,S,U,me){st(S,_0(S),h,me)}),Z4=Pn(function(h,S,U,me){st(S,Pu(S),h,me)}),hL=g0(ed);function i2(h,S){var U=Fi(h);return S==null?U:fp(U,S)}var pL=Ts(function(h,S){h=Hi(h);var U=-1,me=S.length,ht=me>2?S[2]:n;for(ht&&If(S[0],S[1],ht)&&(me=1);++U<me;)for(var Wt=S[U],_n=_0(Wt),On=-1,Qn=_n.length;++On<Qn;){var Sr=_n[On],Tr=h[Sr];(Tr===n||Kd(Tr,Dn[Sr])&&!fr.call(h,Sr))&&(h[Sr]=Wt[Sr])}return h}),mL=Ts(function(h){return h.push(n,_a),Zi(H9,n,h)});function U9(h,S){return Ua(h,Dr(S,3),Ia)}function Pa(h,S){return Ua(h,Dr(S,3),Nh)}function tg(h,S){return h==null?h:Rh(h,Dr(S,3),_0)}function EQ(h,S){return h==null?h:td(h,Dr(S,3),_0)}function SQ(h,S){return h&&Ia(h,Dr(S,3))}function wQ(h,S){return h&&Nh(h,Dr(S,3))}function CQ(h){return h==null?[]:Ou(h,Pu(h))}function xL(h){return h==null?[]:Ou(h,_0(h))}function $9(h,S,U){var me=h==null?n:Xa(h,S);return me===n?U:me}function AQ(h,S){return h!=null&&Ls(h,S,pp)}function e_(h,S){return h!=null&&Ls(h,S,h0)}var ba=gs(function(h,S,U){S!=null&&typeof S.toString!="function"&&(S=Ns.call(S)),h[S]=U},IE(Bf)),Pf=gs(function(h,S,U){S!=null&&typeof S.toString!="function"&&(S=Ns.call(S)),fr.call(h,S)?h[S].push(U):h[S]=[U]},Dr),Cp=Ts(Ru);function Pu(h){return y0(h)?Z0(h):Be(h)}function _0(h){return y0(h)?Z0(h,!0):wt(h)}function TQ(h,S){var U={};return S=Dr(S,3),Ia(h,function(me,ht,Wt){nl(U,S(me,ht,Wt),me)}),U}function s2(h,S){var U={};return S=Dr(S,3),Ia(h,function(me,ht,Wt){nl(U,ht,S(me,ht,Wt))}),U}var z9=Pn(function(h,S,U){oo(h,S,U)}),H9=Pn(function(h,S,U,me){oo(h,S,U,me)}),a3=g0(function(h,S){var U={};if(h==null)return U;var me=!1;S=Ii(S,function(Wt){return Wt=m0(Wt,h),me||(me=Wt.length>1),Wt}),st(h,Jy(h),U),me&&(U=Sl(U,f|p|_,cc));for(var ht=S.length;ht--;)V1(U,S[ht]);return U});function V9(h,S){return gL(h,FE(Dr(S)))}var FQ=g0(function(h,S){return h==null?{}:dE(h,S)});function gL(h,S){if(h==null)return{};var U=Ii(Jy(h),function(me){return[me]});return S=Dr(S),Qy(h,U,function(me,ht){return S(me,ht[0])})}function yL(h,S,U){S=m0(S,h);var me=-1,ht=S.length;for(ht||(ht=1,h=n);++me<ht;){var Wt=h==null?n:h[Mf(S[me])];Wt===n&&(me=ht,Wt=U),h=K1(Wt)?Wt.call(h):Wt}return h}function DQ(h,S,U){return h==null?h:gp(h,S,U)}function u3(h,S,U,me){return me=typeof me=="function"?me:n,h==null?h:gp(h,S,U,me)}var RE=Vd(Pu),t_=Vd(_0);function vL(h,S,U){var me=js(h),ht=me||n2(h)||o3(h);if(S=Dr(S,4),U==null){var Wt=h&&h.constructor;ht?U=me?new Wt:[]:eu(h)?U=K1(Wt)?Fi(ic(h)):{}:U={}}return(ht?Ms:Ia)(h,function(_n,On,Qn){return S(U,_n,On,Qn)}),U}function _L(h,S){return h==null?!0:V1(h,S)}function bL(h,S,U){return h==null?h:yp(h,S,lc(U))}function OQ(h,S,U,me){return me=typeof me=="function"?me:n,h==null?h:yp(h,S,lc(U),me)}function l3(h){return h==null?[]:$t(h,Pu(h))}function RQ(h){return h==null?[]:$t(h,_0(h))}function dc(h,S,U){return U===n&&(U=S,S=n),U!==n&&(U=al(U),U=U===U?U:0),S!==n&&(S=al(S),S=S===S?S:0),Of(al(h),S,U)}function EL(h,S,U){return S=J1(S),U===n?(U=S,S=0):U=J1(U),h=al(h),nd(h,S,U)}function NQ(h,S,U){if(U&&typeof U!="boolean"&&If(h,S,U)&&(S=U=n),U===n&&(typeof S=="boolean"?(U=S,S=n):typeof h=="boolean"&&(U=h,h=n)),h===n&&S===n?(h=0,S=1):(h=J1(h),S===n?(S=h,h=0):S=J1(S)),h>S){var me=h;h=S,S=me}if(U||h%1||S%1){var ht=sf();return Xo(h+ht*(S-h+Xr("1e-"+((ht+"").length-1))),S)}return Nu(h,S)}var n_=Lr(function(h,S,U){return S=S.toLowerCase(),h+(U?jc(S):S)});function jc(h){return kE(Wo(h).toLowerCase())}function SL(h){return h=Wo(h),h&&h.replace(sn,br).replace(cu,"")}function W9(h,S,U){h=Wo(h),S=Al(S);var me=h.length;U=U===n?me:Of(Zs(U),0,me);var ht=U;return U-=S.length,U>=0&&h.slice(U,ht)==S}function LQ(h){return h=Wo(h),h&&Wn.test(h)?h.replace(Qt,Cr):h}function kQ(h){return h=Wo(h),h&&nt.test(h)?h.replace(je,"\\$&"):h}var wL=Lr(function(h,S,U){return h+(U?"-":"")+S.toLowerCase()}),NE=Lr(function(h,S,U){return h+(U?" ":"")+S.toLowerCase()}),CL=Kr("toLowerCase");function IQ(h,S,U){h=Wo(h),S=Zs(S);var me=S?gi(h):0;if(!S||me>=S)return h;var ht=(S-me)/2;return Ma(rf(ht),U)+h+Ma(G0(ht),U)}function MQ(h,S,U){h=Wo(h),S=Zs(S);var me=S?gi(h):0;return S&&me<S?h+Ma(S-me,U):h}function LE(h,S,U){h=Wo(h),S=Zs(S);var me=S?gi(h):0;return S&&me<S?Ma(S-me,U)+h:h}function o2(h,S,U){return U||S==null?S=0:S&&(S=+S),vl(Wo(h).replace(Rt,""),S||0)}function PQ(h,S,U){return(U?If(h,S,U):S===n)?S=1:S=Zs(S),Mh(Wo(h),S)}function BQ(){var h=arguments,S=Wo(h[0]);return h.length<3?S:S.replace(h[1],h[2])}var r_=Lr(function(h,S,U){return h+(U?"_":"")+S.toLowerCase()});function jQ(h,S,U){return U&&typeof U!="number"&&If(h,S,U)&&(S=U=n),U=U===n?ye:U>>>0,U?(h=Wo(h),h&&(typeof S=="string"||S!=null&&!J4(S))&&(S=Al(S),!S&&er(h))?sd(os(h),0,U):h.split(S,U)):[]}var AL=Lr(function(h,S,U){return h+(U?" ":"")+kE(S)});function qQ(h,S,U){return h=Wo(h),U=U==null?0:Of(Zs(U),0,h.length),S=Al(S),h.slice(U,U+S.length)==S}function Jd(h,S,U){var me=rt.templateSettings;U&&If(h,S,U)&&(S=n),h=Wo(h),S=X1({},S,me,x0);var ht=X1({},S.imports,me.imports,x0),Wt=Pu(ht),_n=$t(ht,Wt),On,Qn,Sr=0,Tr=S.interpolate||Cn,Pr="__p += '",wi=fs((S.escape||Cn).source+"|"+Tr.source+"|"+(Tr===nr?Et:Cn).source+"|"+(S.evaluate||Cn).source+"|$","g"),Ji="//# sourceURL="+(fr.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ef+"]")+`
`;h.replace(wi,function(Es,So,Io,ad,jf,ud){return Io||(Io=ad),Pr+=h.slice(Sr,ud).replace(En,Gn),So&&(On=!0,Pr+=`' +
__e(`+So+`) +
'`),jf&&(Qn=!0,Pr+=`';
`+jf+`;
__p += '`),Io&&(Pr+=`' +
((__t = (`+Io+`)) == null ? '' : __t) +
'`),Sr=ud+Es.length,Es}),Pr+=`';
`;var ys=fr.call(S,"variable")&&S.variable;if(!ys)Pr=`with (obj) {
`+Pr+`
}
`;else if(Ue.test(ys))throw new Ti(s);Pr=(Qn?Pr.replace(Bt,""):Pr).replace(pt,"$1").replace(mt,"$1;"),Pr="function("+(ys||"obj")+`) {
`+(ys?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(On?", __e = _.escape":"")+(Qn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pr+`return __p
}`;var mo=Y9(function(){return ns(Wt,Ji+"return "+Pr).apply(n,_n)});if(mo.source=Pr,P9(mo))throw mo;return mo}function TL(h){return Wo(h).toLowerCase()}function UQ(h){return Wo(h).toUpperCase()}function $Q(h,S,U){if(h=Wo(h),h&&(U||S===n))return gt(h);if(!h||!(S=Al(S)))return h;var me=os(h),ht=os(S),Wt=Ln(me,ht),_n=Kn(me,ht)+1;return sd(me,Wt,_n).join("")}function Q9(h,S,U){if(h=Wo(h),h&&(U||S===n))return h.slice(0,xs(h)+1);if(!h||!(S=Al(S)))return h;var me=os(h),ht=Kn(me,os(S))+1;return sd(me,0,ht).join("")}function zQ(h,S,U){if(h=Wo(h),h&&(U||S===n))return h.replace(Rt,"");if(!h||!(S=Al(S)))return h;var me=os(h),ht=Ln(me,os(S));return sd(me,ht).join("")}function FL(h,S){var U=he,me=ve;if(eu(S)){var ht="separator"in S?S.separator:ht;U="length"in S?Zs(S.length):U,me="omission"in S?Al(S.omission):me}h=Wo(h);var Wt=h.length;if(er(h)){var _n=os(h);Wt=_n.length}if(U>=Wt)return h;var On=U-gi(me);if(On<1)return me;var Qn=_n?sd(_n,0,On).join(""):h.slice(0,On);if(ht===n)return Qn+me;if(_n&&(On+=Qn.length-On),J4(ht)){if(h.slice(On).search(ht)){var Sr,Tr=Qn;for(ht.global||(ht=fs(ht.source,Wo(Nt.exec(ht))+"g")),ht.lastIndex=0;Sr=ht.exec(Tr);)var Pr=Sr.index;Qn=Qn.slice(0,Pr===n?On:Pr)}}else if(h.indexOf(Al(ht),On)!=On){var wi=Qn.lastIndexOf(ht);wi>-1&&(Qn=Qn.slice(0,wi))}return Qn+me}function G9(h){return h=Wo(h),h&&Fn.test(h)?h.replace(nn,vi):h}var DL=Lr(function(h,S,U){return h+(U?" ":"")+S.toUpperCase()}),kE=Kr("toUpperCase");function i_(h,S,U){return h=Wo(h),S=U?n:S,S===n?gr(h)?xa(h):du(h):h.match(S)||[]}var Y9=Ts(function(h,S){try{return Zi(h,n,S)}catch(U){return P9(U)?U:new Ti(U)}}),HQ=g0(function(h,S){return Ms(S,function(U){U=Mf(U),nl(h,U,R9(h[U],h))}),h});function OL(h){var S=h==null?0:h.length,U=Dr();return h=S?Ii(h,function(me){if(typeof me[1]!="function")throw new le(i);return[U(me[0]),me[1]]}):[],Ts(function(me){for(var ht=-1;++ht<S;){var Wt=h[ht];if(Zi(Wt[0],this,me))return Zi(Wt[1],this,me)}})}function VQ(h){return dp(Sl(h,f))}function IE(h){return function(){return h}}function RL(h,S){return h==null||h!==h?S:h}var WQ=ds(),NL=ds(!0);function Bf(h){return h}function ME(h){return de(typeof h=="function"?h:Sl(h,f))}function QQ(h){return $i(Sl(h,f))}function LL(h,S){return Bi(h,Sl(S,f))}var ng=Ts(function(h,S){return function(U){return Ru(U,h,S)}}),a2=Ts(function(h,S){return function(U){return Ru(h,U,S)}});function K9(h,S,U){var me=Pu(S),ht=Ou(S,me);U==null&&!(eu(S)&&(ht.length||!me.length))&&(U=S,S=h,h=this,ht=Ou(S,Pu(S)));var Wt=!(eu(U)&&"chain"in U)||!!U.chain,_n=K1(h);return Ms(ht,function(On){var Qn=S[On];h[On]=Qn,_n&&(h.prototype[On]=function(){var Sr=this.__chain__;if(Wt||Sr){var Tr=h(this.__wrapped__),Pr=Tr.__actions__=Fe(this.__actions__);return Pr.push({func:Qn,args:arguments,thisArg:h}),Tr.__chain__=Sr,Tr}return Qn.apply(h,Do([this.value()],arguments))})}),h}function kL(){return us._===this&&(us._=Ja),this}function c3(){}function GQ(h){return h=Zs(h),Ts(function(S){return Bc(S,h)})}var f3=Ki(Ii),J9=Ki(oa),IL=Ki(Oo);function PE(h){return d9(h)?Zu(Mf(h)):B4(h)}function ML(h){return function(S){return h==null?n:Xa(h,S)}}var PL=ku(),d3=ku(!0);function X9(){return[]}function BE(){return!1}function BL(){return{}}function YQ(){return""}function jE(){return!0}function KQ(h,S){if(h=Zs(h),h<1||h>$e)return[];var U=ye,me=Xo(h,ye);S=Dr(S),h-=ye;for(var ht=is(me,S);++U<h;)S(U);return ht}function Z9(h){return js(h)?Ii(h,Mf):od(h)?[h]:Fe(z4(Wo(h)))}function s_(h){var S=++es;return Wo(h)+S}var jL=Gr(function(h,S){return h+S},0),JQ=za("ceil"),qL=Gr(function(h,S){return h/S},1),XQ=za("floor");function ZQ(h){return h&&h.length?cf(h,Bf,kh):n}function eA(h,S){return h&&h.length?cf(h,Dr(S,2),kh):n}function UL(h){return ta(h,Bf)}function eG(h,S){return ta(h,Dr(S,2))}function tG(h){return h&&h.length?cf(h,Bf,Tn):n}function nG(h,S){return h&&h.length?cf(h,Dr(S,2),Tn):n}var tA=Gr(function(h,S){return h*S},1),$L=za("round"),zL=Gr(function(h,S){return h-S},0);function rG(h){return h&&h.length?mr(h,Bf):0}function iG(h,S){return h&&h.length?mr(h,Dr(S,2)):0}return rt.after=KW,rt.ary=YN,rt.assign=r2,rt.assignIn=dL,rt.assignInWith=X1,rt.assignWith=Z4,rt.at=hL,rt.before=KN,rt.bind=R9,rt.bindAll=HQ,rt.bindKey=JN,rt.castArray=rQ,rt.chain=PW,rt.chunk=gE,rt.compact=bN,rt.concat=H4,rt.cond=OL,rt.conforms=VQ,rt.constant=IE,rt.countBy=UW,rt.create=i2,rt.curry=XN,rt.curryRight=K4,rt.debounce=ZN,rt.defaults=pL,rt.defaultsDeep=mL,rt.defer=JW,rt.delay=N9,rt.difference=EN,rt.differenceBy=V4,rt.differenceWith=SN,rt.drop=xW,rt.dropRight=wN,rt.dropRightWhile=gW,rt.dropWhile=CN,rt.fill=Fce,rt.filter=wE,rt.flatMap=Sp,rt.flatMapDeep=zN,rt.flatMapDepth=HN,rt.flatten=W4,rt.flattenDeep=eg,rt.flattenDepth=AN,rt.flip=XW,rt.flow=WQ,rt.flowRight=NL,rt.fromPairs=x9,rt.functions=CQ,rt.functionsIn=xL,rt.groupBy=zW,rt.initial=yW,rt.intersection=vW,rt.intersectionBy=vE,rt.intersectionWith=_W,rt.invert=ba,rt.invertBy=Pf,rt.invokeMap=CE,rt.iteratee=ME,rt.keyBy=AE,rt.keys=Pu,rt.keysIn=_0,rt.map=G4,rt.mapKeys=TQ,rt.mapValues=s2,rt.matches=QQ,rt.matchesProperty=LL,rt.memoize=TE,rt.merge=z9,rt.mergeWith=H9,rt.method=ng,rt.methodOf=a2,rt.mixin=K9,rt.negate=FE,rt.nthArg=GQ,rt.omit=a3,rt.omitBy=V9,rt.once=ZW,rt.orderBy=Dce,rt.over=f3,rt.overArgs=i3,rt.overEvery=J9,rt.overSome=IL,rt.partial=DE,rt.partialRight=eL,rt.partition=HW,rt.pick=FQ,rt.pickBy=gL,rt.property=PE,rt.propertyOf=ML,rt.pull=y9,rt.pullAll=_E,rt.pullAllBy=v9,rt.pullAllWith=DN,rt.pullAt=ON,rt.range=PL,rt.rangeRight=d3,rt.rearg=tL,rt.reject=QN,rt.remove=bE,rt.rest=eQ,rt.reverse=EE,rt.sampleSize=WW,rt.set=DQ,rt.setWith=u3,rt.shuffle=QW,rt.slice=SE,rt.sortBy=YW,rt.sortedUniq=_9,rt.sortedUniqBy=CW,rt.split=jQ,rt.spread=tQ,rt.tail=AW,rt.take=kN,rt.takeRight=TW,rt.takeRightWhile=FW,rt.takeWhile=DW,rt.tap=qN,rt.throttle=L9,rt.thru=Q4,rt.toArray=cL,rt.toPairs=RE,rt.toPairsIn=t_,rt.toPath=Z9,rt.toPlainObject=v0,rt.transform=vL,rt.unary=nL,rt.union=OW,rt.unionBy=IN,rt.unionWith=RW,rt.uniq=MN,rt.uniqBy=b9,rt.uniqWith=NW,rt.unset=_L,rt.unzip=E9,rt.unzipWith=S9,rt.update=bL,rt.updateWith=OQ,rt.values=l3,rt.valuesIn=RQ,rt.without=PN,rt.words=i_,rt.wrap=nQ,rt.xor=w9,rt.xorBy=LW,rt.xorWith=kW,rt.zip=BN,rt.zipObject=jN,rt.zipObjectDeep=IW,rt.zipWith=MW,rt.entries=RE,rt.entriesIn=t_,rt.extend=dL,rt.extendWith=X1,K9(rt,rt),rt.add=jL,rt.attempt=Y9,rt.camelCase=n_,rt.capitalize=jc,rt.ceil=JQ,rt.clamp=dc,rt.clone=k9,rt.cloneDeep=rL,rt.cloneDeepWith=iL,rt.cloneWith=I9,rt.conformsTo=sL,rt.deburr=SL,rt.defaultTo=RL,rt.divide=qL,rt.endsWith=W9,rt.eq=Kd,rt.escape=LQ,rt.escapeRegExp=kQ,rt.every=F9,rt.find=D9,rt.findIndex=m9,rt.findKey=U9,rt.findLast=$N,rt.findLastIndex=bp,rt.findLastKey=Pa,rt.floor=XQ,rt.forEach=$W,rt.forEachRight=VN,rt.forIn=tg,rt.forInRight=EQ,rt.forOwn=SQ,rt.forOwnRight=wQ,rt.get=$9,rt.gt=iQ,rt.gte=sQ,rt.has=AQ,rt.hasIn=e_,rt.head=yE,rt.identity=Bf,rt.includes=O9,rt.indexOf=TN,rt.inRange=EL,rt.invoke=Cp,rt.isArguments=t2,rt.isArray=js,rt.isArrayBuffer=M9,rt.isArrayLike=y0,rt.isArrayLikeObject=Iu,rt.isBoolean=oQ,rt.isBuffer=n2,rt.isDate=aQ,rt.isElement=uQ,rt.isEmpty=lQ,rt.isEqual=cQ,rt.isEqualWith=fQ,rt.isError=P9,rt.isFinite=dQ,rt.isFunction=K1,rt.isInteger=oL,rt.isLength=OE,rt.isMap=aL,rt.isMatch=hQ,rt.isMatchWith=pQ,rt.isNaN=mQ,rt.isNative=xQ,rt.isNil=uL,rt.isNull=gQ,rt.isNumber=B9,rt.isObject=eu,rt.isObjectLike=Mu,rt.isPlainObject=s3,rt.isRegExp=J4,rt.isSafeInteger=j9,rt.isSet=q9,rt.isString=X4,rt.isSymbol=od,rt.isTypedArray=o3,rt.isUndefined=yQ,rt.isWeakMap=vQ,rt.isWeakSet=lL,rt.join=g9,rt.kebabCase=wL,rt.last=Yd,rt.lastIndexOf=FN,rt.lowerCase=NE,rt.lowerFirst=CL,rt.lt=_Q,rt.lte=bQ,rt.max=ZQ,rt.maxBy=eA,rt.mean=UL,rt.meanBy=eG,rt.min=tG,rt.minBy=nG,rt.stubArray=X9,rt.stubFalse=BE,rt.stubObject=BL,rt.stubString=YQ,rt.stubTrue=jE,rt.multiply=tA,rt.nth=bW,rt.noConflict=kL,rt.noop=c3,rt.now=Y4,rt.pad=IQ,rt.padEnd=MQ,rt.padStart=LE,rt.parseInt=o2,rt.random=NQ,rt.reduce=Y1,rt.reduceRight=WN,rt.repeat=PQ,rt.replace=BQ,rt.result=yL,rt.round=$L,rt.runInContext=tn,rt.sample=VW,rt.size=GN,rt.snakeCase=r_,rt.some=GW,rt.sortedIndex=EW,rt.sortedIndexBy=SW,rt.sortedIndexOf=RN,rt.sortedLastIndex=NN,rt.sortedLastIndexBy=LN,rt.sortedLastIndexOf=wW,rt.startCase=AL,rt.startsWith=qQ,rt.subtract=zL,rt.sum=rG,rt.sumBy=iG,rt.template=Jd,rt.times=KQ,rt.toFinite=J1,rt.toInteger=Zs,rt.toLength=wp,rt.toLower=TL,rt.toNumber=al,rt.toSafeInteger=fL,rt.toString=Wo,rt.toUpper=UQ,rt.trim=$Q,rt.trimEnd=Q9,rt.trimStart=zQ,rt.truncate=FL,rt.unescape=G9,rt.uniqueId=s_,rt.upperCase=DL,rt.upperFirst=kE,rt.each=$W,rt.eachRight=VN,rt.first=yE,K9(rt,function(){var h={};return Ia(rt,function(S,U){fr.call(rt.prototype,U)||(h[U]=S)}),h}(),{chain:!1}),rt.VERSION=e,Ms(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){rt[h].placeholder=rt}),Ms(["drop","take"],function(h,S){Qr.prototype[h]=function(U){U=U===n?1:qo(Zs(U),0);var me=this.__filtered__&&!S?new Qr(this):this.clone();return me.__filtered__?me.__takeCount__=Xo(U,me.__takeCount__):me.__views__.push({size:Xo(U,ye),type:h+(me.__dir__<0?"Right":"")}),me},Qr.prototype[h+"Right"]=function(U){return this.reverse()[h](U).reverse()}}),Ms(["filter","map","takeWhile"],function(h,S){var U=S+1,me=U==lt||U==bt;Qr.prototype[h]=function(ht){var Wt=this.clone();return Wt.__iteratees__.push({iteratee:Dr(ht,3),type:U}),Wt.__filtered__=Wt.__filtered__||me,Wt}}),Ms(["head","last"],function(h,S){var U="take"+(S?"Right":"");Qr.prototype[h]=function(){return this[U](1).value()[0]}}),Ms(["initial","tail"],function(h,S){var U="drop"+(S?"":"Right");Qr.prototype[h]=function(){return this.__filtered__?new Qr(this):this[U](1)}}),Qr.prototype.compact=function(){return this.filter(Bf)},Qr.prototype.find=function(h){return this.filter(h).head()},Qr.prototype.findLast=function(h){return this.reverse().find(h)},Qr.prototype.invokeMap=Ts(function(h,S){return typeof h=="function"?new Qr(this):this.map(function(U){return Ru(U,h,S)})}),Qr.prototype.reject=function(h){return this.filter(FE(Dr(h)))},Qr.prototype.slice=function(h,S){h=Zs(h);var U=this;return U.__filtered__&&(h>0||S<0)?new Qr(U):(h<0?U=U.takeRight(-h):h&&(U=U.drop(h)),S!==n&&(S=Zs(S),U=S<0?U.dropRight(-S):U.take(S-h)),U)},Qr.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Qr.prototype.toArray=function(){return this.take(ye)},Ia(Qr.prototype,function(h,S){var U=/^(?:filter|find|map|reject)|While$/.test(S),me=/^(?:head|last)$/.test(S),ht=rt[me?"take"+(S=="last"?"Right":""):S],Wt=me||/^find/.test(S);!ht||(rt.prototype[S]=function(){var _n=this.__wrapped__,On=me?[1]:arguments,Qn=_n instanceof Qr,Sr=On[0],Tr=Qn||js(_n),Pr=function(So){var Io=ht.apply(rt,Do([So],On));return me&&wi?Io[0]:Io};Tr&&U&&typeof Sr=="function"&&Sr.length!=1&&(Qn=Tr=!1);var wi=this.__chain__,Ji=!!this.__actions__.length,ys=Wt&&!wi,mo=Qn&&!Ji;if(!Wt&&Tr){_n=mo?_n:new Qr(this);var Es=h.apply(_n,On);return Es.__actions__.push({func:Q4,args:[Pr],thisArg:n}),new Li(Es,wi)}return ys&&mo?h.apply(this,On):(Es=this.thru(Pr),ys?me?Es.value()[0]:Es.value():Es)})}),Ms(["pop","push","shift","sort","splice","unshift"],function(h){var S=at[h],U=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",me=/^(?:pop|shift)$/.test(h);rt.prototype[h]=function(){var ht=arguments;if(me&&!this.__chain__){var Wt=this.value();return S.apply(js(Wt)?Wt:[],ht)}return this[U](function(_n){return S.apply(js(_n)?_n:[],ht)})}}),Ia(Qr.prototype,function(h,S){var U=rt[S];if(U){var me=U.name+"";fr.call(Z,me)||(Z[me]=[]),Z[me].push({name:S,func:U})}}),Z[Xs(n,q).name]=[{name:"wrapper",func:n}],Qr.prototype.clone=Gs,Qr.prototype.reverse=Uo,Qr.prototype.value=ga,rt.prototype.at=BW,rt.prototype.chain=jW,rt.prototype.commit=Ep,rt.prototype.next=qW,rt.prototype.plant=A9,rt.prototype.reverse=T9,rt.prototype.toJSON=rt.prototype.valueOf=rt.prototype.value=UN,rt.prototype.first=rt.prototype.head,u0&&(rt.prototype[u0]=C9),rt},As=Ro();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(us._=As,define(function(){return As})):fo?((fo.exports=As)._=As,io._=As):us._=As}).call(T8)});var zF=Ae(N5=>{"use strict";m();Object.defineProperty(N5,"__esModule",{value:!0});N5.AndChain=N5.generateSQLStringLiteral=N5.indent=void 0;function $et(n){let e=/(^|\n)/g,t=/\n {2}$/;return n.replace(e,"$1  ").replace(t,`
`)}N5.indent=$et;function zet(n){return`'${n.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`}N5.generateSQLStringLiteral=zet;var ZB=class{constructor(e){this.clauses=[],e&&this.clauses.push(e)}clone(){let e=new ZB;return e.addChain(this),e}add(e){return this.clauses.push(e),this}addChain(e){return this.clauses.push(...e.clauses),this}empty(){return this.clauses.length===0}present(){return this.clauses.length>0}sqlOr(){return this.empty()?"":this.clauses.map(e=>`(${e})`).join("OR ")+`
`}sql(e){if(this.empty())return"";let t="",r="";return e&&(t=e.toUpperCase()+" ",r=`
`),this.clauses.length===1?t+this.clauses[0]+r:t+this.clauses.map(i=>`(${i})`).join(`
AND `)+r}};N5.AndChain=ZB});var HF=Ae(ej=>{"use strict";m();Object.defineProperty(ej,"__esModule",{value:!0});ej.Dialect=void 0;var X5e=xm(),Z5e=class{sqlFinalStage(e,t){throw new Error("Dialect has no final Stage but called Anyway")}sqlDateToString(e){return`CAST(DATE(${e}) AS ${this.stringTypeName} )`}ignoreInProject(e){return!1}getFunctionInfo(e){return this.functionInfo[e.toLowerCase()]}dialectExpr(e){switch(e.function){case"now":return this.sqlNow();case"timeDiff":return this.sqlMeasureTime(e.left,e.right,e.units);case"delta":return this.sqlAlterTime(e.op,e.base,e.delta,e.units);case"trunc":return this.sqlTrunc(e.expr,e.units);case"extract":return this.sqlExtract(e.expr,e.units);case"cast":return this.sqlCast(e);case"regexpMatch":return this.sqlRegexpMatch(e.expr,e.regexp);case"div":return this.divisionIsInteger?(0,X5e.mkExpr)`${e.numerator}*1.0/${e.denominator}`:(0,X5e.mkExpr)`${e.numerator}/${e.denominator}`;case"timeLiteral":return[this.sqlLiteralTime(e.literal,e.literalType,e.timezone)]}}sqlSumDistinct(e,t){return"sqlSumDistinct called bu not implemented"}sqlSampleTable(e,t){if(t!==void 0)throw new Error(`Sampling is not supported on dialect ${this.name}.`);return e}sqlOrderBy(e){return`ORDER BY ${e.join(",")}`}};ej.Dialect=Z5e});var nj=Ae(tj=>{"use strict";m();Object.defineProperty(tj,"__esModule",{value:!0});tj.StandardSQLDialect=void 0;var eve=zF(),fl=F8(),Het=HF(),Vet={number:"float64"},Wet=["microsecond","millisecond","second","minute","hour","day"],Qet={day_of_week:"dayofweek",day_of_year:"dayofyear"},tve=class extends Het.Dialect{constructor(){super(...arguments);this.name="standardsql",this.defaultNumberType="FLOAT64",this.udfPrefix="__udf",this.hasFinalStage=!1,this.stringTypeName="STRING",this.divisionIsInteger=!1,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={enable:!1},this.supportUnnestArrayAgg=!1,this.supportsCTEinCoorelatedSubQueries=!1,this.functionInfo={timestamp_seconds:{returnType:"timestamp"},concat:{returnType:"string"}},this.keywords=`
  ALL
  AND
  ANY
  ARRAY
  AS
  ASC
  ASSERT_ROWS_MODIFIED
  AT
  BETWEEN
  BY
  CASE
  CAST
  COLLATE
  CONTAINS
  CREATE
  CROSS
  CUBE
  CURRENT
  DEFAULT
  DEFINE
  DESC
  DISTINCT
  ELSE
  END
  ENUM
  ESCAPE
  EXCEPT
  EXCLUDE
  EXISTS
  EXTRACT
  FALSE
  FETCH
  FOLLOWING
  FOR
  FROM
  FULL
  GROUP
  GROUPING
  GROUPS
  HASH
  HAVING
  IF
  IGNORE
  IN
  INNER
  INTERSECT
  INTERVAL
  INTO
  IS
  JOIN
  LATERAL
  LEFT
  LIKE
  LIMIT
  LOOKUP
  MERGE
  NATURAL
  NEW
  NO
  NOT
  NULL
  NULLS
  OF
  ON
  OR
  ORDER
  OUTER
  OVER
  PARTITION
  PRECEDING
  PROTO
  RANGE
  RECURSIVE
  RESPECT
  RIGHT
  ROLLUP
  ROWS
  SELECT
  SET
  SOME
  STRUCT
  TABLESAMPLE
  THEN
  TO
  TREAT
  TRUE
  UNBOUNDED
  UNION
  UNNEST
  USING
  WHEN
  WHERE
  WINDOW
  WITH
  WITHIN`.split(/\s/)}quoteTablePath(e){return`\`${e}\``}sqlGroupSetTable(e){return`CROSS JOIN (SELECT row_number() OVER() -1  group_set FROM UNNEST(GENERATE_ARRAY(0,${e},1)))`}sqlAnyValue(e,t){return`ANY_VALUE(CASE WHEN group_set=${e} THEN ${t} END)`}sqlAggregateTurtle(e,t,r,i){let s="";i!==void 0&&(s+=` LIMIT ${i}`);let o=t.map(a=>`
  ${a.sqlExpression} as ${a.sqlOutputName}`).join(", ");return`ARRAY_AGG(CASE WHEN group_set=${e} THEN STRUCT(${o}
  ) END IGNORE NULLS ${r} ${s})`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`ANY_VALUE(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlExpression} as ${s.sqlOutputName}`).join(", "),i=t.map(s=>`NULL as ${s.sqlOutputName}`).join(", ");return`COALESCE(ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}) END), STRUCT(${i}))`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, value FROM UNNEST(${e}) value))) as ${t}`:`LEFT JOIN UNNEST(ARRAY((SELECT AS STRUCT value FROM unnest(${e}) value))) as ${t}`:i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, * FROM UNNEST(${e})))) as ${t}`:`LEFT JOIN UNNEST(${e}) as ${t}`}sqlSumDistinctHashedKey(e){e=`CAST(${e} AS STRING)`;let t=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 1, 15)) as int64) as numeric) * 4294967296`,r=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 16, 8)) as int64) as numeric)`;return`(${t} + ${r}) * 0.000000001`}sqlGenerateUUID(){return"GENERATE_UUID()"}sqlFieldReference(e,t,r,i,s){return`${e}.${t}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`UNNEST(${r})`}sqlCreateFunction(e,t){return`CREATE TEMPORARY FUNCTION ${e}(__param ANY TYPE) AS ((
${(0,eve.indent)(t)}));
`}sqlCreateTableAsSelect(e,t){return`
CREATE TABLE IF NOT EXISTS \`${e}\`
OPTIONS (
    expiration_timestamp=TIMESTAMP_ADD(current_timestamp(),  INTERVAL 1 hour)
)
AS (
${(0,eve.indent)(t)}
);
`}sqlCreateFunctionCombineLastStage(e){return`SELECT ARRAY((SELECT AS STRUCT * FROM ${e}))
`}sqlSelectAliasAsStruct(e){return`(SELECT AS STRUCT ${e}.*)`}sqlMaybeQuoteIdentifier(e){return this.keywords.indexOf(e.toUpperCase())>0?"`"+e+"`":e}sqlNow(){return(0,fl.mkExpr)`CURRENT_TIMESTAMP()`}sqlTrunc(e,t){return e.valueType=="date"?(0,fl.isDateUnit)(t)?(0,fl.mkExpr)`DATE_TRUNC(${e.value},${t})`:(0,fl.mkExpr)`TIMESTAMP(${e.value})`:(0,fl.mkExpr)`TIMESTAMP_TRUNC(${e.value},${t})`}sqlExtract(e,t){let r=Qet[t]||t;return(0,fl.mkExpr)`EXTRACT(${r} FROM ${e.value})`}sqlAlterTime(e,t,r,i){let s=t.value,o=t.valueType;i!="day"&&Wet.includes(i)?(o="timestamp",t.valueType!="timestamp"&&(s=(0,fl.mkExpr)`TIMESTAMP(${s})`)):t.valueType=="timestamp"&&(s=(0,fl.mkExpr)`DATETIME(${s})`,o="datetime");let a=o.toUpperCase()+(e=="+"?"_ADD":"_SUB"),l=(0,fl.mkExpr)`${a}(${s}, INTERVAL ${r} ${i})`;return o=="datetime"?(0,fl.mkExpr)`TIMESTAMP(${l})`:l}ignoreInProject(e){return e==="_PARTITIONTIME"}sqlCast(e){if(e.srcType!==e.dstType){let t=Vet[e.dstType]||e.dstType;if(!e.safe&&e.srcType&&(0,fl.isTimeFieldType)(e.srcType))return t=="date"?(0,fl.mkExpr)`DATE(${e.expr})`:(0,fl.mkExpr)`TIMESTAMP(${e.expr})`;let r=e.safe?"SAFE_CAST":"CAST";return(0,fl.mkExpr)`${r}(${e.expr}  AS ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,fl.mkExpr)`REGEXP_CONTAINS(${e}, r${t})`}sqlLiteralTime(e,t,r){if(t==="date")return`DATE('${e}')`;if(t==="timestamp")return`TIMESTAMP('${e}', '${r}')`;throw new Error(`Unknown Liternal time format ${t}`)}sqlMeasureTime(e,t,r){let i=e.value,s=t.value,o="TIMESTAMP_DIFF";return r=="second"||r=="minute"||r=="hour"?(e.valueType!="timestamp"&&(i=(0,fl.mkExpr)`TIMESTAMP(${i})`),t.valueType!="timestamp"&&(s=(0,fl.mkExpr)`TIMESTAMP(${s})`)):(o="DATE_DIFF",e.valueType!="date"&&(i=(0,fl.mkExpr)`DATE(${i})`),t.valueType!="date"&&(s=(0,fl.mkExpr)`DATE(${s})`)),(0,fl.mkExpr)`${o}(${s}, ${i}, ${r})`}sqlSampleTable(e,t){if(t!==void 0){if((0,fl.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,fl.isSamplingRows)(t))throw new Error("StandardSQL doesn't support sampling by rows only percent");if((0,fl.isSamplingPercent)(t))return`(SELECT * FROM ${e}  TABLESAMPLE SYSTEM (${t.percent} PERCENT))`}return e}};tj.StandardSQLDialect=tve});var tte=Ae(rj=>{"use strict";m();Object.defineProperty(rj,"__esModule",{value:!0});rj.PostgresDialect=void 0;var Get=zF(),iu=F8(),Yet=HF(),Ket={number:"double precision",string:"varchar"},Jet={day_of_week:"dow",day_of_year:"doy"},Xet={year:"years",month:"months",week:"weeks",day:"days",hour:"hours",minute:"mins",second:"secs"},nve={second:1,minute:60,hour:3600},rve=class extends Yet.Dialect{constructor(){super(...arguments);this.name="postgres",this.defaultNumberType="DOUBLE PRECISION",this.udfPrefix="pg_temp.__udf",this.hasFinalStage=!0,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.functionInfo={concat:{returnType:"string"}}}quoteTablePath(e){return e.split(".").map(t=>`"${t}"`).join(".")}sqlGroupSetTable(e){return`CROSS JOIN GENERATE_SERIES(0,${e},1) as group_set`}sqlAnyValue(e,t){return`MAX(${t})`}mapFields(e){return e.map(t=>`
  ${t.sqlExpression}${t.type=="number"?`::${this.defaultNumberType}`:""} as ${t.sqlOutputName}`).join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(TO_JSONB((ARRAY_AGG((SELECT TO_JSONB(__x) FROM (SELECT ${this.mapFields(t)}
  ) as __x) ${r} ) FILTER (WHERE group_set=${e}))${s}),'[]'::JSONB)`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`(ARRAY_AGG(${e}__${t}) FILTER (WHERE group_set=${t} AND ${e}__${t} IS NOT NULL))[1] as ${r}`}sqlCoaleseMeasuresInline(e,t){return`TO_JSONB((ARRAY_AGG((SELECT __x FROM (SELECT ${this.mapFields(t)}) as __x)) FILTER (WHERE group_set=${e}))[1])`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_id', row_number() over (), 'value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_number', row_number() over())|| __xx::jsonb as b FROM  JSONB_ARRAY_ELEMENTS(${e}) __xx ))) as ${t} ON true`:`LEFT JOIN JSONB_ARRAY_ELEMENTS(${e}) as ${t} ON true`}sqlSumDistinctHashedKey(e){return`('x' || MD5(${e}::varchar))::bit(64)::bigint::DECIMAL(65,0)  *18446744073709551616 + ('x' || SUBSTR(MD5(${e}::varchar),17))::bit(64)::bigint::DECIMAL(65,0)`}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlFieldReference(e,t,r,i,s){let o=`${e}->>'${t}'`;if(i){switch(r){case"string":break;case"number":o=`(${o})::double precision`;break;case"struct":o=`(${o})::jsonb`;break}return o}else return`${e}."${t}"`}sqlUnnestPipelineHead(e,t){return e?`UNNEST(ARRAY((SELECT ${t})))`:`JSONB_ARRAY_ELEMENTS(${t})`}sqlCreateFunction(e,t){return`CREATE FUNCTION ${e}(JSONB) RETURNS JSONB AS $$
${(0,Get.indent)(t)}
$$ LANGUAGE SQL;
`}sqlCreateFunctionCombineLastStage(e){return`SELECT JSONB_AGG(__stage0) FROM ${e}
`}sqlFinalStage(e,t){return`SELECT row_to_json(finalStage) as row FROM ${e} AS finalStage`}sqlSelectAliasAsStruct(e){return`ROW(${e})`}sqlMaybeQuoteIdentifier(e){return`"${e}"`}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}sqlNow(){return(0,iu.mkExpr)`CURRENT_TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,iu.mkExpr)`${e.value}+interval'1'day`:e.value,s=(0,iu.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,iu.mkExpr)`(${s}-interval'1'day)`:s}sqlExtract(e,t){let r=Jet[t]||t,i=(0,iu.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,iu.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,iu.mkExpr)`${r}*3`);let s=(0,iu.mkExpr)`make_interval(${Xet[i]}=>${r})`;return(0,iu.mkExpr)`((${t.value})${e}${s})`}sqlCast(e){if(e.dstType!==e.srcType){let t=Ket[e.dstType]||e.dstType;return(0,iu.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,iu.mkExpr)`(${e} ~ ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE('${e}')`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(nve[r]){i=(0,iu.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,iu.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let a=(0,iu.mkExpr)`(${s} - ${i})`;return r=="second"?a:(0,iu.mkExpr)`TRUNC(${a}/${nve[r].toString()})`}if(r==="day")return(0,iu.mkExpr)`${s}::date - ${i}::date`;let o=(0,iu.mkExpr)`(DATE_PART('year', ${s}) - DATE_PART('year', ${i}))`;if(r=="year")return o;if(r=="week"){let a=(0,iu.mkExpr)`(DATE_TRUNC('week', ${s} + '1 day'::interval)::date - DATE_TRUNC('week', ${i} + '1 day'::interval)::date)`;return(0,iu.mkExpr)`${a} / 7`}if(r=="month"){let a=(0,iu.mkExpr)`DATE_PART('month', ${s}) - DATE_PART('month', ${i})`;return(0,iu.mkExpr)`${o} * 12 + ${a}`}if(r=="quarter"){let a=(0,iu.mkExpr)`DATE_PART('quarter', ${s}) - DATE_PART('quarter', ${i})`;return(0,iu.mkExpr)`${o} * 4 + ${a}`}throw new Error(`Unknown or unhandled postgres time unit: ${r}`)}sqlSumDistinct(e,t){return`(
      SELECT sum((a::json->>'f2')::DOUBLE PRECISION) as value
      FROM (
        SELECT UNNEST(array_agg(distinct row_to_json(row(${e},${t}))::text)) a
      ) a
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,iu.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,iu.isSamplingRows)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM_ROWS(${t.rows}))`;if((0,iu.isSamplingPercent)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM (${t.percent}))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}};rj.PostgresDialect=rve});var ave=Ae(ij=>{"use strict";m();Object.defineProperty(ij,"__esModule",{value:!0});ij.DuckDBDialect=void 0;var bu=F8(),Zet=zF(),ett=HF(),ive="-- hack: split on this",sCt=`
ALL
ANALYSE
ANALYZE
AND
ANY
ARRAY
AS
ASC_P
ASYMMETRIC
BOTH
CASE
CAST
CHECK_P
COLLATE
COLUMN
CONSTRAINT
CREATE_P
CURRENT_CATALOG
CURRENT_DATE
CURRENT_ROLE
CURRENT_TIME
CURRENT_TIMESTAMP
CURRENT_USER
DEFAULT
DEFERRABLE
DESC_P
DISTINCT
DO
ELSE
END_P
EXCEPT
FALSE_P
FETCH
FOR
FOREIGN
FROM
GRANT
GROUP_P
HAVING
IN_P
INITIALLY
INTERSECT
INTO
LATERAL_P
LEADING
LIMIT
LOCALTIME
LOCALTIMESTAMP
NOT
NULL_P
OFFSET
ON
ONLY
OR
ORDER
PLACING
PRIMARY
REFERENCES
RETURNING
SELECT
SESSION_USER
SOME
SYMMETRIC
TABLE
THEN
TO
TRAILING
TRUE_P
UNION
UNIQUE
USER
USING
VARIADIC
WHEN
WHERE
WINDOW
WITH
`.split(/\s/),ttt={number:"double precision",string:"varchar"},ntt={day_of_week:"dow",day_of_year:"doy"},sve={second:1,minute:60,hour:3600},ove=class extends ett.Dialect{constructor(){super(...arguments);this.name="duckdb",this.defaultNumberType="DOUBLE",this.hasFinalStage=!1,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!0,this.unnestWithNumbers=!0,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.functionInfo={concat:{returnType:"string"}}}get udfPrefix(){return`__udf${Math.floor(Math.random()*1e5)}`}quoteTablePath(e){return e.match(/\//)?`'${e}'`:e}sqlGroupSetTable(e){return`CROSS JOIN (SELECT UNNEST(GENERATE_SERIES(0,${e},1)) as group_set  ) as group_set`}sqlAnyValue(e,t){return`FIRST(${t}) FILTER (WHERE ${t} IS NOT NULL)`}mapFields(e){return e.join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(LIST({${t.map(a=>`
  ${a.sqlOutputName}: ${a.sqlExpression}`).join(", ")}} ${r}) FILTER (WHERE group_set=${e})${s},[])`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN ROW(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`MAX(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlOutputName}: ${s.sqlExpression} `).join(", "),i=t.map(s=>`${s.sqlOutputName}: NULL`).join(", ");return`COALESCE(FIRST({${r}}) FILTER(WHERE group_set=${e}), {${i}})`}sqlUnnestAlias(e,t,r,i){return`LEFT JOIN (select UNNEST(generate_series(1,
        100000, --
        -- (SELECT genres_length FROM movies limit 1),
        1)) as __row_id) as ${t} ON  ${t}.__row_id <= array_length(${e})`}sqlSumDistinctHashedKey(e){return"uses sumDistinctFunction, should not be called"}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlDateToString(e){return`(${e})::date::varchar`}sqlFieldReference(e,t,r,i,s){return s?e:`${e}.${this.sqlMaybeQuoteIdentifier(t)}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`(SELECT UNNEST(${r}) as base)`}sqlCreateFunction(e,t){return`DROP MACRO IF EXISTS ${e}; 
${ive}
 CREATE MACRO ${e}(_param) AS (
${(0,Zet.indent)(t)}
);
${ive}
`}sqlCreateFunctionCombineLastStage(e,t){return`SELECT LIST(ROW(${t.fields.map(r=>this.sqlMaybeQuoteIdentifier((0,bu.getIdentifier)(r))).join(",")})) FROM ${e}
`}sqlSelectAliasAsStruct(e,t){return`ROW(${t.map(r=>`${e}.${r}`).join(", ")})`}sqlMaybeQuoteIdentifier(e){return'"'+e+'"'}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(sve[r]){i=(0,bu.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,bu.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let o=(0,bu.mkExpr)`(${s} - ${i})`;return r=="second"?o:(0,bu.mkExpr)`FLOOR(${o}/${sve[r].toString()})`}return e.valueType!="date"&&(i=(0,bu.mkExpr)`CAST((${i}) AS DATE)`),t.valueType!="date"&&(s=(0,bu.mkExpr)`CAST((${s}) AS DATE)`),r=="week"&&(i=(0,bu.mkExpr)`(${i} + INTERVAL 1 DAY)`,s=(0,bu.mkExpr)`(${s} + INTERVAL 1 DAY)`),(0,bu.mkExpr)`DATE_DIFF('${r}', ${i}, ${s})`}sqlNow(){return(0,bu.mkExpr)`CURRENT_TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,bu.mkExpr)`${e.value} + INTERVAL 1 DAY`:e.value,s=(0,bu.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,bu.mkExpr)`(${s} - INTERVAL 1 DAY)`:s}sqlExtract(e,t){let r=ntt[t]||t,i=(0,bu.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,bu.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,bu.mkExpr)`${r}*3`),i=="week"&&(i="day",r=(0,bu.mkExpr)`${r}*7`);let s=(0,bu.mkExpr)`INTERVAL (${r}) ${i}`;return(0,bu.mkExpr)`((${t.value})) ${e} ${s}`}sqlCast(e){if(e.dstType!==e.srcType){let t=ttt[e.dstType]||e.dstType;return(0,bu.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,bu.mkExpr)`REGEXP_MATCHES(${e}, ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE '${e}'`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}sqlSumDistinct(e,t){return`(
      SELECT sum(a.val) as value
      FROM (
        SELECT UNNEST(list(distinct {key:${e}, val: ${t}})) a
      )
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,bu.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,bu.isSamplingRows)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.rows})`;if((0,bu.isSamplingPercent)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.percent} PERCENT (bernoulli))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}};ij.DuckDBDialect=ove});var lve=Ae(D8=>{"use strict";m();Object.defineProperty(D8,"__esModule",{value:!0});D8.registerDialect=D8.getDialect=void 0;var rtt=oj(),itt=tte(),stt=nj(),uve=new Map;function ott(n){let e=uve.get(n);if(e===void 0)throw new Error(`Unknown Dialect ${n}`);return e}D8.getDialect=ott;function sj(n){uve.set(n.name,n)}D8.registerDialect=sj;sj(new itt.PostgresDialect);sj(new stt.StandardSQLDialect);sj(new rtt.DuckDBDialect)});var oj=Ae(dh=>{"use strict";m();Object.defineProperty(dh,"__esModule",{value:!0});dh.registerDialect=dh.getDialect=dh.DuckDBDialect=dh.PostgresDialect=dh.StandardSQLDialect=dh.Dialect=void 0;var att=HF();Object.defineProperty(dh,"Dialect",{enumerable:!0,get:function(){return att.Dialect}});var utt=nj();Object.defineProperty(dh,"StandardSQLDialect",{enumerable:!0,get:function(){return utt.StandardSQLDialect}});var ltt=tte();Object.defineProperty(dh,"PostgresDialect",{enumerable:!0,get:function(){return ltt.PostgresDialect}});var ctt=ave();Object.defineProperty(dh,"DuckDBDialect",{enumerable:!0,get:function(){return ctt.DuckDBDialect}});var cve=lve();Object.defineProperty(dh,"getDialect",{enumerable:!0,get:function(){return cve.getDialect}});Object.defineProperty(dh,"registerDialect",{enumerable:!0,get:function(){return cve.registerDialect}})});var dve=Ae((lCt,fve)=>{m();(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,r){return t<<r|t>>>32-r},rotr:function(t,r){return t<<32-r|t>>>r},endian:function(t){if(t.constructor==Number)return e.rotl(t,8)&16711935|e.rotl(t,24)&4278255360;for(var r=0;r<t.length;r++)t[r]=e.endian(t[r]);return t},randomBytes:function(t){for(var r=[];t>0;t--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(t){for(var r=[],i=0,s=0;i<t.length;i++,s+=8)r[s>>>5]|=t[i]<<24-s%32;return r},wordsToBytes:function(t){for(var r=[],i=0;i<t.length*32;i+=8)r.push(t[i>>>5]>>>24-i%32&255);return r},bytesToHex:function(t){for(var r=[],i=0;i<t.length;i++)r.push((t[i]>>>4).toString(16)),r.push((t[i]&15).toString(16));return r.join("")},hexToBytes:function(t){for(var r=[],i=0;i<t.length;i+=2)r.push(parseInt(t.substr(i,2),16));return r},bytesToBase64:function(t){for(var r=[],i=0;i<t.length;i+=3)for(var s=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)i*8+o*6<=t.length*8?r.push(n.charAt(s>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,s=0;i<t.length;s=++i%4)s!=0&&r.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<s*2|n.indexOf(t.charAt(i))>>>6-s*2);return r}};fve.exports=e})()});var rte=Ae((cCt,hve)=>{m();var nte={utf8:{stringToBytes:function(n){return nte.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(nte.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var e=[],t=0;t<n.length;t++)e.push(n.charCodeAt(t)&255);return e},bytesToString:function(n){for(var e=[],t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}}};hve.exports=nte});var xve=Ae((fCt,mve)=>{m();mve.exports=function(n){return n!=null&&(pve(n)||ftt(n)||!!n._isBuffer)};function pve(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function ftt(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&pve(n.slice(0,0))}});var ite=Ae((dCt,gve)=>{m();(function(){var n=dve(),e=rte().utf8,t=xve(),r=rte().bin,i=function(s,o){s.constructor==String?o&&o.encoding==="binary"?s=r.stringToBytes(s):s=e.stringToBytes(s):t(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var a=n.bytesToWords(s),l=s.length*8,f=1732584193,p=-271733879,_=-1732584194,E=271733878,O=0;O<a.length;O++)a[O]=(a[O]<<8|a[O]>>>24)&16711935|(a[O]<<24|a[O]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var R=i._ff,q=i._gg,z=i._hh,L=i._ii,O=0;O<a.length;O+=16){var B=f,P=p,G=_,ue=E;f=R(f,p,_,E,a[O+0],7,-680876936),E=R(E,f,p,_,a[O+1],12,-389564586),_=R(_,E,f,p,a[O+2],17,606105819),p=R(p,_,E,f,a[O+3],22,-1044525330),f=R(f,p,_,E,a[O+4],7,-176418897),E=R(E,f,p,_,a[O+5],12,1200080426),_=R(_,E,f,p,a[O+6],17,-1473231341),p=R(p,_,E,f,a[O+7],22,-45705983),f=R(f,p,_,E,a[O+8],7,1770035416),E=R(E,f,p,_,a[O+9],12,-1958414417),_=R(_,E,f,p,a[O+10],17,-42063),p=R(p,_,E,f,a[O+11],22,-1990404162),f=R(f,p,_,E,a[O+12],7,1804603682),E=R(E,f,p,_,a[O+13],12,-40341101),_=R(_,E,f,p,a[O+14],17,-1502002290),p=R(p,_,E,f,a[O+15],22,1236535329),f=q(f,p,_,E,a[O+1],5,-165796510),E=q(E,f,p,_,a[O+6],9,-1069501632),_=q(_,E,f,p,a[O+11],14,643717713),p=q(p,_,E,f,a[O+0],20,-373897302),f=q(f,p,_,E,a[O+5],5,-701558691),E=q(E,f,p,_,a[O+10],9,38016083),_=q(_,E,f,p,a[O+15],14,-660478335),p=q(p,_,E,f,a[O+4],20,-405537848),f=q(f,p,_,E,a[O+9],5,568446438),E=q(E,f,p,_,a[O+14],9,-1019803690),_=q(_,E,f,p,a[O+3],14,-187363961),p=q(p,_,E,f,a[O+8],20,1163531501),f=q(f,p,_,E,a[O+13],5,-1444681467),E=q(E,f,p,_,a[O+2],9,-51403784),_=q(_,E,f,p,a[O+7],14,1735328473),p=q(p,_,E,f,a[O+12],20,-1926607734),f=z(f,p,_,E,a[O+5],4,-378558),E=z(E,f,p,_,a[O+8],11,-2022574463),_=z(_,E,f,p,a[O+11],16,1839030562),p=z(p,_,E,f,a[O+14],23,-35309556),f=z(f,p,_,E,a[O+1],4,-1530992060),E=z(E,f,p,_,a[O+4],11,1272893353),_=z(_,E,f,p,a[O+7],16,-155497632),p=z(p,_,E,f,a[O+10],23,-1094730640),f=z(f,p,_,E,a[O+13],4,681279174),E=z(E,f,p,_,a[O+0],11,-358537222),_=z(_,E,f,p,a[O+3],16,-722521979),p=z(p,_,E,f,a[O+6],23,76029189),f=z(f,p,_,E,a[O+9],4,-640364487),E=z(E,f,p,_,a[O+12],11,-421815835),_=z(_,E,f,p,a[O+15],16,530742520),p=z(p,_,E,f,a[O+2],23,-995338651),f=L(f,p,_,E,a[O+0],6,-198630844),E=L(E,f,p,_,a[O+7],10,1126891415),_=L(_,E,f,p,a[O+14],15,-1416354905),p=L(p,_,E,f,a[O+5],21,-57434055),f=L(f,p,_,E,a[O+12],6,1700485571),E=L(E,f,p,_,a[O+3],10,-1894986606),_=L(_,E,f,p,a[O+10],15,-1051523),p=L(p,_,E,f,a[O+1],21,-2054922799),f=L(f,p,_,E,a[O+8],6,1873313359),E=L(E,f,p,_,a[O+15],10,-30611744),_=L(_,E,f,p,a[O+6],15,-1560198380),p=L(p,_,E,f,a[O+13],21,1309151649),f=L(f,p,_,E,a[O+4],6,-145523070),E=L(E,f,p,_,a[O+11],10,-1120210379),_=L(_,E,f,p,a[O+2],15,718787259),p=L(p,_,E,f,a[O+9],21,-343485551),f=f+B>>>0,p=p+P>>>0,_=_+G>>>0,E=E+ue>>>0}return n.endian([f,p,_,E])};i._ff=function(s,o,a,l,f,p,_){var E=s+(o&a|~o&l)+(f>>>0)+_;return(E<<p|E>>>32-p)+o},i._gg=function(s,o,a,l,f,p,_){var E=s+(o&l|a&~l)+(f>>>0)+_;return(E<<p|E>>>32-p)+o},i._hh=function(s,o,a,l,f,p,_){var E=s+(o^a^l)+(f>>>0)+_;return(E<<p|E>>>32-p)+o},i._ii=function(s,o,a,l,f,p,_){var E=s+(a^(o|~l))+(f>>>0)+_;return(E<<p|E>>>32-p)+o},i._blocksize=16,i._digestsize=16,gve.exports=function(s,o){if(s==null)throw new Error("Illegal argument "+s);var a=n.wordsToBytes(i(s,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):n.bytesToHex(a)}})()});var lte=Ae(L5=>{"use strict";m();var dtt=L5&&L5.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(L5,"__esModule",{value:!0});L5.QueryModel=L5.Segment=void 0;var yve=$F(),htt=nj(),ptt=oj(),Lo=xm(),e1=zF(),mtt=dtt(ite());function ste(n){return`'${n}'`}var O8=class{constructor(e=!0,t){this.withs=[],this.udfs=[],this.pdts=[],this.stagePrefix="__stage",this.parent=t,this.useCTE=e}getName(e){return`${this.stagePrefix}${e}`}root(){return this.parent===void 0?this:this.parent.root()}addStage(e){return this.useCTE?(this.withs.push(e),this.getName(this.withs.length-1)):(this.withs[0]=e,(0,e1.indent)(`
(${e})
`))}addUDF(e,t,r){let{sql:i,lastStageName:s}=e.combineStages(!0);if(s===void 0)throw new Error("Internal Error: no stage to combine");i+=t.sqlCreateFunctionCombineLastStage(s,r);let o=`${t.udfPrefix}${this.root().udfs.length}`;return i=t.sqlCreateFunction(o,i),this.root().udfs.push(i),o}addPDT(e,t){let r=this.combineStages(!1).sql+this.withs[this.withs.length-1],i="scratch."+e+(0,mtt.default)(r);return this.root().pdts.push(t.sqlCreateTableAsSelect(i,r)),i}combineStages(e){if(!this.useCTE)return{sql:this.withs[0],lastStageName:this.withs[0]};let t=this.getName(0),r="WITH ",i="";for(let s=0;s<this.withs.length-(e?0:1);s++){let o=this.withs[s];if(t=this.getName(s),o===void 0)throw new Error(`Expected sql WITH to be present for stage ${t}.`);i+=`${r}${t} AS (
${(0,e1.indent)(o)})
`,r=", "}return{sql:i,lastStageName:t}}generateSQLStages(){let e=this.withs.length-1;if(e<0)throw new Error("No SQL generated");let t=this.udfs.join(`
`),r=this.pdts.join(`
`),i=this.combineStages(!1).sql;return t+r+i+this.withs[e]}generateCoorelatedSubQuery(e,t){return this.useCTE?this.combineStages(!0).sql+e.sqlCreateFunctionCombineLastStage(this.getName(this.withs.length-1),t):e.sqlCreateFunctionCombineLastStage(`(${this.withs[0]})`,t)}},R8=class{constructor(){this.totalGroupSet=-1}withWhere(e){let t=new R8;return t.whereSQL=e,t.applyValue=this.applyValue,t.totalGroupSet=this.totalGroupSet,t}withApply(e){let t=new R8;return t.whereSQL=this.whereSQL,t.applyValue=e,t.totalGroupSet=this.totalGroupSet,t}withTotal(e){let t=new R8;return t.whereSQL=this.whereSQL,t.applyValue=this.applyValue,t.totalGroupSet=e,t}},ote=class{constructor(e){this.fieldDef=e}getIdentifier(){return(0,Lo.getIdentifier)(this.fieldDef)}getChildByName(e){}},VF=class extends ote{constructor(e,t){super(e);this.parent=t,this.fieldDef=e}mayNeedUniqueKey(){return!1}getJoinableParent(){let e=this.parent;if(e.fieldDef.structRelationship.type==="inline"){if(e)return e.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return e}caseGroup(e,t){return e.length===0?t:`CASE WHEN group_set${e.length===1?`=${e[0]}`:` IN (${e.join(",")})`} THEN
  ${t}
  END`}getFullOutputName(){return this.parent.getFullOutputName()+this.getIdentifier()}generateFieldFragment(e,t,r,i){let s=t.getFieldByName(r.path);if((0,Lo.hasExpression)(s.fieldDef)){let o=this.generateExpressionFromExpr(e,s.parent,s.fieldDef.e,i);return o.match(/^\(.*\)$/)||(o=`(${o})`),o}else return s.generateExpression(e)}generateParameterFragment(e,t,r,i){let s=t.parameters()[r.path];if((0,Lo.isValueParameter)(s)){if(s.value)return this.generateExpressionFromExpr(e,t,s.value,i)}else if(s.condition)return this.generateExpressionFromExpr(e,t,s.condition,i);throw new Error(`Can't generate SQL, no value for ${r.path}`)}generateFilterFragment(e,t,r,i){let s=new e1.AndChain(i.whereSQL);for(let o of r.filterList)s.add(this.generateExpressionFromExpr(e,t,o.expression,i.withWhere()));return this.generateExpressionFromExpr(e,t,r.e,i.withWhere(s.sql()))}generateDimFragment(e,t,r,i){let s=this.generateExpressionFromExpr(e,t,r.e,i);return i.whereSQL&&(s=`CASE WHEN ${i.whereSQL} THEN ${s} END`),s}generateUngroupedFragment(e,t,r,i){if(i.totalGroupSet!==-1)throw new Error("Already in ALL.  Cannot nest within an all calcuation.");let s,o;if(r.fields&&r.fields.length>0){let _=r.fields.sort().join("|")+r.type;if(o=e.ungroupedSets.get(_),o===void 0)throw new Error(`Internal Error, cannot find groupset with key ${_}`);s=o.groupSet}else s=e.parent?e.parent.groupSet:0;let a=this.generateExpressionFromExpr(e,t,r.e,i.withTotal(s)),l=e.getUngroupPartitions(o),f="",p=l.map(_=>_.getPartitionSQL()).join(", ");return p.length>0&&(f=`PARTITION BY ${p}`),`MAX(${a}) OVER (${f})`}generateDistinctKeyIfNecessary(e,t,r){let i=t;if(r&&(i=this.parent.root().getStructByName(r)),i.needsSymetricCalculation(e))return i.getDistinctKey().generateExpression(e)}generateSumFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath),a;return o?this.parent.dialect.supportsSumDistinctFunction?a=this.parent.dialect.sqlSumDistinct(o,s):a=Sve(this.parent.dialect,s,o):a=`SUM(${s})`,`COALESCE(${a},0)`}generateSymmetricFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i);return`${r.function==="count_distinct"?"count(distinct ":r.function+"("}${s})`}generateAvgFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath);if(o){let a=o;i.whereSQL&&(a=`CASE WHEN ${i.whereSQL} THEN ${o} END`);let l;return this.parent.dialect.supportsSumDistinctFunction?l=this.parent.dialect.sqlSumDistinct(o,s):l=Sve(this.parent.dialect,s,o),`(${l})/NULLIF(COUNT(DISTINCT ${a}),0)`}else return`AVG(${s})`}generateCountFragment(e,t,r,i){let s="COUNT(",o="1",a=this.generateDistinctKeyIfNecessary(e,t,r.structPath);return a&&(s="COUNT(DISTINCT",o=a),i.whereSQL?`${s} CASE WHEN ${i.whereSQL} THEN ${o} END)`:`${s} ${o})`}generateDialect(e,t,r,i){return this.generateExpressionFromExpr(e,t,t.dialect.dialectExpr(r),i)}generateExpressionFromExpr(e,t,r,i=new R8){let s="";for(let o of r)if(typeof o=="string")s+=o;else if((0,Lo.isFieldFragment)(o))s+=this.generateFieldFragment(e,t,o,i);else if((0,Lo.isParameterFragment)(o))s+=this.generateParameterFragment(e,t,o,i);else if((0,Lo.isFilterFragment)(o))s+=this.generateFilterFragment(e,t,o,i);else if((0,Lo.isUngroupFragment)(o))s+=this.generateUngroupedFragment(e,t,o,i);else if((0,Lo.isAggregateFragment)(o)){let a;if(o.function==="sum")a=this.generateSumFragment(e,t,o,i);else if(o.function==="avg")a=this.generateAvgFragment(e,t,o,i);else if(o.function==="count")a=this.generateCountFragment(e,t,o,i);else if(["count_distinct","min","max"].includes(o.function))a=this.generateSymmetricFragment(e,t,o,i);else throw new Error(`Internal Error: Unknown aggregate function ${o.function}`);if(e.root().isComplexQuery){let l=e.groupSet;i.totalGroupSet!==-1&&(l=i.totalGroupSet),s+=this.caseGroup([l],a)}else s+=a}else if((0,Lo.isApplyFragment)(o)){let a=this.generateExpressionFromExpr(e,t,o.value,i);s+=this.generateExpressionFromExpr(e,t,o.to,i.withApply(a))}else if((0,Lo.isApplyValue)(o))if(i.applyValue)s+=i.applyValue;else throw new Error("Internal Error: Partial application value referenced but not provided");else if(o.type=="dialect")s+=this.generateDialect(e,t,o,i);else throw new Error(`Internal Error: Unknown expression fragment ${JSON.stringify(o,void 0,2)}`);return s}getExpr(){return(0,Lo.hasExpression)(this.fieldDef)?this.fieldDef.e:[this.parent.dialect.sqlFieldReference(this.parent.getSQLIdentifier(),this.fieldDef.name,this.fieldDef.type,this.parent.fieldDef.structSource.type==="nested"||this.parent.fieldDef.structSource.type==="inline"||this.parent.fieldDef.structSource.type==="sql"&&this.parent.fieldDef.structSource.method==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray)]}generateExpression(e){return this.generateExpressionFromExpr(e,this.parent,this.getExpr())}};function s6(n){return n instanceof R0&&n.isAggregate()}function O0(n){return n instanceof R0&&!n.isAggregate()}var R0=class extends VF{includeInWildcard(){return!0}isAggregate(){return this.fieldDef.aggregate!==void 0&&this.fieldDef.aggregate===!0}getFilterList(){return[]}hasExpression(){return(0,Lo.hasExpression)(this.fieldDef)}},vve=class extends R0{},_ve=class extends R0{},aj=class extends R0{},uj=class extends R0{constructor(e,t,r){super(e,t);this.primaryKey=r}getName(){return(0,Lo.getIdentifier)(this.fieldDef)}getAsJoinedStructDef(e){return{...this.parent.fieldDef,structRelationship:{type:"one",onExpression:[{type:"field",path:this.primaryKey},"=",{type:"field",path:e}]}}}},WF=class extends R0{generateExpression(e){let t=this.fieldDef;if(t.timeframe){let r=this.parent.dialect.sqlTrunc({value:this.getExpr(),valueType:"date"},t.timeframe);return this.generateExpressionFromExpr(e,this.parent,r)}else return super.generateExpression(e)}getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new WF(t,this.parent)}},QF=class extends R0{getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new QF(t,this.parent)}},bve=class extends R0{generateExpression(e){var t;return this.parent.primaryKey()?this.parent.getPrimaryKeyField(this.fieldDef).generateExpression(e):this.parent.fieldDef.structSource.type==="nested"?`CONCAT(${(t=this.parent.parent)===null||t===void 0?void 0:t.getDistinctKey().generateExpression(e)}, 'x', ${this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__row_id","string",!0,!1)})`:this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__distinct_key","string",this.parent.fieldDef.structRelationship.type==="nested",!1)}includeInWildcard(){return!1}},Eve=9;function Sve(n,e,t){let r=9,i=n.sqlSumDistinctHashedKey(t),s=10**(r-Eve),a=`(${`
  (
    SUM(DISTINCT
      (CAST(ROUND(COALESCE(${e},0)*(${s}*1.0), ${Eve}) AS NUMERIC) +
      ${i}
    ))
    -
     SUM(DISTINCT ${i})
  )`}/(${s}*1.0))`;return a=`CAST(${a} as ${n.defaultNumberType})`,a}var N0=class{constructor(e,t,r){this.type="field",this.additionalGroupSets=[],this.f=e,this.fieldUsage=t,this.parent=r}root(){return this.parent.root()}getSQL(){let e=this.f.generateExpression(this.parent);return O0(this.f)&&(e=this.f.caseGroup(this.parent.childGroups.concat(this.additionalGroupSets),e)),e}getPartitionSQL(){return this.partitionSQL===void 0?this.getSQL():this.partitionSQL}},gm=class{constructor(e,t){this.type="query",this.allFields=new Map,this.groupSet=0,this.depth=0,this.childGroups=[],this.hasHaving=!1,this.ungroupedSets=new Map,this.resultUsesUngrouped=!1,this.parent=t,this.turtleDef=e,this.firstSegment=e.pipeline[0]}addField(e,t,r){let i;if(i=this.allFields.get(e)){if(i.type==="query")throw new Error(`Redefinition of field ${t.fieldDef.name} as struct`);if(i.fieldUsage.type==="result"){if(r.type!=="result")return;throw new Error(`Ambiguous output field name '${t.fieldDef.name}'.`)}}this.add(e,new N0(t,r,this))}parentGroupSet(){return this.parent?this.parent.groupSet:0}add(e,t){this.allFields.set(e,t)}hasField(e){let t=this.allFields.get(e);return t!==void 0&&t instanceof N0}getField(e){let t=this.allFields.get(e);if(t===void 0)throw new Error(`Internal Error, field Not defined ${e}`);if(t instanceof N0)return t;throw new Error(`can't use a query here ${e}`)}getFieldByNumber(e){for(let[t,r]of this.allFields)if(r instanceof N0&&r.fieldUsage.type==="result"&&r.fieldUsage.resultIndex===e)return{name:t,fif:r};throw new Error(`Invalid Order By index '${e}`)}computeGroups(e,t){e===0&&this.resultUsesUngrouped&&this.root().computeOnlyGroups.push(e++);for(let[o,a]of this.ungroupedSets){let l=e++;a.groupSet=l,this.root().computeOnlyGroups.push(l)}this.groupSet=e++,this.depth=t;let r=t,i=!1,s=[this.groupSet];for(let[o,a]of this.allFields)if(a.type==="query"){let l=a;if(i=!0,l.firstSegment.type==="reduce"){let f=l.computeGroups(e,t+1);s=s.concat(f.children),e=f.nextGroupSetNumber,f.maxDepth>r&&(r=f.maxDepth)}}return this.childGroups=s,{nextGroupSetNumber:e,maxDepth:r,children:s,isComplex:i}}fields(e=void 0){let t=[];for(let r of this.allFields.values())r instanceof N0&&(e===void 0||e(r))&&t.push(r);return t}fieldNames(e){let t=[];for(let[r,i]of this.allFields)i instanceof N0&&(e===void 0||e(i))&&t.push(r);return t}getRepeatedResultType(){let e="inline_all_numbers";for(let t of this.fields())if(t.fieldUsage.type==="result"){if(O0(t.f))return"nested";t.f instanceof gf&&(e="inline")}return e}structs(){let e=[];for(let t of this.allFields.values())t instanceof gm&&e.push(t);return e}selectStructs(e,t){t(this)&&e.push(this);for(let r of this.structs())r.selectStructs(e,t);return e}calculateDefaultOrderBy(){let e;for(let[t,r]of this.allFields)if(r instanceof N0&&r.fieldUsage.type==="result"){if(e||(e=r.fieldUsage.resultIndex),["date","timestamp"].indexOf(r.f.fieldDef.type)>-1)return[{dir:"desc",field:r.fieldUsage.resultIndex}];if(s6(r.f))return[{dir:"desc",field:r.fieldUsage.resultIndex}]}return e?[{dir:"asc",field:e}]:[]}addStructToJoin(e,t,r,i){var s;let o=e.getIdentifier();if(i.indexOf(o)!==-1)return;let a;if(a=this.root().joins.get(o)){a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r);return}let l,f=(s=e.parent)===null||s===void 0?void 0:s.getJoinableParent();f&&(this.addStructToJoin(f,t,!1,i),l=this.root().joins.get(f.getIdentifier()));let p=e.fieldDef.structRelationship;(0,Lo.isJoinOn)(p)&&e.parent&&p.onExpression!==void 0&&i.indexOf(o)===-1&&t.addDependantExpr(this,e.parent,p.onExpression,[...i,o]),(a=this.root().joins.get(o))||(a=new Cve(e,o,l),this.root().joins.set(o,a)),a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r)}findJoins(e){for(let t of this.fields())this.addStructToJoin(t.f.getJoinableParent(),e,t.f.mayNeedUniqueKey(),[]);for(let t of this.structs())t.findJoins(e)}root(){if(this.parent)return this.parent.root();throw new Error("Internal Error, Null parent FieldInstanceResult")}getUngroupPartitions(e){let t=[],r=this,i=[],s=[];if(e===void 0||e.type==="all"){let a=(e==null?void 0:e.fields)||[];i=this.fields(l=>O0(l.f)&&l.fieldUsage.type==="result"&&a.indexOf(l.f.getIdentifier())===-1).map(l=>l.f.getIdentifier())}else i=e.fields;let o=!0;for(;r!==void 0;)(o||(e==null?void 0:e.type)==="exclude")&&(s=s.concat(r.fields(a=>O0(a.f)&&a.fieldUsage.type==="result").map(a=>a.f.getIdentifier()))),t=t.concat(r.fields(a=>O0(a.f)&&a.fieldUsage.type==="result"&&i.indexOf(a.f.getIdentifier())===-1)),r=r.parent,o=!1;for(let a of(e==null?void 0:e.fields)||[])if(s.indexOf(a)===-1)throw new Error(`${e==null?void 0:e.type}(): unknown field name "${a}" or name not in scope.`);return t}assignFieldsToGroups(){for(let[e,t]of this.ungroupedSets)for(let r of this.getUngroupPartitions(t))r.additionalGroupSets.push(t.groupSet);for(let e of this.structs())e.assignFieldsToGroups()}},wve=class extends gm{constructor(e){super(e,void 0);this.joins=new Map,this.havings=new e1.AndChain,this.isComplexQuery=!1,this.queryUsesUngrouped=!1,this.computeOnlyGroups=[],this.elimatedComputeGroups=!1}root(){return this}eliminateComputeGroupsSQL(){return this.elimatedComputeGroups||this.computeOnlyGroups.length==0?"":(this.elimatedComputeGroups=!0,`group_set NOT IN (${this.computeOnlyGroups.join(",")})`)}calculateSymmetricAggregates(){let e;for(let[t,r]of this.joins)if(r.parentRelationship()==="many_to_many")e="0never";else if(e===void 0)e=t;else if(r.parentRelationship()==="one_to_many"){let s=r.queryStruct;s.parent&&s.parent.getIdentifier()===e?e=t:e="0never"}for(let[t,r]of this.joins)r.leafiest=t===e;for(let[t,r]of this.joins)if(!r.leafiest&&r.mayNeedUniqueKey){let i=r;for(;i;)i.queryStruct.primaryKey()||(i.makeUniqueKey=!0),i.queryStruct.fieldDef.structRelationship.type==="nested"?i=i.parent:i=void 0}}},Cve=class{constructor(e,t,r){if(this.mayNeedUniqueKey=!1,this.makeUniqueKey=!1,this.leafiest=!1,this.children=[],this.queryStruct=e,this.parent=r,this.alias=t,r&&r.children.push(this),this.queryStruct.fieldDef.filterList)for(let i of this.queryStruct.fieldDef.filterList){this.joinFilterConditions=[];let s=new aj({type:"boolean",name:"ignoreme",e:i.expression},this.queryStruct);this.joinFilterConditions.push(s)}}parentRelationship(){if(this.queryStruct.parent===void 0)return"root";switch(this.queryStruct.fieldDef.structRelationship.type){case"one":return"many_to_one";case"cross":return"many_to_many";case"many":return"one_to_many";case"nested":return"one_to_many";case"inline":return"one_to_one";default:throw new Error(`Internal error unknown relationship type to parent for ${this.queryStruct.fieldDef.name}`)}}getDialectFieldList(){let e=[];for(let t of this.queryStruct.fieldDef.fields.filter(Lo.isPhysical))e.push({type:t.type,sqlExpression:(0,Lo.getIdentifier)(t),sqlOutputName:(0,Lo.getIdentifier)(t)});return e}},ate=class extends VF{},Ave=class{static nextStructDef(e,t){let r=new gf(e,{model:new ute(void 0)}),i={type:"turtle",name:"ignoreme",pipeline:[t]};return hh.makeQuery(i,r,new O8(!0,void 0)).getResultStructDef()}};L5.Segment=Ave;var hh=class extends VF{constructor(e,t,r){super(e,t);this.prepared=!1,this.maxDepth=0,this.maxGroupSet=0,this.fieldDef=e,this.rootResult=new wve(e),this.stageWriter=r,this.firstSegment=e.pipeline[0]}static makeQuery(e,t,r=void 0){let i=t.flattenTurtleDef(e),s=t,o=i.pipeline[0];switch(r!==void 0&&(0,Lo.isQuerySegment)(o)&&o.extendSource!==void 0&&(s=new gf({...t.fieldDef,fields:[...t.fieldDef.fields,...o.extendSource]},s.parent?{struct:s}:{model:s.model}),i={...i,pipeline:[{...o,extendSource:void 0},...i.pipeline.slice(1)]}),o.type){case"reduce":return new Tve(i,s,r);case"project":return new Fve(i,s,r);case"index":return new Dve(i,s,r)}}getFieldList(){switch(this.firstSegment.type){case"reduce":return this.firstSegment.fields;case"project":return this.firstSegment.fields;default:throw new Error(`Query contains no fields ${JSON.stringify(this.fieldDef)}`)}}expandField(e){let t,r;if(typeof e=="string")r=this.parent.getQueryFieldByName(e);else if("type"in e)r=this.parent.makeQueryField(e);else if("name"in e&&"as"in e){if(r=this.parent.getQueryFieldByName(e.name),t=r.fieldDef.as||e.as,r instanceof uj)throw new Error("Syntax currently disallowed. Semantics up for discussion");let i;if(r instanceof hh){let s=(0,yve.cloneDeep)(r.fieldDef);s.as=e.name,s.filterList=e.filterList,r=hh.makeQuery(s,this.parent)}else if(!(r instanceof QF||r instanceof WF)){i=[{type:"field",path:r.getFullOutputName()}],"filterList"in e&&e.filterList&&(i=[{type:"filterExpression",filterList:e.filterList,e:i}]);let s={type:r.fieldDef.type,name:e.as,e:i,aggregate:s6(r)};r=this.parent.makeQueryField(s)}}else throw new Error(`Unrecognized field definition ${JSON.stringify(e,void 0,2)}`);return t||(t=r.getIdentifier()),{as:t,field:r}}expandDependantField(e,t){this.expandField(t)}expandWildCardStruct(e,t,r=void 0){let i=[],s=[];for(let[o,a]of e.nameMap)a instanceof R0&&O0(a)&&a.includeInWildcard()&&!this.parent.dialect.ignoreInProject(a.fieldDef.name)&&(!r||r(a))?i.push(a.getFullOutputName()):a instanceof gf&&t&&s.push(a);for(let o of s)i=i.concat(this.expandWildCardStruct(o,t,r));return i}expandWildCards(e,t=void 0){let r=[];for(let i of e)if(typeof i!="string")r.push(i);else{let o=i.split(".");if(!o[o.length-1].startsWith("*"))r.push(i);else{let a=o.pop()==="**",l=this.parent,f;for(;o.length>0&&(f=o.shift());){let p=l.getChildByName(f);if(p===void 0)throw new Error(`Nested explore not found '${f}'`);if(p instanceof gf)l=p;else throw new Error(`'${f}' is not an explore object`)}r=r.concat(this.expandWildCardStruct(l,a,t))}}return r}addDependantPath(e,t,r,i,s){let o=t.getFieldByName(r),a;if(o instanceof VF)a=o.parent;else if(o instanceof gf)a=o;else throw new Error("Internal Error:  Unknown object type");e.root().addStructToJoin(a.getJoinableParent(),this,i,s)}addDependantExpr(e,t,r,i){for(let s of r)if((0,Lo.isUngroupFragment)(s)){if(e.resultUsesUngrouped=!0,e.root().isComplexQuery=!0,e.root().queryUsesUngrouped=!0,s.fields&&s.fields.length>0){let o=s.fields.sort().join("|")+s.type;e.ungroupedSets.get(o)===void 0&&e.ungroupedSets.set(o,{type:s.type,fields:s.fields,groupSet:-1})}this.addDependantExpr(e,t,s.e,i)}else if((0,Lo.isFieldFragment)(s)){let o=t.getDimensionOrMeasureByName(s.path);(0,Lo.hasExpression)(o.fieldDef)?this.addDependantExpr(e,o.parent,o.fieldDef.e,i):e.root().addStructToJoin(o.parent.getJoinableParent(),this,!1,i)}else if((0,Lo.isFilterFragment)(s))for(let o of s.filterList)this.addDependantExpr(e,t,o.expression,i);else if((0,Lo.isDialectFragment)(s)){let o=[];switch(s.function){case"now":break;case"div":o.push(s.denominator),o.push(s.numerator);break;case"timeLiteral":break;case"timeDiff":o.push(s.left.value,s.right.value);break;case"delta":o.push(s.base.value,s.delta);break;case"trunc":case"extract":o.push(s.expr.value);break;case"regexpMatch":case"cast":o.push(s.expr);break;default:throw new Error("Unknown dialect Fragment type.  Can't generate dependancies")}for(let a of o)this.addDependantExpr(e,t,a,i)}else(0,Lo.isAggregateFragment)(s)&&((0,Lo.isAsymmetricFragment)(s)&&(s.structPath?this.addDependantPath(e,t,s.structPath,!0,i):e.addStructToJoin(t,this,!0,i)),this.addDependantExpr(e,t,s.e,i))}addDependancies(e,t){(0,Lo.hasExpression)(t.fieldDef)&&this.addDependantExpr(e,t.parent,t.fieldDef.e,[])}expandFields(e){let t=1;for(let r of this.expandWildCards(e.firstSegment.fields)){let{as:i,field:s}=this.expandField(r);if(s instanceof ate||s instanceof hh){if(this.firstSegment.type==="project")throw new Error(`Turtled Queries cannot be used in PROJECT - '${s.fieldDef.name}'`);let o=new gm(s.fieldDef,e);this.expandFields(o),e.add(i,o)}else if(s instanceof R0&&(e.addField(i,s,{resultIndex:t,type:"result"}),this.addDependancies(e,s),s6(s)&&this.firstSegment.type==="project"))throw new Error(`Aggregate Fields cannot be used in PROJECT - '${s.fieldDef.name}'`);t++}this.expandFilters(e)}expandFilters(e){if(e.firstSegment.filterList!==void 0){for(let t of e.firstSegment.filterList||[]){let r=this.parent;this.addDependantExpr(e,r,t.expression,[])}for(let t of e.root().joins.values()||[])for(let r of t.joinFilterConditions||[])r.fieldDef.type==="boolean"&&r.fieldDef.e&&this.addDependantExpr(e,r.parent,r.fieldDef.e,[])}}generateSQLFilters(e,t,r=void 0){let i=new e1.AndChain,s=r||e.firstSegment.filterList;if(s===void 0)return i;for(let o of s||[]){let a=this.parent;if(t==="having"&&o.aggregate||t==="where"&&!o.aggregate){let l=this.generateExpressionFromExpr(e,a,o.expression,void 0);i.add(l)}}return i}prepare(e){this.prepared||(this.expandFields(this.rootResult),this.rootResult.findJoins(this),this.rootResult.calculateSymmetricAggregates(),this.prepared=!0)}getResultMetadata(e){if(e instanceof N0){if(e.fieldUsage.type==="result"){let t=e.f.fieldDef,r,i=e.f.parent.getFullOutputName()+(t.name||t.as),s=t.code,o=[i];return s6(e.f)?(r=e.f.getFilterList(),{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"measure"}):O0(e.f)?{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"dimension"}:void 0}return}else if(e instanceof gm){let t=e.turtleDef.name||e.turtleDef.as,r=t?[t]:[],i=e.firstSegment.filterList,s=e.turtleDef.pipeline[e.turtleDef.pipeline.length-1].limit;if(t)return{sourceField:t,filterList:i,sourceClasses:r,fieldKind:"struct",limit:s}}}getResultStructDef(e=this.rootResult,t=!0){let r=[],i;this.prepare(void 0);let s=0;for(let[o,a]of e.allFields){let l=this.getResultMetadata(a);if(a instanceof gm){let{structDef:f}=this.generateTurtlePipelineSQL(a,new O8(!0,void 0),"<nosource>"),p=a.getRepeatedResultType()==="nested"?"nested":"inline";f.name=o,f.structRelationship={field:o,type:p,isArray:!1},f.structSource={type:p},f.resultMetadata=l,r.push(f)}else if(a instanceof N0&&a.fieldUsage.type==="result"){a.f instanceof uj&&r.push(a.f.getAsJoinedStructDef(o)),O0(a.f)&&(s===0&&t?i=o:i=void 0,s++);let f=a.f.fieldDef.location;switch(a.f.fieldDef.type){case"boolean":case"string":r.push({name:o,type:a.f.fieldDef.type,resultMetadata:l,location:f});break;case"timestamp":{let p=a.f.fieldDef.timeframe;switch(p){case"year":case"month":case"week":case"quarter":case"day":r.push({name:o,type:"date",timeframe:p,resultMetadata:l,location:f});break;case"second":case"minute":case"hour":r.push({name:o,type:"timestamp",timeframe:p,resultMetadata:l,location:f});break;default:r.push({name:o,type:"timestamp",resultMetadata:l,location:f});break}break}case"date":{r.push({name:o,type:a.f.fieldDef.type,timeframe:a.f.fieldDef.timeframe,resultMetadata:l,location:f});break}case"number":r.push({name:o,numberType:a.f.fieldDef.numberType,type:"number",resultMetadata:l,location:f});break;default:throw new Error(`unknown Field Type in query ${JSON.stringify(a.f.fieldDef)}`)}}}return{fields:r,name:this.resultStage||"result",dialect:this.parent.dialect.name,primaryKey:i,structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"},resultMetadata:this.getResultMetadata(this.rootResult),type:"struct"}}generateSQLJoinBlock(e,t){let r="",i=t.queryStruct,s=i.fieldDef.structRelationship,o=i.structSourceSQL(e);if((0,Lo.isJoinOn)(s)){t.makeUniqueKey&&(o=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${o})`);let a="";if(i.parent===void 0)throw new Error("Expected joined struct to have a parent.");s.onExpression?a=new aj({type:"boolean",name:"ignoreme",e:s.onExpression},i.parent).generateExpression(this.rootResult):a="1=1";let l="",f;if(t.joinFilterConditions&&(f=t.joinFilterConditions.map(p=>p.generateExpression(this.rootResult))),t.children.length===0||f===void 0)f!==void 0&&f.length>=1&&(l=` AND (${f.join(" AND ")})`),r+=`LEFT JOIN ${o} AS ${t.alias}
  ON ${a}${l}
`;else{let p=`SELECT ${t.alias}.*`,_="";for(let E of t.children){_+=this.generateSQLJoinBlock(e,E);let O=(0,Lo.getPhysicalFields)(E.queryStruct.fieldDef).map(R=>this.parent.dialect.sqlMaybeQuoteIdentifier(R.name));p+=`, ${this.parent.dialect.sqlSelectAliasAsStruct(E.alias,O)} AS ${E.alias}`}return p+=`
FROM ${o} AS ${t.alias}
${_}
WHERE ${f==null?void 0:f.join(" AND ")}
`,r+=`LEFT JOIN (
${(0,e1.indent)(p)}) AS ${t.alias}
  ON ${a}
`,r}}else if(s.type==="nested"){if(i.parent===void 0||t.parent===void 0)throw new Error("Internal Error, nested structure with no parent.");let a=this.parent.dialect.sqlFieldReference(i.parent.getSQLIdentifier(),s.field,"struct",i.parent.fieldDef.structRelationship.type==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray);r+=`${this.parent.dialect.sqlUnnestAlias(a,t.alias,t.getDialectFieldList(),t.makeUniqueKey,s.isArray)}
`}else throw s.type==="inline"?new Error("Internal Error: inline structs should never appear in join trees"):new Error(`Join type not implemented ${JSON.stringify(i.fieldDef.structRelationship)}`);for(let a of t.children)r+=this.generateSQLJoinBlock(e,a);return r}generateSQLJoins(e){let t="",[[,r]]=this.rootResult.joins,i=r.queryStruct,s=i.structSourceSQL(e);if((0,Lo.isIndexSegment)(this.firstSegment)&&(s=this.parent.dialect.sqlSampleTable(s,this.firstSegment.sample)),i.fieldDef.structRelationship.type==="basetable")r.makeUniqueKey&&(s=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${s} as x)`),t+=`FROM ${s} as ${this.parent.getIdentifier()}
`;else throw new Error("Internal Error, queries must start from a basetable");for(let a of r.children)t+=this.generateSQLJoinBlock(e,a);return t}genereateSQLOrderBy(e,t){let r="";if(this.firstSegment.type==="project"&&!e.orderBy)return"";let i=e.orderBy||t.calculateDefaultOrderBy(),s=[];for(let o of i)if(typeof o.field=="string"){let a=t.getField(o.field);if(a&&a.fieldUsage.type==="result")s.push(`${a.fieldUsage.resultIndex} ${o.dir||"ASC"}`);else throw new Error(`Unknown field in ORDER BY ${o.field}`)}else s.push(`${o.field} ${o.dir||"ASC"}`);return s.length>0&&(r=this.parent.dialect.sqlOrderBy(s)+`
`),r}generateSimpleSQL(e){let t="";t+=`SELECT 
`;let r=[];for(let[i,s]of this.rootResult.allFields){let o=s,a=this.parent.dialect.sqlMaybeQuoteIdentifier(i);o.fieldUsage.type==="result"&&r.push(` ${o.f.generateExpression(this.rootResult)} as ${a}`)}if(t+=(0,e1.indent)(r.join(`,
`))+`
`,t+=this.generateSQLJoins(e),t+=this.generateSQLFilters(this.rootResult,"where").sql("where"),this.firstSegment.type==="reduce"){let i=[];for(let s of this.rootResult.fields()){let o=s;o.fieldUsage.type==="result"&&O0(o.f)&&i.push(o.fieldUsage.resultIndex.toString())}i.length>0&&(t+=`GROUP BY ${i.join(",")}
`)}return t+=this.generateSQLFilters(this.rootResult,"having").sql("having"),t+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(t+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(t),this.resultStage}generatePipelinedStages(e,t,r){if(e.length===0)return t;let i=e.map(s=>`${s.pipelineSQL} as ${s.sqlFieldName}
      `).join(`,
`);return r.addStage(`SELECT * replace (${i}) FROM ${t}
      `)}generateStage0Fields(e,t,r){for(let[s,o]of e.allFields){let a=this.parent.dialect.sqlMaybeQuoteIdentifier(`${s}__${e.groupSet}`);if(o instanceof N0){if(o.fieldUsage.type==="result"){let l=o.getSQL();if(O0(o.f)){if(this.parent.dialect.name==="standardsql"&&this.rootResult.queryUsesUngrouped)if(o.f.fieldDef.type==="number"){t.sql.push(`${l} as ${a}`);let f=`__lateral_join_bag.${a}_string`;t.sql.push(f),t.dimensionIndexes.push(t.fieldIndex++),t.lateralJoinSQLExpressions.push(`CAST(${l} as STRING) as ${a}_string`),o.partitionSQL=f}else{let f=`__lateral_join_bag.${a}`;o.partitionSQL=f,t.lateralJoinSQLExpressions.push(`${l} as ${a}`),t.sql.push(f)}else t.sql.push(`${l} as ${a}`);t.dimensionIndexes.push(t.fieldIndex++)}else s6(o.f)&&(t.sql.push(`${l} as ${a}`),t.fieldIndex++)}}else if(o instanceof gm){if(o.firstSegment.type==="reduce")this.generateStage0Fields(o,t,r);else if(o.firstSegment.type==="project"){let l=this.generateTurtleSQL(o,r,a,t.outputPipelinedSQL);t.sql.push(`${l} as ${a}`),t.fieldIndex++}}}let i=this.generateSQLFilters(e,"having");i.empty()||(e.childGroups.length===1?e.root().havings.add(`(group_set<>${e.groupSet} OR (group_set=${e.groupSet} AND ${i.sql()}))`):(e.hasHaving=!0,t.sql.push(`CASE WHEN group_set=${e.groupSet} THEN CASE WHEN ${i.sql()} THEN 0 ELSE 1 END END as __delete__${e.groupSet}`),t.fieldIndex++))}generateSQLWhereChildren(e){let t=new e1.AndChain;for(let[,r]of e.allFields)if(r.type==="query"){let i=r,s=this.generateSQLFilters(i,"where");if(s.present()){let o=i.childGroups.join(",");t.add(`(group_set NOT IN (${o}) OR (group_set IN (${o}) AND ${s.sql()}))`)}t.addChain(this.generateSQLWhereChildren(i))}return t}generateSQLWhereTurtled(){let e=this.generateSQLFilters(this.rootResult,"where");return e.addChain(this.generateSQLWhereChildren(this.rootResult)),e.sql("where")}generateSQLHavingLimit(e,t){let r=[],i=this.rootResult.selectStructs([],s=>s.hasHaving);if(i.length>0)for(let s of i){let o=[],a=s;for(;a;){for(let l of a.fieldNames(f=>O0(f.f)))o.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${l}__${a.groupSet}`));a=a.parent}r.push(`MAX(CASE WHEN group_set IN (${s.childGroups.join(",")}) THEN __delete__${s.groupSet} END) OVER(partition by ${o.map(l=>`CAST(${l} AS ${this.parent.dialect.stringTypeName}) `).join(",")}) as __shaving__${s.groupSet}`)}if(i.length>0){t=e.addStage(`SELECT
  *,
  ${r.join(`,
  `)} 
FROM ${t}`);let s=new e1.AndChain;for(let o of i)s.add(`group_set IN (${o.childGroups.join(",")}) AND __shaving__${o.groupSet}=1`);t=e.addStage(`SELECT *
FROM ${t}
WHERE NOT (${s.sqlOr()})`)}return t}generateSQLStage0(e){let t=`SELECT
`,r=this.generateSQLJoins(e),i=this.generateSQLWhereTurtled(),s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};if(this.generateStage0Fields(this.rootResult,s,e),this.firstSegment.type==="project")throw new Error("PROJECT cannot be used on queries with turtles");let o="GROUP BY "+s.dimensionIndexes.join(",")+`
`;r+=this.parent.dialect.sqlGroupSetTable(this.maxGroupSet)+`
`,t+=(0,e1.indent)(s.sql.join(`,
`))+`
`,s.lateralJoinSQLExpressions.length>0&&(r+=`LEFT JOIN UNNEST([STRUCT(${s.lateralJoinSQLExpressions.join(`,
`)})]) as __lateral_join_bag
`),t+=r+i+o+this.rootResult.havings.sql("having");let a=e.addStage(t);return this.resultStage=this.generateSQLHavingLimit(e,a),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,e),this.resultStage}generateDepthNFields(e,t,r,i){let s=[];for(let[o,a]of t.allFields){let l=this.parent.dialect.sqlMaybeQuoteIdentifier(`${o}__${t.groupSet}`);if(a instanceof N0){if(a.fieldUsage.type==="result"){if(O0(a.f)){let f=this.caseGroup(t.groupSet>0?t.childGroups:[],l);r.sql.push(`${f} as ${l}`),r.dimensionIndexes.push(r.fieldIndex++)}else if(s6(a.f)){let f=this.parent.dialect.sqlAnyValue(t.groupSet,l);r.sql.push(`${f} as ${l}`),r.fieldIndex++}}}else if(a instanceof gm&&!(a.depth>e))if(a.depth===e){let f=this.generateTurtleSQL(a,i,l,r.outputPipelinedSQL);r.groupsAggregated.push({fromGroup:a.groupSet,toGroup:t.groupSet}),s.push(a.groupSet),r.sql.push(`${f} as ${l}`),r.fieldIndex++}else this.generateDepthNFields(e,a,r,i)}if(r.groupsAggregated.length>0){r.sql[0]="CASE ";for(let o of r.groupsAggregated)r.sql[0]+=`WHEN group_set=${o.fromGroup} THEN ${o.toGroup} `;r.sql[0]+=" ELSE group_set END as group_set"}}generateSQLDepthN(e,t,r){let i=`SELECT 
`,s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};this.generateDepthNFields(e,this.rootResult,s,t),i+=(0,e1.indent)(s.sql.join(`,
`))+`
`,i+=`FROM ${r}
`;let o=this.rootResult.eliminateComputeGroupsSQL();return o.length>0&&(i+=`WHERE ${o}
`),s.dimensionIndexes.length>0&&(i+=`GROUP BY ${s.dimensionIndexes.join(",")}
`),this.resultStage=t.addStage(i),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,t),this.resultStage}genereateSQLCombineTurtles(e,t){let r=`SELECT
`,i=[],s=1,o=[],a=[];for(let[f,p]of this.rootResult.allFields){let _=this.parent.dialect.sqlMaybeQuoteIdentifier(f);p instanceof N0?p.fieldUsage.type==="result"&&(O0(p.f)?(i.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${f}__${this.rootResult.groupSet}`)+` as ${_}`),a.push(s++)):s6(p.f)&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(f,this.rootResult.groupSet,_)),s++)):p instanceof gm&&(p.firstSegment.type==="reduce"?(i.push(`${this.generateTurtleSQL(p,e,_,o)} as ${_}`),s++):p.firstSegment.type==="project"&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(f,this.rootResult.groupSet,_)),s++))}r+=(0,e1.indent)(i.join(`,
`))+`
FROM ${t}
`;let l=this.rootResult.eliminateComputeGroupsSQL();return l.length>0&&(r+=`WHERE ${l}
`),a.length>0&&(r+=`GROUP BY ${a.join(",")}
`),r+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(r+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(r),this.resultStage=this.generatePipelinedStages(o,this.resultStage,e),this.resultStage}generateTurtleSQL(e,t,r,i){let s=[],o="",a=e.firstSegment.limit,l=[],f,p=e.firstSegment.orderBy||e.calculateDefaultOrderBy();for(let z of p)typeof z.field=="string"?f={name:z.field,fif:e.getField(z.field)}:f=e.getFieldByNumber(z.field),e.firstSegment.type==="reduce"?l.push(" "+this.parent.dialect.sqlMaybeQuoteIdentifier(`${f.name}__${e.groupSet}`)+` ${z.dir||"ASC"}`):e.firstSegment.type==="project"&&l.push(` ${f.fif.f.generateExpression(e)} ${z.dir||"ASC"}`);l.length>0&&(o=" "+this.parent.dialect.sqlOrderBy(l));for(let[z,L]of e.allFields){let B=this.parent.dialect.sqlMaybeQuoteIdentifier(z);e.firstSegment.type==="reduce"&&(L instanceof gm||L instanceof N0&&L.fieldUsage.type==="result")?s.push({type:L instanceof N0?L.f.fieldDef.type:"struct",sqlExpression:this.parent.dialect.sqlMaybeQuoteIdentifier(`${z}__${e.groupSet}`),sqlOutputName:B}):e.firstSegment.type==="project"&&L instanceof N0&&L.fieldUsage.type==="result"&&s.push({type:L.type,sqlExpression:L.f.generateExpression(e),sqlOutputName:B})}let _,E;(_=e.getRepeatedResultType())!=="nested"?_==="inline_all_numbers"?E=this.parent.dialect.sqlCoaleseMeasuresInline(e.groupSet,s):E=this.parent.dialect.sqlAnyValueTurtle(e.groupSet,s):E=this.parent.dialect.sqlAggregateTurtle(e.groupSet,s,o,a);let O=new O8(this.parent.dialect.supportsCTEinCoorelatedSubQueries,t),{structDef:R,pipeOut:q}=this.generateTurtlePipelineSQL(e,O,this.parent.dialect.supportUnnestArrayAgg?E:r);if(q!==void 0){let z=O.generateCoorelatedSubQuery(this.parent.dialect,R);this.parent.dialect.supportUnnestArrayAgg?E=`(${z})`:i.push({sqlFieldName:r,pipelineSQL:`(${z})`})}return E}generateTurtlePipelineSQL(e,t,r){let i=this.getResultStructDef(e,!1),s=e.getRepeatedResultType(),o=e.turtleDef.pipeline.length>1,a;if(o){let l=[...e.turtleDef.pipeline];l.shift();let f={type:"turtle",name:"starthere",pipeline:l};i.name=this.parent.dialect.sqlUnnestPipelineHead(s==="inline_all_numbers",r),i.structSource={type:"sql",method:"nested"};let p=new gf(i,{model:this.parent.getModel()});a=hh.makeQuery(f,p,t).generateSQLFromPipeline(t),i=a.outputStruct}return{structDef:i,pipeOut:a}}generateComplexSQL(e){let t=this.generateSQLStage0(e);if(this.maxDepth>1){let r=this.maxDepth;for(;r>1;)t=this.generateSQLDepthN(r,e,t),r--}return this.genereateSQLCombineTurtles(e,t)}generateSQL(e){var t;let r=this.rootResult.computeGroups(0,0);return this.maxDepth=r.maxDepth,this.maxGroupSet=r.nextGroupSetNumber-1,this.rootResult.assignFieldsToGroups(),(t=this.rootResult).isComplexQuery||(t.isComplexQuery=this.maxDepth>0||r.isComplex),this.rootResult.isComplexQuery?this.generateComplexSQL(e):this.generateSimpleSQL(e)}toMalloy(){let e=`EXPLORE ${(0,Lo.getIdentifier)(this.parent.fieldDef)} | `;return e+=this.fieldDef.type.toUpperCase()+" ",e}generateSQLFromPipeline(e){this.prepare(e);let t=this.generateSQL(e),r=this.getResultStructDef();if(this.fieldDef.pipeline.length>1){let i=[...this.fieldDef.pipeline],s={...r,structSource:{type:"sql",method:"lastStage"}};i.shift();for(let o of i){let a=new gf(s,{model:this.parent.getModel()}),l=hh.makeQuery({type:"turtle",name:"ignoreme",pipeline:[o]},a,e);l.prepare(e),t=l.generateSQL(e),r=l.getResultStructDef(),s={...r,structSource:{type:"sql",method:"lastStage"}}}}return{lastStageName:t,outputStruct:r}}},Tve=class extends hh{},Fve=class extends hh{},Dve=class extends hh{constructor(e,t,r){super(e,t,r);this.fanPrefixes=[],this.fieldDef=e,this.findFanPrefexes(t)}findFanPrefexes(e){for(let[t,r]of e.nameMap)r instanceof gf&&(r.fieldDef.structRelationship.type==="many"||r.fieldDef.structRelationship.type==="nested")&&this.fanPrefixes.push(r.getFullOutputName())}expandField(e){let t=this.parent.getFieldByName(e);return{as:e,field:t}}expandFields(e){let t=1,r=e.groupSet;this.maxGroupSet=r;let i=this.firstSegment.fields||[];i.length===0&&i.push("**"),i=this.expandWildCards(i,o=>["string","number","timestamp","date"].indexOf(o.fieldDef.type)!==-1);for(let o of i){let{as:a,field:l}=this.expandField(o);e.addField(a,l,{resultIndex:t,type:"result"}),l instanceof R0&&this.addDependancies(e,l),t++}let s=this.firstSegment.weightMeasure;if(s!==void 0){let o=this.parent.getFieldByName(s);e.addField(s,o,{resultIndex:t,type:"result"}),this.addDependancies(e,o)}this.expandFilters(e)}generateSQL(e){let t="COUNT(*)",r=this.parent.dialect,i=r.sqlMaybeQuoteIdentifier("fieldName"),s=r.sqlMaybeQuoteIdentifier("fieldValue"),o=r.sqlMaybeQuoteIdentifier("fieldType"),a=r.sqlMaybeQuoteIdentifier("fieldRange"),l=this.firstSegment.weightMeasure;l&&(t=this.rootResult.getField(l).f.generateExpression(this.rootResult));let f=[];for(let[E,O]of this.rootResult.allFields){let R=O;if(R.fieldUsage.type==="result"&&O0(R.f)){let q=R.f.generateExpression(this.rootResult);f.push({name:E,type:R.f.fieldDef.type,expression:q})}}let p=`SELECT
  group_set,
`;p+=`  CASE group_set
`;for(let E=0;E<f.length;E++)p+=`    WHEN ${E} THEN '${f[E].name}'
`;p+=`  END as ${i},`,p+=`  CASE group_set
`;for(let E=0;E<f.length;E++)p+=`    WHEN ${E} THEN '${f[E].type}'
`;p+=`  END as ${o},`,p+=`  CASE group_set
`;for(let E=0;E<f.length;E++)f[E].type==="string"&&(p+=`    WHEN ${E} THEN ${f[E].expression}
`);p+=`  END as ${s},
`,p+=` ${t} as weight,
`,p+=`  CASE group_set
    WHEN 99999 THEN ''`;for(let E=0;E<f.length;E++)f[E].type==="number"&&(p+=`    WHEN ${E} THEN CAST(MIN(${f[E].expression}) AS ${r.stringTypeName}) || ' to ' || CAST(MAX(${f[E].expression}) AS ${r.stringTypeName})
`),(f[E].type==="timestamp"||f[E].type==="date")&&(p+=`    WHEN ${E} THEN MIN(${r.sqlDateToString(f[E].expression)}) || ' to ' || MAX(${r.sqlDateToString(f[E].expression)})
`);p+=`  END as ${a}
`,p+=this.generateSQLJoins(e),p+=r.sqlGroupSetTable(f.length)+`
`,p+=this.generateSQLFilters(this.rootResult,"where").sql("where"),p+=`GROUP BY 1,2,3,4
`,this.firstSegment.limit&&(p+=`LIMIT ${this.firstSegment.limit}
`);let _=e.addStage(p);return this.resultStage=e.addStage(`SELECT
  ${i},
  ${o},
  COALESCE(${s}, ${a}) as ${s},
  weight
FROM ${_}
`),this.resultStage}getResultStructDef(){return{type:"struct",name:this.resultStage||"result",dialect:this.parent.fieldDef.dialect,fields:[{type:"string",name:"fieldName"},{type:"string",name:"fieldValue"},{type:"string",name:"fieldType"},{type:"number",name:"weight",numberType:"integer"}],structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"}}}},gf=class extends ote{constructor(e,t){super(e);if(this.nameMap=new Map,this.setParent(t),"model"in t)if(this.model=t.model,this.pathAliasMap=new Map,e.structRelationship.type==="basetable")this.connectionName=e.structRelationship.connectionName;else throw new Error("All root StructDefs should be a baseTable");else this.model=this.getModel(),this.pathAliasMap=this.root().pathAliasMap,this.connectionName=this.root().connectionName;this.fieldDef=e,this.dialect=(0,ptt.getDialect)(this.fieldDef.dialect),this.addFieldsFromFieldList(this.fieldDef.fields)}parameters(){return this.fieldDef.parameters||{}}addFieldsFromFieldList(e){for(let t of e){let r=(0,Lo.getIdentifier)(t);switch(t.type){case"struct":{this.addFieldToNameMap(r,new gf(t,{struct:this}));break}case"turtle":{this.addFieldToNameMap(r,hh.makeQuery(t,this));break}default:this.addFieldToNameMap(r,this.makeQueryField(t))}}this.nameMap.has("__distinct_key")||this.addFieldToNameMap("__distinct_key",new bve({type:"string",name:"__distinct_key"},this))}getAliasIdentifier(){let e=this.getFullOutputName(),t=this.pathAliasMap.get(e);if(t===void 0){let r=Array.from(this.pathAliasMap.values()),i=(0,Lo.getIdentifier)(this.fieldDef),s=`${i}_0`,o=1;for(;r.includes(s)&&o<1e3;)o++,s=`${i}_${o}`;if(o<1e3)return this.pathAliasMap.set(e,s),s;throw new Error("Internal Error: cannot create unique alias name")}else return t}getAsQueryField(){if(this.fieldDef.primaryKey===void 0)throw new Error(`Joined explores can only be included in queries if a primary key is defined: '${this.getFullOutputName()}' has no primary key`);let e=this.getPrimaryKeyField(this.fieldDef),t=e.fieldDef.type;if(t!=="string"&&t!=="number")throw new Error(`Unknown Primary key data type for ${name}`);let r=(0,Lo.getIdentifier)(this.fieldDef),i=this.fieldDef.primaryKey,s={type:t,name:`${r}_id`,e:[{type:"field",path:e.getIdentifier()}]};return new uj(s,this,`${r}.${i}`)}getSQLIdentifier(){return this.unnestWithNumbers()&&this.parent!==void 0?this.parent.getSQLIdentifier()+"."+(0,Lo.getIdentifier)(this.fieldDef)+`[${this.getIdentifier()}.__row_id]`:this.getIdentifier()}getIdentifier(){return this.fieldDef.structRelationship.type==="basetable"?this.fieldDef.as===void 0?"base":super.getIdentifier():this.fieldDef.structRelationship.type==="inline"&&this.parent?this.parent.getIdentifier()+"."+super.getIdentifier():this.getAliasIdentifier()}getFullOutputName(){return this.parent?this.parent.getFullOutputName()+(0,Lo.getIdentifier)(this.fieldDef)+".":""}needsSymetricCalculation(e){let t=this.getJoinableParent().getIdentifier(),r=e.root().joins.get(t);if(r)return!r.leafiest;throw new Error(`Join ${t} not found in result set`)}unnestWithNumbers(){return this.dialect.unnestWithNumbers&&this.fieldDef.structRelationship.type==="nested"}getJoinableParent(){if(this.fieldDef.structRelationship.type==="inline"){if(this.parent)return this.parent.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return this}addFieldToNameMap(e,t){if(this.nameMap.has(e))throw new Error(`Redefinition of ${e}`);this.nameMap.set(e,t)}getPrimaryKeyField(e){let t;if(t=this.primaryKey())return t;throw new Error(`Missing primary key for ${e}`)}resolveQueryFields(){if(this.fieldDef.structSource.type==="query"){let e=this.model.loadQuery(this.fieldDef.structSource.query,void 0).structs.pop();if(!e)throw new Error("Internal Error, query didn't produce a struct");let t={...this.fieldDef};for(let r of e.fields){let i;this.nameMap.has(i=(0,Lo.getIdentifier)(r))||(t.fields.push(r),this.nameMap.set(i,this.makeQueryField(r)))}this.fieldDef=t,!this.fieldDef.primaryKey&&e.primaryKey&&(this.fieldDef.primaryKey=e.primaryKey)}for(let[,e]of this.nameMap)e instanceof gf&&e.resolveQueryFields()}getModel(){if(this.model)return this.model;if(this.parent===void 0)throw new Error("Expected this query struct to have a parent, as no model was present.");return this.parent.getModel()}setParent(e){"struct"in e&&(this.parent=e.struct),"model"in e?this.model=e.model:this.model=this.getModel()}makeQueryField(e){switch(e.type){case"string":return new vve(e,this);case"date":return new WF(e,this);case"timestamp":return new QF(e,this);case"number":return new _ve(e,this);case"boolean":return new aj(e,this);case"turtle":return new ate(e,this);default:throw new Error(`unknown field definition ${JSON.stringify(e)}`)}}getOrMakeField(e){return typeof e=="string"?this.getFieldByName(e):this.makeQueryField(e)}getOrMakeDimension(e){let t=this.getOrMakeField(e);if(t instanceof R0&&O0(t))return t;throw new Error(`${e} is not of type a scalar'`)}structSourceSQL(e){switch(this.fieldDef.structSource.type){case"table":{let t=this.fieldDef.structSource.tablePath;return this.dialect.quoteTablePath(t)}case"sql":if(this.fieldDef.structSource.method==="nested"||this.fieldDef.structSource.method==="lastStage")return this.fieldDef.name;if(this.fieldDef.structSource.method==="subquery")return`(${this.fieldDef.structSource.sqlBlock.select})`;throw new Error("Internal Error: Unknown structSource type 'sql' method");case"nested":return"UNNEST(this.fieldDef.name)";case"inline":return"";case"query":{let t=(0,Lo.getIdentifier)(this.fieldDef);if(t.includes("cache")){let r=new O8(!0,e);return this.model.loadQuery(this.fieldDef.structSource.query,r),r.addPDT(t,this.dialect)}else return this.model.loadQuery(this.fieldDef.structSource.query,e).lastStageName}default:throw new Error(`unknown structSource ${this.fieldDef}`)}}root(){return this.parent===void 0?this:this.parent.root()}primaryKey(){if(this.fieldDef.primaryKey)return this.getDimensionByName(this.fieldDef.primaryKey)}static resolvePath(e){return e.split(".")}getChildByName(e){return this.nameMap.get(e)}getFieldByName(e){let t=gf.resolvePath(e),r=this;for(let i of t){let s=r.getChildByName(i);if(s===void 0)throw new Error(`Path not found ${e}`);r=s}return r}getQueryFieldByName(e){let t=this.getFieldByName(e);return t instanceof gf&&(t=t.getAsQueryField()),t}getDimensionOrMeasureByName(e){let t=this.getFieldByName(e);if(t instanceof R0)return t;throw new Error(`${e} is not of type a scalar'`)}getDimensionByName(e){let t=this.getFieldByName(e);if(t instanceof R0&&O0(t))return t;throw new Error(`${e} is not of type a scalar'`)}getStructByName(e){let t=this.getFieldByName(e);if(t instanceof gf)return t;throw new Error(`Error: Path to structure not found '${e}'`)}getDistinctKey(){if(this.fieldDef.structRelationship.type!=="inline")return this.getDimensionByName("__distinct_key");if(this.parent)return this.parent.getDistinctKey();throw new Error("Internal Error.  inline struct can not be top level")}flattenTurtleDef(e){let t=e.pipeline,r=e.pipeHead;for(;r;){let o=this.getFieldByName(r.name);if(o instanceof hh)r=o.fieldDef.pipeHead,t=o.fieldDef.pipeline.concat(t);else throw new Error(`Only Turtles can be used in a pipeline ${r.name}`)}let i=e.filterList||[];return t=(0,yve.cloneDeep)(t),t[0].filterList=i.concat(t[0].filterList||[],this.fieldDef.filterList||[]),{type:"turtle",name:e.name,pipeline:t,location:e.location}}},ute=class{constructor(e){this.dialect=new htt.StandardSQLDialect,this.modelDef=void 0,this.structs=new Map,this.exploreSearchSQLMap=new Map,e&&this.loadModelFromDef(e)}loadModelFromDef(e){this.modelDef=e;for(let t of Object.values(this.modelDef.contents)){let r;if(t.type==="struct")r=new gf(t,{model:this}),this.structs.set((0,Lo.getIdentifier)(t),r),r.resolveQueryFields();else if(t.type!=="query")throw new Error("Internal Error: Unknown structure type")}}parseQueryPath(e){let t=e.split("."),r;if(r=this.structs.get(t[0])){if(t.length>1)t.shift();else throw new Error(`No query specified in Struct '${t[0]}'`);return{queryName:t.join("."),struct:r}}else throw new Error(`Cannot find Struct '${t[0]}' Model`)}getStructByName(e){let t;if(t=this.structs.get(e))return t;throw new Error(`Struct ${e} not found in model.`)}getStructFromRef(e){let t;if(typeof e=="string")return this.getStructByName(e);if(e.type==="struct")t=e;else throw new Error("Broken for now");return new gf(t,{model:this})}loadQuery(e,t,r=!1){let i="";t||(t=new O8(!0,void 0));let s={type:"turtle",name:"ignoreme",pipeHead:e.pipeHead,pipeline:e.pipeline,filterList:e.filterList},o=hh.makeQuery(s,this.getStructFromRef(e.structRef),t),a=o.generateSQLFromPipeline(t);if(r&&o.parent.dialect.hasFinalStage){let l=(0,Lo.getPhysicalFields)(a.outputStruct).map(f=>o.parent.dialect.sqlMaybeQuoteIdentifier(f.name));a.lastStageName=t.addStage(o.parent.dialect.sqlFinalStage(a.lastStageName,l))}return{lastStageName:a.lastStageName,malloy:i,stageWriter:t,structs:[a.outputStruct],connectionName:o.parent.connectionName}}compileQuery(e,t=!0){let r,s=(r||this).loadQuery(e,void 0,t),o=typeof e.structRef=="string"?e.structRef:e.structRef.type==="struct"?e.structRef.as||e.structRef.name:"(need to figure this out)";return t&&this.dialect.hasFinalStage&&(s.lastStageName=s.stageWriter.addStage(this.dialect.sqlFinalStage(s.lastStageName,[]))),{lastStageName:s.lastStageName,malloy:s.malloy,sql:s.stageWriter.generateSQLStages(),structs:s.structs,sourceExplore:o,sourceFilters:e.filterList,queryName:e.pipeHead&&e.pipeline.length===0?e.pipeHead.name:void 0,connectionName:s.connectionName}}async searchIndex(e,t,r,i=1e3,s=void 0){if(!e.canPersist())return;let o=this.getStructByName(t),a;o.nameMap.get("search_index")?a={structRef:t,pipeHead:{name:"search_index"},pipeline:[]}:a={structRef:t,pipeline:[{type:"index",fields:["*"],sample:o.dialect.defaultSampling}]};let l=o.dialect.sqlMaybeQuoteIdentifier("fieldName"),f=o.dialect.sqlMaybeQuoteIdentifier("fieldValue"),p=o.dialect.sqlMaybeQuoteIdentifier("fieldType"),_=this.exploreSearchSQLMap.get(t);_===void 0&&(_=(await this.compileQuery(a,!1)).sql,this.exploreSearchSQLMap.set(t,_));let E=`SELECT
              ${l},
              ${f},
              ${p},
              weight,
              CASE WHEN lower(${f}) LIKE  lower(${ste(r+"%")}) THEN 1 ELSE 0 END as match_first
            FROM  ${await e.manifestTemporaryTable(_)}
            WHERE lower(${f}) LIKE lower(${ste("%"+r+"%")}) ${s!==void 0?` AND ${l} = '`+s+`' 
`:""}
            ORDER BY CASE WHEN lower(${f}) LIKE  lower(${ste(r+"%")}) THEN 1 ELSE 0 END DESC, weight DESC
            LIMIT ${i}
          `;return o.dialect.hasFinalStage&&(E=`WITH __stage0 AS(
${E}
)
${o.dialect.sqlFinalStage("__stage0",[l,f,p,"weight","match_first"])}`),(await e.runSQL(E,{rowLimit:1e3})).rows}};L5.QueryModel=ute});var F8=Ae(ym=>{"use strict";m();var xtt=ym&&ym.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),gtt=ym&&ym.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xtt(e,n,t)};Object.defineProperty(ym,"__esModule",{value:!0});ym.QueryModel=ym.Segment=void 0;gtt(xm(),ym);var Ove=lte();Object.defineProperty(ym,"Segment",{enumerable:!0,get:function(){return Ove.Segment}});Object.defineProperty(ym,"QueryModel",{enumerable:!0,get:function(){return Ove.QueryModel}})});var Nve=Ae(Rve=>{"use strict";m();Object.defineProperty(Rve,"__esModule",{value:!0})});var kve=Ae(Lve=>{"use strict";m();Object.defineProperty(Lve,"__esModule",{value:!0})});var cte=Ae((gCt,Ive)=>{"use strict";m();Ive.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var GF=Ae((yCt,Mve)=>{"use strict";m();var ytt=cte();Mve.exports=function(){return ytt()&&!!Symbol.toStringTag}});var jve=Ae((vCt,Bve)=>{"use strict";m();var Pve=typeof Symbol!="undefined"&&Symbol,vtt=cte();Bve.exports=function(){return typeof Pve!="function"||typeof Symbol!="function"||typeof Pve("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:vtt()}});var Uve=Ae((_Ct,qve)=>{"use strict";m();var _tt="Function.prototype.bind called on incompatible ",fte=Array.prototype.slice,btt=Object.prototype.toString,Ett="[object Function]";qve.exports=function(e){var t=this;if(typeof t!="function"||btt.call(t)!==Ett)throw new TypeError(_tt+t);for(var r=fte.call(arguments,1),i,s=function(){if(this instanceof i){var p=t.apply(this,r.concat(fte.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,r.concat(fte.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],l=0;l<o;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var f=function(){};f.prototype=t.prototype,i.prototype=new f,f.prototype=null}return i}});var lj=Ae((bCt,$ve)=>{"use strict";m();var Stt=Uve();$ve.exports=Function.prototype.bind||Stt});var Hve=Ae((ECt,zve)=>{"use strict";m();var wtt=lj();zve.exports=wtt.call(Function.call,Object.prototype.hasOwnProperty)});var KF=Ae((SCt,Gve)=>{"use strict";m();var Zo,N8=SyntaxError,Vve=Function,L8=TypeError,dte=function(n){try{return Vve('"use strict"; return ('+n+").constructor;")()}catch{}},o6=Object.getOwnPropertyDescriptor;if(o6)try{o6({},"")}catch{o6=null}var hte=function(){throw new L8},Ctt=o6?function(){try{return arguments.callee,hte}catch{try{return o6(arguments,"callee").get}catch{return hte}}}():hte,k8=jve()(),k5=Object.getPrototypeOf||function(n){return n.__proto__},I8={},Att=typeof Uint8Array=="undefined"?Zo:k5(Uint8Array),M8={"%AggregateError%":typeof AggregateError=="undefined"?Zo:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?Zo:ArrayBuffer,"%ArrayIteratorPrototype%":k8?k5([][Symbol.iterator]()):Zo,"%AsyncFromSyncIteratorPrototype%":Zo,"%AsyncFunction%":I8,"%AsyncGenerator%":I8,"%AsyncGeneratorFunction%":I8,"%AsyncIteratorPrototype%":I8,"%Atomics%":typeof Atomics=="undefined"?Zo:Atomics,"%BigInt%":typeof BigInt=="undefined"?Zo:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?Zo:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?Zo:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?Zo:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?Zo:FinalizationRegistry,"%Function%":Vve,"%GeneratorFunction%":I8,"%Int8Array%":typeof Int8Array=="undefined"?Zo:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?Zo:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?Zo:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k8?k5(k5([][Symbol.iterator]())):Zo,"%JSON%":typeof JSON=="object"?JSON:Zo,"%Map%":typeof Map=="undefined"?Zo:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!k8?Zo:k5(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?Zo:Promise,"%Proxy%":typeof Proxy=="undefined"?Zo:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?Zo:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?Zo:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!k8?Zo:k5(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?Zo:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k8?k5(""[Symbol.iterator]()):Zo,"%Symbol%":k8?Symbol:Zo,"%SyntaxError%":N8,"%ThrowTypeError%":Ctt,"%TypedArray%":Att,"%TypeError%":L8,"%Uint8Array%":typeof Uint8Array=="undefined"?Zo:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?Zo:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?Zo:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?Zo:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?Zo:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?Zo:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?Zo:WeakSet},Ttt=function n(e){var t;if(e==="%AsyncFunction%")t=dte("async function () {}");else if(e==="%GeneratorFunction%")t=dte("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=dte("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&(t=k5(i.prototype))}return M8[e]=t,t},Wve={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},YF=lj(),cj=Hve(),Ftt=YF.call(Function.call,Array.prototype.concat),Dtt=YF.call(Function.apply,Array.prototype.splice),Qve=YF.call(Function.call,String.prototype.replace),fj=YF.call(Function.call,String.prototype.slice),Ott=YF.call(Function.call,RegExp.prototype.exec),Rtt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ntt=/\\(\\)?/g,Ltt=function(e){var t=fj(e,0,1),r=fj(e,-1);if(t==="%"&&r!=="%")throw new N8("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new N8("invalid intrinsic syntax, expected opening `%`");var i=[];return Qve(e,Rtt,function(s,o,a,l){i[i.length]=a?Qve(l,Ntt,"$1"):o||s}),i},ktt=function(e,t){var r=e,i;if(cj(Wve,r)&&(i=Wve[r],r="%"+i[0]+"%"),cj(M8,r)){var s=M8[r];if(s===I8&&(s=Ttt(r)),typeof s=="undefined"&&!t)throw new L8("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new N8("intrinsic "+e+" does not exist!")};Gve.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new L8("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new L8('"allowMissing" argument must be a boolean');if(Ott(/^%?[^%]*%?$/,e)===null)throw new N8("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Ltt(e),i=r.length>0?r[0]:"",s=ktt("%"+i+"%",t),o=s.name,a=s.value,l=!1,f=s.alias;f&&(i=f[0],Dtt(r,Ftt([0,1],f)));for(var p=1,_=!0;p<r.length;p+=1){var E=r[p],O=fj(E,0,1),R=fj(E,-1);if((O==='"'||O==="'"||O==="`"||R==='"'||R==="'"||R==="`")&&O!==R)throw new N8("property names with quotes must have matching quotes");if((E==="constructor"||!_)&&(l=!0),i+="."+E,o="%"+i+"%",cj(M8,o))a=M8[o];else if(a!=null){if(!(E in a)){if(!t)throw new L8("base intrinsic for "+e+" exists, but the property is not available.");return}if(o6&&p+1>=r.length){var q=o6(a,E);_=!!q,_&&"get"in q&&!("originalValue"in q.get)?a=q.get:a=a[E]}else _=cj(a,E),a=a[E];_&&!l&&(M8[o]=a)}}return a}});var hj=Ae((wCt,dj)=>{"use strict";m();var pte=lj(),P8=KF(),Yve=P8("%Function.prototype.apply%"),Kve=P8("%Function.prototype.call%"),Jve=P8("%Reflect.apply%",!0)||pte.call(Kve,Yve),Xve=P8("%Object.getOwnPropertyDescriptor%",!0),a6=P8("%Object.defineProperty%",!0),Itt=P8("%Math.max%");if(a6)try{a6({},"a",{value:1})}catch{a6=null}dj.exports=function(e){var t=Jve(pte,Kve,arguments);if(Xve&&a6){var r=Xve(t,"length");r.configurable&&a6(t,"length",{value:1+Itt(0,e.length-(arguments.length-1))})}return t};var Zve=function(){return Jve(pte,Yve,arguments)};a6?a6(dj.exports,"apply",{value:Zve}):dj.exports.apply=Zve});var pj=Ae((CCt,n4e)=>{"use strict";m();var e4e=KF(),t4e=hj(),Mtt=t4e(e4e("String.prototype.indexOf"));n4e.exports=function(e,t){var r=e4e(e,!!t);return typeof r=="function"&&Mtt(e,".prototype.")>-1?t4e(r):r}});var s4e=Ae((ACt,i4e)=>{"use strict";m();var Ptt=GF()(),Btt=pj(),mte=Btt("Object.prototype.toString"),mj=function(e){return Ptt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:mte(e)==="[object Arguments]"},r4e=function(e){return mj(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&mte(e)!=="[object Array]"&&mte(e.callee)==="[object Function]"},jtt=function(){return mj(arguments)}();mj.isLegacyArguments=r4e;i4e.exports=jtt?mj:r4e});var u4e=Ae((TCt,a4e)=>{"use strict";m();var qtt=Object.prototype.toString,Utt=Function.prototype.toString,$tt=/^\s*(?:function)?\*/,o4e=GF()(),xte=Object.getPrototypeOf,ztt=function(){if(!o4e)return!1;try{return Function("return function*() {}")()}catch{}},gte;a4e.exports=function(e){if(typeof e!="function")return!1;if($tt.test(Utt.call(e)))return!0;if(!o4e){var t=qtt.call(e);return t==="[object GeneratorFunction]"}if(!xte)return!1;if(typeof gte=="undefined"){var r=ztt();gte=r?xte(r):!1}return xte(e)===gte}});var d4e=Ae((FCt,f4e)=>{"use strict";m();var l4e=Function.prototype.toString,B8=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,yte,xj;if(typeof B8=="function"&&typeof Object.defineProperty=="function")try{yte=Object.defineProperty({},"length",{get:function(){throw xj}}),xj={},B8(function(){throw 42},null,yte)}catch(n){n!==xj&&(B8=null)}else B8=null;var Htt=/^\s*class\b/,vte=function(e){try{var t=l4e.call(e);return Htt.test(t)}catch{return!1}},_te=function(e){try{return vte(e)?!1:(l4e.call(e),!0)}catch{return!1}},gj=Object.prototype.toString,Vtt="[object Object]",Wtt="[object Function]",Qtt="[object GeneratorFunction]",Gtt="[object HTMLAllCollection]",Ytt="[object HTML document.all class]",Ktt="[object HTMLCollection]",Jtt=typeof Symbol=="function"&&!!Symbol.toStringTag,Xtt=!(0 in[,]),bte=function(){return!1};typeof document=="object"&&(c4e=document.all,gj.call(c4e)===gj.call(document.all)&&(bte=function(e){if((Xtt||!e)&&(typeof e=="undefined"||typeof e=="object"))try{var t=gj.call(e);return(t===Gtt||t===Ytt||t===Ktt||t===Vtt)&&e("")==null}catch{}return!1}));var c4e;f4e.exports=B8?function(e){if(bte(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{B8(e,null,yte)}catch(t){if(t!==xj)return!1}return!vte(e)&&_te(e)}:function(e){if(bte(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Jtt)return _te(e);if(vte(e))return!1;var t=gj.call(e);return t!==Wtt&&t!==Qtt&&!/^\[object HTML/.test(t)?!1:_te(e)}});var Ete=Ae((DCt,p4e)=>{"use strict";m();var Ztt=d4e(),ent=Object.prototype.toString,h4e=Object.prototype.hasOwnProperty,tnt=function(e,t,r){for(var i=0,s=e.length;i<s;i++)h4e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},nnt=function(e,t,r){for(var i=0,s=e.length;i<s;i++)r==null?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)},rnt=function(e,t,r){for(var i in e)h4e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},int=function(e,t,r){if(!Ztt(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),ent.call(e)==="[object Array]"?tnt(e,t,i):typeof e=="string"?nnt(e,t,i):rnt(e,t,i)};p4e.exports=int});var wte=Ae((OCt,m4e)=>{"use strict";m();var Ste=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],snt=typeof globalThis=="undefined"?global:globalThis;m4e.exports=function(){for(var e=[],t=0;t<Ste.length;t++)typeof snt[Ste[t]]=="function"&&(e[e.length]=Ste[t]);return e}});var Cte=Ae((RCt,x4e)=>{"use strict";m();var ont=KF(),yj=ont("%Object.getOwnPropertyDescriptor%",!0);if(yj)try{yj([],"length")}catch{yj=null}x4e.exports=yj});var Fte=Ae((NCt,b4e)=>{"use strict";m();var g4e=Ete(),ant=wte(),Ate=pj(),unt=Ate("Object.prototype.toString"),y4e=GF()(),vj=Cte(),lnt=typeof globalThis=="undefined"?global:globalThis,v4e=ant(),cnt=Ate("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},fnt=Ate("String.prototype.slice"),_4e={},Tte=Object.getPrototypeOf;y4e&&vj&&Tte&&g4e(v4e,function(n){var e=new lnt[n];if(Symbol.toStringTag in e){var t=Tte(e),r=vj(t,Symbol.toStringTag);if(!r){var i=Tte(t);r=vj(i,Symbol.toStringTag)}_4e[n]=r.get}});var dnt=function(e){var t=!1;return g4e(_4e,function(r,i){if(!t)try{t=r.call(e)===i}catch{}}),t};b4e.exports=function(e){if(!e||typeof e!="object")return!1;if(!y4e||!(Symbol.toStringTag in e)){var t=fnt(unt(e),8,-1);return cnt(v4e,t)>-1}return vj?dnt(e):!1}});var F4e=Ae((LCt,T4e)=>{"use strict";m();var E4e=Ete(),hnt=wte(),S4e=pj(),Dte=Cte(),pnt=S4e("Object.prototype.toString"),w4e=GF()(),C4e=typeof globalThis=="undefined"?global:globalThis,mnt=hnt(),xnt=S4e("String.prototype.slice"),A4e={},Ote=Object.getPrototypeOf;w4e&&Dte&&Ote&&E4e(mnt,function(n){if(typeof C4e[n]=="function"){var e=new C4e[n];if(Symbol.toStringTag in e){var t=Ote(e),r=Dte(t,Symbol.toStringTag);if(!r){var i=Ote(t);r=Dte(i,Symbol.toStringTag)}A4e[n]=r.get}}});var gnt=function(e){var t=!1;return E4e(A4e,function(r,i){if(!t)try{var s=r.call(e);s===i&&(t=s)}catch{}}),t},ynt=Fte();T4e.exports=function(e){return ynt(e)?!w4e||!(Symbol.toStringTag in e)?xnt(pnt(e),8,-1):gnt(e):!1}});var $4e=Ae(Mo=>{"use strict";m();var vnt=s4e(),_nt=u4e(),vm=F4e(),D4e=Fte();function j8(n){return n.call.bind(n)}var O4e=typeof BigInt!="undefined",R4e=typeof Symbol!="undefined",t1=j8(Object.prototype.toString),bnt=j8(Number.prototype.valueOf),Ent=j8(String.prototype.valueOf),Snt=j8(Boolean.prototype.valueOf);O4e&&(N4e=j8(BigInt.prototype.valueOf));var N4e;R4e&&(L4e=j8(Symbol.prototype.valueOf));var L4e;function JF(n,e){if(typeof n!="object")return!1;try{return e(n),!0}catch{return!1}}Mo.isArgumentsObject=vnt;Mo.isGeneratorFunction=_nt;Mo.isTypedArray=D4e;function wnt(n){return typeof Promise!="undefined"&&n instanceof Promise||n!==null&&typeof n=="object"&&typeof n.then=="function"&&typeof n.catch=="function"}Mo.isPromise=wnt;function Cnt(n){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(n):D4e(n)||I4e(n)}Mo.isArrayBufferView=Cnt;function Ant(n){return vm(n)==="Uint8Array"}Mo.isUint8Array=Ant;function Tnt(n){return vm(n)==="Uint8ClampedArray"}Mo.isUint8ClampedArray=Tnt;function Fnt(n){return vm(n)==="Uint16Array"}Mo.isUint16Array=Fnt;function Dnt(n){return vm(n)==="Uint32Array"}Mo.isUint32Array=Dnt;function Ont(n){return vm(n)==="Int8Array"}Mo.isInt8Array=Ont;function Rnt(n){return vm(n)==="Int16Array"}Mo.isInt16Array=Rnt;function Nnt(n){return vm(n)==="Int32Array"}Mo.isInt32Array=Nnt;function Lnt(n){return vm(n)==="Float32Array"}Mo.isFloat32Array=Lnt;function knt(n){return vm(n)==="Float64Array"}Mo.isFloat64Array=knt;function Int(n){return vm(n)==="BigInt64Array"}Mo.isBigInt64Array=Int;function Mnt(n){return vm(n)==="BigUint64Array"}Mo.isBigUint64Array=Mnt;function _j(n){return t1(n)==="[object Map]"}_j.working=typeof Map!="undefined"&&_j(new Map);function Pnt(n){return typeof Map=="undefined"?!1:_j.working?_j(n):n instanceof Map}Mo.isMap=Pnt;function bj(n){return t1(n)==="[object Set]"}bj.working=typeof Set!="undefined"&&bj(new Set);function Bnt(n){return typeof Set=="undefined"?!1:bj.working?bj(n):n instanceof Set}Mo.isSet=Bnt;function Ej(n){return t1(n)==="[object WeakMap]"}Ej.working=typeof WeakMap!="undefined"&&Ej(new WeakMap);function jnt(n){return typeof WeakMap=="undefined"?!1:Ej.working?Ej(n):n instanceof WeakMap}Mo.isWeakMap=jnt;function Rte(n){return t1(n)==="[object WeakSet]"}Rte.working=typeof WeakSet!="undefined"&&Rte(new WeakSet);function qnt(n){return Rte(n)}Mo.isWeakSet=qnt;function Sj(n){return t1(n)==="[object ArrayBuffer]"}Sj.working=typeof ArrayBuffer!="undefined"&&Sj(new ArrayBuffer);function k4e(n){return typeof ArrayBuffer=="undefined"?!1:Sj.working?Sj(n):n instanceof ArrayBuffer}Mo.isArrayBuffer=k4e;function wj(n){return t1(n)==="[object DataView]"}wj.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&wj(new DataView(new ArrayBuffer(1),0,1));function I4e(n){return typeof DataView=="undefined"?!1:wj.working?wj(n):n instanceof DataView}Mo.isDataView=I4e;var Nte=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function XF(n){return t1(n)==="[object SharedArrayBuffer]"}function M4e(n){return typeof Nte=="undefined"?!1:(typeof XF.working=="undefined"&&(XF.working=XF(new Nte)),XF.working?XF(n):n instanceof Nte)}Mo.isSharedArrayBuffer=M4e;function Unt(n){return t1(n)==="[object AsyncFunction]"}Mo.isAsyncFunction=Unt;function $nt(n){return t1(n)==="[object Map Iterator]"}Mo.isMapIterator=$nt;function znt(n){return t1(n)==="[object Set Iterator]"}Mo.isSetIterator=znt;function Hnt(n){return t1(n)==="[object Generator]"}Mo.isGeneratorObject=Hnt;function Vnt(n){return t1(n)==="[object WebAssembly.Module]"}Mo.isWebAssemblyCompiledModule=Vnt;function P4e(n){return JF(n,bnt)}Mo.isNumberObject=P4e;function B4e(n){return JF(n,Ent)}Mo.isStringObject=B4e;function j4e(n){return JF(n,Snt)}Mo.isBooleanObject=j4e;function q4e(n){return O4e&&JF(n,N4e)}Mo.isBigIntObject=q4e;function U4e(n){return R4e&&JF(n,L4e)}Mo.isSymbolObject=U4e;function Wnt(n){return P4e(n)||B4e(n)||j4e(n)||q4e(n)||U4e(n)}Mo.isBoxedPrimitive=Wnt;function Qnt(n){return typeof Uint8Array!="undefined"&&(k4e(n)||M4e(n))}Mo.isAnyArrayBuffer=Qnt;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(n){Object.defineProperty(Mo,n,{enumerable:!1,value:function(){throw new Error(n+" is not supported in userland")}})})});var H4e=Ae((ICt,z4e)=>{m();z4e.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var V4e=Ae((MCt,Lte)=>{m();typeof Object.create=="function"?Lte.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Lte.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}});var M5=Ae(Po=>{m();var W4e=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},Gnt=/%[sdj%]/g;Po.format=function(n){if(!Fj(n)){for(var e=[],t=0;t<arguments.length;t++)e.push(I5(arguments[t]));return e.join(" ")}for(var t=1,r=arguments,i=r.length,s=String(n).replace(Gnt,function(a){if(a==="%%")return"%";if(t>=i)return a;switch(a){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch{return"[Circular]"}default:return a}}),o=r[t];t<i;o=r[++t])Tj(o)||!q8(o)?s+=" "+o:s+=" "+I5(o);return s};Po.deprecate=function(n,e){if(typeof process!="undefined"&&process.noDeprecation===!0)return n;if(typeof process=="undefined")return function(){return Po.deprecate(n,e).apply(this,arguments)};var t=!1;function r(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return n.apply(this,arguments)}return r};var Cj={},Ynt=/^$/;Po.debuglog=function(n){if(n=n.toUpperCase(),!Cj[n])if(Ynt.test(n)){var e=process.pid;Cj[n]=function(){var t=Po.format.apply(Po,arguments);console.error("%s %d: %s",n,e,t)}}else Cj[n]=function(){};return Cj[n]};function I5(n,e){var t={seen:[],stylize:Jnt};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),Mte(e)?t.showHidden=e:e&&Po._extend(t,e),u6(t.showHidden)&&(t.showHidden=!1),u6(t.depth)&&(t.depth=2),u6(t.colors)&&(t.colors=!1),u6(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=Knt),Aj(t,n,t.depth)}Po.inspect=I5;I5.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};I5.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Knt(n,e){var t=I5.styles[e];return t?"\x1B["+I5.colors[t][0]+"m"+n+"\x1B["+I5.colors[t][1]+"m":n}function Jnt(n,e){return n}function Xnt(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function Aj(n,e,t){if(n.customInspect&&e&&Oj(e.inspect)&&e.inspect!==Po.inspect&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return Fj(r)||(r=Aj(n,r,t)),r}var i=Znt(n,e);if(i)return i;var s=Object.keys(e),o=Xnt(s);if(n.showHidden&&(s=Object.getOwnPropertyNames(e)),eD(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return kte(e);if(s.length===0){if(Oj(e)){var a=e.name?": "+e.name:"";return n.stylize("[Function"+a+"]","special")}if(ZF(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(Dj(e))return n.stylize(Date.prototype.toString.call(e),"date");if(eD(e))return kte(e)}var l="",f=!1,p=["{","}"];if(Q4e(e)&&(f=!0,p=["[","]"]),Oj(e)){var _=e.name?": "+e.name:"";l=" [Function"+_+"]"}if(ZF(e)&&(l=" "+RegExp.prototype.toString.call(e)),Dj(e)&&(l=" "+Date.prototype.toUTCString.call(e)),eD(e)&&(l=" "+kte(e)),s.length===0&&(!f||e.length==0))return p[0]+l+p[1];if(t<0)return ZF(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var E;return f?E=ert(n,e,t,o,s):E=s.map(function(O){return Ite(n,e,t,o,O,f)}),n.seen.pop(),trt(E,l,p)}function Znt(n,e){if(u6(e))return n.stylize("undefined","undefined");if(Fj(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(G4e(e))return n.stylize(""+e,"number");if(Mte(e))return n.stylize(""+e,"boolean");if(Tj(e))return n.stylize("null","null")}function kte(n){return"["+Error.prototype.toString.call(n)+"]"}function ert(n,e,t,r,i){for(var s=[],o=0,a=e.length;o<a;++o)Y4e(e,String(o))?s.push(Ite(n,e,t,r,String(o),!0)):s.push("");return i.forEach(function(l){l.match(/^\d+$/)||s.push(Ite(n,e,t,r,l,!0))}),s}function Ite(n,e,t,r,i,s){var o,a,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?a=n.stylize("[Getter/Setter]","special"):a=n.stylize("[Getter]","special"):l.set&&(a=n.stylize("[Setter]","special")),Y4e(r,i)||(o="["+i+"]"),a||(n.seen.indexOf(l.value)<0?(Tj(t)?a=Aj(n,l.value,null):a=Aj(n,l.value,t-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(f){return"  "+f}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(f){return"   "+f}).join(`
`))):a=n.stylize("[Circular]","special")),u6(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=n.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,"string"))}return o+": "+a}function trt(n,e,t){var r=0,i=n.reduce(function(s,o){return r++,o.indexOf(`
`)>=0&&r++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}Po.types=$4e();function Q4e(n){return Array.isArray(n)}Po.isArray=Q4e;function Mte(n){return typeof n=="boolean"}Po.isBoolean=Mte;function Tj(n){return n===null}Po.isNull=Tj;function nrt(n){return n==null}Po.isNullOrUndefined=nrt;function G4e(n){return typeof n=="number"}Po.isNumber=G4e;function Fj(n){return typeof n=="string"}Po.isString=Fj;function rrt(n){return typeof n=="symbol"}Po.isSymbol=rrt;function u6(n){return n===void 0}Po.isUndefined=u6;function ZF(n){return q8(n)&&Pte(n)==="[object RegExp]"}Po.isRegExp=ZF;Po.types.isRegExp=ZF;function q8(n){return typeof n=="object"&&n!==null}Po.isObject=q8;function Dj(n){return q8(n)&&Pte(n)==="[object Date]"}Po.isDate=Dj;Po.types.isDate=Dj;function eD(n){return q8(n)&&(Pte(n)==="[object Error]"||n instanceof Error)}Po.isError=eD;Po.types.isNativeError=eD;function Oj(n){return typeof n=="function"}Po.isFunction=Oj;function irt(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n=="undefined"}Po.isPrimitive=irt;Po.isBuffer=H4e();function Pte(n){return Object.prototype.toString.call(n)}function Bte(n){return n<10?"0"+n.toString(10):n.toString(10)}var srt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ort(){var n=new Date,e=[Bte(n.getHours()),Bte(n.getMinutes()),Bte(n.getSeconds())].join(":");return[n.getDate(),srt[n.getMonth()],e].join(" ")}Po.log=function(){console.log("%s - %s",ort(),Po.format.apply(Po,arguments))};Po.inherits=V4e();Po._extend=function(n,e){if(!e||!q8(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n};function Y4e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var l6=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;Po.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(l6&&e[l6]){var t=e[l6];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,l6,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,i,s=new Promise(function(l,f){r=l,i=f}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(l,f){l?i(l):r(f)});try{e.apply(this,o)}catch(l){i(l)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),l6&&Object.defineProperty(t,l6,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,W4e(e))};Po.promisify.custom=l6;function art(n,e){if(!n){var t=new Error("Promise was rejected with a falsy value");t.reason=n,n=t}return e(n)}function urt(n){if(typeof n!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};n.apply(this,t).then(function(a){process.nextTick(o.bind(null,null,a))},function(a){process.nextTick(art.bind(null,a,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(n)),Object.defineProperties(e,W4e(n)),e}Po.callbackify=urt});var $te=Ae((BCt,X4e)=>{"use strict";m();function U8(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U8=function(t){return typeof t}:U8=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U8(n)}function lrt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function crt(n,e){return e&&(U8(e)==="object"||typeof e=="function")?e:frt(n)}function frt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jte(n){return jte=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jte(n)}function drt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&qte(n,e)}function qte(n,e){return qte=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},qte(n,e)}var K4e={},$8,Ute;function tD(n,e,t){t||(t=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){drt(o,s);function o(a,l,f){var p;return lrt(this,o),p=crt(this,jte(o).call(this,r(a,l,f))),p.code=n,p}return o}(t);K4e[n]=i}function J4e(n,e){if(Array.isArray(n)){var t=n.length;return n=n.map(function(r){return String(r)}),t>2?"one of ".concat(e," ").concat(n.slice(0,t-1).join(", "),", or ")+n[t-1]:t===2?"one of ".concat(e," ").concat(n[0]," or ").concat(n[1]):"of ".concat(e," ").concat(n[0])}else return"of ".concat(e," ").concat(String(n))}function hrt(n,e,t){return n.substr(!t||t<0?0:+t,e.length)===e}function prt(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function mrt(n,e,t){return typeof t!="number"&&(t=0),t+e.length>n.length?!1:n.indexOf(e,t)!==-1}tD("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);tD("ERR_INVALID_ARG_TYPE",function(n,e,t){$8===void 0&&($8=L0()),$8(typeof n=="string","'name' must be a string");var r;typeof e=="string"&&hrt(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if(prt(n," argument"))i="The ".concat(n," ").concat(r," ").concat(J4e(e,"type"));else{var s=mrt(n,".")?"property":"argument";i='The "'.concat(n,'" ').concat(s," ").concat(r," ").concat(J4e(e,"type"))}return i+=". Received type ".concat(U8(t)),i},TypeError);tD("ERR_INVALID_ARG_VALUE",function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";Ute===void 0&&(Ute=M5());var r=Ute.inspect(e);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(n,"' ").concat(t,". Received ").concat(r)},TypeError,RangeError);tD("ERR_INVALID_RETURN_VALUE",function(n,e,t){var r;return t&&t.constructor&&t.constructor.name?r="instance of ".concat(t.constructor.name):r="type ".concat(U8(t)),"Expected ".concat(n,' to be returned from the "').concat(e,'"')+" function but got ".concat(r,".")},TypeError);tD("ERR_MISSING_ARGS",function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];$8===void 0&&($8=L0()),$8(e.length>0,"At least one arg needs to be specified");var r="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:r+="".concat(e[0]," argument");break;case 2:r+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:r+=e.slice(0,i-1).join(", "),r+=", and ".concat(e[i-1]," arguments");break}return"".concat(r," must be specified")},TypeError);X4e.exports.codes=K4e});var r_e=Ae((jCt,n_e)=>{"use strict";m();function xrt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){grt(n,i,t[i])})}return n}function grt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yrt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Z4e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function vrt(n,e,t){return e&&Z4e(n.prototype,e),t&&Z4e(n,t),n}function z8(n,e){return e&&(n1(e)==="object"||typeof e=="function")?e:zte(n)}function zte(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _rt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&nD(n,e)}function Hte(n){var e=typeof Map=="function"?new Map:void 0;return Hte=function(r){if(r===null||!Ert(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Rj(r,arguments,P5(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),nD(i,r)},Hte(n)}function brt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Rj(n,e,t){return brt()?Rj=Reflect.construct:Rj=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&nD(f,o.prototype),f},Rj.apply(null,arguments)}function Ert(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function nD(n,e){return nD=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},nD(n,e)}function P5(n){return P5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P5(n)}function n1(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n1=function(t){return typeof t}:n1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(n)}var Srt=M5(),Vte=Srt.inspect,wrt=$te(),Crt=wrt.codes.ERR_INVALID_ARG_TYPE;function e_e(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function Art(n,e){if(e=Math.floor(e),n.length==0||e==0)return"";var t=n.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)n+=n,e--;return n+=n.substring(0,t-n.length),n}var _m="",rD="",iD="",Wf="",c6={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Trt=10;function t_e(n){var e=Object.keys(n),t=Object.create(Object.getPrototypeOf(n));return e.forEach(function(r){t[r]=n[r]}),Object.defineProperty(t,"message",{value:n.message}),t}function sD(n){return Vte(n,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Frt(n,e,t){var r="",i="",s=0,o="",a=!1,l=sD(n),f=l.split(`
`),p=sD(e).split(`
`),_=0,E="";if(t==="strictEqual"&&n1(n)==="object"&&n1(e)==="object"&&n!==null&&e!==null&&(t="strictEqualObject"),f.length===1&&p.length===1&&f[0]!==p[0]){var O=f[0].length+p[0].length;if(O<=Trt){if((n1(n)!=="object"||n===null)&&(n1(e)!=="object"||e===null)&&(n!==0||e!==0))return"".concat(c6[t],`

`)+"".concat(f[0]," !== ").concat(p[0],`
`)}else if(t!=="strictEqualObject"){var R=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(O<R){for(;f[0][_]===p[0][_];)_++;_>2&&(E=`
  `.concat(Art(" ",_),"^"),_=0)}}}for(var q=f[f.length-1],z=p[p.length-1];q===z&&(_++<2?o=`
  `.concat(q).concat(o):r=q,f.pop(),p.pop(),!(f.length===0||p.length===0));)q=f[f.length-1],z=p[p.length-1];var L=Math.max(f.length,p.length);if(L===0){var B=l.split(`
`);if(B.length>30)for(B[26]="".concat(_m,"...").concat(Wf);B.length>27;)B.pop();return"".concat(c6.notIdentical,`

`).concat(B.join(`
`),`
`)}_>3&&(o=`
`.concat(_m,"...").concat(Wf).concat(o),a=!0),r!==""&&(o=`
  `.concat(r).concat(o),r="");var P=0,G=c6[t]+`
`.concat(rD,"+ actual").concat(Wf," ").concat(iD,"- expected").concat(Wf),ue=" ".concat(_m,"...").concat(Wf," Lines skipped");for(_=0;_<L;_++){var I=_-s;if(f.length<_+1)I>1&&_>2&&(I>4?(i+=`
`.concat(_m,"...").concat(Wf),a=!0):I>3&&(i+=`
  `.concat(p[_-2]),P++),i+=`
  `.concat(p[_-1]),P++),s=_,r+=`
`.concat(iD,"-").concat(Wf," ").concat(p[_]),P++;else if(p.length<_+1)I>1&&_>2&&(I>4?(i+=`
`.concat(_m,"...").concat(Wf),a=!0):I>3&&(i+=`
  `.concat(f[_-2]),P++),i+=`
  `.concat(f[_-1]),P++),s=_,i+=`
`.concat(rD,"+").concat(Wf," ").concat(f[_]),P++;else{var J=p[_],he=f[_],ve=he!==J&&(!e_e(he,",")||he.slice(0,-1)!==J);ve&&e_e(J,",")&&J.slice(0,-1)===he&&(ve=!1,he+=","),ve?(I>1&&_>2&&(I>4?(i+=`
`.concat(_m,"...").concat(Wf),a=!0):I>3&&(i+=`
  `.concat(f[_-2]),P++),i+=`
  `.concat(f[_-1]),P++),s=_,i+=`
`.concat(rD,"+").concat(Wf," ").concat(he),r+=`
`.concat(iD,"-").concat(Wf," ").concat(J),P+=2):(i+=r,r="",(I===1||_===0)&&(i+=`
  `.concat(he),P++))}if(P>20&&_<L-2)return"".concat(G).concat(ue,`
`).concat(i,`
`).concat(_m,"...").concat(Wf).concat(r,`
`)+"".concat(_m,"...").concat(Wf)}return"".concat(G).concat(a?ue:"",`
`).concat(i).concat(r).concat(o).concat(E)}var Drt=function(n){_rt(e,n);function e(t){var r;if(yrt(this,e),n1(t)!=="object"||t===null)throw new Crt("options","Object",t);var i=t.message,s=t.operator,o=t.stackStartFn,a=t.actual,l=t.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)r=z8(this,P5(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(_m="\x1B[34m",rD="\x1B[32m",Wf="\x1B[39m",iD="\x1B[31m"):(_m="",rD="",Wf="",iD="")),n1(a)==="object"&&a!==null&&n1(l)==="object"&&l!==null&&"stack"in a&&a instanceof Error&&"stack"in l&&l instanceof Error&&(a=t_e(a),l=t_e(l)),s==="deepStrictEqual"||s==="strictEqual")r=z8(this,P5(e).call(this,Frt(a,l,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var p=c6[s],_=sD(a).split(`
`);if(s==="notStrictEqual"&&n1(a)==="object"&&a!==null&&(p=c6.notStrictEqualObject),_.length>30)for(_[26]="".concat(_m,"...").concat(Wf);_.length>27;)_.pop();_.length===1?r=z8(this,P5(e).call(this,"".concat(p," ").concat(_[0]))):r=z8(this,P5(e).call(this,"".concat(p,`

`).concat(_.join(`
`),`
`)))}else{var E=sD(a),O="",R=c6[s];s==="notDeepEqual"||s==="notEqual"?(E="".concat(c6[s],`

`).concat(E),E.length>1024&&(E="".concat(E.slice(0,1021),"..."))):(O="".concat(sD(l)),E.length>512&&(E="".concat(E.slice(0,509),"...")),O.length>512&&(O="".concat(O.slice(0,509),"...")),s==="deepEqual"||s==="equal"?E="".concat(R,`

`).concat(E,`

should equal

`):O=" ".concat(s," ").concat(O)),r=z8(this,P5(e).call(this,"".concat(E).concat(O)))}return Error.stackTraceLimit=f,r.generatedMessage=!i,Object.defineProperty(zte(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=a,r.expected=l,r.operator=s,Error.captureStackTrace&&Error.captureStackTrace(zte(r),o),r.stack,r.name="AssertionError",z8(r)}return vrt(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:Vte.custom,value:function(r,i){return Vte(this,xrt({},i,{customInspect:!1,depth:0}))}}]),e}(Hte(Error));n_e.exports=Drt});var o_e=Ae((qCt,s_e)=>{"use strict";m();function i_e(n,e){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(n),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s=Object.keys(Object(i)),o=0,a=s.length;o<a;o++){var l=s[o],f=Object.getOwnPropertyDescriptor(i,l);f!==void 0&&f.enumerable&&(t[l]=i[l])}}return t}function Ort(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i_e})}s_e.exports={assign:i_e,polyfill:Ort}});var Wte=Ae((UCt,u_e)=>{"use strict";m();var a_e=Object.prototype.toString;u_e.exports=function(e){var t=a_e.call(e),r=t==="[object Arguments]";return r||(r=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&a_e.call(e.callee)==="[object Function]"),r}});var g_e=Ae(($Ct,x_e)=>{"use strict";m();var l_e;Object.keys||(oD=Object.prototype.hasOwnProperty,Qte=Object.prototype.toString,c_e=Wte(),Gte=Object.prototype.propertyIsEnumerable,f_e=!Gte.call({toString:null},"toString"),d_e=Gte.call(function(){},"prototype"),aD=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Nj=function(n){var e=n.constructor;return e&&e.prototype===n},h_e={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p_e=function(){if(typeof window=="undefined")return!1;for(var n in window)try{if(!h_e["$"+n]&&oD.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{Nj(window[n])}catch{return!0}}catch{return!0}return!1}(),m_e=function(n){if(typeof window=="undefined"||!p_e)return Nj(n);try{return Nj(n)}catch{return!1}},l_e=function(e){var t=e!==null&&typeof e=="object",r=Qte.call(e)==="[object Function]",i=c_e(e),s=t&&Qte.call(e)==="[object String]",o=[];if(!t&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var a=d_e&&r;if(s&&e.length>0&&!oD.call(e,0))for(var l=0;l<e.length;++l)o.push(String(l));if(i&&e.length>0)for(var f=0;f<e.length;++f)o.push(String(f));else for(var p in e)!(a&&p==="prototype")&&oD.call(e,p)&&o.push(String(p));if(f_e)for(var _=m_e(e),E=0;E<aD.length;++E)!(_&&aD[E]==="constructor")&&oD.call(e,aD[E])&&o.push(aD[E]);return o});var oD,Qte,c_e,Gte,f_e,d_e,aD,Nj,h_e,p_e,m_e;x_e.exports=l_e});var b_e=Ae((zCt,__e)=>{"use strict";m();var Rrt=Array.prototype.slice,Nrt=Wte(),y_e=Object.keys,Lj=y_e?function(e){return y_e(e)}:g_e(),v_e=Object.keys;Lj.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(r){return Nrt(r)?v_e(Rrt.call(r)):v_e(r)})}else Object.keys=Lj;return Object.keys||Lj};__e.exports=Lj});var S_e=Ae((HCt,E_e)=>{"use strict";m();var Lrt=KF(),Yte=Lrt("%Object.defineProperty%",!0),Kte=function(){if(Yte)try{return Yte({},"a",{value:1}),!0}catch{return!1}return!1};Kte.hasArrayLengthDefineBug=function(){if(!Kte())return null;try{return Yte([],"length",{value:1}).length!==1}catch{return!0}};E_e.exports=Kte});var uD=Ae((VCt,T_e)=>{"use strict";m();var krt=b_e(),Irt=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Mrt=Object.prototype.toString,Prt=Array.prototype.concat,w_e=Object.defineProperty,Brt=function(n){return typeof n=="function"&&Mrt.call(n)==="[object Function]"},jrt=S_e()(),C_e=w_e&&jrt,qrt=function(n,e,t,r){e in n&&(!Brt(r)||!r())||(C_e?w_e(n,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):n[e]=t)},A_e=function(n,e){var t=arguments.length>2?arguments[2]:{},r=krt(e);Irt&&(r=Prt.call(r,Object.getOwnPropertySymbols(e)));for(var i=0;i<r.length;i+=1)qrt(n,r[i],e[r[i]],t[r[i]])};A_e.supportsDescriptors=!!C_e;T_e.exports=A_e});var Jte=Ae((WCt,D_e)=>{"use strict";m();var F_e=function(n){return n!==n};D_e.exports=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||F_e(e)&&F_e(t))}});var Xte=Ae((QCt,O_e)=>{"use strict";m();var Urt=Jte();O_e.exports=function(){return typeof Object.is=="function"?Object.is:Urt}});var N_e=Ae((GCt,R_e)=>{"use strict";m();var $rt=Xte(),zrt=uD();R_e.exports=function(){var e=$rt();return zrt(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var Zte=Ae((YCt,I_e)=>{"use strict";m();var Hrt=uD(),Vrt=hj(),Wrt=Jte(),L_e=Xte(),Qrt=N_e(),k_e=Vrt(L_e(),Object);Hrt(k_e,{getPolyfill:L_e,implementation:Wrt,shim:Qrt});I_e.exports=k_e});var ene=Ae((KCt,M_e)=>{"use strict";m();M_e.exports=function(e){return e!==e}});var tne=Ae((JCt,P_e)=>{"use strict";m();var Grt=ene();P_e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:Grt}});var j_e=Ae((XCt,B_e)=>{"use strict";m();var Yrt=uD(),Krt=tne();B_e.exports=function(){var e=Krt();return Yrt(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var z_e=Ae((ZCt,$_e)=>{"use strict";m();var Jrt=hj(),Xrt=uD(),Zrt=ene(),q_e=tne(),eit=j_e(),U_e=Jrt(q_e(),Number);Xrt(U_e,{getPolyfill:q_e,implementation:Zrt,shim:eit});$_e.exports=U_e});var u6e=Ae((e9t,a6e)=>{"use strict";m();function H_e(n,e){return rit(n)||nit(n,e)||tit()}function tit(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function nit(n,e){var t=[],r=!0,i=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return t}function rit(n){if(Array.isArray(n))return n}function Gh(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gh=function(t){return typeof t}:Gh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(n)}var iit=/a/g.flags!==void 0,kj=function(e){var t=[];return e.forEach(function(r){return t.push(r)}),t},V_e=function(e){var t=[];return e.forEach(function(r,i){return t.push([i,r])}),t},W_e=Object.is?Object.is:Zte(),Ij=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},nne=Number.isNaN?Number.isNaN:z_e();function rne(n){return n.call.bind(n)}var lD=rne(Object.prototype.hasOwnProperty),Mj=rne(Object.prototype.propertyIsEnumerable),Q_e=rne(Object.prototype.toString),gd=M5().types,sit=gd.isAnyArrayBuffer,oit=gd.isArrayBufferView,G_e=gd.isDate,Pj=gd.isMap,Y_e=gd.isRegExp,Bj=gd.isSet,ait=gd.isNativeError,uit=gd.isBoxedPrimitive,K_e=gd.isNumberObject,J_e=gd.isStringObject,X_e=gd.isBooleanObject,Z_e=gd.isBigIntObject,lit=gd.isSymbolObject,cit=gd.isFloat32Array,fit=gd.isFloat64Array;function dit(n){if(n.length===0||n.length>10)return!0;for(var e=0;e<n.length;e++){var t=n.charCodeAt(e);if(t<48||t>57)return!0}return n.length===10&&n>=Math.pow(2,32)}function jj(n){return Object.keys(n).filter(dit).concat(Ij(n).filter(Object.prototype.propertyIsEnumerable.bind(n)))}function e6e(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,i=0,s=Math.min(t,r);i<s;++i)if(n[i]!==e[i]){t=n[i],r=e[i];break}return t<r?-1:r<t?1:0}var qj=void 0,hit=!0,pit=!1,ine=0,sne=1,t6e=2,n6e=3;function mit(n,e){return iit?n.source===e.source&&n.flags===e.flags:RegExp.prototype.toString.call(n)===RegExp.prototype.toString.call(e)}function xit(n,e){if(n.byteLength!==e.byteLength)return!1;for(var t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0}function git(n,e){return n.byteLength!==e.byteLength?!1:e6e(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function yit(n,e){return n.byteLength===e.byteLength&&e6e(new Uint8Array(n),new Uint8Array(e))===0}function vit(n,e){return K_e(n)?K_e(e)&&W_e(Number.prototype.valueOf.call(n),Number.prototype.valueOf.call(e)):J_e(n)?J_e(e)&&String.prototype.valueOf.call(n)===String.prototype.valueOf.call(e):X_e(n)?X_e(e)&&Boolean.prototype.valueOf.call(n)===Boolean.prototype.valueOf.call(e):Z_e(n)?Z_e(e)&&BigInt.prototype.valueOf.call(n)===BigInt.prototype.valueOf.call(e):lit(e)&&Symbol.prototype.valueOf.call(n)===Symbol.prototype.valueOf.call(e)}function r1(n,e,t,r){if(n===e)return n!==0?!0:t?W_e(n,e):!0;if(t){if(Gh(n)!=="object")return typeof n=="number"&&nne(n)&&nne(e);if(Gh(e)!=="object"||n===null||e===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1}else{if(n===null||Gh(n)!=="object")return e===null||Gh(e)!=="object"?n==e:!1;if(e===null||Gh(e)!=="object")return!1}var i=Q_e(n),s=Q_e(e);if(i!==s)return!1;if(Array.isArray(n)){if(n.length!==e.length)return!1;var o=jj(n,qj),a=jj(e,qj);return o.length!==a.length?!1:cD(n,e,t,r,sne,o)}if(i==="[object Object]"&&(!Pj(n)&&Pj(e)||!Bj(n)&&Bj(e)))return!1;if(G_e(n)){if(!G_e(e)||Date.prototype.getTime.call(n)!==Date.prototype.getTime.call(e))return!1}else if(Y_e(n)){if(!Y_e(e)||!mit(n,e))return!1}else if(ait(n)||n instanceof Error){if(n.message!==e.message||n.name!==e.name)return!1}else if(oit(n)){if(!t&&(cit(n)||fit(n))){if(!xit(n,e))return!1}else if(!git(n,e))return!1;var l=jj(n,qj),f=jj(e,qj);return l.length!==f.length?!1:cD(n,e,t,r,ine,l)}else{if(Bj(n))return!Bj(e)||n.size!==e.size?!1:cD(n,e,t,r,t6e);if(Pj(n))return!Pj(e)||n.size!==e.size?!1:cD(n,e,t,r,n6e);if(sit(n)){if(!yit(n,e))return!1}else if(uit(n)&&!vit(n,e))return!1}return cD(n,e,t,r,ine)}function r6e(n,e){return e.filter(function(t){return Mj(n,t)})}function cD(n,e,t,r,i,s){if(arguments.length===5){s=Object.keys(n);var o=Object.keys(e);if(s.length!==o.length)return!1}for(var a=0;a<s.length;a++)if(!lD(e,s[a]))return!1;if(t&&arguments.length===5){var l=Ij(n);if(l.length!==0){var f=0;for(a=0;a<l.length;a++){var p=l[a];if(Mj(n,p)){if(!Mj(e,p))return!1;s.push(p),f++}else if(Mj(e,p))return!1}var _=Ij(e);if(l.length!==_.length&&r6e(e,_).length!==f)return!1}else{var E=Ij(e);if(E.length!==0&&r6e(e,E).length!==0)return!1}}if(s.length===0&&(i===ine||i===sne&&n.length===0||n.size===0))return!0;if(r===void 0)r={val1:new Map,val2:new Map,position:0};else{var O=r.val1.get(n);if(O!==void 0){var R=r.val2.get(e);if(R!==void 0)return O===R}r.position++}r.val1.set(n,r.position),r.val2.set(e,r.position);var q=wit(n,e,t,s,r,i);return r.val1.delete(n),r.val2.delete(e),q}function i6e(n,e,t,r){for(var i=kj(n),s=0;s<i.length;s++){var o=i[s];if(r1(e,o,t,r))return n.delete(o),!0}return!1}function s6e(n){switch(Gh(n)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":n=+n;case"number":if(nne(n))return!1}return!0}function _it(n,e,t){var r=s6e(t);return r??(e.has(r)&&!n.has(r))}function bit(n,e,t,r,i){var s=s6e(t);if(s!=null)return s;var o=e.get(s);return o===void 0&&!e.has(s)||!r1(r,o,!1,i)?!1:!n.has(s)&&r1(r,o,!1,i)}function Eit(n,e,t,r){for(var i=null,s=kj(n),o=0;o<s.length;o++){var a=s[o];if(Gh(a)==="object"&&a!==null)i===null&&(i=new Set),i.add(a);else if(!e.has(a)){if(t||!_it(n,e,a))return!1;i===null&&(i=new Set),i.add(a)}}if(i!==null){for(var l=kj(e),f=0;f<l.length;f++){var p=l[f];if(Gh(p)==="object"&&p!==null){if(!i6e(i,p,t,r))return!1}else if(!t&&!n.has(p)&&!i6e(i,p,t,r))return!1}return i.size===0}return!0}function o6e(n,e,t,r,i,s){for(var o=kj(n),a=0;a<o.length;a++){var l=o[a];if(r1(t,l,i,s)&&r1(r,e.get(l),i,s))return n.delete(l),!0}return!1}function Sit(n,e,t,r){for(var i=null,s=V_e(n),o=0;o<s.length;o++){var a=H_e(s[o],2),l=a[0],f=a[1];if(Gh(l)==="object"&&l!==null)i===null&&(i=new Set),i.add(l);else{var p=e.get(l);if(p===void 0&&!e.has(l)||!r1(f,p,t,r)){if(t||!bit(n,e,l,f,r))return!1;i===null&&(i=new Set),i.add(l)}}}if(i!==null){for(var _=V_e(e),E=0;E<_.length;E++){var O=H_e(_[E],2),l=O[0],R=O[1];if(Gh(l)==="object"&&l!==null){if(!o6e(i,n,l,R,t,r))return!1}else if(!t&&(!n.has(l)||!r1(n.get(l),R,!1,r))&&!o6e(i,n,l,R,!1,r))return!1}return i.size===0}return!0}function wit(n,e,t,r,i,s){var o=0;if(s===t6e){if(!Eit(n,e,t,i))return!1}else if(s===n6e){if(!Sit(n,e,t,i))return!1}else if(s===sne)for(;o<n.length;o++)if(lD(n,o)){if(!lD(e,o)||!r1(n[o],e[o],t,i))return!1}else{if(lD(e,o))return!1;for(var a=Object.keys(n);o<a.length;o++){var l=a[o];if(!lD(e,l)||!r1(n[l],e[l],t,i))return!1}return a.length===Object.keys(e).length}for(o=0;o<r.length;o++){var f=r[o];if(!r1(n[f],e[f],t,i))return!1}return!0}function Cit(n,e){return r1(n,e,pit)}function Ait(n,e){return r1(n,e,hit)}a6e.exports={isDeepEqual:Cit,isDeepStrictEqual:Ait}});var L0=Ae((t9t,w6e)=>{"use strict";m();function B5(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?B5=function(t){return typeof t}:B5=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B5(n)}function Tit(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Fit=$te(),fD=Fit.codes,l6e=fD.ERR_AMBIGUOUS_ARGUMENT,dD=fD.ERR_INVALID_ARG_TYPE,Dit=fD.ERR_INVALID_ARG_VALUE,Oit=fD.ERR_INVALID_RETURN_VALUE,j5=fD.ERR_MISSING_ARGS,f6=r_e(),Rit=M5(),Nit=Rit.inspect,c6e=M5().types,Lit=c6e.isPromise,one=c6e.isRegExp,kit=Object.assign?Object.assign:o_e().assign,f6e=Object.is?Object.is:Zte(),q5,Uj;function hD(){var n=u6e();q5=n.isDeepEqual,Uj=n.isDeepStrictEqual}var d6e=!1,Vu=w6e.exports=ane,$j={};function bm(n){throw n.message instanceof Error?n.message:new f6(n)}function h6e(n,e,t,r,i){var s=arguments.length,o;if(s===0)o="Failed";else if(s===1)t=n,n=void 0;else{if(d6e===!1){d6e=!0;var a=process.emitWarning?process.emitWarning:console.warn.bind(console);a("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(r="!=")}if(t instanceof Error)throw t;var l={actual:n,expected:e,operator:r===void 0?"fail":r,stackStartFn:i||h6e};t!==void 0&&(l.message=t);var f=new f6(l);throw o&&(f.message=o,f.generatedMessage=!0),f}Vu.fail=h6e;Vu.AssertionError=f6;function p6e(n,e,t,r){if(!t){var i=!1;if(e===0)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var s=new f6({actual:t,expected:!0,message:r,operator:"==",stackStartFn:n});throw s.generatedMessage=i,s}}function ane(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];p6e.apply(void 0,[ane,e.length].concat(e))}Vu.ok=ane;Vu.equal=function n(e,t,r){if(arguments.length<2)throw new j5("actual","expected");e!=t&&bm({actual:e,expected:t,message:r,operator:"==",stackStartFn:n})};Vu.notEqual=function n(e,t,r){if(arguments.length<2)throw new j5("actual","expected");e==t&&bm({actual:e,expected:t,message:r,operator:"!=",stackStartFn:n})};Vu.deepEqual=function n(e,t,r){if(arguments.length<2)throw new j5("actual","expected");q5===void 0&&hD(),q5(e,t)||bm({actual:e,expected:t,message:r,operator:"deepEqual",stackStartFn:n})};Vu.notDeepEqual=function n(e,t,r){if(arguments.length<2)throw new j5("actual","expected");q5===void 0&&hD(),q5(e,t)&&bm({actual:e,expected:t,message:r,operator:"notDeepEqual",stackStartFn:n})};Vu.deepStrictEqual=function n(e,t,r){if(arguments.length<2)throw new j5("actual","expected");q5===void 0&&hD(),Uj(e,t)||bm({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n})};Vu.notDeepStrictEqual=m6e;function m6e(n,e,t){if(arguments.length<2)throw new j5("actual","expected");q5===void 0&&hD(),Uj(n,e)&&bm({actual:n,expected:e,message:t,operator:"notDeepStrictEqual",stackStartFn:m6e})}Vu.strictEqual=function n(e,t,r){if(arguments.length<2)throw new j5("actual","expected");f6e(e,t)||bm({actual:e,expected:t,message:r,operator:"strictEqual",stackStartFn:n})};Vu.notStrictEqual=function n(e,t,r){if(arguments.length<2)throw new j5("actual","expected");f6e(e,t)&&bm({actual:e,expected:t,message:r,operator:"notStrictEqual",stackStartFn:n})};var x6e=function n(e,t,r){var i=this;Tit(this,n),t.forEach(function(s){s in e&&(r!==void 0&&typeof r[s]=="string"&&one(e[s])&&e[s].test(r[s])?i[s]=r[s]:i[s]=e[s])})};function Iit(n,e,t,r,i,s){if(!(t in n)||!Uj(n[t],e[t])){if(!r){var o=new x6e(n,i),a=new x6e(e,i,n),l=new f6({actual:o,expected:a,operator:"deepStrictEqual",stackStartFn:s});throw l.actual=n,l.expected=e,l.operator=s.name,l}bm({actual:n,expected:e,message:r,operator:s.name,stackStartFn:s})}}function g6e(n,e,t,r){if(typeof e!="function"){if(one(e))return e.test(n);if(arguments.length===2)throw new dD("expected",["Function","RegExp"],e);if(B5(n)!=="object"||n===null){var i=new f6({actual:n,expected:e,message:t,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new Dit("error",e,"may not be an empty object");return q5===void 0&&hD(),s.forEach(function(o){typeof n[o]=="string"&&one(e[o])&&e[o].test(n[o])||Iit(n,e,o,t,s,r)}),!0}return e.prototype!==void 0&&n instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function y6e(n){if(typeof n!="function")throw new dD("fn","Function",n);try{n()}catch(e){return e}return $j}function v6e(n){return Lit(n)||n!==null&&B5(n)==="object"&&typeof n.then=="function"&&typeof n.catch=="function"}function _6e(n){return Promise.resolve().then(function(){var e;if(typeof n=="function"){if(e=n(),!v6e(e))throw new Oit("instance of Promise","promiseFn",e)}else if(v6e(n))e=n;else throw new dD("promiseFn",["Function","Promise"],n);return Promise.resolve().then(function(){return e}).then(function(){return $j}).catch(function(t){return t})})}function b6e(n,e,t,r){if(typeof t=="string"){if(arguments.length===4)throw new dD("error",["Object","Error","Function","RegExp"],t);if(B5(e)==="object"&&e!==null){if(e.message===t)throw new l6e("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===t)throw new l6e("error/message",'The error "'.concat(e,'" is identical to the message.'));r=t,t=void 0}else if(t!=null&&B5(t)!=="object"&&typeof t!="function")throw new dD("error",["Object","Error","Function","RegExp"],t);if(e===$j){var i="";t&&t.name&&(i+=" (".concat(t.name,")")),i+=r?": ".concat(r):".";var s=n.name==="rejects"?"rejection":"exception";bm({actual:void 0,expected:t,operator:n.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:n})}if(t&&!g6e(e,t,r,n))throw e}function E6e(n,e,t,r){if(e!==$j){if(typeof t=="string"&&(r=t,t=void 0),!t||g6e(e,t)){var i=r?": ".concat(r):".",s=n.name==="doesNotReject"?"rejection":"exception";bm({actual:e,expected:t,operator:n.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:n})}throw e}}Vu.throws=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];b6e.apply(void 0,[n,y6e(e)].concat(r))};Vu.rejects=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return _6e(e).then(function(s){return b6e.apply(void 0,[n,s].concat(r))})};Vu.doesNotThrow=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];E6e.apply(void 0,[n,y6e(e)].concat(r))};Vu.doesNotReject=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return _6e(e).then(function(s){return E6e.apply(void 0,[n,s].concat(r))})};Vu.ifError=function n(e){if(e!=null){var t="ifError got unwanted exception: ";B5(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?t+=e.constructor.name:t+=e.message:t+=Nit(e);var r=new f6({actual:e,expected:null,operator:"ifError",message:t,stackStartFn:n}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var o=r.stack.split(`
`),a=0;a<s.length;a++){var l=o.indexOf(s[a]);if(l!==-1){o=o.slice(0,l);break}}r.stack="".concat(o.join(`
`),`
`).concat(s.join(`
`))}throw r}};function S6e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];p6e.apply(void 0,[S6e,e.length].concat(e))}Vu.strict=kit(S6e,Vu,{equal:Vu.strictEqual,deepEqual:Vu.deepStrictEqual,notEqual:Vu.notStrictEqual,notDeepEqual:Vu.notDeepStrictEqual});Vu.strict.strict=Vu.strict});var wr=Ae($2=>{"use strict";m();Object.defineProperty($2,"__esModule",{value:!0});$2.SuppressWarnings=$2.Override=$2.Nullable=$2.NotNull=void 0;function Mit(n,e,t){}$2.NotNull=Mit;function Pit(n,e,t){}$2.Nullable=Pit;function Bit(n,e,t){}$2.Override=Bit;function jit(n){return(e,t,r)=>{}}$2.SuppressWarnings=jit});var Ug=Ae(pD=>{"use strict";m();Object.defineProperty(pD,"__esModule",{value:!0});pD.IntStream=void 0;var qit;(function(n){n.EOF=-1,n.UNKNOWN_SOURCE_NAME="<unknown>"})(qit=pD.IntStream||(pD.IntStream={}))});var C6e=Ae(H8=>{"use strict";m();var z2=H8&&H8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(H8,"__esModule",{value:!0});H8.ANTLRInputStream=void 0;var Uit=L0(),H2=wr(),zj=Ug(),i1=class{constructor(e){this.p=0,this.data=e,this.n=e.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw Uit(this.LA(1)===zj.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(e){return e===0?0:e<0&&(e++,this.p+e-1<0)||this.p+e-1>=this.n?zj.IntStream.EOF:this.data.charCodeAt(this.p+e-1)}LT(e){return this.LA(e)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(e){}seek(e){if(e<=this.p){this.p=e;return}for(e=Math.min(e,this.n);this.p<e;)this.consume()}getText(e){let t=e.a,r=e.b;r>=this.n&&(r=this.n-1);let i=r-t+1;return t>=this.n?"":this.data.substr(t,i)}get sourceName(){return this.name?this.name:zj.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};z2([H2.Override],i1.prototype,"consume",null);z2([H2.Override],i1.prototype,"LA",null);z2([H2.Override],i1.prototype,"index",null);z2([H2.Override],i1.prototype,"size",null);z2([H2.Override],i1.prototype,"mark",null);z2([H2.Override],i1.prototype,"release",null);z2([H2.Override],i1.prototype,"seek",null);z2([H2.Override],i1.prototype,"getText",null);z2([H2.Override],i1.prototype,"sourceName",null);z2([H2.Override],i1.prototype,"toString",null);H8.ANTLRInputStream=i1});var V2=Ae(U5=>{"use strict";m();var une=U5&&U5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(U5,"__esModule",{value:!0});U5.ATNState=void 0;var lne=wr(),$g=class{constructor(){this.stateNumber=$g.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(e){return e instanceof $g?this.stateNumber===e.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(e,t){if(this.transitions.length===0)this.epsilonOnlyTransitions=e.isEpsilon;else if(this.epsilonOnlyTransitions!==e.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(t!==void 0?t:this.transitions.length,0,e)}transition(e){return this.transitions[e]}setTransition(e,t){this.transitions[e]=t}removeTransition(e){return this.transitions.splice(e,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(e){this.ruleIndex=e}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(e){return this.optimizedTransitions[e]}addOptimizedTransition(e){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(e)}setOptimizedTransition(e,t){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[e]=t}removeOptimizedTransition(e){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(e,1)}};une([lne.Override],$g.prototype,"hashCode",null);une([lne.Override],$g.prototype,"equals",null);une([lne.Override],$g.prototype,"toString",null);U5.ATNState=$g;(function(n){n.INVALID_STATE_NUMBER=-1})($g=U5.ATNState||(U5.ATNState={}))});var yf=Ae(mD=>{"use strict";m();Object.defineProperty(mD,"__esModule",{value:!0});mD.ATNStateType=void 0;var $it;(function(n){n[n.INVALID_TYPE=0]="INVALID_TYPE",n[n.BASIC=1]="BASIC",n[n.RULE_START=2]="RULE_START",n[n.BLOCK_START=3]="BLOCK_START",n[n.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",n[n.STAR_BLOCK_START=5]="STAR_BLOCK_START",n[n.TOKEN_START=6]="TOKEN_START",n[n.RULE_STOP=7]="RULE_STOP",n[n.BLOCK_END=8]="BLOCK_END",n[n.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",n[n.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",n[n.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",n[n.LOOP_END=12]="LOOP_END"})($it=mD.ATNStateType||(mD.ATNStateType={}))});var zg=Ae(Hj=>{"use strict";m();Object.defineProperty(Hj,"__esModule",{value:!0});Hj.RecognitionException=void 0;var A6e=class extends Error{constructor(e,t,r,i){super(i);this._offendingState=-1,this._recognizer=e,this.input=t,this.ctx=r,e&&(this._offendingState=e.state)}get offendingState(){return this._offendingState}setOffendingState(e){this._offendingState=e}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(e){if(!(e&&e!==this._recognizer))return this.offendingToken}setOffendingToken(e,t){e===this._recognizer&&(this.offendingToken=t)}get recognizer(){return this._recognizer}};Hj.RecognitionException=A6e});var Hg=Ae($5=>{"use strict";m();var T6e=$5&&$5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},zit=$5&&$5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($5,"__esModule",{value:!0});$5.Transition=void 0;var F6e=wr(),xD=class{constructor(e){if(e==null)throw new Error("target cannot be null.");this.target=e}get isEpsilon(){return!1}get label(){}};xD.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];T6e([F6e.NotNull],xD.prototype,"target",void 0);xD=T6e([zit(0,F6e.NotNull)],xD);$5.Transition=xD});var Wj=Ae(Vj=>{"use strict";m();Object.defineProperty(Vj,"__esModule",{value:!0});Vj.AbstractPredicateTransition=void 0;var Hit=Hg(),D6e=class extends Hit.Transition{constructor(e){super(e)}};Vj.AbstractPredicateTransition=D6e});var Il=Ae(gD=>{"use strict";m();Object.defineProperty(gD,"__esModule",{value:!0});gD.MurmurHash=void 0;var Vit;(function(n){let e=0;function t(a=e){return a}n.initialize=t;function r(a,l){let f=3432918353,p=461845907,_=15,E=13,O=5,R=3864292196;l==null?l=0:typeof l=="string"?l=o(l):typeof l=="object"&&(l=l.hashCode());let q=l;return q=Math.imul(q,f),q=q<<_|q>>>32-_,q=Math.imul(q,p),a=a^q,a=a<<E|a>>>32-E,a=Math.imul(a,O)+R,a&4294967295}n.update=r;function i(a,l){return a=a^l*4,a=a^a>>>16,a=Math.imul(a,2246822507),a=a^a>>>13,a=Math.imul(a,3266489909),a=a^a>>>16,a}n.finish=i;function s(a,l=e){let f=t(l),p=0;for(let _ of a)f=r(f,_),p++;return f=i(f,p),f}n.hashCode=s;function o(a){let l=a.length;if(l===0)return 0;let f=0;for(let p=0;p<l;p++){let _=a.charCodeAt(p);f=(f<<5>>>0)-f+_,f|=0}return f}})(Vit=gD.MurmurHash||(gD.MurmurHash={}))});var Em=Ae(W8=>{"use strict";m();var O6e=W8&&W8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(W8,"__esModule",{value:!0});W8.ObjectEqualityComparator=void 0;var R6e=wr(),V8=class{hashCode(e){return e==null?0:e.hashCode()}equals(e,t){return e==null?t==null:e.equals(t)}};V8.INSTANCE=new V8;O6e([R6e.Override],V8.prototype,"hashCode",null);O6e([R6e.Override],V8.prototype,"equals",null);W8.ObjectEqualityComparator=V8});var I6e=Ae(G8=>{"use strict";m();var N6e=G8&&G8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(G8,"__esModule",{value:!0});G8.DefaultEqualityComparator=void 0;var L6e=wr(),Wit=Il(),k6e=Em(),Q8=class{hashCode(e){return e==null?0:typeof e=="string"||typeof e=="number"?Wit.MurmurHash.hashCode([e]):k6e.ObjectEqualityComparator.INSTANCE.hashCode(e)}equals(e,t){return e==null?t==null:typeof e=="string"||typeof e=="number"?e===t:k6e.ObjectEqualityComparator.INSTANCE.equals(e,t)}};Q8.INSTANCE=new Q8;N6e([L6e.Override],Q8.prototype,"hashCode",null);N6e([L6e.Override],Q8.prototype,"equals",null);G8.DefaultEqualityComparator=Q8});var Vg=Ae(z5=>{"use strict";m();var k0=z5&&z5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Qit=z5&&z5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(z5,"__esModule",{value:!0});z5.Array2DHashSet=void 0;var Git=L0(),Yit=I6e(),I0=wr(),cne=Il(),Qj=16,fne=.75,Ml=class{constructor(e,t=Qj){if(this.n=0,this.threshold=Math.floor(Qj*fne),e instanceof Ml){this.comparator=e.comparator,this.buckets=e.buckets.slice(0);for(let r=0;r<this.buckets.length;r++){let i=this.buckets[r];i&&(this.buckets[r]=i.slice(0))}this.n=e.n,this.threshold=e.threshold}else this.comparator=e||Yit.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(t)}getOrAdd(e){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(e)}getOrAddImpl(e){let t=this.getBucket(e),r=this.buckets[t];if(!r)return r=[e],this.buckets[t]=r,this.n++,e;for(let i of r)if(this.comparator.equals(i,e))return i;return r.push(e),this.n++,e}get(e){if(e==null)return e;let t=this.getBucket(e),r=this.buckets[t];if(!!r){for(let i of r)if(this.comparator.equals(i,e))return i}}getBucket(e){return this.comparator.hashCode(e)&this.buckets.length-1}hashCode(){let e=cne.MurmurHash.initialize();for(let t of this.buckets)if(t!=null)for(let r of t){if(r==null)break;e=cne.MurmurHash.update(e,this.comparator.hashCode(r))}return e=cne.MurmurHash.finish(e,this.size),e}equals(e){return e===this?!0:!(e instanceof Ml)||e.size!==this.size?!1:this.containsAll(e)}expand(){let e=this.buckets,t=this.buckets.length*2,r=this.createBuckets(t);this.buckets=r,this.threshold=Math.floor(t*fne);let i=this.size;for(let s of e)if(!!s)for(let o of s){let a=this.getBucket(o),l=this.buckets[a];l||(l=[],this.buckets[a]=l),l.push(o)}Git(this.n===i)}add(e){return this.getOrAdd(e)===e}get size(){return this.n}get isEmpty(){return this.n===0}contains(e){return this.containsFast(this.asElementType(e))}containsFast(e){return e==null?!1:this.get(e)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){let e=new Array(this.size),t=0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;e[t++]=i}return e}containsAll(e){if(e instanceof Ml){let t=e;for(let r of t.buckets)if(r!=null)for(let i of r){if(i==null)break;if(!this.containsFast(this.asElementType(i)))return!1}}else for(let t of e)if(!this.containsFast(this.asElementType(t)))return!1;return!0}addAll(e){let t=!1;for(let r of e)this.getOrAdd(r)!==r&&(t=!0);return t}clear(){this.buckets=this.createBuckets(Qj),this.n=0,this.threshold=Math.floor(Qj*fne)}toString(){if(this.size===0)return"{}";let e="{",t=!0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;t?t=!1:e+=", ",e+=i.toString()}return e+="}",e}toTableString(){let e="";for(let t of this.buckets){if(t==null){e+=`null
`;continue}e+="[";let r=!0;for(let i of t)r?r=!1:e+=" ",i==null?e+="_":e+=i.toString();e+=`]
`}return e}asElementType(e){return e}createBuckets(e){return new Array(e)}};k0([I0.NotNull],Ml.prototype,"comparator",void 0);k0([I0.Override],Ml.prototype,"hashCode",null);k0([I0.Override],Ml.prototype,"equals",null);k0([I0.Override],Ml.prototype,"add",null);k0([I0.Override],Ml.prototype,"size",null);k0([I0.Override],Ml.prototype,"isEmpty",null);k0([I0.Override],Ml.prototype,"contains",null);k0([Qit(0,I0.Nullable)],Ml.prototype,"containsFast",null);k0([I0.Override],Ml.prototype,Symbol.iterator,null);k0([I0.Override],Ml.prototype,"toArray",null);k0([I0.Override],Ml.prototype,"containsAll",null);k0([I0.Override],Ml.prototype,"addAll",null);k0([I0.Override],Ml.prototype,"clear",null);k0([I0.Override],Ml.prototype,"toString",null);k0([I0.SuppressWarnings("unchecked")],Ml.prototype,"asElementType",null);k0([I0.SuppressWarnings("unchecked")],Ml.prototype,"createBuckets",null);z5.Array2DHashSet=Ml});var yD=Ae(K8=>{"use strict";m();var M6e=K8&&K8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(K8,"__esModule",{value:!0});K8.ArrayEqualityComparator=void 0;var P6e=wr(),Kit=Il(),Jit=Em(),Y8=class{hashCode(e){return e==null?0:Kit.MurmurHash.hashCode(e,0)}equals(e,t){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Jit.ObjectEqualityComparator.INSTANCE.equals(e[r],t[r]))return!1;return!0}};Y8.INSTANCE=new Y8;M6e([P6e.Override],Y8.prototype,"hashCode",null);M6e([P6e.Override],Y8.prototype,"equals",null);K8.ArrayEqualityComparator=Y8});var Sm=Ae(s1=>{"use strict";m();Object.defineProperty(s1,"__esModule",{value:!0});s1.toCharArray=s1.toMap=s1.equals=s1.join=s1.escapeWhitespace=void 0;function Xit(n,e){return e?n.replace(/ /,"\xB7"):n.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}s1.escapeWhitespace=Xit;function Zit(n,e){let t="",r=!0;for(let i of n)r?r=!1:t+=e,t+=i;return t}s1.join=Zit;function est(n,e){return n===e?!0:n===void 0||e===void 0?!1:n.equals(e)}s1.equals=est;function tst(n){let e=new Map;for(let t=0;t<n.length;t++)e.set(n[t],t);return e}s1.toMap=tst;function nst(n){if(typeof n=="string"){let e=new Uint16Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}else return n.toCharArray()}s1.toCharArray=nst});var h6=Ae(W2=>{"use strict";m();var Wu=W2&&W2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Gj=W2&&W2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(W2,"__esModule",{value:!0});W2.SemanticContext=void 0;var B6e=Vg(),j6e=yD(),d6=Il(),su=wr(),q6e=Em(),U6e=Sm();function rst(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)<0&&(e=t)}return e}function ist(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)>0&&(e=t)}return e}var yd=class{static get NONE(){return yd._NONE===void 0&&(yd._NONE=new yd.Predicate),yd._NONE}evalPrecedence(e,t){return this}static and(e,t){if(!e||e===yd.NONE)return t;if(t===yd.NONE)return e;let r=new yd.AND(e,t);return r.opnds.length===1?r.opnds[0]:r}static or(e,t){if(!e)return t;if(e===yd.NONE||t===yd.NONE)return yd.NONE;let r=new yd.OR(e,t);return r.opnds.length===1?r.opnds[0]:r}};W2.SemanticContext=yd;(function(n){let e=40363613,t=486279973;function r(f){let p=[];for(let _=0;_<f.length;_++){let E=f[_];E instanceof n.PrecedencePredicate&&(p.push(E),f.splice(_,1),_--)}return p}class i extends n{constructor(p=-1,_=-1,E=!1){super();this.ruleIndex=p,this.predIndex=_,this.isCtxDependent=E}eval(p,_){let E=this.isCtxDependent?_:void 0;return p.sempred(E,this.ruleIndex,this.predIndex)}hashCode(){let p=d6.MurmurHash.initialize();return p=d6.MurmurHash.update(p,this.ruleIndex),p=d6.MurmurHash.update(p,this.predIndex),p=d6.MurmurHash.update(p,this.isCtxDependent?1:0),p=d6.MurmurHash.finish(p,3),p}equals(p){return p instanceof i?this===p?!0:this.ruleIndex===p.ruleIndex&&this.predIndex===p.predIndex&&this.isCtxDependent===p.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}Wu([su.Override],i.prototype,"eval",null),Wu([su.Override],i.prototype,"hashCode",null),Wu([su.Override],i.prototype,"equals",null),Wu([su.Override],i.prototype,"toString",null),n.Predicate=i;class s extends n{constructor(p){super();this.precedence=p}eval(p,_){return p.precpred(_,this.precedence)}evalPrecedence(p,_){if(p.precpred(_,this.precedence))return n.NONE}compareTo(p){return this.precedence-p.precedence}hashCode(){let p=1;return p=31*p+this.precedence,p}equals(p){return p instanceof s?this===p?!0:this.precedence===p.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}Wu([su.Override],s.prototype,"eval",null),Wu([su.Override],s.prototype,"evalPrecedence",null),Wu([su.Override],s.prototype,"compareTo",null),Wu([su.Override],s.prototype,"hashCode",null),Wu([su.Override],s.prototype,"equals",null),Wu([su.Override],s.prototype,"toString",null),n.PrecedencePredicate=s;class o extends n{}n.Operator=o;let a=class Yj extends o{constructor(p,_){super();let E=new B6e.Array2DHashSet(q6e.ObjectEqualityComparator.INSTANCE);p instanceof Yj?E.addAll(p.opnds):E.add(p),_ instanceof Yj?E.addAll(_.opnds):E.add(_),this.opnds=E.toArray();let O=r(this.opnds),R=ist(O);R&&this.opnds.push(R)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof Yj?j6e.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return d6.MurmurHash.hashCode(this.opnds,e)}eval(p,_){for(let E of this.opnds)if(!E.eval(p,_))return!1;return!0}evalPrecedence(p,_){let E=!1,O=[];for(let q of this.opnds){let z=q.evalPrecedence(p,_);if(E=E||z!==q,z==null)return;z!==n.NONE&&O.push(z)}if(!E)return this;if(O.length===0)return n.NONE;let R=O[0];for(let q=1;q<O.length;q++)R=n.and(R,O[q]);return R}toString(){return U6e.join(this.opnds,"&&")}};Wu([su.Override],a.prototype,"operands",null),Wu([su.Override],a.prototype,"equals",null),Wu([su.Override],a.prototype,"hashCode",null),Wu([su.Override],a.prototype,"eval",null),Wu([su.Override],a.prototype,"evalPrecedence",null),Wu([su.Override],a.prototype,"toString",null),a=Wu([Gj(0,su.NotNull),Gj(1,su.NotNull)],a),n.AND=a;let l=class Kj extends o{constructor(p,_){super();let E=new B6e.Array2DHashSet(q6e.ObjectEqualityComparator.INSTANCE);p instanceof Kj?E.addAll(p.opnds):E.add(p),_ instanceof Kj?E.addAll(_.opnds):E.add(_),this.opnds=E.toArray();let O=r(this.opnds),R=rst(O);R&&this.opnds.push(R)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof Kj?j6e.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return d6.MurmurHash.hashCode(this.opnds,t)}eval(p,_){for(let E of this.opnds)if(E.eval(p,_))return!0;return!1}evalPrecedence(p,_){let E=!1,O=[];for(let q of this.opnds){let z=q.evalPrecedence(p,_);if(E=E||z!==q,z===n.NONE)return n.NONE;z&&O.push(z)}if(!E)return this;if(O.length===0)return;let R=O[0];for(let q=1;q<O.length;q++)R=n.or(R,O[q]);return R}toString(){return U6e.join(this.opnds,"||")}};Wu([su.Override],l.prototype,"operands",null),Wu([su.Override],l.prototype,"equals",null),Wu([su.Override],l.prototype,"hashCode",null),Wu([su.Override],l.prototype,"eval",null),Wu([su.Override],l.prototype,"evalPrecedence",null),Wu([su.Override],l.prototype,"toString",null),l=Wu([Gj(0,su.NotNull),Gj(1,su.NotNull)],l),n.OR=l})(yd=W2.SemanticContext||(W2.SemanticContext={}))});var dne=Ae(H5=>{"use strict";m();var vD=H5&&H5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},sst=H5&&H5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(H5,"__esModule",{value:!0});H5.PredicateTransition=void 0;var ost=Wj(),J8=wr(),ast=h6(),p6=class extends ost.AbstractPredicateTransition{constructor(e,t,r,i){super(e);this.ruleIndex=t,this.predIndex=r,this.isCtxDependent=i}get serializationType(){return 4}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new ast.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};vD([J8.Override],p6.prototype,"serializationType",null);vD([J8.Override],p6.prototype,"isEpsilon",null);vD([J8.Override],p6.prototype,"matches",null);vD([J8.Override,J8.NotNull],p6.prototype,"toString",null);p6=vD([sst(0,J8.NotNull)],p6);H5.PredicateTransition=p6});var _D=Ae(V5=>{"use strict";m();var $6e=V5&&V5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ust=V5&&V5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(V5,"__esModule",{value:!0});V5.FailedPredicateException=void 0;var lst=zg(),z6e=wr(),cst=dne(),Jj=class H6e extends lst.RecognitionException{constructor(e,t,r){super(e,e.inputStream,e.context,H6e.formatMessage(t,r));let s=e.interpreter.atn.states[e.state].transition(0);s instanceof cst.PredicateTransition?(this._ruleIndex=s.ruleIndex,this._predicateIndex=s.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=t,super.setOffendingToken(e,e.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(e,t){return t||`failed predicate: {${e}}?`}};$6e([z6e.NotNull],Jj,"formatMessage",null);Jj=$6e([ust(0,z6e.NotNull)],Jj);V5.FailedPredicateException=Jj});var bD=Ae(W5=>{"use strict";m();var fst=W5&&W5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},dst=W5&&W5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(W5,"__esModule",{value:!0});W5.InputMismatchException=void 0;var hst=zg(),pst=wr(),hne=class extends hst.RecognitionException{constructor(e,t,r){r===void 0&&(r=e.context);super(e,e.inputStream,r);t!==void 0&&this.setOffendingState(t),this.setOffendingToken(e,e.currentToken)}};hne=fst([dst(0,pst.NotNull)],hne);W5.InputMismatchException=hne});var Xj=Ae(ED=>{"use strict";m();Object.defineProperty(ED,"__esModule",{value:!0});ED.Arrays=void 0;var mst;(function(n){function e(i,s,o,a){return t(i,o!==void 0?o:0,a!==void 0?a:i.length,s)}n.binarySearch=e;function t(i,s,o,a){let l=s,f=o-1;for(;l<=f;){let p=l+f>>>1,_=i[p];if(_<a)l=p+1;else if(_>a)f=p-1;else return p}return-(l+1)}function r(i){let s="[",o=!0;for(let a of i)o?o=!1:s+=", ",a===null?s+="null":a===void 0?s+="undefined":s+=a;return s+="]",s}n.toString=r})(mst=ED.Arrays||(ED.Arrays={}))});var tq=Ae(X8=>{"use strict";m();var Zj=X8&&X8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(X8,"__esModule",{value:!0});X8.IntegerList=void 0;var xst=Xj(),eq=wr(),pne=new Int32Array(0),gst=4,mne=(1<<31>>>0)-1-8,Q2=class{constructor(e){if(!e)this._data=pne,this._size=0;else if(e instanceof Q2)this._data=e._data.slice(0),this._size=e._size;else if(typeof e=="number")e===0?(this._data=pne,this._size=0):(this._data=new Int32Array(e),this._size=0);else{this._data=pne,this._size=0;for(let t of e)this.add(t)}}add(e){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=e,this._size++}addAll(e){if(Array.isArray(e))this.ensureCapacity(this._size+e.length),this._data.subarray(this._size,this._size+e.length).set(e),this._size+=e.length;else if(e instanceof Q2)this.ensureCapacity(this._size+e._size),this._data.subarray(this._size,this._size+e.size).set(e._data),this._size+=e._size;else{this.ensureCapacity(this._size+e.size);let t=0;for(let r of e)this._data[this._size+t]=r,t++;this._size+=e.size}}get(e){if(e<0||e>=this._size)throw RangeError();return this._data[e]}contains(e){for(let t=0;t<this._size;t++)if(this._data[t]===e)return!0;return!1}set(e,t){if(e<0||e>=this._size)throw RangeError();let r=this._data[e];return this._data[e]=t,r}removeAt(e){let t=this.get(e);return this._data.copyWithin(e,e+1,this._size),this._data[this._size-1]=0,this._size--,t}removeRange(e,t){if(e<0||t<0||e>this._size||t>this._size||e>t)throw RangeError();this._data.copyWithin(t,e,this._size),this._data.fill(0,this._size-(t-e),this._size),this._size-=t-e}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(e){if(e===this)return!0;if(!(e instanceof Q2)||this._size!==e._size)return!1;for(let t=0;t<this._size;t++)if(this._data[t]!==e._data[t])return!1;return!0}hashCode(){let e=1;for(let t=0;t<this._size;t++)e=31*e+this._data[t];return e}toString(){return this._data.toString()}binarySearch(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this._size),t<0||r<0||t>this._size||r>this._size)throw new RangeError;if(t>r)throw new RangeError;return xst.Arrays.binarySearch(this._data,e,t,r)}ensureCapacity(e){if(e<0||e>mne)throw new RangeError;let t;for(this._data.length===0?t=gst:t=this._data.length;t<e;)t=t*2,(t<0||t>mne)&&(t=mne);let r=new Int32Array(t);r.set(this._data),this._data=r}toCharArray(){let e=new Uint16Array(this._size),t=0,r=!1;for(let i=0;i<this._size;i++){let s=this._data[i];if(s>=0&&s<65536){e[t]=s,t++;continue}if(!r){let a=new Uint16Array(this.charArraySize());a.set(e,0),e=a,r=!0}let o=String.fromCodePoint(s);e[t]=o.charCodeAt(0),e[t+1]=o.charCodeAt(1),t+=2}return e}charArraySize(){let e=0;for(let t=0;t<this._size;t++)e+=this._data[t]>=65536?2:1;return e}};Zj([eq.NotNull],Q2.prototype,"_data",void 0);Zj([eq.Override],Q2.prototype,"equals",null);Zj([eq.Override],Q2.prototype,"hashCode",null);Zj([eq.Override],Q2.prototype,"toString",null);X8.IntegerList=Q2});var M0=Ae(Z8=>{"use strict";m();var xne=Z8&&Z8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Z8,"__esModule",{value:!0});Z8.Interval=void 0;var gne=wr(),V6e=1e3,_c=class{constructor(e,t){this.a=e,this.b=t}static get INVALID(){return _c._INVALID}static of(e,t){return e!==t||e<0||e>V6e?new _c(e,t):(_c.cache[e]==null&&(_c.cache[e]=new _c(e,e)),_c.cache[e])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(e){return e===this?!0:e instanceof _c?this.a===e.a&&this.b===e.b:!1}hashCode(){let e=23;return e=e*31+this.a,e=e*31+this.b,e}startsBeforeDisjoint(e){return this.a<e.a&&this.b<e.a}startsBeforeNonDisjoint(e){return this.a<=e.a&&this.b>=e.a}startsAfter(e){return this.a>e.a}startsAfterDisjoint(e){return this.a>e.b}startsAfterNonDisjoint(e){return this.a>e.a&&this.a<=e.b}disjoint(e){return this.startsBeforeDisjoint(e)||this.startsAfterDisjoint(e)}adjacent(e){return this.a===e.b+1||this.b===e.a-1}properlyContains(e){return e.a>=this.a&&e.b<=this.b}union(e){return _c.of(Math.min(this.a,e.a),Math.max(this.b,e.b))}intersection(e){return _c.of(Math.max(this.a,e.a),Math.min(this.b,e.b))}differenceNotProperlyContained(e){let t;return e.startsBeforeNonDisjoint(this)?t=_c.of(Math.max(this.a,e.b+1),this.b):e.startsAfterNonDisjoint(this)&&(t=_c.of(this.a,e.a-1)),t}toString(){return this.a+".."+this.b}};_c._INVALID=new _c(-1,-2);_c.cache=new Array(V6e+1);xne([gne.Override],_c.prototype,"equals",null);xne([gne.Override],_c.prototype,"hashCode",null);xne([gne.Override],_c.prototype,"toString",null);Z8.Interval=_c});var ou=Ae(SD=>{"use strict";m();Object.defineProperty(SD,"__esModule",{value:!0});SD.Token=void 0;var yst=Ug(),vst;(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=yst.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(vst=SD.Token||(SD.Token={}))});var eS=Ae(Q5=>{"use strict";m();var ph=Q5&&Q5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},W6e=Q5&&Q5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Q5,"__esModule",{value:!0});Q5.CommonToken=void 0;var _st=M0(),mh=wr(),Q6e=ou(),Qf=class wD{constructor(e,t,r=wD.EMPTY_SOURCE,i=Q6e.Token.DEFAULT_CHANNEL,s=0,o=0){this._line=0,this._charPositionInLine=-1,this._channel=Q6e.Token.DEFAULT_CHANNEL,this.index=-1,this._text=t,this._type=e,this.source=r,this._channel=i,this.start=s,this.stop=o,r.source!=null&&(this._line=r.source.line,this._charPositionInLine=r.source.charPositionInLine)}static fromToken(e){let t=new wD(e.type,void 0,wD.EMPTY_SOURCE,e.channel,e.startIndex,e.stopIndex);return t._line=e.line,t.index=e.tokenIndex,t._charPositionInLine=e.charPositionInLine,e instanceof wD?(t._text=e._text,t.source=e.source):(t._text=e.text,t.source={source:e.tokenSource,stream:e.inputStream}),t}get type(){return this._type}set type(e){this._type=e}get line(){return this._line}set line(e){this._line=e}get text(){if(this._text!=null)return this._text;let e=this.inputStream;if(e==null)return;let t=e.size;return this.start<t&&this.stop<t?e.getText(_st.Interval.of(this.start,this.stop)):"<EOF>"}set text(e){this._text=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}get channel(){return this._channel}set channel(e){this._channel=e}get startIndex(){return this.start}set startIndex(e){this.start=e}get stopIndex(){return this.stop}set stopIndex(e){this.stop=e}get tokenIndex(){return this.index}set tokenIndex(e){this.index=e}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(e){let t="";this._channel>0&&(t=",channel="+this._channel);let r=this.text;r!=null?(r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r=r.replace(/\t/g,"\\t")):r="<no text>";let i=String(this._type);return e&&(i=e.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+r+"',<"+i+">"+t+","+this._line+":"+this.charPositionInLine+"]"}};Qf.EMPTY_SOURCE={source:void 0,stream:void 0};ph([mh.NotNull],Qf.prototype,"source",void 0);ph([mh.Override],Qf.prototype,"type",null);ph([mh.Override],Qf.prototype,"line",null);ph([mh.Override],Qf.prototype,"text",null);ph([mh.Override],Qf.prototype,"charPositionInLine",null);ph([mh.Override],Qf.prototype,"channel",null);ph([mh.Override],Qf.prototype,"startIndex",null);ph([mh.Override],Qf.prototype,"stopIndex",null);ph([mh.Override],Qf.prototype,"tokenIndex",null);ph([mh.Override],Qf.prototype,"tokenSource",null);ph([mh.Override],Qf.prototype,"inputStream",null);ph([mh.Override],Qf.prototype,"toString",null);ph([W6e(0,mh.NotNull)],Qf,"fromToken",null);Qf=ph([W6e(2,mh.NotNull)],Qf);Q5.CommonToken=Qf});var nq=Ae(G5=>{"use strict";m();var G6e=G5&&G5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(G5,"__esModule",{value:!0});G5.CommonTokenFactory=void 0;var Y6e=eS(),bst=M0(),K6e=wr(),CD=class{constructor(e=!1){this.copyText=e}create(e,t,r,i,s,o,a,l){let f=new Y6e.CommonToken(t,r,e,i,s,o);return f.line=a,f.charPositionInLine=l,r==null&&this.copyText&&e.stream!=null&&(f.text=e.stream.getText(bst.Interval.of(s,o))),f}createSimple(e,t){return new Y6e.CommonToken(e,t)}};G6e([K6e.Override],CD.prototype,"create",null);G6e([K6e.Override],CD.prototype,"createSimple",null);G5.CommonTokenFactory=CD;(function(n){n.DEFAULT=new n})(CD=G5.CommonTokenFactory||(G5.CommonTokenFactory={}))});var yne=Ae(rq=>{"use strict";m();Object.defineProperty(rq,"__esModule",{value:!0});rq.IntegerStack=void 0;var Est=tq(),J6e=class extends Est.IntegerList{constructor(e){super(e)}push(e){this.add(e)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};rq.IntegerStack=J6e});var vne=Ae(iq=>{"use strict";m();Object.defineProperty(iq,"__esModule",{value:!0});iq.AcceptStateInfo=void 0;var X6e=class{constructor(e,t){this._prediction=e,this._lexerActionExecutor=t}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};iq.AcceptStateInfo=X6e});var m6=Ae(sq=>{"use strict";m();Object.defineProperty(sq,"__esModule",{value:!0});sq.Array2DHashMap=void 0;var Z6e=Vg(),ebe=class{constructor(e){this.keyComparator=e}hashCode(e){return this.keyComparator.hashCode(e.key)}equals(e,t){return this.keyComparator.equals(e.key,t.key)}},AD=class{constructor(e){e instanceof AD?this.backingStore=new Z6e.Array2DHashSet(e.backingStore):this.backingStore=new Z6e.Array2DHashSet(new ebe(e))}clear(){this.backingStore.clear()}containsKey(e){return this.backingStore.contains({key:e})}get(e){let t=this.backingStore.get({key:e});if(!!t)return t.value}get isEmpty(){return this.backingStore.isEmpty}put(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?(i=r.value,r.value=t):this.backingStore.add({key:e,value:t}),i}putIfAbsent(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?i=r.value:this.backingStore.add({key:e,value:t}),i}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(e){return e instanceof AD?this.backingStore.equals(e.backingStore):!1}};sq.Array2DHashMap=AD});var Y5=Ae(oq=>{"use strict";m();Object.defineProperty(oq,"__esModule",{value:!0});oq.DecisionState=void 0;var Sst=V2(),tbe=class extends Sst.ATNState{constructor(){super(...arguments);this.decision=-1,this.nonGreedy=!1,this.sll=!1}};oq.DecisionState=tbe});var lq=Ae(J5=>{"use strict";m();var aq=J5&&J5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(J5,"__esModule",{value:!0});J5.PredictionContextCache=void 0;var _ne=m6(),uq=wr(),bne=Em(),nbe=o1(),rbe=L0(),K5=class{constructor(e=!0){this.contexts=new _ne.Array2DHashMap(bne.ObjectEqualityComparator.INSTANCE),this.childContexts=new _ne.Array2DHashMap(bne.ObjectEqualityComparator.INSTANCE),this.joinContexts=new _ne.Array2DHashMap(bne.ObjectEqualityComparator.INSTANCE),this.enableCache=e}getAsCached(e){if(!this.enableCache)return e;let t=this.contexts.get(e);return t||(t=e,this.contexts.put(e,e)),t}getChild(e,t){if(!this.enableCache)return e.getChild(t);let r=new K5.PredictionContextAndInt(e,t),i=this.childContexts.get(r);return i||(i=e.getChild(t),i=this.getAsCached(i),this.childContexts.put(r,i)),i}join(e,t){if(!this.enableCache)return nbe.PredictionContext.join(e,t,this);let r=new K5.IdentityCommutativePredictionContextOperands(e,t),i=this.joinContexts.get(r);return i||(i=nbe.PredictionContext.join(e,t,this),i=this.getAsCached(i),this.joinContexts.put(r,i),i)}};J5.PredictionContextCache=K5;K5.UNCACHED=new K5(!1);(function(n){class e{constructor(i,s){this.obj=i,this.value=s}equals(i){if(i instanceof e){if(i===this)return!0}else return!1;let s=i;return this.value===s.value&&(this.obj===s.obj||this.obj!=null&&this.obj.equals(s.obj))}hashCode(){let i=5;return i=7*i+(this.obj!=null?this.obj.hashCode():0),i=7*i+this.value,i}}aq([uq.Override],e.prototype,"equals",null),aq([uq.Override],e.prototype,"hashCode",null),n.PredictionContextAndInt=e;class t{constructor(i,s){rbe(i!=null),rbe(s!=null),this._x=i,this._y=s}get x(){return this._x}get y(){return this._y}equals(i){if(i instanceof t){if(this===i)return!0}else return!1;let s=i;return this._x===s._x&&this._y===s._y||this._x===s._y&&this._y===s._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}aq([uq.Override],t.prototype,"equals",null),aq([uq.Override],t.prototype,"hashCode",null),n.IdentityCommutativePredictionContextOperands=t})(K5=J5.PredictionContextCache||(J5.PredictionContextCache={}))});var o1=Ae(a1=>{"use strict";m();var go=a1&&a1.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},X5=a1&&a1.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(a1,"__esModule",{value:!0});a1.SingletonPredictionContext=a1.PredictionContext=void 0;var wst=m6(),Cst=Vg(),Ast=Xj(),G2=Il(),Ws=wr(),ibe=lq(),cq=L0(),Ene=1,ko=class{constructor(e){this.cachedHashCode=e}static calculateEmptyHashCode(){let e=G2.MurmurHash.initialize(Ene);return e=G2.MurmurHash.finish(e,0),e}static calculateSingleHashCode(e,t){let r=G2.MurmurHash.initialize(Ene);return r=G2.MurmurHash.update(r,e),r=G2.MurmurHash.update(r,t),r=G2.MurmurHash.finish(r,2),r}static calculateHashCode(e,t){let r=G2.MurmurHash.initialize(Ene);for(let i of e)r=G2.MurmurHash.update(r,i);for(let i of t)r=G2.MurmurHash.update(r,i);return r=G2.MurmurHash.finish(r,2*e.length),r}static fromRuleContext(e,t,r=!0){if(t.isEmpty)return r?ko.EMPTY_FULL:ko.EMPTY_LOCAL;let i;t._parent?i=ko.fromRuleContext(e,t._parent,r):i=r?ko.EMPTY_FULL:ko.EMPTY_LOCAL;let o=e.states[t.invokingState].transition(0);return i.getChild(o.followState.stateNumber)}static addEmptyContext(e){return e.addEmptyContext()}static removeEmptyContext(e){return e.removeEmptyContext()}static join(e,t,r=ibe.PredictionContextCache.UNCACHED){if(e===t)return e;if(e.isEmpty)return ko.isEmptyLocal(e)?e:ko.addEmptyContext(t);if(t.isEmpty)return ko.isEmptyLocal(t)?t:ko.addEmptyContext(e);let i=e.size,s=t.size;if(i===1&&s===1&&e.getReturnState(0)===t.getReturnState(0)){let O=r.join(e.getParent(0),t.getParent(0));return O===e.getParent(0)?e:O===t.getParent(0)?t:O.getChild(e.getReturnState(0))}let o=0,a=new Array(i+s),l=new Array(a.length),f=0,p=0,_=!0,E=!0;for(;f<i&&p<s;)e.getReturnState(f)===t.getReturnState(p)?(a[o]=r.join(e.getParent(f),t.getParent(p)),l[o]=e.getReturnState(f),_=_&&a[o]===e.getParent(f),E=E&&a[o]===t.getParent(p),f++,p++):e.getReturnState(f)<t.getReturnState(p)?(a[o]=e.getParent(f),l[o]=e.getReturnState(f),E=!1,f++):(cq(t.getReturnState(p)<e.getReturnState(f)),a[o]=t.getParent(p),l[o]=t.getReturnState(p),_=!1,p++),o++;for(;f<i;)a[o]=e.getParent(f),l[o]=e.getReturnState(f),f++,E=!1,o++;for(;p<s;)a[o]=t.getParent(p),l[o]=t.getReturnState(p),p++,_=!1,o++;return _?e:E?t:(o<a.length&&(a=a.slice(0,o),l=l.slice(0,o)),a.length===0?ko.EMPTY_FULL:a.length===1?new Wc(a[0],l[0]):new Gf(a,l))}static isEmptyLocal(e){return e===ko.EMPTY_LOCAL}static getCachedContext(e,t,r){if(e.isEmpty)return e;let i=r.get(e);if(i)return i;if(i=t.get(e),i)return r.put(e,i),i;let s=!1,o=new Array(e.size);for(let l=0;l<o.length;l++){let f=ko.getCachedContext(e.getParent(l),t,r);if(s||f!==e.getParent(l)){if(!s){o=new Array(e.size);for(let p=0;p<e.size;p++)o[p]=e.getParent(p);s=!0}o[l]=f}}if(!s)return i=t.putIfAbsent(e,e),r.put(e,i??e),e;let a;if(o.length===1)a=new Wc(o[0],e.getReturnState(0));else{let l=new Array(e.size);for(let f=0;f<e.size;f++)l[f]=e.getReturnState(f);a=new Gf(o,l,e.hashCode())}return i=t.putIfAbsent(a,a),r.put(a,i||a),r.put(e,i||a),a}appendSingleContext(e,t){return this.appendContext(ko.EMPTY_FULL.getChild(e),t)}getChild(e){return new Wc(this,e)}hashCode(){return this.cachedHashCode}toStrings(e,t,r=ko.EMPTY_FULL){let i=[];e:for(let s=0;;s++){let o=0,a=!0,l=this,f=t,p="";for(p+="[";!l.isEmpty&&l!==r;){let _=0;if(l.size>0){let E=1;for(;1<<E>>>0<l.size;)E++;let O=(1<<E>>>0)-1;if(_=s>>o&O,a=a&&_>=l.size-1,_>=l.size)continue e;o+=E}if(e){p.length>1&&(p+=" ");let O=e.atn.states[f];p+=e.ruleNames[O.ruleIndex]}else l.getReturnState(_)!==ko.EMPTY_FULL_STATE_KEY&&(l.isEmpty||(p.length>1&&(p+=" "),p+=l.getReturnState(_)));f=l.getReturnState(_),l=l.getParent(_)}if(p+="]",i.push(p),a)break}return i}};go([Ws.Override],ko.prototype,"hashCode",null);go([X5(0,Ws.NotNull),X5(1,Ws.NotNull),X5(2,Ws.NotNull)],ko,"join",null);go([X5(0,Ws.NotNull),X5(1,Ws.NotNull),X5(2,Ws.NotNull)],ko,"getCachedContext",null);a1.PredictionContext=ko;var vd=class extends ko{constructor(e){super(ko.calculateEmptyHashCode());this.fullContext=e}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(e){throw new Error("index out of bounds")}getReturnState(e){throw new Error("index out of bounds")}findReturnState(e){return-1}get size(){return 0}appendSingleContext(e,t){return t.getChild(this,e)}appendContext(e,t){return e}get isEmpty(){return!0}get hasEmpty(){return!0}equals(e){return this===e}toStrings(e,t,r){return["[]"]}};go([Ws.Override],vd.prototype,"addEmptyContext",null);go([Ws.Override],vd.prototype,"removeEmptyContext",null);go([Ws.Override],vd.prototype,"getParent",null);go([Ws.Override],vd.prototype,"getReturnState",null);go([Ws.Override],vd.prototype,"findReturnState",null);go([Ws.Override],vd.prototype,"size",null);go([Ws.Override],vd.prototype,"appendSingleContext",null);go([Ws.Override],vd.prototype,"appendContext",null);go([Ws.Override],vd.prototype,"isEmpty",null);go([Ws.Override],vd.prototype,"hasEmpty",null);go([Ws.Override],vd.prototype,"equals",null);go([Ws.Override],vd.prototype,"toStrings",null);var Gf=class x6 extends ko{constructor(e,t,r){super(r||ko.calculateHashCode(e,t));cq(e.length===t.length),cq(t.length>1||t[0]!==ko.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=e,this.returnStates=t}getParent(e){return this.parents[e]}getReturnState(e){return this.returnStates[e]}findReturnState(e){return Ast.Arrays.binarySearch(this.returnStates,e)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===ko.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let e=this.parents.slice(0),t=this.returnStates.slice(0);return e.push(ko.EMPTY_FULL),t.push(ko.EMPTY_FULL_STATE_KEY),new x6(e,t)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new Wc(this.parents[0],this.returnStates[0]);{let e=this.parents.slice(0,this.parents.length-1),t=this.returnStates.slice(0,this.returnStates.length-1);return new x6(e,t)}}appendContext(e,t){return x6.appendContextImpl(this,e,new ko.IdentityHashMap)}static appendContextImpl(e,t,r){if(t.isEmpty){if(ko.isEmptyLocal(t)){if(e.hasEmpty)return ko.EMPTY_LOCAL;throw new Error("what to do here?")}return e}if(t.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let i=r.get(e);if(!i){if(e.isEmpty)i=t;else{let s=e.size;e.hasEmpty&&s--;let o=new Array(s),a=new Array(s);for(let l=0;l<s;l++)a[l]=e.getReturnState(l);for(let l=0;l<s;l++)o[l]=x6.appendContextImpl(e.getParent(l),t,r);o.length===1?i=new Wc(o[0],a[0]):(cq(o.length>1),i=new x6(o,a)),e.hasEmpty&&(i=ko.join(i,t))}r.put(e,i)}return i}equals(e){if(this===e)return!0;if(!(e instanceof x6)||this.hashCode()!==e.hashCode())return!1;let t=e;return this.equalsImpl(t,new Cst.Array2DHashSet)}equalsImpl(e,t){let r=[],i=[];for(r.push(this),i.push(e);;){let s=r.pop(),o=i.pop();if(!s||!o)break;let a=new ibe.PredictionContextCache.IdentityCommutativePredictionContextOperands(s,o);if(!t.add(a))continue;let l=a.x.size;if(l===0){if(!a.x.equals(a.y))return!1;continue}let f=a.y.size;if(l!==f)return!1;for(let p=0;p<l;p++){if(a.x.getReturnState(p)!==a.y.getReturnState(p))return!1;let _=a.x.getParent(p),E=a.y.getParent(p);if(_.hashCode()!==E.hashCode())return!1;_!==E&&(r.push(_),i.push(E))}}return!0}};go([Ws.NotNull],Gf.prototype,"parents",void 0);go([Ws.NotNull],Gf.prototype,"returnStates",void 0);go([Ws.Override],Gf.prototype,"getParent",null);go([Ws.Override],Gf.prototype,"getReturnState",null);go([Ws.Override],Gf.prototype,"findReturnState",null);go([Ws.Override],Gf.prototype,"size",null);go([Ws.Override],Gf.prototype,"isEmpty",null);go([Ws.Override],Gf.prototype,"hasEmpty",null);go([Ws.Override],Gf.prototype,"addEmptyContext",null);go([Ws.Override],Gf.prototype,"removeEmptyContext",null);go([Ws.Override],Gf.prototype,"appendContext",null);go([Ws.Override],Gf.prototype,"equals",null);Gf=go([X5(0,Ws.NotNull)],Gf);var Wc=class sbe extends ko{constructor(e,t){super(ko.calculateSingleHashCode(e,t));this.parent=e,this.returnState=t}getParent(e){return this.parent}getReturnState(e){return this.returnState}findReturnState(e){return this.returnState===e?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(e,t){return t.getChild(this.parent.appendContext(e,t),this.returnState)}addEmptyContext(){let e=[this.parent,ko.EMPTY_FULL],t=[this.returnState,ko.EMPTY_FULL_STATE_KEY];return new Gf(e,t)}removeEmptyContext(){return this}equals(e){if(e===this)return!0;if(!(e instanceof sbe))return!1;let t=e;return this.hashCode()!==t.hashCode()?!1:this.returnState===t.returnState&&this.parent.equals(t.parent)}};go([Ws.NotNull],Wc.prototype,"parent",void 0);go([Ws.Override],Wc.prototype,"getParent",null);go([Ws.Override],Wc.prototype,"getReturnState",null);go([Ws.Override],Wc.prototype,"findReturnState",null);go([Ws.Override],Wc.prototype,"size",null);go([Ws.Override],Wc.prototype,"isEmpty",null);go([Ws.Override],Wc.prototype,"hasEmpty",null);go([Ws.Override],Wc.prototype,"appendContext",null);go([Ws.Override],Wc.prototype,"addEmptyContext",null);go([Ws.Override],Wc.prototype,"removeEmptyContext",null);go([Ws.Override],Wc.prototype,"equals",null);Wc=go([X5(0,Ws.NotNull)],Wc);a1.SingletonPredictionContext=Wc;(function(n){n.EMPTY_LOCAL=new vd(!1),n.EMPTY_FULL=new vd(!0),n.EMPTY_LOCAL_STATE_KEY=-(1<<31>>>0),n.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class e extends wst.Array2DHashMap{constructor(){super(t.INSTANCE)}}n.IdentityHashMap=e;class t{IdentityEqualityComparator(){}hashCode(i){return i.hashCode()}equals(i,s){return i===s}}t.INSTANCE=new t,go([Ws.Override],t.prototype,"hashCode",null),go([Ws.Override],t.prototype,"equals",null),n.IdentityEqualityComparator=t})(ko=a1.PredictionContext||(a1.PredictionContext={}))});var FD=Ae(Z5=>{"use strict";m();var bc=Z5&&Z5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Yh=Z5&&Z5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Z5,"__esModule",{value:!0});Z5.ATNConfig=void 0;var Tst=m6(),Fst=Y5(),Wg=Il(),Va=wr(),Dst=Em(),obe=o1(),g6=h6(),abe=L0(),Sne=2147483648,_d=class TD{constructor(e,t,r){typeof t=="number"?(abe((t&16777215)===t),this._state=e,this.altAndOuterContextDepth=t,this._context=r):(this._state=e,this.altAndOuterContextDepth=t.altAndOuterContextDepth,this._context=r)}static create(e,t,r,i=g6.SemanticContext.NONE,s){return i!==g6.SemanticContext.NONE?s!=null?new nS(s,i,e,t,r,!1):new y6(i,e,t,r):s!=null?new tS(s,e,t,r,!1):new TD(e,t,r)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(e){this._context=e}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(e){abe(e>=0),e=Math.min(e,127),this.altAndOuterContextDepth=e<<24|(this.altAndOuterContextDepth&~2130706432)>>>0}get lexerActionExecutor(){}get semanticContext(){return g6.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(e,t,r){return r==null?this.transformImpl(e,this._context,this.semanticContext,t,this.lexerActionExecutor):r instanceof obe.PredictionContext?this.transformImpl(e,r,this.semanticContext,t,this.lexerActionExecutor):r instanceof g6.SemanticContext?this.transformImpl(e,this._context,r,t,this.lexerActionExecutor):this.transformImpl(e,this._context,this.semanticContext,t,r)}transformImpl(e,t,r,i,s){let o=i&&TD.checkNonGreedyDecision(this,e);return r!==g6.SemanticContext.NONE?s!=null||o?new nS(s,r,e,this,t,o):new y6(r,e,this,t):s!=null||o?new tS(s,e,this,t,o):new TD(e,this,t)}static checkNonGreedyDecision(e,t){return e.hasPassedThroughNonGreedyDecision||t instanceof Fst.DecisionState&&t.nonGreedy}appendContext(e,t){if(typeof e=="number"){let r=this.context.appendSingleContext(e,t);return this.transform(this.state,!1,r)}else{let r=this.context.appendContext(e,t);return this.transform(this.state,!1,r)}}contains(e){if(this.state.stateNumber!==e.state.stateNumber||this.alt!==e.alt||!this.semanticContext.equals(e.semanticContext))return!1;let t=[],r=[];for(t.push(this.context),r.push(e.context);;){let i=t.pop(),s=r.pop();if(!i||!s)break;if(i===s)return!0;if(i.size<s.size)return!1;if(s.isEmpty)return i.hasEmpty;for(let o=0;o<s.size;o++){let a=i.findReturnState(s.getReturnState(o));if(a<0)return!1;t.push(i.getParent(a)),r.push(s.getParent(o))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&Sne)!==0}set isPrecedenceFilterSuppressed(e){e?this.altAndOuterContextDepth|=Sne:this.altAndOuterContextDepth&=~Sne}equals(e){return this===e?!0:e instanceof TD?this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.reachesIntoOuterContext===e.reachesIntoOuterContext&&this.context.equals(e.context)&&this.semanticContext.equals(e.semanticContext)&&this.isPrecedenceFilterSuppressed===e.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===e.hasPassedThroughNonGreedyDecision&&Dst.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,e.lexerActionExecutor):!1}hashCode(){let e=Wg.MurmurHash.initialize(7);return e=Wg.MurmurHash.update(e,this.state.stateNumber),e=Wg.MurmurHash.update(e,this.alt),e=Wg.MurmurHash.update(e,this.reachesIntoOuterContext?1:0),e=Wg.MurmurHash.update(e,this.context),e=Wg.MurmurHash.update(e,this.semanticContext),e=Wg.MurmurHash.update(e,this.hasPassedThroughNonGreedyDecision?1:0),e=Wg.MurmurHash.update(e,this.lexerActionExecutor),e=Wg.MurmurHash.finish(e,7),e}toDotString(){let e="";e+=`digraph G {
`,e+=`rankdir=LR;
`;let t=new Tst.Array2DHashMap(obe.PredictionContext.IdentityEqualityComparator.INSTANCE),r=[];function i(s){let o=t.size,a=t.putIfAbsent(s,o);return a??(r.push(s),o)}for(r.push(this.context),t.put(this.context,0);;){let s=r.pop();if(!s)break;for(let o=0;o<s.size;o++)e+="  s"+i(s),e+="->",e+="s"+i(s.getParent(o)),e+='[label="'+s.getReturnState(o)+`"];
`}return e+=`}
`,e.toString()}toString(e,t,r){r==null&&(r=t!=null),t==null&&(t=!0);let i="",s;r?s=this.context.toStrings(e,this.state.stateNumber):s=["?"];let o=!0;for(let a of s)o?o=!1:i+=", ",i+="(",i+=this.state,t&&(i+=",",i+=this.alt),this.context&&(i+=",",i+=a),this.semanticContext!==g6.SemanticContext.NONE&&(i+=",",i+=this.semanticContext),this.reachesIntoOuterContext&&(i+=",up="+this.outerContextDepth),i+=")";return i.toString()}};bc([Va.NotNull],_d.prototype,"_state",void 0);bc([Va.NotNull],_d.prototype,"_context",void 0);bc([Va.NotNull],_d.prototype,"state",null);bc([Va.NotNull,Yh(0,Va.NotNull)],_d.prototype,"context",null);bc([Va.NotNull],_d.prototype,"semanticContext",null);bc([Va.Override],_d.prototype,"clone",null);bc([Yh(0,Va.NotNull),Yh(2,Va.NotNull)],_d.prototype,"transformImpl",null);bc([Va.Override],_d.prototype,"equals",null);bc([Va.Override],_d.prototype,"hashCode",null);bc([Yh(0,Va.NotNull),Yh(3,Va.NotNull)],_d,"create",null);_d=bc([Yh(0,Va.NotNull),Yh(2,Va.NotNull)],_d);Z5.ATNConfig=_d;var y6=class extends _d{constructor(e,t,r,i){typeof r=="number"?super(t,r,i):super(t,r,i),this._semanticContext=e}get semanticContext(){return this._semanticContext}};bc([Va.NotNull],y6.prototype,"_semanticContext",void 0);bc([Va.Override],y6.prototype,"semanticContext",null);y6=bc([Yh(1,Va.NotNull),Yh(2,Va.NotNull)],y6);var tS=class extends _d{constructor(e,t,r,i,s){if(typeof r=="number")super(t,r,i);else{super(t,r,i);if(r.semanticContext!==g6.SemanticContext.NONE)throw new Error("Not supported")}this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=s}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};bc([Va.Override],tS.prototype,"lexerActionExecutor",null);bc([Va.Override],tS.prototype,"hasPassedThroughNonGreedyDecision",null);tS=bc([Yh(1,Va.NotNull),Yh(2,Va.NotNull)],tS);var nS=class extends y6{constructor(e,t,r,i,s,o){typeof i=="number"?super(t,r,i,s):super(t,r,i,s),this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};bc([Va.Override],nS.prototype,"lexerActionExecutor",null);bc([Va.Override],nS.prototype,"hasPassedThroughNonGreedyDecision",null);nS=bc([Yh(1,Va.NotNull),Yh(2,Va.NotNull)],nS)});var Qg=Ae(fq=>{"use strict";m();Object.defineProperty(fq,"__esModule",{value:!0});fq.BitSet=void 0;var Ost=M5(),Rst=Il(),DD=new Uint16Array(0);function Kh(n){return n>>>4}function rS(n){return n*16}function wne(n){let e=1;for(let t=0;t<16;t++){if((n&e)!==0)return t;e=e<<1>>>0}throw new RangeError("No specified bit found")}function ube(n){let e=1<<15>>>0;for(let t=15;t>=0;t--){if((n&e)!==0)return t;e=e>>>1}throw new RangeError("No specified bit found")}function u1(n,e){return n&=15,e&=15,n===e?1<<n>>>0:65535>>>15-e^65535>>>16-n}var Cne=new Uint8Array(65536);for(let n=0;n<16;n++){let e=1<<n>>>0,t=0;for(;t<Cne.length;){t+=e;for(let r=0;r<e;r++)Cne[t]++,t++}}var v6=class{constructor(e){if(!e)this.data=DD;else if(typeof e=="number"){if(e<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(Kh(e-1)+1)}else if(e instanceof v6)this.data=e.data.slice(0);else{let t=-1;for(let r of e)t<r&&(t=r);this.data=new Uint16Array(Kh(t-1)+1);for(let r of e)this.set(r)}}and(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o])!==0&&(s=o);s===-1&&(this.data=DD),s<t.length-1&&(this.data=t.slice(0,s+1))}andNot(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o]^65535)!==0&&(s=o);s===-1&&(this.data=DD),s<t.length-1&&(this.data=t.slice(0,s+1))}cardinality(){if(this.isEmpty)return 0;let e=this.data,t=e.length,r=0;for(let i=0;i<t;i++)r+=Cne[e[i]];return r}clear(e,t){e==null?this.data.fill(0):t==null?this.set(e,!1):this.set(e,t,!1)}flip(e,t){if(t==null&&(t=e),e<0||t<e)throw new RangeError;let r=Kh(e),i=Kh(t);if(r===i)this.data[r]^=u1(e,t);else{for(this.data[r++]^=u1(e,15);r<i;)this.data[r++]^=65535;this.data[r++]^=u1(0,t)}}get(e,t){if(t===void 0)return!!(this.data[Kh(e)]&u1(e,e));{let r=new v6(t+1);for(let i=e;i<=t;i++)r.set(i,this.get(i));return r}}intersects(e){let t=Math.min(this.length(),e.length());if(t===0)return!1;let r=Kh(t-1);for(let i=0;i<=r;i++)if((this.data[i]&e.data[i])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(rS(this.data.length)-1)+1:0}nextClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Kh(e);if(i>r)return-1;let s=65535^u1(e,15);if((t[i]|s)===65535){for(i++,s=0;i<r&&t[i]===65535;i++);if(i===r)return-1}return rS(i)+wne((t[i]|s)^65535)}nextSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Kh(e);if(i>r)return-1;let s=u1(e,15);if((t[i]&s)===0){for(i++,s=65535;i<r&&t[i]===0;i++);if(i>=r)return-1}return rS(i)+wne(t[i]&s)}or(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let f=0;f<i;f++)(o[f]=t[f]|r[f])!==0&&(a=f);let l=t.length>r.length?t:r;for(let f=i;f<s;f++)(o[f]=l[f])!==0&&(a=f);a===-1?this.data=DD:o.length===a+1?this.data=o:this.data=o.slice(0,a)}previousClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Kh(e);i>=r&&(i=r-1);let s=65535^u1(0,e);if((t[i]|s)===65535){for(s=0,i--;i>=0&&t[i]===65535;i--);if(i<0)return-1}return rS(i)+ube((t[i]|s)^65535)}previousSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Kh(e);i>=r&&(i=r-1);let s=u1(0,e);if((t[i]&s)===0){for(i--,s=65535;i>=0&&t[i]===0;i--);if(i<0)return-1}return rS(i)+ube(t[i]&s)}set(e,t,r){if(t===void 0?(t=e,r=!0):typeof t=="boolean"&&(r=t,t=e),r===void 0&&(r=!0),e<0||e>t)throw new RangeError;let i=Kh(e),s=Kh(t);if(r&&s>=this.data.length){let o=new Uint16Array(s+1);this.data.forEach((a,l)=>o[l]=a),this.data=o}else if(!r){if(i>=this.data.length)return;s>=this.data.length&&(s=this.data.length-1,t=this.data.length*16-1)}if(i===s)this._setBits(i,r,u1(e,t));else{for(this._setBits(i++,r,u1(e,15));i<s;)this.data[i++]=r?65535:0;this._setBits(i,r,u1(0,t))}}_setBits(e,t,r){t?this.data[e]|=r:this.data[e]&=65535^r}get size(){return this.data.byteLength*8}hashCode(){return Rst.MurmurHash.hashCode(this.data,22)}equals(e){if(e===this)return!0;if(!(e instanceof v6))return!1;let t=this.length();if(t!==e.length())return!1;if(t===0)return!0;let r=Kh(t-1);for(let i=0;i<=r;i++)if(this.data[i]!==e.data[i])return!1;return!0}toString(){let e="{",t=!0;for(let r=this.nextSetBit(0);r>=0;r=this.nextSetBit(r+1))t?t=!1:e+=", ",e+=r;return e+="}",e}xor(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let f=0;f<i;f++)(o[f]=t[f]^r[f])!==0&&(a=f);let l=t.length>r.length?t:r;for(let f=i;f<s;f++)(o[f]=l[f])!==0&&(a=f);a===-1?this.data=DD:o.length===a+1?this.data=o:this.data=o.slice(0,a+1)}clone(){return new v6(this)}[Symbol.iterator](){return new lbe(this.data)}[Ost.inspect.custom](){return"BitSet "+this.toString()}};fq.BitSet=v6;var lbe=class{constructor(e){this.data=e,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){let e=this.data[this.index]&this.mask;if(e!==0){let t=rS(this.index)+wne(e);return this.mask=u1(t+1,15),{done:!1,value:t}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}});var sS=Ae(iS=>{"use strict";m();var Y2=iS&&iS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(iS,"__esModule",{value:!0});iS.ATNConfigSet=void 0;var cbe=m6(),Nst=Vg(),fbe=yD(),dq=wm(),dbe=FD(),Lst=Qg(),K2=wr(),kst=Em(),hbe=o1(),Ist=lq(),Mst=h6(),hq=L0(),Pst=Sm(),pq=class{hashCode(e){return e.state^e.alt}equals(e,t){return e.state===t.state&&e.alt===t.alt}};pq.INSTANCE=new pq;function Ane(n){return n?new cbe.Array2DHashMap(n):new cbe.Array2DHashMap(pq.INSTANCE)}var bd=class{constructor(e,t){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,e?(t?(this.mergedConfigs=void 0,this.unmerged=void 0):e.isReadOnly?(this.mergedConfigs=Ane(),this.unmerged=[]):(this.mergedConfigs=Ane(e.mergedConfigs),this.unmerged=e.unmerged.slice(0)),this.configs=e.configs.slice(0),this._dipsIntoOuterContext=e._dipsIntoOuterContext,this._hasSemanticContext=e._hasSemanticContext,this.outermostConfigSet=e.outermostConfigSet,(t||!e.isReadOnly)&&(this._uniqueAlt=e._uniqueAlt,this._conflictInfo=e._conflictInfo)):(this.mergedConfigs=Ane(),this.unmerged=[],this.configs=[],this._uniqueAlt=dq.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let e=new Lst.BitSet;for(let t of this)e.set(t.alt);return e}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(e){if(this.outermostConfigSet&&!e)throw new Error("IllegalStateException");hq(!e||!this._dipsIntoOuterContext),this.outermostConfigSet=e}getStates(){let e=new Nst.Array2DHashSet(kst.ObjectEqualityComparator.INSTANCE);for(let t of this.configs)e.add(t.state);return e}optimizeConfigs(e){if(this.configs.length!==0)for(let t of this.configs)t.context=e.atn.getCachedContext(t.context)}clone(e){let t=new bd(this,e);return!e&&this.isReadOnly&&t.addAll(this.configs),t}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(e){if(!(e instanceof dbe.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let t=e,r=this.getKey(t),i=this.mergedConfigs.get(r);if(i!=null&&this.canMerge(t,r,i))return i.contains(t);for(let s of this.unmerged)if(s.contains(e))return!0}else for(let t of this.configs)if(t.contains(e))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(e,t){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");hq(!this.outermostConfigSet||!e.reachesIntoOuterContext),t==null&&(t=Ist.PredictionContextCache.UNCACHED);let r,i=this.getKey(e),s=this.mergedConfigs.get(i);if(r=s==null,s!=null&&this.canMerge(e,i,s)){s.outerContextDepth=Math.max(s.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(s.isPrecedenceFilterSuppressed=!0);let o=hbe.PredictionContext.join(s.context,e.context,t);return this.updatePropertiesForMergedConfig(e),s.context===o?!1:(s.context=o,!0)}for(let o=0;o<this.unmerged.length;o++){let a=this.unmerged[o];if(this.canMerge(e,i,a)){a.outerContextDepth=Math.max(a.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(a.isPrecedenceFilterSuppressed=!0);let l=hbe.PredictionContext.join(a.context,e.context,t);return this.updatePropertiesForMergedConfig(e),a.context===l?!1:(a.context=l,r&&(this.mergedConfigs.put(i,a),this.unmerged.splice(o,1)),!0)}}return this.configs.push(e),r?this.mergedConfigs.put(i,e):this.unmerged.push(e),this.updatePropertiesForAddedConfig(e),!0}updatePropertiesForMergedConfig(e){this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,hq(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(e){this.configs.length===1?this._uniqueAlt=e.alt:this._uniqueAlt!==e.alt&&(this._uniqueAlt=dq.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!Mst.SemanticContext.NONE.equals(e.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,hq(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(e,t,r){return e.state.stateNumber!==r.state.stateNumber||t.alt!==r.alt?!1:e.semanticContext.equals(r.semanticContext)}getKey(e){return{state:e.state.stateNumber,alt:e.alt}}containsAll(e){for(let t of e)if(!(t instanceof dbe.ATNConfig)||!this.contains(t))return!1;return!0}addAll(e,t){this.ensureWritable();let r=!1;for(let i of e)this.add(i,t)&&(r=!0);return r}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=dq.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(e){return this===e?!0:e instanceof bd?this.outermostConfigSet===e.outermostConfigSet&&Pst.equals(this._conflictInfo,e._conflictInfo)&&fbe.ArrayEqualityComparator.INSTANCE.equals(this.configs,e.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let e=1;return e=5*e^(this.outermostConfigSet?1:0),e=5*e^fbe.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=e),e}toString(e){e==null&&(e=!1);let t="",r=this.configs.slice(0);r.sort((i,s)=>i.alt!==s.alt?i.alt-s.alt:i.state.stateNumber!==s.state.stateNumber?i.state.stateNumber-s.state.stateNumber:i.semanticContext.toString().localeCompare(s.semanticContext.toString())),t+="[";for(let i=0;i<r.length;i++)i>0&&(t+=", "),t+=r[i].toString(void 0,!0,e);return t+="]",this._hasSemanticContext&&(t+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==dq.ATN.INVALID_ALT_NUMBER&&(t+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(t+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(t+="*")),this._dipsIntoOuterContext&&(t+=",dipsIntoOuterContext"),t.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(e){this.ensureWritable(),this._hasSemanticContext=e}get conflictInfo(){return this._conflictInfo}set conflictInfo(e){this.ensureWritable(),this._conflictInfo=e}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(e){return this.configs[e]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};Y2([K2.NotNull],bd.prototype,"getRepresentedAlternatives",null);Y2([K2.Override],bd.prototype,"size",null);Y2([K2.Override],bd.prototype,"isEmpty",null);Y2([K2.Override],bd.prototype,"contains",null);Y2([K2.Override],bd.prototype,Symbol.iterator,null);Y2([K2.Override],bd.prototype,"toArray",null);Y2([K2.Override],bd.prototype,"containsAll",null);Y2([K2.Override],bd.prototype,"clear",null);Y2([K2.Override],bd.prototype,"equals",null);Y2([K2.Override],bd.prototype,"hashCode",null);iS.ATNConfigSet=bd});var OD=Ae(J2=>{"use strict";m();var Gg=J2&&J2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Bst=J2&&J2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(J2,"__esModule",{value:!0});J2.DFAState=void 0;var jst=wm(),qst=Qg(),Tne=Il(),Yg=wr(),mq=o1(),pbe=L0(),Cm=class{constructor(e){this.stateNumber=-1,this.configs=e,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(e){return this.isContextSensitive?this.contextSymbols.get(e):!1}setContextSymbol(e){pbe(this.isContextSensitive),this.contextSymbols.set(e)}setContextSensitive(e){pbe(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new qst.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(e){this._acceptStateInfo=e}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:jst.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(!!this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(e){return this.edges.get(e)}setTarget(e,t){this.edges.set(e,t)}getEdgeMap(){return this.edges}getContextTarget(e){return e===mq.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.get(e)}setContextTarget(e,t){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");e===mq.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.set(e,t)}getContextEdgeMap(){let e=new Map(this.contextEdges),t=e.get(-1);if(t!==void 0)if(e.size===1){let r=new Map;return r.set(mq.PredictionContext.EMPTY_FULL_STATE_KEY,t),r}else e.delete(-1),e.set(mq.PredictionContext.EMPTY_FULL_STATE_KEY,t);return e}hashCode(){let e=Tne.MurmurHash.initialize(7);return e=Tne.MurmurHash.update(e,this.configs.hashCode()),e=Tne.MurmurHash.finish(e,1),e}equals(e){if(this===e)return!0;if(!(e instanceof Cm))return!1;let t=e;return this.configs.equals(t.configs)}toString(){let e="";return e+=this.stateNumber+":"+this.configs,this.isAcceptState&&(e+="=>",this.predicates?e+=this.predicates:e+=this.prediction),e.toString()}};Gg([Yg.NotNull],Cm.prototype,"configs",void 0);Gg([Yg.NotNull],Cm.prototype,"edges",void 0);Gg([Yg.NotNull],Cm.prototype,"contextEdges",void 0);Gg([Yg.Override],Cm.prototype,"hashCode",null);Gg([Yg.Override],Cm.prototype,"equals",null);Gg([Yg.Override],Cm.prototype,"toString",null);J2.DFAState=Cm;(function(n){let e=class{constructor(r,i){this.alt=i,this.pred=r}toString(){return"("+this.pred+", "+this.alt+")"}};Gg([Yg.NotNull],e.prototype,"pred",void 0),Gg([Yg.Override],e.prototype,"toString",null),e=Gg([Bst(0,Yg.NotNull)],e),n.PredPrediction=e})(Cm=J2.DFAState||(J2.DFAState={}))});var ND=Ae(Am=>{"use strict";m();var Fne=Am&&Am.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ust=Am&&Am.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Am,"__esModule",{value:!0});Am.ATNSimulator=void 0;var $st=sS(),zst=OD(),Dne=wr(),Hst=o1(),_6=class RD{constructor(e){this.atn=e}static get ERROR(){return RD._ERROR||(RD._ERROR=new zst.DFAState(new $st.ATNConfigSet),RD._ERROR.stateNumber=Hst.PredictionContext.EMPTY_FULL_STATE_KEY),RD._ERROR}clearDFA(){this.atn.clearDFA()}};Fne([Dne.NotNull],_6.prototype,"atn",void 0);Fne([Dne.NotNull],_6,"ERROR",null);_6=Fne([Ust(0,Dne.NotNull)],_6);Am.ATNSimulator=_6;(function(n){let e="$",t="$lf$",r="$nolf$"})(_6=Am.ATNSimulator||(Am.ATNSimulator={}));Am.ATNSimulator=_6});var One=Ae(gq=>{"use strict";m();Object.defineProperty(gq,"__esModule",{value:!0});gq.ConsoleErrorListener=void 0;var xq=class{syntaxError(e,t,r,i,s,o){console.error(`line ${r}:${i} ${s}`)}};gq.ConsoleErrorListener=xq;xq.INSTANCE=new xq});var yq=Ae(ev=>{"use strict";m();var Vst=ev&&ev.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},mbe=ev&&ev.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ev,"__esModule",{value:!0});ev.ProxyErrorListener=void 0;var Rne=wr(),Nne=class{constructor(e){if(this.delegates=e,!e)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(e,t,r,i,s,o){this.delegates.forEach(a=>{a.syntaxError&&a.syntaxError(e,t,r,i,s,o)})}};Vst([Rne.Override,mbe(0,Rne.NotNull),mbe(4,Rne.NotNull)],Nne.prototype,"syntaxError",null);ev.ProxyErrorListener=Nne});var oS=Ae(tv=>{"use strict";m();var X2=tv&&tv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vq=tv&&tv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(tv,"__esModule",{value:!0});tv.Recognizer=void 0;var Wst=One(),Qst=yq(),Jh=wr(),xbe=ou(),Gst=Sm(),Ec=class{constructor(){this._listeners=[Wst.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let e=this.vocabulary,t=Ec.tokenTypeMapCache.get(e);if(t==null){let r=new Map;for(let i=0;i<=this.atn.maxTokenType;i++){let s=e.getLiteralName(i);s!=null&&r.set(s,i);let o=e.getSymbolicName(i);o!=null&&r.set(o,i)}r.set("EOF",xbe.Token.EOF),t=r,Ec.tokenTypeMapCache.set(e,t)}return t}getRuleIndexMap(){let e=this.ruleNames;if(e==null)throw new Error("The current recognizer does not provide a list of rule names.");let t=Ec.ruleIndexMapCache.get(e);return t==null&&(t=Gst.toMap(e),Ec.ruleIndexMapCache.set(e,t)),t}getTokenType(e){let t=this.getTokenTypeMap().get(e);return t??xbe.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(e){this._interp=e}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(e){let t=e.getOffendingToken();if(!t)return"";let r=t.line,i=t.charPositionInLine;return"line "+r+":"+i}addErrorListener(e){if(!e)throw new TypeError("listener must not be null");this._listeners.push(e)}removeErrorListener(e){let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new Qst.ProxyErrorListener(this.getErrorListeners())}sempred(e,t,r){return!0}precpred(e,t){return!0}action(e,t,r){}get state(){return this._stateNumber}set state(e){this._stateNumber=e}};Ec.EOF=-1;Ec.tokenTypeMapCache=new WeakMap;Ec.ruleIndexMapCache=new WeakMap;X2([Jh.SuppressWarnings("serial"),Jh.NotNull],Ec.prototype,"_listeners",void 0);X2([Jh.NotNull],Ec.prototype,"getTokenTypeMap",null);X2([Jh.NotNull],Ec.prototype,"getRuleIndexMap",null);X2([Jh.NotNull],Ec.prototype,"serializedATN",null);X2([Jh.NotNull],Ec.prototype,"atn",null);X2([Jh.NotNull,vq(0,Jh.NotNull)],Ec.prototype,"interpreter",null);X2([Jh.NotNull,vq(0,Jh.NotNull)],Ec.prototype,"getErrorHeader",null);X2([vq(0,Jh.NotNull)],Ec.prototype,"addErrorListener",null);X2([vq(0,Jh.NotNull)],Ec.prototype,"removeErrorListener",null);X2([Jh.NotNull],Ec.prototype,"getErrorListeners",null);tv.Recognizer=Ec});var Jg=Ae(aS=>{"use strict";m();var nv=aS&&aS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(aS,"__esModule",{value:!0});aS.VocabularyImpl=void 0;var Kg=wr(),Yst=ou(),l1=class{constructor(e,t,r){this.literalNames=e,this.symbolicNames=t,this.displayNames=r,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(e){if(e>=0&&e<this.literalNames.length)return this.literalNames[e]}getSymbolicName(e){if(e>=0&&e<this.symbolicNames.length)return this.symbolicNames[e];if(e===Yst.Token.EOF)return"EOF"}getDisplayName(e){if(e>=0&&e<this.displayNames.length){let i=this.displayNames[e];if(i)return i}let t=this.getLiteralName(e);if(t)return t;let r=this.getSymbolicName(e);return r||String(e)}};l1.EMPTY_VOCABULARY=new l1([],[],[]);nv([Kg.NotNull],l1.prototype,"literalNames",void 0);nv([Kg.NotNull],l1.prototype,"symbolicNames",void 0);nv([Kg.NotNull],l1.prototype,"displayNames",void 0);nv([Kg.Override],l1.prototype,"maxTokenType",null);nv([Kg.Override],l1.prototype,"getLiteralName",null);nv([Kg.Override],l1.prototype,"getSymbolicName",null);nv([Kg.Override,Kg.NotNull],l1.prototype,"getDisplayName",null);nv([Kg.NotNull],l1,"EMPTY_VOCABULARY",void 0);aS.VocabularyImpl=l1});var Mne=Ae(uS=>{"use strict";m();var Lne=uS&&uS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(uS,"__esModule",{value:!0});uS.DFASerializer=void 0;var kne=ND(),Ine=wr(),gbe=o1(),Kst=oS(),Jst=Jg(),LD=class{constructor(e,t,r,i){t instanceof Kst.Recognizer?(r=t.ruleNames,i=t.atn,t=t.vocabulary):t||(t=Jst.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=e,this.vocabulary=t,this.ruleNames=r,this.atn=i}toString(){if(!this.dfa.s0)return"";let e="";if(this.dfa.states){let r=new Array(...this.dfa.states.toArray());r.sort((i,s)=>i.stateNumber-s.stateNumber);for(let i of r){let s=i.getEdgeMap(),o=[...s.keys()].sort((f,p)=>f-p),a=i.getContextEdgeMap(),l=[...a.keys()].sort((f,p)=>f-p);for(let f of o){let p=s.get(f);if((p==null||p===kne.ATNSimulator.ERROR)&&!i.isContextSymbol(f))continue;let _=!1;e+=this.getStateString(i)+"-"+this.getEdgeLabel(f)+"->",i.isContextSymbol(f)&&(e+="!",_=!0);let E=p;E&&E.stateNumber!==kne.ATNSimulator.ERROR.stateNumber?e+=this.getStateString(E)+`
`:_&&(e+=`ctx
`)}if(i.isContextSensitive)for(let f of l)e+=this.getStateString(i)+"-"+this.getContextLabel(f)+"->"+this.getStateString(a.get(f))+`
`}}let t=e;return t.length===0?"":t}getContextLabel(e){if(e===gbe.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(e===gbe.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&e>0&&e<=this.atn.states.length){let r=this.atn.states[e].ruleIndex;if(this.ruleNames&&r>=0&&r<this.ruleNames.length)return"ctx:"+String(e)+"("+this.ruleNames[r]+")"}return"ctx:"+String(e)}getEdgeLabel(e){return this.vocabulary.getDisplayName(e)}getStateString(e){if(e===kne.ATNSimulator.ERROR)return"ERROR";let t=e.stateNumber,r="s"+t;if(e.isAcceptState&&(e.predicates?r=":s"+t+"=>"+e.predicates:r=":s"+t+"=>"+e.prediction),e.isContextSensitive){r+="*";for(let i of e.configs)if(i.reachesIntoOuterContext){r+="*";break}}return r}};Lne([Ine.NotNull],LD.prototype,"dfa",void 0);Lne([Ine.NotNull],LD.prototype,"vocabulary",void 0);Lne([Ine.Override],LD.prototype,"toString",null);uS.DFASerializer=LD});var vbe=Ae(rv=>{"use strict";m();var ybe=rv&&rv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Xst=rv&&rv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(rv,"__esModule",{value:!0});rv.LexerDFASerializer=void 0;var Zst=Mne(),Pne=wr(),eot=Jg(),_q=class extends Zst.DFASerializer{constructor(e){super(e,eot.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(e){return"'"+String.fromCodePoint(e)+"'"}};ybe([Pne.Override,Pne.NotNull],_q.prototype,"getEdgeLabel",null);_q=ybe([Xst(0,Pne.NotNull)],_q);rv.LexerDFASerializer=_q});var bq=Ae(lS=>{"use strict";m();var tot=lS&&lS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(lS,"__esModule",{value:!0});lS.StarLoopEntryState=void 0;var not=yf(),rot=Qg(),iot=Y5(),sot=wr(),Bne=class extends iot.DecisionState{constructor(){super(...arguments);this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new rot.BitSet}get stateType(){return not.ATNStateType.STAR_LOOP_ENTRY}};tot([sot.Override],Bne.prototype,"stateType",null);lS.StarLoopEntryState=Bne});var jne=Ae(iv=>{"use strict";m();var Eq=iv&&iv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},oot=iv&&iv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(iv,"__esModule",{value:!0});iv.DFA=void 0;var aot=Vg(),_be=sS(),bbe=Mne(),Ebe=OD(),uot=vbe(),Sq=wr(),lot=Em(),cot=bq(),fot=Jg(),cS=class{constructor(e,t=0){if(this.states=new aot.Array2DHashSet(lot.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!e.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=e,this.atn=e.atn,this.decision=t;let r=!1;e instanceof cot.StarLoopEntryState&&e.precedenceRuleDecision&&(r=!0,this.s0=new Ebe.DFAState(new _be.ATNConfigSet),this.s0full=new Ebe.DFAState(new _be.ATNConfigSet)),this.precedenceDfa=r}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(e,t){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return t?this.s0full.getTarget(e):this.s0.getTarget(e)}setPrecedenceStartState(e,t,r){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");e<0||(t?this.s0full.setTarget(e,r):this.s0.setTarget(e,r))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(e){return e.stateNumber=this.nextStateNumber++,this.states.getOrAdd(e)}toString(e,t){if(e||(e=fot.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let r;return t?r=new bbe.DFASerializer(this,e,t,this.atnStartState.atn):r=new bbe.DFASerializer(this,e),r.toString()}toLexerString(){return this.s0?new uot.LexerDFASerializer(this).toString():""}};Eq([Sq.NotNull],cS.prototype,"states",void 0);Eq([Sq.NotNull],cS.prototype,"atnStartState",void 0);Eq([Sq.NotNull],cS.prototype,"atn",void 0);cS=Eq([oot(0,Sq.NotNull)],cS);iv.DFA=cS});var Une=Ae(fS=>{"use strict";m();var dot=fS&&fS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(fS,"__esModule",{value:!0});fS.BasicState=void 0;var hot=V2(),pot=yf(),mot=wr(),qne=class extends hot.ATNState{get stateType(){return pot.ATNStateType.BASIC}};dot([mot.Override],qne.prototype,"stateType",null);fS.BasicState=qne});var zne=Ae(dS=>{"use strict";m();var xot=dS&&dS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(dS,"__esModule",{value:!0});dS.InvalidState=void 0;var got=yf(),yot=Une(),vot=wr(),$ne=class extends yot.BasicState{get stateType(){return got.ATNStateType.INVALID_TYPE}};xot([vot.Override],$ne.prototype,"stateType",null);dS.InvalidState=$ne});var wq=Ae(ov=>{"use strict";m();var hS=ov&&ov.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Sbe=ov&&ov.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ov,"__esModule",{value:!0});ov.SetTransition=void 0;var _ot=av(),Xg=wr(),bot=ou(),Eot=Hg(),sv=class extends Eot.Transition{constructor(e,t){super(e);t==null&&(t=_ot.IntervalSet.of(bot.Token.INVALID_TYPE)),this.set=t}get serializationType(){return 7}get label(){return this.set}matches(e,t,r){return this.set.contains(e)}toString(){return this.set.toString()}};hS([Xg.NotNull],sv.prototype,"set",void 0);hS([Xg.Override],sv.prototype,"serializationType",null);hS([Xg.Override,Xg.NotNull],sv.prototype,"label",null);hS([Xg.Override],sv.prototype,"matches",null);hS([Xg.Override,Xg.NotNull],sv.prototype,"toString",null);sv=hS([Sbe(0,Xg.NotNull),Sbe(1,Xg.Nullable)],sv);ov.SetTransition=sv});var Aq=Ae(uv=>{"use strict";m();var Cq=uv&&uv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},wbe=uv&&uv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(uv,"__esModule",{value:!0});uv.NotSetTransition=void 0;var kD=wr(),Sot=wq(),pS=class extends Sot.SetTransition{constructor(e,t){super(e,t)}get serializationType(){return 8}matches(e,t,r){return e>=t&&e<=r&&!super.matches(e,t,r)}toString(){return"~"+super.toString()}};Cq([kD.Override],pS.prototype,"serializationType",null);Cq([kD.Override],pS.prototype,"matches",null);Cq([kD.Override],pS.prototype,"toString",null);pS=Cq([wbe(0,kD.NotNull),wbe(1,kD.Nullable)],pS);uv.NotSetTransition=pS});var xS=Ae(mS=>{"use strict";m();var Cbe=mS&&mS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(mS,"__esModule",{value:!0});mS.RuleStopState=void 0;var wot=V2(),Cot=yf(),Abe=wr(),Tq=class extends wot.ATNState{get nonStopStateNumber(){return-1}get stateType(){return Cot.ATNStateType.RULE_STOP}};Cbe([Abe.Override],Tq.prototype,"nonStopStateNumber",null);Cbe([Abe.Override],Tq.prototype,"stateType",null);mS.RuleStopState=Tq});var Fq=Ae(lv=>{"use strict";m();var ID=lv&&lv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Tbe=lv&&lv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(lv,"__esModule",{value:!0});lv.RuleTransition=void 0;var gS=wr(),Aot=Hg(),b6=class extends Aot.Transition{constructor(e,t,r,i){super(e);this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=t,this.precedence=r,this.followState=i}get serializationType(){return 3}get isEpsilon(){return!0}matches(e,t,r){return!1}};ID([gS.NotNull],b6.prototype,"followState",void 0);ID([gS.Override],b6.prototype,"serializationType",null);ID([gS.Override],b6.prototype,"isEpsilon",null);ID([gS.Override],b6.prototype,"matches",null);b6=ID([Tbe(0,gS.NotNull),Tbe(3,gS.NotNull)],b6);lv.RuleTransition=b6});var Hne=Ae(cv=>{"use strict";m();var Dq=cv&&cv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Tot=cv&&cv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(cv,"__esModule",{value:!0});cv.WildcardTransition=void 0;var MD=wr(),Fot=Hg(),yS=class extends Fot.Transition{constructor(e){super(e)}get serializationType(){return 9}matches(e,t,r){return e>=t&&e<=r}toString(){return"."}};Dq([MD.Override],yS.prototype,"serializationType",null);Dq([MD.Override],yS.prototype,"matches",null);Dq([MD.Override,MD.NotNull],yS.prototype,"toString",null);yS=Dq([Tot(0,MD.NotNull)],yS);cv.WildcardTransition=yS});var Obe=Ae(dv=>{"use strict";m();var Oq=dv&&dv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},fv=dv&&dv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(dv,"__esModule",{value:!0});dv.LL1Analyzer=void 0;var Dot=Wj(),Fbe=Vg(),Oot=FD(),Dbe=Qg(),Rq=av(),Z2=wr(),Rot=Aq(),Not=Em(),Nq=o1(),Lot=xS(),kot=Fq(),vS=ou(),Iot=Hne(),E6=class Vne{constructor(e){this.atn=e}getDecisionLookahead(e){if(e==null)return;let t=new Array(e.numberOfTransitions);for(let r=0;r<e.numberOfTransitions;r++){let i=new Rq.IntervalSet;t[r]=i;let s=new Fbe.Array2DHashSet(Not.ObjectEqualityComparator.INSTANCE),o=!1;this._LOOK(e.transition(r).target,void 0,Nq.PredictionContext.EMPTY_LOCAL,i,s,new Dbe.BitSet,o,!1),(i.size===0||i.contains(Vne.HIT_PRED))&&(i=void 0,t[r]=i)}return t}LOOK(e,t,r){if(r===void 0){if(e.atn==null)throw new Error("Illegal state");r=e.atn.ruleToStopState[e.ruleIndex]}else r===null&&(r=void 0);let i=new Rq.IntervalSet,s=!0,o=!0;return this._LOOK(e,r,t,i,new Fbe.Array2DHashSet,new Dbe.BitSet,s,o),i}_LOOK(e,t,r,i,s,o,a,l){let f=Oot.ATNConfig.create(e,0,r);if(!s.add(f))return;if(e===t){if(Nq.PredictionContext.isEmptyLocal(r)){i.add(vS.Token.EPSILON);return}else if(r.isEmpty){l&&i.add(vS.Token.EOF);return}}if(e instanceof Lot.RuleStopState){if(r.isEmpty&&!Nq.PredictionContext.isEmptyLocal(r)){l&&i.add(vS.Token.EOF);return}let _=o.get(e.ruleIndex);try{o.clear(e.ruleIndex);for(let E=0;E<r.size;E++){if(r.getReturnState(E)===Nq.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let O=this.atn.states[r.getReturnState(E)];this._LOOK(O,t,r.getParent(E),i,s,o,a,l)}}finally{_&&o.set(e.ruleIndex)}}let p=e.numberOfTransitions;for(let _=0;_<p;_++){let E=e.transition(_);if(E instanceof kot.RuleTransition){if(o.get(E.ruleIndex))continue;let O=r.getChild(E.followState.stateNumber);try{o.set(E.ruleIndex),this._LOOK(E.target,t,O,i,s,o,a,l)}finally{o.clear(E.ruleIndex)}}else if(E instanceof Dot.AbstractPredicateTransition)a?this._LOOK(E.target,t,r,i,s,o,a,l):i.add(Vne.HIT_PRED);else if(E.isEpsilon)this._LOOK(E.target,t,r,i,s,o,a,l);else if(E instanceof Iot.WildcardTransition)i.addAll(Rq.IntervalSet.of(vS.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let O=E.label;O!=null&&(E instanceof Rot.NotSetTransition&&(O=O.complement(Rq.IntervalSet.of(vS.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),i.addAll(O))}}}};E6.HIT_PRED=vS.Token.INVALID_TYPE;Oq([Z2.NotNull],E6.prototype,"atn",void 0);Oq([Z2.NotNull,fv(0,Z2.NotNull),fv(1,Z2.NotNull)],E6.prototype,"LOOK",null);Oq([fv(0,Z2.NotNull),fv(2,Z2.NotNull),fv(3,Z2.NotNull),fv(4,Z2.NotNull),fv(5,Z2.NotNull)],E6.prototype,"_LOOK",null);E6=Oq([fv(0,Z2.NotNull)],E6);dv.LL1Analyzer=E6});var wm=Ae(Tm=>{"use strict";m();var c1=Tm&&Tm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},PD=Tm&&Tm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Tm,"__esModule",{value:!0});Tm.ATN=void 0;var Mot=m6(),Lq=jne(),Pot=av(),Bot=zne(),jot=Obe(),Xh=wr(),qot=Em(),Wne=o1(),_S=ou(),Uot=L0(),P0=class{constructor(e,t){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new Mot.Array2DHashMap(qot.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=e,this.maxTokenType=t}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let e=0;e<this.decisionToDFA.length;e++)this.decisionToDFA[e]=new Lq.DFA(this.decisionToState[e],e);this.modeToDFA=new Array(this.modeToStartState.length);for(let e=0;e<this.modeToDFA.length;e++)this.modeToDFA[e]=new Lq.DFA(this.modeToStartState[e]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(e){return Wne.PredictionContext.getCachedContext(e,this.contextCache,new Wne.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return Uot(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(e,t){return t?new jot.LL1Analyzer(this).LOOK(e,t):(e.nextTokenWithinRule||(e.nextTokenWithinRule=this.nextTokens(e,Wne.PredictionContext.EMPTY_LOCAL),e.nextTokenWithinRule.setReadonly(!0)),e.nextTokenWithinRule)}addState(e){e.atn=this,e.stateNumber=this.states.length,this.states.push(e)}removeState(e){let t=new Bot.InvalidState;t.atn=this,t.stateNumber=e.stateNumber,this.states[e.stateNumber]=t}defineMode(e,t){this.modeNameToStartState.set(e,t),this.modeToStartState.push(t),this.modeToDFA.push(new Lq.DFA(t)),this.defineDecisionState(t)}defineDecisionState(e){return this.decisionToState.push(e),e.decision=this.decisionToState.length-1,this.decisionToDFA.push(new Lq.DFA(e,e.decision)),e.decision}getDecisionState(e){if(this.decisionToState.length>0)return this.decisionToState[e]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(e,t){if(e<0||e>=this.states.length)throw new RangeError("Invalid state number.");let r=t,i=this.states[e],s=this.nextTokens(i);if(!s.contains(_S.Token.EPSILON))return s;let o=new Pot.IntervalSet;for(o.addAll(s),o.remove(_S.Token.EPSILON);r!=null&&r.invokingState>=0&&s.contains(_S.Token.EPSILON);){let l=this.states[r.invokingState].transition(0);s=this.nextTokens(l.followState),o.addAll(s),o.remove(_S.Token.EPSILON),r=r._parent}return s.contains(_S.Token.EPSILON)&&o.add(_S.Token.EOF),o}};c1([Xh.NotNull],P0.prototype,"states",void 0);c1([Xh.NotNull],P0.prototype,"decisionToState",void 0);c1([Xh.NotNull],P0.prototype,"modeNameToStartState",void 0);c1([Xh.NotNull],P0.prototype,"modeToStartState",void 0);c1([Xh.NotNull],P0.prototype,"decisionToDFA",void 0);c1([Xh.NotNull],P0.prototype,"modeToDFA",void 0);c1([Xh.NotNull],P0.prototype,"nextTokens",null);c1([PD(0,Xh.NotNull)],P0.prototype,"removeState",null);c1([PD(0,Xh.NotNull),PD(1,Xh.NotNull)],P0.prototype,"defineMode",null);c1([PD(0,Xh.NotNull)],P0.prototype,"defineDecisionState",null);c1([Xh.NotNull],P0.prototype,"getExpectedTokens",null);P0=c1([PD(0,Xh.NotNull)],P0);Tm.ATN=P0;(function(n){n.INVALID_ALT_NUMBER=0})(P0=Tm.ATN||(Tm.ATN={}));Tm.ATN=P0});var Nbe=Ae(hv=>{"use strict";m();var S6=hv&&hv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},$ot=hv&&hv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(hv,"__esModule",{value:!0});hv.LexerIndexedCustomAction=void 0;var kq=Il(),w6=wr(),Zg=class Rbe{constructor(e,t){this._offset=e,this._action=t}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(e){this._action.execute(e)}hashCode(){let e=kq.MurmurHash.initialize();return e=kq.MurmurHash.update(e,this._offset),e=kq.MurmurHash.update(e,this._action),kq.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof Rbe?this._offset===e._offset&&this._action.equals(e._action):!1}};S6([w6.NotNull],Zg.prototype,"action",null);S6([w6.Override],Zg.prototype,"actionType",null);S6([w6.Override],Zg.prototype,"isPositionDependent",null);S6([w6.Override],Zg.prototype,"execute",null);S6([w6.Override],Zg.prototype,"hashCode",null);S6([w6.Override],Zg.prototype,"equals",null);Zg=S6([$ot(1,w6.NotNull)],Zg);hv.LexerIndexedCustomAction=Zg});var Lbe=Ae(mv=>{"use strict";m();var C6=mv&&mv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Qne=mv&&mv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(mv,"__esModule",{value:!0});mv.LexerActionExecutor=void 0;var zot=yD(),Gne=Nbe(),Yne=Il(),pv=wr(),ey=class BD{constructor(e){this._lexerActions=e;let t=Yne.MurmurHash.initialize();for(let r of e)t=Yne.MurmurHash.update(t,r);this.cachedHashCode=Yne.MurmurHash.finish(t,e.length)}static append(e,t){if(!e)return new BD([t]);let r=e._lexerActions.slice(0);return r.push(t),new BD(r)}fixOffsetBeforeMatch(e){let t;for(let r=0;r<this._lexerActions.length;r++)this._lexerActions[r].isPositionDependent&&!(this._lexerActions[r]instanceof Gne.LexerIndexedCustomAction)&&(t||(t=this._lexerActions.slice(0)),t[r]=new Gne.LexerIndexedCustomAction(e,this._lexerActions[r]));return t?new BD(t):this}get lexerActions(){return this._lexerActions}execute(e,t,r){let i=!1,s=t.index;try{for(let o of this._lexerActions){if(o instanceof Gne.LexerIndexedCustomAction){let a=o.offset;t.seek(r+a),o=o.action,i=r+a!==s}else o.isPositionDependent&&(t.seek(s),i=!1);o.execute(e)}}finally{i&&t.seek(s)}}hashCode(){return this.cachedHashCode}equals(e){return e===this?!0:e instanceof BD?this.cachedHashCode===e.cachedHashCode&&zot.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,e._lexerActions):!1}};C6([pv.NotNull],ey.prototype,"_lexerActions",void 0);C6([pv.NotNull],ey.prototype,"lexerActions",null);C6([Qne(0,pv.NotNull)],ey.prototype,"execute",null);C6([pv.Override],ey.prototype,"hashCode",null);C6([pv.Override],ey.prototype,"equals",null);C6([pv.NotNull,Qne(1,pv.NotNull)],ey,"append",null);ey=C6([Qne(0,pv.NotNull)],ey);mv.LexerActionExecutor=ey});var qD=Ae(xv=>{"use strict";m();var Kne=xv&&xv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Hot=xv&&xv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(xv,"__esModule",{value:!0});xv.LexerNoViableAltException=void 0;var Vot=zg(),Jne=wr(),Wot=M0(),Qot=Sm(),jD=class extends Vot.RecognitionException{constructor(e,t,r,i){super(e,t);this._startIndex=r,this._deadEndConfigs=i}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let e="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(e=this.inputStream.getText(Wot.Interval.of(this._startIndex,this._startIndex)),e=Qot.escapeWhitespace(e,!1)),`LexerNoViableAltException('${e}')`}};Kne([Jne.Override],jD.prototype,"inputStream",null);Kne([Jne.Override],jD.prototype,"toString",null);jD=Kne([Hot(1,Jne.NotNull)],jD);xv.LexerNoViableAltException=jD});var kbe=Ae(bS=>{"use strict";m();var Xne=bS&&bS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(bS,"__esModule",{value:!0});bS.OrderedATNConfigSet=void 0;var Got=sS(),Zne=wr(),A6=class extends Got.ATNConfigSet{constructor(e,t){e!=null&&t!=null?super(e,t):super()}clone(e){let t=new A6(this,e);return!e&&this.isReadOnly&&t.addAll(this),t}getKey(e){return{state:0,alt:e.hashCode()}}canMerge(e,t,r){return e.equals(r)}};Xne([Zne.Override],A6.prototype,"clone",null);Xne([Zne.Override],A6.prototype,"getKey",null);Xne([Zne.Override],A6.prototype,"canMerge",null);bS.OrderedATNConfigSet=A6});var $D=Ae(Fm=>{"use strict";m();var Yl=Fm&&Fm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Oa=Fm&&Fm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Fm,"__esModule",{value:!0});Fm.LexerATNSimulator=void 0;var Yot=vne(),Kot=wm(),Jot=FD(),Xot=sS(),Iq=ND(),Ibe=OD(),Zot=M0(),UD=Ug(),ES=ty(),eat=Lbe(),tat=qD(),Bo=wr(),Mbe=kbe(),ere=o1(),Pbe=xS(),nat=ou(),Bbe=L0(),Eu=class Zh extends Iq.ATNSimulator{constructor(e,t){super(e);this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=ES.Lexer.DEFAULT_MODE,this.prevAccept=new Zh.SimState,this.recog=t}copyState(e){this._charPositionInLine=e.charPositionInLine,this._line=e._line,this.mode=e.mode,this.startIndex=e.startIndex}match(e,t){this.mode=t;let r=e.mark();try{this.startIndex=e.index,this.prevAccept.reset();let i=this.atn.modeToDFA[t].s0;return i==null?this.matchATN(e):this.execATN(e,i)}finally{e.release(r)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=ES.Lexer.DEFAULT_MODE}matchATN(e){let t=this.atn.modeToStartState[this.mode];Zh.debug&&console.log(`matchATN mode ${this.mode} start: ${t}`);let r=this.mode,i=this.computeStartState(e,t),s=i.hasSemanticContext;s&&(i.hasSemanticContext=!1);let o=this.addDFAState(i);if(!s){let l=this.atn.modeToDFA[this.mode];l.s0?o=l.s0:l.s0=o}let a=this.execATN(e,o);return Zh.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[r].toLexerString()}`),a}execATN(e,t){Zh.debug&&console.log(`start state closure=${t.configs}`),t.isAcceptState&&this.captureSimState(this.prevAccept,e,t);let r=e.LA(1),i=t;for(;;){Zh.debug&&console.log(`execATN loop starting closure: ${i.configs}`);let s=this.getExistingTargetState(i,r);if(s==null&&(s=this.computeTargetState(e,i,r)),s===Iq.ATNSimulator.ERROR||(r!==UD.IntStream.EOF&&this.consume(e),s.isAcceptState&&(this.captureSimState(this.prevAccept,e,s),r===UD.IntStream.EOF)))break;r=e.LA(1),i=s}return this.failOrAccept(this.prevAccept,e,i.configs,r)}getExistingTargetState(e,t){let r=e.getTarget(t);return Zh.debug&&r!=null&&console.log("reuse state "+e.stateNumber+" edge to "+r.stateNumber),r}computeTargetState(e,t,r){let i=new Mbe.OrderedATNConfigSet;return this.getReachableConfigSet(e,t.configs,i,r),i.isEmpty?(i.hasSemanticContext||this.addDFAEdge(t,r,Iq.ATNSimulator.ERROR),Iq.ATNSimulator.ERROR):this.addDFAEdge(t,r,i)}failOrAccept(e,t,r,i){if(e.dfaState!=null){let s=e.dfaState.lexerActionExecutor;return this.accept(t,s,this.startIndex,e.index,e.line,e.charPos),e.dfaState.prediction}else{if(i===UD.IntStream.EOF&&t.index===this.startIndex)return nat.Token.EOF;throw new tat.LexerNoViableAltException(this.recog,t,this.startIndex,r)}}getReachableConfigSet(e,t,r,i){let s=Kot.ATN.INVALID_ALT_NUMBER;for(let o of t){let a=o.alt===s;if(a&&o.hasPassedThroughNonGreedyDecision)continue;Zh.debug&&console.log(`testing ${this.getTokenName(i)} at ${o.toString(this.recog,!0)}`);let l=o.state.numberOfOptimizedTransitions;for(let f=0;f<l;f++){let p=o.state.getOptimizedTransition(f),_=this.getReachableTarget(p,i);if(_!=null){let E=o.lexerActionExecutor,O;E!=null?(E=E.fixOffsetBeforeMatch(e.index-this.startIndex),O=o.transform(_,!0,E)):(Bbe(o.lexerActionExecutor==null),O=o.transform(_,!0));let R=i===UD.IntStream.EOF;if(this.closure(e,O,r,a,!0,R)){s=o.alt;break}}}}}accept(e,t,r,i,s,o){Zh.debug&&console.log(`ACTION ${t}`),e.seek(i),this._line=s,this._charPositionInLine=o,t!=null&&this.recog!=null&&t.execute(this.recog,e,r)}getReachableTarget(e,t){if(e.matches(t,ES.Lexer.MIN_CHAR_VALUE,ES.Lexer.MAX_CHAR_VALUE))return e.target}computeStartState(e,t){let r=ere.PredictionContext.EMPTY_FULL,i=new Mbe.OrderedATNConfigSet;for(let s=0;s<t.numberOfTransitions;s++){let o=t.transition(s).target,a=Jot.ATNConfig.create(o,s+1,r);this.closure(e,a,i,!1,!1,!1)}return i}closure(e,t,r,i,s,o){if(Zh.debug&&console.log("closure("+t.toString(this.recog,!0)+")"),t.state instanceof Pbe.RuleStopState){Zh.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[t.state.ruleIndex]} rule stop ${t}`):console.log(`closure at rule stop ${t}`));let l=t.context;if(l.isEmpty)return r.add(t),!0;l.hasEmpty&&(r.add(t.transform(t.state,!0,ere.PredictionContext.EMPTY_FULL)),i=!0);for(let f=0;f<l.size;f++){let p=l.getReturnState(f);if(p===ere.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let _=l.getParent(f),E=this.atn.states[p],O=t.transform(E,!1,_);i=this.closure(e,O,r,i,s,o)}return i}t.state.onlyHasEpsilonTransitions||(!i||!t.hasPassedThroughNonGreedyDecision)&&r.add(t);let a=t.state;for(let l=0;l<a.numberOfOptimizedTransitions;l++){let f=a.getOptimizedTransition(l),p=this.getEpsilonTarget(e,t,f,r,s,o);p!=null&&(i=this.closure(e,p,r,i,s,o))}return i}getEpsilonTarget(e,t,r,i,s,o){let a;switch(r.serializationType){case 3:let l=r;if(this.optimize_tail_calls&&l.optimizedTailCall&&!t.context.hasEmpty)a=t.transform(r.target,!0);else{let p=t.context.getChild(l.followState.stateNumber);a=t.transform(r.target,!0,p)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let f=r;Zh.debug&&console.log("EVAL rule "+f.ruleIndex+":"+f.predIndex),i.hasSemanticContext=!0,this.evaluatePredicate(e,f.ruleIndex,f.predIndex,s)?a=t.transform(r.target,!0):a=void 0;break;case 6:if(t.context.hasEmpty){let p=eat.LexerActionExecutor.append(t.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);a=t.transform(r.target,!0,p);break}else{a=t.transform(r.target,!0);break}case 1:a=t.transform(r.target,!0);break;case 5:case 2:case 7:if(o&&r.matches(UD.IntStream.EOF,ES.Lexer.MIN_CHAR_VALUE,ES.Lexer.MAX_CHAR_VALUE)){a=t.transform(r.target,!1);break}a=void 0;break;default:a=void 0;break}return a}evaluatePredicate(e,t,r,i){if(this.recog==null)return!0;if(!i)return this.recog.sempred(void 0,t,r);let s=this._charPositionInLine,o=this._line,a=e.index,l=e.mark();try{return this.consume(e),this.recog.sempred(void 0,t,r)}finally{this._charPositionInLine=s,this._line=o,e.seek(a),e.release(l)}}captureSimState(e,t,r){e.index=t.index,e.line=this._line,e.charPos=this._charPositionInLine,e.dfaState=r}addDFAEdge(e,t,r){if(r instanceof Xot.ATNConfigSet){let i=r.hasSemanticContext;i&&(r.hasSemanticContext=!1);let s=this.addDFAState(r);return i||this.addDFAEdge(e,t,s),s}else Zh.debug&&console.log("EDGE "+e+" -> "+r+" upon "+String.fromCharCode(t)),e!=null&&e.setTarget(t,r)}addDFAState(e){Bbe(!e.hasSemanticContext);let t=new Ibe.DFAState(e),r=this.atn.modeToDFA[this.mode].states.get(t);if(r!=null)return r;e.optimizeConfigs(this);let i=new Ibe.DFAState(e.clone(!0)),s;for(let o of e)if(o.state instanceof Pbe.RuleStopState){s=o;break}if(s!=null){let o=this.atn.ruleToTokenType[s.state.ruleIndex],a=s.lexerActionExecutor;i.acceptStateInfo=new Yot.AcceptStateInfo(o,a)}return this.atn.modeToDFA[this.mode].addState(i)}getDFA(e){return this.atn.modeToDFA[e]}getText(e){return e.getText(Zot.Interval.of(this.startIndex,e.index-1))}get line(){return this._line}set line(e){this._line=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}consume(e){e.LA(1)===`
`.charCodeAt(0)?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,e.consume()}getTokenName(e){return e===-1?"EOF":"'"+String.fromCharCode(e)+"'"}};Yl([Bo.NotNull],Eu.prototype,"prevAccept",void 0);Yl([Oa(0,Bo.NotNull)],Eu.prototype,"copyState",null);Yl([Oa(0,Bo.NotNull)],Eu.prototype,"match",null);Yl([Bo.Override],Eu.prototype,"reset",null);Yl([Oa(0,Bo.NotNull)],Eu.prototype,"matchATN",null);Yl([Oa(0,Bo.NotNull),Oa(1,Bo.NotNull)],Eu.prototype,"execATN",null);Yl([Oa(0,Bo.NotNull)],Eu.prototype,"getExistingTargetState",null);Yl([Bo.NotNull,Oa(0,Bo.NotNull),Oa(1,Bo.NotNull)],Eu.prototype,"computeTargetState",null);Yl([Oa(0,Bo.NotNull),Oa(1,Bo.NotNull),Oa(2,Bo.NotNull)],Eu.prototype,"getReachableConfigSet",null);Yl([Oa(0,Bo.NotNull)],Eu.prototype,"accept",null);Yl([Bo.NotNull,Oa(0,Bo.NotNull),Oa(1,Bo.NotNull)],Eu.prototype,"computeStartState",null);Yl([Oa(0,Bo.NotNull),Oa(1,Bo.NotNull),Oa(2,Bo.NotNull)],Eu.prototype,"closure",null);Yl([Oa(0,Bo.NotNull),Oa(1,Bo.NotNull),Oa(2,Bo.NotNull),Oa(3,Bo.NotNull)],Eu.prototype,"getEpsilonTarget",null);Yl([Oa(0,Bo.NotNull)],Eu.prototype,"evaluatePredicate",null);Yl([Oa(0,Bo.NotNull),Oa(1,Bo.NotNull),Oa(2,Bo.NotNull)],Eu.prototype,"captureSimState",null);Yl([Bo.NotNull,Oa(0,Bo.NotNull)],Eu.prototype,"addDFAState",null);Yl([Bo.NotNull],Eu.prototype,"getDFA",null);Yl([Bo.NotNull,Oa(0,Bo.NotNull)],Eu.prototype,"getText",null);Yl([Oa(0,Bo.NotNull)],Eu.prototype,"consume",null);Yl([Bo.NotNull],Eu.prototype,"getTokenName",null);Eu=Yl([Oa(0,Bo.NotNull)],Eu);Fm.LexerATNSimulator=Eu;(function(n){n.debug=!1,n.dfa_debug=!1;class e{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}n.SimState=e})(Eu=Fm.LexerATNSimulator||(Fm.LexerATNSimulator={}));Fm.LexerATNSimulator=Eu});var ty=Ae(CS=>{"use strict";m();var SS=CS&&CS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(CS,"__esModule",{value:!0});CS.Lexer=void 0;var rat=nq(),iat=yne(),sat=M0(),jbe=Ug(),qbe=$D(),Ube=qD(),wS=wr(),oat=oS(),Dm=ou(),Kl=class extends oat.Recognizer{constructor(e){super();this._factory=rat.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new iat.IntegerStack,this._mode=Kl.DEFAULT_MODE,this._input=e,this._tokenFactorySourcePair={source:this,stream:e}}static get DEFAULT_TOKEN_CHANNEL(){return Dm.Token.DEFAULT_CHANNEL}static get HIDDEN(){return Dm.Token.HIDDEN_CHANNEL}reset(e){(e===void 0||e)&&this._input.seek(0),this._token=void 0,this._type=Dm.Token.INVALID_TYPE,this._channel=Dm.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Kl.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let e=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=Dm.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=Dm.Token.INVALID_TYPE;let t;try{t=this.interpreter.match(this._input,this._mode)}catch(r){if(r instanceof Ube.LexerNoViableAltException)this.notifyListeners(r),this.recover(r),t=Kl.SKIP;else throw r}if(this._input.LA(1)===jbe.IntStream.EOF&&(this._hitEOF=!0),this._type===Dm.Token.INVALID_TYPE&&(this._type=t),this._type===Kl.SKIP)continue e}while(this._type===Kl.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(e)}}skip(){this._type=Kl.SKIP}more(){this._type=Kl.MORE}mode(e){this._mode=e}pushMode(e){qbe.LexerATNSimulator.debug&&console.log("pushMode "+e),this._modeStack.push(this._mode),this.mode(e)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return qbe.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(e){this._factory=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(e){return e||(e=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=e,e}emitEOF(){let e=this.charPositionInLine,t=this.line,r=this._factory.create(this._tokenFactorySourcePair,Dm.Token.EOF,void 0,Dm.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,t,e);return this.emit(r),r}get line(){return this.interpreter.line}set line(e){this.interpreter.line=e}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(e){this.interpreter.charPositionInLine=e}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(e){this._text=e}get token(){return this._token}set token(e){this._token=e}set type(e){this._type=e}get type(){return this._type}set channel(e){this._channel=e}get channel(){return this._channel}getAllTokens(){let e=[],t=this.nextToken();for(;t.type!==Dm.Token.EOF;)e.push(t),t=this.nextToken();return e}notifyListeners(e){let t=this._input.getText(sat.Interval.of(this._tokenStartCharIndex,this._input.index)),r="token recognition error at: '"+this.getErrorDisplay(t)+"'",i=this.getErrorListenerDispatch();i.syntaxError&&i.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,r,e)}getErrorDisplay(e){if(typeof e=="number"){switch(e){case Dm.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(e)}return e.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(e){let t=this.getErrorDisplay(e);return"'"+t+"'"}recover(e){e instanceof Ube.LexerNoViableAltException?this._input.LA(1)!==jbe.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};Kl.DEFAULT_MODE=0;Kl.MORE=-2;Kl.SKIP=-3;Kl.MIN_CHAR_VALUE=0;Kl.MAX_CHAR_VALUE=1114111;SS([wS.Override],Kl.prototype,"nextToken",null);SS([wS.Override],Kl.prototype,"tokenFactory",null);SS([wS.Override],Kl.prototype,"inputStream",null);SS([wS.Override],Kl.prototype,"sourceName",null);SS([wS.Override],Kl.prototype,"line",null);SS([wS.Override],Kl.prototype,"charPositionInLine",null);CS.Lexer=Kl});var av=Ae(gv=>{"use strict";m();var Ed=gv&&gv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},$be=gv&&gv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(gv,"__esModule",{value:!0});gv.IntervalSet=void 0;var aat=yD(),uat=tq(),AS=M0(),zbe=ty(),Mq=Il(),B0=wr(),tre=ou(),Rs=class{constructor(e){this.readonly=!1,e!=null?this._intervals=e.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return Rs._COMPLETE_CHAR_SET===void 0&&(Rs._COMPLETE_CHAR_SET=Rs.of(zbe.Lexer.MIN_CHAR_VALUE,zbe.Lexer.MAX_CHAR_VALUE),Rs._COMPLETE_CHAR_SET.setReadonly(!0)),Rs._COMPLETE_CHAR_SET}static get EMPTY_SET(){return Rs._EMPTY_SET==null&&(Rs._EMPTY_SET=new Rs,Rs._EMPTY_SET.setReadonly(!0)),Rs._EMPTY_SET}static of(e,t=e){let r=new Rs;return r.add(e,t),r}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(e,t=e){this.addRange(AS.Interval.of(e,t))}addRange(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(e.b<e.a)){for(let t=0;t<this._intervals.length;t++){let r=this._intervals[t];if(e.equals(r))return;if(e.adjacent(r)||!e.disjoint(r)){let i=e.union(r);for(this._intervals[t]=i;t<this._intervals.length-1;){t++;let s=this._intervals[t];if(!i.adjacent(s)&&i.disjoint(s))break;this._intervals.splice(t,1),t--,this._intervals[t]=i.union(s)}return}if(e.startsBeforeDisjoint(r)){this._intervals.splice(t,0,e);return}}this._intervals.push(e)}}static or(e){let t=new Rs;for(let r of e)t.addAll(r);return t}addAll(e){if(e==null)return this;if(e instanceof Rs){let t=e,r=t._intervals.length;for(let i=0;i<r;i++){let s=t._intervals[i];this.add(s.a,s.b)}}else for(let t of e.toArray())this.add(t);return this}complementRange(e,t){return this.complement(Rs.of(e,t))}complement(e){if(e.isNil)return Rs.EMPTY_SET;let t;return e instanceof Rs?t=e:(t=new Rs,t.addAll(e)),t.subtract(this)}subtract(e){if(e==null||e.isNil)return new Rs(this._intervals);if(e instanceof Rs)return Rs.subtract(this,e);let t=new Rs;return t.addAll(e),Rs.subtract(this,t)}static subtract(e,t){if(e.isNil)return new Rs;let r=new Rs(e._intervals);if(t.isNil)return r;let i=0,s=0;for(;i<r._intervals.length&&s<t._intervals.length;){let o=r._intervals[i],a=t._intervals[s];if(a.b<o.a){s++;continue}if(a.a>o.b){i++;continue}let l,f;if(a.a>o.a&&(l=new AS.Interval(o.a,a.a-1)),a.b<o.b&&(f=new AS.Interval(a.b+1,o.b)),l)if(f){r._intervals[i]=l,r._intervals.splice(i+1,0,f),i++,s++;continue}else{r._intervals[i]=l,i++;continue}else if(f){r._intervals[i]=f,s++;continue}else{r._intervals.splice(i,1);continue}}return r}or(e){let t=new Rs;return t.addAll(this),t.addAll(e),t}and(e){if(e.isNil)return new Rs;let t=this._intervals,r=e._intervals,i,s=t.length,o=r.length,a=0,l=0;for(;a<s&&l<o;){let f=t[a],p=r[l];f.startsBeforeDisjoint(p)?a++:p.startsBeforeDisjoint(f)?l++:f.properlyContains(p)?(i||(i=new Rs),i.addRange(f.intersection(p)),l++):p.properlyContains(f)?(i||(i=new Rs),i.addRange(f.intersection(p)),a++):f.disjoint(p)||(i||(i=new Rs),i.addRange(f.intersection(p)),f.startsAfterNonDisjoint(p)?l++:p.startsAfterNonDisjoint(f)&&a++)}return i||new Rs}contains(e){let t=this._intervals.length,r=0,i=t-1;for(;r<=i;){let s=r+i>>1,o=this._intervals[s],a=o.a;if(o.b<e)r=s+1;else if(a>e)i=s-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let e=Mq.MurmurHash.initialize();for(let t of this._intervals)e=Mq.MurmurHash.update(e,t.a),e=Mq.MurmurHash.update(e,t.b);return e=Mq.MurmurHash.finish(e,this._intervals.length*2),e}equals(e){return e==null||!(e instanceof Rs)?!1:aat.ArrayEqualityComparator.INSTANCE.equals(this._intervals,e._intervals)}toString(e=!1){let t="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;s===o?s===tre.Token.EOF?t+="<EOF>":e?t+="'"+String.fromCodePoint(s)+"'":t+=s:e?t+="'"+String.fromCodePoint(s)+"'..'"+String.fromCodePoint(o)+"'":t+=s+".."+o}return this.size>1&&(t+="}"),t}toStringVocabulary(e){if(this._intervals==null||this._intervals.length===0)return"{}";let t="";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;if(s===o)t+=this.elementName(e,s);else for(let a=s;a<=o;a++)a>s&&(t+=", "),t+=this.elementName(e,a)}return this.size>1&&(t+="}"),t}elementName(e,t){return t===tre.Token.EOF?"<EOF>":t===tre.Token.EPSILON?"<EPSILON>":e.getDisplayName(t)}get size(){let e=0,t=this._intervals.length;if(t===1){let r=this._intervals[0];return r.b-r.a+1}for(let r=0;r<t;r++){let i=this._intervals[r];e+=i.b-i.a+1}return e}toIntegerList(){let e=new uat.IntegerList(this.size),t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.add(a)}return e}toSet(){let e=new Set;for(let t of this._intervals){let r=t.a,i=t.b;for(let s=r;s<=i;s++)e.add(s)}return e}toArray(){let e=new Array,t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.push(a)}return e}remove(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;if(e<s)break;if(e===s&&e===o){this._intervals.splice(r,1);break}if(e===s){this._intervals[r]=AS.Interval.of(i.a+1,i.b);break}if(e===o){this._intervals[r]=AS.Interval.of(i.a,i.b-1);break}if(e>s&&e<o){let a=i.b;this._intervals[r]=AS.Interval.of(i.a,e-1),this.add(e+1,a)}}}get isReadonly(){return this.readonly}setReadonly(e){if(this.readonly&&!e)throw new Error("can't alter readonly IntervalSet");this.readonly=e}};Ed([B0.Override],Rs.prototype,"addAll",null);Ed([B0.Override],Rs.prototype,"complement",null);Ed([B0.Override],Rs.prototype,"subtract",null);Ed([B0.Override],Rs.prototype,"or",null);Ed([B0.Override],Rs.prototype,"and",null);Ed([B0.Override],Rs.prototype,"contains",null);Ed([B0.Override],Rs.prototype,"isNil",null);Ed([B0.Override],Rs.prototype,"hashCode",null);Ed([B0.Override],Rs.prototype,"equals",null);Ed([$be(0,B0.NotNull)],Rs.prototype,"toStringVocabulary",null);Ed([B0.NotNull,$be(0,B0.NotNull)],Rs.prototype,"elementName",null);Ed([B0.Override],Rs.prototype,"size",null);Ed([B0.Override],Rs.prototype,"remove",null);Ed([B0.NotNull],Rs,"of",null);Ed([B0.NotNull],Rs,"subtract",null);gv.IntervalSet=Rs});var nre=Ae(TS=>{"use strict";m();var lat=TS&&TS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(TS,"__esModule",{value:!0});TS.ATNDeserializationOptions=void 0;var cat=wr(),ny=class{constructor(e){this.readOnly=!1,e?(this.verifyATN=e.verifyATN,this.generateRuleBypassTransitions=e.generateRuleBypassTransitions,this.optimize=e.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return ny._defaultOptions==null&&(ny._defaultOptions=new ny,ny._defaultOptions.makeReadOnly()),ny._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(e){this.throwIfReadOnly(),this.verifyATN=e}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(e){this.throwIfReadOnly(),this.generateRuleBypassTransitions=e}get isOptimize(){return this.optimize}set isOptimize(e){this.throwIfReadOnly(),this.optimize=e}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};lat([cat.NotNull],ny,"defaultOptions",null);TS.ATNDeserializationOptions=ny});var rre=Ae(yv=>{"use strict";m();var zD=yv&&yv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},fat=yv&&yv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(yv,"__esModule",{value:!0});yv.ActionTransition=void 0;var HD=wr(),dat=Hg(),T6=class extends dat.Transition{constructor(e,t,r=-1,i=!1){super(e);this.ruleIndex=t,this.actionIndex=r,this.isCtxDependent=i}get serializationType(){return 6}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};zD([HD.Override],T6.prototype,"serializationType",null);zD([HD.Override],T6.prototype,"isEpsilon",null);zD([HD.Override],T6.prototype,"matches",null);zD([HD.Override],T6.prototype,"toString",null);T6=zD([fat(0,HD.NotNull)],T6);yv.ActionTransition=T6});var ire=Ae(vv=>{"use strict";m();var VD=vv&&vv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},hat=vv&&vv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(vv,"__esModule",{value:!0});vv.AtomTransition=void 0;var pat=av(),F6=wr(),mat=Hg(),D6=class extends mat.Transition{constructor(e,t){super(e);this._label=t}get serializationType(){return 5}get label(){return pat.IntervalSet.of(this._label)}matches(e,t,r){return this._label===e}toString(){return String(this.label)}};VD([F6.Override],D6.prototype,"serializationType",null);VD([F6.Override,F6.NotNull],D6.prototype,"label",null);VD([F6.Override],D6.prototype,"matches",null);VD([F6.Override,F6.NotNull],D6.prototype,"toString",null);D6=VD([hat(0,F6.NotNull)],D6);vv.AtomTransition=D6});var WD=Ae(Pq=>{"use strict";m();Object.defineProperty(Pq,"__esModule",{value:!0});Pq.BlockStartState=void 0;var xat=Y5(),Hbe=class extends xat.DecisionState{};Pq.BlockStartState=Hbe});var Vbe=Ae(FS=>{"use strict";m();var gat=FS&&FS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(FS,"__esModule",{value:!0});FS.BasicBlockStartState=void 0;var yat=yf(),vat=WD(),_at=wr(),sre=class extends vat.BlockStartState{get stateType(){return yat.ATNStateType.BLOCK_START}};gat([_at.Override],sre.prototype,"stateType",null);FS.BasicBlockStartState=sre});var Wbe=Ae(DS=>{"use strict";m();var bat=DS&&DS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(DS,"__esModule",{value:!0});DS.BlockEndState=void 0;var Eat=V2(),Sat=yf(),wat=wr(),ore=class extends Eat.ATNState{get stateType(){return Sat.ATNStateType.BLOCK_END}};bat([wat.Override],ore.prototype,"stateType",null);DS.BlockEndState=ore});var Qbe=Ae(_v=>{"use strict";m();var QD=_v&&_v.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Cat=_v&&_v.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(_v,"__esModule",{value:!0});_v.EpsilonTransition=void 0;var OS=wr(),Aat=Hg(),O6=class extends Aat.Transition{constructor(e,t=-1){super(e);this._outermostPrecedenceReturn=t}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"epsilon"}};QD([OS.Override],O6.prototype,"serializationType",null);QD([OS.Override],O6.prototype,"isEpsilon",null);QD([OS.Override],O6.prototype,"matches",null);QD([OS.Override,OS.NotNull],O6.prototype,"toString",null);O6=QD([Cat(0,OS.NotNull)],O6);_v.EpsilonTransition=O6});var Gbe=Ae(bv=>{"use strict";m();var RS=bv&&bv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Tat=bv&&bv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(bv,"__esModule",{value:!0});bv.LexerChannelAction=void 0;var Bq=Il(),R6=wr(),ex=class{constructor(e){this._channel=e}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(e){e.channel=this._channel}hashCode(){let e=Bq.MurmurHash.initialize();return e=Bq.MurmurHash.update(e,this.actionType),e=Bq.MurmurHash.update(e,this._channel),Bq.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof ex?this._channel===e._channel:!1}toString(){return`channel(${this._channel})`}};RS([R6.Override],ex.prototype,"actionType",null);RS([R6.Override],ex.prototype,"isPositionDependent",null);RS([R6.Override,Tat(0,R6.NotNull)],ex.prototype,"execute",null);RS([R6.Override],ex.prototype,"hashCode",null);RS([R6.Override],ex.prototype,"equals",null);RS([R6.Override],ex.prototype,"toString",null);bv.LexerChannelAction=ex});var Ybe=Ae(Ev=>{"use strict";m();var GD=Ev&&Ev.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Fat=Ev&&Ev.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Ev,"__esModule",{value:!0});Ev.LexerCustomAction=void 0;var YD=Il(),NS=wr(),ry=class{constructor(e,t){this._ruleIndex=e,this._actionIndex=t}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(e){e.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let e=YD.MurmurHash.initialize();return e=YD.MurmurHash.update(e,this.actionType),e=YD.MurmurHash.update(e,this._ruleIndex),e=YD.MurmurHash.update(e,this._actionIndex),YD.MurmurHash.finish(e,3)}equals(e){return e===this?!0:e instanceof ry?this._ruleIndex===e._ruleIndex&&this._actionIndex===e._actionIndex:!1}};GD([NS.Override],ry.prototype,"actionType",null);GD([NS.Override],ry.prototype,"isPositionDependent",null);GD([NS.Override,Fat(0,NS.NotNull)],ry.prototype,"execute",null);GD([NS.Override],ry.prototype,"hashCode",null);GD([NS.Override],ry.prototype,"equals",null);Ev.LexerCustomAction=ry});var Kbe=Ae(Sv=>{"use strict";m();var LS=Sv&&Sv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Dat=Sv&&Sv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.LexerModeAction=void 0;var jq=Il(),N6=wr(),tx=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(e){e.mode(this._mode)}hashCode(){let e=jq.MurmurHash.initialize();return e=jq.MurmurHash.update(e,this.actionType),e=jq.MurmurHash.update(e,this._mode),jq.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof tx?this._mode===e._mode:!1}toString(){return`mode(${this._mode})`}};LS([N6.Override],tx.prototype,"actionType",null);LS([N6.Override],tx.prototype,"isPositionDependent",null);LS([N6.Override,Dat(0,N6.NotNull)],tx.prototype,"execute",null);LS([N6.Override],tx.prototype,"hashCode",null);LS([N6.Override],tx.prototype,"equals",null);LS([N6.Override],tx.prototype,"toString",null);Sv.LexerModeAction=tx});var Jbe=Ae(nx=>{"use strict";m();var kS=nx&&nx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Oat=nx&&nx.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(nx,"__esModule",{value:!0});nx.LexerMoreAction=void 0;var are=Il(),L6=wr(),iy=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(e){e.more()}hashCode(){let e=are.MurmurHash.initialize();return e=are.MurmurHash.update(e,this.actionType),are.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"more"}};kS([L6.Override],iy.prototype,"actionType",null);kS([L6.Override],iy.prototype,"isPositionDependent",null);kS([L6.Override,Oat(0,L6.NotNull)],iy.prototype,"execute",null);kS([L6.Override],iy.prototype,"hashCode",null);kS([L6.Override],iy.prototype,"equals",null);kS([L6.Override],iy.prototype,"toString",null);nx.LexerMoreAction=iy;(function(n){n.INSTANCE=new n})(iy=nx.LexerMoreAction||(nx.LexerMoreAction={}))});var Xbe=Ae(rx=>{"use strict";m();var IS=rx&&rx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Rat=rx&&rx.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(rx,"__esModule",{value:!0});rx.LexerPopModeAction=void 0;var ure=Il(),k6=wr(),sy=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(e){e.popMode()}hashCode(){let e=ure.MurmurHash.initialize();return e=ure.MurmurHash.update(e,this.actionType),ure.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"popMode"}};IS([k6.Override],sy.prototype,"actionType",null);IS([k6.Override],sy.prototype,"isPositionDependent",null);IS([k6.Override,Rat(0,k6.NotNull)],sy.prototype,"execute",null);IS([k6.Override],sy.prototype,"hashCode",null);IS([k6.Override],sy.prototype,"equals",null);IS([k6.Override],sy.prototype,"toString",null);rx.LexerPopModeAction=sy;(function(n){n.INSTANCE=new n})(sy=rx.LexerPopModeAction||(rx.LexerPopModeAction={}))});var Zbe=Ae(wv=>{"use strict";m();var MS=wv&&wv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Nat=wv&&wv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(wv,"__esModule",{value:!0});wv.LexerPushModeAction=void 0;var qq=Il(),I6=wr(),ix=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(e){e.pushMode(this._mode)}hashCode(){let e=qq.MurmurHash.initialize();return e=qq.MurmurHash.update(e,this.actionType),e=qq.MurmurHash.update(e,this._mode),qq.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof ix?this._mode===e._mode:!1}toString(){return`pushMode(${this._mode})`}};MS([I6.Override],ix.prototype,"actionType",null);MS([I6.Override],ix.prototype,"isPositionDependent",null);MS([I6.Override,Nat(0,I6.NotNull)],ix.prototype,"execute",null);MS([I6.Override],ix.prototype,"hashCode",null);MS([I6.Override],ix.prototype,"equals",null);MS([I6.Override],ix.prototype,"toString",null);wv.LexerPushModeAction=ix});var eEe=Ae(sx=>{"use strict";m();var PS=sx&&sx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Lat=sx&&sx.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(sx,"__esModule",{value:!0});sx.LexerSkipAction=void 0;var lre=Il(),M6=wr(),oy=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(e){e.skip()}hashCode(){let e=lre.MurmurHash.initialize();return e=lre.MurmurHash.update(e,this.actionType),lre.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"skip"}};PS([M6.Override],oy.prototype,"actionType",null);PS([M6.Override],oy.prototype,"isPositionDependent",null);PS([M6.Override,Lat(0,M6.NotNull)],oy.prototype,"execute",null);PS([M6.Override],oy.prototype,"hashCode",null);PS([M6.Override],oy.prototype,"equals",null);PS([M6.Override],oy.prototype,"toString",null);sx.LexerSkipAction=oy;(function(n){n.INSTANCE=new n})(oy=sx.LexerSkipAction||(sx.LexerSkipAction={}))});var tEe=Ae(Cv=>{"use strict";m();var BS=Cv&&Cv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},kat=Cv&&Cv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Cv,"__esModule",{value:!0});Cv.LexerTypeAction=void 0;var Uq=Il(),P6=wr(),ox=class{constructor(e){this._type=e}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(e){e.type=this._type}hashCode(){let e=Uq.MurmurHash.initialize();return e=Uq.MurmurHash.update(e,this.actionType),e=Uq.MurmurHash.update(e,this._type),Uq.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof ox?this._type===e._type:!1}toString(){return`type(${this._type})`}};BS([P6.Override],ox.prototype,"actionType",null);BS([P6.Override],ox.prototype,"isPositionDependent",null);BS([P6.Override,kat(0,P6.NotNull)],ox.prototype,"execute",null);BS([P6.Override],ox.prototype,"hashCode",null);BS([P6.Override],ox.prototype,"equals",null);BS([P6.Override],ox.prototype,"toString",null);Cv.LexerTypeAction=ox});var fre=Ae(jS=>{"use strict";m();var Iat=jS&&jS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(jS,"__esModule",{value:!0});jS.LoopEndState=void 0;var Mat=V2(),Pat=yf(),Bat=wr(),cre=class extends Mat.ATNState{get stateType(){return Pat.ATNStateType.LOOP_END}};Iat([Bat.Override],cre.prototype,"stateType",null);jS.LoopEndState=cre});var iEe=Ae(US=>{"use strict";m();var nEe=US&&US.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(US,"__esModule",{value:!0});US.ConflictInfo=void 0;var rEe=wr(),jat=Sm(),qS=class{constructor(e,t){this._conflictedAlts=e,this.exact=t}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(e){return e===this?!0:e instanceof qS?this.isExact===e.isExact&&jat.equals(this.conflictedAlts,e.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};nEe([rEe.Override],qS.prototype,"equals",null);nEe([rEe.Override],qS.prototype,"hashCode",null);US.ConflictInfo=qS});var ay=Ae($S=>{"use strict";m();var ax=$S&&$S.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty($S,"__esModule",{value:!0});$S.TerminalNode=void 0;var qat=M0(),ux=wr(),Uat=ou(),f1=class{constructor(e){this._symbol=e}getChild(e){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this._symbol}get sourceInterval(){let e=this._symbol.tokenIndex;return new qat.Interval(e,e)}get childCount(){return 0}accept(e){return e.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(e){return this.toString()}toString(){return this._symbol.type===Uat.Token.EOF?"<EOF>":this._symbol.text||""}};ax([ux.Override],f1.prototype,"getChild",null);ax([ux.Override],f1.prototype,"parent",null);ax([ux.Override],f1.prototype,"setParent",null);ax([ux.Override],f1.prototype,"payload",null);ax([ux.Override],f1.prototype,"sourceInterval",null);ax([ux.Override],f1.prototype,"childCount",null);ax([ux.Override],f1.prototype,"accept",null);ax([ux.Override],f1.prototype,"text",null);ax([ux.Override],f1.prototype,"toStringTree",null);ax([ux.Override],f1.prototype,"toString",null);$S.TerminalNode=f1});var HS=Ae(zS=>{"use strict";m();var $at=zS&&zS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(zS,"__esModule",{value:!0});zS.ErrorNode=void 0;var zat=wr(),Hat=ay(),dre=class extends Hat.TerminalNode{constructor(e){super(e)}accept(e){return e.visitErrorNode(this)}};$at([zat.Override],dre.prototype,"accept",null);zS.ErrorNode=dre});var VS=Ae($q=>{"use strict";m();Object.defineProperty($q,"__esModule",{value:!0});$q.RuleNode=void 0;var sEe=class{};$q.RuleNode=sEe});var uy=Ae(Av=>{"use strict";m();var hre=Av&&Av.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},pre=Av&&Av.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Av,"__esModule",{value:!0});Av.Trees=void 0;var Vat=wm(),Wat=eS(),Qat=HS(),zq=wr(),oEe=WS(),mre=d1(),Gat=VS(),xre=ay(),Yat=ou(),aEe=Sm(),ep=class{static toStringTree(e,t){let r;t instanceof oEe.Parser?r=t.ruleNames:r=t;let i=aEe.escapeWhitespace(this.getNodeText(e,r),!1);if(e.childCount===0)return i;let s="";s+="(",i=aEe.escapeWhitespace(this.getNodeText(e,r),!1),s+=i,s+=" ";for(let o=0;o<e.childCount;o++)o>0&&(s+=" "),s+=this.toStringTree(e.getChild(o),r);return s+=")",s}static getNodeText(e,t){let r;if(t instanceof oEe.Parser)r=t.ruleNames;else if(t)r=t;else{let i=e.payload;return typeof i.text=="string"?i.text:e.payload.toString()}if(e instanceof Gat.RuleNode){let i=e.ruleContext,s=i.ruleIndex,o=r[s],a=i.altNumber;return a!==Vat.ATN.INVALID_ALT_NUMBER?o+":"+a:o}else{if(e instanceof Qat.ErrorNode)return e.toString();if(e instanceof xre.TerminalNode)return e.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(e){let t=[];for(let r=0;r<e.childCount;r++)t.push(e.getChild(r));return t}static getAncestors(e){let t=[],r=e.parent;for(;r;)t.unshift(r),r=r.parent;return t}static isAncestorOf(e,t){if(!e||!t||!e.parent)return!1;let r=t.parent;for(;r;){if(e===r)return!0;r=r.parent}return!1}static findAllTokenNodes(e,t){return ep.findAllNodes(e,t,!0)}static findAllRuleNodes(e,t){return ep.findAllNodes(e,t,!1)}static findAllNodes(e,t,r){let i=[];return ep._findAllNodes(e,t,r,i),i}static _findAllNodes(e,t,r,i){r&&e instanceof xre.TerminalNode?e.symbol.type===t&&i.push(e):!r&&e instanceof mre.ParserRuleContext&&e.ruleIndex===t&&i.push(e);for(let s=0;s<e.childCount;s++)ep._findAllNodes(e.getChild(s),t,r,i)}static getDescendants(e){let t=[];function r(i){t.push(i);let s=i.childCount;for(let o=0;o<s;o++)r(i.getChild(o))}return r(e),t}static getRootOfSubtreeEnclosingRegion(e,t,r){let i=e.childCount;for(let s=0;s<i;s++){let o=e.getChild(s),a=ep.getRootOfSubtreeEnclosingRegion(o,t,r);if(a)return a}if(e instanceof mre.ParserRuleContext){let s=e.stop;if(t>=e.start.tokenIndex&&(s==null||r<=s.tokenIndex))return e}}static stripChildrenOutOfRange(e,t,r,i){if(!e)return;let s=e.childCount;for(let o=0;o<s;o++){let a=e.getChild(o),l=a.sourceInterval;if(a instanceof mre.ParserRuleContext&&(l.b<r||l.a>i)&&ep.isAncestorOf(a,t)){let f=new Wat.CommonToken(Yat.Token.INVALID_TYPE,"...");e.children[o]=new xre.TerminalNode(f)}}}static findNodeSuchThat(e,t){if(t(e))return e;let r=e.childCount;for(let i=0;i<r;i++){let s=ep.findNodeSuchThat(e.getChild(i),t);if(s!==void 0)return s}}};hre([pre(0,zq.NotNull)],ep,"toStringTree",null);hre([zq.NotNull,pre(0,zq.NotNull)],ep,"getAncestors",null);hre([pre(0,zq.NotNull)],ep,"getRootOfSubtreeEnclosingRegion",null);Av.Trees=ep});var gre=Ae(QS=>{"use strict";m();var lx=QS&&QS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(QS,"__esModule",{value:!0});QS.RuleContext=void 0;var Kat=wm(),Jat=oS(),Xat=VS(),Zat=M0(),cx=wr(),eut=uy(),tut=d1(),xh=class extends Xat.RuleNode{constructor(e,t){super();this._parent=e,this.invokingState=t??-1}static getChildContext(e,t){return new xh(e,t)}depth(){let e=0,t=this;for(;t;)t=t._parent,e++;return e}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return Zat.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this}get text(){if(this.childCount===0)return"";let e="";for(let t=0;t<this.childCount;t++)e+=this.getChild(t).text;return e.toString()}get ruleIndex(){return-1}get altNumber(){return Kat.ATN.INVALID_ALT_NUMBER}set altNumber(e){}getChild(e){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(e){return e.visitChildren(this)}toStringTree(e){return eut.Trees.toStringTree(this,e)}toString(e,t){let r=e instanceof Jat.Recognizer?e.ruleNames:e;t=t||tut.ParserRuleContext.emptyContext();let i="",s=this;for(i+="[";s&&s!==t;){if(!r)s.isEmpty||(i+=s.invokingState);else{let o=s.ruleIndex;i+=o>=0&&o<r.length?r[o]:o.toString()}s._parent&&(r||!s._parent.isEmpty)&&(i+=" "),s=s._parent}return i+="]",i.toString()}};lx([cx.Override],xh.prototype,"sourceInterval",null);lx([cx.Override],xh.prototype,"ruleContext",null);lx([cx.Override],xh.prototype,"parent",null);lx([cx.Override],xh.prototype,"setParent",null);lx([cx.Override],xh.prototype,"payload",null);lx([cx.Override],xh.prototype,"text",null);lx([cx.Override],xh.prototype,"getChild",null);lx([cx.Override],xh.prototype,"childCount",null);lx([cx.Override],xh.prototype,"accept",null);lx([cx.Override],xh.prototype,"toStringTree",null);QS.RuleContext=xh});var d1=Ae(GS=>{"use strict";m();var yre=GS&&GS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(GS,"__esModule",{value:!0});GS.ParserRuleContext=void 0;var vre=HS(),_re=M0(),bre=wr(),uEe=gre(),Hq=ay(),fx=class extends uEe.RuleContext{constructor(e,t){t==null?super():super(e,t)}static emptyContext(){return fx.EMPTY}copyFrom(e){if(this._parent=e._parent,this.invokingState=e.invokingState,this._start=e._start,this._stop=e._stop,e.children){this.children=[];for(let t of e.children)t instanceof vre.ErrorNode&&this.addChild(t)}}enterRule(e){}exitRule(e){}addAnyChild(e){return this.children?this.children.push(e):this.children=[e],e}addChild(e){let t;if(e instanceof Hq.TerminalNode){e.setParent(this),this.addAnyChild(e);return}else if(e instanceof uEe.RuleContext){this.addAnyChild(e);return}else return e=new Hq.TerminalNode(e),this.addAnyChild(e),e.setParent(this),e}addErrorNode(e){if(e instanceof vre.ErrorNode){let t=e;return t.setParent(this),this.addAnyChild(t)}else{let t=e,r=new vre.ErrorNode(t);return this.addAnyChild(r),r.setParent(this),r}}removeLastChild(){this.children&&this.children.pop()}get parent(){let e=super.parent;if(e===void 0||e instanceof fx)return e;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(e,t){if(!this.children||e<0||e>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(t==null)return this.children[e];let r=this.tryGetChild(e,t);if(r===void 0)throw new Error("The specified node does not exist");return r}tryGetChild(e,t){if(!this.children||e<0||e>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof t&&(r++,r===e))return i}getToken(e,t){let r=this.tryGetToken(e,t);if(r===void 0)throw new Error("The specified token does not exist");return r}tryGetToken(e,t){if(!this.children||t<0||t>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof Hq.TerminalNode&&i.symbol.type===e&&(r++,r===t))return i}getTokens(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof Hq.TerminalNode&&r.symbol.type===e&&t.push(r);return t}get ruleContext(){return this}getRuleContext(e,t){return this.getChild(e,t)}tryGetRuleContext(e,t){return this.tryGetChild(e,t)}getRuleContexts(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof e&&t.push(r);return t}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?_re.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):_re.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):_re.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(e){let t=e.getRuleInvocationStack(this).reverse();return"ParserRuleContext"+t+"{start="+this._start+", stop="+this._stop+"}"}};fx.EMPTY=new fx;yre([bre.Override],fx.prototype,"parent",null);yre([bre.Override],fx.prototype,"childCount",null);yre([bre.Override],fx.prototype,"sourceInterval",null);GS.ParserRuleContext=fx});var hEe=Ae(ly=>{"use strict";m();var lEe=ly&&ly.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ly,"__esModule",{value:!0});ly.PredictionMode=void 0;var nut=m6(),Vq=Il(),cEe=wr(),fEe=xS(),dEe;(function(n){n[n.SLL=0]="SLL",n[n.LL=1]="LL",n[n.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(dEe=ly.PredictionMode||(ly.PredictionMode={}));(function(n){class e extends nut.Array2DHashMap{constructor(){super(t.INSTANCE)}}class t{AltAndContextConfigEqualityComparator(){}hashCode(o){let a=Vq.MurmurHash.initialize(7);return a=Vq.MurmurHash.update(a,o.state.stateNumber),a=Vq.MurmurHash.update(a,o.context),a=Vq.MurmurHash.finish(a,2),a}equals(o,a){return o===a?!0:o==null||a==null?!1:o.state.stateNumber===a.state.stateNumber&&o.context.equals(a.context)}}t.INSTANCE=new t,lEe([cEe.Override],t.prototype,"hashCode",null),lEe([cEe.Override],t.prototype,"equals",null);function r(s){for(let o of s)if(o.state instanceof fEe.RuleStopState)return!0;return!1}n.hasConfigInRuleStopState=r;function i(s){for(let o of s)if(!(o.state instanceof fEe.RuleStopState))return!1;return!0}n.allConfigsInRuleStopStates=i})(dEe=ly.PredictionMode||(ly.PredictionMode={}))});var Sre=Ae(Tv=>{"use strict";m();var rut=Tv&&Tv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},iut=Tv&&Tv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.SimulatorState=void 0;var sut=wr(),out=d1(),Ere=class{constructor(e,t,r,i){this.outerContext=e??out.ParserRuleContext.emptyContext(),this.s0=t,this.useContext=r,this.remainingOuterContext=i}};Ere=rut([iut(1,sut.NotNull)],Ere);Tv.SimulatorState=Ere});var JS=Ae(Dv=>{"use strict";m();var Co=Dv&&Dv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},qi=Dv&&Dv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.ParserATNSimulator=void 0;var pEe=vne(),aut=rre(),uut=Vg(),lut=Xj(),dx=wm(),mEe=FD(),cy=sS(),YS=ND(),cut=yf(),fut=ire(),KD=Qg(),dut=iEe(),hut=Y5(),wre=OD(),put=tq(),Wq=M0(),Qq=Ug(),li=wr(),mut=Aq(),xut=JD(),gut=Em(),xEe=d1(),vf=o1(),Cre=lq(),KS=hEe(),B6=xS(),gEe=Fq(),Fv=h6(),yut=wq(),h1=Sre(),Gq=ou(),yEe=Jg(),dl=L0(),vut=65535,vEe=-(1<<31>>>0),Is=class yo extends YS.ATNSimulator{constructor(e,t){super(e);this.predictionMode=KS.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=t}getPredictionMode(){return this.predictionMode}setPredictionMode(e){this.predictionMode=e}reset(){}adaptivePredict(e,t,r,i){i===void 0&&(i=!1);let s=this.atn.decisionToDFA[t];if(dl(s!=null),this.optimize_ll1&&!s.isPrecedenceDfa&&!s.isEmpty){let f=e.LA(1);if(f>=0&&f<=65535){let p=(t<<16>>>0)+f,_=this.atn.LL1Table.get(p);if(_!=null)return _}}this.dfa=s,this.force_global_context?i=!0:this.always_try_local_context||(i=i||s.isContextSensitive),this.userWantsCtxSensitive=i||this.predictionMode!==KS.PredictionMode.SLL&&r!=null&&!this.atn.decisionToState[t].sll,r==null&&(r=xEe.ParserRuleContext.emptyContext());let o;s.isEmpty||(o=this.getStartState(s,e,r,i)),o==null&&(r==null&&(r=xEe.ParserRuleContext.emptyContext()),yo.debug&&console.log("ATN decision "+s.decision+" exec LA(1)=="+this.getLookaheadName(e)+", outerContext="+r.toString(this._parser)),o=this.computeStartState(s,r,i));let a=e.mark(),l=e.index;try{let f=this.execDFA(s,e,l,o);return yo.debug&&console.log("DFA after predictATN: "+s.toString(this._parser.vocabulary,this._parser.ruleNames)),f}finally{this.dfa=void 0,e.seek(l),e.release(a)}}getStartState(e,t,r,i){if(!i)if(e.isPrecedenceDfa){let a=e.getPrecedenceStartState(this._parser.precedence,!1);return a==null?void 0:new h1.SimulatorState(r,a,!1,r)}else return e.s0==null?void 0:new h1.SimulatorState(r,e.s0,!1,r);if(!this.enable_global_context_dfa)return;let s=r;dl(r!=null);let o;for(e.isPrecedenceDfa?o=e.getPrecedenceStartState(this._parser.precedence,!0):o=e.s0full;s!=null&&o!=null&&o.isContextSensitive;)s=this.skipTailCalls(s),o=o.getContextTarget(this.getReturnState(s)),s.isEmpty?dl(o==null||!o.isContextSensitive):s=s.parent;if(o!=null)return new h1.SimulatorState(r,o,i,s)}execDFA(e,t,r,i){let s=i.outerContext;yo.dfa_debug&&console.log("DFA decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+s.toString(this._parser)),yo.dfa_debug&&console.log(e.toString(this._parser.vocabulary,this._parser.ruleNames));let o=i.s0,a=t.LA(1),l=i.remainingOuterContext;for(;;){if(yo.dfa_debug&&console.log("DFA state "+o.stateNumber+" LA(1)=="+this.getLookaheadName(t)),i.useContext)for(;o.isContextSymbol(a);){let _;if(l!=null&&(l=this.skipTailCalls(l),_=o.getContextTarget(this.getReturnState(l))),_==null){let E=new h1.SimulatorState(i.outerContext,o,i.useContext,l);return this.execATN(e,t,r,E)}dl(l!=null),l=l.parent,o=_}if(this.isAcceptState(o,i.useContext)){o.predicates!=null?yo.dfa_debug&&console.log("accept "+o):yo.dfa_debug&&console.log("accept; predict "+o.prediction+" in state "+o.stateNumber);break}dl(!this.isAcceptState(o,i.useContext));let p=this.getExistingTargetState(o,a);if(p==null){yo.dfa_debug&&a>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(a));let _;if(yo.dfa_debug){let O=Wq.Interval.of(r,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(O)+" at DFA state "+o.stateNumber)}let E=new h1.SimulatorState(s,o,i.useContext,l);return _=this.execATN(e,t,r,E),yo.dfa_debug&&console.log("back from DFA update, alt="+_+`, dfa=
`+e.toString(this._parser.vocabulary,this._parser.ruleNames)),yo.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+_),_}else if(p===YS.ATNSimulator.ERROR){let _=new h1.SimulatorState(s,o,i.useContext,l);return this.handleNoViableAlt(t,r,_)}o=p,!this.isAcceptState(o,i.useContext)&&a!==Qq.IntStream.EOF&&(t.consume(),a=t.LA(1))}if(!i.useContext&&o.configs.conflictInfo!=null&&e.atnStartState instanceof hut.DecisionState&&!(!this.userWantsCtxSensitive||!o.configs.dipsIntoOuterContext&&o.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&t.index===r)){dl(!i.useContext);let p,_=o.predicates;if(_!=null){let E=t.index;if(E!==r&&t.seek(r),p=this.evalSemanticContext(_,s,!0),p.cardinality()===1)return p.nextSetBit(0);E!==r&&t.seek(E)}if(this.reportAmbiguities){let E=new h1.SimulatorState(s,o,i.useContext,l);this.reportAttemptingFullContext(e,p,E,r,t.index)}return t.seek(r),this.adaptivePredict(t,e.decision,s,!0)}let f=o.predicates;if(f!=null){let p=t.index;r!==p&&t.seek(r);let _=this.evalSemanticContext(f,s,this.reportAmbiguities&&this.predictionMode===KS.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(_.cardinality()){case 0:throw this.noViableAlt(t,s,o.configs,r);case 1:return _.nextSetBit(0);default:return r!==p&&t.seek(p),this.reportAmbiguity(e,o,r,p,o.configs.isExactConflict,_,o.configs),_.nextSetBit(0)}}return yo.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+o.prediction),o.prediction}isAcceptState(e,t){return e.isAcceptState?e.configs.conflictingAlts==null?!0:t&&this.predictionMode===KS.PredictionMode.LL_EXACT_AMBIG_DETECTION?e.configs.isExactConflict:!0:!1}execATN(e,t,r,i){yo.debug&&console.log("execATN decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t));let s=i.outerContext,o=i.useContext,a=t.LA(1),l=i,f=new Cre.PredictionContextCache;for(;;){let p=this.computeReachSet(e,l,a,f);if(p==null)return this.setDFAEdge(l.s0,t.LA(1),YS.ATNSimulator.ERROR),this.handleNoViableAlt(t,r,l);let _=p.s0;if(dl(_.isAcceptState||_.prediction===dx.ATN.INVALID_ALT_NUMBER),dl(_.isAcceptState||_.configs.conflictInfo==null),this.isAcceptState(_,o)){let E=_.configs.conflictingAlts,O=E==null?_.prediction:dx.ATN.INVALID_ALT_NUMBER;if(O!==dx.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&t.index===r&&!e.isPrecedenceDfa&&p.outerContext===p.remainingOuterContext&&e.decision>=0&&!_.configs.hasSemanticContext&&a>=0&&a<=vut){let q=(e.decision<<16>>>0)+a;this.atn.LL1Table.set(q,O)}o&&this.always_try_local_context&&this.reportContextSensitivity(e,O,p,r,t.index)}O=_.prediction;let R=E!=null&&this.userWantsCtxSensitive;if(R&&(R=!o&&(_.configs.dipsIntoOuterContext||!_.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||t.index!==r)),_.configs.hasSemanticContext){let q=_.predicates;if(q!=null){let z=t.index;switch(z!==r&&t.seek(r),E=this.evalSemanticContext(q,s,R||this.reportAmbiguities),E.cardinality()){case 0:throw this.noViableAlt(t,s,_.configs,r);case 1:return E.nextSetBit(0);default:break}z!==r&&t.seek(z)}}if(R){dl(!o),dl(this.isAcceptState(_,!1)),yo.debug&&console.log("RETRY with outerContext="+s);let q=this.computeStartState(e,s,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(e,E,p,r,t.index),t.seek(r),this.execATN(e,t,r,q)}else return E!=null&&(this.reportAmbiguities&&E.cardinality()>1&&this.reportAmbiguity(e,_,r,t.index,_.configs.isExactConflict,E,_.configs),O=E.nextSetBit(0)),O}l=p,a!==Qq.IntStream.EOF&&(t.consume(),a=t.LA(1))}}handleNoViableAlt(e,t,r){if(r.s0!=null){let i=new KD.BitSet,s=0;for(let o of r.s0.configs)(o.reachesIntoOuterContext||o.state instanceof B6.RuleStopState)&&(i.set(o.alt),s=Math.max(s,o.alt));switch(i.cardinality()){case 0:break;case 1:return i.nextSetBit(0);default:if(!r.s0.configs.hasSemanticContext)return i.nextSetBit(0);let o=new cy.ATNConfigSet;for(let l of r.s0.configs)(l.reachesIntoOuterContext||l.state instanceof B6.RuleStopState)&&o.add(l);let a=this.getPredsForAmbigAlts(i,o,s);if(a!=null){let l=this.getPredicatePredictions(i,a);if(l!=null){let f=e.index;try{e.seek(t);let p=this.evalSemanticContext(l,r.outerContext,!1);if(!p.isEmpty)return p.nextSetBit(0)}finally{e.seek(f)}}}return i.nextSetBit(0)}}throw this.noViableAlt(e,r.outerContext,r.s0.configs,t)}computeReachSet(e,t,r,i){let s=t.useContext,o=t.remainingOuterContext,a=t.s0;if(s)for(;a.isContextSymbol(r);){let p;if(o!=null&&(o=this.skipTailCalls(o),p=a.getContextTarget(this.getReturnState(o))),p==null)break;dl(o!=null),o=o.parent,a=p}if(dl(!this.isAcceptState(a,s)),this.isAcceptState(a,s))return new h1.SimulatorState(t.outerContext,a,s,o);let l=a,f=this.getExistingTargetState(l,r);if(f==null){let p=this.computeTargetState(e,l,o,r,s,i);f=p[0],o=p[1]}if(f!==YS.ATNSimulator.ERROR)return dl(!s||!f.configs.dipsIntoOuterContext),new h1.SimulatorState(t.outerContext,f,s,o)}getExistingTargetState(e,t){return e.getTarget(t)}computeTargetState(e,t,r,i,s,o){let a=t.configs.toArray(),l,f=new cy.ATNConfigSet,p;do{let E=!s||r!=null;E||(f.isOutermostConfigSet=!0);let O=new cy.ATNConfigSet,R;for(let L of a){if(yo.debug&&console.log("testing "+this.getTokenName(i)+" at "+L.toString()),L.state instanceof B6.RuleStopState){dl(L.context.isEmpty),(s&&!L.reachesIntoOuterContext||i===Qq.IntStream.EOF)&&(R==null&&(R=[]),R.push(L));continue}let B=L.state.numberOfOptimizedTransitions;for(let P=0;P<B;P++){let G=L.state.getOptimizedTransition(P),ue=this.getReachableTarget(L,G,i);ue!=null&&O.add(L.transform(ue,!1),o)}}if(this.optimize_unique_closure&&R==null&&i!==Gq.Token.EOF&&O.uniqueAlt!==dx.ATN.INVALID_ALT_NUMBER){O.isOutermostConfigSet=f.isOutermostConfigSet,f=O;break}let q=!1,z=i===Gq.Token.EOF;if(this.closure(O,f,q,E,o,z),p=f.dipsIntoOuterContext,i===Qq.IntStream.EOF&&(f=this.removeAllConfigsNotInRuleStopState(f,o)),R!=null&&(!s||!KS.PredictionMode.hasConfigInRuleStopState(f))){dl(R.length>0);for(let L of R)f.add(L,o)}if(s&&p){f.clear(),r=r,r=this.skipTailCalls(r);let L=this.getReturnState(r);if(l==null&&(l=new put.IntegerList),r.isEmpty?r=void 0:r=r.parent,l.add(L),L!==vf.PredictionContext.EMPTY_FULL_STATE_KEY)for(let B=0;B<a.length;B++)a[B]=a[B].appendContext(L,o)}}while(s&&p);return f.isEmpty?(this.setDFAEdge(t,i,YS.ATNSimulator.ERROR),[YS.ATNSimulator.ERROR,r]):[this.addDFAEdge(e,t,i,l,f,o),r]}removeAllConfigsNotInRuleStopState(e,t){if(KS.PredictionMode.allConfigsInRuleStopStates(e))return e;let r=new cy.ATNConfigSet;for(let i of e)i.state instanceof B6.RuleStopState&&r.add(i,t);return r}computeStartState(e,t,r){let i=e.isPrecedenceDfa?e.getPrecedenceStartState(this._parser.precedence,r):r?e.s0full:e.s0;if(i!=null){if(!r)return new h1.SimulatorState(t,i,r,t);i.setContextSensitive(this.atn)}let s=e.decision,o=e.atnStartState,a=0,l=t,f=r?vf.PredictionContext.EMPTY_FULL:vf.PredictionContext.EMPTY_LOCAL,p=new Cre.PredictionContextCache;if(r){if(!this.enable_global_context_dfa)for(;l!=null;)l.isEmpty?(a=vf.PredictionContext.EMPTY_FULL_STATE_KEY,l=void 0):(a=this.getReturnState(l),f=f.appendSingleContext(a,p),l=l.parent);for(;i!=null&&i.isContextSensitive&&l!=null;){let E;if(l=this.skipTailCalls(l),l.isEmpty?(E=i.getContextTarget(vf.PredictionContext.EMPTY_FULL_STATE_KEY),a=vf.PredictionContext.EMPTY_FULL_STATE_KEY,l=void 0):(a=this.getReturnState(l),E=i.getContextTarget(a),f=f.appendSingleContext(a,p),l=l.parent),E==null)break;i=E}}if(i!=null&&!i.isContextSensitive)return new h1.SimulatorState(t,i,r,l);let _=new cy.ATNConfigSet;for(;;){let E=new cy.ATNConfigSet,O=o.numberOfTransitions;for(let P=0;P<O;P++){let G=o.transition(P).target;E.add(mEe.ATNConfig.create(G,P+1,f))}let R=l!=null;R||(_.isOutermostConfigSet=!0);let q=!0;this.closure(E,_,q,R,p,!1);let z=_.dipsIntoOuterContext,L;if(r&&!this.enable_global_context_dfa){i=this.addDFAState(e,_,p);break}else i==null?e.isPrecedenceDfa?(_=this.applyPrecedenceFilter(_,t,p),L=this.addDFAState(e,_,p),e.setPrecedenceStartState(this._parser.precedence,r,L)):(L=this.addDFAState(e,_,p),r?e.s0full?L=e.s0full:e.s0full=L:e.s0?L=e.s0:e.s0=L):(e.isPrecedenceDfa&&(_=this.applyPrecedenceFilter(_,t,p)),L=this.addDFAState(e,_,p),i.setContextTarget(a,L));if(i=L,!r||!z)break;L.setContextSensitive(this.atn),l=l,_.clear(),l=this.skipTailCalls(l);let B=this.getReturnState(l);l.isEmpty?l=void 0:l=l.parent,B!==vf.PredictionContext.EMPTY_FULL_STATE_KEY&&(f=f.appendSingleContext(B,p)),a=B}return new h1.SimulatorState(t,i,r,l)}applyPrecedenceFilter(e,t,r){let i=new Map,s=new cy.ATNConfigSet;for(let o of e){if(o.alt!==1)continue;let a=o.semanticContext.evalPrecedence(this._parser,t);a!=null&&(i.set(o.state.stateNumber,o.context),a!==o.semanticContext?s.add(o.transform(o.state,!1,a),r):s.add(o,r))}for(let o of e)if(o.alt!==1){if(!o.isPrecedenceFilterSuppressed){let a=i.get(o.state.stateNumber);if(a!=null&&a.equals(o.context))continue}s.add(o,r)}return s}getReachableTarget(e,t,r){if(t.matches(r,0,this.atn.maxTokenType))return t.target}predicateDFAState(e,t,r){let i=this.getConflictingAltsFromConfigSet(t);if(!i)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");yo.debug&&console.log("predicateDFAState "+e);let s=this.getPredsForAmbigAlts(i,t,r),o;return s!=null&&(o=this.getPredicatePredictions(i,s),e.predicates=o),o}getPredsForAmbigAlts(e,t,r){let i=new Array(r+1),s=i.length;for(let l of t)e.get(l.alt)&&(i[l.alt]=Fv.SemanticContext.or(i[l.alt],l.semanticContext));let o=0;for(let l=0;l<s;l++)i[l]==null?i[l]=Fv.SemanticContext.NONE:i[l]!==Fv.SemanticContext.NONE&&o++;let a=i;return o===0&&(a=void 0),yo.debug&&console.log("getPredsForAmbigAlts result "+(a?lut.Arrays.toString(a):"undefined")),a}getPredicatePredictions(e,t){let r=[],i=!1;for(let s=1;s<t.length;s++){let o=t[s];dl(o!=null),e!=null&&e.get(s)&&o===Fv.SemanticContext.NONE?r.push(new wre.DFAState.PredPrediction(o,s)):o!==Fv.SemanticContext.NONE&&(i=!0,r.push(new wre.DFAState.PredPrediction(o,s)))}if(!!i)return r}evalSemanticContext(e,t,r){let i=new KD.BitSet;for(let s of e){if(s.pred===Fv.SemanticContext.NONE){if(i.set(s.alt),!r)break;continue}let o=this.evalSemanticContextImpl(s.pred,t,s.alt);if((yo.debug||yo.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((yo.debug||yo.dfa_debug)&&console.log("PREDICT "+s.alt),i.set(s.alt),!r))break}return i}evalSemanticContextImpl(e,t,r){return e.eval(this._parser,t)}closure(e,t,r,i,s,o){s==null&&(s=Cre.PredictionContextCache.UNCACHED);let a=e,l=new uut.Array2DHashSet(gut.ObjectEqualityComparator.INSTANCE);for(;a.size>0;){let f=new cy.ATNConfigSet;for(let p of a)this.closureImpl(p,t,f,l,r,i,s,0,o);a=f}}closureImpl(e,t,r,i,s,o,a,l,f){if(yo.debug&&console.log("closure("+e.toString(this._parser,!0)+")"),e.state instanceof B6.RuleStopState)if(e.context.isEmpty)if(o)yo.debug&&console.log("FALLING off rule "+this.getRuleName(e.state.ruleIndex)),e.context===vf.PredictionContext.EMPTY_FULL?e=e.transform(e.state,!1,vf.PredictionContext.EMPTY_LOCAL):!e.reachesIntoOuterContext&&vf.PredictionContext.isEmptyLocal(e.context)&&t.add(e,a);else{t.add(e,a);return}else{let _=e.context.hasEmpty,E=e.context.size-(_?1:0);for(let O=0;O<E;O++){let R=e.context.getParent(O),q=this.atn.states[e.context.getReturnState(O)],z=mEe.ATNConfig.create(q,e.alt,R,e.semanticContext);z.outerContextDepth=e.outerContextDepth,z.isPrecedenceFilterSuppressed=e.isPrecedenceFilterSuppressed,dl(l>vEe),this.closureImpl(z,t,r,i,s,o,a,l-1,f)}if(!_||!o)return;e=e.transform(e.state,!1,vf.PredictionContext.EMPTY_LOCAL)}let p=e.state;p.onlyHasEpsilonTransitions||(t.add(e,a),yo.debug&&console.log("added config "+t));for(let _=0;_<p.numberOfOptimizedTransitions;_++){if(_===0&&p.stateType===cut.ATNStateType.STAR_LOOP_ENTRY&&p.precedenceRuleDecision&&!e.context.hasEmpty){let q=p,z=!0;for(let L=0;L<e.context.size;L++)if(!q.precedenceLoopbackStates.get(e.context.getReturnState(L))){z=!1;break}if(z)continue}let E=p.getOptimizedTransition(_),O=!(E instanceof aut.ActionTransition)&&s,R=this.getEpsilonTarget(e,E,O,l===0,a,f);if(R!=null){if(E instanceof gEe.RuleTransition&&r!=null&&!s){r.add(R,a);continue}let q=l;if(e.state instanceof B6.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&E.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(R.isPrecedenceFilterSuppressed=!0),R.outerContextDepth=R.outerContextDepth+1,!i.add(R))continue;dl(q>vEe),q--,yo.debug&&console.log("dips into outer ctx: "+R)}else if(E instanceof gEe.RuleTransition)this.optimize_tail_calls&&E.optimizedTailCall&&(!this.tail_call_preserves_sll||!vf.PredictionContext.isEmptyLocal(e.context))?(dl(R.context===e.context),q===0&&(q--,!this.tail_call_preserves_sll&&vf.PredictionContext.isEmptyLocal(e.context)&&(R.outerContextDepth=R.outerContextDepth+1))):q>=0&&q++;else if(!E.isEpsilon&&!i.add(R))continue;this.closureImpl(R,t,r,i,O,o,a,q,f)}}}getRuleName(e){return this._parser!=null&&e>=0?this._parser.ruleNames[e]:"<rule "+e+">"}getEpsilonTarget(e,t,r,i,s,o){switch(t.serializationType){case 3:return this.ruleTransition(e,t,s);case 10:return this.precedenceTransition(e,t,r,i);case 4:return this.predTransition(e,t,r,i);case 6:return this.actionTransition(e,t);case 1:return e.transform(t.target,!1);case 5:case 2:case 7:return o&&t.matches(Gq.Token.EOF,0,1)?e.transform(t.target,!1):void 0;default:return}}actionTransition(e,t){return yo.debug&&console.log("ACTION edge "+t.ruleIndex+":"+t.actionIndex),e.transform(t.target,!1)}precedenceTransition(e,t,r,i){yo.debug&&(console.log("PRED (collectPredicates="+r+") "+t.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&i){let o=Fv.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return yo.debug&&console.log("config from pred transition="+s),s}predTransition(e,t,r,i){yo.debug&&(console.log("PRED (collectPredicates="+r+") "+t.ruleIndex+":"+t.predIndex+", ctx dependent="+t.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&(!t.isCtxDependent||t.isCtxDependent&&i)){let o=Fv.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return yo.debug&&console.log("config from pred transition="+s),s}ruleTransition(e,t,r){yo.debug&&console.log("CALL rule "+this.getRuleName(t.target.ruleIndex)+", ctx="+e.context);let i=t.followState,s;return this.optimize_tail_calls&&t.optimizedTailCall&&(!this.tail_call_preserves_sll||!vf.PredictionContext.isEmptyLocal(e.context))?s=e.context:r!=null?s=r.getChild(e.context,i.stateNumber):s=e.context.getChild(i.stateNumber),e.transform(t.target,!1,s)}isConflicted(e,t){if(e.uniqueAlt!==dx.ATN.INVALID_ALT_NUMBER||e.size<=1)return;let r=e.toArray();r.sort(yo.STATE_ALT_SORT_COMPARATOR);let i=!e.dipsIntoOuterContext,s=new KD.BitSet,o=r[0].alt;s.set(o);let a=r[0].state.nonStopStateNumber;for(let E of r){let O=E.state.nonStopStateNumber;if(O!==a){if(E.alt!==o)return;a=O}}let l;if(i){a=r[0].state.nonStopStateNumber,l=new KD.BitSet;let E=o;for(let R of r){if(R.state.nonStopStateNumber!==a)break;let q=R.alt;l.set(q),E=q}a=r[0].state.nonStopStateNumber;let O=o;for(let R of r){let q=R.state.nonStopStateNumber,z=R.alt;if(q!==a){if(O!==E){i=!1;break}a=q,O=o}else if(z!==O){if(z!==l.nextSetBit(O+1)){i=!1;break}O=z}}}a=r[0].state.nonStopStateNumber;let f=0,p=0,_=r[0].context;for(let E=1;E<r.length;E++){let O=r[E];if(O.alt!==o||O.state.nonStopStateNumber!==a)break;p=E,_=t.join(_,r[E].context)}for(let E=p+1;E<r.length;E++){let O=r[E],R=O.state;if(s.set(O.alt),R.nonStopStateNumber!==a){a=R.nonStopStateNumber,f=E,p=E,_=O.context;for(let P=f+1;P<r.length;P++){let G=r[P];if(G.alt!==o||G.state.nonStopStateNumber!==a)break;p=P,_=t.join(_,G.context)}E=p;continue}let q=O.context,z=O.alt,L=E;for(let P=L+1;P<r.length;P++){let G=r[P];if(G.alt!==z||G.state.nonStopStateNumber!==a)break;L=P,q=t.join(q,G.context)}E=L;let B=t.join(_,q);if(!_.equals(B))return;i=i&&_.equals(q)}return new dut.ConflictInfo(s,i)}getConflictingAltsFromConfigSet(e){let t=e.conflictingAlts;return t==null&&e.uniqueAlt!==dx.ATN.INVALID_ALT_NUMBER&&(t=new KD.BitSet,t.set(e.uniqueAlt)),t}getTokenName(e){if(e===Gq.Token.EOF)return"EOF";let r=(this._parser!=null?this._parser.vocabulary:yEe.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(e);return r===String(e)?r:r+"<"+e+">"}getLookaheadName(e){return this.getTokenName(e.LA(1))}dumpDeadEndConfigs(e){console.log("dead end configs: ");let t=e.deadEndConfigs;if(!!t)for(let r of t){let i="no edges";if(r.state.numberOfOptimizedTransitions>0){let s=r.state.getOptimizedTransition(0);s instanceof fut.AtomTransition?i="Atom "+this.getTokenName(s._label):s instanceof yut.SetTransition&&(i=(s instanceof mut.NotSetTransition?"~":"")+"Set "+s.set.toString())}console.log(r.toString(this._parser,!0)+":"+i)}}noViableAlt(e,t,r,i){return new xut.NoViableAltException(this._parser,e,e.get(i),e.LT(1),r,t)}getUniqueAlt(e){let t=dx.ATN.INVALID_ALT_NUMBER;for(let r of e)if(t===dx.ATN.INVALID_ALT_NUMBER)t=r.alt;else if(r.alt!==t)return dx.ATN.INVALID_ALT_NUMBER;return t}configWithAltAtStopState(e,t){for(let r of e)if(r.alt===t&&r.state instanceof B6.RuleStopState)return!0;return!1}addDFAEdge(e,t,r,i,s,o){dl(i==null||i.isEmpty||e.isContextSensitive);let a=t,l=this.addDFAState(e,s,o);if(i!=null)for(let f of i.toArray()){if(f===vf.PredictionContext.EMPTY_FULL_STATE_KEY&&a.configs.isOutermostConfigSet)continue;a.setContextSensitive(this.atn),a.setContextSymbol(r);let p=a.getContextTarget(f);if(p!=null){a=p;continue}p=this.addDFAContextState(e,a.configs,f,o),dl(f!==vf.PredictionContext.EMPTY_FULL_STATE_KEY||p.configs.isOutermostConfigSet),a.setContextTarget(f,p),a=p}return yo.debug&&console.log("EDGE "+a+" -> "+l+" upon "+this.getTokenName(r)),this.setDFAEdge(a,r,l),yo.debug&&console.log(`DFA=
`+e.toString(this._parser!=null?this._parser.vocabulary:yEe.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),l}setDFAEdge(e,t,r){e!=null&&e.setTarget(t,r)}addDFAContextState(e,t,r,i){if(r!==vf.PredictionContext.EMPTY_FULL_STATE_KEY){let s=new cy.ATNConfigSet;for(let o of t)s.add(o.appendContext(r,i));return this.addDFAState(e,s,i)}else return dl(!t.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),t=t.clone(!0),t.isOutermostConfigSet=!0,this.addDFAState(e,t,i)}addDFAState(e,t,r){let i=this.enable_global_context_dfa||!t.isOutermostConfigSet;if(i){t.isReadOnly||t.optimizeConfigs(this);let f=this.createDFAState(e,t),p=e.states.get(f);if(p!=null)return p}t.isReadOnly||t.conflictInfo==null&&(t.conflictInfo=this.isConflicted(t,r));let s=this.createDFAState(e,t.clone(!0)),o=this.atn.getDecisionState(e.decision),a=this.getUniqueAlt(t);if(a!==dx.ATN.INVALID_ALT_NUMBER)s.acceptStateInfo=new pEe.AcceptStateInfo(a);else if(t.conflictingAlts!=null){let f=t.conflictingAlts;f&&(s.acceptStateInfo=new pEe.AcceptStateInfo(f.nextSetBit(0)))}if(s.isAcceptState&&t.hasSemanticContext&&this.predicateDFAState(s,t,o.numberOfTransitions),!i)return s;let l=e.addState(s);return yo.debug&&l===s&&console.log("adding new DFA state: "+s),l}createDFAState(e,t){return new wre.DFAState(t)}reportAttemptingFullContext(e,t,r,i,s){if(yo.debug||yo.retry_debug){let o=Wq.Interval.of(i,s);console.log("reportAttemptingFullContext decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportAttemptingFullContext&&o.reportAttemptingFullContext(this._parser,e,i,s,t,r)}}reportContextSensitivity(e,t,r,i,s){if(yo.debug||yo.retry_debug){let o=Wq.Interval.of(i,s);console.log("reportContextSensitivity decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportContextSensitivity&&o.reportContextSensitivity(this._parser,e,i,s,t,r)}}reportAmbiguity(e,t,r,i,s,o,a){if(yo.debug||yo.retry_debug){let l=Wq.Interval.of(r,i);console.log("reportAmbiguity "+o+":"+a+", input="+this._parser.inputStream.getText(l))}if(this._parser!=null){let l=this._parser.getErrorListenerDispatch();l.reportAmbiguity&&l.reportAmbiguity(this._parser,e,r,i,s,o,a)}}getReturnState(e){return e.isEmpty?vf.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[e.invokingState].transition(0).followState.stateNumber}skipTailCalls(e){if(!this.optimize_tail_calls)return e;for(;!e.isEmpty;){let t=this.atn.states[e.invokingState];if(dl(t.numberOfTransitions===1&&t.transition(0).serializationType===3),!t.transition(0).tailCall)break;e=e.parent}return e}get parser(){return this._parser}};Is.debug=!1;Is.dfa_debug=!1;Is.retry_debug=!1;Is.STATE_ALT_SORT_COMPARATOR=(n,e)=>{let t=n.state.nonStopStateNumber-e.state.nonStopStateNumber;return t!==0||(t=n.alt-e.alt,t!==0)?t:0};Co([li.NotNull],Is.prototype,"predictionMode",void 0);Co([li.NotNull],Is.prototype,"getPredictionMode",null);Co([qi(0,li.NotNull)],Is.prototype,"setPredictionMode",null);Co([li.Override],Is.prototype,"reset",null);Co([qi(0,li.NotNull)],Is.prototype,"adaptivePredict",null);Co([qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.NotNull)],Is.prototype,"getStartState",null);Co([qi(0,li.NotNull),qi(1,li.NotNull),qi(3,li.NotNull)],Is.prototype,"execDFA",null);Co([qi(0,li.NotNull),qi(1,li.NotNull),qi(3,li.NotNull)],Is.prototype,"execATN",null);Co([qi(0,li.NotNull),qi(2,li.NotNull)],Is.prototype,"handleNoViableAlt",null);Co([qi(0,li.NotNull)],Is.prototype,"getExistingTargetState",null);Co([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Is.prototype,"computeTargetState",null);Co([li.NotNull,qi(0,li.NotNull)],Is.prototype,"removeAllConfigsNotInRuleStopState",null);Co([li.NotNull],Is.prototype,"computeStartState",null);Co([li.NotNull,qi(0,li.NotNull)],Is.prototype,"applyPrecedenceFilter",null);Co([qi(0,li.NotNull),qi(1,li.NotNull)],Is.prototype,"getReachableTarget",null);Co([qi(0,li.NotNull),qi(1,li.NotNull)],Is.prototype,"getPredsForAmbigAlts",null);Co([qi(0,li.NotNull)],Is.prototype,"evalSemanticContext",null);Co([qi(0,li.NotNull)],Is.prototype,"evalSemanticContextImpl",null);Co([qi(1,li.NotNull),qi(4,li.Nullable)],Is.prototype,"closure",null);Co([qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.Nullable),qi(3,li.NotNull),qi(6,li.NotNull)],Is.prototype,"closureImpl",null);Co([li.NotNull],Is.prototype,"getRuleName",null);Co([qi(0,li.NotNull),qi(1,li.NotNull)],Is.prototype,"getEpsilonTarget",null);Co([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Is.prototype,"actionTransition",null);Co([li.Nullable,qi(0,li.NotNull),qi(1,li.NotNull)],Is.prototype,"precedenceTransition",null);Co([li.Nullable,qi(0,li.NotNull),qi(1,li.NotNull)],Is.prototype,"predTransition",null);Co([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.Nullable)],Is.prototype,"ruleTransition",null);Co([qi(0,li.NotNull)],Is.prototype,"isConflicted",null);Co([li.NotNull],Is.prototype,"getTokenName",null);Co([qi(0,li.NotNull)],Is.prototype,"dumpDeadEndConfigs",null);Co([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull),qi(2,li.NotNull)],Is.prototype,"noViableAlt",null);Co([qi(0,li.NotNull)],Is.prototype,"getUniqueAlt",null);Co([qi(0,li.NotNull)],Is.prototype,"configWithAltAtStopState",null);Co([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull),qi(4,li.NotNull)],Is.prototype,"addDFAEdge",null);Co([qi(0,li.Nullable),qi(2,li.Nullable)],Is.prototype,"setDFAEdge",null);Co([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Is.prototype,"addDFAContextState",null);Co([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Is.prototype,"addDFAState",null);Co([li.NotNull,qi(0,li.NotNull),qi(1,li.NotNull)],Is.prototype,"createDFAState",null);Co([qi(0,li.NotNull),qi(2,li.NotNull)],Is.prototype,"reportAttemptingFullContext",null);Co([qi(0,li.NotNull),qi(2,li.NotNull)],Is.prototype,"reportContextSensitivity",null);Co([qi(0,li.NotNull),qi(5,li.NotNull),qi(6,li.NotNull)],Is.prototype,"reportAmbiguity",null);Is=Co([qi(0,li.NotNull)],Is);Dv.ParserATNSimulator=Is});var _Ee=Ae(XS=>{"use strict";m();var _ut=XS&&XS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(XS,"__esModule",{value:!0});XS.PlusBlockStartState=void 0;var but=yf(),Eut=WD(),Sut=wr(),Are=class extends Eut.BlockStartState{get stateType(){return but.ATNStateType.PLUS_BLOCK_START}};_ut([Sut.Override],Are.prototype,"stateType",null);XS.PlusBlockStartState=Are});var bEe=Ae(ZS=>{"use strict";m();var wut=ZS&&ZS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ZS,"__esModule",{value:!0});ZS.PlusLoopbackState=void 0;var Cut=yf(),Aut=Y5(),Tut=wr(),Tre=class extends Aut.DecisionState{get stateType(){return Cut.ATNStateType.PLUS_LOOP_BACK}};wut([Tut.Override],Tre.prototype,"stateType",null);ZS.PlusLoopbackState=Tre});var EEe=Ae(Ov=>{"use strict";m();var XD=Ov&&Ov.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Fut=Ov&&Ov.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.PrecedencePredicateTransition=void 0;var Dut=Wj(),ZD=wr(),Out=h6(),j6=class extends Dut.AbstractPredicateTransition{constructor(e,t){super(e);this.precedence=t}get serializationType(){return 10}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new Out.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};XD([ZD.Override],j6.prototype,"serializationType",null);XD([ZD.Override],j6.prototype,"isEpsilon",null);XD([ZD.Override],j6.prototype,"matches",null);XD([ZD.Override],j6.prototype,"toString",null);j6=XD([Fut(0,ZD.NotNull)],j6);Ov.PrecedencePredicateTransition=j6});var SEe=Ae(Rv=>{"use strict";m();var eO=Rv&&Rv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Rut=Rv&&Rv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Rv,"__esModule",{value:!0});Rv.RangeTransition=void 0;var Nut=av(),q6=wr(),Lut=Hg(),U6=class extends Lut.Transition{constructor(e,t,r){super(e);this.from=t,this.to=r}get serializationType(){return 2}get label(){return Nut.IntervalSet.of(this.from,this.to)}matches(e,t,r){return e>=this.from&&e<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};eO([q6.Override],U6.prototype,"serializationType",null);eO([q6.Override,q6.NotNull],U6.prototype,"label",null);eO([q6.Override],U6.prototype,"matches",null);eO([q6.Override,q6.NotNull],U6.prototype,"toString",null);U6=eO([Rut(0,q6.NotNull)],U6);Rv.RangeTransition=U6});var wEe=Ae(ew=>{"use strict";m();var kut=ew&&ew.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ew,"__esModule",{value:!0});ew.RuleStartState=void 0;var Iut=V2(),Mut=yf(),Put=wr(),Fre=class extends Iut.ATNState{constructor(){super(...arguments);this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return Mut.ATNStateType.RULE_START}};kut([Put.Override],Fre.prototype,"stateType",null);ew.RuleStartState=Fre});var CEe=Ae(tw=>{"use strict";m();var But=tw&&tw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(tw,"__esModule",{value:!0});tw.StarBlockStartState=void 0;var jut=yf(),qut=WD(),Uut=wr(),Dre=class extends qut.BlockStartState{get stateType(){return jut.ATNStateType.STAR_BLOCK_START}};But([Uut.Override],Dre.prototype,"stateType",null);tw.StarBlockStartState=Dre});var AEe=Ae(nw=>{"use strict";m();var $ut=nw&&nw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(nw,"__esModule",{value:!0});nw.StarLoopbackState=void 0;var zut=V2(),Hut=yf(),Vut=wr(),Ore=class extends zut.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return Hut.ATNStateType.STAR_LOOP_BACK}};$ut([Vut.Override],Ore.prototype,"stateType",null);nw.StarLoopbackState=Ore});var TEe=Ae(rw=>{"use strict";m();var Wut=rw&&rw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(rw,"__esModule",{value:!0});rw.TokensStartState=void 0;var Qut=yf(),Gut=Y5(),Yut=wr(),Rre=class extends Gut.DecisionState{get stateType(){return Qut.ATNStateType.TOKEN_START}};Wut([Yut.Override],Rre.prototype,"stateType",null);rw.TokensStartState=Rre});var FEe=Ae(Yq=>{"use strict";m();Object.defineProperty(Yq,"__esModule",{value:!0});Yq.UUID=void 0;var Kut=Il(),tO=class{constructor(e,t,r,i){this.data=new Uint32Array(4),this.data[0]=e,this.data[1]=t,this.data[2]=r,this.data[3]=i}static fromString(e){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(e))throw new Error("Incorrectly formatted UUID");let t=e.split("-"),r=parseInt(t[0],16),i=(parseInt(t[1],16)<<16>>>0)+parseInt(t[2],16),s=(parseInt(t[3],16)<<16>>>0)+parseInt(t[4].substr(0,4),16),o=parseInt(t[4].substr(-8),16);return new tO(r,i,s,o)}hashCode(){return Kut.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(e){return e===this?!0:e instanceof tO?this.data[0]===e.data[0]&&this.data[1]===e.data[1]&&this.data[2]===e.data[2]&&this.data[3]===e.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};Yq.UUID=tO});var sO=Ae(Lv=>{"use strict";m();var Kq=Lv&&Lv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Nre=Lv&&Lv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.ATNDeserializer=void 0;var Lre=rre(),Jut=Vg(),Xut=wm(),Zut=nre(),Yf=yf(),iw=ire(),DEe=Vbe(),Jq=Une(),OEe=Qg(),Xq=Wbe(),kre=WD(),elt=Y5(),REe=jne(),fy=Qbe(),Ire=av(),NEe=zne(),tlt=Gbe(),LEe=Ybe(),nlt=Kbe(),rlt=Jbe(),ilt=Xbe(),slt=Zbe(),olt=eEe(),alt=tEe(),sw=fre(),nO=wr(),Mre=Aq(),Pre=JS(),Bre=_Ee(),kEe=bEe(),ult=EEe(),llt=dne(),rO=SEe(),IEe=wEe(),Nv=xS(),iO=Fq(),Zq=wq(),jre=CEe(),qre=AEe(),ow=bq(),Ure=ou(),clt=TEe(),eU=FEe(),flt=Hne(),MEe;(function(n){n[n.UNICODE_BMP=0]="UNICODE_BMP",n[n.UNICODE_SMP=1]="UNICODE_SMP"})(MEe||(MEe={}));var Si=class{constructor(e){e===void 0&&(e=Zut.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=e}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(e,t){let r=Si.SUPPORTED_UUIDS.findIndex(i=>i.equals(e));return r<0?!1:Si.SUPPORTED_UUIDS.findIndex(i=>i.equals(t))>=r}static getUnicodeDeserializer(e){return e===0?{readUnicode:(t,r)=>Si.toInt(t[r]),size:1}:{readUnicode:(t,r)=>Si.toInt32(t,r),size:2}}deserialize(e){e=e.slice(0);for(let I=1;I<e.length;I++)e[I]=e[I]-2&65535;let t=0,r=Si.toInt(e[t++]);if(r!==Si.SERIALIZED_VERSION){let I=`Could not deserialize ATN with version ${r} (expected ${Si.SERIALIZED_VERSION}).`;throw new Error(I)}let i=Si.toUUID(e,t);if(t+=8,Si.SUPPORTED_UUIDS.findIndex(I=>I.equals(i))<0){let I=`Could not deserialize ATN with UUID ${i} (expected ${Si.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(I)}let s=Si.isFeatureSupported(Si.ADDED_LEXER_ACTIONS,i),o=Si.toInt(e[t++]),a=Si.toInt(e[t++]),l=new Xut.ATN(o,a),f=[],p=[],_=Si.toInt(e[t++]);for(let I=0;I<_;I++){let J=Si.toInt(e[t++]);if(J===Yf.ATNStateType.INVALID_TYPE){l.addState(new NEe.InvalidState);continue}let he=Si.toInt(e[t++]);he===65535&&(he=-1);let ve=this.stateFactory(J,he);if(J===Yf.ATNStateType.LOOP_END){let Ve=Si.toInt(e[t++]);f.push([ve,Ve])}else if(ve instanceof kre.BlockStartState){let Ve=Si.toInt(e[t++]);p.push([ve,Ve])}l.addState(ve)}for(let I of f)I[0].loopBackState=l.states[I[1]];for(let I of p)I[0].endState=l.states[I[1]];let E=Si.toInt(e[t++]);for(let I=0;I<E;I++){let J=Si.toInt(e[t++]);l.states[J].nonGreedy=!0}let O=Si.toInt(e[t++]);for(let I=0;I<O;I++){let J=Si.toInt(e[t++]);l.states[J].sll=!0}let R=Si.toInt(e[t++]);for(let I=0;I<R;I++){let J=Si.toInt(e[t++]);l.states[J].isPrecedenceRule=!0}let q=Si.toInt(e[t++]);l.grammarType===0&&(l.ruleToTokenType=new Int32Array(q)),l.ruleToStartState=new Array(q);for(let I=0;I<q;I++){let J=Si.toInt(e[t++]),he=l.states[J];if(he.leftFactored=Si.toInt(e[t++])!==0,l.ruleToStartState[I]=he,l.grammarType===0){let ve=Si.toInt(e[t++]);if(ve===65535&&(ve=Ure.Token.EOF),l.ruleToTokenType[I]=ve,!Si.isFeatureSupported(Si.ADDED_LEXER_ACTIONS,i)){let Ve=Si.toInt(e[t++]);Ve===65535&&(Ve=-1)}}}l.ruleToStopState=new Array(q);for(let I of l.states)I instanceof Nv.RuleStopState&&(l.ruleToStopState[I.ruleIndex]=I,l.ruleToStartState[I.ruleIndex].stopState=I);let z=Si.toInt(e[t++]);for(let I=0;I<z;I++){let J=Si.toInt(e[t++]);l.modeToStartState.push(l.states[J])}l.modeToDFA=new Array(z);for(let I=0;I<z;I++)l.modeToDFA[I]=new REe.DFA(l.modeToStartState[I]);let L=[];t=this.deserializeSets(e,t,L,Si.getUnicodeDeserializer(0)),Si.isFeatureSupported(Si.ADDED_UNICODE_SMP,i)&&(t=this.deserializeSets(e,t,L,Si.getUnicodeDeserializer(1)));let B=Si.toInt(e[t++]);for(let I=0;I<B;I++){let J=Si.toInt(e[t]),he=Si.toInt(e[t+1]),ve=Si.toInt(e[t+2]),Ve=Si.toInt(e[t+3]),ot=Si.toInt(e[t+4]),lt=Si.toInt(e[t+5]),et=this.edgeFactory(l,ve,J,he,Ve,ot,lt,L);l.states[J].addTransition(et),t+=6}let P=new Jut.Array2DHashSet({hashCode:I=>I.stopState^I.returnState^I.outermostPrecedenceReturn,equals:(I,J)=>I.stopState===J.stopState&&I.returnState===J.returnState&&I.outermostPrecedenceReturn===J.outermostPrecedenceReturn}),G=[];for(let I of l.states){let J=I.ruleIndex>=0&&l.ruleToStartState[I.ruleIndex].leftFactored;for(let he=0;he<I.numberOfTransitions;he++){let ve=I.transition(he);if(!(ve instanceof iO.RuleTransition))continue;let Ve=ve;if(!l.ruleToStartState[Ve.target.ruleIndex].leftFactored&&J)continue;let lt=-1;l.ruleToStartState[Ve.target.ruleIndex].isPrecedenceRule&&Ve.precedence===0&&(lt=Ve.target.ruleIndex);let et={stopState:Ve.target.ruleIndex,returnState:Ve.followState.stateNumber,outermostPrecedenceReturn:lt};P.add(et)&&G.push(et)}}for(let I of G){let J=new fy.EpsilonTransition(l.states[I.returnState],I.outermostPrecedenceReturn);l.ruleToStopState[I.stopState].addTransition(J)}for(let I of l.states){if(I instanceof kre.BlockStartState){if(I.endState===void 0)throw new Error("IllegalStateException");if(I.endState.startState!==void 0)throw new Error("IllegalStateException");I.endState.startState=I}if(I instanceof kEe.PlusLoopbackState){let J=I;for(let he=0;he<J.numberOfTransitions;he++){let ve=J.transition(he).target;ve instanceof Bre.PlusBlockStartState&&(ve.loopBackState=J)}}else if(I instanceof qre.StarLoopbackState){let J=I;for(let he=0;he<J.numberOfTransitions;he++){let ve=J.transition(he).target;ve instanceof ow.StarLoopEntryState&&(ve.loopBackState=J)}}}let ue=Si.toInt(e[t++]);for(let I=1;I<=ue;I++){let J=Si.toInt(e[t++]),he=l.states[J];l.decisionToState.push(he),he.decision=I-1}if(l.grammarType===0)if(s){l.lexerActions=new Array(Si.toInt(e[t++]));for(let I=0;I<l.lexerActions.length;I++){let J=Si.toInt(e[t++]),he=Si.toInt(e[t++]);he===65535&&(he=-1);let ve=Si.toInt(e[t++]);ve===65535&&(ve=-1);let Ve=this.lexerActionFactory(J,he,ve);l.lexerActions[I]=Ve}}else{let I=[];for(let J of l.states)for(let he=0;he<J.numberOfTransitions;he++){let ve=J.transition(he);if(!(ve instanceof Lre.ActionTransition))continue;let Ve=ve.ruleIndex,ot=ve.actionIndex,lt=new LEe.LexerCustomAction(Ve,ot);J.setTransition(he,new Lre.ActionTransition(ve.target,Ve,I.length,!1)),I.push(lt)}l.lexerActions=I}this.markPrecedenceDecisions(l),l.decisionToDFA=new Array(ue);for(let I=0;I<ue;I++)l.decisionToDFA[I]=new REe.DFA(l.decisionToState[I],I);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(l),this.deserializationOptions.isGenerateRuleBypassTransitions&&l.grammarType===1){l.ruleToTokenType=new Int32Array(l.ruleToStartState.length);for(let I=0;I<l.ruleToStartState.length;I++)l.ruleToTokenType[I]=l.maxTokenType+I+1;for(let I=0;I<l.ruleToStartState.length;I++){let J=new DEe.BasicBlockStartState;J.ruleIndex=I,l.addState(J);let he=new Xq.BlockEndState;he.ruleIndex=I,l.addState(he),J.endState=he,l.defineDecisionState(J),he.startState=J;let ve,Ve;if(l.ruleToStartState[I].isPrecedenceRule){ve=void 0;for(let lt of l.states){if(lt.ruleIndex!==I||!(lt instanceof ow.StarLoopEntryState))continue;let et=lt.transition(lt.numberOfTransitions-1).target;if(et instanceof sw.LoopEndState&&et.epsilonOnlyTransitions&&et.transition(0).target instanceof Nv.RuleStopState){ve=lt;break}}if(!ve)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Ve=ve.loopBackState.transition(0)}else ve=l.ruleToStopState[I];for(let lt of l.states)for(let et=0;et<lt.numberOfTransitions;et++){let bt=lt.transition(et);bt!==Ve&&bt.target===ve&&(bt.target=he)}for(;l.ruleToStartState[I].numberOfTransitions>0;){let lt=l.ruleToStartState[I].removeTransition(l.ruleToStartState[I].numberOfTransitions-1);J.addTransition(lt)}l.ruleToStartState[I].addTransition(new fy.EpsilonTransition(J)),he.addTransition(new fy.EpsilonTransition(ve));let ot=new Jq.BasicState;l.addState(ot),ot.addTransition(new iw.AtomTransition(he,l.ruleToTokenType[I])),J.addTransition(new fy.EpsilonTransition(ot))}this.deserializationOptions.isVerifyATN&&this.verifyATN(l)}if(this.deserializationOptions.isOptimize){for(;;){let I=0;I+=Si.inlineSetRules(l),I+=Si.combineChainedEpsilons(l);let J=l.grammarType===0;if(I+=Si.optimizeSets(l,J),I===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(l)}return Si.identifyTailCalls(l),l}deserializeSets(e,t,r,i){let s=Si.toInt(e[t++]);for(let o=0;o<s;o++){let a=Si.toInt(e[t]);t++;let l=new Ire.IntervalSet;r.push(l),Si.toInt(e[t++])!==0&&l.add(-1);for(let p=0;p<a;p++){let _=i.readUnicode(e,t);t+=i.size;let E=i.readUnicode(e,t);t+=i.size,l.add(_,E)}}return t}markPrecedenceDecisions(e){let t=new Map;for(let r of e.states)if(r instanceof ow.StarLoopEntryState&&e.ruleToStartState[r.ruleIndex].isPrecedenceRule){let i=r.transition(r.numberOfTransitions-1).target;i instanceof sw.LoopEndState&&i.epsilonOnlyTransitions&&i.transition(0).target instanceof Nv.RuleStopState&&(t.set(r.ruleIndex,r),r.precedenceRuleDecision=!0,r.precedenceLoopbackStates=new OEe.BitSet(e.states.length))}for(let r of t)for(let i of e.ruleToStopState[r[0]].getTransitions())i.serializationType!==1||i.outermostPrecedenceReturn!==-1||r[1].precedenceLoopbackStates.set(i.target.stateNumber)}verifyATN(e){for(let t of e.states)if(this.checkCondition(t!==void 0,"ATN states should not be undefined."),t.stateType!==Yf.ATNStateType.INVALID_TYPE){if(this.checkCondition(t.onlyHasEpsilonTransitions||t.numberOfTransitions<=1),t instanceof Bre.PlusBlockStartState&&this.checkCondition(t.loopBackState!==void 0),t instanceof ow.StarLoopEntryState){let r=t;if(this.checkCondition(r.loopBackState!==void 0),this.checkCondition(r.numberOfTransitions===2),r.transition(0).target instanceof jre.StarBlockStartState)this.checkCondition(r.transition(1).target instanceof sw.LoopEndState),this.checkCondition(!r.nonGreedy);else if(r.transition(0).target instanceof sw.LoopEndState)this.checkCondition(r.transition(1).target instanceof jre.StarBlockStartState),this.checkCondition(r.nonGreedy);else throw new Error("IllegalStateException")}if(t instanceof qre.StarLoopbackState&&(this.checkCondition(t.numberOfTransitions===1),this.checkCondition(t.transition(0).target instanceof ow.StarLoopEntryState)),t instanceof sw.LoopEndState&&this.checkCondition(t.loopBackState!==void 0),t instanceof IEe.RuleStartState&&this.checkCondition(t.stopState!==void 0),t instanceof kre.BlockStartState&&this.checkCondition(t.endState!==void 0),t instanceof Xq.BlockEndState&&this.checkCondition(t.startState!==void 0),t instanceof elt.DecisionState){let r=t;this.checkCondition(r.numberOfTransitions<=1||r.decision>=0)}else this.checkCondition(t.numberOfTransitions<=1||t instanceof Nv.RuleStopState)}}checkCondition(e,t){if(!e)throw new Error("IllegalStateException: "+t)}static inlineSetRules(e){let t=0,r=new Array(e.ruleToStartState.length);for(let i=0;i<e.ruleToStartState.length;i++){let o=e.ruleToStartState[i];for(;o.onlyHasEpsilonTransitions&&o.numberOfOptimizedTransitions===1&&o.getOptimizedTransition(0).serializationType===1;)o=o.getOptimizedTransition(0).target;if(o.numberOfOptimizedTransitions!==1)continue;let a=o.getOptimizedTransition(0),l=a.target;if(!(a.isEpsilon||!l.onlyHasEpsilonTransitions||l.numberOfOptimizedTransitions!==1||!(l.getOptimizedTransition(0).target instanceof Nv.RuleStopState)))switch(a.serializationType){case 5:case 2:case 7:r[i]=a;break;case 8:case 9:continue;default:continue}}for(let i of e.states){if(i.ruleIndex<0)continue;let s;for(let o=0;o<i.numberOfOptimizedTransitions;o++){let a=i.getOptimizedTransition(o);if(!(a instanceof iO.RuleTransition)){s!==void 0&&s.push(a);continue}let l=a,f=r[l.target.ruleIndex];if(f===void 0){s!==void 0&&s.push(a);continue}if(s===void 0){s=[];for(let E=0;E<o;E++)s.push(i.getOptimizedTransition(o))}t++;let p=l.followState,_=new Jq.BasicState;switch(_.setRuleIndex(p.ruleIndex),e.addState(_),s.push(new fy.EpsilonTransition(_)),f.serializationType){case 5:_.addTransition(new iw.AtomTransition(p,f._label));break;case 2:_.addTransition(new rO.RangeTransition(p,f.from,f.to));break;case 7:_.addTransition(new Zq.SetTransition(p,f.label));break;default:throw new Error("UnsupportedOperationException")}}if(s!==void 0){if(i.isOptimized)for(;i.numberOfOptimizedTransitions>0;)i.removeOptimizedTransition(i.numberOfOptimizedTransitions-1);for(let o of s)i.addOptimizedTransition(o)}}return Pre.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" rule invocations by inlining sets."),t}static combineChainedEpsilons(e){let t=0;for(let r of e.states){if(!r.onlyHasEpsilonTransitions||r instanceof Nv.RuleStopState)continue;let i;e:for(let s=0;s<r.numberOfOptimizedTransitions;s++){let o=r.getOptimizedTransition(s),a=o.target;if(o.serializationType!==1||o.outermostPrecedenceReturn!==-1||a.stateType!==Yf.ATNStateType.BASIC||!a.onlyHasEpsilonTransitions){i!==void 0&&i.push(o);continue e}for(let l=0;l<a.numberOfOptimizedTransitions;l++)if(a.getOptimizedTransition(l).serializationType!==1||a.getOptimizedTransition(l).outermostPrecedenceReturn!==-1){i!==void 0&&i.push(o);continue e}if(t++,i===void 0){i=[];for(let l=0;l<s;l++)i.push(r.getOptimizedTransition(l))}for(let l=0;l<a.numberOfOptimizedTransitions;l++){let f=a.getOptimizedTransition(l).target;i.push(new fy.EpsilonTransition(f))}}if(i!==void 0){if(r.isOptimized)for(;r.numberOfOptimizedTransitions>0;)r.removeOptimizedTransition(r.numberOfOptimizedTransitions-1);for(let s of i)r.addOptimizedTransition(s)}}return Pre.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" transitions by combining chained epsilon transitions."),t}static optimizeSets(e,t){if(t)return 0;let r=0,i=e.decisionToState;for(let s of i){let o=new Ire.IntervalSet;for(let E=0;E<s.numberOfOptimizedTransitions;E++){let O=s.getOptimizedTransition(E);if(!(O instanceof fy.EpsilonTransition)||O.target.numberOfOptimizedTransitions!==1)continue;let R=O.target.getOptimizedTransition(0);R.target instanceof Xq.BlockEndState&&(R instanceof Mre.NotSetTransition||(R instanceof iw.AtomTransition||R instanceof rO.RangeTransition||R instanceof Zq.SetTransition)&&o.add(E))}if(o.size<=1)continue;let a=[];for(let E=0;E<s.numberOfOptimizedTransitions;E++)o.contains(E)||a.push(s.getOptimizedTransition(E));let l=s.getOptimizedTransition(o.minElement).target.getOptimizedTransition(0).target,f=new Ire.IntervalSet;for(let E of o.intervals)for(let O=E.a;O<=E.b;O++){let R=s.getOptimizedTransition(O).target.getOptimizedTransition(0);if(R instanceof Mre.NotSetTransition)throw new Error("Not yet implemented.");f.addAll(R.label)}let p;if(f.intervals.length===1)if(f.size===1)p=new iw.AtomTransition(l,f.minElement);else{let E=f.intervals[0];p=new rO.RangeTransition(l,E.a,E.b)}else p=new Zq.SetTransition(l,f);let _=new Jq.BasicState;if(_.setRuleIndex(s.ruleIndex),e.addState(_),_.addTransition(p),a.push(new fy.EpsilonTransition(_)),r+=s.numberOfOptimizedTransitions-a.length,s.isOptimized)for(;s.numberOfOptimizedTransitions>0;)s.removeOptimizedTransition(s.numberOfOptimizedTransitions-1);for(let E of a)s.addOptimizedTransition(E)}return Pre.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+r+" paths by collapsing sets."),r}static identifyTailCalls(e){for(let t of e.states){for(let r=0;r<t.numberOfTransitions;r++){let i=t.transition(r);i instanceof iO.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}if(!!t.isOptimized)for(let r=0;r<t.numberOfOptimizedTransitions;r++){let i=t.getOptimizedTransition(r);i instanceof iO.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}}}static testTailCall(e,t,r){if(!r&&t.tailCall||r&&t.optimizedTailCall)return!0;let i=new OEe.BitSet(e.states.length),s=[];for(s.push(t.followState);;){let o=s.pop();if(!o)break;if(i.get(o.stateNumber)||o instanceof Nv.RuleStopState)continue;if(!o.onlyHasEpsilonTransitions)return!1;let a=r?o.numberOfOptimizedTransitions:o.numberOfTransitions;for(let l=0;l<a;l++){let f=r?o.getOptimizedTransition(l):o.transition(l);if(f.serializationType!==1)return!1;s.push(f.target)}}return!0}static toInt(e){return e}static toInt32(e,t){return(e[t]|e[t+1]<<16)>>>0}static toUUID(e,t){let r=Si.toInt32(e,t),i=Si.toInt32(e,t+2),s=Si.toInt32(e,t+4),o=Si.toInt32(e,t+6);return new eU.UUID(o,s,i,r)}edgeFactory(e,t,r,i,s,o,a,l){let f=e.states[i];switch(t){case 1:return new fy.EpsilonTransition(f);case 2:return a!==0?new rO.RangeTransition(f,Ure.Token.EOF,o):new rO.RangeTransition(f,s,o);case 3:return new iO.RuleTransition(e.states[s],o,a,f);case 4:return new llt.PredicateTransition(f,s,o,a!==0);case 10:return new ult.PrecedencePredicateTransition(f,s);case 5:return a!==0?new iw.AtomTransition(f,Ure.Token.EOF):new iw.AtomTransition(f,s);case 6:return new Lre.ActionTransition(f,s,o,a!==0);case 7:return new Zq.SetTransition(f,l[s]);case 8:return new Mre.NotSetTransition(f,l[s]);case 9:return new flt.WildcardTransition(f)}throw new Error("The specified transition type is not valid.")}stateFactory(e,t){let r;switch(e){case Yf.ATNStateType.INVALID_TYPE:return new NEe.InvalidState;case Yf.ATNStateType.BASIC:r=new Jq.BasicState;break;case Yf.ATNStateType.RULE_START:r=new IEe.RuleStartState;break;case Yf.ATNStateType.BLOCK_START:r=new DEe.BasicBlockStartState;break;case Yf.ATNStateType.PLUS_BLOCK_START:r=new Bre.PlusBlockStartState;break;case Yf.ATNStateType.STAR_BLOCK_START:r=new jre.StarBlockStartState;break;case Yf.ATNStateType.TOKEN_START:r=new clt.TokensStartState;break;case Yf.ATNStateType.RULE_STOP:r=new Nv.RuleStopState;break;case Yf.ATNStateType.BLOCK_END:r=new Xq.BlockEndState;break;case Yf.ATNStateType.STAR_LOOP_BACK:r=new qre.StarLoopbackState;break;case Yf.ATNStateType.STAR_LOOP_ENTRY:r=new ow.StarLoopEntryState;break;case Yf.ATNStateType.PLUS_LOOP_BACK:r=new kEe.PlusLoopbackState;break;case Yf.ATNStateType.LOOP_END:r=new sw.LoopEndState;break;default:let i=`The specified state type ${e} is not valid.`;throw new Error(i)}return r.ruleIndex=t,r}lexerActionFactory(e,t,r){switch(e){case 0:return new tlt.LexerChannelAction(t);case 1:return new LEe.LexerCustomAction(t,r);case 2:return new nlt.LexerModeAction(t);case 3:return rlt.LexerMoreAction.INSTANCE;case 4:return ilt.LexerPopModeAction.INSTANCE;case 5:return new slt.LexerPushModeAction(t);case 6:return olt.LexerSkipAction.INSTANCE;case 7:return new alt.LexerTypeAction(t);default:let i=`The specified lexer action type ${e} is not valid.`;throw new Error(i)}}};Si.BASE_SERIALIZED_UUID=eU.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3");Si.ADDED_LEXER_ACTIONS=eU.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D");Si.ADDED_UNICODE_SMP=eU.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B");Si.SUPPORTED_UUIDS=[Si.BASE_SERIALIZED_UUID,Si.ADDED_LEXER_ACTIONS,Si.ADDED_UNICODE_SMP];Si.SERIALIZED_UUID=Si.ADDED_UNICODE_SMP;Kq([nO.NotNull],Si.prototype,"deserializationOptions",void 0);Kq([Nre(0,nO.NotNull)],Si.prototype,"deserialize",null);Kq([Nre(0,nO.NotNull)],Si.prototype,"markPrecedenceDecisions",null);Kq([nO.NotNull,Nre(0,nO.NotNull)],Si.prototype,"edgeFactory",null);Lv.ATNDeserializer=Si});var PEe=Ae(kv=>{"use strict";m();var $re=kv&&kv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},dlt=kv&&kv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(kv,"__esModule",{value:!0});kv.ParseInfo=void 0;var zre=wr(),oO=class{constructor(e){this.atnSimulator=e}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let e=this.atnSimulator.getDecisionInfo(),t=[];for(let r=0;r<e.length;r++)e[r].LL_Fallback>0&&t.push(r);return t}getTotalTimeInPrediction(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.timeInPrediction;return t}getTotalSLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_TotalLook;return t}getTotalLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_TotalLook;return t}getTotalSLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions;return t}getTotalLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_ATNTransitions;return t}getTotalATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions,t+=r.LL_ATNTransitions;return t}getDFASize(e){if(e)return this.atnSimulator.atn.decisionToDFA[e].states.size;{let t=0,r=this.atnSimulator.atn.decisionToDFA;for(let i=0;i<r.length;i++)t+=this.getDFASize(i);return t}}};$re([zre.NotNull],oO.prototype,"getDecisionInfo",null);$re([zre.NotNull],oO.prototype,"getLLDecisions",null);oO=$re([dlt(0,zre.NotNull)],oO);kv.ParseInfo=oO});var Wre=Ae(aw=>{"use strict";m();var Hre=aw&&aw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(aw,"__esModule",{value:!0});aw.ProxyParserErrorListener=void 0;var hlt=yq(),Vre=wr(),aO=class extends hlt.ProxyErrorListener{constructor(e){super(e)}reportAmbiguity(e,t,r,i,s,o,a){this.getDelegates().forEach(l=>{l.reportAmbiguity&&l.reportAmbiguity(e,t,r,i,s,o,a)})}reportAttemptingFullContext(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportAttemptingFullContext&&a.reportAttemptingFullContext(e,t,r,i,s,o)})}reportContextSensitivity(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportContextSensitivity&&a.reportContextSensitivity(e,t,r,i,s,o)})}};Hre([Vre.Override],aO.prototype,"reportAmbiguity",null);Hre([Vre.Override],aO.prototype,"reportAttemptingFullContext",null);Hre([Vre.Override],aO.prototype,"reportContextSensitivity",null);aw.ProxyParserErrorListener=aO});var BEe=Ae(Iv=>{"use strict";m();Object.defineProperty(Iv,"__esModule",{value:!0});Iv.isSupplementaryCodePoint=Iv.isLowSurrogate=Iv.isHighSurrogate=void 0;function plt(n){return n>=55296&&n<=56319}Iv.isHighSurrogate=plt;function mlt(n){return n>=56320&&n<=57343}Iv.isLowSurrogate=mlt;function xlt(n){return n>=65536}Iv.isSupplementaryCodePoint=xlt});var Qre=Ae(lw=>{"use strict";m();Object.defineProperty(lw,"__esModule",{value:!0});lw.CodePointBuffer=void 0;var jEe=L0(),uO=BEe(),uw=class{constructor(e,t){this.buffer=e,this._position=0,this._size=t}static withArray(e){return new uw(e,e.length)}get position(){return this._position}set position(e){if(e<0||e>this._size)throw new RangeError;this._position=e}get remaining(){return this._size-this.position}get(e){return this.buffer[e]}array(){return this.buffer.slice(0,this._size)}static builder(e){return new uw.Builder(e)}};lw.CodePointBuffer=uw;(function(n){let e;(function(r){r[r.BYTE=0]="BYTE",r[r.CHAR=1]="CHAR",r[r.INT=2]="INT"})(e||(e={}));class t{constructor(i){this.type=0,this.buffer=new Uint8Array(i),this.prevHighSurrogate=-1,this.position=0}build(){return new n(this.buffer,this.position)}static roundUpToNextPowerOfTwo(i){let s=32-Math.clz32(i-1);return Math.pow(2,s)}ensureRemaining(i){switch(this.type){case 0:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint8Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 1:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint16Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 2:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Int32Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break}}append(i){this.ensureRemaining(i.length),this.appendArray(i)}appendArray(i){switch(this.type){case 0:this.appendArrayByte(i);break;case 1:this.appendArrayChar(i);break;case 2:this.appendArrayInt(i);break}}appendArrayByte(i){jEe(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];if(p<=255)l[f]=p;else if(i=i.subarray(o,a),this.position=f,uO.isHighSurrogate(p)){this.byteToIntBuffer(i.length),this.appendArrayInt(i);return}else{this.byteToCharBuffer(i.length),this.appendArrayChar(i);return}o++,f++}this.position=f}appendArrayChar(i){jEe(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];if(!uO.isHighSurrogate(p))l[f]=p;else{i=i.subarray(o,a),this.position=f,this.charToIntBuffer(i.length),this.appendArrayInt(i);return}o++,f++}this.position=f}appendArrayInt(i){let s=i,o=0,a=i.length,l=this.buffer,f=this.position;for(;o<a;){let p=s[o];o++,this.prevHighSurrogate!==-1?uO.isLowSurrogate(p)?(l[f]=String.fromCharCode(this.prevHighSurrogate,p).codePointAt(0),f++,this.prevHighSurrogate=-1):(l[f]=this.prevHighSurrogate,f++,uO.isHighSurrogate(p)?this.prevHighSurrogate=p:(l[f]=p,f++,this.prevHighSurrogate=-1)):uO.isHighSurrogate(p)?this.prevHighSurrogate=p:(l[f]=p,f++)}this.prevHighSurrogate!==-1&&(l[f]=this.prevHighSurrogate,f++),this.position=f}byteToCharBuffer(i){let s=new Uint16Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=s}byteToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>2));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}charToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}}n.Builder=t})(uw=lw.CodePointBuffer||(lw.CodePointBuffer={}))});var Gre=Ae(cw=>{"use strict";m();var hx=cw&&cw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(cw,"__esModule",{value:!0});cw.CodePointCharStream=void 0;var qEe=L0(),tU=Ug(),glt=M0(),px=wr(),gh=class{constructor(e,t,r,i){qEe(t===0),this._array=e,this._size=r,this._name=i,this._position=0}get internalStorage(){return this._array}static fromBuffer(e,t){return(t===void 0||t.length===0)&&(t=tU.IntStream.UNKNOWN_SOURCE_NAME),new gh(e.array(),e.position,e.remaining,t)}consume(){if(this._size-this._position===0)throw qEe(this.LA(1)===tU.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(e){}seek(e){this._position=e}get sourceName(){return this._name}toString(){return this.getText(glt.Interval.of(0,this.size-1))}LA(e){let t;switch(Math.sign(e)){case-1:return t=this.index+e,t<0?tU.IntStream.EOF:this._array[t];case 0:return 0;case 1:return t=this.index+e-1,t>=this.size?tU.IntStream.EOF:this._array[t]}throw new RangeError("Not reached")}getText(e){let t=Math.min(e.a,this.size),r=Math.min(e.b-e.a+1,this.size-t);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(t,t+r))):String.fromCharCode(...Array.from(this._array.subarray(t,t+r)))}};hx([px.Override],gh.prototype,"consume",null);hx([px.Override],gh.prototype,"index",null);hx([px.Override],gh.prototype,"size",null);hx([px.Override],gh.prototype,"mark",null);hx([px.Override],gh.prototype,"release",null);hx([px.Override],gh.prototype,"seek",null);hx([px.Override],gh.prototype,"sourceName",null);hx([px.Override],gh.prototype,"toString",null);hx([px.Override],gh.prototype,"LA",null);hx([px.Override],gh.prototype,"getText",null);cw.CodePointCharStream=gh});var nU=Ae(lO=>{"use strict";m();Object.defineProperty(lO,"__esModule",{value:!0});lO.CharStreams=void 0;var ylt=Qre(),vlt=Gre(),_lt=Ug(),blt;(function(n){function e(t,r){(r===void 0||r.length===0)&&(r=_lt.IntStream.UNKNOWN_SOURCE_NAME);let i=ylt.CodePointBuffer.builder(t.length),s=new Uint16Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return i.append(s),vlt.CodePointCharStream.fromBuffer(i.build(),r)}n.fromString=e})(blt=lO.CharStreams||(lO.CharStreams={}))});var Jre=Ae(Mv=>{"use strict";m();var Sd=Mv&&Mv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Elt=Mv&&Mv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.BufferedTokenStream=void 0;var UEe=L0(),$Ee=eS(),Yre=M0(),Kre=ty(),_f=wr(),$6=ou(),Kf=class{constructor(e){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,e==null)throw new Error("tokenSource cannot be null");this._tokenSource=e}get tokenSource(){return this._tokenSource}set tokenSource(e){this._tokenSource=e,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(e){}seek(e){this.lazyInit(),this.p=this.adjustSeekIndex(e)}get size(){return this.tokens.length}consume(){let e;if(this.p>=0?this.fetchedEOF?e=this.p<this.tokens.length-1:e=this.p<this.tokens.length:e=!1,!e&&this.LA(1)===$6.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(e){UEe(e>=0);let t=e-this.tokens.length+1;return t>0?this.fetch(t)>=t:!0}fetch(e){if(this.fetchedEOF)return 0;for(let t=0;t<e;t++){let r=this.tokenSource.nextToken();if(this.isWritableToken(r)&&(r.tokenIndex=this.tokens.length),this.tokens.push(r),r.type===$6.Token.EOF)return this.fetchedEOF=!0,t+1}return e}get(e){if(e<0||e>=this.tokens.length)throw new RangeError("token index "+e+" out of range 0.."+(this.tokens.length-1));return this.tokens[e]}getRange(e,t){if(e<0||t<0)return[];this.lazyInit();let r=new Array;t>=this.tokens.length&&(t=this.tokens.length-1);for(let i=e;i<=t;i++){let s=this.tokens[i];if(s.type===$6.Token.EOF)break;r.push(s)}return r}LA(e){let t=this.LT(e);return t?t.type:$6.Token.INVALID_TYPE}tryLB(e){if(!(this.p-e<0))return this.tokens[this.p-e]}LT(e){let t=this.tryLT(e);if(t===void 0)throw new RangeError("requested lookback index out of range");return t}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p+e-1;return this.sync(t),t>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[t]}adjustSeekIndex(e){return e}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(e,t,r){if(this.lazyInit(),e===void 0)return UEe(t===void 0&&r===void 0),this.tokens;if(t===void 0&&(t=this.tokens.length-1),e<0||t>=this.tokens.length||t<0||e>=this.tokens.length)throw new RangeError("start "+e+" or stop "+t+" not in 0.."+(this.tokens.length-1));if(e>t)return[];if(r===void 0)return this.tokens.slice(e,t+1);typeof r=="number"&&(r=new Set().add(r));let i=r,s=this.tokens.slice(e,t+1);return s=s.filter(o=>i.has(o.type)),s}nextTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;let r=this.tokens[e];for(;r.channel!==t;){if(r.type===$6.Token.EOF)return e;e++,this.sync(e),r=this.tokens[e]}return e}previousTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;for(;e>=0;){let r=this.tokens[e];if(r.type===$6.Token.EOF||r.channel===t)return e;e--}return e}getHiddenTokensToRight(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));let r=this.nextTokenOnChannel(e+1,Kre.Lexer.DEFAULT_TOKEN_CHANNEL),i,s=e+1;return r===-1?i=this.size-1:i=r,this.filterForChannel(s,i,t)}getHiddenTokensToLeft(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));if(e===0)return[];let r=this.previousTokenOnChannel(e-1,Kre.Lexer.DEFAULT_TOKEN_CHANNEL);if(r===e-1)return[];let i=r+1,s=e-1;return this.filterForChannel(i,s,t)}filterForChannel(e,t,r){let i=new Array;for(let s=e;s<=t;s++){let o=this.tokens[s];r===-1?o.channel!==Kre.Lexer.DEFAULT_TOKEN_CHANNEL&&i.push(o):o.channel===r&&i.push(o)}return i}get sourceName(){return this.tokenSource.sourceName}getText(e){e===void 0?e=Yre.Interval.of(0,this.size-1):e instanceof Yre.Interval||(e=e.sourceInterval);let t=e.a,r=e.b;if(t<0||r<0)return"";this.fill(),r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let s=t;s<=r;s++){let o=this.tokens[s];if(o.type===$6.Token.EOF)break;i+=o.text}return i.toString()}getTextFromRange(e,t){return this.isToken(e)&&this.isToken(t)?this.getText(Yre.Interval.of(e.tokenIndex,t.tokenIndex)):""}fill(){this.lazyInit();let e=1e3;for(;;)if(this.fetch(e)<e)return}isWritableToken(e){return e instanceof $Ee.CommonToken}isToken(e){return e instanceof $Ee.CommonToken}};Sd([_f.NotNull],Kf.prototype,"_tokenSource",void 0);Sd([_f.Override],Kf.prototype,"tokenSource",null);Sd([_f.Override],Kf.prototype,"index",null);Sd([_f.Override],Kf.prototype,"mark",null);Sd([_f.Override],Kf.prototype,"release",null);Sd([_f.Override],Kf.prototype,"seek",null);Sd([_f.Override],Kf.prototype,"size",null);Sd([_f.Override],Kf.prototype,"consume",null);Sd([_f.Override],Kf.prototype,"get",null);Sd([_f.Override],Kf.prototype,"LA",null);Sd([_f.NotNull,_f.Override],Kf.prototype,"LT",null);Sd([_f.Override],Kf.prototype,"sourceName",null);Sd([_f.NotNull,_f.Override],Kf.prototype,"getText",null);Sd([_f.NotNull,_f.Override],Kf.prototype,"getTextFromRange",null);Kf=Sd([Elt(0,_f.NotNull)],Kf);Mv.BufferedTokenStream=Kf});var sU=Ae(Pv=>{"use strict";m();var rU=Pv&&Pv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Slt=Pv&&Pv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.CommonTokenStream=void 0;var wlt=Jre(),iU=wr(),zEe=ou(),fw=class extends wlt.BufferedTokenStream{constructor(e,t=zEe.Token.DEFAULT_CHANNEL){super(e);this.channel=t}adjustSeekIndex(e){return this.nextTokenOnChannel(e,this.channel)}tryLB(e){if(this.p-e<0)return;let t=this.p,r=1;for(;r<=e&&t>0;)t=this.previousTokenOnChannel(t-1,this.channel),r++;if(!(t<0))return this.tokens[t]}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p,r=1;for(;r<e;)this.sync(t+1)&&(t=this.nextTokenOnChannel(t+1,this.channel)),r++;return this.tokens[t]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let t of this.tokens)if(t.channel===this.channel&&e++,t.type===zEe.Token.EOF)break;return e}};rU([iU.Override],fw.prototype,"adjustSeekIndex",null);rU([iU.Override],fw.prototype,"tryLB",null);rU([iU.Override],fw.prototype,"tryLT",null);fw=rU([Slt(0,iU.NotNull)],fw);Pv.CommonTokenStream=fw});var Zre=Ae(Bv=>{"use strict";m();var z6=Bv&&Bv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},HEe=Bv&&Bv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.ListTokenSource=void 0;var Clt=nq(),dy=wr(),Xre=ou(),hy=class{constructor(e,t){if(this.i=0,this._factory=Clt.CommonTokenFactory.DEFAULT,e==null)throw new Error("tokens cannot be null");this.tokens=e,this._sourceName=t}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.text;if(t!=null){let r=t.lastIndexOf(`
`);if(r>=0)return t.length-r-1}return e.charPositionInLine+e.stopIndex-e.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let t=-1;if(this.tokens.length>0){let i=this.tokens[this.tokens.length-1].stopIndex;i!==-1&&(t=i+1)}let r=Math.max(-1,t-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},Xre.Token.EOF,"EOF",Xre.Token.DEFAULT_CHANNEL,t,r,this.line,this.charPositionInLine)}return this.eofToken}let e=this.tokens[this.i];return this.i===this.tokens.length-1&&e.type===Xre.Token.EOF&&(this.eofToken=e),this.i++,e}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.line,r=e.text;if(r!=null)for(let i=0;i<r.length;i++)r.charAt(i)===`
`&&t++;return t}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let e=this.inputStream;return e!=null?e.sourceName:"List"}set tokenFactory(e){this._factory=e}get tokenFactory(){return this._factory}};z6([dy.Override],hy.prototype,"charPositionInLine",null);z6([dy.Override],hy.prototype,"nextToken",null);z6([dy.Override],hy.prototype,"line",null);z6([dy.Override],hy.prototype,"inputStream",null);z6([dy.Override],hy.prototype,"sourceName",null);z6([dy.Override,dy.NotNull,HEe(0,dy.NotNull)],hy.prototype,"tokenFactory",null);hy=z6([HEe(0,dy.NotNull)],hy);Bv.ListTokenSource=hy});var WEe=Ae(oU=>{"use strict";m();Object.defineProperty(oU,"__esModule",{value:!0});oU.MultiMap=void 0;var VEe=class extends Map{constructor(){super()}map(e,t){let r=super.get(e);r||(r=[],super.set(e,r)),r.push(t)}getPairs(){let e=[];return this.forEach((t,r)=>{t.forEach(i=>{e.push([r,i])})}),e}};oU.MultiMap=VEe});var eie=Ae(aU=>{"use strict";m();Object.defineProperty(aU,"__esModule",{value:!0});aU.ParseCancellationException=void 0;var QEe=class extends Error{constructor(e){super(e.message);this.cause=e,this.stack=e.stack}getCause(){return this.cause}};aU.ParseCancellationException=QEe});var nie=Ae(dw=>{"use strict";m();var Alt=dw&&dw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(dw,"__esModule",{value:!0});dw.InterpreterRuleContext=void 0;var Tlt=wr(),Flt=d1(),tie=class extends Flt.ParserRuleContext{constructor(e,t,r){r!==void 0?super(t,r):super(),this._ruleIndex=e}get ruleIndex(){return this._ruleIndex}};Alt([Tlt.Override],tie.prototype,"ruleIndex",null);dw.InterpreterRuleContext=tie});var iie=Ae(qv=>{"use strict";m();var jv=qv&&qv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Dlt=qv&&qv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(qv,"__esModule",{value:!0});qv.ParserInterpreter=void 0;var Olt=V2(),Rlt=yf(),Nlt=Qg(),GEe=_D(),Llt=bD(),klt=nie(),Ilt=fre(),YEe=wr(),hw=wr(),Mlt=WS(),KEe=JS(),Plt=zg(),Blt=bq(),cO=ou(),mx=class rie extends Mlt.Parser{constructor(e,t,r,i,s){super(e instanceof rie?e.inputStream:s);if(this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,e instanceof rie){let o=e;this._grammarFileName=o._grammarFileName,this._atn=o._atn,this.pushRecursionContextStates=o.pushRecursionContextStates,this._ruleNames=o._ruleNames,this._vocabulary=o._vocabulary,this.interpreter=new KEe.ParserATNSimulator(this._atn,this)}else{t=t,r=r,i=i,this._grammarFileName=e,this._atn=i,this._ruleNames=r.slice(0),this._vocabulary=t,this.pushRecursionContextStates=new Nlt.BitSet(i.states.length);for(let o of i.states)o instanceof Blt.StarLoopEntryState&&o.precedenceRuleDecision&&this.pushRecursionContextStates.set(o.stateNumber);this.interpreter=new KEe.ParserATNSimulator(i,this)}}reset(e){e===void 0?super.reset():super.reset(e),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(e){let t=this._atn.ruleToStartState[e];for(this._rootContext=this.createInterpreterRuleContext(void 0,Olt.ATNState.INVALID_STATE_NUMBER,e),t.isPrecedenceRule?this.enterRecursionRule(this._rootContext,t.stateNumber,e,0):this.enterRule(this._rootContext,t.stateNumber,e);;){let r=this.atnState;switch(r.stateType){case Rlt.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(t.isPrecedenceRule){let i=this._ctx,s=this._parentContextStack.pop();return this.unrollRecursionContexts(s[0]),i}else return this.exitRule(),this._rootContext;this.visitRuleStopState(r);break;default:try{this.visitState(r)}catch(i){if(i instanceof Plt.RecognitionException)this.state=this._atn.ruleToStopState[r.ruleIndex].stateNumber,this.context.exception=i,this.errorHandler.reportError(this,i),this.recover(i);else throw i}break}}}enterRecursionRule(e,t,r,i){this._parentContextStack.push([this._ctx,e.invokingState]),super.enterRecursionRule(e,t,r,i)}get atnState(){return this._atn.states[this.state]}visitState(e){let t=1;e.numberOfTransitions>1&&(t=this.visitDecisionState(e));let r=e.transition(t-1);switch(r.serializationType){case 1:if(this.pushRecursionContextStates.get(e.stateNumber)&&!(r.target instanceof Ilt.LoopEndState)){let f=this._parentContextStack[this._parentContextStack.length-1],p=this.createInterpreterRuleContext(f[0],f[1],this._ctx.ruleIndex);this.pushNewRecursionContext(p,this._atn.ruleToStartState[e.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(r._label);break;case 2:case 7:case 8:r.matches(this._input.LA(1),cO.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let i=r.target,s=i.ruleIndex,o=this.createInterpreterRuleContext(this._ctx,e.stateNumber,s);i.isPrecedenceRule?this.enterRecursionRule(o,i.stateNumber,s,r.precedence):this.enterRule(o,r.target.stateNumber,s);break;case 4:let a=r;if(!this.sempred(this._ctx,a.ruleIndex,a.predIndex))throw new GEe.FailedPredicateException(this);break;case 6:let l=r;this.action(this._ctx,l.ruleIndex,l.actionIndex);break;case 10:if(!this.precpred(this._ctx,r.precedence)){let f=r.precedence;throw new GEe.FailedPredicateException(this,`precpred(_ctx, ${f})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=r.target.stateNumber}visitDecisionState(e){let t;this.errorHandler.sync(this);let r=e.decision;return r===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(t=this.overrideDecisionAlt,this.overrideDecisionReached=!0):t=this.interpreter.adaptivePredict(this._input,r,this._ctx),t}createInterpreterRuleContext(e,t,r){return new klt.InterpreterRuleContext(r,e,t)}visitRuleStopState(e){if(this._atn.ruleToStartState[e.ruleIndex].isPrecedenceRule){let i=this._parentContextStack.pop();this.unrollRecursionContexts(i[0]),this.state=i[1]}else this.exitRule();let r=this._atn.states[this.state].transition(0);this.state=r.followState.stateNumber}addDecisionOverride(e,t,r){this.overrideDecision=e,this.overrideDecisionInputIndex=t,this.overrideDecisionAlt=r}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(e){let t=this._input.index;if(this.errorHandler.recover(this,e),this._input.index===t){let r=e.getOffendingToken();if(!r)throw new Error("Expected exception to have an offending token");let i=r.tokenSource,s=i!==void 0?i.inputStream:void 0,o={source:i,stream:s};if(e instanceof Llt.InputMismatchException){let a=e.expectedTokens;if(a===void 0)throw new Error("Expected the exception to provide expected tokens");let l=cO.Token.INVALID_TYPE;a.isNil||(l=a.minElement);let f=this.tokenFactory.create(o,l,r.text,cO.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,f))}else{let a=r.tokenSource,l=this.tokenFactory.create(o,cO.Token.INVALID_TYPE,r.text,cO.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,l))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};jv([YEe.NotNull],mx.prototype,"_vocabulary",void 0);jv([hw.Override],mx.prototype,"reset",null);jv([hw.Override],mx.prototype,"atn",null);jv([hw.Override],mx.prototype,"vocabulary",null);jv([hw.Override],mx.prototype,"ruleNames",null);jv([hw.Override],mx.prototype,"grammarFileName",null);jv([hw.Override],mx.prototype,"enterRecursionRule",null);mx=jv([Dlt(1,YEe.NotNull)],mx);qv.ParserInterpreter=mx});var JEe=Ae($v=>{"use strict";m();var pw=$v&&$v.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},uU=$v&&$v.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($v,"__esModule",{value:!0});$v.ParseTreeMatch=void 0;var py=wr(),Uv=class{constructor(e,t,r,i){if(!e)throw new Error("tree cannot be null");if(!t)throw new Error("pattern cannot be null");if(!r)throw new Error("labels cannot be null");this._tree=e,this._pattern=t,this._labels=r,this._mismatchedNode=i}get(e){let t=this._labels.get(e);if(!(!t||t.length===0))return t[t.length-1]}getAll(e){let t=this._labels.get(e);return t||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};pw([py.NotNull,uU(0,py.NotNull)],Uv.prototype,"getAll",null);pw([py.NotNull],Uv.prototype,"labels",null);pw([py.NotNull],Uv.prototype,"pattern",null);pw([py.NotNull],Uv.prototype,"tree",null);pw([py.Override],Uv.prototype,"toString",null);Uv=pw([uU(0,py.NotNull),uU(1,py.NotNull),uU(2,py.NotNull)],Uv);$v.ParseTreeMatch=Uv});var ZEe=Ae(lU=>{"use strict";m();Object.defineProperty(lU,"__esModule",{value:!0});lU.XPathLexer=void 0;var jlt=sO(),qlt=ty(),Ult=$D(),$lt=Jg(),XEe=Sm(),jo=class extends qlt.Lexer{constructor(e){super(e);this._interp=new Ult.LexerATNSimulator(jo._ATN,this)}get vocabulary(){return jo.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return jo.ruleNames}get serializedATN(){return jo._serializedATN}get channelNames(){return jo.channelNames}get modeNames(){return jo.modeNames}action(e,t,r){switch(t){case 4:this.ID_action(e,r);break}}ID_action(e,t){switch(t){case 0:let r=this.text;r.charAt(0)===r.charAt(0).toUpperCase()?this.type=jo.TOKEN_REF:this.type=jo.RULE_REF;break}}static get _ATN(){return jo.__ATN||(jo.__ATN=new jlt.ATNDeserializer().deserialize(XEe.toCharArray(jo._serializedATN))),jo.__ATN}};lU.XPathLexer=jo;jo.TOKEN_REF=1;jo.RULE_REF=2;jo.ANYWHERE=3;jo.ROOT=4;jo.WILDCARD=5;jo.BANG=6;jo.ID=7;jo.STRING=8;jo.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];jo.modeNames=["DEFAULT_MODE"];jo.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"];jo._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"];jo._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"];jo.VOCABULARY=new $lt.VocabularyImpl(jo._LITERAL_NAMES,jo._SYMBOLIC_NAMES,[]);jo._serializedATNSegments=2;jo._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r
\u02B6
2;C\\aac|\x81\xA1\xAC\xAC\xAF\xAF\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0302\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u0485\u0489\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u0593\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0602\u0607\u0612\u061C\u061E\u061E\u0622\u066B\u0670\u06D5\u06D7\u06DF\u06E1\u06EA\u06EC\u06FE\u0701\u0701\u0711\u074C\u074F\u07B3\u07C2\u07F7\u07FC\u07FC\u0802\u082F\u0842\u085D\u08A2\u08B6\u08B8\u08BF\u08D6\u0965\u0968\u0971\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BE\u09C6\u09C9\u09CA\u09CD\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09E8\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A3E\u0A3E\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4F\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A68\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABE\u0AC7\u0AC9\u0ACB\u0ACD\u0ACF\u0AD2\u0AD2\u0AE2\u0AE5\u0AE8\u0AF1\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3E\u0B46\u0B49\u0B4A\u0B4D\u0B4F\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B68\u0B71\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCF\u0BD2\u0BD2\u0BD9\u0BD9\u0BE8\u0BF1\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4F\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C68\u0C71\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBE\u0CC6\u0CC8\u0CCA\u0CCC\u0CCF\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CE8\u0CF1\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D50\u0D56\u0D59\u0D61\u0D65\u0D68\u0D71\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DCC\u0DCC\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DE8\u0DF1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E50\u0E52\u0E5B\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECA\u0ECF\u0ED2\u0EDB\u0EDE\u0EE1\u0F02\u0F02\u0F1A\u0F1B\u0F22\u0F2B\u0F37\u0F37\u0F39\u0F39\u0F3B\u0F3B\u0F40\u0F49\u0F4B\u0F6E\u0F73\u0F86\u0F88\u0F99\u0F9B\u0FBE\u0FC8\u0FC8\u1002\u104B\u1052\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u135F\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1716\u1722\u1736\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17D5\u17D9\u17D9\u17DE\u17DF\u17E2\u17EB\u180D\u1810\u1812\u181B\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193D\u1948\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u19D2\u19DB\u1A02\u1A1D\u1A22\u1A60\u1A62\u1A7E\u1A81\u1A8B\u1A92\u1A9B\u1AA9\u1AA9\u1AB2\u1ABF\u1B02\u1B4D\u1B52\u1B5B\u1B6D\u1B75\u1B82\u1BF5\u1C02\u1C39\u1C42\u1C4B\u1C4F\u1C7F\u1C82\u1C8A\u1CD2\u1CD4\u1CD6\u1CF8\u1CFA\u1CFB\u1D02\u1DF7\u1DFD\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u200D\u2011\u202C\u2030\u2041\u2042\u2056\u2056\u2062\u2066\u2068\u2071\u2073\u2073\u2081\u2081\u2092\u209E\u20D2\u20DE\u20E3\u20E3\u20E7\u20F2\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D81\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u3031\u3033\u3037\u303A\u303E\u3043\u3098\u309B\u309C\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA62D\uA642\uA671\uA676\uA67F\uA681\uA6F3\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA829\uA842\uA875\uA882\uA8C7\uA8D2\uA8DB\uA8E2\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA902\uA92F\uA932\uA955\uA962\uA97E\uA982\uA9C2\uA9D1\uA9DB\uA9E2\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA52\uAA5B\uAA62\uAA78\uAA7C\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF8\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uABEE\uABEF\uABF2\uABFB\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE02\uFE11\uFE22\uFE31\uFE35\uFE36\uFE4F\uFE51\uFE72\uFE76\uFE78\uFEFE\uFF01\uFF01\uFF12\uFF1B\uFF23\uFF3C\uFF41\uFF41\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\uFFFB\uFFFD\r(*<>?AOR_\x82\xFC\u0142\u0176\u01FF\u01FF\u0282\u029E\u02A2\u02D2\u02E2\u02E2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04A2\u04AB\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A3A\u0A3C\u0A41\u0A41\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE8\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1048\u1068\u1071\u1081\u10BC\u10BF\u10BF\u10D2\u10EA\u10F2\u10FB\u1102\u1136\u1138\u1141\u1152\u1175\u1178\u1178\u1182\u11C6\u11CC\u11CE\u11D2\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EC\u12F2\u12FB\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133E\u1346\u1349\u134A\u134D\u134F\u1352\u1352\u1359\u1359\u135F\u1365\u1368\u136E\u1372\u1376\u1402\u144C\u1452\u145B\u1482\u14C7\u14C9\u14C9\u14D2\u14DB\u1582\u15B7\u15BA\u15C2\u15DA\u15DF\u1602\u1642\u1646\u1646\u1652\u165B\u1682\u16B9\u16C2\u16CB\u1702\u171B\u171F\u172D\u1732\u173B\u18A2\u18EB\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C42\u1C52\u1C5B\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6A62\u6A6B\u6AD2\u6AEF\u6AF2\u6AF6\u6B02\u6B38\u6B42\u6B45\u6B52\u6B5B\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F91\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBC9F\uBCA0\uBCA2\uBCA5\uD167\uD16B\uD16F\uD184\uD187\uD18D\uD1AC\uD1AF\uD244\uD246\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uD7D0\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE8D2\uE8D8\uE902\uE94C\uE952\uE95B\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F"\x81\u0102\u01F1\u0240C\\c|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05D2\u05EC\u05F2\u05F4\u0622\u064C\u0670\u0671\u0673\u06D5\u06D7\u06D7\u06E7\u06E8\u06F0\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0712\u0714\u0731\u074F\u07A7\u07B3\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0817\u081C\u081C\u0826\u0826\u082A\u082A\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u0906\u093B\u093F\u093F\u0952\u0952\u095A\u0963\u0973\u0982\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09BF\u09D0\u09D0\u09DE\u09DF\u09E1\u09E3\u09F2\u09F3\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A5B\u0A5E\u0A60\u0A60\u0A74\u0A76\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0ABF\u0AD2\u0AD2\u0AE2\u0AE3\u0AFB\u0AFB\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B3F\u0B5E\u0B5F\u0B61\u0B63\u0B73\u0B73\u0B85\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BD2\u0BD2\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C3F\u0C5A\u0C5C\u0C62\u0C63\u0C82\u0C82\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CBF\u0CE0\u0CE0\u0CE2\u0CE3\u0CF3\u0CF4\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D3F\u0D50\u0D50\u0D56\u0D58\u0D61\u0D63\u0D7C\u0D81\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0E03\u0E32\u0E34\u0E35\u0E42\u0E48\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EB2\u0EB4\u0EB5\u0EBF\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F8A\u0F8E\u1002\u102C\u1041\u1041\u1052\u1057\u105C\u105F\u1063\u1063\u1067\u1068\u1070\u1072\u1077\u1083\u1090\u1090\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1713\u1722\u1733\u1742\u1753\u1762\u176E\u1770\u1772\u1782\u17B5\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u1886\u1889\u18AA\u18AC\u18AC\u18B2\u18F7\u1902\u1920\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A18\u1A22\u1A56\u1AA9\u1AA9\u1B07\u1B35\u1B47\u1B4D\u1B85\u1BA2\u1BB0\u1BB1\u1BBC\u1BE7\u1C02\u1C25\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF3\u1CF7\u1CF8\u1D02\u1DC1\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA681\uA69F\uA6A2\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA824\uA842\uA875\uA884\uA8B5\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA927\uA932\uA948\uA962\uA97E\uA986\uA9B4\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA2A\uAA42\uAA44\uAA46\uAA4D\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAB1\uAAB3\uAAB3\uAAB7\uAAB8\uAABB\uAABF\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAEC\uAAF4\uAAF6\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABE4\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB1F\uFB21\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u0377\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A02\u0A12\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1005\u1039\u1085\u10B1\u10D2\u10EA\u1105\u1128\u1152\u1174\u1178\u1178\u1185\u11B4\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u122D\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12E0\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u133F\u1352\u1352\u135F\u1363\u1402\u1436\u1449\u144C\u1482\u14B1\u14C6\u14C7\u14C9\u14C9\u1582\u15B0\u15DA\u15DD\u1602\u1631\u1646\u1646\u1682\u16AC\u1702\u171B\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C30\u1C42\u1C42\u1C74\u1C91\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B31\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F52\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548`;jo._serializedATNSegment1=`\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE802\uE8C6\uE902\uE945\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`;jo._serializedATN=XEe.join([jo._serializedATNSegment0,jo._serializedATNSegment1],"")});var e7e=Ae(mw=>{"use strict";m();var zlt=mw&&mw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(mw,"__esModule",{value:!0});mw.XPathLexerErrorListener=void 0;var Hlt=wr(),sie=class{syntaxError(e,t,r,i,s,o){}};zlt([Hlt.Override],sie.prototype,"syntaxError",null);mw.XPathLexerErrorListener=sie});var H6=Ae(xw=>{"use strict";m();var Vlt=xw&&xw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(xw,"__esModule",{value:!0});xw.XPathElement=void 0;var Wlt=wr(),oie=class{constructor(e){this.nodeName=e,this.invert=!1}toString(){let e=this.invert?"!":"";return Object.constructor.name+"["+e+this.nodeName+"]"}};Vlt([Wlt.Override],oie.prototype,"toString",null);xw.XPathElement=oie});var t7e=Ae(gw=>{"use strict";m();var Qlt=gw&&gw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(gw,"__esModule",{value:!0});gw.XPathRuleAnywhereElement=void 0;var Glt=wr(),Ylt=uy(),Klt=H6(),aie=class extends Klt.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){return Ylt.Trees.findAllRuleNodes(e,this.ruleIndex)}};Qlt([Glt.Override],aie.prototype,"evaluate",null);gw.XPathRuleAnywhereElement=aie});var n7e=Ae(yw=>{"use strict";m();var Jlt=yw&&yw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(yw,"__esModule",{value:!0});yw.XPathRuleElement=void 0;var Xlt=d1(),Zlt=wr(),ect=uy(),tct=H6(),uie=class extends tct.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){let t=[];for(let r of ect.Trees.getChildren(e))r instanceof Xlt.ParserRuleContext&&(r.ruleIndex===this.ruleIndex&&!this.invert||r.ruleIndex!==this.ruleIndex&&this.invert)&&t.push(r);return t}};Jlt([Zlt.Override],uie.prototype,"evaluate",null);yw.XPathRuleElement=uie});var r7e=Ae(vw=>{"use strict";m();var nct=vw&&vw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(vw,"__esModule",{value:!0});vw.XPathTokenAnywhereElement=void 0;var rct=wr(),ict=uy(),sct=H6(),lie=class extends sct.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){return ict.Trees.findAllTokenNodes(e,this.tokenType)}};nct([rct.Override],lie.prototype,"evaluate",null);vw.XPathTokenAnywhereElement=lie});var i7e=Ae(_w=>{"use strict";m();var oct=_w&&_w.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(_w,"__esModule",{value:!0});_w.XPathTokenElement=void 0;var act=wr(),uct=ay(),lct=uy(),cct=H6(),cie=class extends cct.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){let t=[];for(let r of lct.Trees.getChildren(e))r instanceof uct.TerminalNode&&(r.symbol.type===this.tokenType&&!this.invert||r.symbol.type!==this.tokenType&&this.invert)&&t.push(r);return t}};oct([act.Override],cie.prototype,"evaluate",null);_w.XPathTokenElement=cie});var s7e=Ae(bw=>{"use strict";m();var fct=bw&&bw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(bw,"__esModule",{value:!0});bw.XPathWildcardAnywhereElement=void 0;var dct=wr(),hct=uy(),pct=cU(),mct=H6(),fie=class extends mct.XPathElement{constructor(){super(pct.XPath.WILDCARD)}evaluate(e){return this.invert?[]:hct.Trees.getDescendants(e)}};fct([dct.Override],fie.prototype,"evaluate",null);bw.XPathWildcardAnywhereElement=fie});var o7e=Ae(Ew=>{"use strict";m();var xct=Ew&&Ew.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Ew,"__esModule",{value:!0});Ew.XPathWildcardElement=void 0;var gct=wr(),yct=uy(),vct=cU(),_ct=H6(),die=class extends _ct.XPathElement{constructor(){super(vct.XPath.WILDCARD)}evaluate(e){let t=[];if(this.invert)return t;for(let r of yct.Trees.getChildren(e))t.push(r);return t}};xct([gct.Override],die.prototype,"evaluate",null);Ew.XPathWildcardElement=die});var cU=Ae(fU=>{"use strict";m();Object.defineProperty(fU,"__esModule",{value:!0});fU.XPath=void 0;var bct=nU(),Ect=sU(),Sct=qD(),wct=d1(),hie=ou(),Om=ZEe(),Cct=e7e(),Act=t7e(),Tct=n7e(),Fct=r7e(),Dct=i7e(),Oct=s7e(),Rct=o7e(),Sw=class{constructor(e,t){this.parser=e,this.path=t,this.elements=this.split(t)}split(e){let t=new Om.XPathLexer(bct.CharStreams.fromString(e));t.recover=l=>{throw l},t.removeErrorListeners(),t.addErrorListener(new Cct.XPathLexerErrorListener);let r=new Ect.CommonTokenStream(t);try{r.fill()}catch(l){if(l instanceof Sct.LexerNoViableAltException){let f=t.charPositionInLine,p="Invalid tokens or characters at index "+f+" in path '"+e+"' -- "+l.message;throw new RangeError(p)}throw l}let i=r.getTokens(),s=[],o=i.length,a=0;e:for(;a<o;){let l=i[a],f;switch(l.type){case Om.XPathLexer.ROOT:case Om.XPathLexer.ANYWHERE:let p=l.type===Om.XPathLexer.ANYWHERE;a++,f=i[a];let _=f.type===Om.XPathLexer.BANG;_&&(a++,f=i[a]);let E=this.getXPathElement(f,p);E.invert=_,s.push(E),a++;break;case Om.XPathLexer.TOKEN_REF:case Om.XPathLexer.RULE_REF:case Om.XPathLexer.WILDCARD:s.push(this.getXPathElement(l,!1)),a++;break;case hie.Token.EOF:break e;default:throw new Error("Unknowth path element "+l)}}return s}getXPathElement(e,t){if(e.type===hie.Token.EOF)throw new Error("Missing path element at end of path");let r=e.text;if(r==null)throw new Error("Expected wordToken to have text content.");let i=this.parser.getTokenType(r),s=this.parser.getRuleIndex(r);switch(e.type){case Om.XPathLexer.WILDCARD:return t?new Oct.XPathWildcardAnywhereElement:new Rct.XPathWildcardElement;case Om.XPathLexer.TOKEN_REF:case Om.XPathLexer.STRING:if(i===hie.Token.INVALID_TYPE)throw new Error(r+" at index "+e.startIndex+" isn't a valid token name");return t?new Fct.XPathTokenAnywhereElement(r,i):new Dct.XPathTokenElement(r,i);default:if(s===-1)throw new Error(r+" at index "+e.startIndex+" isn't a valid rule name");return t?new Act.XPathRuleAnywhereElement(r,s):new Tct.XPathRuleElement(r,s)}}static findAll(e,t,r){return new Sw(r,t).evaluate(e)}evaluate(e){let t=new wct.ParserRuleContext;t.addChild(e);let r=new Set([t]),i=0;for(;i<this.elements.length;){let s=new Set;for(let o of r)o.childCount>0&&this.elements[i].evaluate(o).forEach(s.add,s);i++,r=s}return r}};fU.XPath=Sw;Sw.WILDCARD="*";Sw.NOT="!"});var a7e=Ae(zv=>{"use strict";m();var xx=zv&&zv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},V6=zv&&zv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(zv,"__esModule",{value:!0});zv.ParseTreePattern=void 0;var wd=wr(),Nct=cU(),p1=class{constructor(e,t,r,i){this._matcher=e,this._patternRuleIndex=r,this._pattern=t,this._patternTree=i}match(e){return this._matcher.match(e,this)}matches(e){return this._matcher.match(e,this).succeeded}findAll(e,t){let r=Nct.XPath.findAll(e,t,this._matcher.parser),i=[];for(let s of r){let o=this.match(s);o.succeeded&&i.push(o)}return i}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};xx([wd.NotNull],p1.prototype,"_pattern",void 0);xx([wd.NotNull],p1.prototype,"_patternTree",void 0);xx([wd.NotNull],p1.prototype,"_matcher",void 0);xx([wd.NotNull,V6(0,wd.NotNull)],p1.prototype,"match",null);xx([V6(0,wd.NotNull)],p1.prototype,"matches",null);xx([wd.NotNull,V6(0,wd.NotNull),V6(1,wd.NotNull)],p1.prototype,"findAll",null);xx([wd.NotNull],p1.prototype,"matcher",null);xx([wd.NotNull],p1.prototype,"pattern",null);xx([wd.NotNull],p1.prototype,"patternTree",null);p1=xx([V6(0,wd.NotNull),V6(1,wd.NotNull),V6(3,wd.NotNull)],p1);zv.ParseTreePattern=p1});var u7e=Ae(Hv=>{"use strict";m();var tp=Hv&&Hv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Lct=Hv&&Hv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.RuleTagToken=void 0;var np=wr(),kct=ou(),Cd=class{constructor(e,t,r){if(e==null||e.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=e,this.bypassTokenType=t,this._label=r}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return kct.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};tp([np.NotNull],Cd.prototype,"ruleName",null);tp([np.Override],Cd.prototype,"channel",null);tp([np.Override],Cd.prototype,"text",null);tp([np.Override],Cd.prototype,"type",null);tp([np.Override],Cd.prototype,"line",null);tp([np.Override],Cd.prototype,"charPositionInLine",null);tp([np.Override],Cd.prototype,"tokenIndex",null);tp([np.Override],Cd.prototype,"startIndex",null);tp([np.Override],Cd.prototype,"stopIndex",null);tp([np.Override],Cd.prototype,"tokenSource",null);tp([np.Override],Cd.prototype,"inputStream",null);tp([np.Override],Cd.prototype,"toString",null);Cd=tp([Lct(0,np.NotNull)],Cd);Hv.RuleTagToken=Cd});var pie=Ae(dU=>{"use strict";m();Object.defineProperty(dU,"__esModule",{value:!0});dU.Chunk=void 0;var l7e=class{};dU.Chunk=l7e});var d7e=Ae(ww=>{"use strict";m();var c7e=ww&&ww.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ww,"__esModule",{value:!0});ww.TagChunk=void 0;var Ict=pie(),f7e=wr(),hU=class extends Ict.Chunk{constructor(e,t){super();if(e==null||e.length===0)throw new Error("tag cannot be null or empty");this._tag=e,this._label=t}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};c7e([f7e.NotNull],hU.prototype,"tag",null);c7e([f7e.Override],hU.prototype,"toString",null);ww.TagChunk=hU});var h7e=Ae(Vv=>{"use strict";m();var pU=Vv&&Vv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Mct=Vv&&Vv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Vv,"__esModule",{value:!0});Vv.TextChunk=void 0;var Pct=pie(),mU=wr(),Cw=class extends Pct.Chunk{constructor(e){super();if(e==null)throw new Error("text cannot be null");this._text=e}get text(){return this._text}toString(){return"'"+this._text+"'"}};pU([mU.NotNull],Cw.prototype,"_text",void 0);pU([mU.NotNull],Cw.prototype,"text",null);pU([mU.Override],Cw.prototype,"toString",null);Cw=pU([Mct(0,mU.NotNull)],Cw);Vv.TextChunk=Cw});var p7e=Ae(Wv=>{"use strict";m();var fO=Wv&&Wv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Bct=Wv&&Wv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Wv,"__esModule",{value:!0});Wv.TokenTagToken=void 0;var jct=eS(),dO=wr(),W6=class extends jct.CommonToken{constructor(e,t,r){super(t);this._tokenName=e,this._label=r}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};fO([dO.NotNull],W6.prototype,"_tokenName",void 0);fO([dO.NotNull],W6.prototype,"tokenName",null);fO([dO.Override],W6.prototype,"text",null);fO([dO.Override],W6.prototype,"toString",null);W6=fO([Bct(0,dO.NotNull)],W6);Wv.TokenTagToken=W6});var _7e=Ae(yx=>{"use strict";m();var xU=yx&&yx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},gU=yx&&yx.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(yx,"__esModule",{value:!0});yx.ParseTreePatternMatcher=void 0;var qct=gie(),Uct=nU(),$ct=sU(),zct=Zre(),m7e=WEe(),Q6=wr(),Hct=eie(),Vct=iie(),x7e=d1(),Wct=JEe(),Qct=a7e(),Gct=zg(),Yct=VS(),g7e=u7e(),y7e=d7e(),mie=ay(),Aw=h7e(),xie=ou(),v7e=p7e(),gx=class{constructor(e,t){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=e,this._parser=t}setDelimiters(e,t,r){if(!e)throw new Error("start cannot be null or empty");if(!t)throw new Error("stop cannot be null or empty");this.start=e,this.stop=t,this.escape=r,this.escapeRE=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.matches(e,i)}else{let i=new m7e.MultiMap;return!this.matchImpl(e,t.patternTree,i)}}match(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.match(e,i)}else{let i=new m7e.MultiMap,s=this.matchImpl(e,t.patternTree,i);return new Wct.ParseTreeMatch(e,t,i,s)}}compile(e,t){let r=this.tokenize(e),i=new zct.ListTokenSource(r),s=new $ct.CommonTokenStream(i),o=this._parser,a=new Vct.ParserInterpreter(o.grammarFileName,o.vocabulary,o.ruleNames,o.getATNWithBypassAlts(),s),l;try{a.errorHandler=new qct.BailErrorStrategy,l=a.parse(t)}catch(f){throw f instanceof Hct.ParseCancellationException?f.getCause():f instanceof Gct.RecognitionException?f:f instanceof Error?new gx.CannotInvokeStartRule(f):f}if(s.LA(1)!==xie.Token.EOF)throw new gx.StartRuleDoesNotConsumeFullPattern;return new Qct.ParseTreePattern(this,e,t,l)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(e,t,r){if(!e)throw new TypeError("tree cannot be null");if(!t)throw new TypeError("patternTree cannot be null");if(e instanceof mie.TerminalNode&&t instanceof mie.TerminalNode){let i;if(e.symbol.type===t.symbol.type)if(t.symbol instanceof v7e.TokenTagToken){let s=t.symbol;r.map(s.tokenName,e);let o=s.label;o&&r.map(o,e)}else e.text===t.text||i||(i=e);else i||(i=e);return i}if(e instanceof x7e.ParserRuleContext&&t instanceof x7e.ParserRuleContext){let i,s=this.getRuleTagToken(t);if(s){let a;if(e.ruleContext.ruleIndex===t.ruleContext.ruleIndex){r.map(s.ruleName,e);let l=s.label;l&&r.map(l,e)}else i||(i=e);return i}if(e.childCount!==t.childCount)return i||(i=e),i;let o=e.childCount;for(let a=0;a<o;a++){let l=this.matchImpl(e.getChild(a),t.getChild(a),r);if(l)return l}return i}return e}getRuleTagToken(e){if(e instanceof Yct.RuleNode&&e.childCount===1&&e.getChild(0)instanceof mie.TerminalNode){let t=e.getChild(0);if(t.symbol instanceof g7e.RuleTagToken)return t.symbol}}tokenize(e){let t=this.split(e),r=[];for(let i of t)if(i instanceof y7e.TagChunk){let s=i,o=s.tag.substr(0,1);if(o===o.toUpperCase()){let a=this._parser.getTokenType(s.tag);if(a===xie.Token.INVALID_TYPE)throw new Error("Unknown token "+s.tag+" in pattern: "+e);let l=new v7e.TokenTagToken(s.tag,a,s.label);r.push(l)}else if(o===o.toLowerCase()){let a=this._parser.getRuleIndex(s.tag);if(a===-1)throw new Error("Unknown rule "+s.tag+" in pattern: "+e);let l=this._parser.getATNWithBypassAlts().ruleToTokenType[a];r.push(new g7e.RuleTagToken(s.tag,l,s.label))}else throw new Error("invalid tag: "+s.tag+" in pattern: "+e)}else{let s=i;this._lexer.inputStream=Uct.CharStreams.fromString(s.text);let o=this._lexer.nextToken();for(;o.type!==xie.Token.EOF;)r.push(o),o=this._lexer.nextToken()}return r}split(e){let t=0,r=e.length,i=[],s,o=[],a=[];for(;t<r;)t===e.indexOf(this.escape+this.start,t)?t+=this.escape.length+this.start.length:t===e.indexOf(this.escape+this.stop,t)?t+=this.escape.length+this.stop.length:t===e.indexOf(this.start,t)?(o.push(t),t+=this.start.length):t===e.indexOf(this.stop,t)?(a.push(t),t+=this.stop.length):t++;if(o.length>a.length)throw new Error("unterminated tag in pattern: "+e);if(o.length<a.length)throw new Error("missing start tag in pattern: "+e);let l=o.length;for(let f=0;f<l;f++)if(o[f]>=a[f])throw new Error("tag delimiters out of order in pattern: "+e);if(l===0){let f=e.substring(0,r);i.push(new Aw.TextChunk(f))}if(l>0&&o[0]>0){let f=e.substring(0,o[0]);i.push(new Aw.TextChunk(f))}for(let f=0;f<l;f++){let p=e.substring(o[f]+this.start.length,a[f]),_=p,E,O=p.indexOf(":");if(O>=0&&(E=p.substring(0,O),_=p.substring(O+1,p.length)),i.push(new y7e.TagChunk(_,E)),f+1<l){let R=e.substring(a[f]+this.stop.length,o[f+1]);i.push(new Aw.TextChunk(R))}}if(l>0){let f=a[l-1]+this.stop.length;if(f<r){let p=e.substring(f,r);i.push(new Aw.TextChunk(p))}}for(let f=0;f<i.length;f++){let p=i[f];if(p instanceof Aw.TextChunk){let _=p.text.replace(this.escapeRE,"");_.length<p.text.length&&(i[f]=new Aw.TextChunk(_))}}return i}};xU([Q6.NotNull,gU(1,Q6.NotNull)],gx.prototype,"match",null);xU([Q6.NotNull],gx.prototype,"lexer",null);xU([Q6.NotNull],gx.prototype,"parser",null);xU([gU(0,Q6.NotNull),gU(1,Q6.NotNull),gU(2,Q6.NotNull)],gx.prototype,"matchImpl",null);yx.ParseTreePatternMatcher=gx;(function(n){class e extends Error{constructor(i){super(`CannotInvokeStartRule: ${i}`);this.error=i}}n.CannotInvokeStartRule=e;class t extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}n.StartRuleDoesNotConsumeFullPattern=t})(gx=yx.ParseTreePatternMatcher||(yx.ParseTreePatternMatcher={}))});var Tw=Ae(Qv=>{"use strict";m();var b7e=Qv&&Qv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Kct=Qv&&Qv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Qv,"__esModule",{value:!0});Qv.DecisionEventInfo=void 0;var E7e=wr(),yU=class{constructor(e,t,r,i,s,o){this.decision=e,this.fullCtx=o,this.stopIndex=s,this.input=r,this.startIndex=i,this.state=t}};b7e([E7e.NotNull],yU.prototype,"input",void 0);yU=b7e([Kct(2,E7e.NotNull)],yU);Qv.DecisionEventInfo=yU});var S7e=Ae(Gv=>{"use strict";m();var yie=Gv&&Gv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vie=Gv&&Gv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.AmbiguityInfo=void 0;var Jct=Tw(),hO=wr(),pO=class extends Jct.DecisionEventInfo{constructor(e,t,r,i,s,o){super(e,t,i,s,o,t.useContext);this.ambigAlts=r}get ambiguousAlternatives(){return this.ambigAlts}};yie([hO.NotNull],pO.prototype,"ambigAlts",void 0);yie([hO.NotNull],pO.prototype,"ambiguousAlternatives",null);pO=yie([vie(1,hO.NotNull),vie(2,hO.NotNull),vie(3,hO.NotNull)],pO);Gv.AmbiguityInfo=pO});var A7e=Ae(Yv=>{"use strict";m();var Xct=Yv&&Yv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},w7e=Yv&&Yv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Yv,"__esModule",{value:!0});Yv.ContextSensitivityInfo=void 0;var Zct=Tw(),C7e=wr(),_ie=class extends Zct.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}};_ie=Xct([w7e(1,C7e.NotNull),w7e(2,C7e.NotNull)],_ie);Yv.ContextSensitivityInfo=_ie});var T7e=Ae(Fw=>{"use strict";m();var eft=Fw&&Fw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Fw,"__esModule",{value:!0});Fw.DecisionInfo=void 0;var tft=wr(),bie=class{constructor(e){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=e}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};eft([tft.Override],bie.prototype,"toString",null);Fw.DecisionInfo=bie});var O7e=Ae(Kv=>{"use strict";m();var nft=Kv&&Kv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},F7e=Kv&&Kv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Kv,"__esModule",{value:!0});Kv.ErrorInfo=void 0;var rft=Tw(),D7e=wr(),Eie=class extends rft.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,t.useContext)}};Eie=nft([F7e(1,D7e.NotNull),F7e(2,D7e.NotNull)],Eie);Kv.ErrorInfo=Eie});var R7e=Ae(Jv=>{"use strict";m();var ift=Jv&&Jv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},sft=Jv&&Jv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Jv,"__esModule",{value:!0});Jv.LookaheadEventInfo=void 0;var oft=Tw(),aft=wr(),Sie=class extends oft.DecisionEventInfo{constructor(e,t,r,i,s,o,a){super(e,t,i,s,o,a);this.predictedAlt=r}};Sie=ift([sft(3,aft.NotNull)],Sie);Jv.LookaheadEventInfo=Sie});var N7e=Ae(Xv=>{"use strict";m();var uft=Xv&&Xv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},wie=Xv&&Xv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.PredicateEvalInfo=void 0;var lft=Tw(),Cie=wr(),Aie=class extends lft.DecisionEventInfo{constructor(e,t,r,i,s,o,a,l){super(t,e,r,i,s,e.useContext);this.semctx=o,this.evalResult=a,this.predictedAlt=l}};Aie=uft([wie(0,Cie.NotNull),wie(2,Cie.NotNull),wie(5,Cie.NotNull)],Aie);Xv.PredicateEvalInfo=Aie});var Tie=Ae(Zv=>{"use strict";m();var vx=Zv&&Zv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vU=Zv&&Zv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Zv,"__esModule",{value:!0});Zv.ProfilingATNSimulator=void 0;var cft=S7e(),L7e=wm(),fft=ND(),k7e=A7e(),dft=T7e(),I7e=O7e(),yh=wr(),M7e=R7e(),hft=JS(),pft=N7e(),mft=h6(),P7e=Sre(),m1=class extends hft.ParserATNSimulator{constructor(e){super(e.interpreter.atn,e);this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let t=0;t<this.numDecisions;t++)this.decisions.push(new dft.DecisionInfo(t))}adaptivePredict(e,t,r,i){if(i!==void 0)return super.adaptivePredict(e,t,r,i);try{this._input=e,this._startIndex=e.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=t,this.currentState=void 0,this.conflictingAltResolvedBySLL=L7e.ATN.INVALID_ALT_NUMBER;let s=process.hrtime(),o=super.adaptivePredict(e,t,r),a=process.hrtime(),l=(a[0]-s[0])*1e9;l===0?l=a[1]-s[1]:l+=1e9-s[1]+a[1],this.decisions[t].timeInPrediction+=l,this.decisions[t].invocations++;let f=this._sllStopIndex-this._startIndex+1;if(this.decisions[t].SLL_TotalLook+=f,this.decisions[t].SLL_MinLook=this.decisions[t].SLL_MinLook===0?f:Math.min(this.decisions[t].SLL_MinLook,f),f>this.decisions[t].SLL_MaxLook&&(this.decisions[t].SLL_MaxLook=f,this.decisions[t].SLL_MaxLookEvent=new M7e.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let p=this._llStopIndex-this._startIndex+1;this.decisions[t].LL_TotalLook+=p,this.decisions[t].LL_MinLook=this.decisions[t].LL_MinLook===0?p:Math.min(this.decisions[t].LL_MinLook,p),p>this.decisions[t].LL_MaxLook&&(this.decisions[t].LL_MaxLook=p,this.decisions[t].LL_MaxLookEvent=new M7e.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._llStopIndex,!0))}return o}finally{this._input=void 0,this.currentDecision=-1}}getStartState(e,t,r,i){let s=super.getStartState(e,t,r,i);return this.currentState=s,s}computeStartState(e,t,r){let i=super.computeStartState(e,t,r);return this.currentState=i,i}computeReachSet(e,t,r,i){if(this._input===void 0)throw new Error("Invalid state");let s=super.computeReachSet(e,t,r,i);return s==null&&this.decisions[this.currentDecision].errors.push(new I7e.ErrorInfo(this.currentDecision,t,this._input,this._startIndex,this._input.index)),this.currentState=s,s}getExistingTargetState(e,t){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let r=super.getExistingTargetState(e,t);if(r!=null&&(this.currentState=new P7e.SimulatorState(this.currentState.outerContext,r,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,r===fft.ATNSimulator.ERROR)){let i=new P7e.SimulatorState(this.currentState.outerContext,e,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new I7e.ErrorInfo(this.currentDecision,i,this._input,this._startIndex,this._input.index))}return r}computeTargetState(e,t,r,i,s,o){let a=super.computeTargetState(e,t,r,i,s,o);return s?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,a}evalSemanticContextImpl(e,t,r){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let i=super.evalSemanticContextImpl(e,t,r);if(!(e instanceof mft.SemanticContext.PrecedencePredicate)){let o=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new pft.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,o,e,i,r))}return i}reportContextSensitivity(e,t,r,i,s){if(this._input===void 0)throw new Error("Invalid state");t!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new k7e.ContextSensitivityInfo(this.currentDecision,r,this._input,i,s)),super.reportContextSensitivity(e,t,r,i,s)}reportAttemptingFullContext(e,t,r,i,s){t!=null?this.conflictingAltResolvedBySLL=t.nextSetBit(0):this.conflictingAltResolvedBySLL=r.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(e,t,r,i,s)}reportAmbiguity(e,t,r,i,s,o,a){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let l;o!=null?l=o.nextSetBit(0):l=a.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==L7e.ATN.INVALID_ALT_NUMBER&&l!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new k7e.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,r,i)),this.decisions[this.currentDecision].ambiguities.push(new cft.AmbiguityInfo(this.currentDecision,this.currentState,o,this._input,r,i)),super.reportAmbiguity(e,t,r,i,s,o,a)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};vx([yh.Override,vU(0,yh.NotNull)],m1.prototype,"adaptivePredict",null);vx([yh.Override],m1.prototype,"getStartState",null);vx([yh.Override],m1.prototype,"computeStartState",null);vx([yh.Override],m1.prototype,"computeReachSet",null);vx([yh.Override],m1.prototype,"getExistingTargetState",null);vx([yh.Override],m1.prototype,"computeTargetState",null);vx([yh.Override],m1.prototype,"evalSemanticContextImpl",null);vx([yh.Override],m1.prototype,"reportContextSensitivity",null);vx([yh.Override],m1.prototype,"reportAttemptingFullContext",null);vx([yh.Override,vU(0,yh.NotNull),vU(5,yh.NotNull),vU(6,yh.NotNull)],m1.prototype,"reportAmbiguity",null);Zv.ProfilingATNSimulator=m1});var WS=Ae(_x=>{"use strict";m();var Qc=_x&&_x.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},_U=_x&&_x.__param||function(n,e){return function(t,r){e(t,r,n)}},B7e=_x&&_x.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{f(r.next(p))}catch(_){o(_)}}function l(p){try{f(r.throw(p))}catch(_){o(_)}}function f(p){p.done?s(p.value):i(p.value).then(a,l)}f((r=r.apply(n,e||[])).next())})};Object.defineProperty(_x,"__esModule",{value:!0});_x.Parser=void 0;var xft=Sm(),gft=nre(),yft=sO(),vft=bU(),_ft=HS(),bft=yne(),Eft=ty(),Jl=wr(),Sft=PEe(),wft=JS(),Cft=Wre(),Aft=oS(),Tft=ay(),mO=ou(),Dw=class{constructor(e,t){this.ruleNames=e,this.tokenStream=t}enterEveryRule(e){console.log("enter   "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(e){console.log("exit    "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(e){}visitTerminal(e){let t=e.parent.ruleContext,r=e.symbol;console.log("consume "+r+" rule "+this.ruleNames[t.ruleIndex])}};Qc([Jl.Override],Dw.prototype,"enterEveryRule",null);Qc([Jl.Override],Dw.prototype,"exitEveryRule",null);Qc([Jl.Override],Dw.prototype,"visitErrorNode",null);Qc([Jl.Override],Dw.prototype,"visitTerminal",null);var Pl=class extends Aft.Recognizer{constructor(e){super();this._errHandler=new vft.DefaultErrorStrategy,this._precedenceStack=new bft.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=e}reset(e){(e===void 0||e)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let t=this.interpreter;t!=null&&t.reset()}match(e){let t=this.currentToken;return t.type===e?(e===mO.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&t.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,t))),t}matchWildcard(){let e=this.currentToken;return e.type>0?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this._buildParseTrees&&e.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,e))),e}set buildParseTree(e){this._buildParseTrees=e}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(e){if(e==null)throw new TypeError("listener cannot be null");this._parseListeners.push(e)}removeParseListener(e){let t=this._parseListeners.findIndex(r=>r===e);t!==-1&&this._parseListeners.splice(t,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let e of this._parseListeners)e.enterEveryRule&&e.enterEveryRule(this._ctx),this._ctx.enterRule(e)}triggerExitRuleEvent(){for(let e=this._parseListeners.length-1;e>=0;e--){let t=this._parseListeners[e];this._ctx.exitRule(t),t.exitEveryRule&&t.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let e=this.serializedATN;if(e==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let t=Pl.bypassAltsAtnCache.get(e);if(t==null){let r=new gft.ATNDeserializationOptions;r.isGenerateRuleBypassTransitions=!0,t=new yft.ATNDeserializer(r).deserialize(xft.toCharArray(e)),Pl.bypassAltsAtnCache.set(e,t)}return t}compileParseTreePattern(e,t,r){return B7e(this,void 0,void 0,function*(){if(!r){if(this.inputStream){let a=this.inputStream.tokenSource;a instanceof Eft.Lexer&&(r=a)}if(!r)throw new Error("Parser can't discover a lexer to use")}let i=r,s=yield Promise.resolve().then(()=>_7e());return new s.ParseTreePatternMatcher(i,this).compile(e,t)})}get errorHandler(){return this._errHandler}set errorHandler(e){this._errHandler=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e}get currentToken(){return this._input.LT(1)}notifyErrorListeners(e,t,r){t===void 0?t=this.currentToken:t===null&&(t=void 0),this._syntaxErrors++;let i=-1,s=-1;t!=null&&(i=t.line,s=t.charPositionInLine);let o=this.getErrorListenerDispatch();o.syntaxError&&o.syntaxError(this,t,i,s,e,r)}consume(){let e=this.currentToken;e.type!==Pl.EOF&&this.inputStream.consume();let t=this._parseListeners.length!==0;if(this._buildParseTrees||t)if(this._errHandler.inErrorRecoveryMode(this)){let r=this._ctx.addErrorNode(this.createErrorNode(this._ctx,e));if(t)for(let i of this._parseListeners)i.visitErrorNode&&i.visitErrorNode(r)}else{let r=this.createTerminalNode(this._ctx,e);if(this._ctx.addChild(r),t)for(let i of this._parseListeners)i.visitTerminal&&i.visitTerminal(r)}return e}createTerminalNode(e,t){return new Tft.TerminalNode(t)}createErrorNode(e,t){return new _ft.ErrorNode(t)}addContextToParseTree(){let e=this._ctx._parent;e!=null&&e.addChild(this._ctx)}enterRule(e,t,r){this.state=t,this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(e,t,r){if(this.state=t,this._buildParseTrees){let i=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),i._parent=e,e.addChild(i)}this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(e,t){if(e.altNumber=t,this._buildParseTrees&&this._ctx!==e){let r=this._ctx._parent;r!=null&&(r.removeLastChild(),r.addChild(e))}this._ctx=e}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(e,t,r,i){this.state=t,this._precedenceStack.push(i),this._ctx=e,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(e,t,r){let i=this._ctx;i._parent=e,i.invokingState=t,i._stop=this._input.tryLT(-1),this._ctx=e,this._ctx._start=i._start,this._buildParseTrees&&this._ctx.addChild(i),this.triggerEnterRuleEvent()}unrollRecursionContexts(e){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let t=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==e;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=e;t._parent=e,this._buildParseTrees&&e!=null&&e.addChild(t)}getInvokingContext(e){let t=this._ctx;for(;t&&t.ruleIndex!==e;)t=t._parent;return t}get context(){return this._ctx}set context(e){this._ctx=e}precpred(e,t){return t>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new Cft.ProxyParserErrorListener(this.getErrorListeners())}inContext(e){return!1}isExpectedToken(e){let t=this.interpreter.atn,r=this._ctx,i=t.states[this.state],s=t.nextTokens(i);if(s.contains(e))return!0;if(!s.contains(mO.Token.EPSILON))return!1;for(;r!=null&&r.invokingState>=0&&s.contains(mO.Token.EPSILON);){let a=t.states[r.invokingState].transition(0);if(s=t.nextTokens(a.followState),s.contains(e))return!0;r=r._parent}return!!(s.contains(mO.Token.EPSILON)&&e===mO.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let e=this.interpreter.atn,t=e.states[this.state];return e.nextTokens(t)}getRuleIndex(e){let t=this.getRuleIndexMap().get(e);return t??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(e=this._ctx){let t=e,r=this.ruleNames,i=[];for(;t!=null;){let s=t.ruleIndex;s<0?i.push("n/a"):i.push(r[s]),t=t._parent}return i}getDFAStrings(){let e=[];for(let t of this._interp.atn.decisionToDFA)e.push(t.toString(this.vocabulary,this.ruleNames));return e}dumpDFA(){let e=!1;for(let t of this._interp.atn.decisionToDFA)t.isEmpty||(e&&console.log(),console.log("Decision "+t.decision+":"),process.stdout.write(t.toString(this.vocabulary,this.ruleNames)),e=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>Tie()).then(e=>{let t=this.interpreter;if(t instanceof e.ProfilingATNSimulator)return new Sft.ParseInfo(t)})}setProfile(e){return B7e(this,void 0,void 0,function*(){let t=yield Promise.resolve().then(()=>Tie()),r=this.interpreter;e?r instanceof t.ProfilingATNSimulator||(this.interpreter=new t.ProfilingATNSimulator(this)):r instanceof t.ProfilingATNSimulator&&(this.interpreter=new wft.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(r.getPredictionMode())})}set isTrace(e){e?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new Dw(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};Pl.bypassAltsAtnCache=new Map;Qc([Jl.NotNull],Pl.prototype,"_errHandler",void 0);Qc([Jl.NotNull],Pl.prototype,"match",null);Qc([Jl.NotNull],Pl.prototype,"matchWildcard",null);Qc([Jl.NotNull],Pl.prototype,"getParseListeners",null);Qc([_U(0,Jl.NotNull)],Pl.prototype,"addParseListener",null);Qc([Jl.NotNull],Pl.prototype,"getATNWithBypassAlts",null);Qc([Jl.NotNull,_U(0,Jl.NotNull)],Pl.prototype,"errorHandler",null);Qc([Jl.Override],Pl.prototype,"inputStream",null);Qc([Jl.NotNull],Pl.prototype,"currentToken",null);Qc([_U(0,Jl.NotNull)],Pl.prototype,"enterRule",null);Qc([Jl.Override,_U(0,Jl.Nullable)],Pl.prototype,"precpred",null);Qc([Jl.Override],Pl.prototype,"getErrorListenerDispatch",null);Qc([Jl.NotNull],Pl.prototype,"getExpectedTokens",null);Qc([Jl.NotNull],Pl.prototype,"getExpectedTokensWithinCurrentRule",null);Qc([Jl.Override],Pl.prototype,"parseInfo",null);_x.Parser=Pl});var JD=Ae(Ow=>{"use strict";m();var Fft=Ow&&Ow.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Ow,"__esModule",{value:!0});Ow.NoViableAltException=void 0;var Dft=WS(),Oft=zg(),Rft=wr(),Fie=class extends Oft.RecognitionException{constructor(e,t,r,i,s,o){e instanceof Dft.Parser&&(t===void 0&&(t=e.inputStream),r===void 0&&(r=e.currentToken),i===void 0&&(i=e.currentToken),o===void 0&&(o=e.context));super(e,t,o);this._deadEndConfigs=s,this._startToken=r,this.setOffendingToken(e,i)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};Fft([Rft.NotNull],Fie.prototype,"_startToken",void 0);Ow.NoViableAltException=Fie});var bU=Ae(e4=>{"use strict";m();var Qu=e4&&e4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Xl=e4&&e4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(e4,"__esModule",{value:!0});e4.DefaultErrorStrategy=void 0;var j7e=V2(),Rw=yf(),Nft=_D(),EU=bD(),q7e=av(),Lft=JD(),kft=o1(),my=ou(),la=wr(),au=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=j7e.ATNState.INVALID_STATE_NUMBER}reset(e){this.endErrorCondition(e)}beginErrorCondition(e){this.errorRecoveryMode=!0}inErrorRecoveryMode(e){return this.errorRecoveryMode}endErrorCondition(e){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(e){this.endErrorCondition(e)}reportError(e,t){this.inErrorRecoveryMode(e)||(this.beginErrorCondition(e),t instanceof Lft.NoViableAltException?this.reportNoViableAlternative(e,t):t instanceof EU.InputMismatchException?this.reportInputMismatch(e,t):t instanceof Nft.FailedPredicateException?this.reportFailedPredicate(e,t):(console.error(`unknown recognition error type: ${t}`),this.notifyErrorListeners(e,t.toString(),t)))}notifyErrorListeners(e,t,r){let i=r.getOffendingToken(e);i===void 0&&(i=null),e.notifyErrorListeners(t,i,r)}recover(e,t){this.lastErrorIndex===e.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(e.state)&&e.consume(),this.lastErrorIndex=e.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new q7e.IntervalSet),this.lastErrorStates.add(e.state);let r=this.getErrorRecoverySet(e);this.consumeUntil(e,r)}sync(e){let t=e.interpreter.atn.states[e.state];if(this.inErrorRecoveryMode(e))return;let i=e.inputStream.LA(1),s=e.atn.nextTokens(t);if(s.contains(i)){this.nextTokensContext=void 0,this.nextTokensState=j7e.ATNState.INVALID_STATE_NUMBER;return}if(s.contains(my.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=e.context,this.nextTokensState=e.state);return}switch(t.stateType){case Rw.ATNStateType.BLOCK_START:case Rw.ATNStateType.STAR_BLOCK_START:case Rw.ATNStateType.PLUS_BLOCK_START:case Rw.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(e))return;throw new EU.InputMismatchException(e);case Rw.ATNStateType.PLUS_LOOP_BACK:case Rw.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(e);let a=e.getExpectedTokens().or(this.getErrorRecoverySet(e));this.consumeUntil(e,a);break;default:break}}reportNoViableAlternative(e,t){let r=e.inputStream,i;r?t.startToken.type===my.Token.EOF?i="<EOF>":i=r.getTextFromRange(t.startToken,t.getOffendingToken()):i="<unknown input>";let s="no viable alternative at input "+this.escapeWSAndQuote(i);this.notifyErrorListeners(e,s,t)}reportInputMismatch(e,t){let r=t.expectedTokens,i=r?r.toStringVocabulary(e.vocabulary):"",s="mismatched input "+this.getTokenErrorDisplay(t.getOffendingToken(e))+" expecting "+i;this.notifyErrorListeners(e,s,t)}reportFailedPredicate(e,t){let r=e.ruleNames[e.context.ruleIndex],i="rule "+r+" "+t.message;this.notifyErrorListeners(e,i,t)}reportUnwantedToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getTokenErrorDisplay(t),i=this.getExpectedTokens(e),s="extraneous input "+r+" expecting "+i.toStringVocabulary(e.vocabulary);e.notifyErrorListeners(s,t,void 0)}reportMissingToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getExpectedTokens(e),i="missing "+r.toStringVocabulary(e.vocabulary)+" at "+this.getTokenErrorDisplay(t);e.notifyErrorListeners(i,t,void 0)}recoverInline(e){let t=this.singleTokenDeletion(e);if(t)return e.consume(),t;if(this.singleTokenInsertion(e))return this.getMissingSymbol(e);throw this.nextTokensContext===void 0?new EU.InputMismatchException(e):new EU.InputMismatchException(e,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(e){let t=e.inputStream.LA(1),i=e.interpreter.atn.states[e.state].transition(0).target,s=e.interpreter.atn;return s.nextTokens(i,kft.PredictionContext.fromRuleContext(s,e.context)).contains(t)?(this.reportMissingToken(e),!0):!1}singleTokenDeletion(e){let t=e.inputStream.LA(2);if(this.getExpectedTokens(e).contains(t)){this.reportUnwantedToken(e),e.consume();let i=e.currentToken;return this.reportMatch(e),i}}getMissingSymbol(e){let t=e.currentToken,r=this.getExpectedTokens(e),i=my.Token.INVALID_TYPE;r.isNil||(i=r.minElement);let s;i===my.Token.EOF?s="<missing EOF>":s="<missing "+e.vocabulary.getDisplayName(i)+">";let o=t,a=e.inputStream.tryLT(-1);return o.type===my.Token.EOF&&a!=null&&(o=a),this.constructToken(e.inputStream.tokenSource,i,s,o)}constructToken(e,t,r,i){let s=e.tokenFactory,o=i.tokenSource,a=o?o.inputStream:void 0;return s.create({source:e,stream:a},t,r,my.Token.DEFAULT_CHANNEL,-1,-1,i.line,i.charPositionInLine)}getExpectedTokens(e){return e.getExpectedTokens()}getTokenErrorDisplay(e){if(!e)return"<no token>";let t=this.getSymbolText(e);return t||(this.getSymbolType(e)===my.Token.EOF?t="<EOF>":t=`<${this.getSymbolType(e)}>`),this.escapeWSAndQuote(t)}getSymbolText(e){return e.text}getSymbolType(e){return e.type}escapeWSAndQuote(e){return e=e.replace(`
`,"\\n"),e=e.replace("\r","\\r"),e=e.replace("	","\\t"),"'"+e+"'"}getErrorRecoverySet(e){let t=e.interpreter.atn,r=e.context,i=new q7e.IntervalSet;for(;r&&r.invokingState>=0;){let o=t.states[r.invokingState].transition(0),a=t.nextTokens(o.followState);i.addAll(a),r=r._parent}return i.remove(my.Token.EPSILON),i}consumeUntil(e,t){let r=e.inputStream.LA(1);for(;r!==my.Token.EOF&&!t.contains(r);)e.consume(),r=e.inputStream.LA(1)}};Qu([la.Override],au.prototype,"reset",null);Qu([Xl(0,la.NotNull)],au.prototype,"beginErrorCondition",null);Qu([la.Override],au.prototype,"inErrorRecoveryMode",null);Qu([Xl(0,la.NotNull)],au.prototype,"endErrorCondition",null);Qu([la.Override],au.prototype,"reportMatch",null);Qu([la.Override],au.prototype,"reportError",null);Qu([Xl(0,la.NotNull)],au.prototype,"notifyErrorListeners",null);Qu([la.Override],au.prototype,"recover",null);Qu([la.Override],au.prototype,"sync",null);Qu([Xl(0,la.NotNull),Xl(1,la.NotNull)],au.prototype,"reportNoViableAlternative",null);Qu([Xl(0,la.NotNull),Xl(1,la.NotNull)],au.prototype,"reportInputMismatch",null);Qu([Xl(0,la.NotNull),Xl(1,la.NotNull)],au.prototype,"reportFailedPredicate",null);Qu([Xl(0,la.NotNull)],au.prototype,"reportUnwantedToken",null);Qu([Xl(0,la.NotNull)],au.prototype,"reportMissingToken",null);Qu([la.Override],au.prototype,"recoverInline",null);Qu([Xl(0,la.NotNull)],au.prototype,"singleTokenInsertion",null);Qu([Xl(0,la.NotNull)],au.prototype,"singleTokenDeletion",null);Qu([la.NotNull,Xl(0,la.NotNull)],au.prototype,"getMissingSymbol",null);Qu([la.NotNull,Xl(0,la.NotNull)],au.prototype,"getExpectedTokens",null);Qu([Xl(0,la.NotNull)],au.prototype,"getSymbolText",null);Qu([Xl(0,la.NotNull)],au.prototype,"getSymbolType",null);Qu([la.NotNull,Xl(0,la.NotNull)],au.prototype,"escapeWSAndQuote",null);Qu([la.NotNull,Xl(0,la.NotNull)],au.prototype,"getErrorRecoverySet",null);Qu([Xl(0,la.NotNull),Xl(1,la.NotNull)],au.prototype,"consumeUntil",null);e4.DefaultErrorStrategy=au});var gie=Ae(Nw=>{"use strict";m();var Die=Nw&&Nw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Nw,"__esModule",{value:!0});Nw.BailErrorStrategy=void 0;var Ift=bU(),Mft=bD(),Oie=wr(),U7e=eie(),xO=class extends Ift.DefaultErrorStrategy{recover(e,t){for(let r=e.context;r;r=r.parent)r.exception=t;throw new U7e.ParseCancellationException(t)}recoverInline(e){let t=new Mft.InputMismatchException(e);for(let r=e.context;r;r=r.parent)r.exception=t;throw new U7e.ParseCancellationException(t)}sync(e){}};Die([Oie.Override],xO.prototype,"recover",null);Die([Oie.Override],xO.prototype,"recoverInline",null);Die([Oie.Override],xO.prototype,"sync",null);Nw.BailErrorStrategy=xO});var z7e=Ae($7e=>{"use strict";m();Object.defineProperty($7e,"__esModule",{value:!0})});var H7e=Ae(gO=>{"use strict";m();Object.defineProperty(gO,"__esModule",{value:!0});gO.Dependents=void 0;var Pft;(function(n){n[n.SELF=0]="SELF",n[n.PARENTS=1]="PARENTS",n[n.CHILDREN=2]="CHILDREN",n[n.ANCESTORS=3]="ANCESTORS",n[n.DESCENDANTS=4]="DESCENDANTS",n[n.SIBLINGS=5]="SIBLINGS",n[n.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",n[n.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",n[n.PRECEEDING=8]="PRECEEDING",n[n.FOLLOWING=9]="FOLLOWING"})(Pft=gO.Dependents||(gO.Dependents={}))});var V7e=Ae(n4=>{"use strict";m();var Lw=n4&&n4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},x1=n4&&n4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(n4,"__esModule",{value:!0});n4.DiagnosticErrorListener=void 0;var Bft=Qg(),Jf=wr(),Rie=M0(),t4=class{constructor(e=!0){this.exactOnly=e,this.exactOnly=e}syntaxError(e,t,r,i,s,o){}reportAmbiguity(e,t,r,i,s,o,a){if(this.exactOnly&&!s)return;let l=this.getDecisionDescription(e,t),f=this.getConflictingAlts(o,a),p=e.inputStream.getText(Rie.Interval.of(r,i)),_=`reportAmbiguity d=${l}: ambigAlts=${f}, input='${p}'`;e.notifyErrorListeners(_)}reportAttemptingFullContext(e,t,r,i,s,o){let a="reportAttemptingFullContext d=%s, input='%s'",l=this.getDecisionDescription(e,t),f=e.inputStream.getText(Rie.Interval.of(r,i)),p=`reportAttemptingFullContext d=${l}, input='${f}'`;e.notifyErrorListeners(p)}reportContextSensitivity(e,t,r,i,s,o){let a="reportContextSensitivity d=%s, input='%s'",l=this.getDecisionDescription(e,t),f=e.inputStream.getText(Rie.Interval.of(r,i)),p=`reportContextSensitivity d=${l}, input='${f}'`;e.notifyErrorListeners(p)}getDecisionDescription(e,t){let r=t.decision,i=t.atnStartState.ruleIndex,s=e.ruleNames;if(i<0||i>=s.length)return r.toString();let o=s[i];return o?`${r} (${o})`:r.toString()}getConflictingAlts(e,t){if(e!=null)return e;let r=new Bft.BitSet;for(let i of t)r.set(i.alt);return r}};Lw([Jf.Override],t4.prototype,"syntaxError",null);Lw([Jf.Override,x1(0,Jf.NotNull),x1(1,Jf.NotNull),x1(6,Jf.NotNull)],t4.prototype,"reportAmbiguity",null);Lw([Jf.Override,x1(0,Jf.NotNull),x1(1,Jf.NotNull),x1(5,Jf.NotNull)],t4.prototype,"reportAttemptingFullContext",null);Lw([Jf.Override,x1(0,Jf.NotNull),x1(1,Jf.NotNull),x1(5,Jf.NotNull)],t4.prototype,"reportContextSensitivity",null);Lw([x1(0,Jf.NotNull),x1(1,Jf.NotNull)],t4.prototype,"getDecisionDescription",null);Lw([Jf.NotNull,x1(1,Jf.NotNull)],t4.prototype,"getConflictingAlts",null);n4.DiagnosticErrorListener=t4});var Q7e=Ae(i4=>{"use strict";m();var r4=i4&&i4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},jft=i4&&i4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(i4,"__esModule",{value:!0});i4.LexerInterpreter=void 0;var qft=ty(),Uft=$D(),W7e=wr(),kw=wr(),bx=class extends qft.Lexer{constructor(e,t,r,i,s,o,a){super(a);if(o.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=e,this._atn=o,this._ruleNames=r.slice(0),this._channelNames=i.slice(0),this._modeNames=s.slice(0),this._vocabulary=t,this._interp=new Uft.LexerATNSimulator(o,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};r4([W7e.NotNull],bx.prototype,"_vocabulary",void 0);r4([kw.Override],bx.prototype,"atn",null);r4([kw.Override],bx.prototype,"grammarFileName",null);r4([kw.Override],bx.prototype,"ruleNames",null);r4([kw.Override],bx.prototype,"channelNames",null);r4([kw.Override],bx.prototype,"modeNames",null);r4([kw.Override],bx.prototype,"vocabulary",null);bx=r4([jft(1,W7e.NotNull)],bx);i4.LexerInterpreter=bx});var Y7e=Ae(G7e=>{"use strict";m();Object.defineProperty(G7e,"__esModule",{value:!0})});var K7e=Ae(Iw=>{"use strict";m();var $ft=Iw&&Iw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Iw,"__esModule",{value:!0});Iw.RuleContextWithAltNum=void 0;var zft=wm(),Hft=wr(),Vft=d1(),Nie=class extends Vft.ParserRuleContext{constructor(e,t){t!==void 0?super(e,t):super(),this._altNumber=zft.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(e){this._altNumber=e}};$ft([Hft.Override],Nie.prototype,"altNumber",null);Iw.RuleContextWithAltNum=Nie});var J7e=Ae(SU=>{"use strict";m();Object.defineProperty(SU,"__esModule",{value:!0});SU.RuleDependency=void 0;function Wft(n){return(e,t,r)=>{}}SU.RuleDependency=Wft});var X7e=Ae(wU=>{"use strict";m();Object.defineProperty(wU,"__esModule",{value:!0});wU.RuleVersion=void 0;function Qft(n){return(e,t,r)=>{}}wU.RuleVersion=Qft});var e8e=Ae(Z7e=>{"use strict";m();Object.defineProperty(Z7e,"__esModule",{value:!0})});var n8e=Ae(t8e=>{"use strict";m();Object.defineProperty(t8e,"__esModule",{value:!0})});var i8e=Ae(r8e=>{"use strict";m();Object.defineProperty(r8e,"__esModule",{value:!0})});var a8e=Ae(o4=>{"use strict";m();var CU=o4&&o4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(o4,"__esModule",{value:!0});o4.RewriteOperation=o4.TokenStreamRewriter=void 0;var s8e=M0(),AU=wr(),o8e=ou(),Xf=class{constructor(e){this.tokens=e,this.programs=new Map,this.programs.set(Xf.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(e,t=Xf.DEFAULT_PROGRAM_NAME){let r=this.programs.get(t);r!=null&&this.programs.set(t,r.slice(Xf.MIN_TOKEN_INDEX,e))}deleteProgram(e=Xf.DEFAULT_PROGRAM_NAME){this.rollback(Xf.MIN_TOKEN_INDEX,e)}insertAfter(e,t,r=Xf.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new Lie(this.tokens,i,s.length,t);s.push(o)}insertBefore(e,t,r=Xf.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new s4(this.tokens,i,s.length,t);s.push(o)}replaceSingle(e,t){typeof e=="number"?this.replace(e,e,t):this.replace(e,e,t)}replace(e,t,r,i=Xf.DEFAULT_PROGRAM_NAME){if(typeof e!="number"&&(e=e.tokenIndex),typeof t!="number"&&(t=t.tokenIndex),e>t||e<0||t<0||t>=this.tokens.size)throw new RangeError(`replace: range invalid: ${e}..${t}(size=${this.tokens.size})`);let s=this.getProgram(i),o=new G6(this.tokens,e,t,s.length,r);s.push(o)}delete(e,t,r=Xf.DEFAULT_PROGRAM_NAME){t===void 0&&(t=e),typeof e=="number"?this.replace(e,t,"",r):this.replace(e,t,"",r)}getLastRewriteTokenIndex(e=Xf.DEFAULT_PROGRAM_NAME){let t=this.lastRewriteTokenIndexes.get(e);return t??-1}setLastRewriteTokenIndex(e,t){this.lastRewriteTokenIndexes.set(e,t)}getProgram(e){let t=this.programs.get(e);return t==null&&(t=this.initializeProgram(e)),t}initializeProgram(e){let t=[];return this.programs.set(e,t),t}getText(e,t=Xf.DEFAULT_PROGRAM_NAME){let r;e instanceof s8e.Interval?r=e:r=s8e.Interval.of(0,this.tokens.size-1),typeof e=="string"&&(t=e);let i=this.programs.get(t),s=r.a,o=r.b;if(o>this.tokens.size-1&&(o=this.tokens.size-1),s<0&&(s=0),i==null||i.length===0)return this.tokens.getText(r);let a=[],l=this.reduceToSingleOperationPerIndex(i),f=s;for(;f<=o&&f<this.tokens.size;){let p=l.get(f);l.delete(f);let _=this.tokens.get(f);p==null?(_.type!==o8e.Token.EOF&&a.push(String(_.text)),f++):f=p.execute(a)}if(o===this.tokens.size-1)for(let p of l.values())p.index>=this.tokens.size-1&&a.push(p.text.toString());return a.join("")}reduceToSingleOperationPerIndex(e){for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof G6))continue;let s=i,o=this.getKindOfOps(e,s4,r);for(let l of o)l.index===s.index?(e[l.instructionIndex]=void 0,s.text=l.text.toString()+(s.text!=null?s.text.toString():"")):l.index>s.index&&l.index<=s.lastIndex&&(e[l.instructionIndex]=void 0);let a=this.getKindOfOps(e,G6,r);for(let l of a){if(l.index>=s.index&&l.lastIndex<=s.lastIndex){e[l.instructionIndex]=void 0;continue}let f=l.lastIndex<s.index||l.index>s.lastIndex;if(l.text==null&&s.text==null&&!f)e[l.instructionIndex]=void 0,s.index=Math.min(l.index,s.index),s.lastIndex=Math.max(l.lastIndex,s.lastIndex);else if(!f)throw new Error(`replace op boundaries of ${s} overlap with previous ${l}`)}}for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof s4))continue;let s=i,o=this.getKindOfOps(e,s4,r);for(let l of o)l.index===s.index&&(l instanceof Lie?(s.text=this.catOpText(l.text,s.text),e[l.instructionIndex]=void 0):l instanceof s4&&(s.text=this.catOpText(s.text,l.text),e[l.instructionIndex]=void 0));let a=this.getKindOfOps(e,G6,r);for(let l of a){if(s.index===l.index){l.text=this.catOpText(s.text,l.text),e[r]=void 0;continue}if(s.index>=l.index&&s.index<=l.lastIndex)throw new Error(`insert op ${s} within boundaries of previous ${l}`)}}let t=new Map;for(let r of e)if(r!=null){if(t.get(r.index)!=null)throw new Error("should only be one op per index");t.set(r.index,r)}return t}catOpText(e,t){let r="",i="";return e!=null&&(r=e.toString()),t!=null&&(i=t.toString()),r+i}getKindOfOps(e,t,r){let i=[];for(let s=0;s<r&&s<e.length;s++){let o=e[s];o!=null&&o instanceof t&&i.push(o)}return i}};o4.TokenStreamRewriter=Xf;Xf.DEFAULT_PROGRAM_NAME="default";Xf.PROGRAM_INIT_SIZE=100;Xf.MIN_TOKEN_INDEX=0;var yO=class{constructor(e,t,r,i){this.tokens=e,this.instructionIndex=r,this.index=t,this.text=i===void 0?"":i}execute(e){return this.index}toString(){let e=this.constructor.name,t=e.indexOf("$");return e=e.substring(t+1,e.length),"<"+e+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}};CU([AU.Override],yO.prototype,"toString",null);o4.RewriteOperation=yO;var s4=class extends yO{constructor(e,t,r,i){super(e,t,r,i)}execute(e){return e.push(this.text.toString()),this.tokens.get(this.index).type!==o8e.Token.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}};CU([AU.Override],s4.prototype,"execute",null);var Lie=class extends s4{constructor(e,t,r,i){super(e,t+1,r,i)}},G6=class extends yO{constructor(e,t,r,i,s){super(e,t,i,s);this.lastIndex=r}execute(e){return this.text!=null&&e.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}};CU([AU.Override],G6.prototype,"execute",null);CU([AU.Override],G6.prototype,"toString",null)});var l8e=Ae(u8e=>{"use strict";m();Object.defineProperty(u8e,"__esModule",{value:!0})});var f8e=Ae(c8e=>{"use strict";m();Object.defineProperty(c8e,"__esModule",{value:!0})});var d8e=Ae(ws=>{"use strict";m();var Gft=ws&&ws.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ks=ws&&ws.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Gft(e,n,t)};Object.defineProperty(ws,"__esModule",{value:!0});Ks(Nve(),ws);Ks(kve(),ws);Ks(C6e(),ws);Ks(gie(),ws);Ks(Jre(),ws);Ks(z7e(),ws);Ks(nU(),ws);Ks(Qre(),ws);Ks(Gre(),ws);Ks(eS(),ws);Ks(nq(),ws);Ks(sU(),ws);Ks(One(),ws);Ks(bU(),ws);Ks(H7e(),ws);Ks(V7e(),ws);Ks(_D(),ws);Ks(bD(),ws);Ks(nie(),ws);Ks(Ug(),ws);Ks(ty(),ws);Ks(Q7e(),ws);Ks(qD(),ws);Ks(Zre(),ws);Ks(JD(),ws);Ks(WS(),ws);Ks(Y7e(),ws);Ks(iie(),ws);Ks(d1(),ws);Ks(yq(),ws);Ks(Wre(),ws);Ks(zg(),ws);Ks(oS(),ws);Ks(gre(),ws);Ks(K7e(),ws);Ks(J7e(),ws);Ks(X7e(),ws);Ks(ou(),ws);Ks(e8e(),ws);Ks(n8e(),ws);Ks(i8e(),ws);Ks(a8e(),ws);Ks(l8e(),ws);Ks(Jg(),ws);Ks(f8e(),ws)});var p8e=Ae(Ex=>{"use strict";m();var Yft=Ex&&Ex.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Kft=Ex&&Ex.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Jft=Ex&&Ex.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Yft(e,n,t);return Kft(e,n),e};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.MalloyLexer=void 0;var Xft=sO(),Zft=ty(),e0t=$D(),t0t=Jg(),h8e=Jft(Sm()),rr=class extends Zft.Lexer{constructor(e){super(e);this._interp=new e0t.LexerATNSimulator(rr._ATN,this)}get vocabulary(){return rr.VOCABULARY}get grammarFileName(){return"MalloyLexer.g4"}get ruleNames(){return rr.ruleNames}get serializedATN(){return rr._serializedATN}get channelNames(){return rr.channelNames}get modeNames(){return rr.modeNames}static get _ATN(){return rr.__ATN||(rr.__ATN=new Xft.ATNDeserializer().deserialize(h8e.toCharArray(rr._serializedATN))),rr.__ATN}};Ex.MalloyLexer=rr;rr.JSON_STRING=1;rr.ACCEPT=2;rr.AGGREGATE=3;rr.DECLARE=4;rr.DIMENSION=5;rr.EXCEPT=6;rr.EXPLORE=7;rr.GROUP_BY=8;rr.HAVING=9;rr.INDEX=10;rr.JOIN_CROSS=11;rr.JOIN_ONE=12;rr.JOIN_MANY=13;rr.LIMIT=14;rr.MEASURE=15;rr.NEST=16;rr.ORDER_BY=17;rr.PRIMARY_KEY=18;rr.PROJECT=19;rr.QUERY=20;rr.RENAME=21;rr.SAMPLE=22;rr.SOURCE=23;rr.SQL=24;rr.FANCYSQL=25;rr.TOP=26;rr.WHERE=27;rr.ALL=28;rr.AND=29;rr.AS=30;rr.ASC=31;rr.AVG=32;rr.BOOLEAN=33;rr.BY=34;rr.CASE=35;rr.CAST=36;rr.CONDITION=37;rr.COUNT=38;rr.DATE=39;rr.DAY=40;rr.DESC=41;rr.DISTINCT=42;rr.ELSE=43;rr.END=44;rr.EXCLUDE=45;rr.FALSE=46;rr.FOR=47;rr.FROM=48;rr.FROM_SQL=49;rr.HAS=50;rr.HOUR=51;rr.IMPORT=52;rr.IS=53;rr.JSON=54;rr.LAST=55;rr.MAX=56;rr.MIN=57;rr.MINUTE=58;rr.MONTH=59;rr.NOT=60;rr.NOW=61;rr.NULL=62;rr.NUMBER=63;rr.ON=64;rr.OR=65;rr.PICK=66;rr.QMARK=67;rr.QUARTER=68;rr.SECOND=69;rr.STRING=70;rr.SUM=71;rr.TABLE=72;rr.THEN=73;rr.THIS=74;rr.TIMESTAMP=75;rr.TO=76;rr.TRUE=77;rr.TURTLE=78;rr.WEEK=79;rr.WHEN=80;rr.WITH=81;rr.YEAR=82;rr.UNGROUPED=83;rr.STRING_ESCAPE=84;rr.HACKY_REGEX=85;rr.STRING_LITERAL=86;rr.AMPER=87;rr.ARROW=88;rr.FAT_ARROW=89;rr.OPAREN=90;rr.CPAREN=91;rr.OBRACK=92;rr.CBRACK=93;rr.OCURLY=94;rr.CCURLY=95;rr.DOUBLECOLON=96;rr.COLON=97;rr.COMMA=98;rr.DOT=99;rr.LT=100;rr.GT=101;rr.EQ=102;rr.NE=103;rr.LTE=104;rr.GTE=105;rr.PLUS=106;rr.MINUS=107;rr.STAR=108;rr.STARSTAR=109;rr.SLASH=110;rr.BAR=111;rr.SEMI=112;rr.NOT_MATCH=113;rr.MATCH=114;rr.LITERAL_TIMESTAMP=115;rr.LITERAL_DAY=116;rr.LITERAL_QUARTER=117;rr.LITERAL_MONTH=118;rr.LITERAL_WEEK=119;rr.LITERAL_YEAR=120;rr.IDENTIFIER=121;rr.PERCENT_LITERAL=122;rr.INTEGER_LITERAL=123;rr.NUMERIC_LITERAL=124;rr.OBJECT_NAME_LITERAL=125;rr.BLOCK_COMMENT=126;rr.COMMENT_TO_EOL=127;rr.WHITE_SPACE=128;rr.SQL_STRING=129;rr.UNWATED_CHARS_TRAILING_NUMBERS=130;rr.UNEXPECTED_CHAR=131;rr.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];rr.modeNames=["DEFAULT_MODE"];rr.ruleNames=["JSON_STRING","ESC","UNICODE","HEX","SAFECODEPOINT","SPACE_CHAR","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","F_YEAR","F_DD","LX","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","ID_CHAR","DIGIT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];rr._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'"];rr._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];rr.VOCABULARY=new t0t.VocabularyImpl(rr._LITERAL_NAMES,rr._SYMBOLIC_NAMES,[]);rr._serializedATNSegments=4;rr._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x85\u0580\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	fg	gh	hi	ij	jk	kl	lm	mn	no	op	pq	qr	rs	st	tu	uv	vw	wx	xy	yz	z{	{|	|}	}~	~\x7F	\x7F\x80	\x80\x81	\x81\x82	\x82\x83	\x83\x84	\x84\x85	\x85\x86	\x86\x87	\x87\x88	\x88\x89	\x89\x8A	\x8A\x8B	\x8B\x8C	\x8C\x8D	\x8D\x8E	\x8E\x8F	\x8F\x90	\x90\x91	\x91\x92	\x92\x93	\x93\x94	\x94\x95	\x95\x96	\x96\x97	\x97\x98	\x98\x99	\x99\x9A	\x9A\x9B	\x9B\x9C	\x9C\x9D	\x9D\x9E	\x9E\x9F	\x9F\xA0	\xA0\xA1	\xA1\xA2	\xA2\xA3	\xA3\xA4	\xA4\xA5	\xA5\xA6	\xA6\xA7	\xA7\xA8	\xA8\x07\u0155
\f\u0158\v\u015F
\x07\x07\b\b\b\b\b\b\b\x07\b\u0174
\b\f\b\b\u0177\v\b\b\b										\x07	\u0185
	\f		\u0188\v			








\v\v\v\v\v\v\v\v\v\v\x07\v\u019F
\v\f\v\v\u01A2\v\v\v\v\f\f\f\f\f\f\f\x07\f\u01AD
\f\f\f\f\u01B0\v\f\f\f\r\r\r\r\r\r\r\r\x07\r\u01BC
\r\f\r\r\u01BF\v\r\r\r\x07\u01CC
\f\u01CF\v\x07\u01DA
\f\u01DD\v\x07\u01E7
\f\u01EA\v\x07\u0203
\f\u0206\v\x07\u0214
\f\u0217\v\x07\u0221
\f\u0224\v\x07\u0230
\f\u0233\v\x07\u023C
\f\u023F\v\x07\u024C
\f\u024F\v\x07\u025F
\f\u0262\v\x07\u026E
\f\u0271\v\x07\u027B
\f\u027E\v\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x07\x1B\u0289
\x1B\f\x1B\x1B\u028C\v\x1B\x1B\x1B\x07\u0297
\f\u029A\v\x07\u02A5
\f\u02A8\v\x07\u02B0
\f\u02B3\v\x07\u02BF
\f\u02C2\v    \x07 \u02CA
 \f  \u02CD\v   !!!!!!\x07!\u02D7
!\f!!\u02DA\v!!!""""####$$$%%%%&&&&''''''''((()))))*****++++++++++,,,,,,-----.....\u031F
./////000000000111112222333333334444445555666667777777778888999999\u0361
9:::::::;;;<<<<<=====>>>>????@@@@@@@@\u0386
@AAAAAAA\u038E
ABBBBCCCCDDDDDEEEEEEEFFFGGGHHHHHIIJJJJJJJJJ\u03B9
JKKKKKKKK\u03C2
KLLLLLLLMMMMNNNNNNOOOOOPPPPPQQQQQQQQQQRRRSSSSSTTTTTTTUUUUUU\u03FD
UVVVVVWWWWWXXXXXX\u040E
XYYYYYYYYYYZZZZZZZ\u0420
Z[[\u0423
[[[[\x07[\u0428
[\f[[\u042B\v[[[\\\\\\\x07\\\u0432
\\\f\\\\\u0435\v\\\\\\]]^^^___\`\`aabbccddeefffgghhiijjkkllmmmnnnoooppqqrrsssttuuvvwwwxxyyyyyzzz{{{{{\u0485
{\r{{\u0486|||||||||||||\u0495
|||\u0498
|}}}}}}}}\u04A1
}~~~~~~~\u04A9
~\x7F\x7F\x7F\x7F\x7F\x7F\u04B0
\x7F\x80\x80\x80\x80\x80\x80\x80\x80\x80\x80\u04BB
\x80\x81\x81\x81\x81\u04C0
\x81\x82\x82\x82\x07\x82\u04C5
\x82\f\x82\x82\u04C8\v\x82\x83\x83\u04CB
\x83\r\x83\x83\u04CC\x83\x83\x84\x84\u04D2
\x84\r\x84\x84\u04D3\x85\x85\u04D7
\x85\r\x85\x85\u04D8\x85\x85\x07\x85\u04DD
\x85\f\x85\x85\u04E0\v\x85\x85\u04E2
\x85\x85\x85\x85\u04E6
\x85\r\x85\x85\u04E7\x85\x85\x85\u04EC
\x85\x85\x85\u04EF
\x85\r\x85\x85\u04F0\x85\u04F3
\x85\x85\u04F5
\x85\x86\x86\x86\x86\x86\x07\x86\u04FC
\x86\f\x86\x86\u04FF\v\x86\x86\x86\x87\x87\x88\x88\x89\x89\x8A\x8A\x8B\x8B\x8C\x8C\x8D\x8D\x8E\x8E\x8F\x8F\x90\x90\x91\x91\x92\x92\x93\x93\x94\x94\x95\x95\x96\x96\x97\x97\x98\x98\x99\x99\x9A\x9A\x9B\x9B\x9C\x9C\x9D\x9D\x9E\x9E\x9F\x9F\xA0\xA0\xA1\xA1\xA2\xA2\xA3\xA3\xA3\xA3\x07\xA3\u053F
\xA3\f\xA3\xA3\u0542\v\xA3\xA3\xA3\xA3\xA3\xA3\xA4\xA4\xA4\xA4\xA4\u054D
\xA4\xA4\x07\xA4\u0550
\xA4\f\xA4\xA4\u0553\v\xA4\xA4\xA4\u0556
\xA4\xA4\xA4\xA4\u055A
\xA4\xA4\xA4\xA5\xA5\xA5\xA5\xA6\xA6\xA6\xA6\x07\xA6\u0566
\xA6\f\xA6\xA6\u0569\v\xA6\xA6\xA6\xA6\xA7\xA7\u056F
\xA7\r\xA7\xA7\u0570\xA7\xA7\u0574
\xA7\r\xA7\xA7\u0575\xA7\xA7\x07\xA7\u057A
\xA7\f\xA7\xA7\u057D\v\xA7\xA8\xA8\u0540\u0567\xA9\x07	\v\r\x07\b	\x1B
\v\f!\r#%')+-/13579;=\x1B?ACEG I!K"M#O$Q%S&U'W(Y)[*]+_,a-c.e/g0i1k2m3o4q5s6u7w8y9{:};\x7F<\x81=\x83>\x85?\x87@\x89A\x8BB\x8DC\x8FD\x91E\x93F\x95G\x97H\x99I\x9BJ\x9DK\x9FL\xA1M\xA3N\xA5O\xA7P\xA9Q\xABR\xADS\xAFT\xB1U\xB3V\xB5W\xB7X\xB9Y\xBBZ\xBD[\xBF\\\xC1]\xC3^\xC5_\xC7\`\xC9a\xCBb\xCDc\xCFd\xD1e\xD3f\xD5g\xD7h\xD9i\xDBj\xDDk\xDFl\xE1m\xE3n\xE5o\xE7p\xE9q\xEBr\xEDs\xEFt\xF1\xF3\xF5\xF7u\xF9v\xFBw\xFDx\xFFy\u0101z\u0103{\u0105|\u0107}\u0109~\u010B\x7F\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0139\u013B\u013D\u013F\u0141\u0143\u0145\x80\u0147\x81\u0149\x82\u014B\x83\u014D\x84\u014F\x85%
$$11^^ddhhppttvv2;CHch!$$^^\v\r""11TTtt))^^--//2;CCccDDddEEeeFFffGGggHHhhIIiiJJjjKKkkLLllMMmmNNnnOOooPPppQQqqRRrrSSssTTttUUuuVVvvWWwwXXxxYYyyZZzz[[{{\\\\||\f\f\u0287C\\aac|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0347\u0347\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05B2\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0612\u061C\u0622\u0659\u065B\u0661\u0670\u06D5\u06D7\u06DE\u06E3\u06EA\u06EF\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0741\u074F\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0819\u081C\u082E\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u08D6\u08E1\u08E5\u08EB\u08F2\u093D\u093F\u094E\u0950\u0952\u0957\u0965\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09C6\u09C9\u09CA\u09CD\u09CE\u09D0\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09F2\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4E\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A72\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0AC7\u0AC9\u0ACB\u0ACD\u0ACE\u0AD2\u0AD2\u0AE2\u0AE5\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B46\u0B49\u0B4A\u0B4D\u0B4E\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCE\u0BD2\u0BD2\u0BD9\u0BD9\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4E\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CC6\u0CC8\u0CCA\u0CCC\u0CCE\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D4E\u0D50\u0D50\u0D56\u0D59\u0D61\u0D65\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E48\u0E4F\u0E4F\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECF\u0ECF\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F73\u0F83\u0F8A\u0F99\u0F9B\u0FBE\u1002\u1038\u103A\u103A\u103D\u1041\u1052\u1064\u1067\u106A\u1070\u1088\u1090\u1090\u109E\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1361\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1715\u1722\u1735\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17B5\u17B8\u17CA\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193A\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A1D\u1A22\u1A60\u1A63\u1A76\u1AA9\u1AA9\u1B02\u1B35\u1B37\u1B45\u1B47\u1B4D\u1B82\u1BAB\u1BAE\u1BB1\u1BBC\u1BE7\u1BE9\u1BF3\u1C02\u1C37\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF5\u1CF7\u1CF8\u1D02\u1DC1\u1DE9\u1DF6\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u24B8\u24EB\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2`;rr._serializedATNSegment1=`\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA676\uA67D\uA681\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA829\uA842\uA875\uA882\uA8C5\uA8C7\uA8C7\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA92C\uA932\uA954\uA962\uA97E\uA982\uA9B4\uA9B6\uA9C1\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAC0\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF7\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1047\u1084\u10BA\u10D2\u10EA\u1102\u1134\u1152\u1174\u1178\u1178\u1182\u11C1\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1236\u1239\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EA\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u1346\u1349\u134A\u134D\u134E\u1352\u1352\u1359\u1359\u135F\u1365\u1402\u1443\u1445\u1447\u1449\u144C\u1482\u14C3\u14C6\u14C7\u14C9\u14C9\u1582\u15B7\u15BA\u15C0\u15DA\u15DF\u1602\u1640\u1642\u1642\u1646\u1646\u1682\u16B7\u1702\u171B\u171F\u172C\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C40\u1C42\u1C42\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B38\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBCA0\uBCA0\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE902\uE945\uE949\uE949\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uF132\uF14B\uF152\uF16B\uF172\uF18B\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F\u05A6\x1B!#%')+-/13579;=?ACEGIKMOQSUWY[]_acegikmoqsuwy{}\x7F\x81\x83\x85\x87\x89\x8B\x8D\x8F\x91\x93\x95\x97\x99\x9B\x9D\x9F\xA1\xA3\xA5\xA7\xA9\xAB\xAD\xAF\xB1\xB3\xB5\xB7\xB9\xBB\xBD\xBF\xC1\xC3\xC5\xC7\xC9\xCB\xCD\xCF\xD1\xD3\xD5\xD7\xD9\xDB\xDD\xDF\xE1\xE3\xE5\xE7\xE9\xEB\xED\xEF\xF7\xF9\xFB\xFD\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u0145\u0147\u0149\u014B\u014D\u014F\u0151\u015B\x07\u0160	\u0166\v\u0168\r\u016A\u016C\u017A\u018B\u0194\u01A5\u01B3\x1B\u01C2\u01D2\u01E0!\u01ED#\u01F9%\u0209'\u021A)\u0227+\u0236-\u0242/\u02521\u02653\u02745\u02817\u028F9\u029D;\u02AB=\u02B6?\u02C5A\u02D0C\u02DDE\u02E1G\u02E5I\u02E8K\u02ECM\u02F0O\u02F8Q\u02FBS\u0300U\u0305W\u030FY\u0315[\u031A]\u0320_\u0325a\u032Ec\u0333e\u0337g\u033Fi\u0345k\u0349m\u034Eo\u0357q\u035Bs\u0362u\u0369w\u036Cy\u0371{\u0376}\u037A\x7F\u037E\x81\u0387\x83\u038F\x85\u0393\x87\u0397\x89\u039C\x8B\u03A3\x8D\u03A6\x8F\u03A9\x91\u03AE\x93\u03B0\x95\u03BA\x97\u03C3\x99\u03CA\x9B\u03CE\x9D\u03D4\x9F\u03D9\xA1\u03DE\xA3\u03E8\xA5\u03EB\xA7\u03F0\xA9\u03F7\xAB\u03FE\xAD\u0403\xAF\u0408\xB1\u040F\xB3\u041F\xB5\u0422\xB7\u042E\xB9\u0438\xBB\u043A\xBD\u043D\xBF\u0440\xC1\u0442\xC3\u0444\xC5\u0446\xC7\u0448\xC9\u044A\xCB\u044C\xCD\u044F\xCF\u0451\xD1\u0453\xD3\u0455\xD5\u0457\xD7\u0459\xD9\u045B\xDB\u045E\xDD\u0461\xDF\u0464\xE1\u0466\xE3\u0468\xE5\u046A\xE7\u046D\xE9\u046F\xEB\u0471\xED\u0473\xEF\u0476\xF1\u0478\xF3\u047D\xF5\u0480\xF7\u0488\xF9\u0499\xFB\u04A2\xFD\u04AA\xFF\u04B1\u0101\u04BC\u0103\u04C1\u0105\u04CA\u0107\u04D1\u0109\u04F4\u010B\u04F6\u010D\u0502\u010F\u0504\u0111\u0506\u0113\u0508\u0115\u050A\u0117\u050C\u0119\u050E\u011B\u0510\u011D\u0512\u011F\u0514\u0121\u0516\u0123\u0518\u0125\u051A\u0127\u051C\u0129\u051E\u012B\u0520\u012D\u0522\u012F\u0524\u0131\u0526\u0133\u0528\u0135\u052A\u0137\u052C\u0139\u052E\u013B\u0530\u013D\u0532\u013F\u0534\u0141\u0536\u0143\u0538\u0145\u053A\u0147\u054C\u0149\u055D\u014B\u0561\u014D\u056E\u014F\u057E\u0151\u0156\x07$\u0152\u0155\u0153\u0155\v\u0154\u0152\u0154\u0153\u0155\u0158\u0156\u0154\u0156\u0157\u0157\u0159\u0158\u0156\u0159\u015A\x07$\u015A\u015B\u015E\x07^\u015C\u015F	\u015D\u015F\x07\u015E\u015C\u015E\u015D\u015F\u0160\u0161\x07w\u0161\u0162	\u0162\u0163	\u0163\u0164	\u0164\u0165	\u0165\b\u0166\u0167	\u0167
\u0168\u0169
\u0169\f\u016A\u016B	\u016B\u016C\u016D\u0111\x89\u016D\u016E\u0115\x8B\u016E\u016F\u0115\x8B\u016F\u0170\u0119\x8D\u0170\u0171\u012F\x98\u0171\u0175\u0137\x9C\u0172\u0174\r\x07\u0173\u0172\u0174\u0177\u0175\u0173\u0175\u0176\u0176\u0178\u0177\u0175\u0178\u0179\x07<\u0179\u017A\u017B\u0111\x89\u017B\u017C\u011D\x8F\u017C\u017D\u011D\x8F\u017D\u017E\u0133\x9A\u017E\u017F\u0119\x8D\u017F\u0180\u011D\x8F\u0180\u0181\u0111\x89\u0181\u0182\u0137\x9C\u0182\u0186\u0119\x8D\u0183\u0185\r\x07\u0184\u0183\u0185\u0188\u0186\u0184\u0186\u0187\u0187\u0189\u0188\u0186\u0189\u018A\x07<\u018A\u018B\u018C\u0117\x8C\u018C\u018D\u0119\x8D\u018D\u018E\u0115\x8B\u018E\u018F\u0127\x94\u018F\u0190\u0111\x89\u0190\u0191\u0133\x9A\u0191\u0192\u0119\x8D\u0192\u0193\x07<\u0193\u0194\u0195\u0117\x8C\u0195\u0196\u0121\x91\u0196\u0197\u0129\x95\u0197\u0198\u0119\x8D\u0198\u0199\u012B\x96\u0199\u019A\u0135\x9B\u019A\u019B\u0121\x91\u019B\u019C\u012D\x97\u019C\u01A0\u012B\x96\u019D\u019F\r\x07\u019E\u019D\u019F\u01A2\u01A0\u019E\u01A0\u01A1\u01A1\u01A3\u01A2\u01A0\u01A3\u01A4\x07<\u01A4\u01A5\u01A6\u0119\x8D\u01A6\u01A7\u013F\xA0\u01A7\u01A8\u0115\x8B\u01A8\u01A9\u0119\x8D\u01A9\u01AA\u012F\x98\u01AA\u01AE\u0137\x9C\u01AB\u01AD\r\x07\u01AC\u01AB\u01AD\u01B0\u01AE\u01AC\u01AE\u01AF\u01AF\u01B1\u01B0\u01AE\u01B1\u01B2\x07<\u01B2\u01B3\u01B4\u0119\x8D\u01B4\u01B5\u013F\xA0\u01B5\u01B6\u012F\x98\u01B6\u01B7\u0127\x94\u01B7\u01B8\u012D\x97\u01B8\u01B9\u0133\x9A\u01B9\u01BD\u0119\x8D\u01BA\u01BC\r\x07\u01BB\u01BA\u01BC\u01BF\u01BD\u01BB\u01BD\u01BE\u01BE\u01C0\u01BF\u01BD\u01C0\u01C1\x07<\u01C1\u01C2\u01C3\u011D\x8F\u01C3\u01C4\u0133\x9A\u01C4\u01C5\u012D\x97\u01C5\u01C6\u0139\x9D\u01C6\u01C7\u012F\x98\u01C7\u01C8\x07a\u01C8\u01C9\u0113\x8A\u01C9\u01CD\u0141\xA1\u01CA\u01CC\r\x07\u01CB\u01CA\u01CC\u01CF\u01CD\u01CB\u01CD\u01CE\u01CE\u01D0\u01CF\u01CD\u01D0\u01D1\x07<\u01D1\u01D2\u01D3\u011F\x90\u01D3\u01D4\u0111\x89\u01D4\u01D5\u013B\x9E\u01D5\u01D6\u0121\x91\u01D6\u01D7\u012B\x96\u01D7\u01DB\u011D\x8F\u01D8\u01DA\r\x07\u01D9\u01D8\u01DA\u01DD\u01DB\u01D9\u01DB\u01DC\u01DC\u01DE\u01DD\u01DB\u01DE\u01DF\x07<\u01DF\u01E0\u01E1\u0121\x91\u01E1\u01E2\u012B\x96\u01E2\u01E3\u0117\x8C\u01E3\u01E4\u0119\x8D\u01E4\u01E8\u013F\xA0\u01E5\u01E7\r\x07\u01E6\u01E5\u01E7\u01EA\u01E8\u01E6\u01E8\u01E9\u01E9\u01EB\u01EA\u01E8\u01EB\u01EC\x07<\u01EC \u01ED\u01EE\u0123\x92\u01EE\u01EF\u012D\x97\u01EF\u01F0\u0121\x91\u01F0\u01F1\u012B\x96\u01F1\u01F2\x07a\u01F2\u01F3\u0115\x8B\u01F3\u01F4\u0133\x9A\u01F4\u01F5\u012D\x97\u01F5\u01F6\u0135\x9B\u01F6\u01F7\u0135\x9B\u01F7\u01F8\x07<\u01F8"\u01F9\u01FA\u0123\x92\u01FA\u01FB\u012D\x97\u01FB\u01FC\u0121\x91\u01FC\u01FD\u012B\x96\u01FD\u01FE\x07a\u01FE\u01FF\u012D\x97\u01FF\u0200\u012B\x96\u0200\u0204\u0119\x8D\u0201\u0203\r\x07\u0202\u0201\u0203\u0206\u0204\u0202\u0204\u0205\u0205\u0207\u0206\u0204\u0207\u0208\x07<\u0208$\u0209\u020A\u0123\x92\u020A\u020B\u012D\x97\u020B\u020C\u0121\x91\u020C\u020D\u012B\x96\u020D\u020E\x07a\u020E\u020F\u0129\x95\u020F\u0210\u0111\x89\u0210\u0211\u012B\x96\u0211\u0215\u0141\xA1\u0212\u0214\r\x07\u0213\u0212\u0214\u0217\u0215\u0213\u0215\u0216\u0216\u0218\u0217\u0215\u0218\u0219\x07<\u0219&\u021A\u021B\u0127\x94\u021B\u021C\u0121\x91\u021C\u021D\u0129\x95\u021D\u021E\u0121\x91\u021E\u0222\u0137\x9C\u021F\u0221\r\x07\u0220\u021F\u0221\u0224\u0222\u0220\u0222\u0223\u0223\u0225\u0224\u0222\u0225\u0226\x07<\u0226(\u0227\u0228\u0129\x95\u0228\u0229\u0119\x8D\u0229\u022A\u0111\x89\u022A\u022B\u0135\x9B\u022B\u022C\u0139\x9D\u022C\u022D\u0133\x9A\u022D\u0231\u0119\x8D\u022E\u0230\r\x07\u022F\u022E\u0230\u0233\u0231\u022F\u0231\u0232\u0232\u0234\u0233\u0231\u0234\u0235\x07<\u0235*\u0236\u0237\u012B\x96\u0237\u0238\u0119\x8D\u0238\u0239\u0135\x9B\u0239\u023D\u0137\x9C\u023A\u023C\r\x07\u023B\u023A\u023C\u023F\u023D\u023B\u023D\u023E\u023E\u0240\u023F\u023D\u0240\u0241\x07<\u0241,\u0242\u0243\u012D\x97\u0243\u0244\u0133\x9A\u0244\u0245\u0117\x8C\u0245\u0246\u0119\x8D\u0246\u0247\u0133\x9A\u0247\u0248\x07a\u0248\u0249\u0113\x8A\u0249\u024D\u0141\xA1\u024A\u024C\r\x07\u024B\u024A\u024C\u024F\u024D\u024B\u024D\u024E\u024E\u0250\u024F\u024D\u0250\u0251\x07<\u0251.\u0252\u0253\u012F\x98\u0253\u0254\u0133\x9A\u0254\u0255\u0121\x91\u0255\u0256\u0129\x95\u0256\u0257\u0111\x89\u0257\u0258\u0133\x9A\u0258\u0259\u0141\xA1\u0259\u025A\x07a\u025A\u025B\u0125\x93\u025B\u025C\u0119\x8D\u025C\u0260\u0141\xA1\u025D\u025F\r\x07\u025E\u025D\u025F\u0262\u0260\u025E\u0260\u0261\u0261\u0263\u0262\u0260\u0263\u0264\x07<\u02640\u0265\u0266\u012F\x98\u0266\u0267\u0133\x9A\u0267\u0268\u012D\x97\u0268\u0269\u0123\x92\u0269\u026A\u0119\x8D\u026A\u026B\u0115\x8B\u026B\u026F\u0137\x9C\u026C\u026E\r\x07\u026D\u026C\u026E\u0271\u026F\u026D\u026F\u0270\u0270\u0272\u0271\u026F\u0272\u0273\x07<\u02732\u0274\u0275\u0131\x99\u0275\u0276\u0139\x9D\u0276\u0277\u0119\x8D\u0277\u0278\u0133\x9A\u0278\u027C\u0141\xA1\u0279\u027B\r\x07\u027A\u0279\u027B\u027E\u027C\u027A\u027C\u027D\u027D\u027F\u027E\u027C\u027F\u0280\x07<\u02804\u0281\u0282\u0133\x9A\u0282\u0283\u0119\x8D\u0283`;rr._serializedATNSegment2=`\u0284\u012B\x96\u0284\u0285\u0111\x89\u0285\u0286\u0129\x95\u0286\u028A\u0119\x8D\u0287\u0289\r\x07\u0288\u0287\u0289\u028C\u028A\u0288\u028A\u028B\u028B\u028D\u028C\u028A\u028D\u028E\x07<\u028E6\u028F\u0290\u0135\x9B\u0290\u0291\u0111\x89\u0291\u0292\u0129\x95\u0292\u0293\u012F\x98\u0293\u0294\u0127\x94\u0294\u0298\u0119\x8D\u0295\u0297\r\x07\u0296\u0295\u0297\u029A\u0298\u0296\u0298\u0299\u0299\u029B\u029A\u0298\u029B\u029C\x07<\u029C8\u029D\u029E\u0135\x9B\u029E\u029F\u012D\x97\u029F\u02A0\u0139\x9D\u02A0\u02A1\u0133\x9A\u02A1\u02A2\u0115\x8B\u02A2\u02A6\u0119\x8D\u02A3\u02A5\r\x07\u02A4\u02A3\u02A5\u02A8\u02A6\u02A4\u02A6\u02A7\u02A7\u02A9\u02A8\u02A6\u02A9\u02AA\x07<\u02AA:\u02AB\u02AC\u0135\x9B\u02AC\u02AD\u0131\x99\u02AD\u02B1\u0127\x94\u02AE\u02B0\r\x07\u02AF\u02AE\u02B0\u02B3\u02B1\u02AF\u02B1\u02B2\u02B2\u02B4\u02B3\u02B1\u02B4\u02B5\x07<\u02B5<\u02B6\u02B7\u0137\x9C\u02B7\u02B8\u0139\x9D\u02B8\u02B9\u0133\x9A\u02B9\u02BA\u0117\x8C\u02BA\u02BB\u0139\x9D\u02BB\u02BC\u0115\x8B\u02BC\u02C0\u0125\x93\u02BD\u02BF\r\x07\u02BE\u02BD\u02BF\u02C2\u02C0\u02BE\u02C0\u02C1\u02C1\u02C3\u02C2\u02C0\u02C3\u02C4\x07<\u02C4>\u02C5\u02C6\u0137\x9C\u02C6\u02C7\u012D\x97\u02C7\u02CB\u012F\x98\u02C8\u02CA\r\x07\u02C9\u02C8\u02CA\u02CD\u02CB\u02C9\u02CB\u02CC\u02CC\u02CE\u02CD\u02CB\u02CE\u02CF\x07<\u02CF@\u02D0\u02D1\u013D\x9F\u02D1\u02D2\u011F\x90\u02D2\u02D3\u0119\x8D\u02D3\u02D4\u0133\x9A\u02D4\u02D8\u0119\x8D\u02D5\u02D7\r\x07\u02D6\u02D5\u02D7\u02DA\u02D8\u02D6\u02D8\u02D9\u02D9\u02DB\u02DA\u02D8\u02DB\u02DC\x07<\u02DCB\u02DD\u02DE\u0111\x89\u02DE\u02DF\u0127\x94\u02DF\u02E0\u0127\x94\u02E0D\u02E1\u02E2\u0111\x89\u02E2\u02E3\u012B\x96\u02E3\u02E4\u0117\x8C\u02E4F\u02E5\u02E6\u0111\x89\u02E6\u02E7\u0135\x9B\u02E7H\u02E8\u02E9\u0111\x89\u02E9\u02EA\u0135\x9B\u02EA\u02EB\u0115\x8B\u02EBJ\u02EC\u02ED\u0111\x89\u02ED\u02EE\u013B\x9E\u02EE\u02EF\u011D\x8F\u02EFL\u02F0\u02F1\u0113\x8A\u02F1\u02F2\u012D\x97\u02F2\u02F3\u012D\x97\u02F3\u02F4\u0127\x94\u02F4\u02F5\u0119\x8D\u02F5\u02F6\u0111\x89\u02F6\u02F7\u012B\x96\u02F7N\u02F8\u02F9\u0113\x8A\u02F9\u02FA\u0141\xA1\u02FAP\u02FB\u02FC\u0115\x8B\u02FC\u02FD\u0111\x89\u02FD\u02FE\u0135\x9B\u02FE\u02FF\u0119\x8D\u02FFR\u0300\u0301\u0115\x8B\u0301\u0302\u0111\x89\u0302\u0303\u0135\x9B\u0303\u0304\u0137\x9C\u0304T\u0305\u0306\u0115\x8B\u0306\u0307\u012D\x97\u0307\u0308\u012B\x96\u0308\u0309\u0117\x8C\u0309\u030A\u0121\x91\u030A\u030B\u0137\x9C\u030B\u030C\u0121\x91\u030C\u030D\u012D\x97\u030D\u030E\u012B\x96\u030EV\u030F\u0310\u0115\x8B\u0310\u0311\u012D\x97\u0311\u0312\u0139\x9D\u0312\u0313\u012B\x96\u0313\u0314\u0137\x9C\u0314X\u0315\u0316\u0117\x8C\u0316\u0317\u0111\x89\u0317\u0318\u0137\x9C\u0318\u0319\u0119\x8D\u0319Z\u031A\u031B\u0117\x8C\u031B\u031C\u0111\x89\u031C\u031E\u0141\xA1\u031D\u031F\u0135\x9B\u031E\u031D\u031E\u031F\u031F\\\u0320\u0321\u0117\x8C\u0321\u0322\u0119\x8D\u0322\u0323\u0135\x9B\u0323\u0324\u0115\x8B\u0324^\u0325\u0326\u0117\x8C\u0326\u0327\u0121\x91\u0327\u0328\u0135\x9B\u0328\u0329\u0137\x9C\u0329\u032A\u0121\x91\u032A\u032B\u012B\x96\u032B\u032C\u0115\x8B\u032C\u032D\u0137\x9C\u032D\`\u032E\u032F\u0119\x8D\u032F\u0330\u0127\x94\u0330\u0331\u0135\x9B\u0331\u0332\u0119\x8D\u0332b\u0333\u0334\u0119\x8D\u0334\u0335\u012B\x96\u0335\u0336\u0117\x8C\u0336d\u0337\u0338\u0119\x8D\u0338\u0339\u013F\xA0\u0339\u033A\u0115\x8B\u033A\u033B\u0127\x94\u033B\u033C\u0139\x9D\u033C\u033D\u0117\x8C\u033D\u033E\u0119\x8D\u033Ef\u033F\u0340\u011B\x8E\u0340\u0341\u0111\x89\u0341\u0342\u0127\x94\u0342\u0343\u0135\x9B\u0343\u0344\u0119\x8D\u0344h\u0345\u0346\u011B\x8E\u0346\u0347\u012D\x97\u0347\u0348\u0133\x9A\u0348j\u0349\u034A\u011B\x8E\u034A\u034B\u0133\x9A\u034B\u034C\u012D\x97\u034C\u034D\u0129\x95\u034Dl\u034E\u034F\u011B\x8E\u034F\u0350\u0133\x9A\u0350\u0351\u012D\x97\u0351\u0352\u0129\x95\u0352\u0353\x07a\u0353\u0354\u0135\x9B\u0354\u0355\u0131\x99\u0355\u0356\u0127\x94\u0356n\u0357\u0358\u011F\x90\u0358\u0359\u0111\x89\u0359\u035A\u0135\x9B\u035Ap\u035B\u035C\u011F\x90\u035C\u035D\u012D\x97\u035D\u035E\u0139\x9D\u035E\u0360\u0133\x9A\u035F\u0361\u0135\x9B\u0360\u035F\u0360\u0361\u0361r\u0362\u0363\u0121\x91\u0363\u0364\u0129\x95\u0364\u0365\u012F\x98\u0365\u0366\u012D\x97\u0366\u0367\u0133\x9A\u0367\u0368\u0137\x9C\u0368t\u0369\u036A\u0121\x91\u036A\u036B\u0135\x9B\u036Bv\u036C\u036D\u0123\x92\u036D\u036E\u0135\x9B\u036E\u036F\u012D\x97\u036F\u0370\u012B\x96\u0370x\u0371\u0372\u0127\x94\u0372\u0373\u0111\x89\u0373\u0374\u0135\x9B\u0374\u0375\u0137\x9C\u0375z\u0376\u0377\u0129\x95\u0377\u0378\u0111\x89\u0378\u0379\u013F\xA0\u0379|\u037A\u037B\u0129\x95\u037B\u037C\u0121\x91\u037C\u037D\u012B\x96\u037D~\u037E\u037F\u0129\x95\u037F\u0380\u0121\x91\u0380\u0381\u012B\x96\u0381\u0382\u0139\x9D\u0382\u0383\u0137\x9C\u0383\u0385\u0119\x8D\u0384\u0386\u0135\x9B\u0385\u0384\u0385\u0386\u0386\x80\u0387\u0388\u0129\x95\u0388\u0389\u012D\x97\u0389\u038A\u012B\x96\u038A\u038B\u0137\x9C\u038B\u038D\u011F\x90\u038C\u038E\u0135\x9B\u038D\u038C\u038D\u038E\u038E\x82\u038F\u0390\u012B\x96\u0390\u0391\u012D\x97\u0391\u0392\u0137\x9C\u0392\x84\u0393\u0394\u012B\x96\u0394\u0395\u012D\x97\u0395\u0396\u013D\x9F\u0396\x86\u0397\u0398\u012B\x96\u0398\u0399\u0139\x9D\u0399\u039A\u0127\x94\u039A\u039B\u0127\x94\u039B\x88\u039C\u039D\u012B\x96\u039D\u039E\u0139\x9D\u039E\u039F\u0129\x95\u039F\u03A0\u0113\x8A\u03A0\u03A1\u0119\x8D\u03A1\u03A2\u0133\x9A\u03A2\x8A\u03A3\u03A4\u012D\x97\u03A4\u03A5\u012B\x96\u03A5\x8C\u03A6\u03A7\u012D\x97\u03A7\u03A8\u0133\x9A\u03A8\x8E\u03A9\u03AA\u012F\x98\u03AA\u03AB\u0121\x91\u03AB\u03AC\u0115\x8B\u03AC\u03AD\u0125\x93\u03AD\x90\u03AE\u03AF\x07A\u03AF\x92\u03B0\u03B1\u0131\x99\u03B1\u03B2\u0139\x9D\u03B2\u03B3\u0111\x89\u03B3\u03B4\u0133\x9A\u03B4\u03B5\u0137\x9C\u03B5\u03B6\u0119\x8D\u03B6\u03B8\u0133\x9A\u03B7\u03B9\u0135\x9B\u03B8\u03B7\u03B8\u03B9\u03B9\x94\u03BA\u03BB\u0135\x9B\u03BB\u03BC\u0119\x8D\u03BC\u03BD\u0115\x8B\u03BD\u03BE\u012D\x97\u03BE\u03BF\u012B\x96\u03BF\u03C1\u0117\x8C\u03C0\u03C2\u0135\x9B\u03C1\u03C0\u03C1\u03C2\u03C2\x96\u03C3\u03C4\u0135\x9B\u03C4\u03C5\u0137\x9C\u03C5\u03C6\u0133\x9A\u03C6\u03C7\u0121\x91\u03C7\u03C8\u012B\x96\u03C8\u03C9\u011D\x8F\u03C9\x98\u03CA\u03CB\u0135\x9B\u03CB\u03CC\u0139\x9D\u03CC\u03CD\u0129\x95\u03CD\x9A\u03CE\u03CF\u0137\x9C\u03CF\u03D0\u0111\x89\u03D0\u03D1\u0113\x8A\u03D1\u03D2\u0127\x94\u03D2\u03D3\u0119\x8D\u03D3\x9C\u03D4\u03D5\u0137\x9C\u03D5\u03D6\u011F\x90\u03D6\u03D7\u0119\x8D\u03D7\u03D8\u012B\x96\u03D8\x9E\u03D9\u03DA\u0137\x9C\u03DA\u03DB\u011F\x90\u03DB\u03DC\u0121\x91\u03DC\u03DD\u0135\x9B\u03DD\xA0\u03DE\u03DF\u0137\x9C\u03DF\u03E0\u0121\x91\u03E0\u03E1\u0129\x95\u03E1\u03E2\u0119\x8D\u03E2\u03E3\u0135\x9B\u03E3\u03E4\u0137\x9C\u03E4\u03E5\u0111\x89\u03E5\u03E6\u0129\x95\u03E6\u03E7\u012F\x98\u03E7\xA2\u03E8\u03E9\u0137\x9C\u03E9\u03EA\u012D\x97\u03EA\xA4\u03EB\u03EC\u0137\x9C\u03EC\u03ED\u0133\x9A\u03ED\u03EE\u0139\x9D\u03EE\u03EF\u0119\x8D\u03EF\xA6\u03F0\u03F1\u0137\x9C\u03F1\u03F2\u0139\x9D\u03F2\u03F3\u0133\x9A\u03F3\u03F4\u0137\x9C\u03F4\u03F5\u0127\x94\u03F5\u03F6\u0119\x8D\u03F6\xA8\u03F7\u03F8\u013D\x9F\u03F8\u03F9\u0119\x8D\u03F9\u03FA\u0119\x8D\u03FA\u03FC\u0125\x93\u03FB\u03FD\u0135\x9B\u03FC\u03FB\u03FC\u03FD\u03FD\xAA\u03FE\u03FF\u013D\x9F\u03FF\u0400\u011F\x90\u0400\u0401\u0119\x8D\u0401\u0402\u012B\x96\u0402\xAC\u0403\u0404\u013D\x9F\u0404\u0405\u0121\x91\u0405\u0406\u0137\x9C\u0406\u0407\u011F\x90\u0407\xAE\u0408\u0409\u0141\xA1\u0409\u040A\u0119\x8D\u040A\u040B\u0111\x89\u040B\u040D\u0133\x9A\u040C\u040E\u0135\x9B\u040D\u040C\u040D\u040E\u040E\xB0\u040F\u0410\u0139\x9D\u0410\u0411\u012B\x96\u0411\u0412\u011D\x8F\u0412\u0413\u0133\x9A\u0413\u0414\u012D\x97\u0414\u0415\u0139\x9D\u0415\u0416\u012F\x98\u0416\u0417\u0119\x8D\u0417\u0418\u0117\x8C\u0418\xB2\u0419\u041A\x07^\u041A\u0420\x07)\u041B\u041C\x07^\u041C\u0420\x07^\u041D\u041E\x07^\u041E\u0420\v\u041F\u0419\u041F\u041B\u041F\u041D\u0420\xB4\u0421\u0423	\u0422\u0421\u0423\u0424\u0424\u0429\x07)\u0425\u0428\xB3Z\u0426\u0428
\x07\u0427\u0425\u0427\u0426\u0428\u042B\u0429\u0427\u0429\u042A\u042A\u042C\u042B\u0429\u042C\u042D\x07)\u042D\xB6\u042E\u0433\x07)\u042F\u0432\xB3Z\u0430\u0432
\x07\u0431\u042F\u0431\u0430\u0432\u0435\u0433\u0431\u0433\u0434\u0434\u0436\u0435\u0433\u0436\u0437\x07)\u0437\xB8\u0438\u0439\x07(\u0439\xBA\u043A\u043B\x07/\u043B\u043C\x07@\u043C\xBC\u043D\u043E\x07?\u043E\u043F\x07@\u043F\xBE\u0440\u0441\x07*\u0441\xC0\u0442\u0443\x07+\u0443\xC2\u0444\u0445\x07]\u0445\xC4\u0446\u0447\x07_\u0447\xC6\u0448\u0449\x07}\u0449\xC8\u044A\u044B\x07\x7F\u044B\xCA\u044C\u044D\x07<\u044D\u044E\x07<\u044E\xCC\u044F\u0450\x07<\u0450\xCE\u0451\u0452\x07.\u0452\xD0\u0453\u0454\x070\u0454\xD2\u0455\u0456\x07>\u0456\xD4\u0457\u0458\x07@\u0458\xD6\u0459\u045A\x07?\u045A\xD8\u045B\u045C\x07#\u045C\u045D\x07?\u045D\xDA\u045E\u045F\x07>\u045F\u0460\x07?\u0460\xDC\u0461\u0462\x07@\u0462\u0463\x07?\u0463\xDE\u0464\u0465\x07-\u0465\xE0\u0466\u0467\x07/\u0467\xE2\u0468\u0469\x07,\u0469\xE4\u046A\u046B\x07,\u046B\u046C\x07,\u046C\xE6\u046D\u046E\x071\u046E\xE8\u046F\u0470\x07~\u0470\xEA\u0471\u0472\x07=\u0472\xEC\u0473\u0474\x07#\u0474\u0475\x07\x80\u0475\xEE\u0476\u0477\x07\x80\u0477\xF0\u0478\u0479\u010F\x88\u0479\u047A\u010F\x88\u047A\u047B\u010F\x88\u047B\u047C\u010F\x88\u047C\xF2\u047D\u047E\u010F\x88\u047E\u047F\u010F\x88\u047F\xF4\u0480\u0481\x07/\u0481\u0484\x07Z\u0482\u0485\u010D\x87\u0483\u0485\u010F\x88\u0484\u0482\u0484\u0483\u0485\u0486\u0486\u0484\u0486\u0487\u0487\xF6\u0488\u0489\x07B\u0489\u048A\xF1y\u048A\u048B\x07/\u048B\u048C\xF3z\u048C\u048D\x07/\u048D\u048E\xF3z\u048E\u048F\x07"\u048F\u0490\xF3z\u0490\u0491\x07<\u0491\u0494\xF3z\u0492\u0493\x07<\u0493\u0495\xF3z\u0494\u0492\u0494\u0495\u0495\u0497\u0496\u0498\xF5{\u0497\u0496\u0497\u0498\u0498\xF8\u0499\u049A\x07B\u049A\u049B\xF1y\u049B\u049C\x07/\u049C\u049D\xF3z\u049D\u049E\x07/\u049E\u04A0\xF3z\u049F\u04A1\xF5{\u04A0\u049F\u04A0\u04A1\u04A1\xFA\u04A2\u04A3\x07B\u04A3\u04A4\xF1y\u04A4\u04A5\x07/\u04A5\u04A6\x07S\u04A6\u04A836\u04A7\u04A9\xF5{\u04A8\u04A7\u04A8\u04A9\u04A9\xFC\u04AA\u04AB\x07B\u04AB\u04AC\xF1y\u04AC\u04AD\x07/\u04AD\u04AF\xF3z\u04AE\u04B0\xF5{\u04AF\u04AE\u04AF\u04B0\u04B0\xFE\u04B1\u04B2\x07B\u04B2\u04B3\u013D\x9F\u04B3\u04B4\u0125\x93\u04B4\u04B5\xF1y\u04B5\u04B6\x07/\u04B6\u04B7\xF3z\u04B7\u04B8\x07/\u04B8\u04BA\xF3z\u04B9\u04BB\xF5{\u04BA\u04B9\u04BA\u04BB\u04BB\u0100\u04BC\u04BD\x07B\u04BD\u04BF\xF1y\u04BE\u04C0\xF5{\u04BF\u04BE\u04BF\u04C0\u04C0\u0102\u04C1\u04C6\u010D\x87\u04C2\u04C5\u010D\x87\u04C3\u04C5\u010F\x88\u04C4\u04C2\u04C4\u04C3\u04C5\u04C8\u04C6\u04C4\u04C6\u04C7\u04C7\u0104\u04C8\u04C6\u04C9\u04CB\u010F\x88\u04CA\u04C9\u04CB\u04CC\u04CC\u04CA\u04CC\u04CD\u04CD\u04CE\u04CE\u04CF\x07'\u04CF\u0106\u04D0\u04D2\u010F\x88\u04D1\u04D0\u04D2\u04D3\u04D3\u04D1\u04D3\u04D4\u04D4\u0108\u04D5\u04D7\u010F\x88\u04D6\u04D5\u04D7\u04D8\u04D8\u04D6\u04D8\u04D9\u04D9\u04E1\u04DA\u04DE\xD1i\u04DB\u04DD\u010F\x88\u04DC\u04DB\u04DD\u04E0\u04DE\u04DC\u04DE\u04DF\u04DF\u04E2\u04E0\u04DE\u04E1\u04DA\u04E1\u04E2\u04E2\u04F5\u04E3\u04E5\xD1i\u04E4\u04E6\u010F\x88\u04E5\u04E4\u04E6\u04E7\u04E7\u04E5\u04E7\u04E8\u04E8\u04F2\u04E9\u04EB\u0119\x8D\u04EA\u04EC	\b\u04EB\u04EA\u04EB\u04EC\u04EC\u04EE\u04ED\u04EF\u010F\x88\u04EE\u04ED\u04EF\u04F0\u04F0\u04EE\u04F0\u04F1\u04F1\u04F3\u04F2\u04E9\u04F2\u04F3\u04F3\u04F5\u04F4\u04D6\u04F4\u04E3\u04F5\u010A\u04F6\u04F7\x07b\u04F7\u04FD\u010D\x87\u04F8\u04FC\u010D\x87\u04F9\u04FC\u010F\x88\u04FA\u04FC\r\x07\u04FB\u04F8\u04FB\u04F9\u04FB\u04FA\u04FC\u04FF\u04FD\u04FB\u04FD\u04FE\u04FE\u0500\u04FF\u04FD\u0500\u0501\x07b\u0501\u010C\u0502\u0503	%\u0503\u010E\u0504\u0505		\u0505\u0110\u0506\u0507	
\u0507\u0112\u0508\u0509	\v\u0509\u0114\u050A\u050B	\f\u050B\u0116\u050C\u050D	\r\u050D\u0118\u050E\u050F	\u050F\u011A\u0510\u0511	\u0511\u011C\u0512\u0513	\u0513\u011E\u0514\u0515	\u0515\u0120\u0516\u0517	\u0517\u0122\u0518\u0519	\u0519\u0124\u051A\u051B	\u051B\u0126\u051C\u051D	\u051D\u0128\u051E\u051F	\u051F\u012A\u0520\u0521	\u0521\u012C\u0522\u0523	\u0523\u012E\u0524\u0525	\u0525\u0130\u0526\u0527	\u0527\u0132\u0528\u0529	\x1B\u0529\u0134\u052A\u052B	\u052B\u0136\u052C\u052D	\u052D\u0138\u052E\u052F	\u052F\u013A\u0530\u0531	\u0531\u013C\u0532\u0533	 \u0533\u013E\u0534\u0535	!\u0535\u0140\u0536\u0537	"\u0537\u0142\u0538\u0539	#\u0539\u0144\u053A\u053B\x071\u053B\u053C\x07,\u053C\u0540\u053D\u053F\v\u053E\u053D\u053F\u0542\u0540\u0541\u0540\u053E\u0541\u0543\u0542\u0540\u0543\u0544\x07,\u0544\u0545\x071\u0545\u0546\u0546\u0547\b\xA3\u0547\u0146\u0548\u0549\x07/\u0549\u054D\x07/\u054A\u054B\x071\u054B\u054D\x071\u054C\u0548\u054C\u054A\u054D\u0551\u054E\u0550
$\u054F\u054E\u0550\u0553\u0551\u054F\u0551\u0552\u0552\u0559\u0553\u0551\u0554\u0556\x07\u0555\u0554\u0555\u0556\u0556\u0557\u0557\u055A\x07\f\u0558\u055A\x07\u0559\u0555\u0559\u0558\u055A\u055B\u055B\u055C\b\xA4\u055C\u0148\u055D\u055E\r\x07\u055E\u055F\u055F\u0560\b\xA5\u0560\u014A\u0561\u0562\x07~\u0562\u0563\x07~\u0563\u0567\u0564\u0566\v\u0565\u0564\u0566\u0569\u0567\u0568\u0567\u0565\u0568\u056A\u0569\u0567\u056A\u056B\x07=\u056B\u056C\x07=\u056C\u014C\u056D\u056F\u010F\x88\u056E\u056D\u056F\u0570\u0570\u056E\u0570\u0571\u0571\u0573\u0572\u0574\u010D\x87\u0573\u0572\u0574\u0575\u0575\u0573\u0575\u0576\u0576\u057B\u0577\u057A\u010D\x87\u0578\u057A\u010F\x88\u0579\u0577\u0579\u0578\u057A\u057D\u057B\u0579\u057B\u057C\u057C\u014E\u057D\u057B\u057E\u057F\v\u057F\u0150M\u0154\u0156\u015E\u0175\u0186\u01A0\u01AE\u01BD\u01CD\u01DB\u01E8\u0204\u0215\u0222\u0231\u023D\u024D\u0260\u026F\u027C\u028A\u0298\u02A6\u02B1\u02C0\u02CB\u02D8\u031E\u0360\u0385\u038D\u03B8\u03C1\u03FC\u040D\u041F\u0422\u0427\u0429\u0431\u0433\u0484\u0486\u0494\u0497\u04A0\u04A8\u04AF\u04BA\u04BF\u04C4\u04C6\u04CC\u04D3\u04D8\u04DE\u04E1\u04E7\u04EB\u04F0\u04F2\u04F4\u04FB\u04FD\u0540\u054C\u0551\u0555\u0559\u0567\u0570\u0575\u0579\u057B\b`;rr._serializedATNSegment3="";rr._serializedATN=h8e.join([rr._serializedATNSegment0,rr._serializedATNSegment1,rr._serializedATNSegment2,rr._serializedATNSegment3],"")});var eoe=Ae(jt=>{"use strict";m();var n0t=jt&&jt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),r0t=jt&&jt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),i0t=jt&&jt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&n0t(e,n,t);return r0t(e,n),e};Object.defineProperty(jt,"__esModule",{value:!0});jt.ExploreRenameDefContext=jt.RenameListContext=jt.DefExploreQueryContext=jt.DefExploreEditFieldContext=jt.DefExploreRenameContext=jt.DefExplorePrimaryKeyContext=jt.DefExploreWhereContext=jt.DefJoin_stubContext=jt.DefDeclare_stubContext=jt.DefExploreMeasureContext=jt.DefExploreDimensionContext=jt.ExploreStatementContext=jt.ExplorePropertiesContext=jt.ExploreNameContext=jt.ExploreNameDefContext=jt.SQLSourceContext=jt.QuerySourceContext=jt.TableSourceContext=jt.NamedSourceContext=jt.ExploreSourceContext=jt.ExploreContext=jt.ExploreDefinitionContext=jt.ExploreDefinitionListContext=jt.QueryNameContext=jt.ExploreQueryNameContext=jt.FilterShortcutContext=jt.QueryPropertiesContext=jt.ExploreTableContext=jt.PipeElementContext=jt.FirstSegmentContext=jt.PipelineFromNameContext=jt.ArrowQueryContext=jt.ExploreArrowQueryContext=jt.QueryContext=jt.RefineOperatorContext=jt.TopLevelQueryDefContext=jt.TopLevelQueryDefsContext=jt.ImportURLContext=jt.ImportStatementContext=jt.SqlStatementDefContext=jt.DefineSQLStatementContext=jt.TopLevelAnonQueryDefContext=jt.AnonymousQueryContext=jt.NamedQueries_stubContext=jt.DefineQueryContext=jt.ExploreKeywordContext=jt.DefineExploreStatementContext=jt.MalloyStatementContext=jt.MalloyDocumentContext=jt.MalloyParser=void 0;jt.SampleStatementContext=jt.IndexStatementContext=jt.IndexFieldsContext=jt.IndexElementContext=jt.TopStatementContext=jt.BySpecContext=jt.LimitStatementContext=jt.OrderBySpecContext=jt.OrderingContext=jt.OrderByStatementContext=jt.ProjectStatementContext=jt.AggregateStatementContext=jt.NestDefContext=jt.NestExistingContext=jt.NestEntryContext=jt.NestedQueryListContext=jt.NestStatementContext=jt.QueryFieldDefContext=jt.QueryFieldRefContext=jt.QueryFieldEntryContext=jt.DimensionDefContext=jt.QueryFieldListContext=jt.GroupByStatementContext=jt.QueryStatementContext=jt.ExploreQueryDefContext=jt.ExploreQueryNameDefContext=jt.SubQueryDefListContext=jt.HavingStatementContext=jt.WhereStatementContext=jt.FilterClauseListContext=jt.FilterByWhereContext=jt.FilterByShortcutContext=jt.FilteredByContext=jt.FilterStatementContext=jt.JoinExpressionContext=jt.JoinOnContext=jt.JoinWithContext=jt.JoinDefContext=jt.JoinListContext=jt.DefJoinCrossContext=jt.DefJoinManyContext=jt.DefJoinOneContext=jt.JoinStatementContext=jt.DeclareStatementContext=jt.MeasureDefContext=jt.JoinNameDefContext=jt.FieldNameDefContext=jt.FieldDefContext=jt.MeasureDefListContext=jt.DimensionDefListContext=void 0;jt.ExprNotPartialContext=jt.ExprPartialCompareContext=jt.PartialAllowedFieldExprContext=jt.ExprUngroupContext=jt.ExprPickContext=jt.ExprFuncContext=jt.ExprExprContext=jt.ExprAggregateContext=jt.ExprCountDisinctContext=jt.ExprCastContext=jt.ExprLogicalContext=jt.ExprNotContext=jt.ExprApplyContext=jt.ExprCompareContext=jt.ExprLogicalTreeContext=jt.ExprForRangeContext=jt.ExprRangeContext=jt.ExprAddSubContext=jt.ExprMulDivContext=jt.ExprSafeCastContext=jt.ExprTimeTruncContext=jt.ExprDurationContext=jt.ExprMinusContext=jt.ExprLiteralContext=jt.ExprFilterContext=jt.ExprFieldPathContext=jt.FieldExprContext=jt.UngroupContext=jt.TimeframeContext=jt.IdContext=jt.TableNameContext=jt.LiteralYearContext=jt.LiteralQuarterContext=jt.LiteralMonthContext=jt.LiteralWeekContext=jt.LiteralDayContext=jt.LiteralTimestampContext=jt.DateLiteralContext=jt.ExprNowContext=jt.ExprRegexContext=jt.ExprBoolContext=jt.ExprNULLContext=jt.ExprTimeContext=jt.ExprNumberContext=jt.ExprStringContext=jt.LiteralContext=jt.CompareOpContext=jt.MalloyTypeContext=jt.AggregateContext=jt.SampleSpecContext=void 0;jt.ConnectionNameContext=jt.SqlCommandNameDefContext=jt.SqlExploreNameRefContext=jt.JsonArrayContext=jt.JsonPropertyContext=jt.JsonObjectContext=jt.JsonValueContext=jt.JsonContext=jt.JustExprContext=jt.FieldNameContext=jt.JoinNameContext=jt.FieldPathContext=jt.NewMemberContext=jt.WildMemberContext=jt.NameMemberContext=jt.CollectionMemberContext=jt.FieldCollectionContext=jt.FieldNameListContext=jt.ArgumentListContext=jt.PickContext=jt.PickStatementContext=void 0;var Zf=wm(),s0t=sO(),o0t=_D(),Sc=JD(),a0t=WS(),zr=d1(),u0t=JS(),Hr=zg(),bf=ou(),l0t=Jg(),m8e=i0t(Sm()),C=class extends a0t.Parser{constructor(e){super(e);this._interp=new u0t.ParserATNSimulator(C._ATN,this)}get vocabulary(){return C.VOCABULARY}get grammarFileName(){return"MalloyParser.g4"}get ruleNames(){return C.ruleNames}get serializedATN(){return C._serializedATN}createFailedPredicateException(e,t){return new o0t.FailedPredicateException(this,e,t)}malloyDocument(){let e=new kie(this._ctx,this.state);this.enterRule(e,0,C.RULE_malloyDocument);let t;try{this.enterOuterAlt(e,1);{for(this.state=206,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<C.EXPLORE|1<<C.QUERY|1<<C.SOURCE|1<<C.SQL))!==0||t===C.IMPORT||t===C.SEMI;){switch(this.state=204,this._errHandler.sync(this),this._input.LA(1)){case C.EXPLORE:case C.QUERY:case C.SOURCE:case C.SQL:case C.IMPORT:this.state=202,this.malloyStatement();break;case C.SEMI:this.state=203,this.match(C.SEMI);break;default:throw new Sc.NoViableAltException(this)}this.state=208,this._errHandler.sync(this),t=this._input.LA(1)}this.state=209,this.match(C.EOF)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyStatement(){let e=new vO(this._ctx,this.state);this.enterRule(e,2,C.RULE_malloyStatement);try{switch(this.state=215,this._errHandler.sync(this),this._input.LA(1)){case C.EXPLORE:case C.SOURCE:this.enterOuterAlt(e,1),this.state=211,this.defineExploreStatement();break;case C.SQL:this.enterOuterAlt(e,2),this.state=212,this.defineSQLStatement();break;case C.QUERY:this.enterOuterAlt(e,3),this.state=213,this.defineQuery();break;case C.IMPORT:this.enterOuterAlt(e,4),this.state=214,this.importStatement();break;default:throw new Sc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineExploreStatement(){let e=new TU(this._ctx,this.state);this.enterRule(e,4,C.RULE_defineExploreStatement);try{this.enterOuterAlt(e,1),this.state=217,this.exploreKeyword(),this.state=218,this.exploreDefinitionList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreKeyword(){let e=new FU(this._ctx,this.state);this.enterRule(e,6,C.RULE_exploreKeyword);let t;try{this.enterOuterAlt(e,1),this.state=220,t=this._input.LA(1),t===C.EXPLORE||t===C.SOURCE?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}defineQuery(){let e=new Mw(this._ctx,this.state);this.enterRule(e,8,C.RULE_defineQuery);try{switch(this.state=226,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:e=new Iie(e),this.enterOuterAlt(e,1),this.state=222,this.match(C.QUERY),this.state=223,this.topLevelQueryDefs();break;case 2:e=new Mie(e),this.enterOuterAlt(e,2),this.state=224,this.match(C.QUERY),this.state=225,this.topLevelAnonQueryDef();break}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelAnonQueryDef(){let e=new DU(this._ctx,this.state);this.enterRule(e,10,C.RULE_topLevelAnonQueryDef);try{this.enterOuterAlt(e,1),this.state=228,this.query()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineSQLStatement(){let e=new OU(this._ctx,this.state);this.enterRule(e,12,C.RULE_defineSQLStatement);try{this.enterOuterAlt(e,1),this.state=230,this.match(C.SQL),this.state=231,this.sqlStatementDef()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sqlStatementDef(){let e=new RU(this._ctx,this.state);this.enterRule(e,14,C.RULE_sqlStatementDef);let t;try{this.enterOuterAlt(e,1),this.state=236,this._errHandler.sync(this),t=this._input.LA(1),(t===C.IDENTIFIER||t===C.OBJECT_NAME_LITERAL)&&(this.state=233,this.sqlCommandNameDef(),this.state=234,this.match(C.IS)),this.state=238,this.match(C.SQL_STRING),this.state=241,this._errHandler.sync(this),t=this._input.LA(1),t===C.ON&&(this.state=239,this.match(C.ON),this.state=240,this.connectionName())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}importStatement(){let e=new NU(this._ctx,this.state);this.enterRule(e,16,C.RULE_importStatement);try{this.enterOuterAlt(e,1),this.state=243,this.match(C.IMPORT),this.state=244,this.importURL()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}importURL(){let e=new LU(this._ctx,this.state);this.enterRule(e,18,C.RULE_importURL);try{this.enterOuterAlt(e,1),this.state=246,this.match(C.JSON_STRING)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelQueryDefs(){let e=new kU(this._ctx,this.state);this.enterRule(e,20,C.RULE_topLevelQueryDefs);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=248,this.topLevelQueryDef(),this.state=255,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,7,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=250,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=249,this.match(C.COMMA)),this.state=252,this.topLevelQueryDef()),this.state=257,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,7,this._ctx);this.state=259,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=258,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}topLevelQueryDef(){let e=new _O(this._ctx,this.state);this.enterRule(e,22,C.RULE_topLevelQueryDef);try{this.enterOuterAlt(e,1),this.state=261,this.queryName(),this.state=262,this.match(C.IS),this.state=263,this.query()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}refineOperator(){let e=new Y6(this._ctx,this.state);this.enterRule(e,24,C.RULE_refineOperator);try{this.enterOuterAlt(e,1),this.state=265,this.match(C.PLUS)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}query(){let e=new a4(this._ctx,this.state);this.enterRule(e,26,C.RULE_query);let t;try{switch(this.state=285,this._errHandler.sync(this),this._input.LA(1)){case C.FROM:case C.FROM_SQL:case C.TABLE:case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:e=new Pie(e),this.enterOuterAlt(e,1),this.state=267,this.explore(),this.state=268,this.match(C.ARROW),this.state=269,this.pipelineFromName();break;case C.ARROW:for(e=new Bie(e),this.enterOuterAlt(e,2),this.state=271,this.match(C.ARROW),this.state=272,this.queryName(),this.state=277,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=274,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=273,this.refineOperator()),this.state=276,this.queryProperties()),this.state=282,this._errHandler.sync(this),t=this._input.LA(1);t===C.ARROW;)this.state=279,this.pipeElement(),this.state=284,this._errHandler.sync(this),t=this._input.LA(1);break;default:throw new Sc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipelineFromName(){let e=new Pw(this._ctx,this.state);this.enterRule(e,28,C.RULE_pipelineFromName);let t;try{for(this.enterOuterAlt(e,1),this.state=287,this.firstSegment(),this.state=291,this._errHandler.sync(this),t=this._input.LA(1);t===C.ARROW;)this.state=288,this.pipeElement(),this.state=293,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}firstSegment(){let e=new IU(this._ctx,this.state);this.enterRule(e,30,C.RULE_firstSegment);let t;try{switch(this.state=302,this._errHandler.sync(this),this._input.LA(1)){case C.OCURLY:this.enterOuterAlt(e,1),this.state=294,this.queryProperties();break;case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,2),this.state=295,this.exploreQueryName(),this.state=300,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=297,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=296,this.refineOperator()),this.state=299,this.queryProperties());break;default:throw new Sc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipeElement(){let e=new K6(this._ctx,this.state);this.enterRule(e,32,C.RULE_pipeElement);try{this.enterOuterAlt(e,1),this.state=304,this.match(C.ARROW),this.state=305,this.queryProperties()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreTable(){let e=new MU(this._ctx,this.state);this.enterRule(e,34,C.RULE_exploreTable);try{this.enterOuterAlt(e,1),this.state=307,this.match(C.TABLE),this.state=308,this.match(C.OPAREN),this.state=309,this.tableName(),this.state=310,this.match(C.CPAREN)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryProperties(){let e=new J6(this._ctx,this.state);this.enterRule(e,36,C.RULE_queryProperties);let t;try{switch(this.state=322,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,19,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=312,this.filterShortcut();break;case 2:this.enterOuterAlt(e,2);{for(this.state=313,this.match(C.OCURLY),this.state=318,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<C.AGGREGATE|1<<C.DECLARE|1<<C.GROUP_BY|1<<C.HAVING|1<<C.INDEX|1<<C.JOIN_CROSS|1<<C.JOIN_ONE|1<<C.JOIN_MANY|1<<C.LIMIT|1<<C.NEST|1<<C.ORDER_BY|1<<C.PROJECT|1<<C.SAMPLE|1<<C.TOP|1<<C.WHERE))!==0||t===C.SEMI;){switch(this.state=316,this._errHandler.sync(this),this._input.LA(1)){case C.AGGREGATE:case C.DECLARE:case C.GROUP_BY:case C.HAVING:case C.INDEX:case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:case C.LIMIT:case C.NEST:case C.ORDER_BY:case C.PROJECT:case C.SAMPLE:case C.TOP:case C.WHERE:this.state=314,this.queryStatement();break;case C.SEMI:this.state=315,this.match(C.SEMI);break;default:throw new Sc.NoViableAltException(this)}this.state=320,this._errHandler.sync(this),t=this._input.LA(1)}this.state=321,this.match(C.CCURLY)}break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}filterShortcut(){let e=new bO(this._ctx,this.state);this.enterRule(e,38,C.RULE_filterShortcut);try{this.enterOuterAlt(e,1),this.state=324,this.match(C.OCURLY),this.state=325,this.match(C.QMARK),this.state=326,this.fieldExpr(0),this.state=327,this.match(C.CCURLY)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryName(){let e=new PU(this._ctx,this.state);this.enterRule(e,40,C.RULE_exploreQueryName);try{this.enterOuterAlt(e,1),this.state=329,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryName(){let e=new X6(this._ctx,this.state);this.enterRule(e,42,C.RULE_queryName);try{this.enterOuterAlt(e,1),this.state=331,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreDefinitionList(){let e=new BU(this._ctx,this.state);this.enterRule(e,44,C.RULE_exploreDefinitionList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=333,this.exploreDefinition(),this.state=340,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,21,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=335,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=334,this.match(C.COMMA)),this.state=337,this.exploreDefinition()),this.state=342,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,21,this._ctx);this.state=344,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=343,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreDefinition(){let e=new EO(this._ctx,this.state);this.enterRule(e,46,C.RULE_exploreDefinition);try{this.enterOuterAlt(e,1),this.state=346,this.exploreNameDef(),this.state=347,this.match(C.IS),this.state=348,this.explore()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}explore(){let e=new Z6(this._ctx,this.state);this.enterRule(e,48,C.RULE_explore);let t;try{this.enterOuterAlt(e,1),this.state=350,this.exploreSource(),this.state=355,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=352,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=351,this.refineOperator()),this.state=354,this.exploreProperties())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreSource(){let e=new u4(this._ctx,this.state);this.enterRule(e,50,C.RULE_exploreSource);try{switch(this.state=369,this._errHandler.sync(this),this._input.LA(1)){case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:e=new jie(e),this.enterOuterAlt(e,1),this.state=357,this.exploreName();break;case C.TABLE:e=new qie(e),this.enterOuterAlt(e,2),this.state=358,this.exploreTable();break;case C.FROM:e=new Uie(e),this.enterOuterAlt(e,3),this.state=359,this.match(C.FROM),this.state=360,this.match(C.OPAREN),this.state=361,this.query(),this.state=362,this.match(C.CPAREN);break;case C.FROM_SQL:e=new $ie(e),this.enterOuterAlt(e,4),this.state=364,this.match(C.FROM_SQL),this.state=365,this.match(C.OPAREN),this.state=366,this.sqlExploreNameRef(),this.state=367,this.match(C.CPAREN);break;default:throw new Sc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreNameDef(){let e=new jU(this._ctx,this.state);this.enterRule(e,52,C.RULE_exploreNameDef);try{this.enterOuterAlt(e,1),this.state=371,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreName(){let e=new qU(this._ctx,this.state);this.enterRule(e,54,C.RULE_exploreName);try{this.enterOuterAlt(e,1),this.state=373,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreProperties(){let e=new UU(this._ctx,this.state);this.enterRule(e,56,C.RULE_exploreProperties);let t;try{switch(this.state=385,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,28,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=375,this.match(C.OCURLY),this.state=380,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<C.ACCEPT|1<<C.DECLARE|1<<C.DIMENSION|1<<C.EXCEPT|1<<C.JOIN_CROSS|1<<C.JOIN_ONE|1<<C.JOIN_MANY|1<<C.MEASURE|1<<C.PRIMARY_KEY|1<<C.QUERY|1<<C.RENAME|1<<C.WHERE))!==0||t===C.SEMI;){switch(this.state=378,this._errHandler.sync(this),this._input.LA(1)){case C.ACCEPT:case C.DECLARE:case C.DIMENSION:case C.EXCEPT:case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:case C.MEASURE:case C.PRIMARY_KEY:case C.QUERY:case C.RENAME:case C.WHERE:this.state=376,this.exploreStatement();break;case C.SEMI:this.state=377,this.match(C.SEMI);break;default:throw new Sc.NoViableAltException(this)}this.state=382,this._errHandler.sync(this),t=this._input.LA(1)}this.state=383,this.match(C.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=384,this.filterShortcut();break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreStatement(){let e=new vh(this._ctx,this.state);this.enterRule(e,58,C.RULE_exploreStatement);let t;try{switch(this.state=402,this._errHandler.sync(this),this._input.LA(1)){case C.DIMENSION:e=new zie(e),this.enterOuterAlt(e,1),this.state=387,this.match(C.DIMENSION),this.state=388,this.dimensionDefList();break;case C.MEASURE:e=new Hie(e),this.enterOuterAlt(e,2),this.state=389,this.match(C.MEASURE),this.state=390,this.measureDefList();break;case C.DECLARE:e=new Vie(e),this.enterOuterAlt(e,3),this.state=391,this.declareStatement();break;case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:e=new Wie(e),this.enterOuterAlt(e,4),this.state=392,this.joinStatement();break;case C.WHERE:e=new Qie(e),this.enterOuterAlt(e,5),this.state=393,this.whereStatement();break;case C.PRIMARY_KEY:e=new Gie(e),this.enterOuterAlt(e,6),this.state=394,this.match(C.PRIMARY_KEY),this.state=395,this.fieldName();break;case C.RENAME:e=new Yie(e),this.enterOuterAlt(e,7),this.state=396,this.match(C.RENAME),this.state=397,this.renameList();break;case C.ACCEPT:case C.EXCEPT:e=new Kie(e),this.enterOuterAlt(e,8),this.state=398,t=this._input.LA(1),t===C.ACCEPT||t===C.EXCEPT?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=399,this.fieldNameList();break;case C.QUERY:e=new Jie(e),this.enterOuterAlt(e,9),this.state=400,this.match(C.QUERY),this.state=401,this.subQueryDefList();break;default:throw new Sc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}renameList(){let e=new $U(this._ctx,this.state);this.enterRule(e,60,C.RULE_renameList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=404,this.exploreRenameDef(),this.state=411,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,31,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=406,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=405,this.match(C.COMMA)),this.state=408,this.exploreRenameDef()),this.state=413,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,31,this._ctx);this.state=415,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=414,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreRenameDef(){let e=new SO(this._ctx,this.state);this.enterRule(e,62,C.RULE_exploreRenameDef);try{this.enterOuterAlt(e,1),this.state=417,this.fieldName(),this.state=418,this.match(C.IS),this.state=419,this.fieldName()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}dimensionDefList(){let e=new zU(this._ctx,this.state);this.enterRule(e,64,C.RULE_dimensionDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=421,this.dimensionDef(),this.state=428,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,34,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=423,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=422,this.match(C.COMMA)),this.state=425,this.dimensionDef()),this.state=430,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,34,this._ctx);this.state=432,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=431,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}measureDefList(){let e=new HU(this._ctx,this.state);this.enterRule(e,66,C.RULE_measureDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=434,this.measureDef(),this.state=441,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,37,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=436,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=435,this.match(C.COMMA)),this.state=438,this.measureDef()),this.state=443,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,37,this._ctx);this.state=445,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=444,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldDef(){let e=new l4(this._ctx,this.state);this.enterRule(e,68,C.RULE_fieldDef);try{this.enterOuterAlt(e,1),this.state=447,this.fieldNameDef(),this.state=448,this.match(C.IS),this.state=449,this.fieldExpr(0)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldNameDef(){let e=new VU(this._ctx,this.state);this.enterRule(e,70,C.RULE_fieldNameDef);try{this.enterOuterAlt(e,1),this.state=451,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinNameDef(){let e=new wO(this._ctx,this.state);this.enterRule(e,72,C.RULE_joinNameDef);try{this.enterOuterAlt(e,1),this.state=453,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}measureDef(){let e=new CO(this._ctx,this.state);this.enterRule(e,74,C.RULE_measureDef);try{this.enterOuterAlt(e,1),this.state=455,this.fieldDef()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}declareStatement(){let e=new AO(this._ctx,this.state);this.enterRule(e,76,C.RULE_declareStatement);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=457,this.match(C.DECLARE),this.state=458,this.fieldDef(),this.state=465,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,40,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=460,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=459,this.match(C.COMMA)),this.state=462,this.fieldDef()),this.state=467,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,40,this._ctx);this.state=469,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=468,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinStatement(){let e=new c4(this._ctx,this.state);this.enterRule(e,78,C.RULE_joinStatement);try{switch(this.state=477,this._errHandler.sync(this),this._input.LA(1)){case C.JOIN_ONE:e=new Xie(e),this.enterOuterAlt(e,1),this.state=471,this.match(C.JOIN_ONE),this.state=472,this.joinList();break;case C.JOIN_MANY:e=new Zie(e),this.enterOuterAlt(e,2),this.state=473,this.match(C.JOIN_MANY),this.state=474,this.joinList();break;case C.JOIN_CROSS:e=new ese(e),this.enterOuterAlt(e,3),this.state=475,this.match(C.JOIN_CROSS),this.state=476,this.joinList();break;default:throw new Sc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinList(){let e=new Bw(this._ctx,this.state);this.enterRule(e,80,C.RULE_joinList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=479,this.joinDef(),this.state=486,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,44,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=481,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=480,this.match(C.COMMA)),this.state=483,this.joinDef()),this.state=488,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,44,this._ctx);this.state=490,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=489,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinDef(){let e=new eb(this._ctx,this.state);this.enterRule(e,82,C.RULE_joinDef);let t;try{switch(this.state=509,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,49,this._ctx)){case 1:e=new tse(e),this.enterOuterAlt(e,1),this.state=492,this.joinNameDef(),this.state=495,this._errHandler.sync(this),t=this._input.LA(1),t===C.IS&&(this.state=493,this.match(C.IS),this.state=494,this.explore()),this.state=497,this.match(C.WITH),this.state=498,this.fieldExpr(0);break;case 2:e=new nse(e),this.enterOuterAlt(e,2),this.state=500,this.joinNameDef(),this.state=503,this._errHandler.sync(this),t=this._input.LA(1),t===C.IS&&(this.state=501,this.match(C.IS),this.state=502,this.explore()),this.state=507,this._errHandler.sync(this),t=this._input.LA(1),t===C.ON&&(this.state=505,this.match(C.ON),this.state=506,this.joinExpression());break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinExpression(){let e=new WU(this._ctx,this.state);this.enterRule(e,84,C.RULE_joinExpression);try{this.enterOuterAlt(e,1),this.state=511,this.fieldExpr(0)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterStatement(){let e=new rse(this._ctx,this.state);this.enterRule(e,86,C.RULE_filterStatement);try{switch(this.state=515,this._errHandler.sync(this),this._input.LA(1)){case C.WHERE:this.enterOuterAlt(e,1),this.state=513,this.whereStatement();break;case C.HAVING:this.enterOuterAlt(e,2),this.state=514,this.havingStatement();break;default:throw new Sc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filteredBy(){let e=new jw(this._ctx,this.state);this.enterRule(e,88,C.RULE_filteredBy);try{switch(this.state=520,this._errHandler.sync(this),this._input.LA(1)){case C.QMARK:e=new ise(e),this.enterOuterAlt(e,1),this.state=517,this.match(C.QMARK),this.state=518,this.fieldExpr(0);break;case C.WHERE:e=new sse(e),this.enterOuterAlt(e,2),this.state=519,this.whereStatement();break;default:throw new Sc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterClauseList(){let e=new TO(this._ctx,this.state);this.enterRule(e,90,C.RULE_filterClauseList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=522,this.fieldExpr(0),this.state=527,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,52,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=523,this.match(C.COMMA),this.state=524,this.fieldExpr(0)),this.state=529,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,52,this._ctx);this.state=531,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=530,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}whereStatement(){let e=new tb(this._ctx,this.state);this.enterRule(e,92,C.RULE_whereStatement);try{this.enterOuterAlt(e,1),this.state=533,this.match(C.WHERE),this.state=534,this.filterClauseList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}havingStatement(){let e=new FO(this._ctx,this.state);this.enterRule(e,94,C.RULE_havingStatement);try{this.enterOuterAlt(e,1),this.state=536,this.match(C.HAVING),this.state=537,this.filterClauseList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}subQueryDefList(){let e=new QU(this._ctx,this.state);this.enterRule(e,96,C.RULE_subQueryDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=539,this.exploreQueryDef(),this.state=546,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,55,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=541,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=540,this.match(C.COMMA)),this.state=543,this.exploreQueryDef()),this.state=548,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,55,this._ctx);this.state=550,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=549,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreQueryNameDef(){let e=new GU(this._ctx,this.state);this.enterRule(e,98,C.RULE_exploreQueryNameDef);try{this.enterOuterAlt(e,1),this.state=552,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryDef(){let e=new DO(this._ctx,this.state);this.enterRule(e,100,C.RULE_exploreQueryDef);try{this.enterOuterAlt(e,1),this.state=554,this.exploreQueryNameDef(),this.state=555,this.match(C.IS),this.state=556,this.pipelineFromName()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryStatement(){let e=new OO(this._ctx,this.state);this.enterRule(e,102,C.RULE_queryStatement);try{switch(this.state=571,this._errHandler.sync(this),this._input.LA(1)){case C.GROUP_BY:this.enterOuterAlt(e,1),this.state=558,this.groupByStatement();break;case C.DECLARE:this.enterOuterAlt(e,2),this.state=559,this.declareStatement();break;case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:this.enterOuterAlt(e,3),this.state=560,this.joinStatement();break;case C.PROJECT:this.enterOuterAlt(e,4),this.state=561,this.projectStatement();break;case C.INDEX:this.enterOuterAlt(e,5),this.state=562,this.indexStatement();break;case C.AGGREGATE:this.enterOuterAlt(e,6),this.state=563,this.aggregateStatement();break;case C.TOP:this.enterOuterAlt(e,7),this.state=564,this.topStatement();break;case C.LIMIT:this.enterOuterAlt(e,8),this.state=565,this.limitStatement();break;case C.ORDER_BY:this.enterOuterAlt(e,9),this.state=566,this.orderByStatement();break;case C.WHERE:this.enterOuterAlt(e,10),this.state=567,this.whereStatement();break;case C.HAVING:this.enterOuterAlt(e,11),this.state=568,this.havingStatement();break;case C.NEST:this.enterOuterAlt(e,12),this.state=569,this.nestStatement();break;case C.SAMPLE:this.enterOuterAlt(e,13),this.state=570,this.sampleStatement();break;default:throw new Sc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}groupByStatement(){let e=new YU(this._ctx,this.state);this.enterRule(e,104,C.RULE_groupByStatement);try{this.enterOuterAlt(e,1),this.state=573,this.match(C.GROUP_BY),this.state=574,this.queryFieldList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldList(){let e=new RO(this._ctx,this.state);this.enterRule(e,106,C.RULE_queryFieldList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=576,this.queryFieldEntry(),this.state=583,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,59,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=578,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=577,this.match(C.COMMA)),this.state=580,this.queryFieldEntry()),this.state=585,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,59,this._ctx);this.state=587,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=586,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dimensionDef(){let e=new qw(this._ctx,this.state);this.enterRule(e,108,C.RULE_dimensionDef);try{this.enterOuterAlt(e,1),this.state=589,this.fieldDef()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldEntry(){let e=new nb(this._ctx,this.state);this.enterRule(e,110,C.RULE_queryFieldEntry);try{switch(this.state=593,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,61,this._ctx)){case 1:e=new ose(e),this.enterOuterAlt(e,1),this.state=591,this.fieldPath();break;case 2:e=new ase(e),this.enterOuterAlt(e,2),this.state=592,this.dimensionDef();break}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestStatement(){let e=new KU(this._ctx,this.state);this.enterRule(e,112,C.RULE_nestStatement);try{this.enterOuterAlt(e,1),this.state=595,this.match(C.NEST),this.state=596,this.nestedQueryList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestedQueryList(){let e=new JU(this._ctx,this.state);this.enterRule(e,114,C.RULE_nestedQueryList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=598,this.nestEntry(),this.state=605,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,63,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=600,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=599,this.match(C.COMMA)),this.state=602,this.nestEntry()),this.state=607,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,63,this._ctx);this.state=609,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=608,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}nestEntry(){let e=new rb(this._ctx,this.state);this.enterRule(e,116,C.RULE_nestEntry);let t;try{switch(this.state=622,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,67,this._ctx)){case 1:e=new use(e),this.enterOuterAlt(e,1),this.state=611,this.queryName(),this.state=616,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=613,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=612,this.refineOperator()),this.state=615,this.queryProperties());break;case 2:e=new lse(e),this.enterOuterAlt(e,2),this.state=618,this.queryName(),this.state=619,this.match(C.IS),this.state=620,this.pipelineFromName();break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregateStatement(){let e=new XU(this._ctx,this.state);this.enterRule(e,118,C.RULE_aggregateStatement);try{this.enterOuterAlt(e,1),this.state=624,this.match(C.AGGREGATE),this.state=625,this.queryFieldList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}projectStatement(){let e=new ZU(this._ctx,this.state);this.enterRule(e,120,C.RULE_projectStatement);try{this.enterOuterAlt(e,1),this.state=627,this.match(C.PROJECT),this.state=628,this.fieldCollection()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}orderByStatement(){let e=new e$(this._ctx,this.state);this.enterRule(e,122,C.RULE_orderByStatement);try{this.enterOuterAlt(e,1),this.state=630,this.match(C.ORDER_BY),this.state=631,this.ordering()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}ordering(){let e=new t$(this._ctx,this.state);this.enterRule(e,124,C.RULE_ordering);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=633,this.orderBySpec(),this.state=640,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,69,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=635,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=634,this.match(C.COMMA)),this.state=637,this.orderBySpec()),this.state=642,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,69,this._ctx);this.state=644,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=643,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}orderBySpec(){let e=new NO(this._ctx,this.state);this.enterRule(e,126,C.RULE_orderBySpec);let t;try{this.enterOuterAlt(e,1);{switch(this.state=648,this._errHandler.sync(this),this._input.LA(1)){case C.INTEGER_LITERAL:this.state=646,this.match(C.INTEGER_LITERAL);break;case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.state=647,this.fieldName();break;default:throw new Sc.NoViableAltException(this)}this.state=651,this._errHandler.sync(this),t=this._input.LA(1),(t===C.ASC||t===C.DESC)&&(this.state=650,t=this._input.LA(1),t===C.ASC||t===C.DESC?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}limitStatement(){let e=new n$(this._ctx,this.state);this.enterRule(e,128,C.RULE_limitStatement);try{this.enterOuterAlt(e,1),this.state=653,this.match(C.LIMIT),this.state=654,this.match(C.INTEGER_LITERAL)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}bySpec(){let e=new r$(this._ctx,this.state);this.enterRule(e,130,C.RULE_bySpec);try{switch(this.state=660,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,73,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=656,this.match(C.BY),this.state=657,this.fieldName();break;case 2:this.enterOuterAlt(e,2),this.state=658,this.match(C.BY),this.state=659,this.fieldExpr(0);break}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topStatement(){let e=new i$(this._ctx,this.state);this.enterRule(e,132,C.RULE_topStatement);let t;try{this.enterOuterAlt(e,1),this.state=662,this.match(C.TOP),this.state=663,this.match(C.INTEGER_LITERAL),this.state=665,this._errHandler.sync(this),t=this._input.LA(1),t===C.BY&&(this.state=664,this.bySpec())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexElement(){let e=new LO(this._ctx,this.state);this.enterRule(e,134,C.RULE_indexElement);let t;try{switch(this.state=673,this._errHandler.sync(this),this._input.LA(1)){case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,1),this.state=667,this.fieldPath(),this.state=670,this._errHandler.sync(this),t=this._input.LA(1),t===C.DOT&&(this.state=668,this.match(C.DOT),this.state=669,this.match(C.STAR));break;case C.STAR:this.enterOuterAlt(e,2),this.state=672,this.match(C.STAR);break;default:throw new Sc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexFields(){let e=new s$(this._ctx,this.state);this.enterRule(e,136,C.RULE_indexFields);let t;try{for(this.enterOuterAlt(e,1),this.state=675,this.indexElement(),this.state=682,this._errHandler.sync(this),t=this._input.LA(1);(t-98&~31)===0&&(1<<t-98&(1<<C.COMMA-98|1<<C.STAR-98|1<<C.IDENTIFIER-98|1<<C.OBJECT_NAME_LITERAL-98))!==0;)this.state=677,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=676,this.match(C.COMMA)),this.state=679,this.indexElement(),this.state=684,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexStatement(){let e=new o$(this._ctx,this.state);this.enterRule(e,138,C.RULE_indexStatement);let t;try{this.enterOuterAlt(e,1),this.state=685,this.match(C.INDEX),this.state=686,this.indexFields(),this.state=689,this._errHandler.sync(this),t=this._input.LA(1),t===C.BY&&(this.state=687,this.match(C.BY),this.state=688,this.fieldName())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sampleStatement(){let e=new a$(this._ctx,this.state);this.enterRule(e,140,C.RULE_sampleStatement);try{this.enterOuterAlt(e,1),this.state=691,this.match(C.SAMPLE),this.state=692,this.sampleSpec()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sampleSpec(){let e=new u$(this._ctx,this.state);this.enterRule(e,142,C.RULE_sampleSpec);let t;try{this.enterOuterAlt(e,1),this.state=694,t=this._input.LA(1),t===C.FALSE||t===C.TRUE||t===C.PERCENT_LITERAL||t===C.INTEGER_LITERAL?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregate(){let e=new l$(this._ctx,this.state);this.enterRule(e,144,C.RULE_aggregate);let t;try{this.enterOuterAlt(e,1),this.state=696,t=this._input.LA(1),(t-32&~31)===0&&(1<<t-32&(1<<C.AVG-32|1<<C.COUNT-32|1<<C.MAX-32|1<<C.MIN-32))!==0||t===C.SUM?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyType(){let e=new kO(this._ctx,this.state);this.enterRule(e,146,C.RULE_malloyType);let t;try{this.enterOuterAlt(e,1),this.state=698,t=this._input.LA(1),(t-33&~31)===0&&(1<<t-33&(1<<C.BOOLEAN-33|1<<C.DATE-33|1<<C.NUMBER-33))!==0||t===C.STRING||t===C.TIMESTAMP?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}compareOp(){let e=new IO(this._ctx,this.state);this.enterRule(e,148,C.RULE_compareOp);let t;try{this.enterOuterAlt(e,1),this.state=700,t=this._input.LA(1),(t-100&~31)===0&&(1<<t-100&(1<<C.LT-100|1<<C.GT-100|1<<C.EQ-100|1<<C.NE-100|1<<C.LTE-100|1<<C.GTE-100|1<<C.NOT_MATCH-100|1<<C.MATCH-100))!==0?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}literal(){let e=new Rm(this._ctx,this.state);this.enterRule(e,150,C.RULE_literal);let t;try{switch(this.state=709,this._errHandler.sync(this),this._input.LA(1)){case C.STRING_LITERAL:e=new cse(e),this.enterOuterAlt(e,1),this.state=702,this.match(C.STRING_LITERAL);break;case C.INTEGER_LITERAL:case C.NUMERIC_LITERAL:e=new fse(e),this.enterOuterAlt(e,2),this.state=703,t=this._input.LA(1),t===C.INTEGER_LITERAL||t===C.NUMERIC_LITERAL?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case C.LITERAL_TIMESTAMP:case C.LITERAL_DAY:case C.LITERAL_QUARTER:case C.LITERAL_MONTH:case C.LITERAL_WEEK:case C.LITERAL_YEAR:e=new dse(e),this.enterOuterAlt(e,3),this.state=704,this.dateLiteral();break;case C.NULL:e=new hse(e),this.enterOuterAlt(e,4),this.state=705,this.match(C.NULL);break;case C.FALSE:case C.TRUE:e=new pse(e),this.enterOuterAlt(e,5),this.state=706,t=this._input.LA(1),t===C.FALSE||t===C.TRUE?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case C.HACKY_REGEX:e=new mse(e),this.enterOuterAlt(e,6),this.state=707,this.match(C.HACKY_REGEX);break;case C.NOW:e=new xse(e),this.enterOuterAlt(e,7),this.state=708,this.match(C.NOW);break;default:throw new Sc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dateLiteral(){let e=new Sx(this._ctx,this.state);this.enterRule(e,152,C.RULE_dateLiteral);try{switch(this.state=717,this._errHandler.sync(this),this._input.LA(1)){case C.LITERAL_TIMESTAMP:e=new gse(e),this.enterOuterAlt(e,1),this.state=711,this.match(C.LITERAL_TIMESTAMP);break;case C.LITERAL_DAY:e=new yse(e),this.enterOuterAlt(e,2),this.state=712,this.match(C.LITERAL_DAY);break;case C.LITERAL_WEEK:e=new vse(e),this.enterOuterAlt(e,3),this.state=713,this.match(C.LITERAL_WEEK);break;case C.LITERAL_MONTH:e=new _se(e),this.enterOuterAlt(e,4),this.state=714,this.match(C.LITERAL_MONTH);break;case C.LITERAL_QUARTER:e=new bse(e),this.enterOuterAlt(e,5),this.state=715,this.match(C.LITERAL_QUARTER);break;case C.LITERAL_YEAR:e=new Ese(e),this.enterOuterAlt(e,6),this.state=716,this.match(C.LITERAL_YEAR);break;default:throw new Sc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}tableName(){let e=new c$(this._ctx,this.state);this.enterRule(e,154,C.RULE_tableName);try{this.enterOuterAlt(e,1),this.state=719,this.match(C.STRING_LITERAL)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}id(){let e=new Ad(this._ctx,this.state);this.enterRule(e,156,C.RULE_id);let t;try{this.enterOuterAlt(e,1),this.state=721,t=this._input.LA(1),t===C.IDENTIFIER||t===C.OBJECT_NAME_LITERAL?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}timeframe(){let e=new ib(this._ctx,this.state);this.enterRule(e,158,C.RULE_timeframe);let t;try{this.enterOuterAlt(e,1),this.state=723,t=this._input.LA(1),(t-40&~31)===0&&(1<<t-40&(1<<C.DAY-40|1<<C.HOUR-40|1<<C.MINUTE-40|1<<C.MONTH-40|1<<C.QUARTER-40|1<<C.SECOND-40))!==0||t===C.WEEK||t===C.YEAR?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}ungroup(){let e=new f$(this._ctx,this.state);this.enterRule(e,160,C.RULE_ungroup);let t;try{this.enterOuterAlt(e,1),this.state=725,t=this._input.LA(1),t===C.ALL||t===C.EXCLUDE?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldExpr(e){e===void 0&&(e=0);let t=this._ctx,r=this.state,i=new Ci(this._ctx,r),s=i,o=162;this.enterRecursionRule(i,162,C.RULE_fieldExpr,e);let a;try{let l;this.enterOuterAlt(i,1);{switch(this.state=787,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,87,this._ctx)){case 1:i=new Sse(i),this._ctx=i,s=i,this.state=728,this.fieldPath();break;case 2:i=new Cse(i),this._ctx=i,s=i,this.state=729,this.literal();break;case 3:i=new Ase(i),this._ctx=i,s=i,this.state=730,this.match(C.MINUS),this.state=731,this.fieldExpr(20);break;case 4:i=new Pse(i),this._ctx=i,s=i,this.state=732,this.match(C.NOT),this.state=733,this.fieldExpr(9);break;case 5:i=new jse(i),this._ctx=i,s=i,this.state=734,this.match(C.CAST),this.state=735,this.match(C.OPAREN),this.state=736,this.fieldExpr(0),this.state=737,this.match(C.AS),this.state=738,this.malloyType(),this.state=739,this.match(C.CPAREN);break;case 6:i=new qse(i),this._ctx=i,s=i,this.state=741,this.match(C.COUNT),this.state=742,this.match(C.OPAREN),this.state=743,this.match(C.DISTINCT),this.state=744,this.fieldExpr(0),this.state=745,this.match(C.CPAREN);break;case 7:{switch(i=new Use(i),this._ctx=i,s=i,this.state=750,this._errHandler.sync(this),a=this._input.LA(1),(a===C.IDENTIFIER||a===C.OBJECT_NAME_LITERAL)&&(this.state=747,this.fieldPath(),this.state=748,this.match(C.DOT)),this.state=752,this.aggregate(),this.state=753,this.match(C.OPAREN),this.state=756,this._errHandler.sync(this),this._input.LA(1)){case C.ALL:case C.AVG:case C.CAST:case C.COUNT:case C.DAY:case C.EXCLUDE:case C.FALSE:case C.HOUR:case C.MAX:case C.MIN:case C.MINUTE:case C.MONTH:case C.NOT:case C.NOW:case C.NULL:case C.PICK:case C.QUARTER:case C.SECOND:case C.SUM:case C.TRUE:case C.WEEK:case C.YEAR:case C.HACKY_REGEX:case C.STRING_LITERAL:case C.OPAREN:case C.MINUS:case C.LITERAL_TIMESTAMP:case C.LITERAL_DAY:case C.LITERAL_QUARTER:case C.LITERAL_MONTH:case C.LITERAL_WEEK:case C.LITERAL_YEAR:case C.IDENTIFIER:case C.INTEGER_LITERAL:case C.NUMERIC_LITERAL:case C.OBJECT_NAME_LITERAL:this.state=754,this.fieldExpr(0);break;case C.STAR:this.state=755,this.match(C.STAR);break;case C.CPAREN:break;default:break}this.state=758,this.match(C.CPAREN)}break;case 8:i=new $se(i),this._ctx=i,s=i,this.state=760,this.match(C.OPAREN),this.state=761,this.partialAllowedFieldExpr(),this.state=762,this.match(C.CPAREN);break;case 9:{switch(i=new zse(i),this._ctx=i,s=i,this.state=766,this._errHandler.sync(this),this._input.LA(1)){case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.state=764,this.id();break;case C.DAY:case C.HOUR:case C.MINUTE:case C.MONTH:case C.QUARTER:case C.SECOND:case C.WEEK:case C.YEAR:this.state=765,this.timeframe();break;default:throw new Sc.NoViableAltException(this)}this.state=768,this.match(C.OPAREN),this.state=770,this._errHandler.sync(this),a=this._input.LA(1),((a-28&~31)===0&&(1<<a-28&(1<<C.ALL-28|1<<C.AVG-28|1<<C.CAST-28|1<<C.COUNT-28|1<<C.DAY-28|1<<C.EXCLUDE-28|1<<C.FALSE-28|1<<C.HOUR-28|1<<C.MAX-28|1<<C.MIN-28|1<<C.MINUTE-28|1<<C.MONTH-28))!==0||(a-60&~31)===0&&(1<<a-60&(1<<C.NOT-60|1<<C.NOW-60|1<<C.NULL-60|1<<C.PICK-60|1<<C.QUARTER-60|1<<C.SECOND-60|1<<C.SUM-60|1<<C.TRUE-60|1<<C.WEEK-60|1<<C.YEAR-60|1<<C.HACKY_REGEX-60|1<<C.STRING_LITERAL-60|1<<C.OPAREN-60))!==0||(a-107&~31)===0&&(1<<a-107&(1<<C.MINUS-107|1<<C.LITERAL_TIMESTAMP-107|1<<C.LITERAL_DAY-107|1<<C.LITERAL_QUARTER-107|1<<C.LITERAL_MONTH-107|1<<C.LITERAL_WEEK-107|1<<C.LITERAL_YEAR-107|1<<C.IDENTIFIER-107|1<<C.INTEGER_LITERAL-107|1<<C.NUMERIC_LITERAL-107|1<<C.OBJECT_NAME_LITERAL-107))!==0)&&(this.state=769,this.argumentList()),this.state=772,this.match(C.CPAREN)}break;case 10:i=new Hse(i),this._ctx=i,s=i,this.state=774,this.pickStatement();break;case 11:{for(i=new Vse(i),this._ctx=i,s=i,this.state=775,this.ungroup(),this.state=776,this.match(C.OPAREN),this.state=777,this.fieldExpr(0),this.state=782,this._errHandler.sync(this),a=this._input.LA(1);a===C.COMMA;)this.state=778,this.match(C.COMMA),this.state=779,this.fieldName(),this.state=784,this._errHandler.sync(this),a=this._input.LA(1);this.state=785,this.match(C.CPAREN)}break}for(this._ctx._stop=this._input.tryLT(-1),this.state=831,this._errHandler.sync(this),l=this.interpreter.adaptivePredict(this._input,89,this._ctx);l!==2&&l!==Zf.ATN.INVALID_ALT_NUMBER;){if(l===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),s=i,this.state=829,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,88,this._ctx)){case 1:{if(i=new Ose(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=789,!this.precpred(this._ctx,16))throw this.createFailedPredicateException("this.precpred(this._ctx, 16)");this.state=790,a=this._input.LA(1),a===C.STAR||a===C.SLASH?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=791,this.fieldExpr(17)}break;case 2:{if(i=new Rse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=792,!this.precpred(this._ctx,15))throw this.createFailedPredicateException("this.precpred(this._ctx, 15)");this.state=793,a=this._input.LA(1),a===C.PLUS||a===C.MINUS?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=794,this.fieldExpr(16)}break;case 3:{if(i=new Nse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=795,!this.precpred(this._ctx,14))throw this.createFailedPredicateException("this.precpred(this._ctx, 14)");this.state=796,this.match(C.TO),this.state=797,this.fieldExpr(15)}break;case 4:{if(i=new Ise(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=798,!this.precpred(this._ctx,11))throw this.createFailedPredicateException("this.precpred(this._ctx, 11)");this.state=799,this.compareOp(),this.state=800,this.fieldExpr(12)}break;case 5:{if(i=new Bse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=802,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=803,a=this._input.LA(1),a===C.AND||a===C.OR?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=804,this.fieldExpr(9)}break;case 6:{if(i=new wse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=805,!this.precpred(this._ctx,22))throw this.createFailedPredicateException("this.precpred(this._ctx, 22)");this.state=806,this.match(C.OCURLY),this.state=807,this.filteredBy(),this.state=808,this.match(C.CCURLY)}break;case 7:{if(i=new Tse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=810,!this.precpred(this._ctx,19))throw this.createFailedPredicateException("this.precpred(this._ctx, 19)");this.state=811,this.timeframe()}break;case 8:{if(i=new Fse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=812,!this.precpred(this._ctx,18))throw this.createFailedPredicateException("this.precpred(this._ctx, 18)");this.state=813,this.match(C.DOT),this.state=814,this.timeframe()}break;case 9:{if(i=new Dse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=815,!this.precpred(this._ctx,17))throw this.createFailedPredicateException("this.precpred(this._ctx, 17)");this.state=816,this.match(C.DOUBLECOLON),this.state=817,this.malloyType()}break;case 10:{if(i=new Lse(new Ci(t,r)),i._startAt=s,this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=818,!this.precpred(this._ctx,13))throw this.createFailedPredicateException("this.precpred(this._ctx, 13)");this.state=819,this.match(C.FOR),this.state=820,i._duration=this.fieldExpr(0),this.state=821,this.timeframe()}break;case 11:{if(i=new kse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=823,!this.precpred(this._ctx,12))throw this.createFailedPredicateException("this.precpred(this._ctx, 12)");this.state=824,a=this._input.LA(1),a===C.AMPER||a===C.BAR?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=825,this.partialAllowedFieldExpr()}break;case 12:{if(i=new Mse(new Ci(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=826,!this.precpred(this._ctx,10))throw this.createFailedPredicateException("this.precpred(this._ctx, 10)");this.state=827,a=this._input.LA(1),a===C.QMARK||a===C.COLON?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=828,this.partialAllowedFieldExpr()}break}this.state=833,this._errHandler.sync(this),l=this.interpreter.adaptivePredict(this._input,89,this._ctx)}}}catch(l){if(l instanceof Hr.RecognitionException)i.exception=l,this._errHandler.reportError(this,l),this._errHandler.recover(this,l);else throw l}finally{this.unrollRecursionContexts(t)}return i}partialAllowedFieldExpr(){let e=new xy(this._ctx,this.state);this.enterRule(e,164,C.RULE_partialAllowedFieldExpr);try{switch(this.state=838,this._errHandler.sync(this),this._input.LA(1)){case C.LT:case C.GT:case C.EQ:case C.NE:case C.LTE:case C.GTE:case C.NOT_MATCH:case C.MATCH:e=new Wse(e),this.enterOuterAlt(e,1),this.state=834,this.compareOp(),this.state=835,this.fieldExpr(0);break;case C.ALL:case C.AVG:case C.CAST:case C.COUNT:case C.DAY:case C.EXCLUDE:case C.FALSE:case C.HOUR:case C.MAX:case C.MIN:case C.MINUTE:case C.MONTH:case C.NOT:case C.NOW:case C.NULL:case C.PICK:case C.QUARTER:case C.SECOND:case C.SUM:case C.TRUE:case C.WEEK:case C.YEAR:case C.HACKY_REGEX:case C.STRING_LITERAL:case C.OPAREN:case C.MINUS:case C.LITERAL_TIMESTAMP:case C.LITERAL_DAY:case C.LITERAL_QUARTER:case C.LITERAL_MONTH:case C.LITERAL_WEEK:case C.LITERAL_YEAR:case C.IDENTIFIER:case C.INTEGER_LITERAL:case C.NUMERIC_LITERAL:case C.OBJECT_NAME_LITERAL:e=new Qse(e),this.enterOuterAlt(e,2),this.state=837,this.fieldExpr(0);break;default:throw new Sc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}pickStatement(){let e=new d$(this._ctx,this.state);this.enterRule(e,166,C.RULE_pickStatement);try{let t;this.enterOuterAlt(e,1);{this.state=841,this._errHandler.sync(this),t=1;do{switch(t){case 1:this.state=840,this.pick();break;default:throw new Sc.NoViableAltException(this)}this.state=843,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,91,this._ctx)}while(t!==2&&t!==Zf.ATN.INVALID_ALT_NUMBER);switch(this.state=847,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,92,this._ctx)){case 1:this.state=845,this.match(C.ELSE),this.state=846,e._pickElse=this.fieldExpr(0);break}}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}pick(){let e=new MO(this._ctx,this.state);this.enterRule(e,168,C.RULE_pick);let t;try{this.enterOuterAlt(e,1),this.state=849,this.match(C.PICK),this.state=851,this._errHandler.sync(this),t=this._input.LA(1),((t-28&~31)===0&&(1<<t-28&(1<<C.ALL-28|1<<C.AVG-28|1<<C.CAST-28|1<<C.COUNT-28|1<<C.DAY-28|1<<C.EXCLUDE-28|1<<C.FALSE-28|1<<C.HOUR-28|1<<C.MAX-28|1<<C.MIN-28|1<<C.MINUTE-28|1<<C.MONTH-28))!==0||(t-60&~31)===0&&(1<<t-60&(1<<C.NOT-60|1<<C.NOW-60|1<<C.NULL-60|1<<C.PICK-60|1<<C.QUARTER-60|1<<C.SECOND-60|1<<C.SUM-60|1<<C.TRUE-60|1<<C.WEEK-60|1<<C.YEAR-60|1<<C.HACKY_REGEX-60|1<<C.STRING_LITERAL-60|1<<C.OPAREN-60))!==0||(t-107&~31)===0&&(1<<t-107&(1<<C.MINUS-107|1<<C.LITERAL_TIMESTAMP-107|1<<C.LITERAL_DAY-107|1<<C.LITERAL_QUARTER-107|1<<C.LITERAL_MONTH-107|1<<C.LITERAL_WEEK-107|1<<C.LITERAL_YEAR-107|1<<C.IDENTIFIER-107|1<<C.INTEGER_LITERAL-107|1<<C.NUMERIC_LITERAL-107|1<<C.OBJECT_NAME_LITERAL-107))!==0)&&(this.state=850,e._pickValue=this.fieldExpr(0)),this.state=853,this.match(C.WHEN),this.state=854,e._pickWhen=this.partialAllowedFieldExpr()}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}argumentList(){let e=new h$(this._ctx,this.state);this.enterRule(e,170,C.RULE_argumentList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=856,this.fieldExpr(0),this.state=861,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,94,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=857,this.match(C.COMMA),this.state=858,this.fieldExpr(0)),this.state=863,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,94,this._ctx);this.state=865,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=864,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldNameList(){let e=new p$(this._ctx,this.state);this.enterRule(e,172,C.RULE_fieldNameList);let t;try{for(this.enterOuterAlt(e,1),this.state=867,this.fieldName(),this.state=874,this._errHandler.sync(this),t=this._input.LA(1);(t-98&~31)===0&&(1<<t-98&(1<<C.COMMA-98|1<<C.IDENTIFIER-98|1<<C.OBJECT_NAME_LITERAL-98))!==0;)this.state=869,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=868,this.match(C.COMMA)),this.state=871,this.fieldName(),this.state=876,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldCollection(){let e=new m$(this._ctx,this.state);this.enterRule(e,174,C.RULE_fieldCollection);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=877,this.collectionMember(),this.state=884,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,99,this._ctx);r!==2&&r!==Zf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=879,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=878,this.match(C.COMMA)),this.state=881,this.collectionMember()),this.state=886,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,99,this._ctx);this.state=888,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=887,this.match(C.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}collectionMember(){let e=new f4(this._ctx,this.state);this.enterRule(e,176,C.RULE_collectionMember);let t;try{switch(this.state=898,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,102,this._ctx)){case 1:e=new Gse(e),this.enterOuterAlt(e,1),this.state=890,this.fieldPath();break;case 2:e=new Yse(e),this.enterOuterAlt(e,2),this.state=894,this._errHandler.sync(this),t=this._input.LA(1),(t===C.IDENTIFIER||t===C.OBJECT_NAME_LITERAL)&&(this.state=891,this.fieldPath(),this.state=892,this.match(C.DOT)),this.state=896,t=this._input.LA(1),t===C.STAR||t===C.STARSTAR?(this._input.LA(1)===bf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case 3:e=new Kse(e),this.enterOuterAlt(e,3),this.state=897,this.fieldDef();break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldPath(){let e=new gy(this._ctx,this.state);this.enterRule(e,178,C.RULE_fieldPath);try{let t;for(this.enterOuterAlt(e,1),this.state=900,this.fieldName(),this.state=905,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,103,this._ctx);t!==2&&t!==Zf.ATN.INVALID_ALT_NUMBER;)t===1&&(this.state=901,this.match(C.DOT),this.state=902,this.fieldName()),this.state=907,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,103,this._ctx)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinName(){let e=new Jse(this._ctx,this.state);this.enterRule(e,180,C.RULE_joinName);try{this.enterOuterAlt(e,1),this.state=908,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldName(){let e=new Td(this._ctx,this.state);this.enterRule(e,182,C.RULE_fieldName);try{this.enterOuterAlt(e,1),this.state=910,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}justExpr(){let e=new Xse(this._ctx,this.state);this.enterRule(e,184,C.RULE_justExpr);try{this.enterOuterAlt(e,1),this.state=912,this.fieldExpr(0),this.state=913,this.match(C.EOF)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}json(){let e=new Zse(this._ctx,this.state);this.enterRule(e,186,C.RULE_json);try{this.enterOuterAlt(e,1),this.state=915,this.jsonValue()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonValue(){let e=new sb(this._ctx,this.state);this.enterRule(e,188,C.RULE_jsonValue);try{switch(this.state=925,this._errHandler.sync(this),this._input.LA(1)){case C.JSON_STRING:this.enterOuterAlt(e,1),this.state=917,this.match(C.JSON_STRING);break;case C.INTEGER_LITERAL:this.enterOuterAlt(e,2),this.state=918,this.match(C.INTEGER_LITERAL);break;case C.NUMERIC_LITERAL:this.enterOuterAlt(e,3),this.state=919,this.match(C.NUMERIC_LITERAL);break;case C.OCURLY:this.enterOuterAlt(e,4),this.state=920,this.jsonObject();break;case C.OBRACK:this.enterOuterAlt(e,5),this.state=921,this.jsonArray();break;case C.TRUE:this.enterOuterAlt(e,6),this.state=922,this.match(C.TRUE);break;case C.FALSE:this.enterOuterAlt(e,7),this.state=923,this.match(C.FALSE);break;case C.NULL:this.enterOuterAlt(e,8),this.state=924,this.match(C.NULL);break;default:throw new Sc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonObject(){let e=new x$(this._ctx,this.state);this.enterRule(e,190,C.RULE_jsonObject);let t;try{switch(this.state=940,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,106,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=927,this.match(C.OCURLY),this.state=928,this.jsonProperty(),this.state=933,this._errHandler.sync(this),t=this._input.LA(1);t===C.COMMA;)this.state=929,this.match(C.COMMA),this.state=930,this.jsonProperty(),this.state=935,this._errHandler.sync(this),t=this._input.LA(1);this.state=936,this.match(C.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=938,this.match(C.OCURLY),this.state=939,this.match(C.CCURLY);break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}jsonProperty(){let e=new PO(this._ctx,this.state);this.enterRule(e,192,C.RULE_jsonProperty);try{this.enterOuterAlt(e,1),this.state=942,this.match(C.JSON_STRING),this.state=943,this.match(C.COLON),this.state=944,this.jsonValue()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonArray(){let e=new g$(this._ctx,this.state);this.enterRule(e,194,C.RULE_jsonArray);let t;try{switch(this.state=959,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,108,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=946,this.match(C.OBRACK),this.state=947,this.jsonValue(),this.state=952,this._errHandler.sync(this),t=this._input.LA(1);t===C.COMMA;)this.state=948,this.match(C.COMMA),this.state=949,this.jsonValue(),this.state=954,this._errHandler.sync(this),t=this._input.LA(1);this.state=955,this.match(C.CBRACK)}break;case 2:this.enterOuterAlt(e,2),this.state=957,this.match(C.OBRACK),this.state=958,this.match(C.CBRACK);break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sqlExploreNameRef(){let e=new y$(this._ctx,this.state);this.enterRule(e,196,C.RULE_sqlExploreNameRef);try{this.enterOuterAlt(e,1),this.state=961,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sqlCommandNameDef(){let e=new v$(this._ctx,this.state);this.enterRule(e,198,C.RULE_sqlCommandNameDef);try{this.enterOuterAlt(e,1),this.state=963,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}connectionName(){let e=new _$(this._ctx,this.state);this.enterRule(e,200,C.RULE_connectionName);try{this.enterOuterAlt(e,1),this.state=965,this.match(C.JSON_STRING)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sempred(e,t,r){switch(t){case 81:return this.fieldExpr_sempred(e,r)}return!0}fieldExpr_sempred(e,t){switch(t){case 0:return this.precpred(this._ctx,16);case 1:return this.precpred(this._ctx,15);case 2:return this.precpred(this._ctx,14);case 3:return this.precpred(this._ctx,11);case 4:return this.precpred(this._ctx,8);case 5:return this.precpred(this._ctx,22);case 6:return this.precpred(this._ctx,19);case 7:return this.precpred(this._ctx,18);case 8:return this.precpred(this._ctx,17);case 9:return this.precpred(this._ctx,13);case 10:return this.precpred(this._ctx,12);case 11:return this.precpred(this._ctx,10)}return!0}static get _ATN(){return C.__ATN||(C.__ATN=new s0t.ATNDeserializer().deserialize(m8e.toCharArray(C._serializedATN))),C.__ATN}};jt.MalloyParser=C;C.JSON_STRING=1;C.ACCEPT=2;C.AGGREGATE=3;C.DECLARE=4;C.DIMENSION=5;C.EXCEPT=6;C.EXPLORE=7;C.GROUP_BY=8;C.HAVING=9;C.INDEX=10;C.JOIN_CROSS=11;C.JOIN_ONE=12;C.JOIN_MANY=13;C.LIMIT=14;C.MEASURE=15;C.NEST=16;C.ORDER_BY=17;C.PRIMARY_KEY=18;C.PROJECT=19;C.QUERY=20;C.RENAME=21;C.SAMPLE=22;C.SOURCE=23;C.SQL=24;C.FANCYSQL=25;C.TOP=26;C.WHERE=27;C.ALL=28;C.AND=29;C.AS=30;C.ASC=31;C.AVG=32;C.BOOLEAN=33;C.BY=34;C.CASE=35;C.CAST=36;C.CONDITION=37;C.COUNT=38;C.DATE=39;C.DAY=40;C.DESC=41;C.DISTINCT=42;C.ELSE=43;C.END=44;C.EXCLUDE=45;C.FALSE=46;C.FOR=47;C.FROM=48;C.FROM_SQL=49;C.HAS=50;C.HOUR=51;C.IMPORT=52;C.IS=53;C.JSON=54;C.LAST=55;C.MAX=56;C.MIN=57;C.MINUTE=58;C.MONTH=59;C.NOT=60;C.NOW=61;C.NULL=62;C.NUMBER=63;C.ON=64;C.OR=65;C.PICK=66;C.QMARK=67;C.QUARTER=68;C.SECOND=69;C.STRING=70;C.SUM=71;C.TABLE=72;C.THEN=73;C.THIS=74;C.TIMESTAMP=75;C.TO=76;C.TRUE=77;C.TURTLE=78;C.WEEK=79;C.WHEN=80;C.WITH=81;C.YEAR=82;C.UNGROUPED=83;C.STRING_ESCAPE=84;C.HACKY_REGEX=85;C.STRING_LITERAL=86;C.AMPER=87;C.ARROW=88;C.FAT_ARROW=89;C.OPAREN=90;C.CPAREN=91;C.OBRACK=92;C.CBRACK=93;C.OCURLY=94;C.CCURLY=95;C.DOUBLECOLON=96;C.COLON=97;C.COMMA=98;C.DOT=99;C.LT=100;C.GT=101;C.EQ=102;C.NE=103;C.LTE=104;C.GTE=105;C.PLUS=106;C.MINUS=107;C.STAR=108;C.STARSTAR=109;C.SLASH=110;C.BAR=111;C.SEMI=112;C.NOT_MATCH=113;C.MATCH=114;C.LITERAL_TIMESTAMP=115;C.LITERAL_DAY=116;C.LITERAL_QUARTER=117;C.LITERAL_MONTH=118;C.LITERAL_WEEK=119;C.LITERAL_YEAR=120;C.IDENTIFIER=121;C.PERCENT_LITERAL=122;C.INTEGER_LITERAL=123;C.NUMERIC_LITERAL=124;C.OBJECT_NAME_LITERAL=125;C.BLOCK_COMMENT=126;C.COMMENT_TO_EOL=127;C.WHITE_SPACE=128;C.SQL_STRING=129;C.UNWATED_CHARS_TRAILING_NUMBERS=130;C.UNEXPECTED_CHAR=131;C.RULE_malloyDocument=0;C.RULE_malloyStatement=1;C.RULE_defineExploreStatement=2;C.RULE_exploreKeyword=3;C.RULE_defineQuery=4;C.RULE_topLevelAnonQueryDef=5;C.RULE_defineSQLStatement=6;C.RULE_sqlStatementDef=7;C.RULE_importStatement=8;C.RULE_importURL=9;C.RULE_topLevelQueryDefs=10;C.RULE_topLevelQueryDef=11;C.RULE_refineOperator=12;C.RULE_query=13;C.RULE_pipelineFromName=14;C.RULE_firstSegment=15;C.RULE_pipeElement=16;C.RULE_exploreTable=17;C.RULE_queryProperties=18;C.RULE_filterShortcut=19;C.RULE_exploreQueryName=20;C.RULE_queryName=21;C.RULE_exploreDefinitionList=22;C.RULE_exploreDefinition=23;C.RULE_explore=24;C.RULE_exploreSource=25;C.RULE_exploreNameDef=26;C.RULE_exploreName=27;C.RULE_exploreProperties=28;C.RULE_exploreStatement=29;C.RULE_renameList=30;C.RULE_exploreRenameDef=31;C.RULE_dimensionDefList=32;C.RULE_measureDefList=33;C.RULE_fieldDef=34;C.RULE_fieldNameDef=35;C.RULE_joinNameDef=36;C.RULE_measureDef=37;C.RULE_declareStatement=38;C.RULE_joinStatement=39;C.RULE_joinList=40;C.RULE_joinDef=41;C.RULE_joinExpression=42;C.RULE_filterStatement=43;C.RULE_filteredBy=44;C.RULE_filterClauseList=45;C.RULE_whereStatement=46;C.RULE_havingStatement=47;C.RULE_subQueryDefList=48;C.RULE_exploreQueryNameDef=49;C.RULE_exploreQueryDef=50;C.RULE_queryStatement=51;C.RULE_groupByStatement=52;C.RULE_queryFieldList=53;C.RULE_dimensionDef=54;C.RULE_queryFieldEntry=55;C.RULE_nestStatement=56;C.RULE_nestedQueryList=57;C.RULE_nestEntry=58;C.RULE_aggregateStatement=59;C.RULE_projectStatement=60;C.RULE_orderByStatement=61;C.RULE_ordering=62;C.RULE_orderBySpec=63;C.RULE_limitStatement=64;C.RULE_bySpec=65;C.RULE_topStatement=66;C.RULE_indexElement=67;C.RULE_indexFields=68;C.RULE_indexStatement=69;C.RULE_sampleStatement=70;C.RULE_sampleSpec=71;C.RULE_aggregate=72;C.RULE_malloyType=73;C.RULE_compareOp=74;C.RULE_literal=75;C.RULE_dateLiteral=76;C.RULE_tableName=77;C.RULE_id=78;C.RULE_timeframe=79;C.RULE_ungroup=80;C.RULE_fieldExpr=81;C.RULE_partialAllowedFieldExpr=82;C.RULE_pickStatement=83;C.RULE_pick=84;C.RULE_argumentList=85;C.RULE_fieldNameList=86;C.RULE_fieldCollection=87;C.RULE_collectionMember=88;C.RULE_fieldPath=89;C.RULE_joinName=90;C.RULE_fieldName=91;C.RULE_justExpr=92;C.RULE_json=93;C.RULE_jsonValue=94;C.RULE_jsonObject=95;C.RULE_jsonProperty=96;C.RULE_jsonArray=97;C.RULE_sqlExploreNameRef=98;C.RULE_sqlCommandNameDef=99;C.RULE_connectionName=100;C.ruleNames=["malloyDocument","malloyStatement","defineExploreStatement","exploreKeyword","defineQuery","topLevelAnonQueryDef","defineSQLStatement","sqlStatementDef","importStatement","importURL","topLevelQueryDefs","topLevelQueryDef","refineOperator","query","pipelineFromName","firstSegment","pipeElement","exploreTable","queryProperties","filterShortcut","exploreQueryName","queryName","exploreDefinitionList","exploreDefinition","explore","exploreSource","exploreNameDef","exploreName","exploreProperties","exploreStatement","renameList","exploreRenameDef","dimensionDefList","measureDefList","fieldDef","fieldNameDef","joinNameDef","measureDef","declareStatement","joinStatement","joinList","joinDef","joinExpression","filterStatement","filteredBy","filterClauseList","whereStatement","havingStatement","subQueryDefList","exploreQueryNameDef","exploreQueryDef","queryStatement","groupByStatement","queryFieldList","dimensionDef","queryFieldEntry","nestStatement","nestedQueryList","nestEntry","aggregateStatement","projectStatement","orderByStatement","ordering","orderBySpec","limitStatement","bySpec","topStatement","indexElement","indexFields","indexStatement","sampleStatement","sampleSpec","aggregate","malloyType","compareOp","literal","dateLiteral","tableName","id","timeframe","ungroup","fieldExpr","partialAllowedFieldExpr","pickStatement","pick","argumentList","fieldNameList","fieldCollection","collectionMember","fieldPath","joinName","fieldName","justExpr","json","jsonValue","jsonObject","jsonProperty","jsonArray","sqlExploreNameRef","sqlCommandNameDef","connectionName"];C._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'"];C._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];C.VOCABULARY=new l0t.VocabularyImpl(C._LITERAL_NAMES,C._SYMBOLIC_NAMES,[]);C._serializedATNSegments=2;C._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x85\u03CA					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	f\x07\xCF
\f\xD2\v\xDA
\xE5
\x07\x07\b\b\b				\xEF
					\xF4
	


\v\v\f\f\f\xFD
\f\f\x07\f\u0100
\f\f\f\f\u0103\v\f\f\f\u0106
\f\r\r\r\r\u0115
\u0118
\x07\u011B
\f\u011E\v\u0120
\x07\u0124
\f\u0127\v\u012C
\u012F
\u0131
\x07\u013F
\f\u0142\v\u0145
\u0152
\x07\u0155
\f\u0158\v\u015B
\u0163
\u0166
\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\u0174
\x1B\x07\u017D
\f\u0180\v\u0184
\u0195
   \u0199
  \x07 \u019C
 \f  \u019F\v   \u01A2
 !!!!"""\u01AA
""\x07"\u01AD
"\f""\u01B0\v"""\u01B3
"###\u01B7
##\x07#\u01BA
#\f##\u01BD\v###\u01C0
#$$$$%%&&''((((\u01CF
((\x07(\u01D2
(\f((\u01D5\v(((\u01D8
()))))))\u01E0
)***\u01E4
**\x07*\u01E7
*\f**\u01EA\v***\u01ED
*++++\u01F2
++++++++\u01FA
++++\u01FE
++\u0200
+,,---\u0206
-....\u020B
.///\x07/\u0210
/\f//\u0213\v///\u0216
/000111222\u0220
22\x072\u0223
2\f22\u0226\v222\u0229
233444455555555555555\u023E
5666777\u0245
77\x077\u0248
7\f77\u024B\v777\u024E
788999\u0254
9:::;;;\u025B
;;\x07;\u025E
;\f;;\u0261\v;;;\u0264
;<<<\u0268
<<<\u026B
<<<<<<\u0271
<===>>>???@@@\u027E
@@\x07@\u0281
@\f@@\u0284\v@@@\u0287
@AAA\u028B
AAA\u028E
ABBBCCCCC\u0297
CDDDD\u029C
DEEEE\u02A1
EEE\u02A4
EFFF\u02A8
FF\x07F\u02AB
F\fFF\u02AE\vFGGGGG\u02B4
GHHHIIJJKKLLMMMMMMMM\u02C8
MNNNNNNN\u02D0
NOOPPQQRRSSSSSSSSSSSSSSSSSSSSSSSS\u02F1
SSSSSS\u02F7
SSSSSSSSSS\u0301
SSSS\u0305
SSSSSSSSS\x07S\u030F
S\fSS\u0312\vSSSS\u0316
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS\x07S\u0340
S\fSS\u0343\vSTTTTT\u0349
TUU\u034C
U\rUU\u034DUUU\u0352
UVVV\u0356
VVVVWWW\x07W\u035E
W\fWW\u0361\vWWW\u0364
WXXX\u0368
XX\x07X\u036B
X\fXX\u036E\vXYYY\u0372
YY\x07Y\u0375
Y\fYY\u0378\vYYY\u037B
YZZZZZ\u0381
ZZZZ\u0385
Z[[[\x07[\u038A
[\f[[\u038D\v[\\\\]]^^^__\`\`\`\`\`\`\`\`\`\u03A0
\`aaaa\x07a\u03A6
a\faa\u03A9\vaaaaaa\u03AF
abbbbcccc\x07c\u03B9
c\fcc\u03BC\vcccccc\u03C2
cddeefff\xA4g\b
\f "$&(*,.02468:<>@BDFHJLNPRTVXZ\\^\`bdfhjlnprtvxz|~\x80\x82\x84\x86\x88\x8A\x8C\x8E\x90\x92\x94\x96\x98\x9A\x9C\x9E\xA0\xA2\xA4\xA6\xA8\xAA\xAC\xAE\xB0\xB2\xB4\xB6\xB8\xBA\xBC\xBE\xC0\xC2\xC4\xC6\xC8\xCA		\b\b!!++00OO|}""((:;II\x07##))AAHHMMfkst}~00OO{{\x7F\x7F\b**55<=FGQQTT//nnpplmCCYYqqEEccno\u040C\xD0\xD9\xDB\b\xDE
\xE4\f\xE6\xE8\xEE\xF5\xF8\xFA\u0107\u010B\u011F\u0121 \u0130"\u0132$\u0135&\u0144(\u0146*\u014B,\u014D.\u014F0\u015C2\u01604\u01736\u01758\u0177:\u0183<\u0194>\u0196@\u01A3B\u01A7D\u01B4F\u01C1H\u01C5J\u01C7L\u01C9N\u01CBP\u01DFR\u01E1T\u01FFV\u0201X\u0205Z\u020A\\\u020C^\u0217\`\u021Ab\u021Dd\u022Af\u022Ch\u023Dj\u023Fl\u0242n\u024Fp\u0253r\u0255t\u0258v\u0270x\u0272z\u0275|\u0278~\u027B\x80\u028A\x82\u028F\x84\u0296\x86\u0298\x88\u02A3\x8A\u02A5\x8C\u02AF\x8E\u02B5\x90\u02B8\x92\u02BA\x94\u02BC\x96\u02BE\x98\u02C7\x9A\u02CF\x9C\u02D1\x9E\u02D3\xA0\u02D5\xA2\u02D7\xA4\u0315\xA6\u0348\xA8\u034B\xAA\u0353\xAC\u035A\xAE\u0365\xB0\u036F\xB2\u0384\xB4\u0386\xB6\u038E\xB8\u0390\xBA\u0392\xBC\u0395\xBE\u039F\xC0\u03AE\xC2\u03B0\xC4\u03C1\xC6\u03C3\xC8\u03C5\xCA\u03C7\xCC\xCF\xCD\xCF\x07r\xCE\xCC\xCE\xCD\xCF\xD2\xD0\xCE\xD0\xD1\xD1\xD3\xD2\xD0\xD3\xD4\x07\xD4\xD5\xDA\xD6\xDA\b\xD7\xDA
\xD8\xDA
\xD9\xD5\xD9\xD6\xD9\xD7\xD9\xD8\xDA\xDB\xDC\b\xDC\xDD.\xDD\x07\xDE\xDF	\xDF	\xE0\xE1\x07\xE1\xE5\f\xE2\xE3\x07\xE3\xE5\f\x07\xE4\xE0\xE4\xE2\xE5\v\xE6\xE7\xE7\r\xE8\xE9\x07\xE9\xEA	\xEA\xEB\xEC\xC8e\xEC\xED\x077\xED\xEF\xEE\xEB\xEE\xEF\xEF\xF0\xF0\xF3\x07\x83\xF1\xF2\x07B\xF2\xF4\xCAf\xF3\xF1\xF3\xF4\xF4\xF5\xF6\x076\xF6\xF7\v\xF7\xF8\xF9\x07\xF9\xFA\u0101\r\xFB\xFD\x07d\xFC\xFB\xFC\xFD\xFD\xFE\xFE\u0100\r\xFF\xFC\u0100\u0103\u0101\xFF\u0101\u0102\u0102\u0105\u0103\u0101\u0104\u0106\x07d\u0105\u0104\u0105\u0106\u0106\u0107\u0108,\u0108\u0109\x077\u0109\u010A\u010A\u010B\u010C\x07l\u010C\x1B\u010D\u010E2\u010E\u010F\x07Z\u010F\u0110\u0110\u0120\u0111\u0112\x07Z\u0112\u0117,\u0113\u0115\u0114\u0113\u0114\u0115\u0115\u0116\u0116\u0118&\u0117\u0114\u0117\u0118\u0118\u011C\u0119\u011B"\u011A\u0119\u011B\u011E\u011C\u011A\u011C\u011D\u011D\u0120\u011E\u011C\u011F\u010D\u011F\u0111\u0120\u0121\u0125 \u0122\u0124"\u0123\u0122\u0124\u0127\u0125\u0123\u0125\u0126\u0126\u0127\u0125\u0128\u0131&\u0129\u012E*\u012A\u012C\u012B\u012A\u012B\u012C\u012C\u012D\u012D\u012F&\u012E\u012B\u012E\u012F\u012F\u0131\u0130\u0128\u0130\u0129\u0131!\u0132\u0133\x07Z\u0133\u0134&\u0134#\u0135\u0136\x07J\u0136\u0137\x07\\\u0137\u0138\x9CO\u0138\u0139\x07]\u0139%\u013A\u0145(\u013B\u0140\x07\`\u013C\u013Fh5\u013D\u013F\x07r\u013E\u013C\u013E\u013D\u013F\u0142\u0140\u013E\u0140\u0141\u0141\u0143\u0142\u0140\u0143\u0145\x07a\u0144\u013A\u0144\u013B\u0145'\u0146\u0147\x07\`\u0147\u0148\x07E\u0148\u0149\xA4S\u0149\u014A\x07a\u014A)\u014B\u014C\x9EP\u014C+\u014D\u014E\x9EP\u014E-\u014F\u01560\u0150\u0152\x07d\u0151\u0150\u0151\u0152\u0152\u0153\u0153\u01550\u0154\u0151\u0155\u0158\u0156\u0154\u0156\u0157\u0157\u015A\u0158\u0156\u0159\u015B\x07d\u015A\u0159\u015A\u015B\u015B/\u015C\u015D6\u015D\u015E\x077\u015E\u015F2\u015F1\u0160\u01654\x1B\u0161\u0163\u0162\u0161\u0162\u0163\u0163\u0164\u0164\u0166:\u0165\u0162\u0165\u0166\u01663\u0167\u01748\u0168\u0174$\u0169\u016A\x072\u016A\u016B\x07\\\u016B\u016C\u016C\u016D\x07]\u016D\u0174\u016E\u016F\x073\u016F\u0170\x07\\\u0170\u0171\xC6d\u0171\u0172\x07]\u0172\u0174\u0173\u0167\u0173\u0168\u0173\u0169\u0173\u016E\u01745\u0175\u0176\x9EP\u01767\u0177\u0178\x9EP\u01789\u0179\u017E\x07\`\u017A\u017D<\u017B\u017D\x07r\u017C\u017A\u017C\u017B\u017D\u0180\u017E\u017C\u017E\u017F\u017F\u0181\u0180\u017E\u0181\u0184\x07a\u0182\u0184(\u0183\u0179\u0183\u0182\u0184;\u0185\u0186\x07\x07\u0186\u0195B"\u0187\u0188\x07\u0188\u0195D#\u0189\u0195N(\u018A\u0195P)\u018B\u0195^0\u018C\u018D\x07\u018D\u0195\xB8]\u018E\u018F\x07\u018F\u0195> \u0190\u0191	\u0191\u0195\xAEX\u0192\u0193\x07\u0193\u0195b2\u0194\u0185\u0194\u0187\u0194\u0189\u0194\u018A\u0194\u018B\u0194\u018C\u0194\u018E\u0194\u0190\u0194\u0192\u0195=\u0196\u019D@!\u0197\u0199\x07d\u0198\u0197\u0198\u0199\u0199\u019A\u019A\u019C@!\u019B\u0198\u019C\u019F\u019D\u019B\u019D\u019E\u019E\u01A1\u019F\u019D\u01A0\u01A2\x07d\u01A1\u01A0\u01A1\u01A2\u01A2?\u01A3\u01A4\xB8]\u01A4\u01A5\x077\u01A5\u01A6\xB8]\u01A6A\u01A7\u01AEn8\u01A8\u01AA\x07d\u01A9\u01A8\u01A9\u01AA\u01AA\u01AB\u01AB\u01ADn8\u01AC\u01A9\u01AD\u01B0\u01AE\u01AC\u01AE\u01AF\u01AF\u01B2\u01B0\u01AE\u01B1\u01B3\x07d\u01B2\u01B1\u01B2\u01B3\u01B3C\u01B4\u01BBL'\u01B5\u01B7\x07d\u01B6\u01B5\u01B6\u01B7\u01B7\u01B8\u01B8\u01BAL'\u01B9\u01B6\u01BA\u01BD\u01BB\u01B9\u01BB\u01BC\u01BC\u01BF\u01BD\u01BB\u01BE\u01C0\x07d\u01BF\u01BE\u01BF\u01C0\u01C0E\u01C1\u01C2H%\u01C2\u01C3\x077\u01C3\u01C4\xA4S\u01C4G\u01C5\u01C6\x9EP\u01C6I\u01C7\u01C8\x9EP\u01C8K\u01C9\u01CAF$\u01CAM\u01CB\u01CC\x07\u01CC\u01D3F$\u01CD\u01CF\x07d\u01CE\u01CD\u01CE\u01CF\u01CF\u01D0\u01D0\u01D2F$\u01D1\u01CE\u01D2\u01D5\u01D3\u01D1\u01D3\u01D4\u01D4\u01D7\u01D5\u01D3\u01D6\u01D8\x07d\u01D7\u01D6\u01D7\u01D8\u01D8O\u01D9\u01DA\x07\u01DA\u01E0R*\u01DB\u01DC\x07\u01DC\u01E0R*\u01DD\u01DE\x07\r\u01DE\u01E0R*\u01DF\u01D9\u01DF\u01DB\u01DF`;C._serializedATNSegment1="\u01DD\u01E0Q\u01E1\u01E8T+\u01E2\u01E4\x07d\u01E3\u01E2\u01E3\u01E4\u01E4\u01E5\u01E5\u01E7T+\u01E6\u01E3\u01E7\u01EA\u01E8\u01E6\u01E8\u01E9\u01E9\u01EC\u01EA\u01E8\u01EB\u01ED\x07d\u01EC\u01EB\u01EC\u01ED\u01EDS\u01EE\u01F1J&\u01EF\u01F0\x077\u01F0\u01F22\u01F1\u01EF\u01F1\u01F2\u01F2\u01F3\u01F3\u01F4\x07S\u01F4\u01F5\xA4S\u01F5\u0200\u01F6\u01F9J&\u01F7\u01F8\x077\u01F8\u01FA2\u01F9\u01F7\u01F9\u01FA\u01FA\u01FD\u01FB\u01FC\x07B\u01FC\u01FEV,\u01FD\u01FB\u01FD\u01FE\u01FE\u0200\u01FF\u01EE\u01FF\u01F6\u0200U\u0201\u0202\xA4S\u0202W\u0203\u0206^0\u0204\u0206`1\u0205\u0203\u0205\u0204\u0206Y\u0207\u0208\x07E\u0208\u020B\xA4S\u0209\u020B^0\u020A\u0207\u020A\u0209\u020B[\u020C\u0211\xA4S\u020D\u020E\x07d\u020E\u0210\xA4S\u020F\u020D\u0210\u0213\u0211\u020F\u0211\u0212\u0212\u0215\u0213\u0211\u0214\u0216\x07d\u0215\u0214\u0215\u0216\u0216]\u0217\u0218\x07\u0218\u0219\\/\u0219_\u021A\u021B\x07\v\u021B\u021C\\/\u021Ca\u021D\u0224f4\u021E\u0220\x07d\u021F\u021E\u021F\u0220\u0220\u0221\u0221\u0223f4\u0222\u021F\u0223\u0226\u0224\u0222\u0224\u0225\u0225\u0228\u0226\u0224\u0227\u0229\x07d\u0228\u0227\u0228\u0229\u0229c\u022A\u022B\x9EP\u022Be\u022C\u022Dd3\u022D\u022E\x077\u022E\u022F\u022Fg\u0230\u023Ej6\u0231\u023EN(\u0232\u023EP)\u0233\u023Ez>\u0234\u023E\x8CG\u0235\u023Ex=\u0236\u023E\x86D\u0237\u023E\x82B\u0238\u023E|?\u0239\u023E^0\u023A\u023E`1\u023B\u023Er:\u023C\u023E\x8EH\u023D\u0230\u023D\u0231\u023D\u0232\u023D\u0233\u023D\u0234\u023D\u0235\u023D\u0236\u023D\u0237\u023D\u0238\u023D\u0239\u023D\u023A\u023D\u023B\u023D\u023C\u023Ei\u023F\u0240\x07\n\u0240\u0241l7\u0241k\u0242\u0249p9\u0243\u0245\x07d\u0244\u0243\u0244\u0245\u0245\u0246\u0246\u0248p9\u0247\u0244\u0248\u024B\u0249\u0247\u0249\u024A\u024A\u024D\u024B\u0249\u024C\u024E\x07d\u024D\u024C\u024D\u024E\u024Em\u024F\u0250F$\u0250o\u0251\u0254\xB4[\u0252\u0254n8\u0253\u0251\u0253\u0252\u0254q\u0255\u0256\x07\u0256\u0257t;\u0257s\u0258\u025Fv<\u0259\u025B\x07d\u025A\u0259\u025A\u025B\u025B\u025C\u025C\u025Ev<\u025D\u025A\u025E\u0261\u025F\u025D\u025F\u0260\u0260\u0263\u0261\u025F\u0262\u0264\x07d\u0263\u0262\u0263\u0264\u0264u\u0265\u026A,\u0266\u0268\u0267\u0266\u0267\u0268\u0268\u0269\u0269\u026B&\u026A\u0267\u026A\u026B\u026B\u0271\u026C\u026D,\u026D\u026E\x077\u026E\u026F\u026F\u0271\u0270\u0265\u0270\u026C\u0271w\u0272\u0273\x07\u0273\u0274l7\u0274y\u0275\u0276\x07\u0276\u0277\xB0Y\u0277{\u0278\u0279\x07\u0279\u027A~@\u027A}\u027B\u0282\x80A\u027C\u027E\x07d\u027D\u027C\u027D\u027E\u027E\u027F\u027F\u0281\x80A\u0280\u027D\u0281\u0284\u0282\u0280\u0282\u0283\u0283\u0286\u0284\u0282\u0285\u0287\x07d\u0286\u0285\u0286\u0287\u0287\x7F\u0288\u028B\x07}\u0289\u028B\xB8]\u028A\u0288\u028A\u0289\u028B\u028D\u028C\u028E	\u028D\u028C\u028D\u028E\u028E\x81\u028F\u0290\x07\u0290\u0291\x07}\u0291\x83\u0292\u0293\x07$\u0293\u0297\xB8]\u0294\u0295\x07$\u0295\u0297\xA4S\u0296\u0292\u0296\u0294\u0297\x85\u0298\u0299\x07\u0299\u029B\x07}\u029A\u029C\x84C\u029B\u029A\u029B\u029C\u029C\x87\u029D\u02A0\xB4[\u029E\u029F\x07e\u029F\u02A1\x07n\u02A0\u029E\u02A0\u02A1\u02A1\u02A4\u02A2\u02A4\x07n\u02A3\u029D\u02A3\u02A2\u02A4\x89\u02A5\u02AC\x88E\u02A6\u02A8\x07d\u02A7\u02A6\u02A7\u02A8\u02A8\u02A9\u02A9\u02AB\x88E\u02AA\u02A7\u02AB\u02AE\u02AC\u02AA\u02AC\u02AD\u02AD\x8B\u02AE\u02AC\u02AF\u02B0\x07\f\u02B0\u02B3\x8AF\u02B1\u02B2\x07$\u02B2\u02B4\xB8]\u02B3\u02B1\u02B3\u02B4\u02B4\x8D\u02B5\u02B6\x07\u02B6\u02B7\x90I\u02B7\x8F\u02B8\u02B9	\u02B9\x91\u02BA\u02BB	\u02BB\x93\u02BC\u02BD	\x07\u02BD\x95\u02BE\u02BF	\b\u02BF\x97\u02C0\u02C8\x07X\u02C1\u02C8		\u02C2\u02C8\x9AN\u02C3\u02C8\x07@\u02C4\u02C8	\n\u02C5\u02C8\x07W\u02C6\u02C8\x07?\u02C7\u02C0\u02C7\u02C1\u02C7\u02C2\u02C7\u02C3\u02C7\u02C4\u02C7\u02C5\u02C7\u02C6\u02C8\x99\u02C9\u02D0\x07u\u02CA\u02D0\x07v\u02CB\u02D0\x07y\u02CC\u02D0\x07x\u02CD\u02D0\x07w\u02CE\u02D0\x07z\u02CF\u02C9\u02CF\u02CA\u02CF\u02CB\u02CF\u02CC\u02CF\u02CD\u02CF\u02CE\u02D0\x9B\u02D1\u02D2\x07X\u02D2\x9D\u02D3\u02D4	\v\u02D4\x9F\u02D5\u02D6	\f\u02D6\xA1\u02D7\u02D8	\r\u02D8\xA3\u02D9\u02DA\bS\u02DA\u0316\xB4[\u02DB\u0316\x98M\u02DC\u02DD\x07m\u02DD\u0316\xA4S\u02DE\u02DF\x07>\u02DF\u0316\xA4S\v\u02E0\u02E1\x07&\u02E1\u02E2\x07\\\u02E2\u02E3\xA4S\u02E3\u02E4\x07 \u02E4\u02E5\x94K\u02E5\u02E6\x07]\u02E6\u0316\u02E7\u02E8\x07(\u02E8\u02E9\x07\\\u02E9\u02EA\x07,\u02EA\u02EB\xA4S\u02EB\u02EC\x07]\u02EC\u0316\u02ED\u02EE\xB4[\u02EE\u02EF\x07e\u02EF\u02F1\u02F0\u02ED\u02F0\u02F1\u02F1\u02F2\u02F2\u02F3\x92J\u02F3\u02F6\x07\\\u02F4\u02F7\xA4S\u02F5\u02F7\x07n\u02F6\u02F4\u02F6\u02F5\u02F6\u02F7\u02F7\u02F8\u02F8\u02F9\x07]\u02F9\u0316\u02FA\u02FB\x07\\\u02FB\u02FC\xA6T\u02FC\u02FD\x07]\u02FD\u0316\u02FE\u0301\x9EP\u02FF\u0301\xA0Q\u0300\u02FE\u0300\u02FF\u0301\u0302\u0302\u0304\x07\\\u0303\u0305\xACW\u0304\u0303\u0304\u0305\u0305\u0306\u0306\u0307\x07]\u0307\u0316\u0308\u0316\xA8U\u0309\u030A\xA2R\u030A\u030B\x07\\\u030B\u0310\xA4S\u030C\u030D\x07d\u030D\u030F\xB8]\u030E\u030C\u030F\u0312\u0310\u030E\u0310\u0311\u0311\u0313\u0312\u0310\u0313\u0314\x07]\u0314\u0316\u0315\u02D9\u0315\u02DB\u0315\u02DC\u0315\u02DE\u0315\u02E0\u0315\u02E7\u0315\u02F0\u0315\u02FA\u0315\u0300\u0315\u0308\u0315\u0309\u0316\u0341\u0317\u0318\f\u0318\u0319	\u0319\u0340\xA4S\u031A\u031B\f\u031B\u031C	\u031C\u0340\xA4S\u031D\u031E\f\u031E\u031F\x07N\u031F\u0340\xA4S\u0320\u0321\f\r\u0321\u0322\x96L\u0322\u0323\xA4S\u0323\u0340\u0324\u0325\f\n\u0325\u0326	\u0326\u0340\xA4S\v\u0327\u0328\f\u0328\u0329\x07`\u0329\u032AZ.\u032A\u032B\x07a\u032B\u0340\u032C\u032D\f\u032D\u0340\xA0Q\u032E\u032F\f\u032F\u0330\x07e\u0330\u0340\xA0Q\u0331\u0332\f\u0332\u0333\x07b\u0333\u0340\x94K\u0334\u0335\f\u0335\u0336\x071\u0336\u0337\xA4S\u0337\u0338\xA0Q\u0338\u0340\u0339\u033A\f\u033A\u033B	\u033B\u0340\xA6T\u033C\u033D\f\f\u033D\u033E	\u033E\u0340\xA6T\u033F\u0317\u033F\u031A\u033F\u031D\u033F\u0320\u033F\u0324\u033F\u0327\u033F\u032C\u033F\u032E\u033F\u0331\u033F\u0334\u033F\u0339\u033F\u033C\u0340\u0343\u0341\u033F\u0341\u0342\u0342\xA5\u0343\u0341\u0344\u0345\x96L\u0345\u0346\xA4S\u0346\u0349\u0347\u0349\xA4S\u0348\u0344\u0348\u0347\u0349\xA7\u034A\u034C\xAAV\u034B\u034A\u034C\u034D\u034D\u034B\u034D\u034E\u034E\u0351\u034F\u0350\x07-\u0350\u0352\xA4S\u0351\u034F\u0351\u0352\u0352\xA9\u0353\u0355\x07D\u0354\u0356\xA4S\u0355\u0354\u0355\u0356\u0356\u0357\u0357\u0358\x07R\u0358\u0359\xA6T\u0359\xAB\u035A\u035F\xA4S\u035B\u035C\x07d\u035C\u035E\xA4S\u035D\u035B\u035E\u0361\u035F\u035D\u035F\u0360\u0360\u0363\u0361\u035F\u0362\u0364\x07d\u0363\u0362\u0363\u0364\u0364\xAD\u0365\u036C\xB8]\u0366\u0368\x07d\u0367\u0366\u0367\u0368\u0368\u0369\u0369\u036B\xB8]\u036A\u0367\u036B\u036E\u036C\u036A\u036C\u036D\u036D\xAF\u036E\u036C\u036F\u0376\xB2Z\u0370\u0372\x07d\u0371\u0370\u0371\u0372\u0372\u0373\u0373\u0375\xB2Z\u0374\u0371\u0375\u0378\u0376\u0374\u0376\u0377\u0377\u037A\u0378\u0376\u0379\u037B\x07d\u037A\u0379\u037A\u037B\u037B\xB1\u037C\u0385\xB4[\u037D\u037E\xB4[\u037E\u037F\x07e\u037F\u0381\u0380\u037D\u0380\u0381\u0381\u0382\u0382\u0385	\u0383\u0385F$\u0384\u037C\u0384\u0380\u0384\u0383\u0385\xB3\u0386\u038B\xB8]\u0387\u0388\x07e\u0388\u038A\xB8]\u0389\u0387\u038A\u038D\u038B\u0389\u038B\u038C\u038C\xB5\u038D\u038B\u038E\u038F\x9EP\u038F\xB7\u0390\u0391\x9EP\u0391\xB9\u0392\u0393\xA4S\u0393\u0394\x07\u0394\xBB\u0395\u0396\xBE`\u0396\xBD\u0397\u03A0\x07\u0398\u03A0\x07}\u0399\u03A0\x07~\u039A\u03A0\xC0a\u039B\u03A0\xC4c\u039C\u03A0\x07O\u039D\u03A0\x070\u039E\u03A0\x07@\u039F\u0397\u039F\u0398\u039F\u0399\u039F\u039A\u039F\u039B\u039F\u039C\u039F\u039D\u039F\u039E\u03A0\xBF\u03A1\u03A2\x07`\u03A2\u03A7\xC2b\u03A3\u03A4\x07d\u03A4\u03A6\xC2b\u03A5\u03A3\u03A6\u03A9\u03A7\u03A5\u03A7\u03A8\u03A8\u03AA\u03A9\u03A7\u03AA\u03AB\x07a\u03AB\u03AF\u03AC\u03AD\x07`\u03AD\u03AF\x07a\u03AE\u03A1\u03AE\u03AC\u03AF\xC1\u03B0\u03B1\x07\u03B1\u03B2\x07c\u03B2\u03B3\xBE`\u03B3\xC3\u03B4\u03B5\x07^\u03B5\u03BA\xBE`\u03B6\u03B7\x07d\u03B7\u03B9\xBE`\u03B8\u03B6\u03B9\u03BC\u03BA\u03B8\u03BA\u03BB\u03BB\u03BD\u03BC\u03BA\u03BD\u03BE\x07_\u03BE\u03C2\u03BF\u03C0\x07^\u03C0\u03C2\x07_\u03C1\u03B4\u03C1\u03BF\u03C2\xC5\u03C3\u03C4\x9EP\u03C4\xC7\u03C5\u03C6\x9EP\u03C6\xC9\u03C7\u03C8\x07\u03C8\xCBo\xCE\xD0\xD9\xE4\xEE\xF3\xFC\u0101\u0105\u0114\u0117\u011C\u011F\u0125\u012B\u012E\u0130\u013E\u0140\u0144\u0151\u0156\u015A\u0162\u0165\u0173\u017C\u017E\u0183\u0194\u0198\u019D\u01A1\u01A9\u01AE\u01B2\u01B6\u01BB\u01BF\u01CE\u01D3\u01D7\u01DF\u01E3\u01E8\u01EC\u01F1\u01F9\u01FD\u01FF\u0205\u020A\u0211\u0215\u021F\u0224\u0228\u023D\u0244\u0249\u024D\u0253\u025A\u025F\u0263\u0267\u026A\u0270\u027D\u0282\u0286\u028A\u028D\u0296\u029B\u02A0\u02A3\u02A7\u02AC\u02B3\u02C7\u02CF\u02F0\u02F6\u0300\u0304\u0310\u0315\u033F\u0341\u0348\u034D\u0351\u0355\u035F\u0363\u0367\u036C\u0371\u0376\u037A\u0380\u0384\u038B\u039F\u03A7\u03AE\u03BA\u03C1";C._serializedATN=m8e.join([C._serializedATNSegment0,C._serializedATNSegment1],"");var kie=class extends zr.ParserRuleContext{EOF(){return this.getToken(C.EOF,0)}malloyStatement(e){return e===void 0?this.getRuleContexts(vO):this.getRuleContext(e,vO)}SEMI(e){return e===void 0?this.getTokens(C.SEMI):this.getToken(C.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_malloyDocument}enterRule(e){e.enterMalloyDocument&&e.enterMalloyDocument(this)}exitRule(e){e.exitMalloyDocument&&e.exitMalloyDocument(this)}accept(e){return e.visitMalloyDocument?e.visitMalloyDocument(this):e.visitChildren(this)}};jt.MalloyDocumentContext=kie;var vO=class extends zr.ParserRuleContext{defineExploreStatement(){return this.tryGetRuleContext(0,TU)}defineSQLStatement(){return this.tryGetRuleContext(0,OU)}defineQuery(){return this.tryGetRuleContext(0,Mw)}importStatement(){return this.tryGetRuleContext(0,NU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_malloyStatement}enterRule(e){e.enterMalloyStatement&&e.enterMalloyStatement(this)}exitRule(e){e.exitMalloyStatement&&e.exitMalloyStatement(this)}accept(e){return e.visitMalloyStatement?e.visitMalloyStatement(this):e.visitChildren(this)}};jt.MalloyStatementContext=vO;var TU=class extends zr.ParserRuleContext{exploreKeyword(){return this.getRuleContext(0,FU)}exploreDefinitionList(){return this.getRuleContext(0,BU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_defineExploreStatement}enterRule(e){e.enterDefineExploreStatement&&e.enterDefineExploreStatement(this)}exitRule(e){e.exitDefineExploreStatement&&e.exitDefineExploreStatement(this)}accept(e){return e.visitDefineExploreStatement?e.visitDefineExploreStatement(this):e.visitChildren(this)}};jt.DefineExploreStatementContext=TU;var FU=class extends zr.ParserRuleContext{EXPLORE(){return this.tryGetToken(C.EXPLORE,0)}SOURCE(){return this.tryGetToken(C.SOURCE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreKeyword}enterRule(e){e.enterExploreKeyword&&e.enterExploreKeyword(this)}exitRule(e){e.exitExploreKeyword&&e.exitExploreKeyword(this)}accept(e){return e.visitExploreKeyword?e.visitExploreKeyword(this):e.visitChildren(this)}};jt.ExploreKeywordContext=FU;var Mw=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_defineQuery}copyFrom(e){super.copyFrom(e)}};jt.DefineQueryContext=Mw;var Iie=class extends Mw{QUERY(){return this.getToken(C.QUERY,0)}topLevelQueryDefs(){return this.getRuleContext(0,kU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedQueries_stub&&e.enterNamedQueries_stub(this)}exitRule(e){e.exitNamedQueries_stub&&e.exitNamedQueries_stub(this)}accept(e){return e.visitNamedQueries_stub?e.visitNamedQueries_stub(this):e.visitChildren(this)}};jt.NamedQueries_stubContext=Iie;var Mie=class extends Mw{QUERY(){return this.getToken(C.QUERY,0)}topLevelAnonQueryDef(){return this.getRuleContext(0,DU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterAnonymousQuery&&e.enterAnonymousQuery(this)}exitRule(e){e.exitAnonymousQuery&&e.exitAnonymousQuery(this)}accept(e){return e.visitAnonymousQuery?e.visitAnonymousQuery(this):e.visitChildren(this)}};jt.AnonymousQueryContext=Mie;var DU=class extends zr.ParserRuleContext{query(){return this.getRuleContext(0,a4)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topLevelAnonQueryDef}enterRule(e){e.enterTopLevelAnonQueryDef&&e.enterTopLevelAnonQueryDef(this)}exitRule(e){e.exitTopLevelAnonQueryDef&&e.exitTopLevelAnonQueryDef(this)}accept(e){return e.visitTopLevelAnonQueryDef?e.visitTopLevelAnonQueryDef(this):e.visitChildren(this)}};jt.TopLevelAnonQueryDefContext=DU;var OU=class extends zr.ParserRuleContext{SQL(){return this.getToken(C.SQL,0)}sqlStatementDef(){return this.getRuleContext(0,RU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_defineSQLStatement}enterRule(e){e.enterDefineSQLStatement&&e.enterDefineSQLStatement(this)}exitRule(e){e.exitDefineSQLStatement&&e.exitDefineSQLStatement(this)}accept(e){return e.visitDefineSQLStatement?e.visitDefineSQLStatement(this):e.visitChildren(this)}};jt.DefineSQLStatementContext=OU;var RU=class extends zr.ParserRuleContext{SQL_STRING(){return this.getToken(C.SQL_STRING,0)}sqlCommandNameDef(){return this.tryGetRuleContext(0,v$)}IS(){return this.tryGetToken(C.IS,0)}ON(){return this.tryGetToken(C.ON,0)}connectionName(){return this.tryGetRuleContext(0,_$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sqlStatementDef}enterRule(e){e.enterSqlStatementDef&&e.enterSqlStatementDef(this)}exitRule(e){e.exitSqlStatementDef&&e.exitSqlStatementDef(this)}accept(e){return e.visitSqlStatementDef?e.visitSqlStatementDef(this):e.visitChildren(this)}};jt.SqlStatementDefContext=RU;var NU=class extends zr.ParserRuleContext{IMPORT(){return this.getToken(C.IMPORT,0)}importURL(){return this.getRuleContext(0,LU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_importStatement}enterRule(e){e.enterImportStatement&&e.enterImportStatement(this)}exitRule(e){e.exitImportStatement&&e.exitImportStatement(this)}accept(e){return e.visitImportStatement?e.visitImportStatement(this):e.visitChildren(this)}};jt.ImportStatementContext=NU;var LU=class extends zr.ParserRuleContext{JSON_STRING(){return this.getToken(C.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_importURL}enterRule(e){e.enterImportURL&&e.enterImportURL(this)}exitRule(e){e.exitImportURL&&e.exitImportURL(this)}accept(e){return e.visitImportURL?e.visitImportURL(this):e.visitChildren(this)}};jt.ImportURLContext=LU;var kU=class extends zr.ParserRuleContext{topLevelQueryDef(e){return e===void 0?this.getRuleContexts(_O):this.getRuleContext(e,_O)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topLevelQueryDefs}enterRule(e){e.enterTopLevelQueryDefs&&e.enterTopLevelQueryDefs(this)}exitRule(e){e.exitTopLevelQueryDefs&&e.exitTopLevelQueryDefs(this)}accept(e){return e.visitTopLevelQueryDefs?e.visitTopLevelQueryDefs(this):e.visitChildren(this)}};jt.TopLevelQueryDefsContext=kU;var _O=class extends zr.ParserRuleContext{queryName(){return this.getRuleContext(0,X6)}IS(){return this.getToken(C.IS,0)}query(){return this.getRuleContext(0,a4)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topLevelQueryDef}enterRule(e){e.enterTopLevelQueryDef&&e.enterTopLevelQueryDef(this)}exitRule(e){e.exitTopLevelQueryDef&&e.exitTopLevelQueryDef(this)}accept(e){return e.visitTopLevelQueryDef?e.visitTopLevelQueryDef(this):e.visitChildren(this)}};jt.TopLevelQueryDefContext=_O;var Y6=class extends zr.ParserRuleContext{PLUS(){return this.getToken(C.PLUS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_refineOperator}enterRule(e){e.enterRefineOperator&&e.enterRefineOperator(this)}exitRule(e){e.exitRefineOperator&&e.exitRefineOperator(this)}accept(e){return e.visitRefineOperator?e.visitRefineOperator(this):e.visitChildren(this)}};jt.RefineOperatorContext=Y6;var a4=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_query}copyFrom(e){super.copyFrom(e)}};jt.QueryContext=a4;var Pie=class extends a4{explore(){return this.getRuleContext(0,Z6)}ARROW(){return this.getToken(C.ARROW,0)}pipelineFromName(){return this.getRuleContext(0,Pw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExploreArrowQuery&&e.enterExploreArrowQuery(this)}exitRule(e){e.exitExploreArrowQuery&&e.exitExploreArrowQuery(this)}accept(e){return e.visitExploreArrowQuery?e.visitExploreArrowQuery(this):e.visitChildren(this)}};jt.ExploreArrowQueryContext=Pie;var Bie=class extends a4{ARROW(){return this.getToken(C.ARROW,0)}queryName(){return this.getRuleContext(0,X6)}queryProperties(){return this.tryGetRuleContext(0,J6)}pipeElement(e){return e===void 0?this.getRuleContexts(K6):this.getRuleContext(e,K6)}refineOperator(){return this.tryGetRuleContext(0,Y6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterArrowQuery&&e.enterArrowQuery(this)}exitRule(e){e.exitArrowQuery&&e.exitArrowQuery(this)}accept(e){return e.visitArrowQuery?e.visitArrowQuery(this):e.visitChildren(this)}};jt.ArrowQueryContext=Bie;var Pw=class extends zr.ParserRuleContext{firstSegment(){return this.getRuleContext(0,IU)}pipeElement(e){return e===void 0?this.getRuleContexts(K6):this.getRuleContext(e,K6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_pipelineFromName}enterRule(e){e.enterPipelineFromName&&e.enterPipelineFromName(this)}exitRule(e){e.exitPipelineFromName&&e.exitPipelineFromName(this)}accept(e){return e.visitPipelineFromName?e.visitPipelineFromName(this):e.visitChildren(this)}};jt.PipelineFromNameContext=Pw;var IU=class extends zr.ParserRuleContext{queryProperties(){return this.tryGetRuleContext(0,J6)}exploreQueryName(){return this.tryGetRuleContext(0,PU)}refineOperator(){return this.tryGetRuleContext(0,Y6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_firstSegment}enterRule(e){e.enterFirstSegment&&e.enterFirstSegment(this)}exitRule(e){e.exitFirstSegment&&e.exitFirstSegment(this)}accept(e){return e.visitFirstSegment?e.visitFirstSegment(this):e.visitChildren(this)}};jt.FirstSegmentContext=IU;var K6=class extends zr.ParserRuleContext{ARROW(){return this.getToken(C.ARROW,0)}queryProperties(){return this.getRuleContext(0,J6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_pipeElement}enterRule(e){e.enterPipeElement&&e.enterPipeElement(this)}exitRule(e){e.exitPipeElement&&e.exitPipeElement(this)}accept(e){return e.visitPipeElement?e.visitPipeElement(this):e.visitChildren(this)}};jt.PipeElementContext=K6;var MU=class extends zr.ParserRuleContext{TABLE(){return this.getToken(C.TABLE,0)}OPAREN(){return this.getToken(C.OPAREN,0)}tableName(){return this.getRuleContext(0,c$)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreTable}enterRule(e){e.enterExploreTable&&e.enterExploreTable(this)}exitRule(e){e.exitExploreTable&&e.exitExploreTable(this)}accept(e){return e.visitExploreTable?e.visitExploreTable(this):e.visitChildren(this)}};jt.ExploreTableContext=MU;var J6=class extends zr.ParserRuleContext{filterShortcut(){return this.tryGetRuleContext(0,bO)}OCURLY(){return this.tryGetToken(C.OCURLY,0)}CCURLY(){return this.tryGetToken(C.CCURLY,0)}queryStatement(e){return e===void 0?this.getRuleContexts(OO):this.getRuleContext(e,OO)}SEMI(e){return e===void 0?this.getTokens(C.SEMI):this.getToken(C.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryProperties}enterRule(e){e.enterQueryProperties&&e.enterQueryProperties(this)}exitRule(e){e.exitQueryProperties&&e.exitQueryProperties(this)}accept(e){return e.visitQueryProperties?e.visitQueryProperties(this):e.visitChildren(this)}};jt.QueryPropertiesContext=J6;var bO=class extends zr.ParserRuleContext{OCURLY(){return this.getToken(C.OCURLY,0)}QMARK(){return this.getToken(C.QMARK,0)}fieldExpr(){return this.getRuleContext(0,Ci)}CCURLY(){return this.getToken(C.CCURLY,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filterShortcut}enterRule(e){e.enterFilterShortcut&&e.enterFilterShortcut(this)}exitRule(e){e.exitFilterShortcut&&e.exitFilterShortcut(this)}accept(e){return e.visitFilterShortcut?e.visitFilterShortcut(this):e.visitChildren(this)}};jt.FilterShortcutContext=bO;var PU=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreQueryName}enterRule(e){e.enterExploreQueryName&&e.enterExploreQueryName(this)}exitRule(e){e.exitExploreQueryName&&e.exitExploreQueryName(this)}accept(e){return e.visitExploreQueryName?e.visitExploreQueryName(this):e.visitChildren(this)}};jt.ExploreQueryNameContext=PU;var X6=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryName}enterRule(e){e.enterQueryName&&e.enterQueryName(this)}exitRule(e){e.exitQueryName&&e.exitQueryName(this)}accept(e){return e.visitQueryName?e.visitQueryName(this):e.visitChildren(this)}};jt.QueryNameContext=X6;var BU=class extends zr.ParserRuleContext{exploreDefinition(e){return e===void 0?this.getRuleContexts(EO):this.getRuleContext(e,EO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreDefinitionList}enterRule(e){e.enterExploreDefinitionList&&e.enterExploreDefinitionList(this)}exitRule(e){e.exitExploreDefinitionList&&e.exitExploreDefinitionList(this)}accept(e){return e.visitExploreDefinitionList?e.visitExploreDefinitionList(this):e.visitChildren(this)}};jt.ExploreDefinitionListContext=BU;var EO=class extends zr.ParserRuleContext{exploreNameDef(){return this.getRuleContext(0,jU)}IS(){return this.getToken(C.IS,0)}explore(){return this.getRuleContext(0,Z6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreDefinition}enterRule(e){e.enterExploreDefinition&&e.enterExploreDefinition(this)}exitRule(e){e.exitExploreDefinition&&e.exitExploreDefinition(this)}accept(e){return e.visitExploreDefinition?e.visitExploreDefinition(this):e.visitChildren(this)}};jt.ExploreDefinitionContext=EO;var Z6=class extends zr.ParserRuleContext{exploreSource(){return this.getRuleContext(0,u4)}exploreProperties(){return this.tryGetRuleContext(0,UU)}refineOperator(){return this.tryGetRuleContext(0,Y6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_explore}enterRule(e){e.enterExplore&&e.enterExplore(this)}exitRule(e){e.exitExplore&&e.exitExplore(this)}accept(e){return e.visitExplore?e.visitExplore(this):e.visitChildren(this)}};jt.ExploreContext=Z6;var u4=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreSource}copyFrom(e){super.copyFrom(e)}};jt.ExploreSourceContext=u4;var jie=class extends u4{exploreName(){return this.getRuleContext(0,qU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedSource&&e.enterNamedSource(this)}exitRule(e){e.exitNamedSource&&e.exitNamedSource(this)}accept(e){return e.visitNamedSource?e.visitNamedSource(this):e.visitChildren(this)}};jt.NamedSourceContext=jie;var qie=class extends u4{exploreTable(){return this.getRuleContext(0,MU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterTableSource&&e.enterTableSource(this)}exitRule(e){e.exitTableSource&&e.exitTableSource(this)}accept(e){return e.visitTableSource?e.visitTableSource(this):e.visitChildren(this)}};jt.TableSourceContext=qie;var Uie=class extends u4{FROM(){return this.getToken(C.FROM,0)}OPAREN(){return this.getToken(C.OPAREN,0)}query(){return this.getRuleContext(0,a4)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQuerySource&&e.enterQuerySource(this)}exitRule(e){e.exitQuerySource&&e.exitQuerySource(this)}accept(e){return e.visitQuerySource?e.visitQuerySource(this):e.visitChildren(this)}};jt.QuerySourceContext=Uie;var $ie=class extends u4{FROM_SQL(){return this.getToken(C.FROM_SQL,0)}OPAREN(){return this.getToken(C.OPAREN,0)}sqlExploreNameRef(){return this.getRuleContext(0,y$)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterSQLSource&&e.enterSQLSource(this)}exitRule(e){e.exitSQLSource&&e.exitSQLSource(this)}accept(e){return e.visitSQLSource?e.visitSQLSource(this):e.visitChildren(this)}};jt.SQLSourceContext=$ie;var jU=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreNameDef}enterRule(e){e.enterExploreNameDef&&e.enterExploreNameDef(this)}exitRule(e){e.exitExploreNameDef&&e.exitExploreNameDef(this)}accept(e){return e.visitExploreNameDef?e.visitExploreNameDef(this):e.visitChildren(this)}};jt.ExploreNameDefContext=jU;var qU=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreName}enterRule(e){e.enterExploreName&&e.enterExploreName(this)}exitRule(e){e.exitExploreName&&e.exitExploreName(this)}accept(e){return e.visitExploreName?e.visitExploreName(this):e.visitChildren(this)}};jt.ExploreNameContext=qU;var UU=class extends zr.ParserRuleContext{OCURLY(){return this.tryGetToken(C.OCURLY,0)}CCURLY(){return this.tryGetToken(C.CCURLY,0)}exploreStatement(e){return e===void 0?this.getRuleContexts(vh):this.getRuleContext(e,vh)}SEMI(e){return e===void 0?this.getTokens(C.SEMI):this.getToken(C.SEMI,e)}filterShortcut(){return this.tryGetRuleContext(0,bO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreProperties}enterRule(e){e.enterExploreProperties&&e.enterExploreProperties(this)}exitRule(e){e.exitExploreProperties&&e.exitExploreProperties(this)}accept(e){return e.visitExploreProperties?e.visitExploreProperties(this):e.visitChildren(this)}};jt.ExplorePropertiesContext=UU;var vh=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreStatement}copyFrom(e){super.copyFrom(e)}};jt.ExploreStatementContext=vh;var zie=class extends vh{DIMENSION(){return this.getToken(C.DIMENSION,0)}dimensionDefList(){return this.getRuleContext(0,zU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreDimension&&e.enterDefExploreDimension(this)}exitRule(e){e.exitDefExploreDimension&&e.exitDefExploreDimension(this)}accept(e){return e.visitDefExploreDimension?e.visitDefExploreDimension(this):e.visitChildren(this)}};jt.DefExploreDimensionContext=zie;var Hie=class extends vh{MEASURE(){return this.getToken(C.MEASURE,0)}measureDefList(){return this.getRuleContext(0,HU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreMeasure&&e.enterDefExploreMeasure(this)}exitRule(e){e.exitDefExploreMeasure&&e.exitDefExploreMeasure(this)}accept(e){return e.visitDefExploreMeasure?e.visitDefExploreMeasure(this):e.visitChildren(this)}};jt.DefExploreMeasureContext=Hie;var Vie=class extends vh{declareStatement(){return this.getRuleContext(0,AO)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefDeclare_stub&&e.enterDefDeclare_stub(this)}exitRule(e){e.exitDefDeclare_stub&&e.exitDefDeclare_stub(this)}accept(e){return e.visitDefDeclare_stub?e.visitDefDeclare_stub(this):e.visitChildren(this)}};jt.DefDeclare_stubContext=Vie;var Wie=class extends vh{joinStatement(){return this.getRuleContext(0,c4)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoin_stub&&e.enterDefJoin_stub(this)}exitRule(e){e.exitDefJoin_stub&&e.exitDefJoin_stub(this)}accept(e){return e.visitDefJoin_stub?e.visitDefJoin_stub(this):e.visitChildren(this)}};jt.DefJoin_stubContext=Wie;var Qie=class extends vh{whereStatement(){return this.getRuleContext(0,tb)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreWhere&&e.enterDefExploreWhere(this)}exitRule(e){e.exitDefExploreWhere&&e.exitDefExploreWhere(this)}accept(e){return e.visitDefExploreWhere?e.visitDefExploreWhere(this):e.visitChildren(this)}};jt.DefExploreWhereContext=Qie;var Gie=class extends vh{PRIMARY_KEY(){return this.getToken(C.PRIMARY_KEY,0)}fieldName(){return this.getRuleContext(0,Td)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExplorePrimaryKey&&e.enterDefExplorePrimaryKey(this)}exitRule(e){e.exitDefExplorePrimaryKey&&e.exitDefExplorePrimaryKey(this)}accept(e){return e.visitDefExplorePrimaryKey?e.visitDefExplorePrimaryKey(this):e.visitChildren(this)}};jt.DefExplorePrimaryKeyContext=Gie;var Yie=class extends vh{RENAME(){return this.getToken(C.RENAME,0)}renameList(){return this.getRuleContext(0,$U)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreRename&&e.enterDefExploreRename(this)}exitRule(e){e.exitDefExploreRename&&e.exitDefExploreRename(this)}accept(e){return e.visitDefExploreRename?e.visitDefExploreRename(this):e.visitChildren(this)}};jt.DefExploreRenameContext=Yie;var Kie=class extends vh{fieldNameList(){return this.getRuleContext(0,p$)}ACCEPT(){return this.tryGetToken(C.ACCEPT,0)}EXCEPT(){return this.tryGetToken(C.EXCEPT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreEditField&&e.enterDefExploreEditField(this)}exitRule(e){e.exitDefExploreEditField&&e.exitDefExploreEditField(this)}accept(e){return e.visitDefExploreEditField?e.visitDefExploreEditField(this):e.visitChildren(this)}};jt.DefExploreEditFieldContext=Kie;var Jie=class extends vh{QUERY(){return this.getToken(C.QUERY,0)}subQueryDefList(){return this.getRuleContext(0,QU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreQuery&&e.enterDefExploreQuery(this)}exitRule(e){e.exitDefExploreQuery&&e.exitDefExploreQuery(this)}accept(e){return e.visitDefExploreQuery?e.visitDefExploreQuery(this):e.visitChildren(this)}};jt.DefExploreQueryContext=Jie;var $U=class extends zr.ParserRuleContext{exploreRenameDef(e){return e===void 0?this.getRuleContexts(SO):this.getRuleContext(e,SO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_renameList}enterRule(e){e.enterRenameList&&e.enterRenameList(this)}exitRule(e){e.exitRenameList&&e.exitRenameList(this)}accept(e){return e.visitRenameList?e.visitRenameList(this):e.visitChildren(this)}};jt.RenameListContext=$U;var SO=class extends zr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Td):this.getRuleContext(e,Td)}IS(){return this.getToken(C.IS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreRenameDef}enterRule(e){e.enterExploreRenameDef&&e.enterExploreRenameDef(this)}exitRule(e){e.exitExploreRenameDef&&e.exitExploreRenameDef(this)}accept(e){return e.visitExploreRenameDef?e.visitExploreRenameDef(this):e.visitChildren(this)}};jt.ExploreRenameDefContext=SO;var zU=class extends zr.ParserRuleContext{dimensionDef(e){return e===void 0?this.getRuleContexts(qw):this.getRuleContext(e,qw)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_dimensionDefList}enterRule(e){e.enterDimensionDefList&&e.enterDimensionDefList(this)}exitRule(e){e.exitDimensionDefList&&e.exitDimensionDefList(this)}accept(e){return e.visitDimensionDefList?e.visitDimensionDefList(this):e.visitChildren(this)}};jt.DimensionDefListContext=zU;var HU=class extends zr.ParserRuleContext{measureDef(e){return e===void 0?this.getRuleContexts(CO):this.getRuleContext(e,CO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_measureDefList}enterRule(e){e.enterMeasureDefList&&e.enterMeasureDefList(this)}exitRule(e){e.exitMeasureDefList&&e.exitMeasureDefList(this)}accept(e){return e.visitMeasureDefList?e.visitMeasureDefList(this):e.visitChildren(this)}};jt.MeasureDefListContext=HU;var l4=class extends zr.ParserRuleContext{fieldNameDef(){return this.getRuleContext(0,VU)}IS(){return this.getToken(C.IS,0)}fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldDef}enterRule(e){e.enterFieldDef&&e.enterFieldDef(this)}exitRule(e){e.exitFieldDef&&e.exitFieldDef(this)}accept(e){return e.visitFieldDef?e.visitFieldDef(this):e.visitChildren(this)}};jt.FieldDefContext=l4;var VU=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldNameDef}enterRule(e){e.enterFieldNameDef&&e.enterFieldNameDef(this)}exitRule(e){e.exitFieldNameDef&&e.exitFieldNameDef(this)}accept(e){return e.visitFieldNameDef?e.visitFieldNameDef(this):e.visitChildren(this)}};jt.FieldNameDefContext=VU;var wO=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinNameDef}enterRule(e){e.enterJoinNameDef&&e.enterJoinNameDef(this)}exitRule(e){e.exitJoinNameDef&&e.exitJoinNameDef(this)}accept(e){return e.visitJoinNameDef?e.visitJoinNameDef(this):e.visitChildren(this)}};jt.JoinNameDefContext=wO;var CO=class extends zr.ParserRuleContext{fieldDef(){return this.getRuleContext(0,l4)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_measureDef}enterRule(e){e.enterMeasureDef&&e.enterMeasureDef(this)}exitRule(e){e.exitMeasureDef&&e.exitMeasureDef(this)}accept(e){return e.visitMeasureDef?e.visitMeasureDef(this):e.visitChildren(this)}};jt.MeasureDefContext=CO;var AO=class extends zr.ParserRuleContext{DECLARE(){return this.getToken(C.DECLARE,0)}fieldDef(e){return e===void 0?this.getRuleContexts(l4):this.getRuleContext(e,l4)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_declareStatement}enterRule(e){e.enterDeclareStatement&&e.enterDeclareStatement(this)}exitRule(e){e.exitDeclareStatement&&e.exitDeclareStatement(this)}accept(e){return e.visitDeclareStatement?e.visitDeclareStatement(this):e.visitChildren(this)}};jt.DeclareStatementContext=AO;var c4=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinStatement}copyFrom(e){super.copyFrom(e)}};jt.JoinStatementContext=c4;var Xie=class extends c4{JOIN_ONE(){return this.getToken(C.JOIN_ONE,0)}joinList(){return this.getRuleContext(0,Bw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinOne&&e.enterDefJoinOne(this)}exitRule(e){e.exitDefJoinOne&&e.exitDefJoinOne(this)}accept(e){return e.visitDefJoinOne?e.visitDefJoinOne(this):e.visitChildren(this)}};jt.DefJoinOneContext=Xie;var Zie=class extends c4{JOIN_MANY(){return this.getToken(C.JOIN_MANY,0)}joinList(){return this.getRuleContext(0,Bw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinMany&&e.enterDefJoinMany(this)}exitRule(e){e.exitDefJoinMany&&e.exitDefJoinMany(this)}accept(e){return e.visitDefJoinMany?e.visitDefJoinMany(this):e.visitChildren(this)}};jt.DefJoinManyContext=Zie;var ese=class extends c4{JOIN_CROSS(){return this.getToken(C.JOIN_CROSS,0)}joinList(){return this.getRuleContext(0,Bw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinCross&&e.enterDefJoinCross(this)}exitRule(e){e.exitDefJoinCross&&e.exitDefJoinCross(this)}accept(e){return e.visitDefJoinCross?e.visitDefJoinCross(this):e.visitChildren(this)}};jt.DefJoinCrossContext=ese;var Bw=class extends zr.ParserRuleContext{joinDef(e){return e===void 0?this.getRuleContexts(eb):this.getRuleContext(e,eb)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinList}enterRule(e){e.enterJoinList&&e.enterJoinList(this)}exitRule(e){e.exitJoinList&&e.exitJoinList(this)}accept(e){return e.visitJoinList?e.visitJoinList(this):e.visitChildren(this)}};jt.JoinListContext=Bw;var eb=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinDef}copyFrom(e){super.copyFrom(e)}};jt.JoinDefContext=eb;var tse=class extends eb{joinNameDef(){return this.getRuleContext(0,wO)}WITH(){return this.getToken(C.WITH,0)}fieldExpr(){return this.getRuleContext(0,Ci)}IS(){return this.tryGetToken(C.IS,0)}explore(){return this.tryGetRuleContext(0,Z6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinWith&&e.enterJoinWith(this)}exitRule(e){e.exitJoinWith&&e.exitJoinWith(this)}accept(e){return e.visitJoinWith?e.visitJoinWith(this):e.visitChildren(this)}};jt.JoinWithContext=tse;var nse=class extends eb{joinNameDef(){return this.getRuleContext(0,wO)}IS(){return this.tryGetToken(C.IS,0)}explore(){return this.tryGetRuleContext(0,Z6)}ON(){return this.tryGetToken(C.ON,0)}joinExpression(){return this.tryGetRuleContext(0,WU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinOn&&e.enterJoinOn(this)}exitRule(e){e.exitJoinOn&&e.exitJoinOn(this)}accept(e){return e.visitJoinOn?e.visitJoinOn(this):e.visitChildren(this)}};jt.JoinOnContext=nse;var WU=class extends zr.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinExpression}enterRule(e){e.enterJoinExpression&&e.enterJoinExpression(this)}exitRule(e){e.exitJoinExpression&&e.exitJoinExpression(this)}accept(e){return e.visitJoinExpression?e.visitJoinExpression(this):e.visitChildren(this)}};jt.JoinExpressionContext=WU;var rse=class extends zr.ParserRuleContext{whereStatement(){return this.tryGetRuleContext(0,tb)}havingStatement(){return this.tryGetRuleContext(0,FO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filterStatement}enterRule(e){e.enterFilterStatement&&e.enterFilterStatement(this)}exitRule(e){e.exitFilterStatement&&e.exitFilterStatement(this)}accept(e){return e.visitFilterStatement?e.visitFilterStatement(this):e.visitChildren(this)}};jt.FilterStatementContext=rse;var jw=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filteredBy}copyFrom(e){super.copyFrom(e)}};jt.FilteredByContext=jw;var ise=class extends jw{QMARK(){return this.getToken(C.QMARK,0)}fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByShortcut&&e.enterFilterByShortcut(this)}exitRule(e){e.exitFilterByShortcut&&e.exitFilterByShortcut(this)}accept(e){return e.visitFilterByShortcut?e.visitFilterByShortcut(this):e.visitChildren(this)}};jt.FilterByShortcutContext=ise;var sse=class extends jw{whereStatement(){return this.getRuleContext(0,tb)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByWhere&&e.enterFilterByWhere(this)}exitRule(e){e.exitFilterByWhere&&e.exitFilterByWhere(this)}accept(e){return e.visitFilterByWhere?e.visitFilterByWhere(this):e.visitChildren(this)}};jt.FilterByWhereContext=sse;var TO=class extends zr.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filterClauseList}enterRule(e){e.enterFilterClauseList&&e.enterFilterClauseList(this)}exitRule(e){e.exitFilterClauseList&&e.exitFilterClauseList(this)}accept(e){return e.visitFilterClauseList?e.visitFilterClauseList(this):e.visitChildren(this)}};jt.FilterClauseListContext=TO;var tb=class extends zr.ParserRuleContext{WHERE(){return this.getToken(C.WHERE,0)}filterClauseList(){return this.getRuleContext(0,TO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_whereStatement}enterRule(e){e.enterWhereStatement&&e.enterWhereStatement(this)}exitRule(e){e.exitWhereStatement&&e.exitWhereStatement(this)}accept(e){return e.visitWhereStatement?e.visitWhereStatement(this):e.visitChildren(this)}};jt.WhereStatementContext=tb;var FO=class extends zr.ParserRuleContext{HAVING(){return this.getToken(C.HAVING,0)}filterClauseList(){return this.getRuleContext(0,TO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_havingStatement}enterRule(e){e.enterHavingStatement&&e.enterHavingStatement(this)}exitRule(e){e.exitHavingStatement&&e.exitHavingStatement(this)}accept(e){return e.visitHavingStatement?e.visitHavingStatement(this):e.visitChildren(this)}};jt.HavingStatementContext=FO;var QU=class extends zr.ParserRuleContext{exploreQueryDef(e){return e===void 0?this.getRuleContexts(DO):this.getRuleContext(e,DO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_subQueryDefList}enterRule(e){e.enterSubQueryDefList&&e.enterSubQueryDefList(this)}exitRule(e){e.exitSubQueryDefList&&e.exitSubQueryDefList(this)}accept(e){return e.visitSubQueryDefList?e.visitSubQueryDefList(this):e.visitChildren(this)}};jt.SubQueryDefListContext=QU;var GU=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreQueryNameDef}enterRule(e){e.enterExploreQueryNameDef&&e.enterExploreQueryNameDef(this)}exitRule(e){e.exitExploreQueryNameDef&&e.exitExploreQueryNameDef(this)}accept(e){return e.visitExploreQueryNameDef?e.visitExploreQueryNameDef(this):e.visitChildren(this)}};jt.ExploreQueryNameDefContext=GU;var DO=class extends zr.ParserRuleContext{exploreQueryNameDef(){return this.getRuleContext(0,GU)}IS(){return this.getToken(C.IS,0)}pipelineFromName(){return this.getRuleContext(0,Pw)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreQueryDef}enterRule(e){e.enterExploreQueryDef&&e.enterExploreQueryDef(this)}exitRule(e){e.exitExploreQueryDef&&e.exitExploreQueryDef(this)}accept(e){return e.visitExploreQueryDef?e.visitExploreQueryDef(this):e.visitChildren(this)}};jt.ExploreQueryDefContext=DO;var OO=class extends zr.ParserRuleContext{groupByStatement(){return this.tryGetRuleContext(0,YU)}declareStatement(){return this.tryGetRuleContext(0,AO)}joinStatement(){return this.tryGetRuleContext(0,c4)}projectStatement(){return this.tryGetRuleContext(0,ZU)}indexStatement(){return this.tryGetRuleContext(0,o$)}aggregateStatement(){return this.tryGetRuleContext(0,XU)}topStatement(){return this.tryGetRuleContext(0,i$)}limitStatement(){return this.tryGetRuleContext(0,n$)}orderByStatement(){return this.tryGetRuleContext(0,e$)}whereStatement(){return this.tryGetRuleContext(0,tb)}havingStatement(){return this.tryGetRuleContext(0,FO)}nestStatement(){return this.tryGetRuleContext(0,KU)}sampleStatement(){return this.tryGetRuleContext(0,a$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryStatement}enterRule(e){e.enterQueryStatement&&e.enterQueryStatement(this)}exitRule(e){e.exitQueryStatement&&e.exitQueryStatement(this)}accept(e){return e.visitQueryStatement?e.visitQueryStatement(this):e.visitChildren(this)}};jt.QueryStatementContext=OO;var YU=class extends zr.ParserRuleContext{GROUP_BY(){return this.getToken(C.GROUP_BY,0)}queryFieldList(){return this.getRuleContext(0,RO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_groupByStatement}enterRule(e){e.enterGroupByStatement&&e.enterGroupByStatement(this)}exitRule(e){e.exitGroupByStatement&&e.exitGroupByStatement(this)}accept(e){return e.visitGroupByStatement?e.visitGroupByStatement(this):e.visitChildren(this)}};jt.GroupByStatementContext=YU;var RO=class extends zr.ParserRuleContext{queryFieldEntry(e){return e===void 0?this.getRuleContexts(nb):this.getRuleContext(e,nb)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryFieldList}enterRule(e){e.enterQueryFieldList&&e.enterQueryFieldList(this)}exitRule(e){e.exitQueryFieldList&&e.exitQueryFieldList(this)}accept(e){return e.visitQueryFieldList?e.visitQueryFieldList(this):e.visitChildren(this)}};jt.QueryFieldListContext=RO;var qw=class extends zr.ParserRuleContext{fieldDef(){return this.getRuleContext(0,l4)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_dimensionDef}enterRule(e){e.enterDimensionDef&&e.enterDimensionDef(this)}exitRule(e){e.exitDimensionDef&&e.exitDimensionDef(this)}accept(e){return e.visitDimensionDef?e.visitDimensionDef(this):e.visitChildren(this)}};jt.DimensionDefContext=qw;var nb=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryFieldEntry}copyFrom(e){super.copyFrom(e)}};jt.QueryFieldEntryContext=nb;var ose=class extends nb{fieldPath(){return this.getRuleContext(0,gy)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldRef&&e.enterQueryFieldRef(this)}exitRule(e){e.exitQueryFieldRef&&e.exitQueryFieldRef(this)}accept(e){return e.visitQueryFieldRef?e.visitQueryFieldRef(this):e.visitChildren(this)}};jt.QueryFieldRefContext=ose;var ase=class extends nb{dimensionDef(){return this.getRuleContext(0,qw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldDef&&e.enterQueryFieldDef(this)}exitRule(e){e.exitQueryFieldDef&&e.exitQueryFieldDef(this)}accept(e){return e.visitQueryFieldDef?e.visitQueryFieldDef(this):e.visitChildren(this)}};jt.QueryFieldDefContext=ase;var KU=class extends zr.ParserRuleContext{NEST(){return this.getToken(C.NEST,0)}nestedQueryList(){return this.getRuleContext(0,JU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_nestStatement}enterRule(e){e.enterNestStatement&&e.enterNestStatement(this)}exitRule(e){e.exitNestStatement&&e.exitNestStatement(this)}accept(e){return e.visitNestStatement?e.visitNestStatement(this):e.visitChildren(this)}};jt.NestStatementContext=KU;var JU=class extends zr.ParserRuleContext{nestEntry(e){return e===void 0?this.getRuleContexts(rb):this.getRuleContext(e,rb)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_nestedQueryList}enterRule(e){e.enterNestedQueryList&&e.enterNestedQueryList(this)}exitRule(e){e.exitNestedQueryList&&e.exitNestedQueryList(this)}accept(e){return e.visitNestedQueryList?e.visitNestedQueryList(this):e.visitChildren(this)}};jt.NestedQueryListContext=JU;var rb=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_nestEntry}copyFrom(e){super.copyFrom(e)}};jt.NestEntryContext=rb;var use=class extends rb{queryName(){return this.getRuleContext(0,X6)}queryProperties(){return this.tryGetRuleContext(0,J6)}refineOperator(){return this.tryGetRuleContext(0,Y6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestExisting&&e.enterNestExisting(this)}exitRule(e){e.exitNestExisting&&e.exitNestExisting(this)}accept(e){return e.visitNestExisting?e.visitNestExisting(this):e.visitChildren(this)}};jt.NestExistingContext=use;var lse=class extends rb{queryName(){return this.getRuleContext(0,X6)}IS(){return this.getToken(C.IS,0)}pipelineFromName(){return this.getRuleContext(0,Pw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestDef&&e.enterNestDef(this)}exitRule(e){e.exitNestDef&&e.exitNestDef(this)}accept(e){return e.visitNestDef?e.visitNestDef(this):e.visitChildren(this)}};jt.NestDefContext=lse;var XU=class extends zr.ParserRuleContext{AGGREGATE(){return this.getToken(C.AGGREGATE,0)}queryFieldList(){return this.getRuleContext(0,RO)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_aggregateStatement}enterRule(e){e.enterAggregateStatement&&e.enterAggregateStatement(this)}exitRule(e){e.exitAggregateStatement&&e.exitAggregateStatement(this)}accept(e){return e.visitAggregateStatement?e.visitAggregateStatement(this):e.visitChildren(this)}};jt.AggregateStatementContext=XU;var ZU=class extends zr.ParserRuleContext{PROJECT(){return this.getToken(C.PROJECT,0)}fieldCollection(){return this.getRuleContext(0,m$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_projectStatement}enterRule(e){e.enterProjectStatement&&e.enterProjectStatement(this)}exitRule(e){e.exitProjectStatement&&e.exitProjectStatement(this)}accept(e){return e.visitProjectStatement?e.visitProjectStatement(this):e.visitChildren(this)}};jt.ProjectStatementContext=ZU;var e$=class extends zr.ParserRuleContext{ORDER_BY(){return this.getToken(C.ORDER_BY,0)}ordering(){return this.getRuleContext(0,t$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_orderByStatement}enterRule(e){e.enterOrderByStatement&&e.enterOrderByStatement(this)}exitRule(e){e.exitOrderByStatement&&e.exitOrderByStatement(this)}accept(e){return e.visitOrderByStatement?e.visitOrderByStatement(this):e.visitChildren(this)}};jt.OrderByStatementContext=e$;var t$=class extends zr.ParserRuleContext{orderBySpec(e){return e===void 0?this.getRuleContexts(NO):this.getRuleContext(e,NO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_ordering}enterRule(e){e.enterOrdering&&e.enterOrdering(this)}exitRule(e){e.exitOrdering&&e.exitOrdering(this)}accept(e){return e.visitOrdering?e.visitOrdering(this):e.visitChildren(this)}};jt.OrderingContext=t$;var NO=class extends zr.ParserRuleContext{INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}fieldName(){return this.tryGetRuleContext(0,Td)}ASC(){return this.tryGetToken(C.ASC,0)}DESC(){return this.tryGetToken(C.DESC,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_orderBySpec}enterRule(e){e.enterOrderBySpec&&e.enterOrderBySpec(this)}exitRule(e){e.exitOrderBySpec&&e.exitOrderBySpec(this)}accept(e){return e.visitOrderBySpec?e.visitOrderBySpec(this):e.visitChildren(this)}};jt.OrderBySpecContext=NO;var n$=class extends zr.ParserRuleContext{LIMIT(){return this.getToken(C.LIMIT,0)}INTEGER_LITERAL(){return this.getToken(C.INTEGER_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_limitStatement}enterRule(e){e.enterLimitStatement&&e.enterLimitStatement(this)}exitRule(e){e.exitLimitStatement&&e.exitLimitStatement(this)}accept(e){return e.visitLimitStatement?e.visitLimitStatement(this):e.visitChildren(this)}};jt.LimitStatementContext=n$;var r$=class extends zr.ParserRuleContext{BY(){return this.getToken(C.BY,0)}fieldName(){return this.tryGetRuleContext(0,Td)}fieldExpr(){return this.tryGetRuleContext(0,Ci)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_bySpec}enterRule(e){e.enterBySpec&&e.enterBySpec(this)}exitRule(e){e.exitBySpec&&e.exitBySpec(this)}accept(e){return e.visitBySpec?e.visitBySpec(this):e.visitChildren(this)}};jt.BySpecContext=r$;var i$=class extends zr.ParserRuleContext{TOP(){return this.getToken(C.TOP,0)}INTEGER_LITERAL(){return this.getToken(C.INTEGER_LITERAL,0)}bySpec(){return this.tryGetRuleContext(0,r$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topStatement}enterRule(e){e.enterTopStatement&&e.enterTopStatement(this)}exitRule(e){e.exitTopStatement&&e.exitTopStatement(this)}accept(e){return e.visitTopStatement?e.visitTopStatement(this):e.visitChildren(this)}};jt.TopStatementContext=i$;var LO=class extends zr.ParserRuleContext{fieldPath(){return this.tryGetRuleContext(0,gy)}DOT(){return this.tryGetToken(C.DOT,0)}STAR(){return this.tryGetToken(C.STAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_indexElement}enterRule(e){e.enterIndexElement&&e.enterIndexElement(this)}exitRule(e){e.exitIndexElement&&e.exitIndexElement(this)}accept(e){return e.visitIndexElement?e.visitIndexElement(this):e.visitChildren(this)}};jt.IndexElementContext=LO;var s$=class extends zr.ParserRuleContext{indexElement(e){return e===void 0?this.getRuleContexts(LO):this.getRuleContext(e,LO)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_indexFields}enterRule(e){e.enterIndexFields&&e.enterIndexFields(this)}exitRule(e){e.exitIndexFields&&e.exitIndexFields(this)}accept(e){return e.visitIndexFields?e.visitIndexFields(this):e.visitChildren(this)}};jt.IndexFieldsContext=s$;var o$=class extends zr.ParserRuleContext{INDEX(){return this.getToken(C.INDEX,0)}indexFields(){return this.getRuleContext(0,s$)}BY(){return this.tryGetToken(C.BY,0)}fieldName(){return this.tryGetRuleContext(0,Td)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_indexStatement}enterRule(e){e.enterIndexStatement&&e.enterIndexStatement(this)}exitRule(e){e.exitIndexStatement&&e.exitIndexStatement(this)}accept(e){return e.visitIndexStatement?e.visitIndexStatement(this):e.visitChildren(this)}};jt.IndexStatementContext=o$;var a$=class extends zr.ParserRuleContext{SAMPLE(){return this.getToken(C.SAMPLE,0)}sampleSpec(){return this.getRuleContext(0,u$)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sampleStatement}enterRule(e){e.enterSampleStatement&&e.enterSampleStatement(this)}exitRule(e){e.exitSampleStatement&&e.exitSampleStatement(this)}accept(e){return e.visitSampleStatement?e.visitSampleStatement(this):e.visitChildren(this)}};jt.SampleStatementContext=a$;var u$=class extends zr.ParserRuleContext{PERCENT_LITERAL(){return this.tryGetToken(C.PERCENT_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}TRUE(){return this.tryGetToken(C.TRUE,0)}FALSE(){return this.tryGetToken(C.FALSE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sampleSpec}enterRule(e){e.enterSampleSpec&&e.enterSampleSpec(this)}exitRule(e){e.exitSampleSpec&&e.exitSampleSpec(this)}accept(e){return e.visitSampleSpec?e.visitSampleSpec(this):e.visitChildren(this)}};jt.SampleSpecContext=u$;var l$=class extends zr.ParserRuleContext{SUM(){return this.tryGetToken(C.SUM,0)}COUNT(){return this.tryGetToken(C.COUNT,0)}AVG(){return this.tryGetToken(C.AVG,0)}MIN(){return this.tryGetToken(C.MIN,0)}MAX(){return this.tryGetToken(C.MAX,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_aggregate}enterRule(e){e.enterAggregate&&e.enterAggregate(this)}exitRule(e){e.exitAggregate&&e.exitAggregate(this)}accept(e){return e.visitAggregate?e.visitAggregate(this):e.visitChildren(this)}};jt.AggregateContext=l$;var kO=class extends zr.ParserRuleContext{STRING(){return this.tryGetToken(C.STRING,0)}NUMBER(){return this.tryGetToken(C.NUMBER,0)}BOOLEAN(){return this.tryGetToken(C.BOOLEAN,0)}DATE(){return this.tryGetToken(C.DATE,0)}TIMESTAMP(){return this.tryGetToken(C.TIMESTAMP,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_malloyType}enterRule(e){e.enterMalloyType&&e.enterMalloyType(this)}exitRule(e){e.exitMalloyType&&e.exitMalloyType(this)}accept(e){return e.visitMalloyType?e.visitMalloyType(this):e.visitChildren(this)}};jt.MalloyTypeContext=kO;var IO=class extends zr.ParserRuleContext{MATCH(){return this.tryGetToken(C.MATCH,0)}NOT_MATCH(){return this.tryGetToken(C.NOT_MATCH,0)}GT(){return this.tryGetToken(C.GT,0)}LT(){return this.tryGetToken(C.LT,0)}GTE(){return this.tryGetToken(C.GTE,0)}LTE(){return this.tryGetToken(C.LTE,0)}EQ(){return this.tryGetToken(C.EQ,0)}NE(){return this.tryGetToken(C.NE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_compareOp}enterRule(e){e.enterCompareOp&&e.enterCompareOp(this)}exitRule(e){e.exitCompareOp&&e.exitCompareOp(this)}accept(e){return e.visitCompareOp?e.visitCompareOp(this):e.visitChildren(this)}};jt.CompareOpContext=IO;var Rm=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_literal}copyFrom(e){super.copyFrom(e)}};jt.LiteralContext=Rm;var cse=class extends Rm{STRING_LITERAL(){return this.getToken(C.STRING_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprString&&e.enterExprString(this)}exitRule(e){e.exitExprString&&e.exitExprString(this)}accept(e){return e.visitExprString?e.visitExprString(this):e.visitChildren(this)}};jt.ExprStringContext=cse;var fse=class extends Rm{NUMERIC_LITERAL(){return this.tryGetToken(C.NUMERIC_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNumber&&e.enterExprNumber(this)}exitRule(e){e.exitExprNumber&&e.exitExprNumber(this)}accept(e){return e.visitExprNumber?e.visitExprNumber(this):e.visitChildren(this)}};jt.ExprNumberContext=fse;var dse=class extends Rm{dateLiteral(){return this.getRuleContext(0,Sx)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTime&&e.enterExprTime(this)}exitRule(e){e.exitExprTime&&e.exitExprTime(this)}accept(e){return e.visitExprTime?e.visitExprTime(this):e.visitChildren(this)}};jt.ExprTimeContext=dse;var hse=class extends Rm{NULL(){return this.getToken(C.NULL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNULL&&e.enterExprNULL(this)}exitRule(e){e.exitExprNULL&&e.exitExprNULL(this)}accept(e){return e.visitExprNULL?e.visitExprNULL(this):e.visitChildren(this)}};jt.ExprNULLContext=hse;var pse=class extends Rm{TRUE(){return this.tryGetToken(C.TRUE,0)}FALSE(){return this.tryGetToken(C.FALSE,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprBool&&e.enterExprBool(this)}exitRule(e){e.exitExprBool&&e.exitExprBool(this)}accept(e){return e.visitExprBool?e.visitExprBool(this):e.visitChildren(this)}};jt.ExprBoolContext=pse;var mse=class extends Rm{HACKY_REGEX(){return this.getToken(C.HACKY_REGEX,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRegex&&e.enterExprRegex(this)}exitRule(e){e.exitExprRegex&&e.exitExprRegex(this)}accept(e){return e.visitExprRegex?e.visitExprRegex(this):e.visitChildren(this)}};jt.ExprRegexContext=mse;var xse=class extends Rm{NOW(){return this.getToken(C.NOW,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNow&&e.enterExprNow(this)}exitRule(e){e.exitExprNow&&e.exitExprNow(this)}accept(e){return e.visitExprNow?e.visitExprNow(this):e.visitChildren(this)}};jt.ExprNowContext=xse;var Sx=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_dateLiteral}copyFrom(e){super.copyFrom(e)}};jt.DateLiteralContext=Sx;var gse=class extends Sx{LITERAL_TIMESTAMP(){return this.getToken(C.LITERAL_TIMESTAMP,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralTimestamp&&e.enterLiteralTimestamp(this)}exitRule(e){e.exitLiteralTimestamp&&e.exitLiteralTimestamp(this)}accept(e){return e.visitLiteralTimestamp?e.visitLiteralTimestamp(this):e.visitChildren(this)}};jt.LiteralTimestampContext=gse;var yse=class extends Sx{LITERAL_DAY(){return this.getToken(C.LITERAL_DAY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralDay&&e.enterLiteralDay(this)}exitRule(e){e.exitLiteralDay&&e.exitLiteralDay(this)}accept(e){return e.visitLiteralDay?e.visitLiteralDay(this):e.visitChildren(this)}};jt.LiteralDayContext=yse;var vse=class extends Sx{LITERAL_WEEK(){return this.getToken(C.LITERAL_WEEK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralWeek&&e.enterLiteralWeek(this)}exitRule(e){e.exitLiteralWeek&&e.exitLiteralWeek(this)}accept(e){return e.visitLiteralWeek?e.visitLiteralWeek(this):e.visitChildren(this)}};jt.LiteralWeekContext=vse;var _se=class extends Sx{LITERAL_MONTH(){return this.getToken(C.LITERAL_MONTH,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralMonth&&e.enterLiteralMonth(this)}exitRule(e){e.exitLiteralMonth&&e.exitLiteralMonth(this)}accept(e){return e.visitLiteralMonth?e.visitLiteralMonth(this):e.visitChildren(this)}};jt.LiteralMonthContext=_se;var bse=class extends Sx{LITERAL_QUARTER(){return this.getToken(C.LITERAL_QUARTER,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralQuarter&&e.enterLiteralQuarter(this)}exitRule(e){e.exitLiteralQuarter&&e.exitLiteralQuarter(this)}accept(e){return e.visitLiteralQuarter?e.visitLiteralQuarter(this):e.visitChildren(this)}};jt.LiteralQuarterContext=bse;var Ese=class extends Sx{LITERAL_YEAR(){return this.getToken(C.LITERAL_YEAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralYear&&e.enterLiteralYear(this)}exitRule(e){e.exitLiteralYear&&e.exitLiteralYear(this)}accept(e){return e.visitLiteralYear?e.visitLiteralYear(this):e.visitChildren(this)}};jt.LiteralYearContext=Ese;var c$=class extends zr.ParserRuleContext{STRING_LITERAL(){return this.getToken(C.STRING_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_tableName}enterRule(e){e.enterTableName&&e.enterTableName(this)}exitRule(e){e.exitTableName&&e.exitTableName(this)}accept(e){return e.visitTableName?e.visitTableName(this):e.visitChildren(this)}};jt.TableNameContext=c$;var Ad=class extends zr.ParserRuleContext{IDENTIFIER(){return this.tryGetToken(C.IDENTIFIER,0)}OBJECT_NAME_LITERAL(){return this.tryGetToken(C.OBJECT_NAME_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_id}enterRule(e){e.enterId&&e.enterId(this)}exitRule(e){e.exitId&&e.exitId(this)}accept(e){return e.visitId?e.visitId(this):e.visitChildren(this)}};jt.IdContext=Ad;var ib=class extends zr.ParserRuleContext{SECOND(){return this.tryGetToken(C.SECOND,0)}MINUTE(){return this.tryGetToken(C.MINUTE,0)}HOUR(){return this.tryGetToken(C.HOUR,0)}DAY(){return this.tryGetToken(C.DAY,0)}WEEK(){return this.tryGetToken(C.WEEK,0)}MONTH(){return this.tryGetToken(C.MONTH,0)}QUARTER(){return this.tryGetToken(C.QUARTER,0)}YEAR(){return this.tryGetToken(C.YEAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_timeframe}enterRule(e){e.enterTimeframe&&e.enterTimeframe(this)}exitRule(e){e.exitTimeframe&&e.exitTimeframe(this)}accept(e){return e.visitTimeframe?e.visitTimeframe(this):e.visitChildren(this)}};jt.TimeframeContext=ib;var f$=class extends zr.ParserRuleContext{ALL(){return this.tryGetToken(C.ALL,0)}EXCLUDE(){return this.tryGetToken(C.EXCLUDE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_ungroup}enterRule(e){e.enterUngroup&&e.enterUngroup(this)}exitRule(e){e.exitUngroup&&e.exitUngroup(this)}accept(e){return e.visitUngroup?e.visitUngroup(this):e.visitChildren(this)}};jt.UngroupContext=f$;var Ci=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldExpr}copyFrom(e){super.copyFrom(e)}};jt.FieldExprContext=Ci;var Sse=class extends Ci{fieldPath(){return this.getRuleContext(0,gy)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFieldPath&&e.enterExprFieldPath(this)}exitRule(e){e.exitExprFieldPath&&e.exitExprFieldPath(this)}accept(e){return e.visitExprFieldPath?e.visitExprFieldPath(this):e.visitChildren(this)}};jt.ExprFieldPathContext=Sse;var wse=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}OCURLY(){return this.getToken(C.OCURLY,0)}filteredBy(){return this.getRuleContext(0,jw)}CCURLY(){return this.getToken(C.CCURLY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFilter&&e.enterExprFilter(this)}exitRule(e){e.exitExprFilter&&e.exitExprFilter(this)}accept(e){return e.visitExprFilter?e.visitExprFilter(this):e.visitChildren(this)}};jt.ExprFilterContext=wse;var Cse=class extends Ci{literal(){return this.getRuleContext(0,Rm)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLiteral&&e.enterExprLiteral(this)}exitRule(e){e.exitExprLiteral&&e.exitExprLiteral(this)}accept(e){return e.visitExprLiteral?e.visitExprLiteral(this):e.visitChildren(this)}};jt.ExprLiteralContext=Cse;var Ase=class extends Ci{MINUS(){return this.getToken(C.MINUS,0)}fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMinus&&e.enterExprMinus(this)}exitRule(e){e.exitExprMinus&&e.exitExprMinus(this)}accept(e){return e.visitExprMinus?e.visitExprMinus(this):e.visitChildren(this)}};jt.ExprMinusContext=Ase;var Tse=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}timeframe(){return this.getRuleContext(0,ib)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprDuration&&e.enterExprDuration(this)}exitRule(e){e.exitExprDuration&&e.exitExprDuration(this)}accept(e){return e.visitExprDuration?e.visitExprDuration(this):e.visitChildren(this)}};jt.ExprDurationContext=Tse;var Fse=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}DOT(){return this.getToken(C.DOT,0)}timeframe(){return this.getRuleContext(0,ib)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTimeTrunc&&e.enterExprTimeTrunc(this)}exitRule(e){e.exitExprTimeTrunc&&e.exitExprTimeTrunc(this)}accept(e){return e.visitExprTimeTrunc?e.visitExprTimeTrunc(this):e.visitChildren(this)}};jt.ExprTimeTruncContext=Fse;var Dse=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}DOUBLECOLON(){return this.getToken(C.DOUBLECOLON,0)}malloyType(){return this.getRuleContext(0,kO)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprSafeCast&&e.enterExprSafeCast(this)}exitRule(e){e.exitExprSafeCast&&e.exitExprSafeCast(this)}accept(e){return e.visitExprSafeCast?e.visitExprSafeCast(this):e.visitChildren(this)}};jt.ExprSafeCastContext=Dse;var Ose=class extends Ci{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}STAR(){return this.tryGetToken(C.STAR,0)}SLASH(){return this.tryGetToken(C.SLASH,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMulDiv&&e.enterExprMulDiv(this)}exitRule(e){e.exitExprMulDiv&&e.exitExprMulDiv(this)}accept(e){return e.visitExprMulDiv?e.visitExprMulDiv(this):e.visitChildren(this)}};jt.ExprMulDivContext=Ose;var Rse=class extends Ci{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}PLUS(){return this.tryGetToken(C.PLUS,0)}MINUS(){return this.tryGetToken(C.MINUS,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAddSub&&e.enterExprAddSub(this)}exitRule(e){e.exitExprAddSub&&e.exitExprAddSub(this)}accept(e){return e.visitExprAddSub?e.visitExprAddSub(this):e.visitChildren(this)}};jt.ExprAddSubContext=Rse;var Nse=class extends Ci{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}TO(){return this.getToken(C.TO,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRange&&e.enterExprRange(this)}exitRule(e){e.exitExprRange&&e.exitExprRange(this)}accept(e){return e.visitExprRange?e.visitExprRange(this):e.visitChildren(this)}};jt.ExprRangeContext=Nse;var Lse=class extends Ci{constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}FOR(){return this.getToken(C.FOR,0)}timeframe(){return this.getRuleContext(0,ib)}fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}enterRule(e){e.enterExprForRange&&e.enterExprForRange(this)}exitRule(e){e.exitExprForRange&&e.exitExprForRange(this)}accept(e){return e.visitExprForRange?e.visitExprForRange(this):e.visitChildren(this)}};jt.ExprForRangeContext=Lse;var kse=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}partialAllowedFieldExpr(){return this.getRuleContext(0,xy)}AMPER(){return this.tryGetToken(C.AMPER,0)}BAR(){return this.tryGetToken(C.BAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogicalTree&&e.enterExprLogicalTree(this)}exitRule(e){e.exitExprLogicalTree&&e.exitExprLogicalTree(this)}accept(e){return e.visitExprLogicalTree?e.visitExprLogicalTree(this):e.visitChildren(this)}};jt.ExprLogicalTreeContext=kse;var Ise=class extends Ci{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}compareOp(){return this.getRuleContext(0,IO)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCompare&&e.enterExprCompare(this)}exitRule(e){e.exitExprCompare&&e.exitExprCompare(this)}accept(e){return e.visitExprCompare?e.visitExprCompare(this):e.visitChildren(this)}};jt.ExprCompareContext=Ise;var Mse=class extends Ci{fieldExpr(){return this.getRuleContext(0,Ci)}partialAllowedFieldExpr(){return this.getRuleContext(0,xy)}COLON(){return this.tryGetToken(C.COLON,0)}QMARK(){return this.tryGetToken(C.QMARK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprApply&&e.enterExprApply(this)}exitRule(e){e.exitExprApply&&e.exitExprApply(this)}accept(e){return e.visitExprApply?e.visitExprApply(this):e.visitChildren(this)}};jt.ExprApplyContext=Mse;var Pse=class extends Ci{NOT(){return this.getToken(C.NOT,0)}fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNot&&e.enterExprNot(this)}exitRule(e){e.exitExprNot&&e.exitExprNot(this)}accept(e){return e.visitExprNot?e.visitExprNot(this):e.visitChildren(this)}};jt.ExprNotContext=Pse;var Bse=class extends Ci{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}AND(){return this.tryGetToken(C.AND,0)}OR(){return this.tryGetToken(C.OR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogical&&e.enterExprLogical(this)}exitRule(e){e.exitExprLogical&&e.exitExprLogical(this)}accept(e){return e.visitExprLogical?e.visitExprLogical(this):e.visitChildren(this)}};jt.ExprLogicalContext=Bse;var jse=class extends Ci{CAST(){return this.getToken(C.CAST,0)}OPAREN(){return this.getToken(C.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,Ci)}AS(){return this.getToken(C.AS,0)}malloyType(){return this.getRuleContext(0,kO)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCast&&e.enterExprCast(this)}exitRule(e){e.exitExprCast&&e.exitExprCast(this)}accept(e){return e.visitExprCast?e.visitExprCast(this):e.visitChildren(this)}};jt.ExprCastContext=jse;var qse=class extends Ci{COUNT(){return this.getToken(C.COUNT,0)}OPAREN(){return this.getToken(C.OPAREN,0)}DISTINCT(){return this.getToken(C.DISTINCT,0)}fieldExpr(){return this.getRuleContext(0,Ci)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCountDisinct&&e.enterExprCountDisinct(this)}exitRule(e){e.exitExprCountDisinct&&e.exitExprCountDisinct(this)}accept(e){return e.visitExprCountDisinct?e.visitExprCountDisinct(this):e.visitChildren(this)}};jt.ExprCountDisinctContext=qse;var Use=class extends Ci{aggregate(){return this.getRuleContext(0,l$)}OPAREN(){return this.getToken(C.OPAREN,0)}CPAREN(){return this.getToken(C.CPAREN,0)}fieldPath(){return this.tryGetRuleContext(0,gy)}DOT(){return this.tryGetToken(C.DOT,0)}fieldExpr(){return this.tryGetRuleContext(0,Ci)}STAR(){return this.tryGetToken(C.STAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAggregate&&e.enterExprAggregate(this)}exitRule(e){e.exitExprAggregate&&e.exitExprAggregate(this)}accept(e){return e.visitExprAggregate?e.visitExprAggregate(this):e.visitChildren(this)}};jt.ExprAggregateContext=Use;var $se=class extends Ci{OPAREN(){return this.getToken(C.OPAREN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,xy)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprExpr&&e.enterExprExpr(this)}exitRule(e){e.exitExprExpr&&e.exitExprExpr(this)}accept(e){return e.visitExprExpr?e.visitExprExpr(this):e.visitChildren(this)}};jt.ExprExprContext=$se;var zse=class extends Ci{OPAREN(){return this.getToken(C.OPAREN,0)}CPAREN(){return this.getToken(C.CPAREN,0)}id(){return this.tryGetRuleContext(0,Ad)}timeframe(){return this.tryGetRuleContext(0,ib)}argumentList(){return this.tryGetRuleContext(0,h$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFunc&&e.enterExprFunc(this)}exitRule(e){e.exitExprFunc&&e.exitExprFunc(this)}accept(e){return e.visitExprFunc?e.visitExprFunc(this):e.visitChildren(this)}};jt.ExprFuncContext=zse;var Hse=class extends Ci{pickStatement(){return this.getRuleContext(0,d$)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprPick&&e.enterExprPick(this)}exitRule(e){e.exitExprPick&&e.exitExprPick(this)}accept(e){return e.visitExprPick?e.visitExprPick(this):e.visitChildren(this)}};jt.ExprPickContext=Hse;var Vse=class extends Ci{ungroup(){return this.getRuleContext(0,f$)}OPAREN(){return this.getToken(C.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,Ci)}CPAREN(){return this.getToken(C.CPAREN,0)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}fieldName(e){return e===void 0?this.getRuleContexts(Td):this.getRuleContext(e,Td)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprUngroup&&e.enterExprUngroup(this)}exitRule(e){e.exitExprUngroup&&e.exitExprUngroup(this)}accept(e){return e.visitExprUngroup?e.visitExprUngroup(this):e.visitChildren(this)}};jt.ExprUngroupContext=Vse;var xy=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_partialAllowedFieldExpr}copyFrom(e){super.copyFrom(e)}};jt.PartialAllowedFieldExprContext=xy;var Wse=class extends xy{compareOp(){return this.getRuleContext(0,IO)}fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprPartialCompare&&e.enterExprPartialCompare(this)}exitRule(e){e.exitExprPartialCompare&&e.exitExprPartialCompare(this)}accept(e){return e.visitExprPartialCompare?e.visitExprPartialCompare(this):e.visitChildren(this)}};jt.ExprPartialCompareContext=Wse;var Qse=class extends xy{fieldExpr(){return this.getRuleContext(0,Ci)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNotPartial&&e.enterExprNotPartial(this)}exitRule(e){e.exitExprNotPartial&&e.exitExprNotPartial(this)}accept(e){return e.visitExprNotPartial?e.visitExprNotPartial(this):e.visitChildren(this)}};jt.ExprNotPartialContext=Qse;var d$=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}pick(e){return e===void 0?this.getRuleContexts(MO):this.getRuleContext(e,MO)}ELSE(){return this.tryGetToken(C.ELSE,0)}fieldExpr(){return this.tryGetRuleContext(0,Ci)}get ruleIndex(){return C.RULE_pickStatement}enterRule(e){e.enterPickStatement&&e.enterPickStatement(this)}exitRule(e){e.exitPickStatement&&e.exitPickStatement(this)}accept(e){return e.visitPickStatement?e.visitPickStatement(this):e.visitChildren(this)}};jt.PickStatementContext=d$;var MO=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}PICK(){return this.getToken(C.PICK,0)}WHEN(){return this.getToken(C.WHEN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,xy)}fieldExpr(){return this.tryGetRuleContext(0,Ci)}get ruleIndex(){return C.RULE_pick}enterRule(e){e.enterPick&&e.enterPick(this)}exitRule(e){e.exitPick&&e.exitPick(this)}accept(e){return e.visitPick?e.visitPick(this):e.visitChildren(this)}};jt.PickContext=MO;var h$=class extends zr.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(Ci):this.getRuleContext(e,Ci)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_argumentList}enterRule(e){e.enterArgumentList&&e.enterArgumentList(this)}exitRule(e){e.exitArgumentList&&e.exitArgumentList(this)}accept(e){return e.visitArgumentList?e.visitArgumentList(this):e.visitChildren(this)}};jt.ArgumentListContext=h$;var p$=class extends zr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Td):this.getRuleContext(e,Td)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldNameList}enterRule(e){e.enterFieldNameList&&e.enterFieldNameList(this)}exitRule(e){e.exitFieldNameList&&e.exitFieldNameList(this)}accept(e){return e.visitFieldNameList?e.visitFieldNameList(this):e.visitChildren(this)}};jt.FieldNameListContext=p$;var m$=class extends zr.ParserRuleContext{collectionMember(e){return e===void 0?this.getRuleContexts(f4):this.getRuleContext(e,f4)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldCollection}enterRule(e){e.enterFieldCollection&&e.enterFieldCollection(this)}exitRule(e){e.exitFieldCollection&&e.exitFieldCollection(this)}accept(e){return e.visitFieldCollection?e.visitFieldCollection(this):e.visitChildren(this)}};jt.FieldCollectionContext=m$;var f4=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_collectionMember}copyFrom(e){super.copyFrom(e)}};jt.CollectionMemberContext=f4;var Gse=class extends f4{fieldPath(){return this.getRuleContext(0,gy)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNameMember&&e.enterNameMember(this)}exitRule(e){e.exitNameMember&&e.exitNameMember(this)}accept(e){return e.visitNameMember?e.visitNameMember(this):e.visitChildren(this)}};jt.NameMemberContext=Gse;var Yse=class extends f4{STAR(){return this.tryGetToken(C.STAR,0)}STARSTAR(){return this.tryGetToken(C.STARSTAR,0)}fieldPath(){return this.tryGetRuleContext(0,gy)}DOT(){return this.tryGetToken(C.DOT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterWildMember&&e.enterWildMember(this)}exitRule(e){e.exitWildMember&&e.exitWildMember(this)}accept(e){return e.visitWildMember?e.visitWildMember(this):e.visitChildren(this)}};jt.WildMemberContext=Yse;var Kse=class extends f4{fieldDef(){return this.getRuleContext(0,l4)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNewMember&&e.enterNewMember(this)}exitRule(e){e.exitNewMember&&e.exitNewMember(this)}accept(e){return e.visitNewMember?e.visitNewMember(this):e.visitChildren(this)}};jt.NewMemberContext=Kse;var gy=class extends zr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Td):this.getRuleContext(e,Td)}DOT(e){return e===void 0?this.getTokens(C.DOT):this.getToken(C.DOT,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldPath}enterRule(e){e.enterFieldPath&&e.enterFieldPath(this)}exitRule(e){e.exitFieldPath&&e.exitFieldPath(this)}accept(e){return e.visitFieldPath?e.visitFieldPath(this):e.visitChildren(this)}};jt.FieldPathContext=gy;var Jse=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinName}enterRule(e){e.enterJoinName&&e.enterJoinName(this)}exitRule(e){e.exitJoinName&&e.exitJoinName(this)}accept(e){return e.visitJoinName?e.visitJoinName(this):e.visitChildren(this)}};jt.JoinNameContext=Jse;var Td=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldName}enterRule(e){e.enterFieldName&&e.enterFieldName(this)}exitRule(e){e.exitFieldName&&e.exitFieldName(this)}accept(e){return e.visitFieldName?e.visitFieldName(this):e.visitChildren(this)}};jt.FieldNameContext=Td;var Xse=class extends zr.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,Ci)}EOF(){return this.getToken(C.EOF,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_justExpr}enterRule(e){e.enterJustExpr&&e.enterJustExpr(this)}exitRule(e){e.exitJustExpr&&e.exitJustExpr(this)}accept(e){return e.visitJustExpr?e.visitJustExpr(this):e.visitChildren(this)}};jt.JustExprContext=Xse;var Zse=class extends zr.ParserRuleContext{jsonValue(){return this.getRuleContext(0,sb)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_json}enterRule(e){e.enterJson&&e.enterJson(this)}exitRule(e){e.exitJson&&e.exitJson(this)}accept(e){return e.visitJson?e.visitJson(this):e.visitChildren(this)}};jt.JsonContext=Zse;var sb=class extends zr.ParserRuleContext{JSON_STRING(){return this.tryGetToken(C.JSON_STRING,0)}INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}NUMERIC_LITERAL(){return this.tryGetToken(C.NUMERIC_LITERAL,0)}jsonObject(){return this.tryGetRuleContext(0,x$)}jsonArray(){return this.tryGetRuleContext(0,g$)}TRUE(){return this.tryGetToken(C.TRUE,0)}FALSE(){return this.tryGetToken(C.FALSE,0)}NULL(){return this.tryGetToken(C.NULL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonValue}enterRule(e){e.enterJsonValue&&e.enterJsonValue(this)}exitRule(e){e.exitJsonValue&&e.exitJsonValue(this)}accept(e){return e.visitJsonValue?e.visitJsonValue(this):e.visitChildren(this)}};jt.JsonValueContext=sb;var x$=class extends zr.ParserRuleContext{OCURLY(){return this.getToken(C.OCURLY,0)}jsonProperty(e){return e===void 0?this.getRuleContexts(PO):this.getRuleContext(e,PO)}CCURLY(){return this.getToken(C.CCURLY,0)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonObject}enterRule(e){e.enterJsonObject&&e.enterJsonObject(this)}exitRule(e){e.exitJsonObject&&e.exitJsonObject(this)}accept(e){return e.visitJsonObject?e.visitJsonObject(this):e.visitChildren(this)}};jt.JsonObjectContext=x$;var PO=class extends zr.ParserRuleContext{JSON_STRING(){return this.getToken(C.JSON_STRING,0)}COLON(){return this.getToken(C.COLON,0)}jsonValue(){return this.getRuleContext(0,sb)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonProperty}enterRule(e){e.enterJsonProperty&&e.enterJsonProperty(this)}exitRule(e){e.exitJsonProperty&&e.exitJsonProperty(this)}accept(e){return e.visitJsonProperty?e.visitJsonProperty(this):e.visitChildren(this)}};jt.JsonPropertyContext=PO;var g$=class extends zr.ParserRuleContext{OBRACK(){return this.getToken(C.OBRACK,0)}jsonValue(e){return e===void 0?this.getRuleContexts(sb):this.getRuleContext(e,sb)}CBRACK(){return this.getToken(C.CBRACK,0)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonArray}enterRule(e){e.enterJsonArray&&e.enterJsonArray(this)}exitRule(e){e.exitJsonArray&&e.exitJsonArray(this)}accept(e){return e.visitJsonArray?e.visitJsonArray(this):e.visitChildren(this)}};jt.JsonArrayContext=g$;var y$=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sqlExploreNameRef}enterRule(e){e.enterSqlExploreNameRef&&e.enterSqlExploreNameRef(this)}exitRule(e){e.exitSqlExploreNameRef&&e.exitSqlExploreNameRef(this)}accept(e){return e.visitSqlExploreNameRef?e.visitSqlExploreNameRef(this):e.visitChildren(this)}};jt.SqlExploreNameRefContext=y$;var v$=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,Ad)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sqlCommandNameDef}enterRule(e){e.enterSqlCommandNameDef&&e.enterSqlCommandNameDef(this)}exitRule(e){e.exitSqlCommandNameDef&&e.exitSqlCommandNameDef(this)}accept(e){return e.visitSqlCommandNameDef?e.visitSqlCommandNameDef(this):e.visitChildren(this)}};jt.SqlCommandNameDefContext=v$;var _$=class extends zr.ParserRuleContext{JSON_STRING(){return this.getToken(C.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_connectionName}enterRule(e){e.enterConnectionName&&e.enterConnectionName(this)}exitRule(e){e.exitConnectionName&&e.exitConnectionName(this)}accept(e){return e.visitConnectionName?e.visitConnectionName(this):e.visitChildren(this)}};jt.ConnectionNameContext=_$});var g8e=Ae(Bl=>{"use strict";m();Object.defineProperty(Bl,"__esModule",{value:!0});Bl.isEquality=Bl.isComparison=Bl.timestampOffset=Bl.dateOffset=Bl.compose=Bl.compressExpr=Bl.errorFor=Bl.isGranularResult=Bl.FT=Bl.isExpressionValueType=void 0;var c0t=xm();function f0t(n){return(0,c0t.isAtomicFieldType)(n)||["null","unknown","duration","regular expression"].includes(n)}Bl.isExpressionValueType=f0t;var j0=class{static in(e,t){return e?t.find(i=>j0.eq(i,e))!==void 0:!1}static eq(e,t){return t!==void 0&&e.dataType===t.dataType&&e.aggregate===t.aggregate}static typeEq(e,t,r=!1){let i=e.dataType===t.dataType,s=r&&(e.dataType==="null"||t.dataType==="null");return i||s}static inspect(...e){return e.map(r=>{if(r){let i=r.dataType;return r.aggregate&&(i=`aggregate ${i}`),i}return"undefined"}).join(",")}};Bl.FT=j0;j0.nullT=Uw("null");j0.numberT=Uw("number");j0.stringT=Uw("string");j0.dateT=Uw("date");j0.timestampT=Uw("timestamp");j0.boolT=Uw("boolean");j0.anyAtomicT=[j0.numberT,j0.stringT,j0.dateT,j0.timestampT,j0.boolT];function Uw(n){return{dataType:n,aggregate:!1}}function d0t(n){return n.dataType!=="date"&&n.dataType!=="timestamp"?!1:n.timeframe!==void 0}Bl.isGranularResult=d0t;function h0t(n){return{dataType:"unknown",aggregate:!1,value:[`_ERROR_${n.replace(/ /g,"_")}`]}}Bl.errorFor=h0t;function x8e(n){return n.length>1?["(",...n,")"]:n.length===0?["__MISSING_VALUE__"]:n}function toe(n){let e=[],t;for(let r of n.flat())typeof r=="string"?t=t?t+r:r:(t&&(e.push(t),t=void 0),e.push(r));return t&&e.push(t),e}Bl.compressExpr=toe;function p0t(n,e,t){let r=e.match(/^[A-Za-z]/),i=n.length===1&&r?" ":"",s=t.length===1&&r?" ":"",o=i+e+s;return[...x8e(n),o,...x8e(t)]}Bl.compose=p0t;function m0t(n,e,t,r){let i=e==="+"?"_ADD":"_SUB",s=r.toUpperCase();return toe([`DATE${i}(`,...n,",INTERVAL ",...t,` ${s})`])}Bl.dateOffset=m0t;function x0t(n,e,t,r,i=!1){let s=["week","month","quarter","year"].includes(r),o=e==="+"?"_ADD":"_SUB",a=r.toUpperCase();if(s)return[`TIMESTAMP(DATETIME${o}(DATETIME(`,...n,"),INTERVAL ",...t,` ${a}))`];let l=i?["TIMESTAMP(",...n,")"]:n;return toe([`TIMESTAMP${o}(`,...l,",INTERVAL ",...t,` ${a})`])}Bl.timestampOffset=x0t;function g0t(n){return["~","!~","<","<=","=",">",">=","!="].includes(n)}Bl.isComparison=g0t;function y0t(n){return["~","!~","=","!="].includes(n)}Bl.isEquality=y0t});var S$=Ae(Fo=>{"use strict";m();var v0t=Fo&&Fo.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),_0t=Fo&&Fo.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),b0t=Fo&&Fo.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&v0t(e,n,t);return _0t(e,n),e};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.ExpressionFieldFromAst=Fo.ReferenceField=Fo.FANSPaceField=Fo.QueryFieldStruct=Fo.QueryFieldAST=Fo.QueryField=Fo.ColumnSpaceField=Fo.JoinSpaceField=Fo.StructSpaceField=Fo.WildSpaceField=Fo.RenameSpaceField=Fo.SpaceField=Fo.AbstractParameter=Fo.DefinedParameter=Fo.SpaceParam=Fo.SpaceEntry=void 0;var y8e=b0t(xm()),E0t=w$(),b$=class{};Fo.SpaceEntry=b$;var BO=class extends b${constructor(){super(...arguments);this.refType="parameter"}};Fo.SpaceParam=BO;var v8e=class extends BO{constructor(e){super();this.paramDef=e}parameter(){return this.paramDef}type(){return{type:this.paramDef.type}}};Fo.DefinedParameter=v8e;var _8e=class extends BO{constructor(e){super();this.astParam=e}parameter(){return this.astParam.parameter()}type(){return{type:this.astParam.type||"unknown"}}};Fo.AbstractParameter=_8e;var wx=class extends b${constructor(){super(...arguments);this.refType="field"}fieldTypeFromFieldDef(e){let t={type:e.type};return y8e.isFieldTypeDef(e)&&e.aggregate&&(t.aggregate=!0),t}getQueryFieldDef(e){}fieldDef(){}};Fo.SpaceField=wx;var b8e=class extends wx{constructor(e,t,r){super();this.otherField=e,this.newName=t,this.location=r}fieldDef(){let e=this.otherField.fieldDef();if(e!==void 0)return{...e,as:this.newName,location:this.location}}type(){return this.otherField.type()}};Fo.RenameSpaceField=b8e;var E8e=class extends wx{constructor(e){super();this.wildText=e}type(){throw new Error("should never ask a wild field for its type")}getQueryFieldDef(e){return this.wildText}};Fo.WildSpaceField=E8e;var noe=class extends wx{constructor(e){super();this.sourceDef=e}get fieldSpace(){return this.space||(this.space=new E0t.StaticSpace(this.sourceDef)),this.space}fieldDef(){return this.sourceDef}type(){return{type:"struct"}}};Fo.StructSpaceField=noe;var S8e=class extends noe{constructor(e,t){super(t.structDef());this.intoFS=e,this.join=t}};Fo.JoinSpaceField=S8e;var w8e=class extends wx{constructor(e){super();this.def=e}fieldDef(){return this.def}type(){return this.fieldTypeFromFieldDef(this.def)}};Fo.ColumnSpaceField=w8e;var E$=class extends wx{constructor(e){super();this.inSpace=e}type(){return{type:"turtle"}}};Fo.QueryField=E$;var C8e=class extends E${constructor(e,t,r){super(e);this.turtle=t,this.name=r}getQueryFieldDef(e){let t=this.turtle.getFieldDef(e,this.nestParent);return this.renameAs&&(t.as=this.renameAs),t}fieldDef(){let e=this.turtle.getFieldDef(this.inSpace,this.nestParent);return this.renameAs&&(e.as=this.renameAs),e}};Fo.QueryFieldAST=C8e;var A8e=class extends E${constructor(e,t){super(e);this.turtleDef=t}rename(e){this.turtleDef={...this.turtleDef,as:e}}fieldDef(){return this.turtleDef}getQueryFieldDef(e){return this.fieldDef()}};Fo.QueryFieldStruct=A8e;var T8e=class extends wx{constructor(e,t,r){super();this.ref=e,this.inSpace=t,Object.assign(this,r)}name(){return this.as||this.ref.refString}filtersPresent(){return this.filterList&&this.filterList.length>0}fieldDef(){if(this.as===void 0)return;let e=this.ref.getField(this.inSpace).found;if(e===void 0)return;let t=e.type(),r=t.type;if(y8e.isAtomicFieldType(r)){if(e instanceof BO)return{type:r,name:this.as,e:[{type:"parameter",path:this.ref.refString}],aggregate:!1};let i=[{type:"field",path:this.ref.refString}];return this.filtersPresent()&&this.filterList&&(i=[{type:"filterExpression",filterList:this.filterList,e:i}]),{type:r,name:this.as,e:i,aggregate:t.aggregate}}}getQueryFieldDef(e){let t={name:this.ref.refString};return this.filtersPresent()&&(t.filterList=this.filterList),this.as&&(t.as=this.as),t.as||t.filterList?t:this.ref.refString}type(){let e=this.ref.getField(this.inSpace).found;return(e==null?void 0:e.type())||{type:"unknown"}}};Fo.FANSPaceField=T8e;var F8e=class extends wx{constructor(e){super();this.fieldRef=e}getQueryFieldDef(e){let t=this.fieldRef.getField(e);return t.error&&this.fieldRef.log(t.error),this.fieldRef.refString}type(){return{type:"unknown"}}};Fo.ReferenceField=F8e;var D8e=class extends wx{constructor(e,t){super();this.space=e,this.exprDef=t,this.fieldName=t.defineName}get name(){return this.fieldName}fieldDef(){let e=this.exprDef.fieldDef(this.space,this.name);return this.defType=this.fieldTypeFromFieldDef(e),e}getQueryFieldDef(e){let t=this.exprDef.queryFieldDef(e,this.name);return this.defType=this.fieldTypeFromFieldDef(t),t}type(){return this.defType?this.defType:this.fieldTypeFromFieldDef(this.fieldDef())}};Fo.ExpressionFieldFromAst=D8e});var O8e=Ae($w=>{"use strict";m();Object.defineProperty($w,"__esModule",{value:!0});$w.mergeFields=$w.nameOf=void 0;function roe(n){return typeof n=="string"?n:n.as||n.name}$w.nameOf=roe;function S0t(n,e){if(n==null)return e;let t=new Set(e.map(i=>roe(i))),r=n.filter(i=>!t.has(roe(i)));return r.push(...e),r}$w.mergeFields=S0t});var w$=Ae(Gu=>{"use strict";m();var w0t=Gu&&Gu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),C0t=Gu&&Gu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),A0t=Gu&&Gu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&w0t(e,n,t);return C0t(e,n),e};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.DefSpace=Gu.IndexFieldSpace=Gu.ProjectFieldSpace=Gu.ReduceFieldSpace=Gu.ResultSpace=Gu.QuerySpace=Gu.DynamicSpace=Gu.StaticSpace=void 0;var T0t=$F(),F0t=oj(),ioe=A0t(xm()),g1=d4(),jl=S$(),C$=O8e(),A$=class{constructor(e){this.type="fieldSpace",this.fromStruct=e}whenComplete(e){e()}dialectObj(){try{return(0,F0t.getDialect)(this.fromStruct.dialect)}catch{return}}fromFieldDef(e){return e.type==="struct"?new jl.StructSpaceField(e):ioe.isTurtleDef(e)?new jl.QueryFieldStruct(this,e):new jl.ColumnSpaceField(e)}get map(){if(this.memoMap===void 0){this.memoMap={};for(let e of this.fromStruct.fields){let t=e.as||e.name;this.memoMap[t]=this.fromFieldDef(e)}if(this.fromStruct.parameters)for(let[e,t]of Object.entries(this.fromStruct.parameters)){if(this.memoMap[e])throw new Error(`In struct '${this.fromStruct.as||this.fromStruct.name}':  : Field and parameter name conflict '${e}`);this.memoMap[e]=new jl.DefinedParameter(t)}}return this.memoMap}dropEntries(){this.memoMap={}}dropEntry(e){delete this.map[e]}entry(e){return this.map[e]}setEntry(e,t){this.map[e]=t}entries(){return Object.entries(this.map)}structDef(){return this.fromStruct}emptyStructDef(){return{...this.fromStruct,fields:[]}}lookup(e){let t=e[0],r=e.slice(1),i=this.entry(t.refString);if(!i)return{error:`'${t}' is not defined`,found:i};if(i instanceof jl.SpaceField){let s=i.fieldDef();s&&t.addReference({type:i instanceof jl.StructSpaceField?"joinReference":"fieldReference",definition:s,location:t.location,text:t.refString})}return r.length?i instanceof jl.StructSpaceField?i.fieldSpace.lookup(r):{error:`'${t}' cannot contain a '${r[0]}'`,found:void 0}:{found:i,error:void 0}}};Gu.StaticSpace=A$;function R8e(n){return n.type=="fieldSpace"}var soe=class{constructor(e){this.sourceSpec=e,this.spaceSpec=e}get structDef(){return R8e(this.spaceSpec)?(this.asStruct||(this.asStruct=this.spaceSpec.structDef()),this.asStruct):this.spaceSpec}get fieldSpace(){return R8e(this.spaceSpec)?this.spaceSpec:(this.asFS||(this.asFS=new A$(this.spaceSpec)),this.asFS)}},zw=class extends A${constructor(e){let t=new soe(e);super((0,T0t.cloneDeep)(t.structDef));this.completions=[],this.complete=!1,this.final=void 0,this.source=t}static filteredFrom(e,t){let r=new zw(e);if(t){let i=t.refs.list,s=r.entries();r.dropEntries();for(let[o,a]of s){let l=!!i.find(p=>p.refString===o),f=t.edit==="accept";l===f&&r.setEntry(o,a)}}return r}whenComplete(e){this.complete?e():this.completions.push(e)}isComplete(){this.complete=!0;for(let e of this.completions)e();this.completions=[]}setEntry(e,t){if(this.final)throw new Error("Space already final");super.setEntry(e,t)}addParameters(e){for(let t of e)this.setEntry(t.name,new jl.AbstractParameter(t));return this}newEntry(e,t,r){if(this.entry(e)){t.log(`Cannot redefine '${e}'`);return}this.setEntry(e,r)}addField(...e){for(let t of e){let r=t.log,i=t.elementType;if(t instanceof g1.FieldDeclaration){let s=new jl.ExpressionFieldFromAst(this,t);this.newEntry(s.name,t,s)}else if(t instanceof g1.TurtleDecl){let s=t.name;this.newEntry(s,t,new jl.QueryFieldAST(this,t,s))}else if(t instanceof g1.RenameField){if(t.oldName.refString===t.newName){t.log("Can't rename field to itself");continue}let s=t.oldName.getField(this);s.found?s.found instanceof jl.SpaceField?(this.setEntry(t.newName,new jl.RenameSpaceField(s.found,t.newName,t.location)),this.dropEntry(t.oldName.refString)):t.log(`'${t.oldName}' cannot be renamed`):t.log(`Can't rename '${t.oldName}', no such field`)}else t instanceof g1.Join?this.newEntry(t.name.refString,t,new jl.JoinSpaceField(this,t)):r(`Internal error: Expected expression, query, or rename, got '${i}'`)}}addFieldDef(e){this.setEntry((0,C$.nameOf)(e),this.fromFieldDef(e))}structDef(){let e=this.fromStruct.parameters||{};if(this.final===void 0){this.final={...this.fromStruct,fields:[]};let t=[],r=[],i=[],s=[];for(let[a,l]of this.entries())l instanceof jl.StructSpaceField?r.push([a,l]):l instanceof jl.QueryField?i.push([a,l]):l instanceof jl.SpaceField?t.push([a,l]):l instanceof jl.SpaceParam&&(e[a]=l.parameter());let o=[...t,...r,...i];for(let[a,l]of o)if(l instanceof jl.JoinSpaceField){let f=l.join.structDef();g1.ErrorFactory.isErrorStructDef(f)||(this.final.fields.push(f),s.push([l.join,f]))}else{let f=l.fieldDef();if(f)this.final.fields.push(f);else throw new Error(`'${a}' doesn't have a FieldDef`)}Object.entries(e).length>0&&(this.final.parameters=e);for(let[a,l]of s)a.fixupJoinOn(this,l)}return this.isComplete(),this.final}};Gu.DynamicSpace=zw;var ooe=class extends zw{constructor(e,t){let r=new soe(e);super(r.structDef);this.result=t,this.extendList=[]}extendSource(e){this.addField(e),e instanceof g1.Join?this.extendList.push(e.name.refString):this.extendList.push(e.defineName)}};Gu.QuerySpace=ooe;var jO=class extends zw{constructor(e){super(e.emptyStructDef());this.queryInputSpace=e,this.exprSpace=new ooe(e,this)}log(e){this.astEl&&this.astEl.log(e)}addMembers(e){for(let t of e)t instanceof g1.FieldReference?this.addReference(t):t instanceof g1.WildcardFieldReference?this.addWild(t):this.addField(t)}addReference(e){let t=e.outputName;this.entry(t)?e.log(`Output already has a field named '${t}'`):this.setEntry(t,new jl.ReferenceField(e))}addWild(e){this.setEntry(e.refString,new jl.WildSpaceField(e.refString))}checkUngroup(e,t){if(!this.entry(e.refString))if(t&&this.exprSpace.nestParent){let r=this.exprSpace.nestParent;r.whenComplete(()=>{r.result.checkUngroup(e,t)})}else{let r=t?"exclude()":"all()";e.log(`${r} '${e.refString}' is missing from query output`)}}addQueryItems(...e){for(let t of e)if(t instanceof g1.FieldReference||t instanceof g1.NestReference)this.addReference(t);else if(t instanceof g1.FieldDeclaration)this.addField(t);else if((0,g1.isNestedQuery)(t)){let r=new jl.QueryFieldAST(this,t,t.name);r.nestParent=this.exprSpace,this.setEntry(t.name,r)}else{let r=t}}canContain(e){return!0}queryFieldDefs(){let e=[];for(let[t,r]of this.entries())if(r instanceof jl.SpaceField){let i=r.getQueryFieldDef(this.exprSpace);if(i)this.canContain(i)?e.push(i):this.log(`'${t}' not legal in ${this.segmentType}`);else throw new Error(`'${t}' does not have a QueryFieldDef`)}return this.isComplete(),e}getQuerySegment(e){let t=this.getPipeSegment(e);if(ioe.isQuerySegment(t))return t;throw new Error("TODO NOT POSSIBLE")}getPipeSegment(e){if(this.segmentType=="index")throw new Error("INDEX FIELD PIPE SEGMENT MIS HANDLED");if(e==null?void 0:e.extendSource)for(let r of e.extendSource)this.exprSpace.addFieldDef(r);let t={type:this.segmentType,fields:this.queryFieldDefs()};if(t.fields=(0,C$.mergeFields)(e==null?void 0:e.fields,t.fields),(e==null?void 0:e.extendSource)&&(t.extendSource=e.extendSource),this.exprSpace.extendList.length>0){let r=[],i=this.exprSpace.structDef();for(let s of this.exprSpace.extendList){let o=i.fields.find(a=>(0,C$.nameOf)(a)==s);o&&r.push(o)}t.extendSource=(0,C$.mergeFields)(t.extendSource,r)}return this.isComplete(),t}};Gu.ResultSpace=jO;var N8e=class extends jO{constructor(){super(...arguments);this.segmentType="reduce"}};Gu.ReduceFieldSpace=N8e;var L8e=class extends jO{constructor(){super(...arguments);this.segmentType="project"}canContain(e){if(typeof e!="string"){if(ioe.isFilteredAliasedName(e))return!0;if(e.type==="turtle")return this.log("Cannot nest queries in project"),!1;if(e.aggregate)return this.log("Cannot add aggregate measures to project"),!1}return!0}};Gu.ProjectFieldSpace=L8e;var k8e=class extends jO{constructor(){super(...arguments);this.segmentType="index",this.fieldList=new Set}addReference(e){e.getField(this.exprSpace).found&&this.fieldList.add(e.refString)}addWild(e){this.fieldList.add(e.refString)}getPipeSegment(e){if(e&&e.fields)for(let t of e.fields)typeof t=="string"&&this.fieldList.add(t);return this.isComplete(),{type:"index",fields:Array.from(this.fieldList.values())}}};Gu.IndexFieldSpace=k8e;var I8e=class{constructor(e,t){this.realFS=e,this.circular=t,this.type="fieldSpace",this.foundCircle=!1}structDef(){return this.realFS.structDef()}emptyStructDef(){return this.realFS.emptyStructDef()}lookup(e){return e[0]&&e[0].refString===this.circular.defineName?(this.foundCircle=!0,{error:`Circular reference to '${this.circular.defineName}' in definition`,found:void 0}):this.realFS.lookup(e)}dialectObj(){return this.realFS.dialectObj()}whenComplete(e){this.realFS.whenComplete(e)}};Gu.DefSpace=I8e});var M8e=Ae(Hw=>{"use strict";m();var D0t=Hw&&Hw.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hw,"__esModule",{value:!0});Hw.makeSQLBlock=void 0;var O0t=D0t(ite());function R0t(n){let e={type:"sqlBlock",name:`md5:/${n.connection||"$default"}//${(0,O0t.default)(n.select)}`,select:n.select};return n.before&&(e.before=n.before),n.after&&(e.after=n.after),n.connection&&(e.connection=n.connection),e}Hw.makeSQLBlock=R0t});var T$=Ae(q0=>{"use strict";m();Object.defineProperty(q0,"__esModule",{value:!0});q0.timeLiteral=q0.timeResult=q0.resolution=q0.castDateToTimestamp=q0.castTimestampToDate=q0.castTo=q0.timeOffset=void 0;function N0t(n,e,t,r,i){return[{type:"dialect",function:"delta",base:{valueType:n,value:e},op:t,delta:r,units:i}]}q0.timeOffset=N0t;function L0t(n,e,t=!1){return[{type:"dialect",function:"cast",dstType:n,expr:e,safe:t}]}q0.castTo=L0t;function k0t(n,e=!1){return[{type:"dialect",function:"cast",dstType:"date",srcType:"timestamp",expr:n,safe:e}]}q0.castTimestampToDate=k0t;function I0t(n,e=!1){return[{type:"dialect",function:"cast",dstType:"timestamp",srcType:"date",expr:n,safe:e}]}q0.castDateToTimestamp=I0t;function M0t(n){switch(n){case"hour":case"minute":case"second":case"microsecond":case"millisecond":return"timestamp"}return"date"}q0.resolution=M0t;function P0t(n,e){return e?{...n,timeframe:e}:n}q0.timeResult=P0t;function B0t(n,e,t){return[{type:"dialect",function:"timeLiteral",literal:n,literalType:e,timezone:t}]}q0.timeLiteral=B0t});var cSe=Ae(cr=>{"use strict";m();var j0t=cr&&cr.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),q0t=cr&&cr.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),U0t=cr&&cr.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&j0t(e,n,t);return q0t(e,n),e};Object.defineProperty(cr,"__esModule",{value:!0});cr.FullQuery=cr.TurtleHeadedPipe=cr.ExistingQuery=cr.Index=cr.Turtles=cr.Limit=cr.Ordering=cr.OrderBy=cr.WildcardFieldReference=cr.RenameField=cr.PrimaryKey=cr.Document=cr.QOPDesc=cr.Aggregate=cr.GroupBy=cr.FieldListEdit=cr.ProjectStatement=cr.isFieldCollectionMember=cr.FieldReferences=cr.FieldReference=cr.FieldName=cr.Renames=cr.Dimensions=cr.Measures=cr.DeclareFields=cr.Filter=cr.FilterElement=cr.ExploreDesc=cr.isExploreProperty=cr.isQueryProperty=cr.Joins=cr.ExpressionJoin=cr.KeyJoin=cr.Join=cr.QuerySource=cr.SQLSource=cr.NamedSource=cr.ModelEntryReference=cr.IsValueBlock=cr.TableSource=cr.RefinedExplore=cr.DefineSourceList=cr.DefineExplore=cr.isDocStatement=cr.Mallobj=cr.isExploreField=cr.Unimplemented=cr.ListOf=cr.MalloyElement=cr.ErrorFactory=void 0;cr.SampleProperty=cr.SQLStatement=cr.ConstantParameter=cr.HasParameter=cr.ImportStatement=cr.JSONStructDef=cr.JSONElement=cr.Top=cr.AnonymousQuery=cr.DefineQuery=cr.DefineQueryList=cr.isQueryElement=cr.Nests=cr.isNestedQuery=cr.NestDefinition=cr.NestRefinement=cr.NestReference=cr.TurtleDecl=void 0;var P8e=$F(),yy=U0t(xm()),$0t=lte(),Cx=w$(),ob=d4(),z0t=S$(),H0t=M8e(),V0t=M5(),W0t=T$(),B8e={type:"struct",name:"~malformed~",dialect:"~malformed~",structSource:{type:"table",tablePath:"//undefined_error_table_path"},structRelationship:{type:"basetable",connectionName:"//undefined_error_connection"},fields:[]},Fd=class{static get structDef(){return{...B8e}}static isErrorStructDef(e){return e.name.includes(B8e.name)}static get query(){return{structRef:Fd.structDef,pipeline:[]}}static get reduceSegment(){return{type:"reduce",fields:[]}}static get projectSegment(){return{type:"project",fields:[]}}static get indexSegment(){return{type:"index",fields:[]}}};cr.ErrorFactory=Fd;function aoe(n,e,t){if(!Fd.isErrorStructDef(e))try{return $0t.Segment.nextStructDef(e,t)}catch(i){n.log(`INTERNAL ERROR model/Segment.nextStructDef: ${i.message}
QUERY: ${(0,V0t.inspect)(t,{breakLength:72,depth:1/0})}`)}return{...Fd.structDef,dialect:e.dialect}}var ca=class{constructor(e){this.children={},this.parent=null,this.logged=new Set,e&&this.has(e)}has(e){for(let t in e){let r=e[t];if(r!==void 0)if(this.children[t]=r,r instanceof ca)r.parent=this;else for(let i of r)i.parent=this}}get location(){return this.codeLocation?this.codeLocation:this.parent?this.parent.location:{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}set location(e){this.codeLocation=e}namespace(){if(this instanceof foe)return this;if(this.parent)return this.parent.namespace();throw new Error("INTERNAL ERROR: Translation without document scope")}modelEntry(e){var t;let r=e instanceof ab?e.name:e,i=(t=this.namespace())===null||t===void 0?void 0:t.getEntry(r);return e instanceof ab&&((i==null?void 0:i.entry.type)==="query"?this.addReference({type:"queryReference",text:r,definition:i.entry,location:e.location}):(i==null?void 0:i.entry.type)==="struct"?this.addReference({type:"exploreReference",text:r,definition:i.entry,location:e.location}):(i==null?void 0:i.entry.type)==="sqlBlock"&&this.addReference({type:"sqlBlockReference",text:r,definition:i.entry,location:e.location})),i}translator(){if(this.xlate)return this.xlate;if(this.parent)return this.parent.translator()}setTranslator(e){this.xlate=e}addReference(e){var t;(t=this.translator())===null||t===void 0||t.addReference(e)}get sourceURL(){let e=this.translator();return(e==null?void 0:e.sourceURL)||"(missing)"}errorsExist(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.logger;return t?t.hasErrors():!0}log(e){if(this.codeLocation){if(this.logged.has(e))return;this.logged.add(e)}let t=this.translator(),r={at:this.location,message:e},i=t==null?void 0:t.root.logger;if(i){i.log(r);return}throw new Error(`Translation error (without error reporter):
${JSON.stringify(r,null,2)}`)}toString(){return this.stringify("",0)}stringify(e,t){let r=" ".repeat(t),i=`${r}${e}<${this.elementType}>${this.varInfo()}`;for(let s of Object.keys(this.children)){let o=this.children[s];o instanceof ca?i+=`
`+o.stringify(`${s}: `,t+2):(i+=`
${r}  ${s}: [`,o.length>0&&(i+=`
`+o.map(a=>a.stringify("",t+4)).join(`
`)+`
${r}  `),i+="]")}return i}walk(e){e(this);for(let t of Object.keys(this.children)){let r=this.children[t];if(r instanceof ca)r.walk(e);else for(let i of r)i.walk(e)}}varInfo(){let e="";for(let[t,r]of Object.entries(this))t!=="elementType"&&(typeof r=="boolean"?e+=r?` ${t}`:` !${t}`:(typeof r=="string"||typeof r=="number")&&(e+=` ${t}=${r}`));return e}internalError(e){return this.log(`INTERNAL ERROR IN TRANSLATION: ${e}`),new Error(e)}};cr.MalloyElement=ca;var Ef=class extends ca{constructor(e,t){super();this.elementType="genericElementList",this.elements=t,this.elementType==="genericElementList"&&(this.elementType=e),this.newContents()}newContents(){this.has({[this.elementType]:this.elements})}get list(){return this.elements}empty(){return this.elements.length===0}notEmpty(){return this.elements.length>0}push(...e){return this.elements.push(...e),this.newContents(),this.elements}};cr.ListOf=Ef;var j8e=class extends ca{constructor(){super(...arguments);this.elementType="unimplemented",this.reported=!1}};cr.Unimplemented=j8e;function Q0t(n,e){return n.fields.find(t=>(t.as||t.name)===e)}function G0t(n){return n instanceof ob.FieldDeclaration||n instanceof qO||n instanceof QO||n instanceof VO}function Y0t(n){return G0t(n)||n instanceof doe}cr.isExploreField=Y0t;var h4=class extends ca{structRef(){return this.structDef()}withParameters(e){let t=this.structDef();if(e){let r={...t.parameters||{}};for(let i of e){let s=i.parameter();r[s.name]=s}return{...t,parameters:r}}return t}};cr.Mallobj=h4;var q8e=class extends h4{constructor(e){super();this.fromRef=e,this.elementType="internalOnlyQueryHead"}structRef(){return this.fromRef}structDef(){if(yy.refIsStructDef(this.fromRef))return this.fromRef;let e=new F$(this.fromRef);return this.has({exploreReference:e}),e.structDef()}};function K0t(n){return n.execute!==void 0}cr.isDocStatement=K0t;var U8e=class extends ca{constructor(e,t,r,i){super({explore:t});if(this.name=e,this.mallobj=t,this.exported=r,this.elementType="defineExplore",i){this.parameters=[];for(let s of i)s instanceof P$?this.parameters.push(s):this.log(`Unexpected element type in define statement: ${s.elementType}`);this.has({parameters:this.parameters})}}execute(e){if(e.modelEntry(this.name))this.log(`Cannot redefine '${this.name}'`);else{let t=this.mallobj.withParameters(this.parameters);if(Fd.isErrorStructDef(t))return;e.setEntry(this.name,{entry:{...t,as:this.name,location:this.location},exported:this.exported})}}};cr.DefineExplore=U8e;var $8e=class extends Ef{constructor(e){super("defineSources",e);this.has({sourceList:e})}execute(e){for(let t of this.list)t.execute(e)}};cr.DefineSourceList=$8e;var z8e=class extends h4{constructor(e,t){super({source:e,refinement:t});this.source=e,this.refinement=t,this.elementType="refinedExplore"}structDef(){return this.withParameters([])}withParameters(e){let t,r,i=[],s=[];for(let _ of this.refinement.list){let E=_;_ instanceof L$?(t&&(t.log("Primary key already defined"),_.log("Primary key redefined")),t=_):_ instanceof N$?(r&&(r.log("Too many accept/except statements"),_.log("Too many accept/except statements")),r=_):_ instanceof m4||_ instanceof Vw||_ instanceof VO||_ instanceof D$?i.push(..._.list):_ instanceof p4?s.push(_):E.log(`Unexpected explore property: '${E.elementType}'`)}let o=(0,P8e.cloneDeep)(this.source.structDef());t&&(o.primaryKey=t.field.name);let a=Cx.DynamicSpace.filteredFrom(o,r);if(a.addField(...i),e&&a.addParameters(e),t){let _=t.field.getField(a);_.error&&t.log(_.error)}let l=a.structDef(),f=l.filterList||[],p=!1;for(let _ of s)for(let E of _.list){let O=E.filterExpression(a);O.aggregate?E.log("Can't use aggregate computations in top level filters"):(f.push(O),p=!0)}return p?{...l,filterList:f}:l}};cr.RefinedExplore=z8e;var H8e=class extends h4{constructor(e){super();this.name=e,this.elementType="tableSource"}structDef(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.schemaZone.getEntry(this.name),r=`Schema read failure for table '${this.name}'`;if(t){if(t.status=="present")return t.value.location=this.location,t.value.fields.forEach(i=>i.location=this.location),{...t.value,fields:t.value.fields.map(i=>({...i,location:this.location})),location:this.location};t.status=="error"&&(r=t.message.includes(this.name)?`'Schema error: ${t.message}`:`Schema error '${this.name}': ${t.message}`)}return this.log(r),Fd.structDef}};cr.TableSource=H8e;var uoe=class extends ca{constructor(e){super();this.isMap=e,this.elementType="isValueBlock",this.has(e)}};cr.IsValueBlock=uoe;var ab=class extends ca{constructor(e){super();this.name=e,this.elementType="modelEntryReference"}get refString(){return this.name}toString(){return this.refString}};cr.ModelEntryReference=ab;var F$=class extends h4{constructor(e,t={}){super();this.ref=e,this.elementType="namedSource",t&&Object.keys(t).length>0&&(this.isBlock=new uoe(t),this.has({parameterValues:this.isBlock})),e instanceof ab&&this.has({ref:e})}get refName(){return this.ref instanceof ab?this.ref.name:this.ref}structRef(){if(this.isBlock)return this.structDef();let e=this.modelEntry(this.ref);return e&&!e.exported?this.structDef():this.refName}modelStruct(){var e;let t=(e=this.modelEntry(this.ref))===null||e===void 0?void 0:e.entry;if(!t){let r=`Undefined source '${this.refName}'`;(this.ref instanceof ab?this.ref:this).log(r);return}if(t.type==="query"){this.log(`Must use 'from()' to explore query '${this.refName}`);return}else if(t.type==="sqlBlock"){this.log(`Must use 'from_sql()' to explore sql query '${this.refName}`);return}return{...t}}structDef(){var e;let t=this.modelStruct();if(!t){let s=Fd.structDef,o=`${this.refName}-undefined`;return s.name=s.name+o,s.dialect=s.dialect+o,s}let r={...t.parameters},i=((e=this.isBlock)===null||e===void 0?void 0:e.isMap)||{};for(let[s,o]of Object.entries(i)){let a=r[s];if(!a)this.log(`Value given for undeclared parameter '${s}`);else if(yy.isValueParameter(a))if(a.constant)o.log(`Cannot override constant parameter ${s}`);else{let l=o.constantValue(),f=l.value;l.dataType!==a.type&&(f=(0,W0t.castTo)(a.type,l.value,!0)),a.value=f}else a.condition=o.constantCondition(a.type).value}for(let s in t.parameters)yy.paramHasValue(r[s])||this.log(`Value not provided for required parameter ${s}`);return t}};cr.NamedSource=F$;var V8e=class extends F${constructor(){super(...arguments);this.elementType="sqlSource"}structRef(){return this.structDef()}modelStruct(){var e,t;let r=(e=this.modelEntry(this.ref))===null||e===void 0?void 0:e.entry;if(!r){this.log(`Undefined from_sql source '${this.refName}'`);return}if(r.type==="query"){this.log(`Cannot use 'from_sql()' to explore query '${this.refName}'`);return}else if(r.type==="struct"){this.log(`Cannot use 'from_sql()' to explore '${this.refName}'`);return}let i=(t=this.translator())===null||t===void 0?void 0:t.root.sqlQueryZone;if(!i){this.log(`Cant't look up schema for sql block '${this.refName}'`);return}if(r.type=="sqlBlock"){let s=r.name,o=i.getEntry(s),a=`Schema read failure for sql query '${this.refName}'`;if(o){if(o.status=="present"){let l=o.value;return{...l,fields:l.fields.map(f=>({...f,location:r.location}))}}o.status=="error"&&(a=o.message.includes(this.refName)?`'Schema error: ${o.message}`:`Schema error '${this.refName}': ${o.message}`),this.log(a)}}else this.log(`Mis-typed definition for'${this.refName}'`)}};cr.SQLSource=V8e;var W8e=class extends h4{constructor(e){super({query:e});this.query=e,this.elementType="querySource"}structDef(){let e=this.query.queryComp(),t=e.outputStruct;return t.structSource={type:"query",query:e.query},t}};cr.QuerySource=W8e;var qO=class extends ca{};cr.Join=qO;var Q8e=class extends qO{constructor(e,t,r){super({name:e,source:t,keyExpr:r});this.name=e,this.source=t,this.keyExpr=r,this.elementType="joinOnKey"}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:"one",onExpression:["('join fixup'='not done yet')"]},location:this.location};return e.structSource.type==="query"?t.name=this.name.refString:t.as=this.name.refString,t}fixupJoinOn(e,t){let r=this.keyExpr.getExpression(e);if(t.primaryKey){let i=t.fields.find(s=>(s.as||s.name)===t.primaryKey);if(i)if(i.type===r.dataType){t.structRelationship={type:"one",onExpression:[{type:"field",path:`${this.name}.${t.primaryKey}`},"=",...r.value]};return}else this.log(`join_one: with type mismatch with primary key: ${r.dataType}/${i.type}`);else this.log(`join_one: Primary key '${i}' not found in source`)}else this.log("join_one: Cannot use with unless source has a primary key")}};cr.KeyJoin=Q8e;var G8e=class extends qO{constructor(e,t){super({name:e,source:t});this.name=e,this.source=t,this.elementType="joinOnExpr",this.joinType="one"}set joinOn(e){this.expr=e,this.has({on:e})}get joinOn(){return this.expr}fixupJoinOn(e,t){if(this.expr==null)return;let r=this.expr.getExpression(e);if(r.dataType!=="boolean"){this.log("join conditions must be boolean expressions");return}let i=t.structRelationship;yy.isJoinOn(i)&&(i.onExpression=(0,ob.compressExpr)(r.value))}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:this.joinType},location:this.location};return e.structSource.type==="query"?(t.name=this.name.refString,delete t.as):t.as=this.name.refString,t}};cr.ExpressionJoin=G8e;var Vw=class extends Ef{constructor(e){super("joinList",e)}};cr.Joins=Vw;function J0t(n){return n instanceof zO||n instanceof YO||n instanceof HO||n instanceof p4||n instanceof WO||n instanceof B$||n instanceof Vw||n instanceof m4||n instanceof UO||n instanceof $O||n instanceof GO||I$(n)||n instanceof Ww}cr.isQueryProperty=J0t;function X0t(n){return n instanceof p4||n instanceof Vw||n instanceof m4||n instanceof N$||n instanceof D$||n instanceof L$||n instanceof VO}cr.isExploreProperty=X0t;var Y8e=class extends Ef{constructor(e){super("exploreDesc",e)}};cr.ExploreDesc=Y8e;var K8e=class extends ca{constructor(e,t){super({expr:e});this.expr=e,this.exprSrc=t,this.elementType="filterElement"}filterExpression(e){let t=this.expr.getExpression(e);if(t.dataType!=="boolean")return this.expr.log("Filter expression must have boolean value"),{code:this.exprSrc,expression:["_FILTER_MUST_RETURN_BOOLEAN_"]};let r={code:this.exprSrc,expression:(0,ob.compressExpr)(t.value)};return t.aggregate&&(r.aggregate=!0),r}};cr.FilterElement=K8e;var p4=class extends Ef{constructor(e=[]){super("filterElements",e);this.elementType="filter"}set having(e){this.elementType=e?"having":"where"}getFilterList(e){let t=[];for(let r of this.list){let i=r.filterExpression(e);if(this.havingClause!==void 0){if(this.havingClause){if(!i.aggregate){r.log("Aggregate expression expected in HAVING filter");continue}}else if(i.aggregate){r.log("Aggregate expression not allowed in WHERE");continue}}t.push(i)}return t}};cr.Filter=p4;var m4=class extends Ef{constructor(e,t="declare"){super(t,e)}};cr.DeclareFields=m4;var loe=class extends m4{constructor(e){super(e,"measure");for(let t of e)t.isMeasure=!0}};cr.Measures=loe;var J8e=class extends m4{constructor(e){super(e,"dimension");for(let t of e)t.isMeasure=!1}};cr.Dimensions=J8e;var D$=class extends Ef{constructor(e){super("renameField",e)}};cr.Renames=D$;var O$=class extends ca{constructor(e){super();this.name=e,this.elementType="fieldName"}get refString(){return this.name}toString(){return this.refString}getField(e){return e.lookup([this])}};cr.FieldName=O$;var R$=class extends Ef{constructor(e){super("fieldReference",e);this.elementType="fieldReference"}get refString(){return this.list.map(e=>e.refString).join(".")}get outputName(){return this.list[this.list.length-1].refString}get sourceString(){if(this.list.length>1)return this.list.slice(0,-1).map(e=>e.refString).join(".")}get nameString(){return this.list[this.list.length-1].refString}getField(e){return e.lookup(this.list)}};cr.FieldReference=R$;var X8e=class extends Ef{constructor(e){super("fieldReferenceList",e)}};cr.FieldReferences=X8e;function Z0t(n){return n instanceof R$||n instanceof hoe||n instanceof ob.FieldDeclaration}cr.isFieldCollectionMember=Z0t;var UO=class extends Ef{constructor(e){super("fieldCollection",e)}};cr.ProjectStatement=UO;var N$=class extends ca{constructor(e,t){super({refs:t});this.edit=e,this.refs=t,this.elementType="fieldListEdit"}};cr.FieldListEdit=N$;var Ww=class extends Ef{constructor(e){super("groupBy",e);for(let t of e)t instanceof ob.FieldDeclaration&&(t.isMeasure=!1)}};cr.GroupBy=Ww;var $O=class extends Ef{constructor(e){super("aggregate",e);for(let t of e)t instanceof ob.FieldDeclaration&&(t.isMeasure=!0)}};cr.Aggregate=$O;var coe=class{constructor(e){this.filters=[],this.resultFS=this.getResultSpace(e),this.inputFS=this.resultFS.exprSpace}getResultSpace(e){return new Cx.ReduceFieldSpace(e)}execute(e){if(e instanceof Ww||e instanceof $O||e instanceof GO)this.resultFS.addQueryItems(...e.list);else if(I$(e))this.resultFS.addQueryItems(e);else if(e instanceof p4)this.filters.push(...e.getFilterList(this.inputFS));else if(e instanceof YO)this.limit?e.log("Query operation already limited"):this.limit=e.limit,e.by&&(this.order?e.log("Query operation is already sorted"):this.order=e);else if(e instanceof HO)this.limit?e.log("Query operation already limited"):this.limit=e.limit;else if(e instanceof zO)this.order?e.log("Query operation already sorted"):this.order=e;else if(e instanceof Vw||e instanceof m4)for(let t of e.list)this.inputFS.extendSource(t)}refineFrom(e,t){if(e&&e.type!=="index"&&(this.order||(e.orderBy?t.orderBy=e.orderBy:e.by&&(t.by=e.by)),!this.limit&&e.limit&&(t.limit=e.limit)),this.limit&&(t.limit=this.limit),this.order instanceof YO){let i=this.order.getBy(this.inputFS);i&&(t.by=i)}this.order instanceof zO&&(t.orderBy=this.order.getOrderBy(this.inputFS));let r=(e==null?void 0:e.filterList)||[];this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters])}finalize(e){let t;if(e)if(yy.isReduceSegment(e))t=e;else return this.inputFS.result.log(`Can't refine reduce with ${e.type}`),Fd.reduceSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}},Z8e=class extends coe{getResultSpace(e){return new Cx.ProjectFieldSpace(e)}execute(e){e instanceof UO?this.resultFS.addMembers(e.list):e instanceof p4&&e.elementType==="having"||e instanceof loe||e instanceof Ww?e.log("Illegal statement in a project query operation"):super.execute(e)}finalize(e){let t;if(e)if(yy.isProjectSegment(e))t=e;else return this.resultFS.log(`Can't refine project with ${e.type}`),Fd.projectSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}},eSe=class{constructor(e){this.filters=[],this.resultFS=new Cx.IndexFieldSpace(e),this.inputFS=this.resultFS.exprSpace}execute(e){e instanceof p4?this.filters.push(...e.getFilterList(this.inputFS)):e instanceof HO?(this.limit&&this.limit.log("Ignored, too many limit: statements"),this.limit=e):e instanceof WO?(this.resultFS.addMembers(e.fields.list),e.weightBy&&(this.indexOn&&this.indexOn.log("Ignoring previous BY"),this.indexOn=e.weightBy)):e instanceof B$?this.sample=e.sampling():e.log("Not legal in an index query operation")}finalize(e){if(e&&e.type!=="index")return this.resultFS.log(`Can't refine index with ${e.type}`),Fd.indexSegment;let t=this.resultFS.getPipeSegment(e),r=(e==null?void 0:e.filterList)||[];return this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters]),(e==null?void 0:e.limit)&&(t.limit=e.limit),this.limit&&(t.limit=this.limit.limit),this.indexOn&&(t.weightMeasure=this.indexOn.refString),(e==null?void 0:e.sample)&&(t.sample=e.sample),this.sample&&(t.sample=this.sample),t}},tSe=class extends Ef{constructor(e){super("queryOperator",e);this.opType="grouping"}computeType(){let e;this.refineThis&&(this.refineThis.type=="reduce"?e="grouping":e=this.refineThis.type);let t=!1;for(let i of this.list)i instanceof WO?(e||(e="index"),e!=="index"&&i.log(`index: not legal in ${e} query`)):i instanceof GO||I$(i)||i instanceof Ww?(e||(e="grouping"),t=!0,(e==="project"||e==="index")&&i.log(`group_by: not legal in ${e} query`)):i instanceof $O?(e||(e="aggregate"),(e==="project"||e==="index")&&i.log(`aggregate: not legal in ${e} query`)):i instanceof UO&&(e||(e="project"),e!=="project"&&i.log(`project: not legal in ${e} query`));e==="aggregate"&&t&&(e="grouping"),e||this.log("Can't determine query type (group_by/aggregate/nest,project,index)");let r=e||"grouping";return this.opType=r,r}refineFrom(e){this.refineThis=e}getExecutor(e){switch(this.computeType()){case"aggregate":case"grouping":return new coe(e);case"project":return new Z8e(e);case"index":return new eSe(e)}}getOp(e,t){let r=this.getExecutor(e);(t==null?void 0:t.nestedInQuerySpace)&&(r.inputFS.nestParent=t.nestedInQuerySpace),r.resultFS.astEl=this;for(let s of this.list)r.execute(s);let i=r.finalize(this.refineThis);return{segment:i,outputSpace:()=>new Cx.DynamicSpace(aoe(this,e.structDef(),i))}}};cr.QOPDesc=tSe;var foe=class extends ca{constructor(e){super({statements:e});this.statements=e,this.elementType="document",this.documentModel={},this.queryList=[],this.sqlBlocks=[]}getModelDef(e){if(this.documentModel={},this.queryList=[],this.sqlBlocks=[],e)for(let r in e.contents){let i=e.contents[r];if(i.type=="struct"){let s=e.exports.includes(r);this.setEntry(r,{entry:i,exported:s})}}for(let r of this.statements){if(this.errorsExist())break;r.execute(this)}let t={name:"",exports:[],contents:{}};for(let r in this.documentModel){let i=this.documentModel[r].entry;(i.type==="struct"||i.type==="query")&&(this.documentModel[r].exported&&t.exports.push(r),t.contents[r]=(0,P8e.cloneDeep)(i))}return t}defineSQL(e,t){let r={...e,as:`$${this.sqlBlocks.length}`};if(t){if(this.getEntry(t))return!1;r.as=t,this.setEntry(t,{entry:r})}return this.sqlBlocks.push(r),!0}getEntry(e){return this.documentModel[e]}setEntry(e,t){this.documentModel[e]=t}};cr.Document=foe;var L$=class extends ca{constructor(e){super({field:e});this.field=e,this.elementType="primary key"}};cr.PrimaryKey=L$;var doe=class extends ca{constructor(e,t){super();this.newName=e,this.oldName=t,this.elementType="renameField",this.has({oldName:t})}};cr.RenameField=doe;var hoe=class extends ca{constructor(e,t){super();this.joinPath=e,this.star=t,this.elementType="wildcardFieldReference",this.has({joinPath:e})}getFieldDef(){throw this.internalError("fielddef request from wildcard reference")}get refString(){return this.joinPath?`${this.joinPath.refString}.${this.star}`:this.star}};cr.WildcardFieldReference=hoe;var nSe=class extends ca{constructor(e,t){super();this.field=e,this.dir=t,this.elementType="orderBy",e instanceof O$&&this.has({field:e})}get modelField(){return typeof this.field=="number"?this.field:this.field.refString}getOrderBy(e){let t={field:this.modelField};return this.dir&&(t.dir=this.dir),t}};cr.OrderBy=nSe;var zO=class extends Ef{constructor(e){super("ordering",e)}getOrderBy(e){return this.list.map(t=>t.getOrderBy(e))}};cr.Ordering=zO;var HO=class extends ca{constructor(e){super();this.limit=e,this.elementType="limit"}};cr.Limit=HO;var VO=class extends Ef{constructor(e){super("turtleDeclarationList",e)}};cr.Turtles=VO;var WO=class extends ca{constructor(e){super({fields:e});this.fields=e,this.elementType="index"}useWeight(e){this.has({weightBy:e}),this.weightBy=e}};cr.Index=WO;function edt(n){return!!(n&&typeof n!="string"&&n.type==="turtle")}var poe=class extends ca{constructor(){super(...arguments);this.elementType="pipelineDesc",this.qops=[]}refineHead(e){this.headRefinement=e,this.has({headRefinement:e})}addSegments(...e){this.qops.push(...e),this.has({segments:this.qops})}appendOps(e,t){let r=t,i;for(let s of this.qops){let o=e.length==0,a=s.getOp(r,o?this:null);i==null&&(i=[...e]),i.push(a.segment),r=a.outputSpace()}return{opList:i||e,structDef:r.structDef()}}refinePipeline(e,t){if(!this.headRefinement)return t;let r=[];if(t.pipeHead){let{pipeline:s}=this.expandTurtle(t.pipeHead.name,e.structDef());r.push(...s)}r.push(...t.pipeline);let i=r[0];return i&&this.headRefinement.refineFrom(i),r[0]=this.headRefinement.getOp(e,this).segment,{pipeline:r}}expandTurtle(e,t){let r=Q0t(t,e);if(!r)this.log(`Query '${e}' is not defined in source`);else if(r.type!=="turtle")this.log(`'${e}' is not a query`);else return{pipeline:r.pipeline,location:r.location};return{pipeline:[],location:void 0}}getOutputStruct(e,t){for(let r of t)e=aoe(this,e,r);return e}},moe=class extends poe{set head(e){this._head=e,this.has({head:e})}get head(){return this._head}queryComp(){if(!this.head)throw this.internalError("can't make query from nameless query");let e=this.modelEntry(this.head),t=e==null?void 0:e.entry,r=function(){return{outputStruct:Fd.structDef,query:Fd.query}};if(!t)return this.log(`Reference to undefined query '${this.head}'`),r();if(t.type!=="query")return this.log(`Illegal reference to '${this.head}', query expected`),r();let i=new q8e(t.structRef);this.has({queryHead:i});let s=i.structDef(),o=new Cx.DynamicSpace(s),a=this.refinePipeline(o,t),l=this.getOutputStruct(s,a.pipeline),f=this.appendOps(a.pipeline,new Cx.DynamicSpace(l)),p={...a,pipeline:f.opList},_={type:"query",...p,structRef:i.structRef(),location:this.location};return{outputStruct:f.structDef,query:_}}query(){return this.queryComp().query}};cr.ExistingQuery=moe;var k$=class extends poe{set turtleName(e){this._turtleName=e,this.has({turtleName:e})}get turtleName(){return this._turtleName}};cr.TurtleHeadedPipe=k$;var xoe=class extends k${constructor(e){super({explore:e});this.explore=e}queryComp(){let e=this.explore.structRef(),t={type:"query",structRef:e,pipeline:[],location:this.location},r=yy.refIsStructDef(e)?e:this.explore.structDef(),i=new Cx.DynamicSpace(r);if(Fd.isErrorStructDef(r))return{outputStruct:r,query:{structRef:e,pipeline:[]}};if(this.turtleName){let{error:o}=this.turtleName.getField(i);o&&this.log(o);let a=this.turtleName.refString,{pipeline:l,location:f}=this.expandTurtle(a,r);t.location=f;let p=this.refinePipeline(i,{pipeline:l}).pipeline;this.headRefinement?t.pipeline=p:t.pipeHead={name:a};let _=this.getOutputStruct(r,p);i=new Cx.DynamicSpace(_)}let s=this.appendOps(t.pipeline,i);return t.pipeline=s.opList,{outputStruct:s.structDef,query:t}}query(){return this.queryComp().query}};cr.FullQuery=xoe;var QO=class extends k${constructor(e){super();this.name=e}getPipeline(e){let t={pipeline:[]};if(this.turtleName){let s=this.turtleName.getField(e),o=!0;if(s.error)this.log(s.error),o=!1;else if(s.found instanceof z0t.QueryField){let a=s.found.getQueryFieldDef(e);if(edt(a)){let l=this.refinePipeline(e,a);t.pipeline=[...l.pipeline],o=!1}}o&&this.log(`Expected '${this.turtleName}' to be a query`)}else if(this.headRefinement)throw this.internalError("Can't refine the head of a turtle in its definition");let r=e;if(t.pipeline.length>0){let s=r.structDef();for(let o of t.pipeline)s=aoe(this,s,o);r=new Cx.DynamicSpace(s)}let i=this.appendOps(t.pipeline,r);return t.pipeline=i.opList,t}getFieldDef(e,t){t&&(this.nestedInQuerySpace=t);let r=this.getPipeline(e);return{type:"turtle",name:this.name,...r,location:this.location}}};cr.TurtleDecl=QO;var goe=class extends R${constructor(e){super([e]);this.name=e,this.elementType="nestReference"}};cr.NestReference=goe;var yoe=class extends QO{constructor(e){super(e.refString);this.elementType="nestRefinement",this.turtleName=e}};cr.NestRefinement=yoe;var voe=class extends QO{constructor(e){super(e);this.elementType="nestDefinition"}};cr.NestDefinition=voe;function I$(n){return n instanceof yoe||n instanceof goe||n instanceof voe}cr.isNestedQuery=I$;var GO=class extends Ef{constructor(e){super("nestedQueries",e)}};cr.Nests=GO;function tdt(n){return n instanceof xoe||n instanceof moe}cr.isQueryElement=tdt;var rSe=class extends Ef{constructor(e){super("defineQueries",e);this.has({queryList:e})}execute(e){for(let t of this.list)t.execute(e)}};cr.DefineQueryList=rSe;var iSe=class extends ca{constructor(e,t){super({queryDetails:t});this.name=e,this.queryDetails=t,this.elementType="defineQuery"}execute(e){let t={...this.queryDetails.query(),type:"query",name:this.name,location:this.location},r=!1;e.setEntry(this.name,{entry:t,exported:r})}};cr.DefineQuery=iSe;var sSe=class extends ca{constructor(e){super();this.theQuery=e,this.elementType="anonymousQuery",this.has({query:e})}execute(e){let t=this.theQuery.query();e.queryList.push(t)}};cr.AnonymousQuery=sSe;var YO=class extends ca{constructor(e,t){super();this.limit=e,this.by=t,this.elementType="top",this.has({by:t})}getBy(e){if(this.by){if(this.by instanceof O$)return{by:"name",name:this.by.refString};{let t=this.by.getExpression(e);return t.aggregate||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,ob.compressExpr)(t.value)}}}}};cr.Top=YO;var oSe=class extends ca{constructor(e){super();this.elementType="jsonElement";try{this.value=JSON.parse(e)}catch{this.log("JSON syntax error"),this.value=void 0}}};cr.JSONElement=oSe;var M$=class extends h4{constructor(e){super();this.struct=e,this.elementType="jsonStructDef"}static fromJSON(e){let t=e.value;if(t&&t.type==="struct"&&t.structRelationship&&t.structSource)return new M$(t)}structDef(){return this.struct}};cr.JSONStructDef=M$;var aSe=class extends ca{constructor(e,t){super();this.url=e,this.elementType="import statement";try{this.fullURL=decodeURI(new URL(e,t).toString())}catch{this.log("Invalid URI in import statement")}}execute(e){let t=this.translator();if(!t)this.log("Cannot import without translation context");else if(this.fullURL){let r=t.root.importZone.getEntry(this.fullURL);if(r.status==="present"){let i=t.getChildExports(this.fullURL);for(let s in i)e.setEntry(s,{entry:i[s],exported:!1})}else r.status==="error"?this.log(`import failed: '${r.message}'`):this.log(`import failed with status: '${r.status}'`)}}};cr.ImportStatement=aSe;var P$=class extends ca{constructor(e){super();this.elementType="hasParameter",this.name=e.name,this.isCondition=e.isCondition,e.type&&yy.isAtomicFieldType(e.type)&&(this.type=e.type),e.default&&(this.default=e.default,this.has({default:this.default}))}parameter(){var e,t;let r=this.name,i=this.type||"string";if(this.isCondition){let o=((e=this.default)===null||e===void 0?void 0:e.constantCondition(i).value)||null;return{type:i,name:r,condition:o}}return{value:((t=this.default)===null||t===void 0?void 0:t.constantValue().value)||null,type:i,name:this.name,constant:!1}}};cr.HasParameter=P$;var uSe=class extends P${constructor(e,t){super({name:e,isCondition:!1});this.value=t,this.has({value:t})}parameter(){let e=this.value.constantValue();return yy.isAtomicFieldType(e.dataType)?{value:e.value,type:e.dataType,name:this.name,constant:!0}:(this.log(`Unexpected expression type '${e.dataType}'`),{value:["XXX-type-mismatch-error-XXX"],type:"string",name:this.name,constant:!0})}};cr.ConstantParameter=uSe;var lSe=class extends ca{constructor(e){super();this.blockReq=e,this.elementType="sqlStatement"}sqlBlock(){let e=(0,H0t.makeSQLBlock)(this.blockReq);return e.location=this.location,e}execute(e){e.defineSQL(this.sqlBlock(),this.is)||this.log(`${this.is} already defined`)}};cr.SQLStatement=lSe;var B$=class extends ca{constructor(e){super();this.sample=e,this.elementType="sampleProperty"}sampling(){return this.sample}};cr.SampleProperty=B$});var pSe=Ae(Qw=>{"use strict";m();Object.defineProperty(Qw,"__esModule",{value:!0});Qw.nullsafeNot=Qw.applyBinary=void 0;var j$=xm(),Sf=d4();function ndt(n,e,t,r){if((0,Sf.isEquality)(t))return sdt(n,e,t,r);if((0,Sf.isComparison)(t))return odt(n,e,t,r);if(_oe(t,"+","-"))return adt(n,e,t,r);if(_oe(t,"*"))return hSe(n,e,t,r);if(_oe(t,"/")){let i=e.getExpression(n),s=r.getExpression(n);if(i.dataType!="number")e.log("Numerator for division must be a number");else if(s.dataType!="number")r.log("Denominator for division must be a number");else{let o={type:"dialect",function:"div",numerator:i.value,denominator:s.value};return{dataType:"number",aggregate:i.aggregate||s.aggregate,value:[o]}}return(0,Sf.errorFor)("divide type mismatch")}return e.log(`Canot use ${t} operator here`),(0,Sf.errorFor)("applybinary bad operator")}Qw.applyBinary=ndt;function _oe(n,...e){return e.includes(n)}function rdt(n,...e){for(let t of e)if(t.dataType!==n)return!1;return!0}function fSe(n,e){if(n.dataType==="string"){if(e.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:n.value,regexp:e.value[0].replace(/^r'/,"'")}]}else if(e.dataType==="string"&&n.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:e.value,regexp:n.value[0].replace(/^r'/,"'")}]}function idt(n,e,t){let r=e==="!="||e==="!~";if(n.dataType==="null"||t.dataType==="null"){let i=r?" NOT":"";return n.dataType!=="null"?[...n.value,` IS${i} NULL`]:t.dataType!=="null"?[...t.value,`IS${i} NULL`]:[r?"false":"true"]}}function dSe(n,e,t){if((0,j$.isTimeFieldType)(n.dataType)&&(0,j$.isTimeFieldType)(t.dataType)&&n.dataType!==t.dataType){let r=n.value,i=t.value;return n.dataType==="timestamp"?r=(0,Sf.castTimestampToDate)(r):i=(0,Sf.castTimestampToDate)(i),(0,Sf.compose)(r,e,i)}}function boe(n,e){return e===void 0||e==="!="||e==="!~"?(0,j$.mkExpr)`COALESCE(NOT(${n}),FALSE)`:n}Qw.nullsafeNot=boe;function sdt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=dSe(i,t,s)||(0,Sf.compose)(i.value,t,s.value);if(i.dataType!="unknown"&&s.dataType!="unknown")switch(t){case"~":case"!~":{if(i.dataType==="string"&&s.dataType==="string")o=(0,Sf.compose)(i.value,"LIKE",s.value);else{let a=fSe(i,s);if(a===void 0)throw new Sf.TypeMistmatch("Incompatible types for match('~') operator");o=a}o=boe(o,t);break}case"=":case"!=":{let a=idt(i,t,s);a?o=a:o=boe(fSe(i,s)||(0,Sf.compose)(i.value,"=",s.value),t);break}}return{dataType:"boolean",aggregate:i.aggregate||s.aggregate,value:o}}function odt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=i.aggregate||s.aggregate,a=dSe(i,t,s)||(0,Sf.compose)(i.value,t,s.value);return{dataType:"boolean",aggregate:o,value:a}}function hSe(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=i.aggregate||s.aggregate;return rdt("number",i,s)?{dataType:"number",aggregate:o,value:(0,Sf.compose)(i.value,t,s.value)}:(e.log(`Non numeric('${i.dataType},${s.dataType}') value with '${t}'`),(0,Sf.errorFor)("numbers required"))}function adt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n);if((0,j$.isTimeFieldType)(i.dataType)){let o=r;if(s.dataType!=="duration")if((0,Sf.isGranularResult)(i))o=new Sf.ExprDuration(r,i.timeframe);else if(i.dataType==="date")o=new Sf.ExprDuration(r,"day");else return e.log(`Can not offset time by '${s.dataType}'`),(0,Sf.errorFor)(`time plus ${s.dataType}`);return o.apply(n,t,e)}return hSe(n,e,t,r)}});var JSe=Ae(Oi=>{"use strict";m();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.Pick=Oi.PickWhen=Oi.Range=Oi.TopBy=Oi.ExprCast=Oi.isCastType=Oi.ExprFilter=Oi.ExprCase=Oi.WhenClause=Oi.ExprUngroup=Oi.ExprSum=Oi.ExprAvg=Oi.ExprCount=Oi.ExprCountDistinct=Oi.ExprMax=Oi.ExprMin=Oi.ExprAlternationTree=Oi.ExprMulDiv=Oi.ExprAddSub=Oi.BinaryNumeric=Oi.ExprMinus=Oi.ExprParens=Oi.ExprNULL=Oi.ExprIdReference=Oi.ExprLogicalOp=Oi.BinaryBoolean=Oi.Boolean=Oi.ExprNot=Oi.ExprTime=Oi.ExprRegEx=Oi.ExprNumber=Oi.ExprString=Oi.TypeMistmatch=Oi.FieldDeclaration=Oi.ConstantSubExpression=Oi.ExpressionDef=void 0;var q$=xm(),U$=w$(),ci=d4(),mSe=pSe(),xSe=S$(),udt=T$(),uu=class extends ci.MalloyElement{constructor(){super(...arguments);this.legalChildTypes=ci.FT.anyAtomicT}granular(){return!1}requestExpression(e){return this.getExpression(e)}defaultFieldName(){}typeCheck(e,t){return ci.FT.in(t,this.legalChildTypes)?!0:(e.log(`'${this.elementType}' Can't use type ${ci.FT.inspect(t)}`),!1)}apply(e,t,r){return(0,mSe.applyBinary)(e,r,t,this)}};Oi.ExpressionDef=uu;var gSe=class extends uu{constructor(e){super();this.refType=e,this.elementType="$"}getExpression(e){return{dataType:this.refType,value:[{type:"applyVal"}],aggregate:!1}}},ySe=class{constructor(){this.type="fieldSpace"}structDef(){throw new Error("ConstantFieldSpace cannot generate a structDef")}emptyStructDef(){throw new Error("ConstantFieldSpace cannot generate a structDef")}lookup(e){return{error:"Only constants allowed in parameter expressions",found:void 0}}dialectObj(){}whenComplete(e){e()}},vSe=class extends uu{constructor(e){super({expr:e});this.expr=e,this.elementType="constantExpression"}getExpression(e){return this.constantValue()}get constantFs(){return this.cfs||(this.cfs=new ySe),this.cfs}constantValue(){return this.expr.getExpression(this.constantFs)}constantCondition(e){let r=new ci.ExprCompare(new gSe(e),"=",this.expr).getExpression(this.constantFs);return{...r,value:(0,ci.compressExpr)(r.value)}}apply(e,t,r){return this.expr.apply(e,t,r)}requestExpression(e){return this.expr.requestExpression(e)}};Oi.ConstantSubExpression=vSe;var _Se=class extends ci.MalloyElement{constructor(e,t,r){super({expr:e});this.expr=e,this.defineName=t,this.exprSrc=r,this.elementType="fieldDeclaration"}fieldDef(e,t){return this.queryFieldDef(new U$.DefSpace(e,this),t)}queryFieldDef(e,t){let r;try{r=this.expr.getExpression(e)}catch(a){return this.log(`Cannot define '${t}', ${a.message}`),{name:`error_defining_${t}`,type:"string"}}let i=(0,ci.compressExpr)(r.value),s=r.dataType;if((0,q$.isAtomicFieldType)(s)){let a={name:t,type:s,location:this.location};return i.length>0&&(a.e=i),r.aggregate&&(a.aggregate=!0),this.exprSrc&&(a.code=this.exprSrc),(0,ci.isGranularResult)(r)&&a.type==="timestamp"&&(a.timeframe=r.timeframe),a}if(!(e instanceof U$.DefSpace&&e.foundCircle))if(r.dataType=="unknown")this.log(`Cannot define '${t}', value has unknown type`);else{let a=ci.FT.inspect(r);this.log(`Cannot define '${t}', unexpected type: ${a}`)}return{name:`error_defining_${t}`,type:"string"}}};Oi.FieldDeclaration=_Se;var bSe=class extends Error{};Oi.TypeMistmatch=bSe;var ESe=class extends uu{constructor(e){super();this.value=e,this.elementType="string literal"}getExpression(e){return{...ci.FT.stringT,value:[this.value]}}};Oi.ExprString=ESe;var SSe=class extends uu{constructor(e){super();this.n=e,this.elementType="numeric literal"}getExpression(e){return this.constantExpression()}constantExpression(){return{...ci.FT.numberT,value:[this.n]}}};Oi.ExprNumber=SSe;var wSe=class extends uu{constructor(e){super();this.regex=e,this.elementType="regular expression literal"}getExpression(){return{dataType:"regular expression",aggregate:!1,value:[`r'${this.regex}'`]}}};Oi.ExprRegEx=wSe;var $$=class extends uu{constructor(e,t,r=!1){super();this.elementType="timestampOrDate",this.elementType=e,this.translationValue={dataType:e,aggregate:r,value:typeof t=="string"?[t]:t}}getExpression(e){return this.translationValue}static fromValue(e,t){let r=t.value;if(e!=t.dataType){let i={type:"dialect",function:"cast",safe:!1,dstType:e,expr:t.value};(0,q$.isTimeFieldType)(t.dataType)&&(i.srcType=t.dataType),r=(0,ci.compressExpr)([i])}return new $$(e,r,t.aggregate)}};Oi.ExprTime=$$;var CSe=class extends uu{constructor(e){super({expr:e});this.expr=e}},ASe=class extends CSe{constructor(e){super(e);this.elementType="not",this.legalChildTypes=[ci.FT.boolT,ci.FT.nullT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?{...t,dataType:"boolean",value:(0,mSe.nullsafeNot)(t.value)}:(0,ci.errorFor)("not requires boolean")}};Oi.ExprNot=ASe;var TSe=class extends uu{constructor(e){super();this.value=e,this.elementType="boolean literal"}getExpression(){return{...ci.FT.boolT,value:[this.value]}}};Oi.Boolean=TSe;var z$=class extends uu{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="abstract boolean binary",this.legalChildTypes=[ci.FT.boolT]}getExpression(e){let t=this.left.getExpression(e),r=this.right.getExpression(e);return this.typeCheck(this.left,t)&&this.typeCheck(this.right,r)?{dataType:"boolean",aggregate:t.aggregate||r.aggregate,value:(0,ci.compose)(t.value,this.op,r.value)}:(0,ci.errorFor)("logial required boolean")}};Oi.BinaryBoolean=z$;var FSe=class extends z${constructor(){super(...arguments);this.elementType="logical operator",this.legalChildTypes=[ci.FT.boolT,{...ci.FT.boolT,aggregate:!0}]}};Oi.ExprLogicalOp=FSe;var DSe=class extends uu{constructor(e){super();this.fieldReference=e,this.elementType="ExpressionIdReference",this.has({fieldPath:e})}get refString(){return this.fieldReference.refString}getExpression(e){let t=this.fieldReference.getField(e);if(t.found){let r=t.found.type(),i=r.type,s=!!r.aggregate,o=[{type:t.found.refType,path:this.refString}];return{dataType:i,aggregate:s,value:o}}return this.log(t.error),(0,ci.errorFor)(t.error)}apply(e,t,r){let i=this.fieldReference.getField(e).found;if(i instanceof xSe.SpaceParam){let s=i.parameter();if((0,q$.isConditionParameter)(s)){let o=r.getExpression(e);return{dataType:"boolean",aggregate:o.aggregate,value:[{type:"apply",value:o.value,to:[{type:"parameter",path:this.refString}]}]}}}return super.apply(e,t,r)}};Oi.ExprIdReference=DSe;var OSe=class extends uu{constructor(){super(...arguments);this.elementType="NULL"}getExpression(){return{dataType:"null",value:["NULL"],aggregate:!1}}};Oi.ExprNULL=OSe;var RSe=class extends uu{constructor(e){super({expr:e});this.expr=e,this.elementType="(expression)"}requestExpression(e){return this.expr.requestExpression(e)}getExpression(e){let t=this.expr.getExpression(e);return{...t,value:["(",...t.value,")"]}}};Oi.ExprParens=RSe;var NSe=class extends uu{constructor(e){super({expr:e});this.expr=e,this.elementType="unary minus",this.legalChildTypes=[ci.FT.numberT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?t.value.length>1?{...t,value:["-(",...t.value,")"]}:{...t,value:["-",...t.value]}:(0,ci.errorFor)("negate requires number")}};Oi.ExprMinus=NSe;var H$=class extends uu{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="numeric binary abstract",this.legalChildTypes=[ci.FT.numberT]}getExpression(e){return this.right.apply(e,this.op,this.left)}};Oi.BinaryNumeric=H$;var LSe=class extends H${constructor(){super(...arguments);this.elementType="+-"}};Oi.ExprAddSub=LSe;var kSe=class extends H${constructor(){super(...arguments);this.elementType="*/"}};Oi.ExprMulDiv=kSe;var ISe=class extends z${constructor(e,t,r){super(e,t,r);this.elementType="alternation",this.elementType=`${t}alternation${t}`}apply(e,t,r){let i=this.left.apply(e,t,r),s=this.right.apply(e,t,r);return{dataType:"boolean",aggregate:i.aggregate||s.aggregate,value:(0,ci.compose)(i.value,this.op==="&"?"and":"or",s.value)}}requestExpression(e){}getExpression(e){return this.log("Alternation tree has no value"),(0,ci.errorFor)("no value from alternation tree")}};Oi.ExprAlternationTree=ISe;var Gw=class extends uu{constructor(e,t){super();this.func=e,this.legalChildTypes=[ci.FT.numberT],this.elementType=e,t&&(this.expr=t,this.has({expr:t}))}returns(e){return"number"}getExpression(e){var t,r;let i=(t=this.expr)===null||t===void 0?void 0:t.getExpression(e),s=(r=this.source)===null||r===void 0?void 0:r.refString;if(this.source){let o=this.source.getField(e).found;if(o){let a=o.type();if((0,q$.isAtomicFieldType)(a.type))i={dataType:a.type,aggregate:!!a.aggregate,value:[{type:"field",path:this.source.refString}]},s=this.source.sourceString;else if(!(o instanceof xSe.StructSpaceField))return this.log(`Aggregate source cannot be a ${a.type}`),(0,ci.errorFor)(`Aggregate source cannot be a ${a.type}`)}else return this.log(`Reference to undefined value ${this.source.refString}`),(0,ci.errorFor)(`Reference to undefined value ${this.source.refString}`)}if(i===void 0)return this.log("Missing expression for aggregate function"),(0,ci.errorFor)("agggregate without expression");if(this.typeCheck(this.expr||this,{...i,aggregate:!1})){let o={type:"aggregate",function:this.func,e:i.value};return s&&(o.structPath=s),{dataType:this.returns(i),aggregate:!0,value:[o]}}return(0,ci.errorFor)("aggregate type check")}},MSe=class extends Gw{constructor(e){super("min",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}returns(e){return e.dataType}};Oi.ExprMin=MSe;var PSe=class extends Gw{constructor(e){super("max",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}returns(e){return e.dataType}};Oi.ExprMax=PSe;var BSe=class extends Gw{constructor(e){super("count_distinct",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}};Oi.ExprCountDistinct=BSe;var Eoe=class extends Gw{constructor(e,t,r){super(e,t);this.func=e,this.expr=t,this.source=r,this.has({source:r})}defaultFieldName(){if(this.source&&this.expr===void 0){let e=this.source.nameString;switch(this.func){case"sum":return`total_${e}`;case"avg":return`avg_${e}`}}}},jSe=class extends Gw{constructor(e){super("count");this.source=e,this.elementType="count",this.has({source:e})}defaultFieldName(){if(this.source)return"count_"+this.source.nameString}getExpression(e){let t={type:"aggregate",function:"count",e:[]};return this.source&&(t.structPath=this.source.refString),{dataType:"number",aggregate:!0,value:[t]}}};Oi.ExprCount=jSe;var qSe=class extends Eoe{constructor(e,t){super("avg",e,t);this.has({source:t})}};Oi.ExprAvg=qSe;var USe=class extends Eoe{constructor(e,t){super("sum",e,t);this.has({source:t})}};Oi.ExprSum=USe;var $Se=class extends uu{constructor(e,t,r){super({expr:t,fields:r});this.control=e,this.expr=t,this.fields=r,this.legalChildTypes=ci.FT.anyAtomicT,this.elementType="ungroup"}returns(e){return"number"}getExpression(e){let t=this.expr.getExpression(e);if(!t.aggregate)return this.expr.log(`${this.control}() expression must be an aggregate`),(0,ci.errorFor)("ungrouped scalar");let r={type:this.control,e:t.value};if(this.typeCheck(this.expr,{...t,aggregate:!1})){if(this.fields.length>0){let i=e;if(e instanceof U$.DefSpace&&(i=e.realFS),!(i instanceof U$.QuerySpace))return this.log(`${this.control}() must be in a query -- weird internal error`),(0,ci.errorFor)("ungroup query check");let s=i.result,o=[],a=this.control=="exclude";for(let l of this.fields)s.whenComplete(()=>{s.checkUngroup(l,a)}),o.push(l.refString);r.fields=o}return{dataType:this.returns(t),aggregate:!0,value:[r]}}return this.log(`${this.control}() incompatible type`),(0,ci.errorFor)("ungrouped type check")}};Oi.ExprUngroup=$Se;var zSe=class extends uu{constructor(e,t){super({whenThis:e,thenThis:t});this.whenThis=e,this.thenThis=t,this.elementType="when clause"}getExpression(e){throw new Error("expression did something unxpected with 'WHEN'")}};Oi.WhenClause=zSe;var HSe=class extends uu{constructor(e,t){super({when:e});this.when=e,this.elseClause=t,this.elementType="case statement",this.has({elseClause:t})}getExpression(e){let t,r=!1,i=["CASE "];for(let s of this.when){let o=s.whenThis.getExpression(e),a=s.thenThis.getExpression(e);if(r||(r=o.aggregate||a.aggregate),a.dataType!=="null"){if(t&&!ci.FT.typeEq(t,a))return this.log(`Mismatched THEN clause types, ${ci.FT.inspect(t,a)}`),(0,ci.errorFor)("then typecheck");t=a}i.push("WHEN ",...o.value," THEN ",...a.value)}if(this.elseClause){let s=this.elseClause.getExpression(e);if(r||(r=s.aggregate),i.push(" ELSE ",...s.value),s.dataType!=="null"){if(t&&!ci.FT.typeEq(t,s))return this.log(`Mismatched ELSE clause type, ${ci.FT.inspect(t,s)}`),(0,ci.errorFor)("else typecheck");t=s}}return t===void 0?(this.log("case statement type not computable"),(0,ci.errorFor)("typeless case")):(i.push(" END"),{dataType:t.dataType,aggregate:r,value:i})}};Oi.ExprCase=HSe;var VSe=class extends uu{constructor(e,t){super({expr:e,filter:t});this.expr=e,this.filter=t,this.elementType="filtered expression",this.legalChildTypes=ci.FT.anyAtomicT}getExpression(e){let t=this.filter.getFilterList(e),r=this.expr.getExpression(e);for(let i of t)if(i.aggregate)return this.filter.log("Cannot filter a field with an aggregate computation"),(0,ci.errorFor)("no filter on aggregate");return r.aggregate?this.typeCheck(this.expr,{...r,aggregate:!1})?{...r,value:[{type:"filterExpression",e:r.value,filterList:t}]}:(this.expr.log(`Cannot filter '${r.dataType}' data`),(0,ci.errorFor)("cannot filter type")):r}};Oi.ExprFilter=VSe;function ldt(n){return["string","number","boolean","date","timestamp"].includes(n)}Oi.isCastType=ldt;var WSe=class extends uu{constructor(e,t,r=!1){super({expr:e});this.expr=e,this.castType=t,this.safe=r,this.elementType="cast"}getExpression(e){let t=this.expr.getExpression(e);return{dataType:this.castType,aggregate:t.aggregate,value:(0,ci.compressExpr)((0,udt.castTo)(this.castType,t.value,this.safe))}}};Oi.ExprCast=WSe;var QSe=class extends ci.MalloyElement{constructor(e){super();this.by=e,this.elementType="topBy",e instanceof uu&&this.has({by:e})}getBy(e){if(this.by instanceof uu){let t=this.by.getExpression(e);return t.aggregate||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,ci.compressExpr)(t.value)}}return{by:"name",name:this.by}}};Oi.TopBy=QSe;var GSe=class extends uu{constructor(e,t){super({first:e,last:t});this.first=e,this.last=t,this.elementType="range"}apply(e,t,r){switch(t){case"=":case"!=":{let i=t==="="?">=":"<",s=t==="="?"and":"or",o=t==="="?"<":">=",a=this.first.apply(e,i,r),l=this.last.apply(e,o,r);return{dataType:"boolean",aggregate:a.aggregate||l.aggregate,value:(0,ci.compose)(a.value,s,l.value)}}case">":return this.last.apply(e,">=",r);case">=":return this.first.apply(e,">=",r);case"<":return this.first.apply(e,"<",r);case"<=":return this.last.apply(e,"<",r)}throw new Error("mysterious error in range computation")}requestExpression(e){}getExpression(e){return(0,ci.errorFor)("a range is not a value")}};Oi.Range=GSe;var YSe=class extends ci.MalloyElement{constructor(e,t){super({when:t});this.pick=e,this.when=t,this.elementType="pickWhen",this.has({pick:e})}};Oi.PickWhen=YSe;var KSe=class extends uu{constructor(e,t){super({choices:e});this.choices=e,this.elsePick=t,this.elementType="pick",this.has({elsePick:t})}requestExpression(e){if(this.elsePick!==void 0){for(let t of this.choices){if(t.pick==null)return;let r=t.when.requestExpression(e);if(r==null||r.dataType!="boolean")return}return this.getExpression(e)}}apply(e,t,r){let i=["CASE"],s,o=!1;for(let f of this.choices){let p=f.when.apply(e,"=",r),_=f.pick?f.pick.getExpression(e):r.getExpression(e);if(o||(o=p.aggregate||_.aggregate),s){if(!ci.FT.typeEq(s,_,!0)){let E=ci.FT.inspect(_);return this.log(`pick type '${E}', expected '${s.dataType}'`),(0,ci.errorFor)("pick when type")}}else s=_;i.push(" WHEN ",...p.value," THEN ",..._.value)}let l=(this.elsePick||r).getExpression(e);if(s||(s=l),!ci.FT.typeEq(s,l,!0)){let f=this.elsePick?"else":"pick default";return this.log(`${f} type '${ci.FT.inspect(l)}', expected '${s.dataType}'`),(0,ci.errorFor)("pick else type")}return{dataType:s.dataType,aggregate:o||l.aggregate,value:(0,ci.compressExpr)([...i," ELSE ",...l.value," END"])}}getExpression(e){if(this.elsePick===void 0)return this.log("pick incomplete, missing 'else'"),(0,ci.errorFor)("no value for partial pick");let t=[];for(let a of this.choices){if(a.pick===void 0)return this.log("pick with no value can only be used with apply"),(0,ci.errorFor)("no value for partial pick");if(a.when.requestExpression(e)===void 0)return this.log("pick with partial when can only be used with apply"),(0,ci.errorFor)("partial when");t.push({pick:a.pick.getExpression(e),when:a.when.getExpression(e)})}let r=t[0].pick,i=["CASE"],s=r.aggregate;for(let a of t){if(!ci.FT.typeEq(a.when,ci.FT.boolT))return this.log(`when expression must be boolean, not '${ci.FT.inspect(a.when)}`),(0,ci.errorFor)("pick when type");if(!ci.FT.typeEq(r,a.pick,!0)){let l=ci.FT.inspect(a.pick);return this.log(`pick type '${l}', expected '${r.dataType}'`),(0,ci.errorFor)("pick value type")}s||(s=a.pick.aggregate||a.when.aggregate),i.push(" WHEN ",...a.when.value," THEN ",...a.pick.value)}let o=this.elsePick.getExpression(e);return s||(s=o.aggregate),ci.FT.typeEq(r,o,!0)?(i.push(" ELSE ",...o.value," END"),{dataType:r.dataType,aggregate:!!s,value:(0,ci.compressExpr)(i)}):(this.elsePick.log(`else type '${ci.FT.inspect(o)}', expected '${r.dataType}'`),(0,ci.errorFor)("pick value type mismatch"))}};Oi.Pick=KSe});var sCe=Ae(sp=>{"use strict";m();Object.defineProperty(sp,"__esModule",{value:!0});function XSe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Nm(n,e,t){return e&&XSe(n.prototype,e),t&&XSe(n,t),n}function y1(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Soe(n){return Soe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Soe(n)}function V$(n,e){return V$=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},V$(n,e)}function cdt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function W$(n,e,t){return cdt()?W$=Reflect.construct:W$=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&V$(f,o.prototype),f},W$.apply(null,arguments)}function fdt(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function woe(n){var e=typeof Map=="function"?new Map:void 0;return woe=function(r){if(r===null||!fdt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return W$(r,arguments,Soe(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),V$(i,r)},woe(n)}function ddt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function hdt(n,e){if(!!n){if(typeof n=="string")return ZSe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ZSe(n,e)}}function ZSe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function x4(n){var e=0;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(n=hdt(n)))return function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return e=n[Symbol.iterator](),e.next.bind(e)}var ub=function(n){y1(e,n);function e(){return n.apply(this,arguments)||this}return e}(woe(Error)),pdt=function(n){y1(e,n);function e(t){return n.call(this,"Invalid DateTime: "+t.toMessage())||this}return e}(ub),mdt=function(n){y1(e,n);function e(t){return n.call(this,"Invalid Interval: "+t.toMessage())||this}return e}(ub),xdt=function(n){y1(e,n);function e(t){return n.call(this,"Invalid Duration: "+t.toMessage())||this}return e}(ub),KO=function(n){y1(e,n);function e(){return n.apply(this,arguments)||this}return e}(ub),ewe=function(n){y1(e,n);function e(t){return n.call(this,"Invalid unit "+t)||this}return e}(ub),v1=function(n){y1(e,n);function e(){return n.apply(this,arguments)||this}return e}(ub),g4=function(n){y1(e,n);function e(){return n.call(this,"Zone is an abstract class")||this}return e}(ub),Ai="numeric",Lm="short",rp="long",Q$={year:Ai,month:Ai,day:Ai},Coe={year:Ai,month:Lm,day:Ai},twe={year:Ai,month:Lm,day:Ai,weekday:Lm},Aoe={year:Ai,month:rp,day:Ai},Toe={year:Ai,month:rp,day:Ai,weekday:rp},Foe={hour:Ai,minute:Ai},Doe={hour:Ai,minute:Ai,second:Ai},Ooe={hour:Ai,minute:Ai,second:Ai,timeZoneName:Lm},Roe={hour:Ai,minute:Ai,second:Ai,timeZoneName:rp},Noe={hour:Ai,minute:Ai,hour12:!1},Loe={hour:Ai,minute:Ai,second:Ai,hour12:!1},koe={hour:Ai,minute:Ai,second:Ai,hour12:!1,timeZoneName:Lm},Ioe={hour:Ai,minute:Ai,second:Ai,hour12:!1,timeZoneName:rp},Moe={year:Ai,month:Ai,day:Ai,hour:Ai,minute:Ai},Poe={year:Ai,month:Ai,day:Ai,hour:Ai,minute:Ai,second:Ai},Boe={year:Ai,month:Lm,day:Ai,hour:Ai,minute:Ai},joe={year:Ai,month:Lm,day:Ai,hour:Ai,minute:Ai,second:Ai},nwe={year:Ai,month:Lm,day:Ai,weekday:Lm,hour:Ai,minute:Ai},qoe={year:Ai,month:rp,day:Ai,hour:Ai,minute:Ai,timeZoneName:Lm},Uoe={year:Ai,month:rp,day:Ai,hour:Ai,minute:Ai,second:Ai,timeZoneName:Lm},$oe={year:Ai,month:rp,day:Ai,weekday:rp,hour:Ai,minute:Ai,timeZoneName:rp},zoe={year:Ai,month:rp,day:Ai,weekday:rp,hour:Ai,minute:Ai,second:Ai,timeZoneName:rp};function ia(n){return typeof n=="undefined"}function lb(n){return typeof n=="number"}function G$(n){return typeof n=="number"&&n%1===0}function gdt(n){return typeof n=="string"}function ydt(n){return Object.prototype.toString.call(n)==="[object Date]"}function Ax(){try{return typeof Intl!="undefined"&&Intl.DateTimeFormat}catch{return!1}}function JO(){return!ia(Intl.DateTimeFormat.prototype.formatToParts)}function rwe(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function vdt(n){return Array.isArray(n)?n:[n]}function iwe(n,e,t){if(n.length!==0)return n.reduce(function(r,i){var s=[e(i),i];return r&&t(r[0],s[0])===r[0]?r:s},null)[1]}function swe(n,e){return e.reduce(function(t,r){return t[r]=n[r],t},{})}function Yw(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function vy(n,e,t){return G$(n)&&n>=e&&n<=t}function _dt(n,e){return n-e*Math.floor(n/e)}function Kw(n,e){e===void 0&&(e=2);var t=n<0?"-":"",r=t?n*-1:n,i;return r.toString().length<e?i=("0".repeat(e)+r).slice(-e):i=r.toString(),""+t+i}function Dd(n){if(!(ia(n)||n===null||n===""))return parseInt(n,10)}function Hoe(n){if(!(ia(n)||n===null||n==="")){var e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function Voe(n,e,t){t===void 0&&(t=!1);var r=Math.pow(10,e),i=t?Math.trunc:Math.round;return i(n*r)/r}function XO(n){return n%4===0&&(n%100!==0||n%400===0)}function ZO(n){return XO(n)?366:365}function Y$(n,e){var t=_dt(e-1,12)+1,r=n+(e-t)/12;return t===2?XO(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Woe(n){var e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function K$(n){var e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,r=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||r===3?53:52}function Qoe(n){return n>99?n:n>60?1900+n:2e3+n}function owe(n,e,t,r){r===void 0&&(r=null);var i=new Date(n),s={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);var o=Object.assign({timeZoneName:e},s),a=Ax();if(a&&JO()){var l=new Intl.DateTimeFormat(t,o).formatToParts(i).find(function(O){return O.type.toLowerCase()==="timezonename"});return l?l.value:null}else if(a){var f=new Intl.DateTimeFormat(t,s).format(i),p=new Intl.DateTimeFormat(t,o).format(i),_=p.substring(f.length),E=_.replace(/^[, \u200e]+/,"");return E}else return null}function J$(n,e){var t=parseInt(n,10);Number.isNaN(t)&&(t=0);var r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function awe(n){var e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new v1("Invalid unit value "+n);return e}function X$(n,e,t){var r={};for(var i in n)if(Yw(n,i)){if(t.indexOf(i)>=0)continue;var s=n[i];if(s==null)continue;r[e(i)]=awe(s)}return r}function Z$(n,e){var t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return""+i+Kw(t,2)+":"+Kw(r,2);case"narrow":return""+i+t+(r>0?":"+r:"");case"techie":return""+i+Kw(t,2)+Kw(r,2);default:throw new RangeError("Value format "+e+" is out of range for property format")}}function ez(n){return swe(n,["hour","minute","second","millisecond"])}var uwe=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function hl(n){return JSON.stringify(n,Object.keys(n).sort())}var bdt=["January","February","March","April","May","June","July","August","September","October","November","December"],lwe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Edt=["J","F","M","A","M","J","J","A","S","O","N","D"];function cwe(n){switch(n){case"narrow":return[].concat(Edt);case"short":return[].concat(lwe);case"long":return[].concat(bdt);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var fwe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],dwe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Sdt=["M","T","W","T","F","S","S"];function hwe(n){switch(n){case"narrow":return[].concat(Sdt);case"short":return[].concat(dwe);case"long":return[].concat(fwe);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var pwe=["AM","PM"],wdt=["Before Christ","Anno Domini"],Cdt=["BC","AD"],Adt=["B","A"];function mwe(n){switch(n){case"narrow":return[].concat(Adt);case"short":return[].concat(Cdt);case"long":return[].concat(wdt);default:return null}}function Tdt(n){return pwe[n.hour<12?0:1]}function Fdt(n,e){return hwe(e)[n.weekday-1]}function Ddt(n,e){return cwe(e)[n.month-1]}function Odt(n,e){return mwe(e)[n.year<0?0:1]}function Rdt(n,e,t,r){t===void 0&&(t="always"),r===void 0&&(r=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){var o=n==="days";switch(e){case 1:return o?"tomorrow":"next "+i[n][0];case-1:return o?"yesterday":"last "+i[n][0];case 0:return o?"today":"this "+i[n][0]}}var a=Object.is(e,-0)||e<0,l=Math.abs(e),f=l===1,p=i[n],_=r?f?p[1]:p[2]||p[1]:f?i[n][0]:n;return a?l+" "+_+" ago":"in "+l+" "+_}function Ndt(n){var e=swe(n,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),t=hl(e),r="EEEE, LLLL d, yyyy, h:mm a";switch(t){case hl(Q$):return"M/d/yyyy";case hl(Coe):return"LLL d, yyyy";case hl(twe):return"EEE, LLL d, yyyy";case hl(Aoe):return"LLLL d, yyyy";case hl(Toe):return"EEEE, LLLL d, yyyy";case hl(Foe):return"h:mm a";case hl(Doe):return"h:mm:ss a";case hl(Ooe):return"h:mm a";case hl(Roe):return"h:mm a";case hl(Noe):return"HH:mm";case hl(Loe):return"HH:mm:ss";case hl(koe):return"HH:mm";case hl(Ioe):return"HH:mm";case hl(Moe):return"M/d/yyyy, h:mm a";case hl(Boe):return"LLL d, yyyy, h:mm a";case hl(qoe):return"LLLL d, yyyy, h:mm a";case hl($oe):return r;case hl(Poe):return"M/d/yyyy, h:mm:ss a";case hl(joe):return"LLL d, yyyy, h:mm:ss a";case hl(nwe):return"EEE, d LLL yyyy, h:mm a";case hl(Uoe):return"LLLL d, yyyy, h:mm:ss a";case hl(zoe):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return r}}function xwe(n,e){for(var t="",r=x4(n),i;!(i=r()).done;){var s=i.value;s.literal?t+=s.val:t+=e(s.val)}return t}var Ldt={D:Q$,DD:Coe,DDD:Aoe,DDDD:Toe,t:Foe,tt:Doe,ttt:Ooe,tttt:Roe,T:Noe,TT:Loe,TTT:koe,TTTT:Ioe,f:Moe,ff:Boe,fff:qoe,ffff:$oe,F:Poe,FF:joe,FFF:Uoe,FFFF:zoe},Tx=function(){n.create=function(r,i){return i===void 0&&(i={}),new n(r,i)},n.parseFormat=function(r){for(var i=null,s="",o=!1,a=[],l=0;l<r.length;l++){var f=r.charAt(l);f==="'"?(s.length>0&&a.push({literal:o,val:s}),i=null,s="",o=!o):o||f===i?s+=f:(s.length>0&&a.push({literal:!1,val:s}),s=f,i=f)}return s.length>0&&a.push({literal:o,val:s}),a},n.macroTokenToFormatOpts=function(r){return Ldt[r]};function n(t,r){this.opts=r,this.loc=t,this.systemLoc=null}var e=n.prototype;return e.formatWithSystemDefault=function(r,i){this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem());var s=this.systemLoc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTime=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTimeParts=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.formatToParts()},e.resolvedOptions=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.resolvedOptions()},e.num=function(r,i){if(i===void 0&&(i=0),this.opts.forceSimple)return Kw(r,i);var s=Object.assign({},this.opts);return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(r)},e.formatDateTimeFromString=function(r,i){var s=this,o=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&JO(),l=function(L,B){return s.loc.extract(r,L,B)},f=function(L){return r.isOffsetFixed&&r.offset===0&&L.allowZ?"Z":r.isValid?r.zone.formatOffset(r.ts,L.format):""},p=function(){return o?Tdt(r):l({hour:"numeric",hour12:!0},"dayperiod")},_=function(L,B){return o?Ddt(r,L):l(B?{month:L}:{month:L,day:"numeric"},"month")},E=function(L,B){return o?Fdt(r,L):l(B?{weekday:L}:{weekday:L,month:"long",day:"numeric"},"weekday")},O=function(L){var B=n.macroTokenToFormatOpts(L);return B?s.formatWithSystemDefault(r,B):L},R=function(L){return o?Odt(r,L):l({era:L},"era")},q=function(L){switch(L){case"S":return s.num(r.millisecond);case"u":case"SSS":return s.num(r.millisecond,3);case"s":return s.num(r.second);case"ss":return s.num(r.second,2);case"m":return s.num(r.minute);case"mm":return s.num(r.minute,2);case"h":return s.num(r.hour%12===0?12:r.hour%12);case"hh":return s.num(r.hour%12===0?12:r.hour%12,2);case"H":return s.num(r.hour);case"HH":return s.num(r.hour,2);case"Z":return f({format:"narrow",allowZ:s.opts.allowZ});case"ZZ":return f({format:"short",allowZ:s.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:s.opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:s.loc.locale});case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:s.loc.locale});case"z":return r.zoneName;case"a":return p();case"d":return a?l({day:"numeric"},"day"):s.num(r.day);case"dd":return a?l({day:"2-digit"},"day"):s.num(r.day,2);case"c":return s.num(r.weekday);case"ccc":return E("short",!0);case"cccc":return E("long",!0);case"ccccc":return E("narrow",!0);case"E":return s.num(r.weekday);case"EEE":return E("short",!1);case"EEEE":return E("long",!1);case"EEEEE":return E("narrow",!1);case"L":return a?l({month:"numeric",day:"numeric"},"month"):s.num(r.month);case"LL":return a?l({month:"2-digit",day:"numeric"},"month"):s.num(r.month,2);case"LLL":return _("short",!0);case"LLLL":return _("long",!0);case"LLLLL":return _("narrow",!0);case"M":return a?l({month:"numeric"},"month"):s.num(r.month);case"MM":return a?l({month:"2-digit"},"month"):s.num(r.month,2);case"MMM":return _("short",!1);case"MMMM":return _("long",!1);case"MMMMM":return _("narrow",!1);case"y":return a?l({year:"numeric"},"year"):s.num(r.year);case"yy":return a?l({year:"2-digit"},"year"):s.num(r.year.toString().slice(-2),2);case"yyyy":return a?l({year:"numeric"},"year"):s.num(r.year,4);case"yyyyyy":return a?l({year:"numeric"},"year"):s.num(r.year,6);case"G":return R("short");case"GG":return R("long");case"GGGGG":return R("narrow");case"kk":return s.num(r.weekYear.toString().slice(-2),2);case"kkkk":return s.num(r.weekYear,4);case"W":return s.num(r.weekNumber);case"WW":return s.num(r.weekNumber,2);case"o":return s.num(r.ordinal);case"ooo":return s.num(r.ordinal,3);case"q":return s.num(r.quarter);case"qq":return s.num(r.quarter,2);case"X":return s.num(Math.floor(r.ts/1e3));case"x":return s.num(r.ts);default:return O(L)}};return xwe(n.parseFormat(i),q)},e.formatDurationFromString=function(r,i){var s=this,o=function(E){switch(E[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},a=function(E){return function(O){var R=o(O);return R?s.num(E.get(R),O.length):O}},l=n.parseFormat(i),f=l.reduce(function(_,E){var O=E.literal,R=E.val;return O?_:_.concat(R)},[]),p=r.shiftTo.apply(r,f.map(o).filter(function(_){return _}));return xwe(l,a(p))},n}(),km=function(){function n(t,r){this.reason=t,this.explanation=r}var e=n.prototype;return e.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},n}(),Jw=function(){function n(){}var e=n.prototype;return e.offsetName=function(r,i){throw new g4},e.formatOffset=function(r,i){throw new g4},e.offset=function(r){throw new g4},e.equals=function(r){throw new g4},Nm(n,[{key:"type",get:function(){throw new g4}},{key:"name",get:function(){throw new g4}},{key:"universal",get:function(){throw new g4}},{key:"isValid",get:function(){throw new g4}}]),n}(),Goe=null,gwe=function(n){y1(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return owe(i,o,a)},t.formatOffset=function(i,s){return Z$(this.offset(i),s)},t.offset=function(i){return-new Date(i).getTimezoneOffset()},t.equals=function(i){return i.type==="local"},Nm(e,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return Ax()?new Intl.DateTimeFormat().resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return Goe===null&&(Goe=new e),Goe}}]),e}(Jw),kdt=RegExp("^"+uwe.source+"$"),tz={};function Idt(n){return tz[n]||(tz[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),tz[n]}var Mdt={year:0,month:1,day:2,hour:3,minute:4,second:5};function Pdt(n,e){var t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t),i=r[1],s=r[2],o=r[3],a=r[4],l=r[5],f=r[6];return[o,i,s,a,l,f]}function Bdt(n,e){for(var t=n.formatToParts(e),r=[],i=0;i<t.length;i++){var s=t[i],o=s.type,a=s.value,l=Mdt[o];ia(l)||(r[l]=parseInt(a,10))}return r}var nz={},Fx=function(n){y1(e,n),e.create=function(i){return nz[i]||(nz[i]=new e(i)),nz[i]},e.resetCache=function(){nz={},tz={}},e.isValidSpecifier=function(i){return!!(i&&i.match(kdt))},e.isValidZone=function(i){try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}},e.parseGMTOffset=function(i){if(i){var s=i.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(s)return-60*parseInt(s[1])}return null};function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i.valid=e.isValidZone(r),i}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return owe(i,o,a,this.name)},t.formatOffset=function(i,s){return Z$(this.offset(i),s)},t.offset=function(i){var s=new Date(i);if(isNaN(s))return NaN;var o=Idt(this.name),a=o.formatToParts?Bdt(o,s):Pdt(o,s),l=a[0],f=a[1],p=a[2],_=a[3],E=a[4],O=a[5],R=_===24?0:_,q=Woe({year:l,month:f,day:p,hour:R,minute:E,second:O,millisecond:0}),z=+s,L=z%1e3;return z-=L>=0?L:1e3+L,(q-z)/(60*1e3)},t.equals=function(i){return i.type==="iana"&&i.name===this.name},Nm(e,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),e}(Jw),Yoe=null,ip=function(n){y1(e,n),e.instance=function(i){return i===0?e.utcInstance:new e(i)},e.parseSpecifier=function(i){if(i){var s=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new e(J$(s[1],s[2]))}return null},Nm(e,null,[{key:"utcInstance",get:function(){return Yoe===null&&(Yoe=new e(0)),Yoe}}]);function e(r){var i;return i=n.call(this)||this,i.fixed=r,i}var t=e.prototype;return t.offsetName=function(){return this.name},t.formatOffset=function(i,s){return Z$(this.fixed,s)},t.offset=function(){return this.fixed},t.equals=function(i){return i.type==="fixed"&&i.fixed===this.fixed},Nm(e,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return this.fixed===0?"UTC":"UTC"+Z$(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),e}(Jw),Koe=function(n){y1(e,n);function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i}var t=e.prototype;return t.offsetName=function(){return null},t.formatOffset=function(){return""},t.offset=function(){return NaN},t.equals=function(){return!1},Nm(e,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),e}(Jw);function cb(n,e){var t;if(ia(n)||n===null)return e;if(n instanceof Jw)return n;if(gdt(n)){var r=n.toLowerCase();return r==="local"?e:r==="utc"||r==="gmt"?ip.utcInstance:(t=Fx.parseGMTOffset(n))!=null?ip.instance(t):Fx.isValidSpecifier(r)?Fx.create(n):ip.parseSpecifier(r)||new Koe(n)}else return lb(n)?ip.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new Koe(n)}var ywe=function(){return Date.now()},Joe=null,vwe=null,_we=null,bwe=null,Ewe=!1,Zl=function(){function n(){}return n.resetCaches=function(){wf.resetCache(),Fx.resetCache()},Nm(n,null,[{key:"now",get:function(){return ywe},set:function(t){ywe=t}},{key:"defaultZoneName",get:function(){return n.defaultZone.name},set:function(t){t?Joe=cb(t):Joe=null}},{key:"defaultZone",get:function(){return Joe||gwe.instance}},{key:"defaultLocale",get:function(){return vwe},set:function(t){vwe=t}},{key:"defaultNumberingSystem",get:function(){return _we},set:function(t){_we=t}},{key:"defaultOutputCalendar",get:function(){return bwe},set:function(t){bwe=t}},{key:"throwOnInvalid",get:function(){return Ewe},set:function(t){Ewe=t}}]),n}(),Xoe={};function Zoe(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=Xoe[t];return r||(r=new Intl.DateTimeFormat(n,e),Xoe[t]=r),r}var eae={};function jdt(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=eae[t];return r||(r=new Intl.NumberFormat(n,e),eae[t]=r),r}var tae={};function qdt(n,e){e===void 0&&(e={});var t=e,r=t.base,i=ddt(t,["base"]),s=JSON.stringify([n,i]),o=tae[s];return o||(o=new Intl.RelativeTimeFormat(n,e),tae[s]=o),o}var fb=null;function Udt(){if(fb)return fb;if(Ax()){var n=new Intl.DateTimeFormat().resolvedOptions().locale;return fb=!n||n==="und"?"en-US":n,fb}else return fb="en-US",fb}function $dt(n){var e=n.indexOf("-u-");if(e===-1)return[n];var t,r=n.substring(0,e);try{t=Zoe(n).resolvedOptions()}catch{t=Zoe(r).resolvedOptions()}var i=t,s=i.numberingSystem,o=i.calendar;return[r,s,o]}function zdt(n,e,t){return Ax()?((t||e)&&(n+="-u",t&&(n+="-ca-"+t),e&&(n+="-nu-"+e)),n):[]}function Hdt(n){for(var e=[],t=1;t<=12;t++){var r=wc.utc(2016,t,1);e.push(n(r))}return e}function Vdt(n){for(var e=[],t=1;t<=7;t++){var r=wc.utc(2016,11,13+t);e.push(n(r))}return e}function rz(n,e,t,r,i){var s=n.listingMode(t);return s==="error"?null:s==="en"?r(e):i(e)}function Wdt(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||Ax()&&new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var Qdt=function(){function n(t,r,i){if(this.padTo=i.padTo||0,this.floor=i.floor||!1,!r&&Ax()){var s={useGrouping:!1};i.padTo>0&&(s.minimumIntegerDigits=i.padTo),this.inf=jdt(t,s)}}var e=n.prototype;return e.format=function(r){if(this.inf){var i=this.floor?Math.floor(r):r;return this.inf.format(i)}else{var s=this.floor?Math.floor(r):Voe(r,3);return Kw(s,this.padTo)}},n}(),Gdt=function(){function n(t,r,i){this.opts=i,this.hasIntl=Ax();var s;if(t.zone.universal&&this.hasIntl){var o=-1*(t.offset/60),a=o>=0?"Etc/GMT+"+o:"Etc/GMT"+o,l=Fx.isValidZone(a);t.offset!==0&&l?(s=a,this.dt=t):(s="UTC",i.timeZoneName?this.dt=t:this.dt=t.offset===0?t:wc.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="local"?this.dt=t:(this.dt=t,s=t.zone.name);if(this.hasIntl){var f=Object.assign({},this.opts);s&&(f.timeZone=s),this.dtf=Zoe(r,f)}}var e=n.prototype;return e.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var r=Ndt(this.opts),i=wf.create("en-US");return Tx.create(i).formatDateTimeFromString(this.dt,r)},e.formatToParts=function(){return this.hasIntl&&JO()?this.dtf.formatToParts(this.dt.toJSDate()):[]},e.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},n}(),Ydt=function(){function n(t,r,i){this.opts=Object.assign({style:"long"},i),!r&&rwe()&&(this.rtf=qdt(t,i))}var e=n.prototype;return e.format=function(r,i){return this.rtf?this.rtf.format(r,i):Rdt(i,r,this.opts.numeric,this.opts.style!=="long")},e.formatToParts=function(r,i){return this.rtf?this.rtf.formatToParts(r,i):[]},n}(),wf=function(){n.fromOpts=function(r){return n.create(r.locale,r.numberingSystem,r.outputCalendar,r.defaultToEN)},n.create=function(r,i,s,o){o===void 0&&(o=!1);var a=r||Zl.defaultLocale,l=a||(o?"en-US":Udt()),f=i||Zl.defaultNumberingSystem,p=s||Zl.defaultOutputCalendar;return new n(l,f,p,a)},n.resetCache=function(){fb=null,Xoe={},eae={},tae={}},n.fromObject=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar;return n.create(s,o,a)};function n(t,r,i,s){var o=$dt(t),a=o[0],l=o[1],f=o[2];this.locale=a,this.numberingSystem=r||l||null,this.outputCalendar=i||f||null,this.intl=zdt(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}var e=n.prototype;return e.listingMode=function(r){r===void 0&&(r=!0);var i=Ax(),s=i&&JO(),o=this.isEnglish(),a=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return!s&&!(o&&a)&&!r?"error":!s||o&&a?"en":"intl"},e.clone=function(r){return!r||Object.getOwnPropertyNames(r).length===0?this:n.create(r.locale||this.specifiedLocale,r.numberingSystem||this.numberingSystem,r.outputCalendar||this.outputCalendar,r.defaultToEN||!1)},e.redefaultToEN=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!0}))},e.redefaultToSystem=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!1}))},e.months=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),rz(this,r,s,cwe,function(){var a=i?{month:r,day:"numeric"}:{month:r},l=i?"format":"standalone";return o.monthsCache[l][r]||(o.monthsCache[l][r]=Hdt(function(f){return o.extract(f,a,"month")})),o.monthsCache[l][r]})},e.weekdays=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),rz(this,r,s,hwe,function(){var a=i?{weekday:r,year:"numeric",month:"long",day:"numeric"}:{weekday:r},l=i?"format":"standalone";return o.weekdaysCache[l][r]||(o.weekdaysCache[l][r]=Vdt(function(f){return o.extract(f,a,"weekday")})),o.weekdaysCache[l][r]})},e.meridiems=function(r){var i=this;return r===void 0&&(r=!0),rz(this,void 0,r,function(){return pwe},function(){if(!i.meridiemCache){var s={hour:"numeric",hour12:!0};i.meridiemCache=[wc.utc(2016,11,13,9),wc.utc(2016,11,13,19)].map(function(o){return i.extract(o,s,"dayperiod")})}return i.meridiemCache})},e.eras=function(r,i){var s=this;return i===void 0&&(i=!0),rz(this,r,i,mwe,function(){var o={era:r};return s.eraCache[r]||(s.eraCache[r]=[wc.utc(-40,1,1),wc.utc(2017,1,1)].map(function(a){return s.extract(a,o,"era")})),s.eraCache[r]})},e.extract=function(r,i,s){var o=this.dtFormatter(r,i),a=o.formatToParts(),l=a.find(function(f){return f.type.toLowerCase()===s});return l?l.value:null},e.numberFormatter=function(r){return r===void 0&&(r={}),new Qdt(this.intl,r.forceSimple||this.fastNumbers,r)},e.dtFormatter=function(r,i){return i===void 0&&(i={}),new Gdt(r,this.intl,i)},e.relFormatter=function(r){return r===void 0&&(r={}),new Ydt(this.intl,this.isEnglish(),r)},e.isEnglish=function(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||Ax()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},e.equals=function(r){return this.locale===r.locale&&this.numberingSystem===r.numberingSystem&&this.outputCalendar===r.outputCalendar},Nm(n,[{key:"fastNumbers",get:function(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Wdt(this)),this.fastNumbersCached}}]),n}();function Xw(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.reduce(function(i,s){return i+s.source},"");return RegExp("^"+r+"$")}function db(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduce(function(i,s){var o=i[0],a=i[1],l=i[2],f=s(r,l),p=f[0],_=f[1],E=f[2];return[Object.assign(o,p),a||_,E]},[{},null,1]).slice(0,2)}}function Zw(n){if(n==null)return[null,null];for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i],a=o[0],l=o[1],f=a.exec(n);if(f)return l(f)}return[null,null]}function Swe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r,i){var s={},o;for(o=0;o<e.length;o++)s[e[o]]=Dd(r[i+o]);return[s,null,i+o]}}var wwe=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,nae=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Cwe=RegExp(""+nae.source+wwe.source+"?"),rae=RegExp("(?:T"+Cwe.source+")?"),Kdt=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Jdt=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Xdt=/(\d{4})-?(\d{3})/,Zdt=Swe("weekYear","weekNumber","weekDay"),eht=Swe("year","ordinal"),tht=/(\d{4})-(\d\d)-(\d\d)/,Awe=RegExp(nae.source+" ?(?:"+wwe.source+"|("+uwe.source+"))?"),nht=RegExp("(?: "+Awe.source+")?");function eC(n,e,t){var r=n[e];return ia(r)?t:Dd(r)}function Twe(n,e){var t={year:eC(n,e),month:eC(n,e+1,1),day:eC(n,e+2,1)};return[t,null,e+3]}function hb(n,e){var t={hours:eC(n,e,0),minutes:eC(n,e+1,0),seconds:eC(n,e+2,0),milliseconds:Hoe(n[e+3])};return[t,null,e+4]}function tC(n,e){var t=!n[e]&&!n[e+1],r=J$(n[e+1],n[e+2]),i=t?null:ip.instance(r);return[{},i,e+3]}function Fwe(n,e){var t=n[e]?Fx.create(n[e]):null;return[{},t,e+1]}var rht=RegExp("^T?"+nae.source+"$"),iht=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function sht(n){var e=n[0],t=n[1],r=n[2],i=n[3],s=n[4],o=n[5],a=n[6],l=n[7],f=n[8],p=e[0]==="-",_=l&&l[0]==="-",E=function(R,q){return q===void 0&&(q=!1),R!==void 0&&(q||R&&p)?-R:R};return[{years:E(Dd(t)),months:E(Dd(r)),weeks:E(Dd(i)),days:E(Dd(s)),hours:E(Dd(o)),minutes:E(Dd(a)),seconds:E(Dd(l),l==="-0"),milliseconds:E(Hoe(f),_)}]}var oht={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function iae(n,e,t,r,i,s,o){var a={year:e.length===2?Qoe(Dd(e)):Dd(e),month:lwe.indexOf(t)+1,day:Dd(r),hour:Dd(i),minute:Dd(s)};return o&&(a.second=Dd(o)),n&&(a.weekday=n.length>3?fwe.indexOf(n)+1:dwe.indexOf(n)+1),a}var aht=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function uht(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=n[8],f=n[9],p=n[10],_=n[11],E=iae(e,i,r,t,s,o,a),O;return l?O=oht[l]:f?O=0:O=J$(p,_),[E,new ip(O)]}function lht(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var cht=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,fht=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,dht=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Dwe(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=iae(e,i,r,t,s,o,a);return[l,ip.utcInstance]}function hht(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],l=iae(e,a,t,r,i,s,o);return[l,ip.utcInstance]}var pht=Xw(Kdt,rae),mht=Xw(Jdt,rae),xht=Xw(Xdt,rae),ght=Xw(Cwe),yht=db(Twe,hb,tC),vht=db(Zdt,hb,tC),_ht=db(eht,hb,tC),bht=db(hb,tC);function Eht(n){return Zw(n,[pht,yht],[mht,vht],[xht,_ht],[ght,bht])}function Sht(n){return Zw(lht(n),[aht,uht])}function wht(n){return Zw(n,[cht,Dwe],[fht,Dwe],[dht,hht])}function Cht(n){return Zw(n,[iht,sht])}var Aht=db(hb);function Tht(n){return Zw(n,[rht,Aht])}var Fht=Xw(tht,nht),Dht=Xw(Awe),Oht=db(Twe,hb,tC,Fwe),Rht=db(hb,tC,Fwe);function Nht(n){return Zw(n,[Fht,Oht],[Dht,Rht])}var Lht="Invalid Duration",Owe={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},kht=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},Owe),_1=146097/400,nC=146097/4800,Iht=Object.assign({years:{quarters:4,months:12,weeks:_1/7,days:_1,hours:_1*24,minutes:_1*24*60,seconds:_1*24*60*60,milliseconds:_1*24*60*60*1e3},quarters:{months:3,weeks:_1/28,days:_1/4,hours:_1*24/4,minutes:_1*24*60/4,seconds:_1*24*60*60/4,milliseconds:_1*24*60*60*1e3/4},months:{weeks:nC/7,days:nC,hours:nC*24,minutes:nC*24*60,seconds:nC*24*60*60,milliseconds:nC*24*60*60*1e3}},Owe),rC=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Mht=rC.slice(0).reverse();function pb(n,e,t){t===void 0&&(t=!1);var r={values:t?e.values:Object.assign({},n.values,e.values||{}),loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new Od(r)}function Pht(n){return n<0?Math.floor(n):Math.ceil(n)}function Rwe(n,e,t,r,i){var s=n[i][t],o=e[t]/s,a=Math.sign(o)===Math.sign(r[i]),l=!a&&r[i]!==0&&Math.abs(o)<=1?Pht(o):Math.trunc(o);r[i]+=l,e[t]-=l*s}function Bht(n,e){Mht.reduce(function(t,r){return ia(e[r])?t:(t&&Rwe(n,e,t,e,r),r)},null)}var Od=function(){function n(t){var r=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||wf.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r?Iht:kht,this.isLuxonDuration=!0}n.fromMillis=function(r,i){return n.fromObject(Object.assign({milliseconds:r},i))},n.fromObject=function(r){if(r==null||typeof r!="object")throw new v1("Duration.fromObject: argument expected to be an object, got "+(r===null?"null":typeof r));return new n({values:X$(r,n.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:wf.fromObject(r),conversionAccuracy:r.conversionAccuracy})},n.fromISO=function(r,i){var s=Cht(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.fromISOTime=function(r,i){var s=Tht(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new v1("need to specify a reason the Duration is invalid");var s=r instanceof km?r:new km(r,i);if(Zl.throwOnInvalid)throw new xdt(s);return new n({invalid:s})},n.normalizeUnit=function(r){var i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[r&&r.toLowerCase()];if(!i)throw new ewe(r);return i},n.isDuration=function(r){return r&&r.isLuxonDuration||!1};var e=n.prototype;return e.toFormat=function(r,i){i===void 0&&(i={});var s=Object.assign({},i,{floor:i.round!==!1&&i.floor!==!1});return this.isValid?Tx.create(this.loc,s).formatDurationFromString(this,r):Lht},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.values);return r.includeConfig&&(i.conversionAccuracy=this.conversionAccuracy,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toISO=function(){if(!this.isValid)return null;var r="P";return this.years!==0&&(r+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(r+=this.months+this.quarters*3+"M"),this.weeks!==0&&(r+=this.weeks+"W"),this.days!==0&&(r+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(r+="T"),this.hours!==0&&(r+=this.hours+"H"),this.minutes!==0&&(r+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(r+=Voe(this.seconds+this.milliseconds/1e3,3)+"S"),r==="P"&&(r+="T0S"),r},e.toISOTime=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=this.toMillis();if(i<0||i>=864e5)return null;r=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},r);var s=this.shiftTo("hours","minutes","seconds","milliseconds"),o=r.format==="basic"?"hhmm":"hh:mm";(!r.suppressSeconds||s.seconds!==0||s.milliseconds!==0)&&(o+=r.format==="basic"?"ss":":ss",(!r.suppressMilliseconds||s.milliseconds!==0)&&(o+=".SSS"));var a=s.toFormat(o);return r.includePrefix&&(a="T"+a),a},e.toJSON=function(){return this.toISO()},e.toString=function(){return this.toISO()},e.toMillis=function(){return this.as("milliseconds")},e.valueOf=function(){return this.toMillis()},e.plus=function(r){if(!this.isValid)return this;for(var i=mb(r),s={},o=x4(rC),a;!(a=o()).done;){var l=a.value;(Yw(i.values,l)||Yw(this.values,l))&&(s[l]=i.get(l)+this.get(l))}return pb(this,{values:s},!0)},e.minus=function(r){if(!this.isValid)return this;var i=mb(r);return this.plus(i.negate())},e.mapUnits=function(r){if(!this.isValid)return this;for(var i={},s=0,o=Object.keys(this.values);s<o.length;s++){var a=o[s];i[a]=awe(r(this.values[a],a))}return pb(this,{values:i},!0)},e.get=function(r){return this[n.normalizeUnit(r)]},e.set=function(r){if(!this.isValid)return this;var i=Object.assign(this.values,X$(r,n.normalizeUnit,[]));return pb(this,{values:i})},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.conversionAccuracy,l=this.loc.clone({locale:s,numberingSystem:o}),f={loc:l};return a&&(f.conversionAccuracy=a),pb(this,f)},e.as=function(r){return this.isValid?this.shiftTo(r).get(r):NaN},e.normalize=function(){if(!this.isValid)return this;var r=this.toObject();return Bht(this.matrix,r),pb(this,{values:r},!0)},e.shiftTo=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!this.isValid)return this;if(i.length===0)return this;i=i.map(function(B){return n.normalizeUnit(B)});for(var o={},a={},l=this.toObject(),f,p=x4(rC),_;!(_=p()).done;){var E=_.value;if(i.indexOf(E)>=0){f=E;var O=0;for(var R in a)O+=this.matrix[R][E]*a[R],a[R]=0;lb(l[E])&&(O+=l[E]);var q=Math.trunc(O);o[E]=q,a[E]=O-q;for(var z in l)rC.indexOf(z)>rC.indexOf(E)&&Rwe(this.matrix,l,z,o,E)}else lb(l[E])&&(a[E]=l[E])}for(var L in a)a[L]!==0&&(o[f]+=L===f?a[L]:a[L]/this.matrix[f][L]);return pb(this,{values:o},!0).normalize()},e.negate=function(){if(!this.isValid)return this;for(var r={},i=0,s=Object.keys(this.values);i<s.length;i++){var o=s[i];r[o]=-this.values[o]}return pb(this,{values:r},!0)},e.equals=function(r){if(!this.isValid||!r.isValid||!this.loc.equals(r.loc))return!1;function i(l,f){return l===void 0||l===0?f===void 0||f===0:l===f}for(var s=x4(rC),o;!(o=s()).done;){var a=o.value;if(!i(this.values[a],r.values[a]))return!1}return!0},Nm(n,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}();function mb(n){if(lb(n))return Od.fromMillis(n);if(Od.isDuration(n))return n;if(typeof n=="object")return Od.fromObject(n);throw new v1("Unknown duration argument "+n+" of type "+typeof n)}var eR="Invalid Interval";function jht(n,e){return!n||!n.isValid?tR.invalid("missing or invalid start"):!e||!e.isValid?tR.invalid("missing or invalid end"):e<n?tR.invalid("end before start","The end of an interval must be after its start, but you had start="+n.toISO()+" and end="+e.toISO()):null}var tR=function(){function n(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new v1("need to specify a reason the Interval is invalid");var s=r instanceof km?r:new km(r,i);if(Zl.throwOnInvalid)throw new mdt(s);return new n({invalid:s})},n.fromDateTimes=function(r,i){var s=sR(r),o=sR(i),a=jht(s,o);return a??new n({start:s,end:o})},n.after=function(r,i){var s=mb(i),o=sR(r);return n.fromDateTimes(o,o.plus(s))},n.before=function(r,i){var s=mb(i),o=sR(r);return n.fromDateTimes(o.minus(s),o)},n.fromISO=function(r,i){var s=(r||"").split("/",2),o=s[0],a=s[1];if(o&&a){var l,f;try{l=wc.fromISO(o,i),f=l.isValid}catch{f=!1}var p,_;try{p=wc.fromISO(a,i),_=p.isValid}catch{_=!1}if(f&&_)return n.fromDateTimes(l,p);if(f){var E=Od.fromISO(a,i);if(E.isValid)return n.after(l,E)}else if(_){var O=Od.fromISO(o,i);if(O.isValid)return n.before(p,O)}}return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.isInterval=function(r){return r&&r.isLuxonInterval||!1};var e=n.prototype;return e.length=function(r){return r===void 0&&(r="milliseconds"),this.isValid?this.toDuration.apply(this,[r]).get(r):NaN},e.count=function(r){if(r===void 0&&(r="milliseconds"),!this.isValid)return NaN;var i=this.start.startOf(r),s=this.end.startOf(r);return Math.floor(s.diff(i,r).get(r))+1},e.hasSame=function(r){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,r):!1},e.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},e.isAfter=function(r){return this.isValid?this.s>r:!1},e.isBefore=function(r){return this.isValid?this.e<=r:!1},e.contains=function(r){return this.isValid?this.s<=r&&this.e>r:!1},e.set=function(r){var i=r===void 0?{}:r,s=i.start,o=i.end;return this.isValid?n.fromDateTimes(s||this.s,o||this.e):this},e.splitAt=function(){var r=this;if(!this.isValid)return[];for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];for(var a=s.map(sR).filter(function(O){return r.contains(O)}).sort(),l=[],f=this.s,p=0;f<this.e;){var _=a[p]||this.e,E=+_>+this.e?this.e:_;l.push(n.fromDateTimes(f,E)),f=E,p+=1}return l},e.splitBy=function(r){var i=mb(r);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];for(var s=this.s,o=1,a,l=[];s<this.e;){var f=this.start.plus(i.mapUnits(function(p){return p*o}));a=+f>+this.e?this.e:f,l.push(n.fromDateTimes(s,a)),s=a,o+=1}return l},e.divideEqually=function(r){return this.isValid?this.splitBy(this.length()/r).slice(0,r):[]},e.overlaps=function(r){return this.e>r.s&&this.s<r.e},e.abutsStart=function(r){return this.isValid?+this.e==+r.s:!1},e.abutsEnd=function(r){return this.isValid?+r.e==+this.s:!1},e.engulfs=function(r){return this.isValid?this.s<=r.s&&this.e>=r.e:!1},e.equals=function(r){return!this.isValid||!r.isValid?!1:this.s.equals(r.s)&&this.e.equals(r.e)},e.intersection=function(r){if(!this.isValid)return this;var i=this.s>r.s?this.s:r.s,s=this.e<r.e?this.e:r.e;return i>=s?null:n.fromDateTimes(i,s)},e.union=function(r){if(!this.isValid)return this;var i=this.s<r.s?this.s:r.s,s=this.e>r.e?this.e:r.e;return n.fromDateTimes(i,s)},n.merge=function(r){var i=r.sort(function(a,l){return a.s-l.s}).reduce(function(a,l){var f=a[0],p=a[1];return p?p.overlaps(l)||p.abutsStart(l)?[f,p.union(l)]:[f.concat([p]),l]:[f,l]},[[],null]),s=i[0],o=i[1];return o&&s.push(o),s},n.xor=function(r){for(var i,s=null,o=0,a=[],l=r.map(function(R){return[{time:R.s,type:"s"},{time:R.e,type:"e"}]}),f=(i=Array.prototype).concat.apply(i,l),p=f.sort(function(R,q){return R.time-q.time}),_=x4(p),E;!(E=_()).done;){var O=E.value;o+=O.type==="s"?1:-1,o===1?s=O.time:(s&&+s!=+O.time&&a.push(n.fromDateTimes(s,O.time)),s=null)}return n.merge(a)},e.difference=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.xor([this].concat(s)).map(function(a){return r.intersection(a)}).filter(function(a){return a&&!a.isEmpty()})},e.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":eR},e.toISO=function(r){return this.isValid?this.s.toISO(r)+"/"+this.e.toISO(r):eR},e.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():eR},e.toISOTime=function(r){return this.isValid?this.s.toISOTime(r)+"/"+this.e.toISOTime(r):eR},e.toFormat=function(r,i){var s=i===void 0?{}:i,o=s.separator,a=o===void 0?" \u2013 ":o;return this.isValid?""+this.s.toFormat(r)+a+this.e.toFormat(r):eR},e.toDuration=function(r,i){return this.isValid?this.e.diff(this.s,r,i):Od.invalid(this.invalidReason)},e.mapEndpoints=function(r){return n.fromDateTimes(r(this.s),r(this.e))},Nm(n,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return this.invalidReason===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}(),nR=function(){function n(){}return n.hasDST=function(t){t===void 0&&(t=Zl.defaultZone);var r=wc.now().setZone(t).set({month:12});return!t.universal&&r.offset!==r.set({month:6}).offset},n.isValidIANAZone=function(t){return Fx.isValidSpecifier(t)&&Fx.isValidZone(t)},n.normalizeZone=function(t){return cb(t,Zl.defaultZone)},n.months=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f,_=i.outputCalendar,E=_===void 0?"gregory":_;return(p||wf.create(o,l,E)).months(t)},n.monthsFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f,_=i.outputCalendar,E=_===void 0?"gregory":_;return(p||wf.create(o,l,E)).months(t,!0)},n.weekdays=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f;return(p||wf.create(o,l,null)).weekdays(t)},n.weekdaysFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,l=a===void 0?null:a,f=i.locObj,p=f===void 0?null:f;return(p||wf.create(o,l,null)).weekdays(t,!0)},n.meridiems=function(t){var r=t===void 0?{}:t,i=r.locale,s=i===void 0?null:i;return wf.create(s).meridiems()},n.eras=function(t,r){t===void 0&&(t="short");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s;return wf.create(o,null,"gregory").eras(t)},n.features=function(){var t=!1,r=!1,i=!1,s=!1;if(Ax()){t=!0,r=JO(),s=rwe();try{i=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York"}catch{i=!1}}return{intl:t,intlTokens:r,zones:i,relative:s}},n}();function Nwe(n,e){var t=function(s){return s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=t(e)-t(n);return Math.floor(Od.fromMillis(r).as("days"))}function qht(n,e,t){for(var r=[["years",function(q,z){return z.year-q.year}],["quarters",function(q,z){return z.quarter-q.quarter}],["months",function(q,z){return z.month-q.month+(z.year-q.year)*12}],["weeks",function(q,z){var L=Nwe(q,z);return(L-L%7)/7}],["days",Nwe]],i={},s,o,a=0,l=r;a<l.length;a++){var f=l[a],p=f[0],_=f[1];if(t.indexOf(p)>=0){var E;s=p;var O=_(n,e);if(o=n.plus((E={},E[p]=O,E)),o>e){var R;n=n.plus((R={},R[p]=O-1,R)),O-=1}else n=o;i[p]=O}}return[n,i,o,s]}function Uht(n,e,t,r){var i=qht(n,e,t),s=i[0],o=i[1],a=i[2],l=i[3],f=e-s,p=t.filter(function(R){return["hours","minutes","seconds","milliseconds"].indexOf(R)>=0});if(p.length===0){if(a<e){var _;a=s.plus((_={},_[l]=1,_))}a!==s&&(o[l]=(o[l]||0)+f/(a-s))}var E=Od.fromObject(Object.assign(o,r));if(p.length>0){var O;return(O=Od.fromMillis(f,r)).shiftTo.apply(O,p).plus(E)}else return E}var sae={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Lwe={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},$ht=sae.hanidec.replace(/[\[|\]]/g,"").split("");function zht(n){var e=parseInt(n,10);if(isNaN(e)){e="";for(var t=0;t<n.length;t++){var r=n.charCodeAt(t);if(n[t].search(sae.hanidec)!==-1)e+=$ht.indexOf(n[t]);else for(var i in Lwe){var s=Lwe[i],o=s[0],a=s[1];r>=o&&r<=a&&(e+=r-o)}}return parseInt(e,10)}else return e}function Im(n,e){var t=n.numberingSystem;return e===void 0&&(e=""),new RegExp(""+sae[t||"latn"]+e)}var Hht="missing Intl.DateTimeFormat.formatToParts support";function Sa(n,e){return e===void 0&&(e=function(r){return r}),{regex:n,deser:function(r){var i=r[0];return e(zht(i))}}}var Vht=String.fromCharCode(160),kwe="( |"+Vht+")",Iwe=new RegExp(kwe,"g");function Wht(n){return n.replace(/\./g,"\\.?").replace(Iwe,kwe)}function Mwe(n){return n.replace(/\./g,"").replace(Iwe," ").toLowerCase()}function Mm(n,e){return n===null?null:{regex:RegExp(n.map(Wht).join("|")),deser:function(r){var i=r[0];return n.findIndex(function(s){return Mwe(i)===Mwe(s)})+e}}}function Pwe(n,e){return{regex:n,deser:function(r){var i=r[1],s=r[2];return J$(i,s)},groups:e}}function Bwe(n){return{regex:n,deser:function(t){var r=t[0];return r}}}function Qht(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ght(n,e){var t=Im(e),r=Im(e,"{2}"),i=Im(e,"{3}"),s=Im(e,"{4}"),o=Im(e,"{6}"),a=Im(e,"{1,2}"),l=Im(e,"{1,3}"),f=Im(e,"{1,6}"),p=Im(e,"{1,9}"),_=Im(e,"{2,4}"),E=Im(e,"{4,6}"),O=function(L){return{regex:RegExp(Qht(L.val)),deser:function(P){var G=P[0];return G},literal:!0}},R=function(L){if(n.literal)return O(L);switch(L.val){case"G":return Mm(e.eras("short",!1),0);case"GG":return Mm(e.eras("long",!1),0);case"y":return Sa(f);case"yy":return Sa(_,Qoe);case"yyyy":return Sa(s);case"yyyyy":return Sa(E);case"yyyyyy":return Sa(o);case"M":return Sa(a);case"MM":return Sa(r);case"MMM":return Mm(e.months("short",!0,!1),1);case"MMMM":return Mm(e.months("long",!0,!1),1);case"L":return Sa(a);case"LL":return Sa(r);case"LLL":return Mm(e.months("short",!1,!1),1);case"LLLL":return Mm(e.months("long",!1,!1),1);case"d":return Sa(a);case"dd":return Sa(r);case"o":return Sa(l);case"ooo":return Sa(i);case"HH":return Sa(r);case"H":return Sa(a);case"hh":return Sa(r);case"h":return Sa(a);case"mm":return Sa(r);case"m":return Sa(a);case"q":return Sa(a);case"qq":return Sa(r);case"s":return Sa(a);case"ss":return Sa(r);case"S":return Sa(l);case"SSS":return Sa(i);case"u":return Bwe(p);case"a":return Mm(e.meridiems(),0);case"kkkk":return Sa(s);case"kk":return Sa(_,Qoe);case"W":return Sa(a);case"WW":return Sa(r);case"E":case"c":return Sa(t);case"EEE":return Mm(e.weekdays("short",!1,!1),1);case"EEEE":return Mm(e.weekdays("long",!1,!1),1);case"ccc":return Mm(e.weekdays("short",!0,!1),1);case"cccc":return Mm(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Pwe(new RegExp("([+-]"+a.source+")(?::("+r.source+"))?"),2);case"ZZZ":return Pwe(new RegExp("([+-]"+a.source+")("+r.source+")?"),2);case"z":return Bwe(/[a-z_+-/]{1,256}?/i);default:return O(L)}},q=R(n)||{invalidReason:Hht};return q.token=n,q}var Yht={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function Kht(n,e,t){var r=n.type,i=n.value;if(r==="literal")return{literal:!0,val:i};var s=t[r],o=Yht[r];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function Jht(n){var e=n.map(function(t){return t.regex}).reduce(function(t,r){return t+"("+r.source+")"},"");return["^"+e+"$",n]}function Xht(n,e,t){var r=n.match(e);if(r){var i={},s=1;for(var o in t)if(Yw(t,o)){var a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function Zht(n){var e=function(s){switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t;ia(n.Z)?ia(n.z)?t=null:t=Fx.create(n.z):t=new ip(n.Z),ia(n.q)||(n.M=(n.q-1)*3+1),ia(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),ia(n.u)||(n.S=Hoe(n.u));var r=Object.keys(n).reduce(function(i,s){var o=e(s);return o&&(i[o]=n[s]),i},{});return[r,t]}var oae=null;function ept(){return oae||(oae=wc.fromMillis(1555555555555)),oae}function tpt(n,e){if(n.literal)return n;var t=Tx.macroTokenToFormatOpts(n.val);if(!t)return n;var r=Tx.create(e,t),i=r.formatDateTimeParts(ept()),s=i.map(function(o){return Kht(o,e,t)});return s.includes(void 0)?n:s}function npt(n,e){var t;return(t=Array.prototype).concat.apply(t,n.map(function(r){return tpt(r,e)}))}function jwe(n,e,t){var r=npt(Tx.parseFormat(t),n),i=r.map(function(z){return Ght(z,n)}),s=i.find(function(z){return z.invalidReason});if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};var o=Jht(i),a=o[0],l=o[1],f=RegExp(a,"i"),p=Xht(e,f,l),_=p[0],E=p[1],O=E?Zht(E):[null,null],R=O[0],q=O[1];if(Yw(E,"a")&&Yw(E,"H"))throw new KO("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:f,rawMatches:_,matches:E,result:R,zone:q}}function rpt(n,e,t){var r=jwe(n,e,t),i=r.result,s=r.zone,o=r.invalidReason;return[i,s,o]}var qwe=[0,31,59,90,120,151,181,212,243,273,304,334],Uwe=[0,31,60,91,121,152,182,213,244,274,305,335];function b1(n,e){return new km("unit out of range","you specified "+e+" (of type "+typeof e+") as a "+n+", which is invalid")}function $we(n,e,t){var r=new Date(Date.UTC(n,e-1,t)).getUTCDay();return r===0?7:r}function zwe(n,e,t){return t+(XO(n)?Uwe:qwe)[e-1]}function Hwe(n,e){var t=XO(n)?Uwe:qwe,r=t.findIndex(function(s){return s<e}),i=e-t[r];return{month:r+1,day:i}}function aae(n){var e=n.year,t=n.month,r=n.day,i=zwe(e,t,r),s=$we(e,t,r),o=Math.floor((i-s+10)/7),a;return o<1?(a=e-1,o=K$(a)):o>K$(e)?(a=e+1,o=1):a=e,Object.assign({weekYear:a,weekNumber:o,weekday:s},ez(n))}function Vwe(n){var e=n.weekYear,t=n.weekNumber,r=n.weekday,i=$we(e,1,4),s=ZO(e),o=t*7+r-i-3,a;o<1?(a=e-1,o+=ZO(a)):o>s?(a=e+1,o-=ZO(e)):a=e;var l=Hwe(a,o),f=l.month,p=l.day;return Object.assign({year:a,month:f,day:p},ez(n))}function uae(n){var e=n.year,t=n.month,r=n.day,i=zwe(e,t,r);return Object.assign({year:e,ordinal:i},ez(n))}function Wwe(n){var e=n.year,t=n.ordinal,r=Hwe(e,t),i=r.month,s=r.day;return Object.assign({year:e,month:i,day:s},ez(n))}function ipt(n){var e=G$(n.weekYear),t=vy(n.weekNumber,1,K$(n.weekYear)),r=vy(n.weekday,1,7);return e?t?r?!1:b1("weekday",n.weekday):b1("week",n.week):b1("weekYear",n.weekYear)}function spt(n){var e=G$(n.year),t=vy(n.ordinal,1,ZO(n.year));return e?t?!1:b1("ordinal",n.ordinal):b1("year",n.year)}function Qwe(n){var e=G$(n.year),t=vy(n.month,1,12),r=vy(n.day,1,Y$(n.year,n.month));return e?t?r?!1:b1("day",n.day):b1("month",n.month):b1("year",n.year)}function Gwe(n){var e=n.hour,t=n.minute,r=n.second,i=n.millisecond,s=vy(e,0,23)||e===24&&t===0&&r===0&&i===0,o=vy(t,0,59),a=vy(r,0,59),l=vy(i,0,999);return s?o?a?l?!1:b1("millisecond",i):b1("second",r):b1("minute",t):b1("hour",e)}var lae="Invalid DateTime",Ywe=864e13;function iz(n){return new km("unsupported zone",'the zone "'+n.name+'" is not supported')}function cae(n){return n.weekData===null&&(n.weekData=aae(n.c)),n.weekData}function rR(n,e){var t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new wc(Object.assign({},t,e,{old:t}))}function Kwe(n,e,t){var r=n-e*60*1e3,i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;var s=t.offset(r);return i===s?[r,i]:[n-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Jwe(n,e){n+=e*60*1e3;var t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function sz(n,e,t){return Kwe(Woe(n),e,t)}function Xwe(n,e){var t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s=Object.assign({},n.c,{year:r,month:i,day:Math.min(n.c.day,Y$(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=Od.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Woe(s),l=Kwe(a,t,n.zone),f=l[0],p=l[1];return o!==0&&(f+=o,p=n.zone.offset(f)),{ts:f,o:p}}function iR(n,e,t,r,i){var s=t.setZone,o=t.zone;if(n&&Object.keys(n).length!==0){var a=e||o,l=wc.fromObject(Object.assign(n,t,{zone:a,setZone:void 0}));return s?l:l.setZone(o)}else return wc.invalid(new km("unparsable",'the input "'+i+`" can't be parsed as `+r))}function iC(n,e,t){return t===void 0&&(t=!0),n.isValid?Tx.create(wf.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Zwe(n,e){var t=e.suppressSeconds,r=t===void 0?!1:t,i=e.suppressMilliseconds,s=i===void 0?!1:i,o=e.includeOffset,a=e.includePrefix,l=a===void 0?!1:a,f=e.includeZone,p=f===void 0?!1:f,_=e.spaceZone,E=_===void 0?!1:_,O=e.format,R=O===void 0?"extended":O,q=R==="basic"?"HHmm":"HH:mm";(!r||n.second!==0||n.millisecond!==0)&&(q+=R==="basic"?"ss":":ss",(!s||n.millisecond!==0)&&(q+=".SSS")),(p||o)&&E&&(q+=" "),p?q+="z":o&&(q+=R==="basic"?"ZZZ":"ZZ");var z=iC(n,q);return l&&(z="T"+z),z}var eCe={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},opt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},apt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},tCe=["year","month","day","hour","minute","second","millisecond"],upt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],lpt=["year","ordinal","hour","minute","second","millisecond"];function nCe(n){var e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new ewe(n);return e}function rCe(n,e){for(var t=x4(tCe),r;!(r=t()).done;){var i=r.value;ia(n[i])&&(n[i]=eCe[i])}var s=Qwe(n)||Gwe(n);if(s)return wc.invalid(s);var o=Zl.now(),a=e.offset(o),l=sz(n,a,e),f=l[0],p=l[1];return new wc({ts:f,zone:e,o:p})}function iCe(n,e,t){var r=ia(t.round)?!0:t.round,i=function(_,E){_=Voe(_,r||t.calendary?0:2,!0);var O=e.loc.clone(t).relFormatter(t);return O.format(_,E)},s=function(_){return t.calendary?e.hasSame(n,_)?0:e.startOf(_).diff(n.startOf(_),_).get(_):e.diff(n,_).get(_)};if(t.unit)return i(s(t.unit),t.unit);for(var o=x4(t.units),a;!(a=o()).done;){var l=a.value,f=s(l);if(Math.abs(f)>=1)return i(f,l)}return i(n>e?-0:0,t.units[t.units.length-1])}var wc=function(){function n(t){var r=t.zone||Zl.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new km("invalid input"):null)||(r.isValid?null:iz(r));this.ts=ia(t.ts)?Zl.now():t.ts;var s=null,o=null;if(!i){var a=t.old&&t.old.ts===this.ts&&t.old.zone.equals(r);if(a){var l=[t.old.c,t.old.o];s=l[0],o=l[1]}else{var f=r.offset(this.ts);s=Jwe(this.ts,f),i=Number.isNaN(s.year)?new km("invalid input"):null,s=i?null:s,o=i?null:f}}this._zone=r,this.loc=t.loc||wf.create(),this.invalid=i,this.weekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}n.now=function(){return new n({})},n.local=function(r,i,s,o,a,l,f){return ia(r)?n.now():rCe({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:f},Zl.defaultZone)},n.utc=function(r,i,s,o,a,l,f){return ia(r)?new n({ts:Zl.now(),zone:ip.utcInstance}):rCe({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:f},ip.utcInstance)},n.fromJSDate=function(r,i){i===void 0&&(i={});var s=ydt(r)?r.valueOf():NaN;if(Number.isNaN(s))return n.invalid("invalid input");var o=cb(i.zone,Zl.defaultZone);return o.isValid?new n({ts:s,zone:o,loc:wf.fromObject(i)}):n.invalid(iz(o))},n.fromMillis=function(r,i){if(i===void 0&&(i={}),lb(r))return r<-Ywe||r>Ywe?n.invalid("Timestamp out of range"):new n({ts:r,zone:cb(i.zone,Zl.defaultZone),loc:wf.fromObject(i)});throw new v1("fromMillis requires a numerical input, but received a "+typeof r+" with value "+r)},n.fromSeconds=function(r,i){if(i===void 0&&(i={}),lb(r))return new n({ts:r*1e3,zone:cb(i.zone,Zl.defaultZone),loc:wf.fromObject(i)});throw new v1("fromSeconds requires a numerical input")},n.fromObject=function(r){var i=cb(r.zone,Zl.defaultZone);if(!i.isValid)return n.invalid(iz(i));var s=Zl.now(),o=i.offset(s),a=X$(r,nCe,["zone","locale","outputCalendar","numberingSystem"]),l=!ia(a.ordinal),f=!ia(a.year),p=!ia(a.month)||!ia(a.day),_=f||p,E=a.weekYear||a.weekNumber,O=wf.fromObject(r);if((_||l)&&E)throw new KO("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&l)throw new KO("Can't mix ordinal dates with month/day");var R=E||a.weekday&&!_,q,z,L=Jwe(s,o);R?(q=upt,z=opt,L=aae(L)):l?(q=lpt,z=apt,L=uae(L)):(q=tCe,z=eCe);for(var B=!1,P=x4(q),G;!(G=P()).done;){var ue=G.value,I=a[ue];ia(I)?B?a[ue]=z[ue]:a[ue]=L[ue]:B=!0}var J=R?ipt(a):l?spt(a):Qwe(a),he=J||Gwe(a);if(he)return n.invalid(he);var ve=R?Vwe(a):l?Wwe(a):a,Ve=sz(ve,o,i),ot=Ve[0],lt=Ve[1],et=new n({ts:ot,zone:i,o:lt,loc:O});return a.weekday&&_&&r.weekday!==et.weekday?n.invalid("mismatched weekday","you can't specify both a weekday of "+a.weekday+" and a date of "+et.toISO()):et},n.fromISO=function(r,i){i===void 0&&(i={});var s=Eht(r),o=s[0],a=s[1];return iR(o,a,i,"ISO 8601",r)},n.fromRFC2822=function(r,i){i===void 0&&(i={});var s=Sht(r),o=s[0],a=s[1];return iR(o,a,i,"RFC 2822",r)},n.fromHTTP=function(r,i){i===void 0&&(i={});var s=wht(r),o=s[0],a=s[1];return iR(o,a,i,"HTTP",i)},n.fromFormat=function(r,i,s){if(s===void 0&&(s={}),ia(r)||ia(i))throw new v1("fromFormat requires an input string and a format");var o=s,a=o.locale,l=a===void 0?null:a,f=o.numberingSystem,p=f===void 0?null:f,_=wf.fromOpts({locale:l,numberingSystem:p,defaultToEN:!0}),E=rpt(_,r,i),O=E[0],R=E[1],q=E[2];return q?n.invalid(q):iR(O,R,s,"format "+i,r)},n.fromString=function(r,i,s){return s===void 0&&(s={}),n.fromFormat(r,i,s)},n.fromSQL=function(r,i){i===void 0&&(i={});var s=Nht(r),o=s[0],a=s[1];return iR(o,a,i,"SQL",r)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new v1("need to specify a reason the DateTime is invalid");var s=r instanceof km?r:new km(r,i);if(Zl.throwOnInvalid)throw new pdt(s);return new n({invalid:s})},n.isDateTime=function(r){return r&&r.isLuxonDateTime||!1};var e=n.prototype;return e.get=function(r){return this[r]},e.resolvedLocaleOpts=function(r){r===void 0&&(r={});var i=Tx.create(this.loc.clone(r),r).resolvedOptions(this),s=i.locale,o=i.numberingSystem,a=i.calendar;return{locale:s,numberingSystem:o,outputCalendar:a}},e.toUTC=function(r,i){return r===void 0&&(r=0),i===void 0&&(i={}),this.setZone(ip.instance(r),i)},e.toLocal=function(){return this.setZone(Zl.defaultZone)},e.setZone=function(r,i){var s=i===void 0?{}:i,o=s.keepLocalTime,a=o===void 0?!1:o,l=s.keepCalendarTime,f=l===void 0?!1:l;if(r=cb(r,Zl.defaultZone),r.equals(this.zone))return this;if(r.isValid){var p=this.ts;if(a||f){var _=r.offset(this.ts),E=this.toObject(),O=sz(E,_,r);p=O[0]}return rR(this,{ts:p,zone:r})}else return n.invalid(iz(r))},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar,l=this.loc.clone({locale:s,numberingSystem:o,outputCalendar:a});return rR(this,{loc:l})},e.setLocale=function(r){return this.reconfigure({locale:r})},e.set=function(r){if(!this.isValid)return this;var i=X$(r,nCe,[]),s=!ia(i.weekYear)||!ia(i.weekNumber)||!ia(i.weekday),o=!ia(i.ordinal),a=!ia(i.year),l=!ia(i.month)||!ia(i.day),f=a||l,p=i.weekYear||i.weekNumber;if((f||o)&&p)throw new KO("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new KO("Can't mix ordinal dates with month/day");var _;s?_=Vwe(Object.assign(aae(this.c),i)):ia(i.ordinal)?(_=Object.assign(this.toObject(),i),ia(i.day)&&(_.day=Math.min(Y$(_.year,_.month),_.day))):_=Wwe(Object.assign(uae(this.c),i));var E=sz(_,this.o,this.zone),O=E[0],R=E[1];return rR(this,{ts:O,o:R})},e.plus=function(r){if(!this.isValid)return this;var i=mb(r);return rR(this,Xwe(this,i))},e.minus=function(r){if(!this.isValid)return this;var i=mb(r).negate();return rR(this,Xwe(this,i))},e.startOf=function(r){if(!this.isValid)return this;var i={},s=Od.normalizeUnit(r);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(s==="weeks"&&(i.weekday=1),s==="quarters"){var o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)},e.endOf=function(r){var i;return this.isValid?this.plus((i={},i[r]=1,i)).startOf(r).minus(1):this},e.toFormat=function(r,i){return i===void 0&&(i={}),this.isValid?Tx.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,r):lae},e.toLocaleString=function(r){return r===void 0&&(r=Q$),this.isValid?Tx.create(this.loc.clone(r),r).formatDateTime(this):lae},e.toLocaleParts=function(r){return r===void 0&&(r={}),this.isValid?Tx.create(this.loc.clone(r),r).formatDateTimeParts(this):[]},e.toISO=function(r){return r===void 0&&(r={}),this.isValid?this.toISODate(r)+"T"+this.toISOTime(r):null},e.toISODate=function(r){var i=r===void 0?{}:r,s=i.format,o=s===void 0?"extended":s,a=o==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(a="+"+a),iC(this,a)},e.toISOWeekDate=function(){return iC(this,"kkkk-'W'WW-c")},e.toISOTime=function(r){var i=r===void 0?{}:r,s=i.suppressMilliseconds,o=s===void 0?!1:s,a=i.suppressSeconds,l=a===void 0?!1:a,f=i.includeOffset,p=f===void 0?!0:f,_=i.includePrefix,E=_===void 0?!1:_,O=i.format,R=O===void 0?"extended":O;return Zwe(this,{suppressSeconds:l,suppressMilliseconds:o,includeOffset:p,includePrefix:E,format:R})},e.toRFC2822=function(){return iC(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},e.toHTTP=function(){return iC(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},e.toSQLDate=function(){return iC(this,"yyyy-MM-dd")},e.toSQLTime=function(r){var i=r===void 0?{}:r,s=i.includeOffset,o=s===void 0?!0:s,a=i.includeZone,l=a===void 0?!1:a;return Zwe(this,{includeOffset:o,includeZone:l,spaceZone:!0})},e.toSQL=function(r){return r===void 0&&(r={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(r):null},e.toString=function(){return this.isValid?this.toISO():lae},e.valueOf=function(){return this.toMillis()},e.toMillis=function(){return this.isValid?this.ts:NaN},e.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},e.toJSON=function(){return this.toISO()},e.toBSON=function(){return this.toJSDate()},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.c);return r.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},e.diff=function(r,i,s){if(i===void 0&&(i="milliseconds"),s===void 0&&(s={}),!this.isValid||!r.isValid)return Od.invalid(this.invalid||r.invalid,"created by diffing an invalid DateTime");var o=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},s),a=vdt(i).map(Od.normalizeUnit),l=r.valueOf()>this.valueOf(),f=l?this:r,p=l?r:this,_=Uht(f,p,a,o);return l?_.negate():_},e.diffNow=function(r,i){return r===void 0&&(r="milliseconds"),i===void 0&&(i={}),this.diff(n.now(),r,i)},e.until=function(r){return this.isValid?tR.fromDateTimes(this,r):this},e.hasSame=function(r,i){if(!this.isValid)return!1;var s=r.valueOf(),o=this.setZone(r.zone,{keepLocalTime:!0});return o.startOf(i)<=s&&s<=o.endOf(i)},e.equals=function(r){return this.isValid&&r.isValid&&this.valueOf()===r.valueOf()&&this.zone.equals(r.zone)&&this.loc.equals(r.loc)},e.toRelative=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=r.base||n.fromObject({zone:this.zone}),s=r.padding?this<i?-r.padding:r.padding:0,o=["years","months","days","hours","minutes","seconds"],a=r.unit;return Array.isArray(r.unit)&&(o=r.unit,a=void 0),iCe(i,this.plus(s),Object.assign(r,{numeric:"always",units:o,unit:a}))},e.toRelativeCalendar=function(r){return r===void 0&&(r={}),this.isValid?iCe(r.base||n.fromObject({zone:this.zone}),this,Object.assign(r,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},n.min=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new v1("min requires all arguments be DateTimes");return iwe(i,function(o){return o.valueOf()},Math.min)},n.max=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new v1("max requires all arguments be DateTimes");return iwe(i,function(o){return o.valueOf()},Math.max)},n.fromFormatExplain=function(r,i,s){s===void 0&&(s={});var o=s,a=o.locale,l=a===void 0?null:a,f=o.numberingSystem,p=f===void 0?null:f,_=wf.fromOpts({locale:l,numberingSystem:p,defaultToEN:!0});return jwe(_,r,i)},n.fromStringExplain=function(r,i,s){return s===void 0&&(s={}),n.fromFormatExplain(r,i,s)},Nm(n,[{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?cae(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?cae(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?cae(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?uae(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?nR.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?nR.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?nR.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?nR.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return XO(this.year)}},{key:"daysInMonth",get:function(){return Y$(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?ZO(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?K$(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return Q$}},{key:"DATE_MED",get:function(){return Coe}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return twe}},{key:"DATE_FULL",get:function(){return Aoe}},{key:"DATE_HUGE",get:function(){return Toe}},{key:"TIME_SIMPLE",get:function(){return Foe}},{key:"TIME_WITH_SECONDS",get:function(){return Doe}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Ooe}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return Roe}},{key:"TIME_24_SIMPLE",get:function(){return Noe}},{key:"TIME_24_WITH_SECONDS",get:function(){return Loe}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return koe}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return Ioe}},{key:"DATETIME_SHORT",get:function(){return Moe}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Poe}},{key:"DATETIME_MED",get:function(){return Boe}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return joe}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return nwe}},{key:"DATETIME_FULL",get:function(){return qoe}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Uoe}},{key:"DATETIME_HUGE",get:function(){return $oe}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return zoe}}]),n}();function sR(n){if(wc.isDateTime(n))return n;if(n&&n.valueOf&&lb(n.valueOf()))return wc.fromJSDate(n);if(n&&typeof n=="object")return wc.fromObject(n);throw new v1("Unknown datetime argument: "+n+", of type "+typeof n)}var cpt="1.28.0";sp.DateTime=wc;sp.Duration=Od;sp.FixedOffsetZone=ip;sp.IANAZone=Fx;sp.Info=nR;sp.Interval=tR;sp.InvalidZone=Koe;sp.LocalZone=gwe;sp.Settings=Zl;sp.VERSION=cpt;sp.Zone=Jw});var hCe=Ae(Yu=>{"use strict";m();Object.defineProperty(Yu,"__esModule",{value:!0});Yu.ExprFunc=Yu.ExprTimeExtract=Yu.ForRange=Yu.PartialCompare=Yu.Apply=Yu.ExprCompare=Yu.ExprDuration=Yu.ExprNow=Yu.GranularLiteral=Yu.ExprGranularTime=Yu.Timeframe=void 0;var xb=sCe(),E1=xm(),si=d4(),oCe=class extends si.MalloyElement{constructor(e){super();this.elementType="timeframe";let t=e.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1)),this.text=(0,E1.isTimestampUnit)(t)?t:"second"}};Yu.Timeframe=oCe;var fae=class extends si.ExpressionDef{constructor(e,t,r){super({expr:e});this.expr=e,this.units=t,this.truncate=r,this.elementType="granularTime",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}granular(){return!0}getExpression(e){let t=this.units,r=this.expr.getExpression(e);if((0,E1.isTimeFieldType)(r.dataType)){let i={...r,dataType:r.dataType,timeframe:t};return this.truncate&&(i.value=[{type:"dialect",function:"trunc",expr:{value:r.value,valueType:r.dataType},units:t}]),i}return this.log(`Cannot do time truncation on type '${r.dataType}'`),(0,si.errorFor)("granularity typecheck")}apply(e,t,r){let i=this.getExpression(e).dataType,s=r.getExpression(e).dataType,o=(0,E1.isDateUnit)(this.units)?"date":"timestamp";return i=="date"&&o=="date"?this.dateRange(e,t,r):this.timestampRange(e,t,r)}timestampRange(e,t,r){let i=this.getExpression(e),s=si.ExprTime.fromValue("timestamp",i),o=new si.ExprTime("timestamp",(0,si.timeOffset)("timestamp",i.value,"+",(0,E1.mkExpr)`1`,this.units),i.aggregate);return new si.Range(s,o).apply(e,t,r)}dateRange(e,t,r){let i=this.getExpression(e),s=new si.ExprTime("date",i.value,i.aggregate),o=(0,si.timeOffset)("date",i.value,"+",["1"],this.units),a=new si.ExprTime("date",o,i.aggregate);return new si.Range(s,a).apply(e,t,r)}};Yu.ExprGranularTime=fae;var Dx=class extends si.ExpressionDef{constructor(e,t,r){super();this.moment=e,this.until=t,this.units=r,this.elementType="timeLiteral"}granular(){return!0}static parse(e){let t=e.slice(1),r="yyyy",i=`${r}-LL`,s=`${i}-dd`,o=`${s} HH:mm`,a=`${o}:ss`,l=xb.DateTime.fromFormat(t,a);if(l.isValid){let R=l.plus({second:1}).toFormat(a),q=new Dx(t,R,"second");return q.timeType="timestamp",q}let f=xb.DateTime.fromFormat(t,o);if(f.isValid){let R=t+":00",q=f.plus({minute:1}).toFormat(o)+":00",z=new Dx(R,q,"minute");return z.timeType="timestamp",z}let p=t.match(/(\d{4})-[qQ](\d)$/);if(p){let R=Number.parseInt(p[2])-1,q=xb.DateTime.fromFormat(p[1],"yyyy");R>0&&(q=q.plus({quarters:R}));let z=q.plus({quarter:1});return new Dx(`${q.toFormat(s)}`,`${z.toFormat(s)}`,"quarter")}let _=xb.DateTime.fromFormat(t,s);if(_.isValid){let R=_.plus({days:1});return new Dx(`${_.toFormat(s)}`,`${R.toFormat(s)}`,"day")}let E=xb.DateTime.fromFormat(t,i);if(E.isValid){let R=E.plus({months:1});return new Dx(`${E.toFormat(s)}`,`${R.toFormat(s)}`,"month")}let O=xb.DateTime.fromFormat(t,r);if(O.isValid){let R=O.toFormat("yyyy-01-01"),q=O.plus({year:1}).toFormat("yyyy-01-01");return new Dx(R,q,"year")}if(t.startsWith("WK")){let R=xb.DateTime.fromFormat(t.slice(2),s);if(R.isValid){let q=R;R.weekday!==7&&(q=R.startOf("week").minus({day:1}));let z=q.plus({days:7});return new Dx(`${q.toFormat(s)}`,`${z.toFormat(s)}`,"week")}}}apply(e,t,r){let i=r.getExpression(e);if((0,E1.isTimeFieldType)(i.dataType)){let s="timestamp";return i.dataType==="date"&&!this.timeType&&(s="date"),new si.Range(new si.ExprTime(s,(0,si.timeLiteral)(this.moment,s,"UTC")),new si.ExprTime(s,(0,si.timeLiteral)(this.until,s,"UTC"))).apply(e,t,r)}return super.apply(e,t,r)}getExpression(e){let t=this.timeType||"date",r={dataType:t,aggregate:!1,value:(0,si.timeLiteral)(this.moment,t,"UTC")};return t=="date"&&(0,E1.isDateUnit)(this.units)&&(r.alsoTimestamp=!0),this.units!="second"?{...r,timeframe:this.units}:r}};Yu.GranularLiteral=Dx;var aCe=class extends si.ExpressionDef{constructor(){super(...arguments);this.elementType="timestamp"}getExpression(e){return{dataType:"timestamp",aggregate:!1,value:[{type:"dialect",function:"now"}]}}};Yu.ExprNow=aCe;var uCe=class extends si.ExpressionDef{constructor(e,t){super({n:e});this.n=e,this.timeframe=t,this.elementType="duration",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}apply(e,t,r){let i=r.getExpression(e);if(this.typeCheck(this,i),(0,E1.isTimeFieldType)(i.dataType)&&(t==="+"||t==="-")){let s=this.n.getExpression(e);if(!si.FT.typeEq(s,si.FT.numberT))return this.log(`Duration units needs number not '${s.dataType}`),(0,si.errorFor)("illegal unit expression");let o;if((0,si.isGranularResult)(i)&&i.timeframe==this.timeframe&&(o=i.timeframe),i.dataType==="timestamp"){let a=(0,si.timeOffset)("timestamp",i.value,t,s.value,this.timeframe);return(0,si.timeResult)({dataType:"timestamp",aggregate:i.aggregate||s.aggregate,value:a},o)}return(0,si.timeResult)({dataType:"date",aggregate:i.aggregate||s.aggregate,value:(0,si.timeOffset)("date",i.value,t,s.value,this.timeframe)},o)}return super.apply(e,t,r)}getExpression(e){return{dataType:"duration",aggregate:!1,value:["__ERROR_DURATION_IS_NOT_A_VALUE__"]}}};Yu.ExprDuration=uCe;var dae=class extends si.BinaryBoolean{constructor(e,t,r){super(e,t,r);this.elementType="a<=>b",this.legalChildTypes=fpt[t]}getExpression(e){if(!this.right.granular()){let t=this.right.requestExpression(e);if(t&&(0,si.isGranularResult)(t))return new fae(this.right,t.timeframe,!1).apply(e,this.op,this.left)}return this.right.apply(e,this.op,this.left)}};Yu.ExprCompare=dae;var lCe=class extends dae{constructor(e,t){super(e,"=",t);this.left=e,this.right=t,this.elementType="apply"}};Yu.Apply=lCe;var fpt={"~":[si.FT.stringT],"!~":[si.FT.stringT],"<":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"<=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"!=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],">=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],">":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT]},cCe=class extends si.ExpressionDef{constructor(e,t){super({right:t});this.op=e,this.right=t,this.elementType="<=> a"}granular(){return this.right.granular()}apply(e,t,r){return this.right.apply(e,this.op,r)}requestExpression(e){}getExpression(e){return this.log("Partial comparison does not have a value"),(0,si.errorFor)("no value for partial compare")}};Yu.PartialCompare=cCe;var fCe=class extends si.ExpressionDef{constructor(e,t,r){super({from:e,duration:t,timeframe:r});this.from=e,this.duration=t,this.timeframe=r,this.elementType="forRange",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}apply(e,t,r){let i=this.from.getExpression(e),s=r.getExpression(e);if(!this.typeCheck(r,s))return(0,si.errorFor)("no time for range");let o=this.duration.getExpression(e);if(o.dataType!=="number")return this.log(`FOR duration count must be a number, not '${o.dataType}'`),(0,si.errorFor)("FOR not number");let a=this.timeframe.text,f=(0,si.resolution)(a);if(i.dataType==="timestamp"&&(f="timestamp"),s.dataType==="date"&&f==="date"){let q=this.from,z=(0,si.timeOffset)("date",i.value,"+",o.value,a),L=new si.ExprTime("date",z);return new si.Range(q,L).apply(e,t,r)}let p=si.ExprTime.fromValue("timestamp",s),_=this.from,E=i.value;i.dataType==="date"&&((0,si.isGranularResult)(i)&&i.alsoTimestamp||(E=(0,si.castDateToTimestamp)(E)),_=new si.ExprTime("timestamp",E,i.aggregate));let O=(0,si.timeOffset)("timestamp",E,"+",o.value,a),R=new si.ExprTime("timestamp",O,i.aggregate);return new si.Range(_,R).apply(e,t,p)}requestExpression(e){}getExpression(e){return this.log("A Range is not a value"),(0,si.errorFor)("range has no value")}};Yu.ForRange=fCe;var sC=class extends si.ExpressionDef{constructor(e,t){super({args:t});this.extractText=e,this.args=t,this.elementType="timeExtract"}static extractor(e){let t=sC.pluralMap[e];if(t)return t;if((0,E1.isExtractUnit)(e))return e}getExpression(e){let t=sC.extractor(this.extractText);if(t){if(this.args.length!==1)return this.log(`Extraction function ${t} requires one argument`),(0,si.errorFor)("{this.name} arg count");let r=this.args[0];if(r instanceof si.Range){let i=r.first.getExpression(e),s=r.last.getExpression(e);return(0,E1.isTimeFieldType)(i.dataType)?(0,E1.isTimeFieldType)(s.dataType)?(0,E1.isTimestampUnit)(t)?{dataType:"number",aggregate:i.aggregate||s.aggregate,value:[{type:"dialect",function:"timeDiff",units:t,left:{valueType:i.dataType,value:i.value},right:{valueType:s.dataType,value:s.value}}]}:(this.log(`Cannot extract ${t} from a range`),(0,si.errorFor)(`${t} bad extraction`)):(r.last.log(`Cannot extract ${t} from '${s.dataType}'`),(0,si.errorFor)(`${t} bad type ${s.dataType}`)):(r.first.log(`Can't extract ${t} from '${i.dataType}'`),(0,si.errorFor)(`${t} bad type ${i.dataType}`))}else{let i=r.getExpression(e);return(0,E1.isTimeFieldType)(i.dataType)?{dataType:"number",aggregate:i.aggregate,value:[{type:"dialect",function:"extract",expr:{value:i.value,valueType:i.dataType},units:t}]}:(this.log(`${this.extractText}() requires time type, not '${i.dataType}'`),(0,si.errorFor)(`${this.extractText} bad type ${i.dataType}`))}}throw this.internalError(`Illegal extraction unit '${this.extractText}'`)}};Yu.ExprTimeExtract=sC;sC.pluralMap={years:"year",quarters:"quarter",months:"month",weeks:"week",days:"day",hours:"hour",minutes:"minute",seconds:"second"};var dCe=class extends si.ExpressionDef{constructor(e,t){super({args:t});this.name=e,this.args=t,this.elementType="function call()"}getExpression(e){var t,r,i;let s=!1,o,a=[`${this.name}(`];for(let p of this.args){let _=p.getExpression(e);_.aggregate&&(s=!0),o?a.push(","):o=_.dataType,a.push(..._.value)}a.push(")");let l=e.dialectObj();return{dataType:(i=(r=(t=l==null?void 0:l.getFunctionInfo(this.name))===null||t===void 0?void 0:t.returnType)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"number",aggregate:s,value:(0,si.compressExpr)(a)}}};Yu.ExprFunc=dCe});var d4=Ae(Pm=>{"use strict";m();var dpt=Pm&&Pm.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),oR=Pm&&Pm.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&dpt(e,n,t)};Object.defineProperty(Pm,"__esModule",{value:!0});oR(g8e(),Pm);oR(cSe(),Pm);oR(JSe(),Pm);oR(hCe(),Pm);oR(T$(),Pm)});var hae=Ae(y4=>{"use strict";m();var aR=y4&&y4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},uR=y4&&y4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(y4,"__esModule",{value:!0});y4.AbstractParseTreeVisitor=void 0;var _y=wr(),gb=class{visit(e){return e.accept(this)}visitChildren(e){let t=this.defaultResult(),r=e.childCount;for(let i=0;i<r&&this.shouldVisitNextChild(e,t);i++){let o=e.getChild(i).accept(this);t=this.aggregateResult(t,o)}return t}visitTerminal(e){return this.defaultResult()}visitErrorNode(e){return this.defaultResult()}aggregateResult(e,t){return t}shouldVisitNextChild(e,t){return!0}};aR([_y.Override,uR(0,_y.NotNull)],gb.prototype,"visit",null);aR([_y.Override,uR(0,_y.NotNull)],gb.prototype,"visitChildren",null);aR([_y.Override,uR(0,_y.NotNull)],gb.prototype,"visitTerminal",null);aR([_y.Override,uR(0,_y.NotNull)],gb.prototype,"visitErrorNode",null);aR([uR(0,_y.NotNull)],gb.prototype,"shouldVisitNextChild",null);y4.AbstractParseTreeVisitor=gb});var mCe=Ae(Ox=>{"use strict";m();var hpt=Ox&&Ox.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ppt=Ox&&Ox.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),mpt=Ox&&Ox.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&hpt(e,n,t);return ppt(e,n),e};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.MalloyToAST=void 0;var xpt=hae(),xr=mpt(d4()),gpt=M0(),pCe=class extends xpt.AbstractParseTreeVisitor{constructor(e,t){super();this.parse=e,this.msgLog=t}internalError(e,t){let r=`Internal Translator Error: ${t}`;return this.contextError(e,r),new Error(r)}astError(e,t,r="error"){this.msgLog.log({message:t,at:e.location,severity:r})}contextError(e,t,r="error"){this.msgLog.log({message:t,at:{url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(e)},severity:r})}onlyExploreProperties(e){let t=[];for(let r of e)xr.isExploreProperty(r)?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyJoins(e){let t=[];for(let r of e)r instanceof xr.Join?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyDocStatements(e){let t=[];for(let r of e)xr.isDocStatement(r)?t.push(r):this.astError(r,`Expected statement, not '${r.elementType}'`);return t}onlyNestedQueries(e){let t=[];for(let r of e)xr.isNestedQuery(r)?t.push(r):this.astError(r,`Expected query, not '${r.elementType}'`);return t}onlyQueryRefs(e){let t=[];for(let r of e)r instanceof xr.FieldReference||r instanceof xr.FieldDeclaration?t.push(r):r instanceof xr.Unimplemented&&r.reported||this.astError(r,`Expected query field, not '${r.elementType}'`);return t}getNumber(e){return Number.parseInt(e.text)}getIdText(e){return this.stripQuotes(e.text)}getFieldName(e){return this.astAt(new xr.FieldName(this.getIdText(e)),e)}getModelEntryName(e){return this.astAt(new xr.ModelEntryReference(this.getIdText(e)),e)}stripQuotes(e){return(e[0]==="`"||e[0]==="'"||e[0]==='"')&&e[0]===e[e.length-1]?e.slice(1,-1):e}optionalText(e){if(e)return this.getIdText(e)}defaultResult(){return new xr.Unimplemented}astAt(e,t){return e.location={url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(t)},e}getSourceCode(e){let t=e.start.startIndex,r=e.stop||e.start,i=new gpt.Interval(t,r.stopIndex);return this.parse.sourceStream.getText(i)}getFilterElement(e){let t=this.getFieldExpr(e),r=new xr.FilterElement(t,this.getSourceCode(e));return this.astAt(r,e)}getFieldDefs(e,t){let r=[];for(let i of e){let s=this.visit(i);s instanceof xr.FieldDeclaration?(this.astAt(s,i),r.push(s),t!==void 0&&(s.isMeasure=t)):this.contextError(i,"Expected field definition")}return r}getFieldExpr(e){let t=this.visit(e);if(t instanceof xr.ExpressionDef)return this.astAt(t,e);throw this.internalError(e,`expression node unknown type '${t.elementType}'`)}getSegments(e){return e.map(t=>this.visitQueryProperties(t.queryProperties()))}getFilterShortcut(e){let t=this.getFilterElement(e.fieldExpr());return new xr.Filter([t])}getExploreSource(e){let t=this.visit(e);if(t instanceof xr.Mallobj)return t;throw this.internalError(e,`'${t.elementType}': illegal explore source`)}visitMalloyDocument(e){let t=this.onlyDocStatements(e.malloyStatement().map(r=>this.visit(r)));return new xr.Document(t)}visitDefineExploreStatement(e){let r=e.exploreDefinitionList().exploreDefinition().map(i=>this.visitExploreDefinition(i));return r.length==1?r[0]:new xr.DefineSourceList(r)}visitExploreDefinition(e){let t=new xr.DefineExplore(this.getIdText(e.exploreNameDef()),this.visitExplore(e.explore()),!0,[]);return this.astAt(t,e)}visitExplore(e){let t=this.getExploreSource(e.exploreSource()),r=e.exploreProperties();return r?this.astAt(new xr.RefinedExplore(t,this.visitExploreProperties(r)),e):t}visitExploreProperties(e){let t=e.filterShortcut(),r=e.exploreStatement().map(s=>this.visit(s)),i=new xr.ExploreDesc(this.onlyExploreProperties(r));return t&&i.push(this.getFilterShortcut(t)),i}visitExploreTable(e){let t=this.stripQuotes(e.tableName().text);return this.astAt(new xr.TableSource(t),e)}visitTableSource(e){return this.visitExploreTable(e.exploreTable())}visitSQLSource(e){let t=this.getModelEntryName(e.sqlExploreNameRef());return this.astAt(new xr.SQLSource(t),e)}visitQuerySource(e){let t=this.visit(e.query());if(xr.isQueryElement(t))return this.astAt(new xr.QuerySource(t),e);throw this.internalError(e,`Expect query definition, got a '${t.elementType}'`)}visitDefJoinMany(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof xr.Join&&(r.push(i),i instanceof xr.ExpressionJoin?(i.joinType="many",i.joinOn==null&&i.log("join_many: requires ON expression")):i instanceof xr.KeyJoin&&i.log("Foreign key join not legal in join_many:"));return new xr.Joins(r)}visitDefJoinOne(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof xr.Join&&(r.push(i),i instanceof xr.ExpressionJoin&&(i.joinType="one"));return new xr.Joins(r)}visitDefJoinCross(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof xr.Join&&(r.push(i),i instanceof xr.ExpressionJoin?i.joinType="cross":i.log("Foreign key join not legal in join_cross:"));return new xr.Joins(r)}getJoinList(e){return e.joinDef().map(t=>this.visit(t))}getJoinSource(e,t){return t?this.visitExplore(t):new xr.NamedSource(e)}visitJoinOn(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=new xr.ExpressionJoin(t,r),s=e.joinExpression();return s&&(i.joinOn=this.getFieldExpr(s)),this.astAt(i,e)}visitJoinWith(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=this.getFieldExpr(e.fieldExpr()),s=new xr.KeyJoin(t,r,i);return this.astAt(s,e)}visitFieldDef(e){let t=e.fieldExpr(),r=this.getIdText(e.fieldNameDef()),i=this.getFieldExpr(t),s=new xr.FieldDeclaration(i,r,this.getSourceCode(t));return this.astAt(s,e)}visitDefExploreDimension(e){let t=this.getFieldDefs(e.dimensionDefList().dimensionDef(),!1),r=new xr.Dimensions(t);return this.astAt(r,e)}visitDefExploreMeasure(e){let t=this.getFieldDefs(e.measureDefList().measureDef(),!0),r=new xr.Measures(t);return this.astAt(r,e)}visitDeclareStatement(e){let t=this.getFieldDefs(e.fieldDef(),!0),r=new xr.DeclareFields(t);return this.astAt(r,e)}visitExploreRenameDef(e){let t=e.fieldName(0).id(),r=e.fieldName(1).id(),i=new xr.RenameField(this.getIdText(t),this.getFieldName(r));return this.astAt(i,e)}visitDefExploreRename(e){let r=e.renameList().exploreRenameDef().map(s=>this.visitExploreRenameDef(s)),i=new xr.Renames(r);return this.astAt(i,e)}visitFilterClauseList(e){return new xr.Filter(e.fieldExpr().map(t=>this.getFilterElement(t)))}visitFilterByShortcut(e){let t=this.getFilterElement(e.fieldExpr());return this.astAt(new xr.Filter([t]),e)}visitWhereStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!1,this.astAt(t,e)}visitHavingStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!0,this.astAt(t,e)}visitSubQueryDefList(e){let t=e.exploreQueryDef().map(r=>this.visitExploreQueryDef(r));return new xr.Turtles(t)}visitDefExplorePrimaryKey(e){let t=new xr.PrimaryKey(this.getFieldName(e.fieldName()));return this.astAt(t,e)}visitFieldNameList(e){let t=e.fieldName().map(r=>new xr.FieldReference([this.getFieldName(r)]));return new xr.FieldReferences(t)}visitDefExploreEditField(e){let t=e.ACCEPT()?"accept":"except";return new xr.FieldListEdit(t,this.visitFieldNameList(e.fieldNameList()))}visitQueryProperties(e){let t=e.queryStatement().map(i=>this.astAt(this.visit(i),i)).filter(function(i){return xr.isQueryProperty(i)?!0:(i.log(`Unexpected statement type '${i.elementType}' in query`),!1)}),r=e.filterShortcut();return r&&t.push(this.getFilterShortcut(r)),new xr.QOPDesc(t)}visitFieldPath(e){let t=e.fieldName().map(r=>this.getFieldName(r));return this.astAt(new xr.FieldReference(t),e)}visitQueryFieldDef(e){let t=e.dimensionDef().fieldDef(),r=this.visitFieldDef(t);return this.astAt(r,t)}visitQueryFieldRef(e){return this.visitFieldPath(e.fieldPath())}getQueryItems(e){let t=e.queryFieldEntry().map(r=>this.visit(r));return this.onlyQueryRefs(t)}visitAggregateStatement(e){return new xr.Aggregate(this.getQueryItems(e.queryFieldList()))}visitGroupByStatement(e){return new xr.GroupBy(this.getQueryItems(e.queryFieldList()))}visitFieldCollection(e){let t=[];for(let r of e.collectionMember()){let i=this.visit(r);if(xr.isFieldCollectionMember(i))t.push(i);else throw this.internalError(r,`${i.elementType} is not a query field`)}return this.astAt(new xr.ProjectStatement(t),e)}visitWildMember(e){let t=e.fieldPath(),r=e.STAR()?"*":"**",i=t?this.visitFieldPath(t):void 0;return new xr.WildcardFieldReference(i,r)}visitIndexFields(e){let t=e.indexElement().map(r=>{let i=r.STAR()!=null,s=r.fieldPath();if(!s)return new xr.WildcardFieldReference(void 0,"*");let o=this.visitFieldPath(s);return i?this.astAt(new xr.WildcardFieldReference(o,"*"),e):this.astAt(o,e)});return new xr.FieldReferences(t)}visitIndexStatement(e){let t=this.visitIndexFields(e.indexFields()),r=new xr.Index(t),i=e.fieldName();return i&&r.useWeight(this.getFieldName(i)),this.astAt(r,e)}visitLimitStatement(e){return new xr.Limit(this.getNumber(e.INTEGER_LITERAL()))}visitOrderBySpec(e){let t=e.ASC()?"asc":e.DESC()?"desc":void 0,r=e.INTEGER_LITERAL();if(r)return new xr.OrderBy(this.getNumber(r),t);let i=e.fieldName();if(i)return new xr.OrderBy(this.getFieldName(i),t);throw this.internalError(e,"can't parse order_by specification")}visitOrdering(e){let t=e.orderBySpec().map(r=>this.visitOrderBySpec(r));return this.astAt(new xr.Ordering(t),e)}visitTopStatement(e){let t=e.bySpec(),r=this.getNumber(e.INTEGER_LITERAL()),i;if(t){let s=t.fieldName();if(s){let a=this.getFieldName(s);i=new xr.Top(r,a)}let o=t.fieldExpr();o&&(i=new xr.Top(r,this.getFieldExpr(o)))}return i||(i=new xr.Top(r,void 0)),this.astAt(i,e)}visitExploreName(e){let t=this.getModelEntryName(e.id());return this.astAt(new xr.NamedSource(t),e)}buildPipelineFromName(e,t){let r=t.firstSegment(),i=r.exploreQueryName();i&&(e.turtleName=this.getFieldName(i));let s=r.queryProperties();if(s){let a=this.visitQueryProperties(s);i?e.refineHead(a):e.addSegments(a)}let o=this.getSegments(t.pipeElement());e.addSegments(...o)}visitExploreArrowQuery(e){let t=this.visitExplore(e.explore()),r=new xr.FullQuery(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitArrowQuery(e){let t=new xr.ExistingQuery;t.head=this.getModelEntryName(e.queryName());let r=e.queryProperties();return r&&t.refineHead(this.visitQueryProperties(r)),t.addSegments(...this.getSegments(e.pipeElement())),this.astAt(t,e)}visitTopLevelQueryDefs(e){let t=e.topLevelQueryDef().map(r=>this.visitTopLevelQueryDef(r));return t.length===1?t[0]:new xr.DefineQueryList(t)}visitTopLevelQueryDef(e){let t=this.getIdText(e.queryName()),r=this.visit(e.query());if(xr.isQueryElement(r))return this.astAt(new xr.DefineQuery(t,r),e);throw this.internalError(e,`Expect query definition, got a '${r.elementType}'`)}visitAnonymousQuery(e){let t=this.visit(e.topLevelAnonQueryDef().query());if(xr.isQueryElement(t))return new xr.AnonymousQuery(t);throw this.internalError(e,`Anonymous query matched, but ${t.elementType} found`)}visitNestedQueryList(e){let t=e.nestEntry().map(r=>this.visit(r));return t.length==1?t[0]:new xr.Nests(this.onlyNestedQueries(t))}visitNestExisting(e){let t=this.getFieldName(e.queryName()),r=e.queryProperties();if(r){let i=new xr.NestRefinement(t),s=this.visitQueryProperties(r);return i.refineHead(s),this.astAt(i,e)}return this.astAt(new xr.NestReference(t),e)}visitNestDef(e){let t=this.getIdText(e.queryName()),r=new xr.NestDefinition(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExploreQueryDef(e){let t=this.getIdText(e.exploreQueryNameDef()),r=new xr.TurtleDecl(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExprNot(e){return new xr.ExprNot(this.getFieldExpr(e.fieldExpr()))}visitExprBool(e){return new xr.Boolean(e.TRUE()?"true":"false")}allFieldExpressions(e){return e.map(t=>this.getFieldExpr(t))}visitExprLogical(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1));return new xr.ExprLogicalOp(t,e.AND()?"and":"or",r)}visitExprLogicalTree(e){let t=this.getFieldExpr(e.fieldExpr()),r=this.getFieldExpr(e.partialAllowedFieldExpr());return new xr.ExprAlternationTree(t,e.AMPER()?"&":"|",r)}visitExprNotPartial(e){return this.getFieldExpr(e.fieldExpr())}visitExprPartialCompare(e){let t=e.compareOp().text;if(xr.isComparison(t))return new xr.PartialCompare(t,this.getFieldExpr(e.fieldExpr()));throw this.internalError(e,`partial comparison '${t}' not recognized`)}visitExprString(e){return new xr.ExprString(e.STRING_LITERAL().text)}visitExprRegex(e){let t=e.HACKY_REGEX().text;return new xr.ExprRegEx(this.stripQuotes(t.slice(1)))}visitExprNow(e){return new xr.ExprNow}visitExprNumber(e){var t,r;let i=((t=e.INTEGER_LITERAL())===null||t===void 0?void 0:t.text)||((r=e.NUMERIC_LITERAL())===null||r===void 0?void 0:r.text);return i?new xr.ExprNumber(i):(this.contextError(e,`'${e.text}' is not a number`),new xr.ExprNumber("42"))}visitExprFieldPath(e){let t=new xr.ExprIdReference(this.visitFieldPath(e.fieldPath()));return this.astAt(t,e)}visitExprNULL(e){return new xr.ExprNULL}visitExprExpr(e){return new xr.ExprParens(this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprMinus(e){return new xr.ExprMinus(this.getFieldExpr(e.fieldExpr()))}visitExprAddSub(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1)),i=e.PLUS()?"+":"-";return new xr.ExprAddSub(t,i,r)}visitExprMulDiv(e){return new xr.ExprMulDiv(this.getFieldExpr(e.fieldExpr(0)),e.STAR()?"*":"/",this.getFieldExpr(e.fieldExpr(1)))}visitExprCompare(e){let t=e.compareOp().text;if(xr.isComparison(t))return new xr.ExprCompare(this.getFieldExpr(e.fieldExpr(0)),t,this.getFieldExpr(e.fieldExpr(1)));throw this.internalError(e,`untranslatable comparison operator '${t}'`)}visitExprCountDisinct(e){return this.astAt(new xr.ExprCountDistinct(this.getFieldExpr(e.fieldExpr())),e)}visitExprUngroup(e){let t=e.fieldName().map(i=>this.getFieldName(i)),r=this.getIdText(e.ungroup()).toLocaleLowerCase();return this.astAt(new xr.ExprUngroup(r=="all"?r:"exclude",this.getFieldExpr(e.fieldExpr()),t),e)}visitExprAggregate(e){let t=e.fieldPath(),r=t?this.visitFieldPath(t):void 0,i=t&&r?this.astAt(r,t):void 0,s=e.fieldExpr();if(e.aggregate().COUNT())return s&&this.contextError(s,"Ignored expression inside COUNT()"),new xr.ExprCount(i);e.STAR()&&this.contextError(e,"'*' is not a valid expression");let a=s?this.getFieldExpr(s):void 0;if(e.aggregate().MIN())if(r)this.contextError(e,"Path not legal for min()");else{if(a)return new xr.ExprMin(a);this.contextError(e,"Missing expression for min")}else if(e.aggregate().MAX())if(r)this.contextError(e,"Path not legal for max()");else{if(a)return new xr.ExprMax(a);this.contextError(e,"Missing expression for max")}else{if(e.aggregate().AVG())return new xr.ExprAvg(a,i);if(e.aggregate().SUM())return new xr.ExprSum(a,i)}return new xr.ExprNULL}visitExprApply(e){return e.COLON()&&this.contextError(e,"':' for apply is deprecated, use '?'","warn"),new xr.Apply(this.getFieldExpr(e.fieldExpr()),this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprRange(e){return new xr.Range(this.getFieldExpr(e.fieldExpr(0)),this.getFieldExpr(e.fieldExpr(1)))}visitExprCast(e){let t=e.malloyType().text;return xr.isCastType(t)?new xr.ExprCast(this.getFieldExpr(e.fieldExpr()),t):(this.contextError(e,`CAST to unknown type '${t}'`),new xr.ExprNULL)}visitExprSafeCast(e){let t=e.malloyType().text;return xr.isCastType(t)?new xr.ExprCast(this.getFieldExpr(e.fieldExpr()),t,!0):(this.contextError(e,`'::' cast to unknown type '${t}'`),new xr.ExprNULL)}visitExprTimeTrunc(e){return new xr.ExprGranularTime(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text,!0)}visitTimeframe(e){return new xr.Timeframe(e.text)}visitExprForRange(e){let t=this.getFieldExpr(e._startAt),r=this.getFieldExpr(e._duration),i=this.visitTimeframe(e.timeframe());return new xr.ForRange(t,r,i)}visitExprFunc(e){let t=e.argumentList(),r=t?this.allFieldExpressions(t.fieldExpr()):[],i=e.id(),s=e.timeframe(),o;return i?o=this.getIdText(i):s?o=s.text:(this.contextError(e,"Funciton name error"),o="FUNCTION_NAME_ERROR"),xr.ExprTimeExtract.extractor(o)?this.astAt(new xr.ExprTimeExtract(o,r),e):this.astAt(new xr.ExprFunc(o,r),e)}visitExprDuration(e){return new xr.ExprDuration(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text)}visitPickStatement(e){let t=e.pick().map(r=>{let i;return r._pickValue&&(i=this.getFieldExpr(r._pickValue)),new xr.PickWhen(i,this.getFieldExpr(r._pickWhen))});return e.ELSE()?new xr.Pick(t,this.getFieldExpr(e._pickElse)):new xr.Pick(t)}visitNamedSource(e){let t=this.getModelEntryName(e.exploreName());return this.astAt(new xr.NamedSource(t),e)}visitExprFilter(e){let t=this.visit(e.filteredBy());return new xr.ExprFilter(this.getFieldExpr(e.fieldExpr()),t)}getLiteralTime(e){let t=xr.GranularLiteral.parse(e.text);return t===void 0?(this.contextError(e,`${e.text} is not a legal day specification`),new xr.ExprNow):t}visitLiteralTimestamp(e){return this.getLiteralTime(e)}visitLiteralDay(e){return this.getLiteralTime(e)}visitLiteralWeek(e){return this.getLiteralTime(e)}visitLiteralMonth(e){return this.getLiteralTime(e)}visitLiteralQuarter(e){return this.getLiteralTime(e)}visitLiteralYear(e){return this.getLiteralTime(e)}visitImportStatement(e){let t=this.stripQuotes(e.importURL().text);return this.astAt(new xr.ImportStatement(t,this.parse.subTranslator.sourceURL),e)}visitJustExpr(e){return this.getFieldExpr(e.fieldExpr())}visitDefineSQLStatement(e){return this.visitSQLStatementDef(e.sqlStatementDef())}visitSQLStatementDef(e){let t=e.SQL_STRING().text,r=new xr.SQLStatement({select:t.slice(2,t.length-2),connection:this.optionalText(e.connectionName())}),i=e.sqlCommandNameDef();return i&&(r.is=this.getIdText(i)),this.astAt(r,e)}visitSampleStatement(e){let t=e.sampleSpec().INTEGER_LITERAL();if(t)return new xr.SampleProperty({rows:this.getNumber(t)});let r=e.sampleSpec().PERCENT_LITERAL();if(r)return new xr.SampleProperty({percent:this.getNumber(r)});let i=e.sampleSpec().TRUE()!=null;return new xr.SampleProperty({enable:i})}};Ox.MalloyToAST=pCe});var gCe=Ae(oz=>{"use strict";m();Object.defineProperty(oz,"__esModule",{value:!0});oz.MessageLog=void 0;var xCe=class{constructor(){this.rawLog=[]}getLog(){return this.rawLog}log(e){this.rawLog.push(e)}reset(){this.rawLog.length=0}noErrors(){return!this.hasErrors()}hasErrors(){return this.rawLog.find(t=>t.severity!=="warn")!==void 0}empty(){return this.rawLog.length===0}};oz.MessageLog=xCe});var yb=Ae(oC=>{"use strict";m();Object.defineProperty(oC,"__esModule",{value:!0});oC.ParseTreeWalker=void 0;var ypt=HS(),vpt=ay(),_pt=VS(),pae=class{walk(e,t){let r=[],i=[],s=t,o=0;for(;s;){if(s instanceof ypt.ErrorNode?e.visitErrorNode&&e.visitErrorNode(s):s instanceof vpt.TerminalNode?e.visitTerminal&&e.visitTerminal(s):this.enterRule(e,s),s.childCount>0){r.push(s),i.push(o),o=0,s=s.getChild(0);continue}do{if(s instanceof _pt.RuleNode&&this.exitRule(e,s),r.length===0){s=void 0,o=0;break}let a=r[r.length-1];if(o++,s=o<a.childCount?a.getChild(o):void 0,s)break;s=r.pop(),o=i.pop()}while(s)}}enterRule(e,t){let r=t.ruleContext;e.enterEveryRule&&e.enterEveryRule(r),r.enterRule(e)}exitRule(e,t){let r=t.ruleContext;r.exitRule(e),e.exitEveryRule&&e.exitEveryRule(r)}};oC.ParseTreeWalker=pae;(function(n){n.DEFAULT=new n})(pae=oC.ParseTreeWalker||(oC.ParseTreeWalker={}))});var vCe=Ae(az=>{"use strict";m();Object.defineProperty(az,"__esModule",{value:!0});az.findReferences=void 0;var bpt=yb(),yCe=class{constructor(e,t){this.trans=e,this.tokens=t,this.needTables={},this.needImports={}}enterTableName(e){let t=this.tokens.getText(e).slice(1,-1);this.needTables[t]||(this.needTables[t]=this.trans.rangeFromContext(e))}enterImportURL(e){let t=JSON.parse(e.JSON_STRING().text);this.needImports[t]||(this.needImports[t]=this.trans.rangeFromContext(e))}};function Ept(n,e,t){let r=new yCe(n,e),i=r;bpt.ParseTreeWalker.DEFAULT.walk(i,t);let s={};return Object.keys(r.needTables).length>0&&(s={tables:r.needTables}),Object.keys(r.needImports).length>0&&(s={...s,urls:r.needImports}),Object.keys(s).length>0?s:null}az.findReferences=Ept});var bCe=Ae(uz=>{"use strict";m();Object.defineProperty(uz,"__esModule",{value:!0});uz.Zone=void 0;var _Ce=class{constructor(){this.location={},this.zone=new Map}get(e){let t=this.zone.get(e);if((t==null?void 0:t.status)==="present")return t.value}getEntry(e){let t=this.zone.get(e);return t?t.firstReference||!this.location[e]?t:{...t,firstReference:this.location[e]}:{status:"error",message:"import reference failure"}}define(e,t){this.zone.set(e,{status:"present",value:t})}reference(e,t){let r=this.zone.get(e);(r==null?void 0:r.status)==null&&(this.zone.set(e,{status:"reference",firstReference:t}),this.location[e]=t)}getUndefined(){let e=[];for(let[t,r]of this.zone)r.status==="reference"&&e.push(t);return e.length>0?e:void 0}updateFrom(e,t){if(e)for(let[r,i]of Object.entries(e))i!==void 0&&this.define(r,i);if(t)for(let[r,i]of Object.entries(t))this.zone.set(r,{status:"error",message:i})}};uz.Zone=_Ce});var SCe=Ae(lz=>{"use strict";m();Object.defineProperty(lz,"__esModule",{value:!0});lz.walkForDocumentSymbols=void 0;var Spt=yb(),ECe=class{constructor(e,t,r,i){this.translator=e,this.tokens=t,this.scopes=r,this.symbols=i}popScope(){return this.scopes.pop()}peekScope(){return this.scopes[this.scopes.length-1]}enterTopLevelQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:e.queryName().text,type:"query",children:[]})}enterTopLevelAnonQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:"unnamed_query",type:"unnamed_query",children:[]})}enterExploreDefinition(e){this.scopes.push({range:this.translator.rangeFromContext(e),name:e.exploreNameDef().id().text,type:"explore",children:[]})}exitExploreDefinition(e){let t=this.popScope();t&&this.symbols.push(t)}enterExploreQueryDef(e){let t={range:this.translator.rangeFromContext(e),name:e.exploreQueryNameDef().id().text,type:"query",children:[]},r=this.peekScope();r&&r.children.push(t),this.scopes.push(t)}exitExploreQueryDef(e){this.popScope()}handleNestEntry(e){let t={range:this.translator.rangeFromContext(e),name:e.queryName().id().text,type:"query",children:[]},r=this.peekScope();return r&&r.children.push(t),t}enterNestExisting(e){this.handleNestEntry(e)}enterNestDef(e){let t=this.handleNestEntry(e);this.scopes.push(t)}exitNestDef(e){this.popScope()}enterFieldDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldNameDef().id().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterQueryFieldRef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldPath().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterExploreRenameDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldName()[0].text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterJoinWith(e){this.handleJoinDef(e)}enterJoinOn(e){this.handleJoinDef(e)}handleJoinDef(e){let t={range:this.translator.rangeFromContext(e),name:e.joinNameDef().id().text,type:"join",children:[]},r=this.peekScope();r&&r.children.push(t)}enterSqlStatementDef(e){var t;let r=(t=e.sqlCommandNameDef())===null||t===void 0?void 0:t.id().text,i={range:this.translator.rangeFromContext(e),name:r||"unnamed_sql",type:r===void 0?"unnamed_sql":"sql",children:[]};this.symbols.push(i)}};function wpt(n,e,t){let r=new ECe(n,e,[],[]),i=r;return Spt.ParseTreeWalker.DEFAULT.walk(i,t),r.symbols}lz.walkForDocumentSymbols=wpt});var mae=Ae(Gi=>{"use strict";m();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.sortHighlights=Gi.walkForDocumentHighlights=Gi.passForHighlights=Gi.HighlightType=void 0;var Cpt=yb(),_i=eoe();Gi.HighlightType={Identifier:"identifier",Type:"type",Literal:{Date:"literal.date",Number:"literal.number",String:"literal.string",RegularExpression:"literal.regular_expression",Boolean:"literal.boolean",Null:"literal.null"},Call:{Aggregate:"call.aggregate",TimeFrame:"call.time_frame",Cast:"call.cast",Table:"call.table",From:"call.from",Function:"call.function",FromSQL:"call.from_sql"},Keyword:{AggregateModifier:{Distinct:"keyword.aggregate_modifier.distinct"},CastModifier:{As:"keyword.cast_modifier.as"},Is:"keyword.is",On:"keyword.on",Desc:"keyword.desc",Asc:"keyword.asc",Pick:"keyword.pick",When:"keyword.when",Else:"keyword.else",With:"keyword.with",JSON:"keyword.json",Turtle:"keyword.turtle",Import:"keyword.import"},Operator:{Comparison:"operator.comparison",Boolean:"operator.boolean",Date:"operator.date"},Comment:{Line:"comment.line",Block:"comment.block"},Property:{Accept:"property.accept",Aggregate:"property.aggregate",Dimension:"property.dimension",Except:"property.except",Source:"property.source",GroupBy:"property.group_by",Having:"property.having",Index:"property.index",JoinOne:"keyword.join_one",JoinMany:"keyword.join_many",JoinCross:"keyword.join_cross",Limit:"property.limit",Measure:"property.measure",Nest:"property.nest",OrderBy:"property.order_by",PrimaryKey:"property.primary_key",Project:"property.project",Query:"property.query",Rename:"property.rename",Top:"property.top",Where:"property.where",SQL:"property.sql"}};function Apt(n){let e=[],t=(r,i,s=!1)=>{var o;let a=r.startIndex-r.charPositionInLine,l=((o=r.text)===null||o===void 0?void 0:o.split(`
`))||[],f=l.length,p=l.slice(0,-1).reduce((E,O)=>E+O.length,0),_=s?1:0;e.push({type:i,range:{start:{line:r.line-1,character:r.startIndex-a},end:{line:r.line-1+f-1,character:r.stopIndex+2-(f>1?r.startIndex:a)-p-f-_}}})};for(let r=0;r<n.size;r++){let i=n.get(r);switch(i.type){case _i.MalloyParser.ACCEPT:t(i,Gi.HighlightType.Property.Accept,!0);break;case _i.MalloyParser.AGGREGATE:t(i,Gi.HighlightType.Property.Aggregate,!0);break;case _i.MalloyParser.DIMENSION:t(i,Gi.HighlightType.Property.Dimension,!0);break;case _i.MalloyParser.EXCEPT:t(i,Gi.HighlightType.Property.Except,!0);break;case _i.MalloyParser.GROUP_BY:t(i,Gi.HighlightType.Property.GroupBy,!0);break;case _i.MalloyParser.HAVING:t(i,Gi.HighlightType.Property.Having,!0);break;case _i.MalloyParser.INDEX:t(i,Gi.HighlightType.Property.Index,!0);break;case _i.MalloyParser.JOIN_CROSS:t(i,Gi.HighlightType.Property.JoinOne,!0);break;case _i.MalloyParser.JOIN_ONE:t(i,Gi.HighlightType.Property.JoinMany,!0);break;case _i.MalloyParser.JOIN_MANY:t(i,Gi.HighlightType.Property.JoinCross,!0);break;case _i.MalloyParser.LIMIT:t(i,Gi.HighlightType.Property.Limit,!0);break;case _i.MalloyParser.MEASURE:t(i,Gi.HighlightType.Property.Measure,!0);break;case _i.MalloyParser.NEST:t(i,Gi.HighlightType.Property.Nest,!0);break;case _i.MalloyParser.ORDER_BY:t(i,Gi.HighlightType.Property.OrderBy,!0);break;case _i.MalloyParser.PRIMARY_KEY:t(i,Gi.HighlightType.Property.PrimaryKey,!0);break;case _i.MalloyParser.PROJECT:t(i,Gi.HighlightType.Property.Project,!0);break;case _i.MalloyParser.QUERY:t(i,Gi.HighlightType.Property.Query,!0);break;case _i.MalloyParser.RENAME:t(i,Gi.HighlightType.Property.Rename,!0);break;case _i.MalloyParser.SOURCE:t(i,Gi.HighlightType.Property.Source,!0);break;case _i.MalloyParser.TOP:t(i,Gi.HighlightType.Property.Top,!0);break;case _i.MalloyParser.WHERE:t(i,Gi.HighlightType.Property.Where,!0);break;case _i.MalloyParser.SQL:t(i,Gi.HighlightType.Property.SQL,!0);break;case _i.MalloyParser.TABLE:t(i,Gi.HighlightType.Call.Table);break;case _i.MalloyParser.FROM:t(i,Gi.HighlightType.Call.From);break;case _i.MalloyParser.FROM_SQL:t(i,Gi.HighlightType.Call.FromSQL);break;case _i.MalloyParser.STRING_LITERAL:case _i.MalloyParser.JSON_STRING:t(i,Gi.HighlightType.Literal.String);break;case _i.MalloyParser.NUMERIC_LITERAL:case _i.MalloyParser.INTEGER_LITERAL:t(i,Gi.HighlightType.Literal.Number);break;case _i.MalloyParser.HACKY_REGEX:t(i,Gi.HighlightType.Literal.RegularExpression);break;case _i.MalloyParser.IS:t(i,Gi.HighlightType.Keyword.Is);break;case _i.MalloyParser.DISTINCT:t(i,Gi.HighlightType.Keyword.AggregateModifier.Distinct);break;case _i.MalloyParser.ON:t(i,Gi.HighlightType.Keyword.On);break;case _i.MalloyParser.DESC:t(i,Gi.HighlightType.Keyword.Desc);break;case _i.MalloyParser.ASC:t(i,Gi.HighlightType.Keyword.Asc);break;case _i.MalloyParser.CAST:t(i,Gi.HighlightType.Call.Cast);break;case _i.MalloyParser.AS:t(i,Gi.HighlightType.Keyword.CastModifier.As);break;case _i.MalloyParser.PICK:t(i,Gi.HighlightType.Keyword.Pick);break;case _i.MalloyParser.WHEN:t(i,Gi.HighlightType.Keyword.When);break;case _i.MalloyParser.WITH:t(i,Gi.HighlightType.Keyword.With);break;case _i.MalloyParser.ELSE:t(i,Gi.HighlightType.Keyword.Else);break;case _i.MalloyParser.JSON:t(i,Gi.HighlightType.Keyword.JSON);break;case _i.MalloyParser.TURTLE:t(i,Gi.HighlightType.Keyword.Turtle);break;case _i.MalloyParser.TRUE:case _i.MalloyParser.FALSE:t(i,Gi.HighlightType.Literal.Boolean);break;case _i.MalloyParser.NOW:case _i.MalloyParser.LITERAL_TIMESTAMP:case _i.MalloyParser.LITERAL_QUARTER:case _i.MalloyParser.LITERAL_MONTH:case _i.MalloyParser.LITERAL_DAY:case _i.MalloyParser.LITERAL_WEEK:case _i.MalloyParser.LITERAL_YEAR:t(i,Gi.HighlightType.Literal.Date);break;case _i.MalloyParser.NULL:t(i,Gi.HighlightType.Literal.Null);break;case _i.MalloyParser.AND:case _i.MalloyParser.OR:case _i.MalloyParser.NOT:t(i,Gi.HighlightType.Operator.Boolean);break;case _i.MalloyParser.FOR:t(i,Gi.HighlightType.Operator.Date);break;case _i.MalloyParser.COMMENT_TO_EOL:t(i,Gi.HighlightType.Comment.Line);break;case _i.MalloyParser.BLOCK_COMMENT:t(i,Gi.HighlightType.Comment.Block);break;case _i.MalloyParser.SUM:case _i.MalloyParser.COUNT:case _i.MalloyParser.AVG:case _i.MalloyParser.MIN:case _i.MalloyParser.MAX:t(i,Gi.HighlightType.Call.Aggregate);break;case _i.MalloyParser.IDENTIFIER:case _i.MalloyParser.OBJECT_NAME_LITERAL:t(i,Gi.HighlightType.Identifier);break;case _i.MalloyParser.STRING:case _i.MalloyParser.NUMBER:case _i.MalloyParser.BOOLEAN:case _i.MalloyParser.DATE:case _i.MalloyParser.TIMESTAMP:t(i,Gi.HighlightType.Type);break;case _i.MalloyParser.SECOND:case _i.MalloyParser.MINUTE:case _i.MalloyParser.HOUR:case _i.MalloyParser.DAY:case _i.MalloyParser.WEEK:case _i.MalloyParser.MONTH:case _i.MalloyParser.QUARTER:case _i.MalloyParser.YEAR:t(i,Gi.HighlightType.Call.TimeFrame);break;case _i.MalloyParser.IMPORT:t(i,Gi.HighlightType.Keyword.Import);break}}return e}Gi.passForHighlights=Apt;var wCe=class{constructor(e,t){this.tokens=e,this.highlights=t}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}enterExprFunc(e){let t=e.id()||e.timeframe();t&&this.highlights.push({range:this.rangeOf(t),type:Gi.HighlightType.Call.Function})}};function Tpt(n,e){let t=new wCe(n,[]),r=t;return Cpt.ParseTreeWalker.DEFAULT.walk(r,e),t.highlights}Gi.walkForDocumentHighlights=Tpt;function Fpt(n){return n.sort((e,t)=>e.range.start.line<t.range.start.line?-1:e.range.start.line>t.range.start.line?1:e.range.start.character<t.range.start.character?-1:e.range.start.character>t.range.start.character?1:0)}Gi.sortHighlights=Fpt});var ACe=Ae(cz=>{"use strict";m();Object.defineProperty(cz,"__esModule",{value:!0});cz.walkForDocumentCompletions=void 0;var Dpt=yb(),Opt=["dimension","measure","join_one","join_many","join_cross","where","primary_key","rename","accept","except","query","declare"],Rpt=["group_by","project","index","aggregate","top","limit","order_by","where","having","nest","declare"],Npt=["source","explore","query","sql"],CCe=class{constructor(e,t,r){this.tokens=e,this.completions=t,this.position=r}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){let{start:t,end:r}=e,i=this.position.line>t.line||this.position.line===t.line&&this.position.character>=t.character,s=this.position.line<r.line||this.position.line===r.line&&this.position.character<=r.character;return i&&s}enterExploreProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.exploreStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of Opt)this.completions.push({type:"explore_property",text:`${r}: `})}}enterQueryProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.queryStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of Rpt)this.completions.push({type:"query_property",text:`${r}: `})}}enterMalloyDocument(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.malloyStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of Npt)this.completions.push({type:"model_property",text:`${r}: `})}}};function Lpt(n,e,t){let r=new CCe(n,[],t),i=r;return Dpt.ParseTreeWalker.DEFAULT.walk(i,e),r.completions}cz.walkForDocumentCompletions=Lpt});var FCe=Ae(TCe=>{"use strict";m();Object.defineProperty(TCe,"__esModule",{value:!0})});var OCe=Ae(DCe=>{"use strict";m();Object.defineProperty(DCe,"__esModule",{value:!0})});var NCe=Ae(fz=>{"use strict";m();Object.defineProperty(fz,"__esModule",{value:!0});fz.ParseTreeProperty=void 0;var RCe=class{constructor(e="ParseTreeProperty"){this._symbol=Symbol(e)}get(e){return e[this._symbol]}set(e,t){e[this._symbol]=t}removeFrom(e){let t=e[this._symbol];return delete e[this._symbol],t}};fz.ParseTreeProperty=RCe});var kCe=Ae(LCe=>{"use strict";m();Object.defineProperty(LCe,"__esModule",{value:!0})});var MCe=Ae(ICe=>{"use strict";m();Object.defineProperty(ICe,"__esModule",{value:!0})});var BCe=Ae(PCe=>{"use strict";m();Object.defineProperty(PCe,"__esModule",{value:!0})});var jCe=Ae(Cf=>{"use strict";m();var kpt=Cf&&Cf.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),S1=Cf&&Cf.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kpt(e,n,t)};Object.defineProperty(Cf,"__esModule",{value:!0});S1(hae(),Cf);S1(HS(),Cf);S1(FCe(),Cf);S1(OCe(),Cf);S1(NCe(),Cf);S1(kCe(),Cf);S1(yb(),Cf);S1(VS(),Cf);S1(MCe(),Cf);S1(ay(),Cf);S1(BCe(),Cf);S1(uy(),Cf)});var UCe=Ae(dz=>{"use strict";m();Object.defineProperty(dz,"__esModule",{value:!0});dz.walkForDocumentHelpContext=void 0;var Ipt=jCe(),qCe=class extends Ipt.AbstractParseTreeVisitor{constructor(e){super();this.position=e,this.type=""}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){return e.start.line<=this.position.line&&e.end.line>=this.position.line&&(this.position.line!==e.start.line||this.position.character>=e.start.character)&&(this.position.line!==e.end.line||this.position.character<=e.end.character)}defaultResult(){}visitChildren(e){let t=this.defaultResult();if(this.inRange(this.rangeOf(e))){t={type:this.type,token:e.start.text};let r=e.childCount;for(let i=0;i<r;i++){let o=e.getChild(i).accept(this);o&&(t=this.aggregateResult(t,o))}}return t}visitMalloyDocument(e){return this.inRange(this.rangeOf(e))?(this.type="model_property",this.visitChildren(e)):this.defaultResult()}visitExploreProperties(e){return this.inRange(this.rangeOf(e))?(this.type="explore_property",this.visitChildren(e)):this.defaultResult()}visitQueryProperties(e){return this.inRange(this.rangeOf(e))?(this.type="query_property",this.visitChildren(e)):this.defaultResult()}aggregateResult(e,t){return t}};function Mpt(n,e){return new qCe(e).visit(n)}dz.walkForDocumentHelpContext=Mpt});var zCe=Ae(hz=>{"use strict";m();Object.defineProperty(hz,"__esModule",{value:!0});hz.ReferenceList=void 0;var $Ce=class{constructor(e){this.sourceURL=e,this.references=[]}findIndexBefore(e){let t=0,r=this.references.length;for(;t<r;){let i=Math.floor((t+r)/2),s=this.references[i].location.range.end;s.line<e.line||s.line===e.line&&s.character<e.character?t=i+1:r=i}return t}add(e){if(e.location.url!==this.sourceURL)return;let t=this.findIndexBefore(e.location.range.end);t<this.references.length&&this.isPositionEqual(e,this.references[t])||this.references.splice(t,0,e)}isPositionEqual(e,t){let r=e.location.range,i=t.location.range;return r.start.line===i.start.line&&r.start.character===i.start.character&&r.end.line===i.end.line&&r.end.character===i.end.character}find(e){let t=this.findIndexBefore(e);if(t===this.references.length)return;let r=this.references[t];if(r.location.range.start.line<=e.line&&r.location.range.end.line>=e.line&&(e.line!==r.location.range.start.line||e.character>=r.location.range.start.character)&&(e.line!==r.location.range.end.line||e.character<=r.location.range.end.character))return r}};hz.ReferenceList=$Ce});var t9e=Ae(_h=>{"use strict";m();var Ppt=_h&&_h.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Bpt=_h&&_h.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),jpt=_h&&_h.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Ppt(e,n,t);return Bpt(e,n),e};Object.defineProperty(_h,"__esModule",{value:!0});_h.MalloyTranslator=_h.MalloyTranslation=_h.SQLExploreZone=void 0;var HCe=d8e(),qpt=p8e(),Upt=eoe(),pz=jpt(d4()),$pt=mCe(),zpt=gCe(),Hpt=vCe(),xae=bCe(),Vpt=SCe(),gae=mae(),Wpt=ACe(),Qpt=UCe(),Gpt=zCe(),VCe=class{constructor(e,t){this.translator=e,this.messages=t}syntaxError(e,t,r,i,s,o){let a={line:r-1,character:i},l=t?this.translator.rangeFromToken(t):{start:a,end:a},f={message:s,at:{url:this.translator.sourceURL,range:l}};this.messages.log(f)}},yae=class extends xae.Zone{constructor(){super(...arguments);this.keyed={}}referenceBlock(e,t){let r=e.sqlBlock();this.reference(r.name,t),this.keyed[r.name]=r}getUndefinedBlocks(){let e=this.getUndefined();if(e)return e.map(t=>this.keyed[t])}};_h.SQLExploreZone=yae;function mz(n){return!!n&&(n.tables||n.urls||n.sqlStructs)!=null}var WCe=class{step(e){if(this.response)return this.response;if(e.urlIsFullPath===void 0)try{let s=new URL(e.sourceURL);e.urlIsFullPath=!0}catch(s){let o=s instanceof Error?s.message:"";e.urlIsFullPath=!1,e.root.logger.log({message:`Could not compute full path URL: ${o}`})}if(!e.urlIsFullPath)return e.fatalErrors();let t=e.root.importZone.getEntry(e.sourceURL);if(t.status!=="present"){if(t.status==="error"){let s=t.message.includes(e.sourceURL)?`import error: ${t.message}`:`import '${e.sourceURL}' error: ${t.message}`,o=t.firstReference||e.defaultLocation();return e.root.logger.log({message:s,at:o}),this.response=e.fatalErrors(),this.response}return{urls:[e.sourceURL]}}let r=t.value==""?`
`:t.value;this.sourceInfo=this.getSourceInfo(r);let i=this.runParser(r,e);return e.root.logger.hasErrors()?this.response={parse:i,...e.fatalErrors()}:this.response={parse:i},this.response}getSourceInfo(e){let t=/\r?\n/,r={at:[],lines:[],length:e.length},i=e,s=0;for(;i!=="";){let o=i.match(t);if(o&&o.index!=null){r.lines.push(i.slice(0,o.index));let a=o.index+o[0].length;r.at.push({begin:s,end:s+a}),s+=a,i=i.slice(a)}else{r.lines.push(i),r.at.push({begin:s,end:s+i.length});break}}return r}runParser(e,t){let r=HCe.CharStreams.fromString(e),i=new qpt.MalloyLexer(r),s=new HCe.CommonTokenStream(i),o=new Upt.MalloyParser(s);o.removeErrorListeners(),o.addErrorListener(new VCe(t,t.root.logger));let a=o[t.grammarRule];if(!a)throw new Error(`No such parse rule as ${t.grammarRule}`);return{root:a.call(o),tokenStream:s,sourceStream:r,malloyVersion:"?.?.?-????",subTranslator:t}}},QCe=class{constructor(e){this.parseStep=e,this.alreadyLooked=!1}step(e){let t=this.parseStep.step(e);if(t.parse==null)return t;if(!this.alreadyLooked){this.alreadyLooked=!0;let o=(0,Hpt.findReferences)(e,t.parse.tokenStream,t.parse.root);if(o==null?void 0:o.tables)for(let a in o.tables)e.root.schemaZone.reference(a,{url:e.sourceURL,range:o.tables[a]});if(o==null?void 0:o.urls)for(let a in o.urls){let l=o.urls[a];try{let f=decodeURI(new URL(a,e.sourceURL).toString());e.addChild(f),e.root.importZone.reference(f,{url:e.sourceURL,range:l})}catch{e.root.logger.log({message:`Malformed URL '${a}'"`,at:{url:e.sourceURL,range:l}})}}}if(e.root.logger.hasErrors())return null;let r={},i=e.root.schemaZone.getUndefined();i&&(r={tables:i});let s=e.root.importZone.getUndefined();if(s&&(r={...r,urls:s}),mz(r))return r;for(let o of e.childTranslators.values()){let a=o.importsAndTablesStep.step(o);if(mz(a))return a}return null}},GCe=class{constructor(e){this.importStep=e,this.walked=!1}step(e){if(this.response)return this.response;let t=this.importStep.step(e);if(t)return t;let r=e.parseStep.response;if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;let i=r==null?void 0:r.parse;if(!i)throw new Error("TRANSLATOR INTERNAL ERROR: Translator parse response had no errors, but also no parser");let o=new $pt.MalloyToAST(i,e.root.logger).visit(i.root);if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;if(o.elementType==="unimplemented")throw new Error("TRANSLATOR INTERNAL ERROR: Unimplemented AST node");let a={};if(this.walked||(o.walk(p=>{p instanceof pz.SQLSource?(a[p.refName]||(a[p.refName]={}),a[p.refName].ref=p):p instanceof pz.SQLStatement&&p.is?(a[p.is]||(a[p.is]={}),a[p.is].def=p):p instanceof pz.Unimplemented&&p.log("INTERNAL COMPILER ERROR: Untranslated parse node")}),this.walked=!0),e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;let l=e.root.sqlQueryZone;for(let p in a){let _=a[p];if(_.ref&&_.def){let E={url:e.sourceURL,range:_.def.location.range};e.root.sqlQueryZone.referenceBlock(_.def,E)}}for(let p of e.childTranslators.values()){let _=p.astStep.step(p);if(mz(_))return _}let f=l.getUndefinedBlocks();return f?{sqlStructs:f}:(o.setTranslator(e),this.response={...e.errors(),ast:o,final:!0},this.response)}},YCe=class{constructor(e){this.parseStep=e}step(e){if(!this.response){let t=this.parseStep.step(e);if(t.parse){let r;try{r=(0,Vpt.walkForDocumentSymbols)(e,t.parse.tokenStream,t.parse.root)}catch{}let i;try{i=(0,gae.walkForDocumentHighlights)(t.parse.tokenStream,t.parse.root)}catch{i=[]}this.response={symbols:r,highlights:(0,gae.sortHighlights)([...(0,gae.passForHighlights)(t.parse.tokenStream),...i]),final:!0}}else return t}return this.response}},KCe=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i=[];if(t!==void 0)try{i=(0,Wpt.walkForDocumentCompletions)(r.parse.tokenStream,r.parse.root,t)}catch{}return{...r,completions:i}}else return r}},JCe=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i;if(t!==void 0)try{i=(0,Qpt.walkForDocumentHelpContext)(r.parse.root,t)}catch{}return{...r,helpContext:i}}else return r}},XCe=class{constructor(e){this.astStep=e}step(e,t){if(this.response)return this.response;let r=this.astStep.step(e);if(mz(r))return r;if(!r.ast)return this.response=r,this.response;if(e.grammarRule==="malloyDocument")if(r.ast instanceof pz.Document){let i=r.ast;e.modelDef=i.getModelDef(t),e.queryList=i.queryList,e.sqlBlocks=i.sqlBlocks}else e.root.logger.log({message:`'${e.sourceURL}' did not parse to malloy document`,at:e.defaultLocation()});return e.root.logger.hasErrors()?this.response=e.fatalErrors():this.response={translated:{modelDef:e.modelDef,queryList:e.queryList,sqlBlocks:e.sqlBlocks},...e.errors(),final:!0},this.response}},xz=class{constructor(e,t="malloyDocument"){this.sourceURL=e,this.grammarRule=t,this.queryList=[],this.sqlBlocks=[],this.childTranslators=new Map,this.modelDef={name:e,exports:[],contents:{}},this.parseStep=new WCe,this.metadataStep=new YCe(this.parseStep),this.completionsStep=new KCe(this.parseStep),this.helpContextStep=new JCe(this.parseStep),this.importsAndTablesStep=new QCe(this.parseStep),this.astStep=new GCe(this.importsAndTablesStep),this.translateStep=new XCe(this.astStep),this.references=new Gpt.ReferenceList(e)}addChild(e){this.childTranslators.get(e)||this.childTranslators.set(e,new ZCe(e,this.root))}addReference(e){this.references.add(e)}referenceAt(e){return this.references.find(e)}fatalErrors(){return{final:!0,errors:[...this.root.logger.getLog()]}}errors(){return{errors:[...this.root.logger.getLog()]}}getLineMap(e){var t,r;if(e==this.sourceURL)return(t=this.parseStep.sourceInfo)===null||t===void 0?void 0:t.lines;let i=this.childTranslators.get(e);if(i)return(r=i.parseStep.sourceInfo)===null||r===void 0?void 0:r.lines}prettyErrors(){let e="",t="";for(let r of this.root.logger.getLog()){let i=r.message,s=this.sourceURL;if(r.at){s=r.at.url;let o=r.at.range.start.line,a=r.at.range.start.character,l=this.getLineMap(r.at.url);if(l){let f=l[o];i=`line ${o+1}: ${r.message}
  | ${f}`,a>0&&(i=i+`
  | ${" ".repeat(a)}^`)}else i=`line ${o+1}: char ${a}: ${r.message}`}t!==s&&(i=`FILE: ${s}
`+i,t=s),e!==""?e=`${e}
${i}`:e=i}return e}getChildExports(e){let t={},r=decodeURI(new URL(e,this.sourceURL).toString()),i=this.childTranslators.get(r);if(i&&i.translate().translated)for(let o of i.modelDef.exports){let a=i.modelDef.contents[o];a.type==="struct"&&(t[o]=a)}return t}translate(e){if(this.finalAnswer)return this.finalAnswer;let t=this.translateStep.step(this,e);return t.final&&(this.finalAnswer=t),t}metadata(){return this.metadataStep.step(this)}completions(e){return this.completionsStep.step(this,e)}helpContext(e){return this.helpContextStep.step(this,e)}defaultLocation(){return{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}rangeFromContext(e){return this.rangeFromTokens(e.start,e.stop||e.start)}rangeFromTokens(e,t){let r={line:e.line-1,character:e.charPositionInLine};if(this.parseStep.sourceInfo&&t.stopIndex!=-1){let i=this.parseStep.sourceInfo.lines.length-1;for(let s=e.line-1;s<=i;s++){let o=this.parseStep.sourceInfo.at[s];if(t.stopIndex>=o.begin&&t.stopIndex<=o.end)return{start:r,end:{line:s,character:t.stopIndex-o.begin+1}}}return{start:r,end:{line:i,character:this.parseStep.sourceInfo.lines[i].length}}}return{start:r,end:r}}rangeFromToken(e){return this.rangeFromTokens(e,e)}};_h.MalloyTranslation=xz;var ZCe=class extends xz{constructor(e,t){super(e);this.root=t}},e9e=class extends xz{constructor(e,t=null){super(e);this.schemaZone=new xae.Zone,this.importZone=new xae.Zone,this.sqlQueryZone=new yae,this.logger=new zpt.MessageLog,this.root=this,t&&this.update(t)}update(e){var t,r,i;this.schemaZone.updateFrom(e.tables,(t=e.errors)===null||t===void 0?void 0:t.tables),this.importZone.updateFrom(e.urls,(r=e.errors)===null||r===void 0?void 0:r.urls),this.sqlQueryZone.updateFrom(e.sqlStructs,(i=e.errors)===null||i===void 0?void 0:i.sqlStructs)}};_h.MalloyTranslator=e9e});var n9e=Ae(aC=>{"use strict";m();Object.defineProperty(aC,"__esModule",{value:!0});aC.exploreQueryWalkerBuilder=aC.ExploreQueryWalker=void 0;var Ypt=yb(),vae=class{constructor(e){this.inDocument=!1,this.exploreClauseRefs=[],this.tokens=e}exploreQueryAtOffset(e){return this.exploreClauseRefs.find(t=>t.range[0]===void 0||t.range[1]===void 0?!1:t.range[0]<=e&&t.range[1]>=e)}filterAtOffset(e){let t=this.exploreQueryAtOffset(e);if(!!t)return t.filterRefs.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e)}hasFilterListAtOffset(e){let t=this.exploreQueryAtOffset(e);return t?!!t.filterLists.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e):!1}enterMalloyDocument(){this.inDocument=!0}};aC.ExploreQueryWalker=vae;function Kpt(n,e){let t=new vae(n),r=t;return Ypt.ParseTreeWalker.DEFAULT.walk(r,e),t}aC.exploreQueryWalkerBuilder=Kpt});var _ae=Ae(v4=>{"use strict";m();Object.defineProperty(v4,"__esModule",{value:!0});v4.HighlightType=v4.exploreQueryWalkerBuilder=v4.MalloyTranslator=void 0;var Jpt=t9e();Object.defineProperty(v4,"MalloyTranslator",{enumerable:!0,get:function(){return Jpt.MalloyTranslator}});var Xpt=n9e();Object.defineProperty(v4,"exploreQueryWalkerBuilder",{enumerable:!0,get:function(){return Xpt.exploreQueryWalkerBuilder}});var Zpt=mae();Object.defineProperty(v4,"HighlightType",{enumerable:!0,get:function(){return Zpt.HighlightType}})});var f9e=Ae(Zr=>{"use strict";m();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.CSVWriter=Zr.JSONWriter=Zr.DataWriter=Zr.DataRecord=Zr.DataArray=Zr.Result=Zr.ExploreMaterializer=Zr.SQLBlockMaterializer=Zr.PreparedResultMaterializer=Zr.QueryMaterializer=Zr.ModelMaterializer=Zr.SingleConnectionRuntime=Zr.ConnectionRuntime=Zr.Runtime=Zr.ExploreField=Zr.JoinRelationship=Zr.QueryField=Zr.Query=Zr.StringField=Zr.BooleanField=Zr.NumberField=Zr.TimestampField=Zr.DateField=Zr.TimestampTimeframe=Zr.DateTimeframe=Zr.AtomicField=Zr.AtomicFieldType=Zr.Explore=Zr.SourceRelationship=Zr.FixedConnectionMap=Zr.InMemoryURLReader=Zr.EmptyURLReader=Zr.PreparedResult=Zr.DocumentCompletion=Zr.DocumentSymbol=Zr.DocumentPosition=Zr.DocumentRange=Zr.DocumentHighlight=Zr.Parse=Zr.parseTableURI=Zr.PreparedQuery=Zr.Model=Zr.MalloyError=Zr.Malloy=void 0;var e1t=_ae(),lR=F8(),Gc=class{static get version(){return"0.0.1"}static get log(){return Gc._log||console}static setLogger(e){Gc._log=e}static _parse(e,t){t===void 0&&(t=new URL("internal://internal.malloy"));let r=new e1t.MalloyTranslator(t.toString(),{urls:{[t.toString()]:e}});return new Eae(r)}static parse({url:e,urlReader:t,source:r}){if(r!==void 0)return Gc._parse(r,e);if(t===void 0)throw new Error("Internal Error: urlReader is required.");if(e===void 0)throw new Error("Internal Error: url is required if source not present.");return t.readURL(e).then(i=>Gc._parse(i,e))}static async compile({urlReader:e,connections:t,parse:r,model:i}){let s=r._translator;for(;;){let o=s.translate(i==null?void 0:i._modelDef);if(o.final){if(o.translated)return new cR(o.translated.modelDef,o.translated.queryList,o.translated.sqlBlocks,a=>s.referenceAt(a));{let a=o.errors||[],l=s.prettyErrors();throw new bae(`Error(s) compiling model:
${l}`,a)}}else{if(o.urls)for(let a of o.urls)try{if(a.startsWith("internal://"))throw new Error("In order to use relative imports, you must compile a file via a URL.");let l=await e.readURL(new URL(a)),f={[a]:l};s.update({urls:f})}catch(l){s.update({errors:{urls:{[a]:l.message}}})}if(o.tables){let a=new Map;for(let l of o.tables){let{connectionName:f}=r9e(l),p=a.get(f);p?p.push(l):p=[l],a.set(f,p)}for(let[l,f]of a)try{let p=await t.lookupConnection(l),{schemas:_,errors:E}=await p.fetchSchemaForTables(f);s.update({tables:_,errors:{tables:E}})}catch(p){let _={},E={};for(let O of f)E[O]=p.toString();s.update({tables:_,errors:{tables:E}})}}if(o.sqlStructs){let a=new Map;for(let l of o.sqlStructs){let f=l.connection,p=a.get(f);p?p.push(l):p=[l],a.set(f,p)}for(let[l,f]of a)try{let p=await t.lookupConnection(l),{schemas:_,errors:E}=await p.fetchSchemaForSQLBlocks(f);s.update({sqlStructs:_}),s.update({sqlStructs:_,errors:{sqlStructs:E}})}catch(p){let _={},E={};for(let O of f)E[O.name]=p.toString();s.update({sqlStructs:_,errors:{sqlStructs:E}})}}}}}static async runSQLBlockAndFetchResultSchema(e,t,r){if(e.canFetchSchemaAndRunSimultaneously())return e.runSQLBlockAndFetchResultSchema(t,r);let[i,s]=await Promise.all([e.fetchSchemaForSQLBlocks([t]).then(o=>o.schemas[t.name]),e.runSQL(t.select)]);return{schema:i,data:s}}static async run({connections:e,preparedResult:t,sqlBlock:r,connection:i,options:s}){if(r===void 0&&t===void 0)throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let o=(r==null?void 0:r.connection)||(t==null?void 0:t.connectionName);if(i===void 0){if(e===void 0)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");i=await e.lookupConnection(o)}if(r!==void 0){let{schema:a,data:l}=await this.runSQLBlockAndFetchResultSchema(i,r,s);if(a.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");return new hC({structs:[a],sql:r.select,result:l.rows,totalRows:l.totalRows,lastStageName:a.name,malloy:"",connectionName:a.structRelationship.connectionName,sourceExplore:"",sourceFilters:[]},{name:"empty_model",exports:[],contents:{}})}else if(t!==void 0){let a=await i.runSQL(t.sql,s);return new hC({...t._rawQuery,result:a.rows,totalRows:a.totalRows},t._modelDef)}else throw new Error("Internal error: sqlBlock or preparedResult must be provided.")}static async*runStream({connections:e,preparedResult:t,sqlBlock:r,connection:i,options:s}){if(r===void 0&&t===void 0)throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let o=(r==null?void 0:r.connection)||(t==null?void 0:t.connectionName);if(i===void 0){if(e===void 0)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");i=await e.lookupConnection(o)}if(!i.canStream())throw new Error(`Connection '${o}' cannot stream results.`);let a,l;if(r!==void 0){let p=(await i.fetchSchemaForSQLBlocks([r])).schemas[r.name];if(p.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");l=new Rx(p),a=r.select}else if(t!==void 0)l=t.resultExplore,a=t.sql;else throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let f=0;for await(let p of i.runSQLStream(a,s))yield new _4(p,f,l,void 0),f+=1}};Zr.Malloy=Gc;var bae=class extends Error{constructor(e,t=[]){super(e);this.log=t}};Zr.MalloyError=bae;var cR=class{constructor(e,t,r,i=()=>{}){this.modelDef=e,this.queryList=t,this.sqlBlocks=r,this._referenceAt=i}getReference(e){return this._referenceAt(e)}getPreparedQueryByName(e){let t=this.modelDef.contents[e];if(t.type==="query")return new by(t,this.modelDef,e);throw new Error("Given query name does not refer to a named query.")}getPreparedQueryByIndex(e){if(e<0)throw new Error(`Invalid index ${e}.`);if(e>=this.queryList.length)throw new Error(`Query index ${e} is out of bounds.`);return new by(this.queryList[e],this.modelDef)}getSQLBlockByName(e){let t=this.sqlBlocks.find(r=>r.as===e);if(t===void 0)throw new Error(`No SQL Block named '${e}'`);return t}getSQLBlockByIndex(e){let t=this.sqlBlocks[e];if(t===void 0)throw new Error(`No SQL Block at index ${e}`);return t}get preparedQuery(){if(this.queryList.length===0)throw new Error("Model has no queries.");return new by(this.queryList[this.queryList.length-1],this.modelDef)}getExploreByName(e){let t=this.modelDef.contents[e];if(t.type==="struct")return new Rx(t);throw new Error("'name' is not an explore")}get explores(){let e=[];for(let t in this.modelDef.contents){let r=this.modelDef.contents[t];r.type==="struct"&&e.push(new Rx(r))}return e}get exportedExplores(){return this.explores.filter(e=>this.modelDef.exports.includes(e.name))}get _modelDef(){return this.modelDef}};Zr.Model=cR;var by=class{constructor(e,t,r){this._query=e,this._modelDef=t,this.name=r}get preparedResult(){let t=new lR.QueryModel(this._modelDef).compileQuery(this._query);return new yz({...t,queryName:this.name||t.queryName},this._modelDef)}get dialect(){let e=this._query.structRef,t=typeof e=="string"?this._modelDef.contents[e]:e;if(t.type!=="struct")throw new Error("Invalid source for query");return t.dialect}getFlattenedQuery(e){let t=this._query.structRef;typeof t!="string"&&(t=t.as||t.name);let s=new lR.QueryModel(this._modelDef).getStructByName(t).flattenTurtleDef({name:e,...this._query,type:"turtle"});return new by({...s,structRef:t,type:"query"},this._modelDef,this.name||s.as||s.name)}};Zr.PreparedQuery=by;function r9e(n){let[e,t]=n.split(":");return t?{connectionName:e,tablePath:t}:{tablePath:e}}Zr.parseTableURI=r9e;var Eae=class{constructor(e){this.translator=e}get highlights(){return(this.translator.metadata().highlights||[]).map(e=>new Sae(e))}get symbols(){return(this.translator.metadata().symbols||[]).map(e=>new fR(e))}get _translator(){return this.translator}completions(e){return(this.translator.completions(e).completions||[]).map(t=>new wae(t))}helpContext(e){return this.translator.helpContext(e).helpContext}};Zr.Parse=Eae;var Sae=class{constructor(e){this._range=new gz(new uC(e.range.start.line,e.range.start.character),new uC(e.range.end.line,e.range.end.character)),this._type=e.type}get range(){return this._range}get type(){return this._type}};Zr.DocumentHighlight=Sae;var gz=class{constructor(e,t){this._start=e,this._end=t}get start(){return this._start}get end(){return this._end}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}};Zr.DocumentRange=gz;var uC=class{constructor(e,t){this._line=e,this._character=t}get line(){return this._line}get character(){return this._character}toJSON(){return{line:this.line,character:this.character}}};Zr.DocumentPosition=uC;var fR=class{constructor(e){this._range=new gz(new uC(e.range.start.line,e.range.start.character),new uC(e.range.end.line,e.range.end.character)),this._type=e.type,this._name=e.name,this._children=e.children.map(t=>new fR(t))}get range(){return this._range}get type(){return this._type}get name(){return this._name}get children(){return this._children}};Zr.DocumentSymbol=fR;var wae=class{constructor(e){this.type=e.type,this.text=e.text}};Zr.DocumentCompletion=wae;var yz=class{constructor(e,t){this.inner=e,this.modelDef=t}get connectionName(){return this.inner.connectionName}get _rawQuery(){return this.inner}get _modelDef(){return this.modelDef}get sql(){return this.inner.sql}get resultExplore(){if(this.inner.structs.length===0)throw new Error("Malformed query result.");let e=this.inner.structs[this.inner.structs.length-1],t={...e,name:this.inner.queryName||e.name};try{return new Rx(t,this.sourceExplore)}catch{return new Rx(t)}}get sourceExplore(){let e=this.inner.sourceExplore,t=this.modelDef.contents[e];if(t===void 0)throw new Error("Malformed query result.");if(t.type==="struct")return new Rx(t);throw new Error(`'${e} is not an explore`)}get _sourceExploreName(){return this.inner.sourceExplore}get _sourceFilters(){return this.inner.sourceFilters||[]}};Zr.PreparedResult=yz;var Cae=class{async readURL(e){throw new Error("No files.")}};Zr.EmptyURLReader=Cae;var i9e=class{constructor(e){this.files=e}async readURL(e){let t=this.files.get(e.toString());if(t!==void 0)return Promise.resolve(t);throw new Error(`File not found '${e}'`)}};Zr.InMemoryURLReader=i9e;var lC=class{constructor(e,t){this.connections=e,this.defaultConnectionName=t}async getConnection(e){if(e===void 0)if(this.defaultConnectionName!==void 0)e=this.defaultConnectionName;else throw new Error("No default connection.");let t=this.connections.get(e);if(t!==void 0)return Promise.resolve(t);throw new Error(`No connection found with name ${e}.`)}async lookupConnection(e){return this.getConnection(e)}static fromArray(e){return new lC(new Map(e.map(t=>[t.name,t])))}};Zr.FixedConnectionMap=lC;var vb;(function(n){n.Nested="nested",n.BaseTable="base_table",n.Cross="cross",n.One="one",n.Many="many",n.Inline="inline"})(vb=Zr.SourceRelationship||(Zr.SourceRelationship={}));var vz=class{constructor(e,t,r){this._name=e,this._parent=t,this._source=r}get source(){return this.source}get name(){return this._name}get sourceClasses(){let e=[];return this.source&&e.push(this.source.name),e.push(this.name),e}hasParentExplore(){return this._parent!==void 0}isExplore(){return this instanceof Rx}isQuery(){return this instanceof wz}},Rx=class extends vz{constructor(e,t,r){super(e.as||e.name,t,r);this._structDef=e,this._parentExplore=t,this.sourceExplore=r}get source(){return this.sourceExplore}isIntrinsic(){return(0,lR.FieldIsIntrinsic)(this._structDef)}get name(){return this.structDef.as||this.structDef.name}getQueryByName(e){let t={type:"query",structRef:this.structDef,pipeline:[{type:"reduce",fields:[e]}]};return new by(t,this.modelDef,e)}get modelDef(){return{name:"generated_model",exports:[],contents:{[this.structDef.name]:this.structDef}}}getSingleExploreModel(){return new cR(this.modelDef,[],[])}get fieldMap(){var e;if(this._fieldMap===void 0){let t=((e=this.source)===null||e===void 0?void 0:e.fieldMap)||new Map;this._fieldMap=new Map(this.structDef.fields.map(r=>{let i=r.as||r.name,s=t.get(r.name);if(r.type==="struct")return[i,new Cz(r,this,s)];if(r.type==="turtle")return[i,new wz(r,this,s)];if(r.type==="string")return[i,new Sz(r,this,s)];if(r.type==="number")return[i,new dR(r,this,s)];if(r.type==="date")return r.timeframe&&["day_of_month","day_of_week","day_of_year"].includes(r.timeframe)?[i,new dR({...r,type:"number"},this,s)]:[i,new _z(r,this,s)];if(r.type==="timestamp")return[i,new bz(r,this,s)];if(r.type==="boolean")return[i,new Ez(r,this,s)]}))}return this._fieldMap}get allFields(){return[...this.fieldMap.values()]}get intrinsicFields(){return[...this.fieldMap.values()].filter(e=>e.isIntrinsic())}getFieldByName(e){let t=this.fieldMap.get(e);if(t===void 0)throw new Error(`No such field ${e}.`);return t}getFieldByNameIfExists(e){return this.fieldMap.get(e)}get primaryKey(){return this.structDef.primaryKey}get parentExplore(){return this._parentExplore}get sourceRelationship(){switch(this.structDef.structRelationship.type){case"many":return vb.Many;case"one":return vb.One;case"cross":return vb.Cross;case"inline":return vb.Inline;case"nested":return vb.Nested;case"basetable":return vb.BaseTable}}hasParentExplore(){return this instanceof Cz}get filters(){var e;return((e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.filterList)||[]}get limit(){var e;return(e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.limit}get structDef(){return this._structDef}};Zr.Explore=Rx;var cC;(function(n){n.String="string",n.Number="number",n.Boolean="boolean",n.Date="date",n.Timestamp="timestamp"})(cC=Zr.AtomicFieldType||(Zr.AtomicFieldType={}));var _b=class extends vz{constructor(e,t,r){super(e.as||e.name,t,r);this.fieldTypeDef=e,this.parent=t}get type(){switch(this.fieldTypeDef.type){case"string":return cC.String;case"boolean":return cC.Boolean;case"date":return cC.Date;case"timestamp":return cC.Timestamp;case"number":return cC.Number}}isIntrinsic(){return(0,lR.FieldIsIntrinsic)(this.fieldTypeDef)}isQueryField(){return!1}isExploreField(){return!1}isAtomicField(){return!0}isAggregate(){return!!this.fieldTypeDef.aggregate}get sourceField(){throw new Error}get sourceClasses(){let e=this.fieldTypeDef.name||this.fieldTypeDef.as;return e?[e]:[]}sourceWasMeasure(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"}sourceWasMeasureLike(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct"}sourceWasDimension(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension"}hasParentExplore(){return!0}isString(){return this instanceof Sz}isNumber(){return this instanceof dR}isDate(){return this instanceof _z}isBoolean(){return this instanceof Ez}isTimestamp(){return this instanceof bz}get parentExplore(){return this.parent}get expression(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.sourceExpression)||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.sourceField)||this.name}};Zr.AtomicField=_b;var fC;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year"})(fC=Zr.DateTimeframe||(Zr.DateTimeframe={}));var Ey;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year",n.Second="second",n.Hour="hour",n.Minute="minute"})(Ey=Zr.TimestampTimeframe||(Zr.TimestampTimeframe={}));var _z=class extends _b{constructor(e,t,r){super(e,t,r);this.fieldDateDef=e}get timeframe(){if(this.fieldDateDef.timeframe!==void 0)switch(this.fieldDateDef.timeframe){case"day":return fC.Day;case"week":return fC.Week;case"month":return fC.Month;case"quarter":return fC.Quarter;case"year":return fC.Year}}};Zr.DateField=_z;var bz=class extends _b{constructor(e,t,r){super(e,t,r);this.fieldTimestampDef=e}get timeframe(){if(this.fieldTimestampDef.timeframe!==void 0)switch(this.fieldTimestampDef.timeframe){case"day":return Ey.Day;case"week":return Ey.Week;case"month":return Ey.Month;case"quarter":return Ey.Quarter;case"year":return Ey.Year;case"second":return Ey.Second;case"hour":return Ey.Hour;case"minute":return Ey.Minute}}};Zr.TimestampField=bz;var dR=class extends _b{constructor(e,t,r){super(e,t,r);this.fieldNumberDef=e}};Zr.NumberField=dR;var Ez=class extends _b{constructor(e,t,r){super(e,t,r);this.fieldBooleanDef=e}};Zr.BooleanField=Ez;var Sz=class extends _b{constructor(e,t,r){super(e,t,r);this.fieldStringDef=e}};Zr.StringField=Sz;var Aae=class extends vz{constructor(e,t,r){super(e.as||e.name,t,r);this.turtleDef=e}get source(){return this.sourceQuery}isIntrinsic(){return!1}};Zr.Query=Aae;var wz=class extends Aae{constructor(e,t,r){super(e,t,r);this.parent=t}isQueryField(){return!0}isExploreField(){return!1}isAtomicField(){return!1}get sourceClasses(){let e=this.turtleDef.name||this.turtleDef.as;return e?[e]:[]}hasParentExplore(){return!0}get parentExplore(){return this.parent}get expression(){return this.name}};Zr.QueryField=wz;var hR;(function(n){n.OneToOne="one_to_one",n.OneToMany="one_to_many",n.ManyToOne="many_to_one"})(hR=Zr.JoinRelationship||(Zr.JoinRelationship={}));var Cz=class extends Rx{constructor(e,t,r){super(e,t,r);this._parentExplore=t}get joinRelationship(){switch(this.structDef.structRelationship.type){case"one":return hR.OneToMany;case"many":case"cross":return hR.ManyToOne;case"inline":return hR.OneToOne;case"nested":return hR.ManyToOne;default:throw new Error("An explore field must have a join relationship.")}}isQueryField(){return!1}isExploreField(){return!0}isAtomicField(){return!1}get parentExplore(){return this._parentExplore}get sourceClasses(){let e=this.structDef.name||this.structDef.as;return e?[e]:[]}};Zr.ExploreField=Cz;var Az=class{constructor(...e){let t,r;for(let i of e)t1t(i)?t=i:n1t(i)?r=i:r={lookupConnection:()=>Promise.resolve(i)};if(t===void 0&&(t=new Cae),r===void 0)throw new Error("A LookupConnection<Connection> or Connection is required.");this._urlReader=t,this._connections=r}get urlReader(){return this._urlReader}get connections(){return this._connections}loadModel(e){return new Tz(this,async()=>{let t=e instanceof URL?await Gc.parse({url:e,urlReader:this.urlReader}):Gc.parse({source:e});return Gc.compile({urlReader:this.urlReader,connections:this.connections,parse:t})})}_loadModelFromModelDef(e){return new Tz(this,async function(){return new cR(e,[],[])})}loadQuery(e){return this.loadModel(e).loadFinalQuery()}loadQueryByIndex(e,t){return this.loadModel(e).loadQueryByIndex(t)}loadQueryByName(e,t){return this.loadModel(e).loadQueryByName(t)}loadSQLBlockByName(e,t){return this.loadModel(e).loadSQLBlockByName(t)}loadSQLBlockByIndex(e,t){return this.loadModel(e).loadSQLBlockByIndex(t)}getModel(e){return this.loadModel(e).getModel()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getQueryByIndex(e,t){return this.loadQueryByIndex(e,t).getPreparedQuery()}getQueryByName(e,t){return this.loadQueryByName(e,t).getPreparedQuery()}getSQLBlockByName(e,t){return this.loadSQLBlockByName(e,t).getSQLBlock()}getSQLBlockByIndex(e,t){return this.loadSQLBlockByIndex(e,t).getSQLBlock()}};Zr.Runtime=Az;var s9e=class extends Az{constructor(e,t){if(t===void 0){let r=e;super(lC.fromArray(r));this.rawConnections=r}else{let r=t;super(e,lC.fromArray(r));this.rawConnections=r}}};Zr.ConnectionRuntime=s9e;var o9e=class extends Az{constructor(e,t){if(t===void 0){let r=e;super(r);this.connection=r}else{let r=t;super(e,r);this.connection=r}}};Zr.SingleConnectionRuntime=o9e;var dC=class{constructor(e,t){this.runtime=e,this._materialize=t}materialize(){return this.materialized===void 0?this.rematerialize():this.materialized}rematerialize(){return this.materialized=this._materialize(),this.materialized}makeQueryMaterializer(e){return new Tae(this.runtime,e)}makeExploreMaterializer(e){return new Oae(this.runtime,e)}makePreparedResultMaterializer(e){return new Fae(this.runtime,e)}makeSQLBlockMaterializer(e){return new Dae(this.runtime,e)}},Tz=class extends dC{loadFinalQuery(){return this.makeQueryMaterializer(async()=>(await this.materialize()).preparedQuery)}loadQueryByIndex(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByIndex(e))}loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByName(e))}loadQuery(e){return this.makeQueryMaterializer(async()=>{let t=this.runtime.urlReader,r=this.runtime.connections,i=e instanceof URL?await Gc.parse({url:e,urlReader:t}):Gc.parse({source:e}),s=await this.getModel();return(await Gc.compile({urlReader:t,connections:r,parse:i,model:s})).preparedQuery})}async search(e,t,r=1e3,i=void 0){let s=await this.materialize(),o=new lR.QueryModel(s._modelDef),a=s.getExploreByName(e).structDef;if(a.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let l=a.structRelationship.connectionName,f=await this.runtime.connections.lookupConnection(l);return await o.searchIndex(f,e,t,r,i)}async searchValueMap(e,t=10){let i=(await this.materialize()).getExploreByName(e);if(i.structDef.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let s="{index: *}";i.getFieldByNameIfExists("search_index")&&(s="search_index");let o=`
      query: ${e}
        -> ${s}
        -> {
          where: fieldType = 'string'
          group_by: fieldName
          aggregate: cardinality is count(distinct fieldValue)
          nest: values is {
            project: fieldValue, weight
            order_by: weight desc
            limit: ${t}
          }
          limit: 1000
        }
    `;return(await this.loadQuery(o).run({rowLimit:1e3}))._queryResult.result}loadSQLBlockByName(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByName(e))}loadSQLBlockByIndex(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByIndex(e))}getFinalQuery(){return this.loadFinalQuery().getPreparedQuery()}getQueryByIndex(e){return this.loadQueryByIndex(e).getPreparedQuery()}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getSQLBlockByName(e){return this.loadSQLBlockByName(e).getSQLBlock()}getSQLBlockByIndex(e){return this.loadSQLBlockByIndex(e).getSQLBlock()}_loadQueryFromQueryDef(e){return this.makeQueryMaterializer(async()=>{let t=await this.materialize();return new by(e,t._modelDef)})}loadExploreByName(e){return this.makeExploreMaterializer(async()=>(await this.materialize()).getExploreByName(e))}getExploreByName(e){return this.loadExploreByName(e).getExplore()}getModel(){return this.materialize()}};Zr.ModelMaterializer=Tz;var Tae=class extends dC{async run(e){let t=this.runtime.connections,r=await this.getPreparedResult();return Gc.run({connections:t,preparedResult:r,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=Gc.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}loadPreparedResult(){return this.makePreparedResultMaterializer(async()=>(await this.materialize()).preparedResult)}getPreparedResult(){return this.loadPreparedResult().getPreparedResult()}async getSQL(){return(await this.getPreparedResult()).sql}getPreparedQuery(){return this.materialize()}};Zr.QueryMaterializer=Tae;var Fae=class extends dC{async run(e){let t=await this.getPreparedResult(),r=this.runtime.connections;return Gc.run({connections:r,preparedResult:t,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=Gc.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}getPreparedResult(){return this.materialize()}async getSQL(){return(await this.getPreparedResult()).sql}};Zr.PreparedResultMaterializer=Fae;var Dae=class extends dC{async run(e){let t=await this.getSQLBlock(),r=this.runtime.connections;return Gc.run({connections:r,sqlBlock:t,options:e})}async*runStream(e){let t=await this.getSQLBlock(),r=this.runtime.connections,i=Gc.runStream({connections:r,sqlBlock:t,options:e});for await(let s of i)yield s}getSQLBlock(){return this.materialize()}async getSQL(){return(await this.getSQLBlock()).select}};Zr.SQLBlockMaterializer=Dae;var Oae=class extends dC{loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getQueryByName(e))}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getExplore(){return this.materialize()}};Zr.ExploreMaterializer=Oae;var hC=class extends yz{constructor(e,t){super(e,t);this.inner=e}get _queryResult(){return this.inner}get data(){return new pC(this.inner.result,this.resultExplore,void 0)}get totalRows(){return this.inner.totalRows}toJSON(){return{queryResult:this.inner,modelDef:this._modelDef}}static fromJSON({queryResult:e,modelDef:t}){return new hC(e,t)}};Zr.Result=hC;var pR=class{constructor(e){this._field=e}get field(){return this._field}isString(){return this instanceof Rae}get string(){if(this.isString())return this;throw new Error("Not a string.")}isBoolean(){return this instanceof Nae}get boolean(){if(this.isBoolean())return this;throw new Error("Not a boolean.")}isNumber(){return this instanceof Lae}get number(){if(this.isNumber())return this;throw new Error("Not a number.")}isTimestamp(){return this instanceof kae}get timestamp(){if(this.isTimestamp())return this;throw new Error("Not a timestamp.")}isDate(){return this instanceof Iae}get date(){if(this.isDate())return this;throw new Error("Not a date.")}isNull(){return this instanceof Mae}isBytes(){return this instanceof a9e}get bytes(){if(this.isBytes())return this;throw new Error("Not bytes.")}isRecord(){return this instanceof _4}get record(){if(this.isRecord())return this;throw new Error("Not a record.")}isArray(){return this instanceof pC}get array(){if(this.isArray())return this;throw new Error("Not an array.")}isArrayOrRecord(){if(this instanceof pC||this instanceof _4)return this;throw new Error("No Array or Record")}},bb=class extends pR{constructor(e,t){super(t);this._value=e,this._field=t}get value(){return this._value}get field(){return this._field}},Rae=class extends bb{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},Nae=class extends bb{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},Lae=class extends bb{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},kae=class extends bb{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value=="number"?new Date(super.value):typeof this._value!="string"?new Date(this._value.value):new Date(super.value)}get field(){return this._field}},Iae=class extends bb{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value!="string"?new Date(this._value.value):new Date(super.value)}get field(){return this._field}},a9e=class extends bb{},Mae=class extends pR{get value(){return null}},pC=class extends pR{constructor(e,t,r){super(t);this.parent=r,this.queryData=e,this._field=t}get field(){return this._field}toObject(){return this.queryData}path(...e){return u9e(this,e)}row(e){return new _4(this.queryData[e],e,this.field,this)}get rowCount(){return this.queryData.length}get value(){return this.toObject()}[Symbol.iterator](){let e=0,t=this.queryData,r=i=>this.row(i);return{next(){return e<t.length?{value:r(e++),done:!1}:{value:void 0,done:!0}}}}async*inMemoryStream(){for(let e=0;e<this.queryData.length;e++)yield this.row(e)}};Zr.DataArray=pC;function u9e(n,e){for(let t of e)typeof t=="number"?n=n.array.row(t):n=n.record.cell(t);return n}var _4=class extends pR{constructor(e,t,r,i){super(r);this.parent=i,this.queryDataRow=e,this._field=r,this.index=t}toObject(){return this.queryDataRow}path(...e){return u9e(this,e)}cell(e){let t=typeof e=="string"?e:e.name,r=this._field.getFieldByName(t),i=this.queryDataRow[t];if(i===null)return new Mae(r);if(r.isAtomicField()){if(r.isBoolean())return new Nae(i,r);if(r.isDate())return new Iae(i,r);if(r.isTimestamp())return new kae(i,r);if(r.isNumber())return new Lae(i,r);if(r.isString())return new Rae(i,r)}else if(r.isExploreField())return Array.isArray(i)?new pC(i,r,this):new _4(i,void 0,r,this);throw new Error(`Internal Error: could not construct data column for field '${t}'.`)}get value(){throw new Error("Not implemented;")}get field(){return this._field}[Symbol.iterator](){let e=!1,t=()=>this;return{next(){return e?{value:void 0,done:!0}:(e=!0,{value:t(),done:!1})}}}};Zr.DataRecord=_4;function t1t(n){return"readURL"in n}function n1t(n){return"lookupConnection"in n}var Fz=class{constructor(e){this.stream=e}};Zr.DataWriter=Fz;var l9e=class extends Fz{async process(e){this.stream.write(`[
`);for await(let t of e){t.index!==void 0&&t.index>0&&this.stream.write(`,
`);let i=JSON.stringify(t.toObject(),null,2).split(`
`);for(let s=0;s<i.length;s++){let o=i[s];this.stream.write(`  ${o}`),s<i.length-1&&this.stream.write(`
`)}}this.stream.write(`
]
`),this.stream.close()}};Zr.JSONWriter=l9e;var c9e=class extends Fz{constructor(){super(...arguments);this.columnSeparator=",",this.rowSeparator=`
`,this.quoteCharacter='"',this.includeHeader=!0}escape(e){let t=e.includes(this.quoteCharacter),r=e.includes(this.columnSeparator),i=e.includes(this.rowSeparator),s=r||t||i;return t&&(e=e.replace(new RegExp(this.quoteCharacter,"g"),this.quoteCharacter+this.quoteCharacter)),s&&(e=this.quoteCharacter+e+this.quoteCharacter),e}stringify(e){return e.isNull()?"":e.isArray()||e.isRecord()||e.isBoolean()||e.isNumber()?JSON.stringify(e.value):e.isDate()||e.isTimestamp()?e.value.toISOString():e.isString()?e.value:`${e.value}`}async process(e){let t;for await(let r of e){if(t===void 0&&(t=r.field.allFields,this.includeHeader)){for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(s.name)),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(this.stringify(r.cell(s)))),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}this.stream.close()}};Zr.CSVWriter=c9e});var d9e=Ae(Dz=>{"use strict";m();Object.defineProperty(Dz,"__esModule",{value:!0});Dz.toAsyncGenerator=void 0;async function*r1t(n){let e=!1;function t(i){let s,o=new Promise(a=>{s=a});return i(a=>{s({done:!0,isError:!0,error:a})},a=>{s({done:!1,value:a,isError:!1,next:new Promise(l=>{s=l})})},()=>{s({done:!0,isError:!1})}),o}let r=t(n);for(;!e;){let i=await r;if(i.done){if(e=!0,i.isError)throw i.error;break}else r=i.next,yield i.value}}Dz.toAsyncGenerator=r1t});var w1=Ae(Fs=>{"use strict";m();Object.defineProperty(Fs,"__esModule",{value:!0});Fs.toAsyncGenerator=Fs.DataWriter=Fs.JSONWriter=Fs.CSVWriter=Fs.QueryMaterializer=Fs.parseTableURI=Fs.Result=Fs.TimestampTimeframe=Fs.DateTimeframe=Fs.SourceRelationship=Fs.JoinRelationship=Fs.MalloyError=Fs.FixedConnectionMap=Fs.InMemoryURLReader=Fs.EmptyURLReader=Fs.SingleConnectionRuntime=Fs.ConnectionRuntime=Fs.AtomicFieldType=Fs.Runtime=Fs.Malloy=Fs.MalloyTranslator=Fs.HighlightType=Fs.isFilteredAliasedName=Fs.Segment=void 0;var h9e=F8();Object.defineProperty(Fs,"Segment",{enumerable:!0,get:function(){return h9e.Segment}});Object.defineProperty(Fs,"isFilteredAliasedName",{enumerable:!0,get:function(){return h9e.isFilteredAliasedName}});var p9e=_ae();Object.defineProperty(Fs,"HighlightType",{enumerable:!0,get:function(){return p9e.HighlightType}});Object.defineProperty(Fs,"MalloyTranslator",{enumerable:!0,get:function(){return p9e.MalloyTranslator}});var Yc=f9e();Object.defineProperty(Fs,"Malloy",{enumerable:!0,get:function(){return Yc.Malloy}});Object.defineProperty(Fs,"Runtime",{enumerable:!0,get:function(){return Yc.Runtime}});Object.defineProperty(Fs,"AtomicFieldType",{enumerable:!0,get:function(){return Yc.AtomicFieldType}});Object.defineProperty(Fs,"ConnectionRuntime",{enumerable:!0,get:function(){return Yc.ConnectionRuntime}});Object.defineProperty(Fs,"SingleConnectionRuntime",{enumerable:!0,get:function(){return Yc.SingleConnectionRuntime}});Object.defineProperty(Fs,"EmptyURLReader",{enumerable:!0,get:function(){return Yc.EmptyURLReader}});Object.defineProperty(Fs,"InMemoryURLReader",{enumerable:!0,get:function(){return Yc.InMemoryURLReader}});Object.defineProperty(Fs,"FixedConnectionMap",{enumerable:!0,get:function(){return Yc.FixedConnectionMap}});Object.defineProperty(Fs,"MalloyError",{enumerable:!0,get:function(){return Yc.MalloyError}});Object.defineProperty(Fs,"JoinRelationship",{enumerable:!0,get:function(){return Yc.JoinRelationship}});Object.defineProperty(Fs,"SourceRelationship",{enumerable:!0,get:function(){return Yc.SourceRelationship}});Object.defineProperty(Fs,"DateTimeframe",{enumerable:!0,get:function(){return Yc.DateTimeframe}});Object.defineProperty(Fs,"TimestampTimeframe",{enumerable:!0,get:function(){return Yc.TimestampTimeframe}});Object.defineProperty(Fs,"Result",{enumerable:!0,get:function(){return Yc.Result}});Object.defineProperty(Fs,"parseTableURI",{enumerable:!0,get:function(){return Yc.parseTableURI}});Object.defineProperty(Fs,"QueryMaterializer",{enumerable:!0,get:function(){return Yc.QueryMaterializer}});Object.defineProperty(Fs,"CSVWriter",{enumerable:!0,get:function(){return Yc.CSVWriter}});Object.defineProperty(Fs,"JSONWriter",{enumerable:!0,get:function(){return Yc.JSONWriter}});Object.defineProperty(Fs,"DataWriter",{enumerable:!0,get:function(){return Yc.DataWriter}});var i1t=d9e();Object.defineProperty(Fs,"toAsyncGenerator",{enumerable:!0,get:function(){return i1t.toAsyncGenerator}})});var x9e=Ae(Oz=>{"use strict";m();Object.defineProperty(Oz,"__esModule",{value:!0});Oz.DuckDBCommon=void 0;var s1t=w1(),m9e={BIGINT:"number",DOUBLE:"number",VARCHAR:"string",DATE:"date",TIMESTAMP:"timestamp",TIME:"string",DECIMAL:"number",BOOLEAN:"boolean",INTEGER:"number"},mR=class{constructor(e){this.queryOptions=e,this.name="duckdb_common"}get dialectName(){return"duckdb"}readQueryOptions(){let e=mR.DEFAULT_QUERY_OPTIONS;return this.queryOptions?this.queryOptions instanceof Function?{...e,...this.queryOptions()}:{...e,...this.queryOptions}:e}isPool(){return!1}canPersist(){return!0}async runRawSQL(e){return await this.setup(),this.runDuckDBQuery(e)}async runSQL(e,t={}){var r;let i=this.readQueryOptions(),s=(r=t.rowLimit)!==null&&r!==void 0?r:i.rowLimit,o=e.split("-- hack: split on this");for(;o.length>1;)await this.runRawSQL(o[0]),o.shift();let l=(await this.runRawSQL(o[0])).rows;return l.length>s&&(l=l.slice(0,s)),{rows:l,totalRows:l.length}}async runSQLBlockAndFetchResultSchema(e){let t=await this.runSQL(e.select),r=(await this.fetchSchemaForSQLBlocks([e])).schemas[e.name];return{data:t,schema:r}}async getSQLBlockSchema(e){let t={type:"struct",dialect:"duckdb",name:e.name,structSource:{type:"sql",method:"subquery",sqlBlock:e},structRelationship:{type:"basetable",connectionName:this.name},fields:[]};return await this.schemaFromQuery(`DESCRIBE SELECT * FROM (${e.select})`,t),t}splitColumns(e){let t=[],r=0,i="",s=!0;for(let o=0;o<e.length;o++){let a=e.charAt(o);s&&a===" "||(s=!1,!r&&a===","?(t.push(i),i="",s=!0):i+=a,a==="("?r+=1:a===")"&&(r-=1))}return t.push(i),t}stringToTypeMap(e){let t={},r=this.splitColumns(e);for(let i of r){let s=i.match(/^(?<name>[^\s]+) (?<type>.*)$/);if(s&&s.groups)t[s.groups.name]=s.groups.type;else throw new Error(`Badly form Structure definition ${e}`)}return t}fillStructDefFromTypeMap(e,t){for(let r in t){let i=t[r];i=i.replace(/^DECIMAL\(\d+,\d+\)/g,"DECIMAL");let s=m9e[i],o=i.match(/(?<duckDBType>.*)\[\]$/);o&&o.groups&&(i=o.groups.duckDBType);let a=i.match(/^STRUCT\((?<fields>.*)\)$/);if(a&&a.groups){let l=this.stringToTypeMap(a.groups.fields),f={type:"struct",name:r,dialect:this.dialectName,structSource:{type:o?"nested":"inline"},structRelationship:{type:o?"nested":"inline",field:r,isArray:!1},fields:[]};this.fillStructDefFromTypeMap(f,l),e.fields.push(f)}else if(o){s=m9e[i];let l={type:"struct",name:r,dialect:this.dialectName,structSource:{type:"nested"},structRelationship:{type:"nested",field:r,isArray:!0},fields:[{type:s,name:"value"}]};e.fields.push(l)}else s!==void 0?e.fields.push({type:s,name:r}):e.fields.push({name:r,type:"string",e:[`'DuckDB type "${i}" not supported by Malloy'`]})}}async schemaFromQuery(e,t){let r={},i=await this.runRawSQL(e);for(let s of i.rows)r[s.column_name]=s.column_type;this.fillStructDefFromTypeMap(t,r)}async fetchSchemaForSQLBlocks(e){let t={},r={};for(let i of e)try{t[i.name]=await this.getSQLBlockSchema(i)}catch(s){r[i.name]=s}return{schemas:t,errors:r}}async fetchSchemaForTables(e){let t={},r={};for(let i of e)try{t[i]=await this.getTableSchema(i)}catch(s){r[i]=s.toString()}return{schemas:t,errors:r}}async getTableSchema(e){let{tablePath:t}=(0,s1t.parseTableURI)(e),r={type:"struct",name:t,dialect:"duckdb",structSource:{type:"table",tablePath:t},structRelationship:{type:"basetable",connectionName:this.name},fields:[]},s=`DESCRIBE SELECT * FROM ${t.match(/\//)?`'${t}'`:t}`;return await this.schemaFromQuery(s,r),r}canFetchSchemaAndRunSimultaneously(){return!1}canStream(){return!0}canFetchSchemaAndRunStreamSimultaneously(){return!1}async test(){await this.runRawSQL("SELECT 1")}async manifestTemporaryTable(e){let r=`tt${await this.createHash(e)}`,i=`CREATE TEMPORARY TABLE IF NOT EXISTS ${r} AS (${e});`;return await this.runRawSQL(i),r}};Oz.DuckDBCommon=mR;mR.DEFAULT_QUERY_OPTIONS={rowLimit:10}});var v9e=Ae(Nx=>{"use strict";m();var o1t=Nx&&Nx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),a1t=Nx&&Nx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),u1t=Nx&&Nx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&o1t(e,n,t);return a1t(e,n),e};Object.defineProperty(Nx,"__esModule",{value:!0});Nx.DuckDBWASMConnection=void 0;var Rz=u1t(j5e()),l1t=KB(),c1t=x9e(),Nz=n=>{if(n===null)return n;if(n instanceof l1t.Vector)return[...n].map(Nz);if(n instanceof Date)return n;if(typeof n=="bigint")return Number(n);if(typeof n=="object"){let e=n;if(e[Symbol.toPrimitive])return Number(e[Symbol.toPrimitive]());if(Array.isArray(n))return n.map(Nz);{let t={};for(let r in e)t[r]=Nz(e[r]);return t}}return n},g9e=n=>Nz(n.toJSON()),f1t=n=>n.toArray().map(g9e),y9e=class extends c1t.DuckDBCommon{constructor(e,t="test/data/duckdb/duckdb_test.db",r="/",i){super(i);this.name=e,this.workingDirectory=r,this._connection=null,this._database=null,this.isSetup=!1,this.connecting=this.init()}async init(){let e=Rz.getJsDelivrBundles(),t=await Rz.selectBundle(e);if(t.mainWorker){let r=URL.createObjectURL(new Blob([`importScripts("${t.mainWorker}");`],{type:"text/javascript"})),i=new Worker(r),s=new Rz.ConsoleLogger;this._database=new Rz.AsyncDuckDB(s,i),await this._database.instantiate(t.mainModule,t.pthreadWorker),URL.revokeObjectURL(r),this._connection=await this._database.connect()}else throw new Error("Unable to instantiate duckdb-wasm")}get connection(){return this._connection}get database(){return this._database}async setup(){await this.connecting}async runDuckDBQuery(e){var t;let r=await((t=this.connection)===null||t===void 0?void 0:t.query(e));if((r==null?void 0:r.numRows)!=null)return{rows:f1t(r),totalRows:r.numRows};throw new Error("Boom")}async*runSQLStream(e,t={}){if(!this.connection)throw new Error("duckdb-wasm not connected");await this.setup();let r=e.split("-- hack: split on this");for(;r.length>1;)await this.runDuckDBQuery(r[0]),r.shift();for await(let i of await this.connection.send(r[0]))for(let s of i.toArray())yield g9e(s)}async createHash(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}};Nx.DuckDBWASMConnection=y9e});var $9e=Ae((fOt,U9e)=>{"use strict";m();var y1t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";U9e.exports=y1t});var W9e=Ae((dOt,V9e)=>{"use strict";m();var v1t=$9e();function z9e(){}function H9e(){}H9e.resetWarningCache=z9e;V9e.exports=function(){function n(r,i,s,o,a,l){if(l!==v1t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:H9e,resetWarningCache:z9e};return t.PropTypes=t,t}});var G9e=Ae((mOt,Q9e)=>{m();Q9e.exports=W9e()();var hOt,pOt});var CAe={};DG(CAe,{GlobalHotKeys:()=>omt,HotKeys:()=>EAe,IgnoreKeys:()=>umt,ObserveKeys:()=>cmt,configure:()=>hmt,getApplicationKeyMap:()=>pmt,recordKeyCombination:()=>mmt,withHotKeys:()=>bAe,withIgnoreKeys:()=>fmt,withObserveKeys:()=>dmt});function Uz(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uz=function(e){return typeof e}:Uz=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uz(n)}function Qa(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Y9e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ga(n,e,t){return e&&Y9e(n.prototype,e),t&&Y9e(n,t),n}function Af(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $z(){return $z=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$z.apply(this,arguments)}function T1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){Af(n,i,t[i])})}return n}function Lx(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&vR(n,e)}function Tc(n){return Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tc(n)}function vR(n,e){return vR=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},vR(n,e)}function _1t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function zz(n,e,t){return _1t()?zz=Reflect.construct:zz=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),f=new l;return o&&vR(f,o.prototype),f},zz.apply(null,arguments)}function b1t(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function zae(n){var e=typeof Map=="function"?new Map:void 0;return zae=function(r){if(r===null||!b1t(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return zz(r,arguments,Tc(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),vR(i,r)},zae(n)}function E1t(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function _R(n,e){if(n==null)return{};var t=E1t(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function Kc(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function kx(n,e){return e&&(typeof e=="object"||typeof e=="function")?e:Kc(n)}function S1t(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=Tc(n),n!==null););return n}function wy(n,e,t){return typeof Reflect!="undefined"&&Reflect.get?wy=Reflect.get:wy=function(i,s,o){var a=S1t(i,s);if(!!a){var l=Object.getOwnPropertyDescriptor(a,s);return l.get?l.get.call(o):l.value}},wy(n,e,t||n)}function Rd(n){return w1t(n)||C1t(n)||A1t()}function w1t(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function C1t(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function A1t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function CC(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return n.reduce(function(t,r){return t[r]=e||{value:r},t},{})}function Vae(n){return J9e[n]||[n.length===1?n.toUpperCase():n]}function F1(n,e){return n.hasOwnProperty(e)}function Hz(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(n).reduce(function(t,r){var i=n[r];return i.forEach(function(s){F1(t,s)||(t[s]=[]),t[s].push(r)}),e.includeOriginal&&(!F1(t,r)&&(t[r]=[]),t[r]=[].concat(Rd(t[r]),Rd(i))),t},{})}function Vz(n){return T1t[n]||[n.length===1?n.toLowerCase():n]}function Z9e(n){return typeof n=="string"}function D1t(n){return Z9e(n)?n.trim().replace(/\s+/g," "):n}function eAe(n){var e=n.toLowerCase();return O1t[e]||R1t[e]||(n.match(/^f\d+$/)?n.toUpperCase():n)}function nAe(n){return!!N1t[n]}function L1t(n){return Ya.option("_customKeyNamesDict")[n]}function rAe(n){return nAe(n)||String.fromCharCode(n.charCodeAt(0))===n||L1t(n)}function sAe(n){return n.sort().join("+")}function aAe(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return n.replace(/^\+|(\s|[^+]\+)\+/,"$1plus").split("+").reduce(function(t,r){var i=eAe(r);if(e.ensureValidKeys&&!rAe(i))throw new iAe;return t[i]=!0,t},{})}function Wae(n){return k1t[n]||[n]}function Qae(n){return uAe[n]||[n]}function Gae(n){return I1t[n]||Vz(n)}function Yae(n){return lAe[n]||[n]}function M1t(n){return X9e[n]||[n]}function P1t(n){if(n.Shift)return n.Alt?[Yae,Gae]:[Vae,Vz];if(n.Alt)return[Qae,Wae];var e=function(t){return[t]};return[e,e]}function D1(n){return typeof n=="undefined"}function E4(n){return!Array.isArray(n)&&Uz(n)==="object"&&n!==null}function ER(n){return E4(n)?Object.keys(n).length===0:!n||n.length===0}function fAe(n){return E4(n)?Object.keys(n).length:n.length}function B1t(n){return Object.keys(n).reduce(function(e,t){return M1t(t).forEach(function(r){P1t(n).forEach(function(i){i(r).forEach(function(s){(s!==t||t!==r)&&(e[s]=t)})})}),e},{})}function SR(n){return Array.isArray(n)?n:n?[n]:[]}function q1t(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=CC(SR(e));return Array.isArray(n)?n.reduce(function(i,s){return r[s]&&(t.stringifyFirst||r[s].value===s)||i.push(s),i},[]):E4(n)?Object.keys(n).reduce(function(i,s){return r[s]||(i[s]=n[s]),i},{}):n}function $1t(n,e){return[].concat(Rd(n.slice(0,e)),Rd(n.slice(e+1)))}function V1t(n,e){if(E4(n)){var t=n.sequence,r=n.action;return{keySequence:t,keyEventType:D1(r)?to[e.defaultKeyEvent]:to[r]}}return{keySequence:n,keyEventType:to[e.defaultKeyEvent]}}function hAe(n,e){return n[n.length-(e+1)]}function pAe(n){return n.length===1||F1(Kae,n)}function Q1t(n,e){var t=fAe(e.keyDictionary);return Ya.option("allowCombinationSubmatches")||G1t(n)?n.getNumberOfKeys()>=t:n.getNumberOfKeys()===t}function G1t(n){return!!n.isKeyStillPressed("Meta")&&n.some(function(e){return pAe(e)})}function Yz(n,e,t){return t.forEach(function(r){F1(n,r)&&(e[r]=n[r])}),e}function mAe(n){switch(parseInt(n,10)){case 0:return"keydown";case 1:return"keypress";default:return"keyup"}}function J1t(n){return!nAe(n)}function wb(n){return n.simulated?Cy.simulated:Cy.seen}function X1t(n){var e,t=n.keyCode;return"charCode"in n?(e=n.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function emt(n){if(n.key){var e=Z1t[n.key]||n.key;if(e!=="Unidentified")return e}if(n.type==="keypress"){var t=X1t(n);return t===13?"Enter":String.fromCharCode(t)}return n.type==="keydown"||n.type==="keyup"?tAe[n.keyCode]||"Unidentified":""}function AC(n){var e=function(){var t=Ya.option("customKeyCodes"),r=n.keyCode||n.charCode;return F1(t,r)?t[r]:n.nativeEvent?n.key:emt(n)}();return e==="+"?"plus":e}function Kz(n){return n==="Meta"}function Jz(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return Array.isArray(n)||Z9e(n)?t.stringifyFirst?!D1(n.find(function(r){return r.toString()===e.toString()})):n.indexOf(e)!==-1:E4(n)?F1(n,e):t.stringifyFirst?n.toString()===e.toString():n===e}function vAe(n){return n.replace(/\b\w/g,function(e){return e.toUpperCase()})}function rmt(n){return"".concat(vAe(n.slice(0,3))).concat(vAe(n.slice(3)))}function Jae(n){return!D1(n)}function _Ae(n,e){var t=e.deprecatedAPI,r=t.contextTypes,i=t.childContextTypes,s=e.newAPI.contextType;if(typeof t0.default.createContext=="undefined")n.contextTypes=r,n.childContextTypes=i,n.prototype.getChildContext=function(){return this._childContext};else{var o=t0.default.createContext(s);n.contextType=o,n.prototype._originalRender=n.prototype.render,n.prototype.render=function(){var a=this._originalRender();return a?t0.default.createElement(o.Provider,{value:this._childContext},a):null}}return n}function bAe(n){function e(o,a){return T1({},i[o]||{},a[o]||{})}function t(o){return e("handlers",o)}function r(o){return e("keyMap",o)}var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=function(o){function a(l){var f;return Qa(this,a),f=kx(this,Tc(a).call(this,l)),f._handleFocus=f._handleFocus.bind(Kc(Kc(f))),f._handleBlur=f._handleBlur.bind(Kc(Kc(f))),f._handleKeyDown=f._handleKeyDown.bind(Kc(Kc(f))),f._handleKeyPress=f._handleKeyPress.bind(Kc(Kc(f))),f._handleKeyUp=f._handleKeyUp.bind(Kc(Kc(f))),f._componentIsFocused=f._componentIsFocused.bind(Kc(Kc(f))),f._id=U0.getInstance().registerKeyMap(l.keyMap),f._childContext={hotKeysParentId:f._id},f}return Lx(a,o),Ga(a,[{key:"render",value:function(){var f=this.props,p=f.keyMap,_=f.handlers,E=f.allowChanges,O=f.root,R=_R(f,["keyMap","handlers","allowChanges","root"]),q={onFocus:this._wrapFunction("onFocus",this._handleFocus),onBlur:this._wrapFunction("onBlur",this._handleBlur),tabIndex:Ya.option("defaultTabIndex")};return this._shouldBindKeyListeners()&&(q.onKeyDown=this._handleKeyDown,q.onKeyPress=this._handleKeyPress,q.onKeyUp=this._handleKeyUp),t0.default.createElement(n,$z({hotKeys:q},R))}},{key:"_shouldBindKeyListeners",value:function(){var f=r(this.props);return!ER(f)||this.props.root||Ya.option("enableHardSequences")&&this._handlersIncludeHardSequences(f,t(this.props))}},{key:"_handlersIncludeHardSequences",value:function(f,p){return Object.keys(p).some(function(_){return!f[_]&&Wz.isValidKeySerialization(_)})}},{key:"_wrapFunction",value:function(f,p){var _=this;return typeof this.props[f]=="function"?function(E){_.props[f](E),p(E)}:p}},{key:"_focusTreeIdsPush",value:function(f){this._focusTreeIds||(this._focusTreeIds=[]),this._focusTreeIds.push(f)}},{key:"_focusTreeIdsShift",value:function(){this._focusTreeIds&&this._focusTreeIds.shift()}},{key:"_getFocusTreeId",value:function(){if(this._focusTreeIds)return this._focusTreeIds[0]}},{key:"componentDidUpdate",value:function(){var f=U0.getInstance();if(f.reregisterKeyMap(this._id,this.props.keyMap),this._componentIsFocused()&&(this.props.allowChanges||!Ya.option("ignoreKeymapAndHandlerChangesByDefault"))){var p=this.props,_=p.keyMap,E=p.handlers;f.updateEnabledHotKeys(this._getFocusTreeId(),this._id,_,E,this._getComponentOptions())}}},{key:"_componentIsFocused",value:function(){return this._focused===!0}},{key:"componentDidMount",value:function(){var f=U0.getInstance(),p=this.context.hotKeysParentId;f.registerComponentMount(this._id,p)}},{key:"_handleFocus",value:function(){if(this.props.onFocus){var f;(f=this.props).onFocus.apply(f,arguments)}var p=U0.getInstance().enableHotKeys(this._id,r(this.props),t(this.props),this._getComponentOptions());D1(p)||this._focusTreeIdsPush(p),this._focused=!0}},{key:"componentWillUnmount",value:function(){var f=U0.getInstance();f.deregisterKeyMap(this._id),f.registerComponentUnmount(),this._handleBlur()}},{key:"_handleBlur",value:function(){if(this.props.onBlur){var f;(f=this.props).onBlur.apply(f,arguments)}var p=U0.getInstance().disableHotKeys(this._getFocusTreeId(),this._id);p||this._focusTreeIdsShift(),this._focused=!1}},{key:"_handleKeyDown",value:function(f){var p=U0.getInstance().handleKeydown(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyPress",value:function(f){var p=U0.getInstance().handleKeyPress(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyUp",value:function(f){var p=U0.getInstance().handleKeyUp(f,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Ya.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Ya.option("ignoreEventsCondition")}}}]),a}(t0.PureComponent);return Af(s,"propTypes",{keyMap:Su.default.object,handlers:Su.default.object,onFocus:Su.default.func,onBlur:Su.default.func,allowChanges:Su.default.bool,root:Su.default.bool}),_Ae(s,{deprecatedAPI:{contextTypes:{hotKeysParentId:Su.default.number},childContextTypes:{hotKeysParentId:Su.default.number}},newAPI:{contextType:{hotKeysParentId:void 0}}})}function Xz(n){var e,t,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]},i=2<arguments.length?arguments[2]:void 0;return t=e=function(s){function o(a){var l;return Qa(this,o),l=kx(this,Tc(o).call(this,a)),l._handleKeyEvent=l._handleKeyEvent.bind(Kc(Kc(l))),l._reloadDictionaries=l._reloadDictionaries.bind(Kc(Kc(l))),l}return Lx(o,s),Ga(o,[{key:"render",value:function(){var l=this.props,f=l.only,p=l.except,_=_R(l,["only","except"]),E={onKeyDown:this._handleKeyEvent,onKeyPress:this._handleKeyEvent,onKeyUp:this._handleKeyEvent,onFocus:this._reloadDictionaries};return t0.default.createElement(n,$z({hotKeys:E},_))}},{key:"_reloadDictionaries",value:function(){var l=this.props,f=l.only,p=l.except;this._onlyDict=wAe(f),this._exceptDict=wAe(p)}},{key:"_shouldIgnoreEvent",value:function(l){var f=l.key;return ER(this._onlyDict)?!!ER(this._exceptDict)||!F1(this._exceptDict,f):ER(this._exceptDict)?F1(this._onlyDict,f):F1(this._onlyDict,f)&&!F1(this._exceptDict,f)}},{key:"_handleKeyEvent",value:function(l){this._shouldIgnoreEvent(l)&&U0.getInstance()[i](l)}}]),o}(t0.PureComponent),Af(e,"propTypes",{only:Su.default.oneOfType([Su.default.string,Su.default.arrayOf(Su.default.string)]),except:Su.default.oneOfType([Su.default.string,Su.default.arrayOf(Su.default.string)])}),Af(e,"defaultProps",r),t}function wAe(n){return SR(n).reduce(function(e,t){var r=eAe(t);if(!rAe(r))throw new iAe(t);return[Yae,Gae,Vae,Vz,Qae,Wae].forEach(function(i){e[i(r)]=!0}),e},{})}function fmt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return Xz(n,e,"ignoreEvent")}function dmt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return Xz(n,e,"observeIgnoredEvents")}function hmt(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Ya.init(n)}function pmt(){return U0.getInstance().getApplicationKeyMap()}function mmt(n){var e=U0.getInstance();return e.addKeyCombinationListener(n)}var Su,t0,K9e,bR,Ya,jm,to,Hae,J9e,T1t,F1t,X9e,O1t,R1t,tAe,N1t,iAe,oAe,uAe,k1t,lAe,I1t,Wz,cAe,Cy,b4,Qz,dAe,j1t,U1t,z1t,H1t,Kae,Gz,W1t,Y1t,K1t,xAe,gAe,yAe,wR,Z1t,Ku,tmt,nmt,imt,U0,smt,EAe,SAe,omt,amt,umt,lmt,cmt,AAe=FG(()=>{m();Su=dr(G9e()),t0=dr(Fr());K9e={logLevel:"warn",defaultKeyEvent:"keydown",defaultComponent:"div",defaultTabIndex:"-1",ignoreTags:["input","select","textarea"],enableHardSequences:!1,ignoreKeymapAndHandlerChangesByDefault:!0,ignoreEventsCondition:function(e){var t=e.target;if(t&&t.tagName){var r=t.tagName.toLowerCase();return Ya.option("_ignoreTagsDict")[r]||t.isContentEditable}return!1},ignoreRepeatedEventsWhenKeyHeldDown:!0,simulateMissingKeyPressEvents:!0,stopEventPropagationAfterHandling:!0,stopEventPropagationAfterIgnoring:!0,allowCombinationSubmatches:!1,customKeyCodes:{}},bR=T1({},K9e);bR._ignoreTagsDict=CC(bR.ignoreTags,!0);Ya=function(){function n(){Qa(this,n)}return Ga(n,null,[{key:"init",value:function(t){var r=this,i=t.ignoreTags,s=t.customKeyCodes;i&&(t._ignoreTagsDict=CC(t.ignoreTags)),s&&(t._customKeyNamesDict=CC(Object.values(t.customKeyCodes))),["verbose","debug","info"].indexOf(t.logLevel)!==-1&&console.warn("React HotKeys: You have requested log level '".concat(t.logLevel,"' but for performance reasons, logging below severity level 'warning' is disabled in production. Please use the development build for complete logs.")),Object.keys(t).forEach(function(o){r.set(o,t[o])})}},{key:"set",value:function(t,r){bR[t]=r}},{key:"reset",value:function(t){bR[t]=K9e[t]}},{key:"option",value:function(t){return bR[t]}}]),n}(),jm=function(){function n(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"warn";if(Qa(this,n),Af(this,"verbose",this.noop),Af(this,"debug",this.noop),Af(this,"info",this.noop),Af(this,"warn",this.noop),Af(this,"error",this.noop),this.logLevel=this.constructor.levels[t],this.logLevel>=this.constructor.levels.error)this.error=console.error;else return;if(this.logLevel>=this.constructor.levels.warn)this.warn=console.warn;else return;["info","debug","verbose"].some(function(r){return!(e.logLevel>=e.constructor.levels[r])||(e[r]=console.log,!1)})}return Ga(n,[{key:"noop",value:function(){}}]),n}();Af(jm,"logIcons",["\u{1F4D5}","\u{1F4D7}","\u{1F4D8}","\u{1F4D9}"]),Af(jm,"componentIcons",["\u{1F53A}","\u2B50\uFE0F","\u{1F537}","\u{1F536}","\u2B1B\uFE0F"]),Af(jm,"eventIcons",["\u2764\uFE0F","\u{1F49A}","\u{1F499}","\u{1F49B}","\u{1F49C}","\u{1F9E1}"]),Af(jm,"levels",{none:0,error:1,warn:2,info:3,debug:4,verbose:5});to={keydown:0,keypress:1,keyup:2},Hae={Shift:["shiftKey"],Meta:["metaKey"],Control:["ctrlKey"],Alt:["altKey"]},J9e={"`":["~"],1:["!"],2:["@",'"'],3:["#","\xA3"],4:["$"],5:["%"],6:["^"],7:["&"],8:["*"],9:["("],0:[")"],"-":["_"],"=":["plus"],";":[":"],"'":['"',"@"],",":["<"],".":[">"],"/":["?"],"\\":["|"],"[":["{"],"]":["}"],"#":["~"]};T1t=Hz(J9e);F1t={},X9e=Hz(F1t,{includeOriginal:!0});O1t={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"},R1t={cmd:"Meta"};tAe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N1t=CC(Object.values(tAe),!0);iAe=function(n){function e(){var t,r;Qa(this,e);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=kx(this,(t=Tc(e)).call.apply(t,[this].concat(s))),Af(Kc(Kc(r)),"name","InvalidKeyNameError"),r}return Lx(e,n),e}(zae(Error));oAe=function(){function n(){Qa(this,n)}return Ga(n,null,[{key:"parse",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=D1t(t),s=i.split(" ");try{var o=s.slice(0,s.length-1),a=s[s.length-1],l=o.map(function(E){var O=aAe(E,r);return sAe(Object.keys(O))}).join(" "),f=aAe(a,r),p=sAe(Object.keys(f)),_={id:p,keyDictionary:f,keyEventType:r.keyEventType,size:Object.keys(f).length};return{sequence:{prefix:l,size:o.length+1},combination:_}}catch{return{sequence:null,combination:null}}}}]),n}();uAe={"`":["`"],1:["\xA1"],2:["\u2122"],3:["\xA3"],4:["\xA2"],5:["\u221E"],6:["\xA7"],7:["\xB6"],8:["\u2022"],9:["\xAA"],0:["\xBA"],"-":["\u2013"],"=":["\u2260"],a:["\xE5"],b:["\u222B"],c:["\xE7"],d:["\u2202"],e:["\xB4"],f:["\u0192"],g:["\xA9"],h:["\u02D9"],i:["\u02C6"],j:["\u2206"],k:["\u02DA"],l:["\xAC"],m:["\xB5"],n:["\u02DC"],o:["\xF8"],p:["\u03C0"],q:["\u0153"],r:["\xAE"],s:["\xDF"],t:["\u2020"],u:["\xA8"],v:["\u221A"],w:["\u2211"],x:["\u2248"],y:["\xA5"],z:["\u03A9"],"[":["\u201C"],"]":["\u2018"],"\\":["\xAB"],"'":["\xE6"],";":["\u2026"],",":["\u2264"],".":["\u2265"],"/":["\xF7"]},k1t=Hz(uAe);lAe={"`":["`"],1:["\u2044"],2:["\u20AC"],3:["\u2039"],4:["\u203A"],5:["\uFB01"],6:["\uFB02"],7:["\u2021"],8:["\xB0"],9:["\xB7"],0:["\u201A"],"-":["\u2014"],"=":["\xB1"],a:["\xC5"],b:["\u0131"],c:["\xC7"],d:["\xCE"],e:["\xB4"],f:["\xCF"],g:["\u02DD"],h:["\xD3"],i:["\u02C6"],j:["\xD4"],k:["\uF8FF"],l:["\xD2"],m:["\xC2"],n:["\u02DC"],o:["\xD8"],p:["\u03C0"],q:["\u0152"],r:["\u2030"],s:["\xCD"],t:["\xCE"],u:["\xA8"],v:["\u25CA"],w:["\u201E"],x:["\u02DB"],y:["\xC1"],z:["\xB8"],"[":["\u201D"],"]":["\u2019"],"\\":["\xBB"],"'":["\xC6"],";":["\xDA"],",":["\xAF"],".":["\u02D8"]},I1t=Hz(lAe);Wz=function(){function n(){Qa(this,n)}return Ga(n,null,[{key:"serialize",value:function(t){var r=t.Shift,i=t.Alt,s={},o=Object.keys(t).sort();return o.forEach(function(a){var l=[];if(r)if(i){var f=Gae(a),p=Yae(a);l=[].concat(Rd(l),[a],Rd(f),Rd(p))}else{var _=Vz(a),E=Vae(a);l=[].concat(Rd(l),[a],Rd(_),Rd(E))}else if(i){var O=Wae(a),R=Qae(a);l=[].concat(Rd(l),[a],Rd(O),Rd(R))}else{l.push(a);var q=X9e[a];q&&(l=[].concat(Rd(l),Rd(q)))}var z=Object.keys(s);0<z.length?z.forEach(function(L){l.forEach(function(B){s[L+"+".concat(B)]=T1({},s[L],Af({},B,!0))}),delete s[L]}):l.forEach(function(L){s[L]=Af({},L,!0)})}),Object.values(s).map(function(a){return Object.keys(a).sort().join("+")})}},{key:"isValidKeySerialization",value:function(t){return 0<t.length&&!!oAe.parse(t,{ensureValidKeys:!0}).combination}}]),n}(),cAe={previous:0,current:1};Cy={unseen:0,seen:1,simulated:2},b4=function(){function n(){Qa(this,n)}return Ga(n,null,[{key:"newRecord",value:function(t,r){var i=[Cy.unseen,Cy.unseen,Cy.unseen];if(!D1(t))for(var s=0;s<=t;s++)i[s]=r;return i}},{key:"setBit",value:function(t,r,i){return t[r]=i,t}},{key:"clone",value:function(t){for(var r=this.newRecord(),i=0;i<t.length;i++)r[i]=t[i];return r}}]),n}();Qz=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Qa(this,n),this._keys=e,this._includesKeyUp=!1,this._update()}return Ga(n,[{key:"getIds",value:function(){return this._ids}},{key:"getKeyAliases",value:function(){return this._keyAliases}},{key:"getNormalizedKeyName",value:function(t){var r=this._keys[t];if(r)return t;var i=this._keyAliases[t];return i||t}},{key:"getNumberOfKeys",value:function(){return fAe(this._keys)}},{key:"any",value:function(){return 0<Object.keys(this._getKeyStates()).length}},{key:"isEnding",value:function(){return this._includesKeyUp}},{key:"hasEnded",value:function(){return ER(this.keysStillPressedDict())}},{key:"addKey",value:function(t,r){this._setKeyState(t,[b4.newRecord(),b4.newRecord(to.keydown,r)])}},{key:"setKeyState",value:function(t,r,i){var s=this._getKeyState(t);if(this.isKeyIncluded(t)){var o=b4.clone(s[1]),a=b4.clone(o);b4.setBit(a,r,i),this._setKeyState(t,[o,a])}else this.addKey(t,i);r===to.keyup&&(this._includesKeyUp=!0)}},{key:"forEachKey",value:function(t){return Object.keys(this._keys).forEach(t)}},{key:"some",value:function(t){return Object.keys(this._keys).some(t)}},{key:"getKeyDictionary",value:function(){return CC(Object.keys(this._getKeyStates()),!0)}},{key:"keysStillPressedDict",value:function(){var t=this;return Object.keys(this._keys).reduce(function(r,i){return t.isKeyStillPressed(i)&&(r[i]=t._getKeyState(i)),r},{})}},{key:"isKeyIncluded",value:function(t){return!!this._getKeyState(t)}},{key:"isKeyStillPressed",value:function(t){return this.isEventTriggered(t,to.keypress)&&!this.isKeyReleased(t)}},{key:"isKeyReleased",value:function(t){return this.isEventTriggered(t,to.keyup)}},{key:"isEventTriggered",value:function(t,r){return this._getKeyStateType(t,cAe.current,r)}},{key:"wasEventPreviouslyTriggered",value:function(t,r){return this._getKeyStateType(t,cAe.previous,r)}},{key:"isKeyPressSimulated",value:function(t){return this._isKeyEventSimulated(t,to.keypress)}},{key:"isKeyUpSimulated",value:function(t){return this._isKeyEventSimulated(t,to.keyup)}},{key:"describe",value:function(){return this.getIds()[0]}},{key:"toJSON",value:function(){return{keys:this._getKeyStates(),ids:this.getIds(),keyAliases:this.getKeyAliases()}}},{key:"_getKeyStateType",value:function(t,r,i){var s=this._getKeyState(t);return s&&s[r][i]}},{key:"_update",value:function(){this._ids=Wz.serialize(this._keys),this._keyAliases=B1t(this._keys)}},{key:"_isKeyEventSimulated",value:function(t,r){return this.isEventTriggered(t,r)===Cy.simulated}},{key:"_getKeyStates",value:function(){return this._keys}},{key:"_getKeyState",value:function(t){var r=this._keys[t];if(r)return r;var i=this._keyAliases[t];if(i)return this._keys[i]}},{key:"_setKeyState",value:function(t,r){var i=this.getNormalizedKeyName(t);this._keys[i]=r,this._update()}}]),n}();dAe=function(){function n(e){var t=e.maxLength,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;Qa(this,n),this._records=[],this._maxLength=t,r?this._push(r):this._push(new Qz)}return Ga(n,[{key:"getMostRecentCombinations",value:function(t){return this._records.slice(-t,-1)}},{key:"any",value:function(){return this._records.some(function(t){return t.any()})}},{key:"getLength",value:function(){return this._records.length}},{key:"getCurrentCombination",value:function(){return this._records[this.getLength()-1]}},{key:"addKeyToCurrentCombination",value:function(t,r,i){this._ensureInitialKeyCombination(),this.getCurrentCombination().setKeyState(t,r,i)}},{key:"setMaxLength",value:function(t){this._maxLength=t,this._trimHistory()}},{key:"startNewKeyCombination",value:function(t,r){this._ensureInitialKeyCombination();var i=new Qz(this.getCurrentCombination().keysStillPressedDict());i.addKey(t,r),this._push(i)}},{key:"toJSON",value:function(){return this._records.map(function(t){return t.toJSON()})}},{key:"_ensureInitialKeyCombination",value:function(){this.getLength()===0&&this._push(new Qz)}},{key:"_push",value:function(t){this._trimHistory(),this._records.push(t)}},{key:"_trimHistory",value:function(){for(;this.getLength()>this._maxLength;)this._shift()}},{key:"_shift",value:function(){this._records.shift()}}]),n}(),j1t=function(){function n(){Qa(this,n),this._registry={}}return Ga(n,[{key:"get",value:function(t){return this._registry[t]}},{key:"set",value:function(t,r){this._registry[t]=r}},{key:"remove",value:function(t){delete this._registry[t]}},{key:"toJSON",value:function(){return this._registry}}]),n}();U1t=function(n){function e(){return Qa(this,e),kx(this,Tc(e).apply(this,arguments))}return Lx(e,n),Ga(e,[{key:"add",value:function(r,i){wy(Tc(e.prototype),"set",this).call(this,r,{childIds:[],parentId:null,keyMap:i})}},{key:"update",value:function(r,i){var s=wy(Tc(e.prototype),"get",this).call(this,r);wy(Tc(e.prototype),"set",this).call(this,r,T1({},s,{keyMap:i}))}},{key:"setParent",value:function(r,i){this.get(r).parentId=i,this._addChildId(i,r)}},{key:"remove",value:function(r){var i=this._getParentId(r);this._removeChildId(i,r),wy(Tc(e.prototype),"remove",this).call(this,r)}},{key:"_getParentId",value:function(r){var i=this.get(r);return i&&i.parentId}},{key:"_addChildId",value:function(r,i){this.get(r).childIds.push(i)}},{key:"_removeChildId",value:function(r,i){var s=this.get(r);s&&(s.childIds=q1t(s.childIds,i))}}]),e}(j1t);z1t=function(){function n(e){Qa(this,n),this._list=e,this._position=-1}return Ga(n,[{key:"getPosition",value:function(){return this._position}},{key:"getComponent",value:function(){return this._list.getAtPosition(this.getPosition())}},{key:"next",value:function(){return this.getPosition()+1<this._list.getLength()?(this._position++,this.getComponent()):null}}]),n}(),H1t=function(){function n(){Qa(this,n),this._list=[],this._idToIndex={},this._longestSequence=1,this._longestSequenceComponentId=null,this._keyMapEventRecord=b4.newRecord()}return Ga(n,[{key:"getNewIterator",value:function(){return new z1t(this)}},{key:"add",value:function(t,r,i,s){if(this.containsId(t))return this.update(t,r,i,s);var o=this._build(t,r,i,s);this._list.push(o);var a=this._getLastIndex();return this._idToIndex[t]=a}},{key:"containsId",value:function(t){return!!this.get(t)}},{key:"get",value:function(t){return this.getAtPosition(this.getIndexById(t))}},{key:"getIndexById",value:function(t){return this._idToIndex[t]}},{key:"update",value:function(t,r,i,s){var o=this._isUpdatingComponentWithLongestSequence(t),a=this.getLongestSequence(),l=this._build(t,r,i,s);o&&l.sequenceLength!==a&&(l.sequenceLength>a?this._longestSequence=l.sequenceLength:this._recalculateLongestSequence()),this._list[this.getIndexById(t)]=l}},{key:"remove",value:function(t){var r=this._isUpdatingComponentWithLongestSequence(t);this.removeAtPosition(this.getIndexById(t)),r&&this._recalculateLongestSequence()}},{key:"any",value:function(){return this.getLength()!==0}},{key:"isRoot",value:function(t){return this.getIndexById(t)>=this.getLength()-1}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"anyActionsForEventType",value:function(t){return!!this._keyMapEventRecord[t]}},{key:"getLength",value:function(){return this._list.length}},{key:"getAtPosition",value:function(t){return this._list[t]}},{key:"removeAtPosition",value:function(t){this._list=$1t(this._list,t);for(var r=t;r<this.getLength();)this._idToIndex[this.getAtPosition(r).componentId]=r,r++}},{key:"toJSON",value:function(){return this._list}},{key:"_getLastIndex",value:function(){return this.getLength()-1}},{key:"_build",value:function(t,r,i,s){var o=this._applyHardSequences(r,i),a=o.keyMap,l=o.handlers,f=this._buildActionDictionary(T1({},r,a),s,t);return{actions:f,handlers:l,componentId:t,options:s}}},{key:"_isUpdatingComponentWithLongestSequence",value:function(t){return t===this._getLongestSequenceComponentId()}},{key:"_getLongestSequenceComponentId",value:function(){return this._longestSequenceComponentId}},{key:"_recalculateLongestSequence",value:function(){for(var t=this.getNewIterator();t.next();){var r=t.getComponent(),i=r.longestSequence,s=r.componentId;i>this.getLongestSequence()&&(this._longestSequenceComponentId=s,this._longestSequence=i)}}},{key:"_applyHardSequences",value:function(t,r){return Ya.option("enableHardSequences")?Object.keys(r).reduce(function(i,s){var o=!!t[s];return!o&&Wz.isValidKeySerialization(s)&&(i.keyMap[s]=s),i.handlers[s]=r[s],i},{keyMap:{},handlers:{}}):{keyMap:t,handlers:r}}},{key:"_buildActionDictionary",value:function(t,r,i){var s=this;return Object.keys(t).reduce(function(o,a){var l=t[a],f=function(){return E4(l)&&F1(l,"sequences")?SR(l.sequences):SR(l)}();return f.forEach(function(p){var _=V1t(p,r),E=_.keySequence,O=_.keyEventType;s._addActionOptions(o,i,a,E,O)}),o},{})}},{key:"_addActionOptions",value:function(t,r,i,s,o){var a=oAe.parse(s,{keyEventType:o}),l=a.sequence,f=a.combination;l.size>this.getLongestSequence()&&(this._longestSequence=l.size,this._longestSequenceComponentId=r),this._keyMapEventRecord[o]=Cy.seen,t[i]||(t[i]=[]),t[i].push(T1({prefix:l.prefix,actionName:i,sequenceLength:l.size},f))}}]),n}();for(Kae={Enter:!0,Backspace:!0,ArrowRight:!0,ArrowLeft:!0,ArrowUp:!0,ArrowDown:!0,CapsLock:!0},Gz=1;13>Gz;Gz++)Kae["F".concat(Gz)]=!0;W1t=function(){function n(){Qa(this,n),this._actionConfigs={},this._order=null}return Ga(n,[{key:"addMatch",value:function(t,r){if(this._includesMatcherForCombination(t.id)){var i=t.keyEventType,s=t.actionName,o=t.id;this._addHandlerToActionConfig(o,{keyEventType:i,actionName:s,handler:r})}else this._addNewActionConfig(t,r)}},{key:"findMatch",value:function(t,r,i){this._order||this._setOrder();var s=!0,o=!1,a=void 0;try{for(var l,f=this._order[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value,_=this._actionConfigs[p];if(this._matchesActionConfig(t,r,i,_))return _}}catch(E){o=!0,a=E}finally{try{s||f.return==null||f.return()}finally{if(o)throw a}}return null}},{key:"toJSON",value:function(){return{actionConfigs:this._actionConfigs,order:this._order}}},{key:"_matchesActionConfig",value:function(t,r,i,s){if(!Q1t(t,s))return!1;var o=s.events[i];if(!o)return!1;var a=!1,l=Object.keys(s.keyDictionary).every(function(f){return!!t.isEventTriggered(f,i)&&(r&&r===t.getNormalizedKeyName(f)&&(a=!t.wasEventPreviouslyTriggered(f,i)),!0)});return l&&a}},{key:"_setOrder",value:function(){var t=Object.values(this._actionConfigs).reduce(function(r,i){var s=i.id,o=i.size;return r[o]||(r[o]=[]),r[o].push(s),r},{});this._order=Object.keys(t).sort(function(r,i){return i-r}).reduce(function(r,i){return r.concat(t[i])},[])}},{key:"_addNewActionConfig",value:function(t,r){var i=t.prefix,s=t.sequenceLength,o=t.id,a=t.keyDictionary,l=t.size,f=t.keyEventType,p=t.actionName;this._setCombinationMatcher(o,{prefix:i,sequenceLength:s,id:o,keyDictionary:a,size:l,events:{}}),this._addHandlerToActionConfig(o,{keyEventType:f,actionName:p,handler:r})}},{key:"_addHandlerToActionConfig",value:function(t,r){var i=r.keyEventType,s=r.actionName,o=r.handler,a=this._getCombinationMatcher(t);this._setCombinationMatcher(t,T1({},a,{events:T1({},a.events,Af({},i,{actionName:s,handler:o}))}))}},{key:"_setCombinationMatcher",value:function(t,r){this._actionConfigs[t]=r}},{key:"_getCombinationMatcher",value:function(t){return this._actionConfigs[t]}},{key:"_includesMatcherForCombination",value:function(t){return!!this._getCombinationMatcher(t)}}]),n}();Y1t=function(){function n(){Qa(this,n),this._combinationMatchers={},this._eventRecord=b4.newRecord()}return Ga(n,[{key:"addMatch",value:function(t,r){var i=this._getOrCreateCombinationMatcher(t.prefix);i.addMatch(t,r),b4.setBit(this._eventRecord,t.keyEventType,Cy.seen),(!this._longestSequence||this._longestSequence<t.sequenceLength)&&(this._longestSequence=t.sequenceLength)}},{key:"findMatch",value:function(t,r,i){var s=this._findCombinationMatcher(t);return s?s.findMatch(t.getCurrentCombination(),t.getCurrentCombination().getNormalizedKeyName(r),i):null}},{key:"hasMatchesForEventType",value:function(t){return!!this._eventRecord[t]}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"toJSON",value:function(){var t=this;return Object.keys(this._combinationMatchers).reduce(function(r,i){var s=t._combinationMatchers[i];return r[i]=s.toJSON(),r},{})}},{key:"_getOrCreateCombinationMatcher",value:function(t){return this._combinationMatchers[t]||(this._combinationMatchers[t]=new W1t),this._combinationMatchers[t]}},{key:"_findCombinationMatcher",value:function(t){var r=t.getMostRecentCombinations(this.getLongestSequence());if(r.length===0)return this._combinationMatchers[""];for(var i=r.map(function(R){return R.getIds()}),s=i.map(function(R){return R.length}),o=Array(i.length).fill(0),a=!1;!a;){var l=o.map(function(R,q){return i[q][R]}),f=l.join(" ");if(this._combinationMatchers[f])return this._combinationMatchers[f];for(var p=0,_=!0;_&&p<o.length;){var E=hAe(o,p),O=(E+1)%(hAe(s,p)||1);o[o.length-(p+1)]=O,_=O==0,_&&p++}a=p===o.length}}}]),n}(),K1t=function(){function n(e){Qa(this,n),this._keyMapMatchers=[],this._unmatchedHandlerStatus=[],this._handlersDictionary={},this._keySequencesDictionary={};for(var t=e.getNewIterator();t.next();){var r=t.getComponent(),i=r.handlers;this._unmatchedHandlerStatus.push([Object.keys(i).length,{}]),this._keyMapMatchers.push(new Y1t)}this._componentList=e,this._componentListIterator=e.getNewIterator()}return Ga(n,[{key:"getKeyHistoryMatcher",value:function(t){if(this._componentHasUnmatchedHandlers(t))for(;this._componentListIterator.next();)this._addHandlersFromComponent(),this._addActionsFromComponent();return this._getKeyHistoryMatcher(t)}},{key:"componentHasActionsBoundToEventType",value:function(t,r){return this.getKeyHistoryMatcher(t).hasMatchesForEventType(r)}},{key:"findMatchingKeySequenceInComponent",value:function(t,r,i,s){return this.componentHasActionsBoundToEventType(t,s)?this.getKeyHistoryMatcher(t).findMatch(r,i,s):null}},{key:"_getKeyHistoryMatcher",value:function(t){return this._keyMapMatchers[t]}},{key:"_addActionsFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.actions;Object.keys(i).forEach(function(s){var o=t._getHandlers(s);if(o){var a=o[0],l=t._componentList.getAtPosition(a).handlers[s],f=t._getKeyHistoryMatcher(a),p=i[s];p.forEach(function(_){var E=[_.prefix,_.id].join(" ");t._isClosestHandlerFound(E,_)||(f.addMatch(_,l),t._addKeySequence(E,[a,_.keyEventType]))}),o.forEach(function(_){var E=t._getUnmatchedHandlerStatus(_);E[1][s]||(E[1][s]=!0,E[0]--)})}})}},{key:"_getHandlers",value:function(t){return this._handlersDictionary[t]}},{key:"_addHandlersFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.handlers;Object.keys(i).forEach(function(s){t._addHandler(s)})}},{key:"_addHandler",value:function(t){this._handlersDictionary[t]||(this._handlersDictionary[t]=[]),this._handlersDictionary[t].push(this._componentListIterator.getPosition())}},{key:"_addKeySequence",value:function(t,r){this._keySequencesDictionary[t]||(this._keySequencesDictionary[t]=[]),this._keySequencesDictionary[t].push(r)}},{key:"_componentHasUnmatchedHandlers",value:function(t){return 0<this._getUnmatchedHandlerStatus(t)[0]}},{key:"_getUnmatchedHandlerStatus",value:function(t){return this._unmatchedHandlerStatus[t]}},{key:"_isClosestHandlerFound",value:function(t,r){return this._keySequencesDictionary[t]&&this._keySequencesDictionary[t].some(function(i){return i[1]===r.keyEventType})}}]),n}();xAe=["sequence","action"],gAe=["name","description","group"],yAe=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;Qa(this,n),this.logger=e.logger||new jm("warn"),this.componentId=-1,this.keyEventManager=t,this._componentTree=new U1t,this.rootComponentId=null,this._reset(),this.resetKeyHistory()}return Ga(n,[{key:"_reset",value:function(){this.componentList=new H1t,this._initHandlerResolutionState()}},{key:"_newKeyHistory",value:function(){return new dAe({maxLength:this.componentList.getLongestSequence()})}},{key:"getKeyHistory",value:function(){return this._keyHistory?this._keyHistory:(this._keyHistory=this._newKeyHistory(),this._keyHistory)}},{key:"_initHandlerResolutionState",value:function(){this._actionResolver=null}},{key:"resetKeyHistory",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this.keypressEventsToSimulate=[],this.keyupEventsToSimulate=[],this._keyHistory=this.getKeyHistory().any()&&!t.force?new dAe({maxLength:this.componentList.getLongestSequence()},new Qz(this.getCurrentCombination().keysStillPressedDict())):this._newKeyHistory()}},{key:"getApplicationKeyMap",value:function(){return this.rootComponentId===null?{}:this._buildApplicationKeyMap([this.rootComponentId],{})}},{key:"_buildApplicationKeyMap",value:function(t,r){var i=this;return t.forEach(function(s){var o=i._componentTree.get(s),a=o.childIds,l=o.keyMap;l&&Object.keys(l).forEach(function(f){var p=l[f];r[f]={},E4(p)?F1(p,"sequences")?(Yz(p,r[f],gAe),r[f].sequences=i._createSequenceFromConfig(p.sequences)):(Yz(p,r[f],gAe),r[f].sequences=[Yz(p,{},xAe)]):r[f].sequences=i._createSequenceFromConfig(p)}),i._buildApplicationKeyMap(a,r)}),r}},{key:"_createSequenceFromConfig",value:function(t){return SR(t).map(function(r){return E4(r)?Yz(r,{},xAe):{sequence:r}})}},{key:"registerKeyMap",value:function(t){return this.componentId+=1,this._componentTree.add(this.componentId,t),this.componentId}},{key:"reregisterKeyMap",value:function(t,r){this._componentTree.update(t,r)}},{key:"registerComponentMount",value:function(t,r){D1(r)?this.rootComponentId=t:this._componentTree.setParent(t,r)}},{key:"deregisterKeyMap",value:function(t){this._componentTree.remove(t),t===this.rootComponentId&&(this.rootComponentId=null)}},{key:"_addComponent",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;this.componentList.add(t,r,i,s),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence())}},{key:"_allKeysAreReleased",value:function(){return this.getCurrentCombination().hasEnded()}},{key:"getCurrentCombination",value:function(){return this.getKeyHistory().getCurrentCombination()}},{key:"_shouldSimulate",value:function(t,r){var i=J1t(r),s=this.getCurrentCombination();return t===to.keypress?!i||i&&s.isKeyStillPressed("Meta"):t===to.keyup&&pAe(r)&&s.isKeyReleased("Meta")}},{key:"_cloneAndMergeEvent",value:function(t,r){var i=Object.keys(Hae).reduce(function(s,o){return s[o]=t[o],s},{});return T1({},i,r)}},{key:"_callClosestMatchingHandler",value:function(t,r,i,s,o){for(this._actionResolver||(this._actionResolver=new K1t(this.componentList));o<=s;){var a=this._actionResolver.getKeyHistoryMatcher(o),l=this._actionResolver.findMatchingKeySequenceInComponent(o,this.getKeyHistory(),r,i),f=this.getCurrentCombination();if(l){var p=l.events[i];if(Ya.option("allowCombinationSubmatches"))var _=Wz.serialize(l.keyDictionary);return p.handler(t),this._stopEventPropagationAfterHandlingIfEnabled(t,o),!0}this._actionResolver.componentHasActionsBoundToEventType(o,i),o++}}},{key:"_stopEventPropagationAfterHandlingIfEnabled",value:function(t,r){return!!Ya.option("stopEventPropagationAfterHandling")&&(this._stopEventPropagation(t,r),!0)}},{key:"_stopEventPropagation",value:function(){throw new Error("_stopEventPropagation must be overridden by a subclass")}},{key:"_checkForModifierFlagDiscrepancies",value:function(t,r,i){var s=this;Object.keys(Hae).forEach(function(o){if(r!==o||i!==to.keyup){var a=s.getCurrentCombination(),l=a.isKeyStillPressed(o);Hae[o].forEach(function(f){t[f]===!1&&l&&a.setKeyState(o,to.keyup,wb(t))})}})}},{key:"_logPrefix",value:function(){}}]),n}(),wR=function(){function n(){Qa(this,n)}return Ga(n,null,[{key:"getId",value:function(){return D1(this._id)&&(this._id=0),this._id}},{key:"incrementId",value:function(){this._id=this.getId()+1}}]),n}();Z1t={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};Ku={unseen:0,ignored:1,seen:2,recorded:3,handled:4},tmt=function(){function n(e,t){var r=t.logger,i=t.logPrefix;Qa(this,n),this._componentList=e,this._previousPropagation=null,this.logger=r,this._logPrefix=i,this._reset()}return Ga(n,[{key:"_reset",value:function(){this._previousPosition=-1,this._position=-1,this._actionHandled=!1,this._ignoreEvent=!1,this._observeIgnoredEvents=!1,this._stopping=!1,this._componentId=null,this._key=null,this._type=null}},{key:"isFirstPropagationStep",value:function(){var t=this.getPreviousPosition();return t===-1||t>=this._position}},{key:"isForKey",value:function(t){return this._key===t}},{key:"isForEventType",value:function(t){return this._type===t}},{key:"startNewPropagationStep",value:function(t,r,i,s){return this._position=this._componentList.getIndexById(t),this._componentId=t,this.isFirstPropagationStep()&&(wR.incrementId(),this._key=r.key,this._type=s),!(r.repeat&&Ya.option("ignoreRepeatedEventsWhenKeyHeldDown"))||(this.ignoreEvent(r),!1)}},{key:"finishPropagationStep",value:function(){this.isStopped()||this._componentList.isRoot(this._componentId)?(this._previousPropagation=this._clone(),this._reset()):this._previousPosition=this._position}},{key:"getPreviousPropagation",value:function(){return this._previousPropagation||(this._previousPropagation=this._clone({copyState:!1})),this._previousPropagation}},{key:"getPreviousPosition",value:function(){return this._previousPosition}},{key:"observeIgnoredEvents",value:function(){this._observeIgnoredEvents=!0}},{key:"ignoreEvent",value:function(t){return this.setIgnoreEvent(!0),!!(this.isIgnoringEvent()&&Ya.option("stopEventPropagationAfterIgnoring"))&&(this.stop(t),this.finishPropagationStep(),!0)}},{key:"setIgnoreEvent",value:function(t){this._ignoreEvent=t}},{key:"isIgnoringEvent",value:function(){return!this._observeIgnoredEvents&&this._ignoreEvent}},{key:"isStopped",value:function(){return this._stopping}},{key:"stop",value:function(t){return!this.isStopped()&&(this._stopping=!0,t.simulated||t.stopPropagation(),!0)}},{key:"isPendingPropagation",value:function(){var t=this.getPreviousPosition();return t!==-1&&t+1<this._position}},{key:"isHandled",value:function(){return this._actionHandled}},{key:"setHandled",value:function(){this._actionHandled=!0}},{key:"_clone",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},r=t.copyState,i=new n(this._componentList,{logger:this.logger,logPrefix:this._logPrefix});return(r===void 0||r)&&Object.assign(i,this),i}}]),n}(),nmt=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return Qa(this,e),t=kx(this,Tc(e).call(this,r,i)),t.focusTreeId=0,t}return Lx(e,n),Ga(e,[{key:"_reset",value:function(){wy(Tc(e.prototype),"_reset",this).call(this),this.keypressEventsToSimulate=[],this.focusTreeId+=1,this.eventPropagator=new tmt(this.componentList,{logger:this.logger,logPrefix:this._logPrefix.bind(this)})}},{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0;if(this.resetOnNextFocus&&(this._reset(),this.resetOnNextFocus=!1),!this.componentList.containsId(r))return this._addComponent(r,i,s,o),this.focusTreeId}},{key:"updateEnabledHotKeys",value:function(r,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=4<arguments.length?arguments[4]:void 0;r===this.focusTreeId&&this.componentList.containsId(i)&&(this.componentList.update(i,s,o,a),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._initHandlerResolutionState())}},{key:"disableHotKeys",value:function(r,i){this.resetOnNextFocus||(this.resetOnNextFocus=!0);var s=this.eventPropagator.isPendingPropagation();return s}},{key:"handleKeydown",value:function(r,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=AC(r);if(i!==this.focusTreeId)return this.eventPropagator.ignoreEvent(r),!0;var l=this.eventPropagator.startNewPropagationStep(s,r,a,to.keydown);if(l){var f=this._howToHandleKeyEvent(r,i,s,a,o,to.keydown);if(f===Ku.handled){var p=wb(r),_=this.getCurrentCombination();_.isKeyIncluded(a)||_.isEnding()?this._startAndLogNewKeyCombination(a,i,s,p):this._addToAndLogCurrentKeyCombination(a,to.keydown,i,s,p),this._callHandlerIfActionNotHandled(r,a,to.keydown,s,i)}return this._simulateKeyPressForNonPrintableKeys(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),!1}}},{key:"_howToHandleKeyEvent",value:function(r,i,s,o,a,l){if(this.eventPropagator.isFirstPropagationStep()){if(a.ignoreEventsCondition(r)&&this.eventPropagator.ignoreEvent(r))return this._eventIsToBeIgnored(r,s,o,l);this._checkForModifierFlagDiscrepancies(r,o,l)}else if(this.eventPropagator.isIgnoringEvent())return this._eventIsToBeIgnored(r,s,o,l);return Ku.handled}},{key:"_eventIsToBeIgnored",value:function(r,i,s,o){return Ku.ignored}},{key:"handleKeyPress",value:function(r,i,s,o){var a=AC(r),l=this.getCurrentCombination();if(l.isKeyPressSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var f=this.eventPropagator.startNewPropagationStep(s,r,a,to.keypress);if(f){var p=i!==this.focusTreeId,_=this._howToHandleKeyEvent(r,i,s,a,o,to.keypress);return this.eventPropagator.isFirstPropagationStep(s)&&l.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,to.keypress,i,s,wb(r)),_===Ku.handled&&this._callHandlerIfActionNotHandled(r,a,to.keypress,s,i),this.eventPropagator.finishPropagationStep(),p}}},{key:"handleKeyUp",value:function(r,i,s,o){var a=AC(r),l=this.getCurrentCombination();if(l.isKeyUpSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var f=this.eventPropagator.startNewPropagationStep(s,r,a,to.keyup);if(f){var p=i!==this.focusTreeId,_=this._howToHandleKeyEvent(r,i,s,a,o,to.keyup);return this.eventPropagator.isFirstPropagationStep(s)&&l.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,to.keyup,i,s,wb(r)),_===Ku.handled&&this._callHandlerIfActionNotHandled(r,a,to.keyup,s,i),this._simulateKeyUpEventsHiddenByCmd(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),p}}},{key:"closeHangingKeyCombination",value:function(r,i){var s=this.getCurrentCombination();s.isKeyIncluded(r)&&!s.isEventTriggered(r,i)&&s.setKeyState(r,i,Cy.simulated)}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i,s,o,a){this._handleEventSimulation("keypressEventsToSimulate","simulatePendingKeyPressEvents",this._shouldSimulate(to.keypress,i),{event:r,key:i,focusTreeId:s,componentId:o,options:a})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i,s,o,a){var l=this;Kz(i)&&this.getCurrentCombination().forEachKey(function(f){Kz(f)||l._handleEventSimulation("keyupEventsToSimulate","simulatePendingKeyUpEvents",l._shouldSimulate(to.keyup,f),{event:r,key:f,focusTreeId:s,componentId:o,options:a})})}},{key:"_stopEventPropagation",value:function(r,i){this.eventPropagator.stop(r)}},{key:"getEventPropagator",value:function(){return this.eventPropagator}},{key:"_startAndLogNewKeyCombination",value:function(r,i,s,o){this.getKeyHistory().startNewKeyCombination(r,o)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s,o,a){this.getKeyHistory().addKeyToCurrentCombination(r,i,a)}},{key:"_handleEventSimulation",value:function(r,i,s,o){var a=o.event,l=o.key,f=o.focusTreeId,p=o.componentId,_=o.options;if(s&&Ya.option("simulateMissingKeyPressEvents")){var E=this._cloneAndMergeEvent(a,{key:l,simulated:!0});this[r].push({event:E,focusTreeId:f,componentId:p,options:_})}(this.componentList.isRoot(p)||this.eventPropagator.isStopped())&&!this.keyEventManager.isGlobalListenersBound()&&this[i]()}},{key:"simulatePendingKeyPressEvents",value:function(){this._simulatePendingKeyEvents("keypressEventsToSimulate","handleKeyPress")}},{key:"simulatePendingKeyUpEvents",value:function(){this._simulatePendingKeyEvents("keyupEventsToSimulate","handleKeyUp")}},{key:"_simulatePendingKeyEvents",value:function(r,i){var s=this;0<this[r].length&&wR.incrementId(),this[r].forEach(function(o){var a=o.event,l=o.focusTreeId,f=o.componentId,p=o.options;s[i](a,l,f,p)}),this[r]=[]}},{key:"_callHandlerIfActionNotHandled",value:function(r,i,s,o,a){var l=this.getCurrentCombination().describe();if(!!this.componentList.anyActionsForEventType(s)&&!this.eventPropagator.isHandled()){var f=this.eventPropagator.getPreviousPosition(),p=this.componentList.getIndexById(o),_=this._callClosestMatchingHandler(r,i,s,p,f===-1?0:f);_&&this.eventPropagator.setHandled()}}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=jm.logIcons,o=jm.eventIcons,a=jm.componentIcons,l="HotKeys (";if(i.focusTreeId!==!1){var f=D1(i.focusTreeId)?this.focusTreeId:i.focusTreeId;l+="F".concat(f).concat(s[f%s.length],"-")}if(i.eventId!==!1){var p=D1(i.eventId)?wR.getId():i.eventId;l+="E".concat(p).concat(o[p%o.length],"-")}l+="C".concat(r).concat(a[r%a.length]);var _=this.componentList.getIndexById(r);return D1(_)||(l+="-P".concat(_).concat(a[_%a.length],":")),"".concat(l,")")}}]),e}(yAe);imt=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return Qa(this,e),t=kx(this,Tc(e).call(this,r,i)),t.listenersBound=!1,t.eventOptions={ignoreEventsCondition:Ya.option("ignoreEventsCondition")},t.listeners={},t}return Lx(e,n),Ga(e,[{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this._addComponent(r,i,s,o),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"updateEnabledHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this.componentList.update(r,i,s,o),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"disableHotKeys",value:function(r){this.componentList.remove(r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"_updateDocumentHandlers",value:function(){var r=this,i=this._listenersShouldBeBound();!this.listenersBound&&i?(Object.values(to).forEach(function(s){var o=mAe(s);document["on".concat(o)]=function(a){r.keyEventManager["handleGlobal".concat(rmt(o))](a)}}),this.listenersBound=!0):this.listenersBound&&!i&&(Object.values(to).forEach(function(s){var o=mAe(s);delete document["on".concat(o)]}),this.listenersBound=!1)}},{key:"_listenersShouldBeBound",value:function(){return this.componentList.any()||this.listeners.keyCombination}},{key:"handleKeydown",value:function(r){var i=AC(r);if(r.repeat&&Ya.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;this._checkForModifierFlagDiscrepancies(r,i,to.keydown);var s=this._howReactAppRespondedTo(r,i,to.keydown);if(!(s===Ku.unseen&&this.eventOptions.ignoreEventsCondition(r))){if(s!==Ku.ignored){var o=wb(r),a=this.getCurrentCombination();a.isKeyIncluded(i)||a.isEnding()?this._startAndLogNewKeyCombination(i,o):this._addToAndLogCurrentKeyCombination(i,to.keydown,o)}Jz([Ku.ignored,Ku.handled],s)||this._callHandlerIfExists(r,i,to.keydown),this._simulateKeyPressForNonPrintableKeys(r,i)}}},{key:"_howReactAppRespondedTo",value:function(r,i,s){var o=this.keyEventManager.reactAppHistoryWithEvent(i,s);return o===Ku.handled||o===Ku.ignored||o===Ku.seen||wR.incrementId(),o}},{key:"handleKeyPress",value:function(r){var i=AC(r);if(r.repeat&&Ya.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;var s=this.getCurrentCombination();if(s.isKeyPressSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,to.keypress);return s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,to.keypress,wb(r)),o===Ku.unseen&&(this.keyEventManager.closeHangingKeyCombination(i,to.keypress),this.eventOptions.ignoreEventsCondition(r))?void 0:void(!Jz([Ku.ignored,Ku.handled],o)&&this._callHandlerIfExists(r,i,to.keypress))}},{key:"handleKeyUp",value:function(r){var i=AC(r),s=this.getCurrentCombination();if(s.isKeyUpSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,to.keyup);s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,to.keyup,wb(r)),o===Ku.unseen?(this.keyEventManager.closeHangingKeyCombination(i,to.keyup),this.eventOptions.ignoreEventsCondition(r)||!Jz([Ku.ignored,Ku.handled],o)&&this._callHandlerIfExists(r,i,to.keyup)):!Jz([Ku.ignored,Ku.handled],o)&&this._callHandlerIfExists(r,i,to.keyup),this._simulateKeyUpEventsHiddenByCmd(r,i),this.listeners.keyCombination&&this._allKeysAreReleased()&&this.listeners.keyCombination({keys:s.getKeyDictionary(),id:s.describe()})}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i){this.keyEventManager.simulatePendingKeyPressEvents(),this._handleEventSimulation("handleKeyPress",this._shouldSimulate(to.keypress,i),{event:r,key:i})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i){var s=this;Kz(i)&&(this.keyEventManager.simulatePendingKeyUpEvents(),this.getCurrentCombination().forEachKey(function(o){Kz(o)||s._handleEventSimulation("handleKeyUp",s._shouldSimulate(to.keyup,o),{event:r,key:o})}))}},{key:"_startAndLogNewKeyCombination",value:function(r,i){this.getKeyHistory().startNewKeyCombination(r,i)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s){this.getKeyHistory().addKeyToCurrentCombination(r,i,s)}},{key:"_handleEventSimulation",value:function(r,i,s){var o=s.event,a=s.key;if(i&&Ya.option("simulateMissingKeyPressEvents")){var l=this._cloneAndMergeEvent(o,{key:a,simulated:!0});this[r](l)}}},{key:"_callHandlerIfExists",value:function(r,i,s){var o=this.getCurrentCombination().describe();return this.componentList.anyActionsForEventType(s)?void this._callClosestMatchingHandler(r,i,s):void 0}},{key:"_callClosestMatchingHandler",value:function(r,i,s){for(var o,a=this.componentList.getNewIterator();a.next();)if(o=wy(Tc(e.prototype),"_callClosestMatchingHandler",this).call(this,r,i,s,a.getPosition(),0),o)return}},{key:"_stopEventPropagation",value:function(r,i){r.simulated||r.stopPropagation()}},{key:"addKeyCombinationListener",value:function(r){var i=this,s=function(){delete i.listeners.keyCombination};return this.listeners.keyCombination=function(o){r(o),s()},this._updateDocumentHandlers(),s}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=jm.eventIcons,o=jm.componentIcons,a="HotKeys (GLOBAL";if(i.eventId!==!1){var l=D1(i.eventId)?wR.getId():i.eventId;a="".concat(a,"-E").concat(l).concat(s[l%s.length])}return D1(r)?"".concat(a,"):"):"".concat(a,"-C").concat(r).concat(o[r%o.length],"):")}}]),e}(yAe);U0=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Qa(this,n),this.logger=e.logger||new jm(Ya.option("logLevel")),this._focusOnlyEventStrategy=new nmt({configuration:e,logger:this.logger},this),this._globalEventStrategy=new imt({configuration:e,logger:this.logger},this),this.mountedComponentsCount=0}return Ga(n,null,[{key:"getInstance",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this.instance||(this.instance=new n(t)),this.instance}},{key:"clear",value:function(){delete this.instance}}]),Ga(n,[{key:"getApplicationKeyMap",value:function(){return Object.assign(this._globalEventStrategy.getApplicationKeyMap(),this._focusOnlyEventStrategy.getApplicationKeyMap())}},{key:"registerKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._focusOnlyEventStrategy.registerKeyMap(t)}},{key:"reregisterKeyMap",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this._focusOnlyEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterKeyMap",value:function(t){this._focusOnlyEventStrategy.deregisterKeyMap(t)}},{key:"registerComponentMount",value:function(t,r){return this._incrementComponentCount(),this._focusOnlyEventStrategy.registerComponentMount(t,r)}},{key:"registerComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"_incrementComponentCount",value:function(){var t=this,r=this.mountedComponentsCount;this.mountedComponentsCount+=1,r===0&&this.mountedComponentsCount===1&&(window.onblur=function(){return t._clearKeyHistory()})}},{key:"_decrementComponentCount",value:function(){var t=this.mountedComponentsCount;this.mountedComponentsCount-=1,t===1&&this.mountedComponentsCount===0&&delete window.onblur}},{key:"_clearKeyHistory",value:function(){this._focusOnlyEventStrategy.resetKeyHistory({force:!0}),this._globalEventStrategy.resetKeyHistory({force:!0})}},{key:"registerGlobalKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._globalEventStrategy.registerKeyMap(t)}},{key:"registerGlobalComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"registerGlobalComponentMount",value:function(t,r){return this._incrementComponentCount(),this._globalEventStrategy.registerComponentMount(t,r)}},{key:"reregisterGlobalKeyMap",value:function(t,r){this._globalEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterGlobalKeyMap",value:function(t){this._globalEventStrategy.deregisterKeyMap(t)}},{key:"addKeyCombinationListener",value:function(t){return this._globalEventStrategy.addKeyCombinationListener(t)}},{key:"enableHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;return this._focusOnlyEventStrategy.enableHotKeys(t,r,i,s)}},{key:"updateEnabledHotKeys",value:function(t,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;return this._focusOnlyEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableHotKeys",value:function(t,r){return this._focusOnlyEventStrategy.disableHotKeys(t,r)}},{key:"handleKeydown",value:function(t,r,i,s){if(Jae(r))return this._focusOnlyEventStrategy.handleKeydown(t,r,i,s)}},{key:"handleKeyPress",value:function(t,r,i,s){if(Jae(r))return this._focusOnlyEventStrategy.handleKeyPress(t,r,i,s)}},{key:"handleKeyUp",value:function(t,r,i,s){if(Jae(r))return this._focusOnlyEventStrategy.handleKeyUp(t,r,i,s)}},{key:"enableGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.enableHotKeys(t,r,i,s,o)}},{key:"updateEnabledGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableGlobalHotKeys",value:function(t){return this._globalEventStrategy.disableHotKeys(t)}},{key:"handleGlobalKeyDown",value:function(t){return this._globalEventStrategy.handleKeydown(t)}},{key:"handleGlobalKeyPress",value:function(t){return this._globalEventStrategy.handleKeyPress(t)}},{key:"handleGlobalKeyUp",value:function(t){return this._globalEventStrategy.handleKeyUp(t)}},{key:"ignoreEvent",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().ignoreEvent(t)}},{key:"observeIgnoredEvents",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().observeIgnoredEvents(t)}},{key:"closeHangingKeyCombination",value:function(t,r){this._focusOnlyEventStrategy.closeHangingKeyCombination(t,r)}},{key:"reactAppHistoryWithEvent",value:function(t,r){var i=this._focusOnlyEventStrategy.eventPropagator.getPreviousPropagation();return i.isForKey(t)&&i.isForEventType(r)?i.isHandled()?Ku.handled:i.isIgnoringEvent()?Ku.ignored:Ku.seen:Ku.unseen}},{key:"simulatePendingKeyPressEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyPressEvents()}},{key:"simulatePendingKeyUpEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyUpEvents()}},{key:"isGlobalListenersBound",value:function(){return this._globalEventStrategy.listenersBound}}]),n}();smt=function(n){function e(){return Qa(this,e),kx(this,Tc(e).apply(this,arguments))}return Lx(e,n),Ga(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=r.innerRef,o=r.component,a=_R(r,["hotKeys","innerRef","component"]),l=o||Ya.option("defaultComponent");return t0.default.createElement(l,T1({},i,{ref:s},a))}}]),e}(t0.Component),EAe=bAe(smt);EAe.propTypes={innerRef:Su.default.oneOfType([Su.default.object,Su.default.func])};SAe=function(n){function e(t){var r;return Qa(this,e),r=kx(this,Tc(e).call(this,t)),r._id=U0.getInstance().registerGlobalKeyMap(t.keyMap),r._childContext={globalHotKeysParentId:r._id},r}return Lx(e,n),Ga(e,[{key:"render",value:function(){return this.props.children||null}},{key:"componentDidUpdate",value:function(){var r=U0.getInstance();if(r.reregisterGlobalKeyMap(this._id,this.props.keyMap),this.props.allowChanges||!Ya.option("ignoreKeymapAndHandlerChangesByDefault")){var i=this.props,s=i.keyMap,o=i.handlers;r.updateEnabledGlobalHotKeys(this._id,s,o,this._getComponentOptions(),this._getEventOptions())}}},{key:"componentDidMount",value:function(){var r=this.props,i=r.keyMap,s=r.handlers,o=this.context.globalHotKeysParentId,a=U0.getInstance();a.registerGlobalComponentMount(this._id,o),a.enableGlobalHotKeys(this._id,i,s,this._getComponentOptions(),this._getEventOptions())}},{key:"componentWillUnmount",value:function(){var r=U0.getInstance();r.deregisterGlobalKeyMap(this._id),r.disableGlobalHotKeys(this._id),r.registerGlobalComponentUnmount()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Ya.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Ya.option("ignoreEventsCondition")}}}]),e}(t0.Component);Af(SAe,"propTypes",{keyMap:Su.default.object,handlers:Su.default.object,allowChanges:Su.default.bool});omt=_Ae(SAe,{deprecatedAPI:{contextTypes:{globalHotKeysParentId:Su.default.number},childContextTypes:{globalHotKeysParentId:Su.default.number}},newAPI:{contextType:{globalHotKeysParentId:void 0}}});amt=function(n){function e(){return Qa(this,e),kx(this,Tc(e).apply(this,arguments))}return Lx(e,n),Ga(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=_R(r,["hotKeys"]),o=s.component||Ya.option("defaultComponent");return t0.default.createElement(o,T1({},i,s))}}]),e}(t0.Component),umt=Xz(amt,{},"ignoreEvent"),lmt=function(n){function e(){return Qa(this,e),kx(this,Tc(e).apply(this,arguments))}return Lx(e,n),Ga(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=_R(r,["hotKeys"]),o=s.component||Ya.option("defaultComponent");return t0.default.createElement(o,T1({},i,s))}}]),e}(t0.Component),cmt=Xz(lmt,{},"observeIgnoredEvents")});var FAe=Ae((xOt,TAe)=>{"use strict";m();TAe.exports=(AAe(),TBe(CAe))});var STe=Ae((YIt,ETe)=>{m();var Zmt=typeof Element!="undefined",e2t=typeof Map=="function",t2t=typeof Set=="function",n2t=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function dH(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!dH(n[r],e[r]))return!1;return!0}var s;if(e2t&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!dH(r.value[1],e.get(r.value[0])))return!1;return!0}if(t2t&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(n2t&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Zmt&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!dH(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}ETe.exports=function(e,t){try{return dH(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}});var Mue=Ae((Iue,VC)=>{m();(function(n,e){typeof Iue=="object"&&typeof VC!="undefined"?VC.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(Iue,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(A){n=A}function r(A){return A instanceof Array||Object.prototype.toString.call(A)==="[object Array]"}function i(A){return A!=null&&Object.prototype.toString.call(A)==="[object Object]"}function s(A,W){return Object.prototype.hasOwnProperty.call(A,W)}function o(A){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(A).length===0;var W;for(W in A)if(s(A,W))return!1;return!0}function a(A){return A===void 0}function l(A){return typeof A=="number"||Object.prototype.toString.call(A)==="[object Number]"}function f(A){return A instanceof Date||Object.prototype.toString.call(A)==="[object Date]"}function p(A,W){var de=[],Be,wt=A.length;for(Be=0;Be<wt;++Be)de.push(W(A[Be],Be));return de}function _(A,W){for(var de in W)s(W,de)&&(A[de]=W[de]);return s(W,"toString")&&(A.toString=W.toString),s(W,"valueOf")&&(A.valueOf=W.valueOf),A}function E(A,W,de,Be){return pn(A,W,de,Be,!0).utc()}function O(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function R(A){return A._pf==null&&(A._pf=O()),A._pf}var q;Array.prototype.some?q=Array.prototype.some:q=function(A){var W=Object(this),de=W.length>>>0,Be;for(Be=0;Be<de;Be++)if(Be in W&&A.call(this,W[Be],Be,W))return!0;return!1};function z(A){if(A._isValid==null){var W=R(A),de=q.call(W.parsedDateParts,function(wt){return wt!=null}),Be=!isNaN(A._d.getTime())&&W.overflow<0&&!W.empty&&!W.invalidEra&&!W.invalidMonth&&!W.invalidWeekday&&!W.weekdayMismatch&&!W.nullInput&&!W.invalidFormat&&!W.userInvalidated&&(!W.meridiem||W.meridiem&&de);if(A._strict&&(Be=Be&&W.charsLeftOver===0&&W.unusedTokens.length===0&&W.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(A))A._isValid=Be;else return Be}return A._isValid}function L(A){var W=E(NaN);return A!=null?_(R(W),A):R(W).userInvalidated=!0,W}var B=e.momentProperties=[],P=!1;function G(A,W){var de,Be,wt,Tn=B.length;if(a(W._isAMomentObject)||(A._isAMomentObject=W._isAMomentObject),a(W._i)||(A._i=W._i),a(W._f)||(A._f=W._f),a(W._l)||(A._l=W._l),a(W._strict)||(A._strict=W._strict),a(W._tzm)||(A._tzm=W._tzm),a(W._isUTC)||(A._isUTC=W._isUTC),a(W._offset)||(A._offset=W._offset),a(W._pf)||(A._pf=R(W)),a(W._locale)||(A._locale=W._locale),Tn>0)for(de=0;de<Tn;de++)Be=B[de],wt=W[Be],a(wt)||(A[Be]=wt);return A}function ue(A){G(this,A),this._d=new Date(A._d!=null?A._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,e.updateOffset(this),P=!1)}function I(A){return A instanceof ue||A!=null&&A._isAMomentObject!=null}function J(A){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+A)}function he(A,W){var de=!0;return _(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,A),de){var Be=[],wt,Tn,ur,$i=arguments.length;for(Tn=0;Tn<$i;Tn++){if(wt="",typeof arguments[Tn]=="object"){wt+=`
[`+Tn+"] ";for(ur in arguments[0])s(arguments[0],ur)&&(wt+=ur+": "+arguments[0][ur]+", ");wt=wt.slice(0,-2)}else wt=arguments[Tn];Be.push(wt)}J(A+`
Arguments: `+Array.prototype.slice.call(Be).join("")+`
`+new Error().stack),de=!1}return W.apply(this,arguments)},W)}var ve={};function Ve(A,W){e.deprecationHandler!=null&&e.deprecationHandler(A,W),ve[A]||(J(W),ve[A]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function ot(A){return typeof Function!="undefined"&&A instanceof Function||Object.prototype.toString.call(A)==="[object Function]"}function lt(A){var W,de;for(de in A)s(A,de)&&(W=A[de],ot(W)?this[de]=W:this["_"+de]=W);this._config=A,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function et(A,W){var de=_({},A),Be;for(Be in W)s(W,Be)&&(i(A[Be])&&i(W[Be])?(de[Be]={},_(de[Be],A[Be]),_(de[Be],W[Be])):W[Be]!=null?de[Be]=W[Be]:delete de[Be]);for(Be in A)s(A,Be)&&!s(W,Be)&&i(A[Be])&&(de[Be]=_({},de[Be]));return de}function bt(A){A!=null&&this.set(A)}var Pt;Object.keys?Pt=Object.keys:Pt=function(A){var W,de=[];for(W in A)s(A,W)&&de.push(W);return de};var $e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function te(A,W,de){var Be=this._calendar[A]||this._calendar.sameElse;return ot(Be)?Be.call(W,de):Be}function Ze(A,W,de){var Be=""+Math.abs(A),wt=W-Be.length,Tn=A>=0;return(Tn?de?"+":"":"-")+Math.pow(10,Math.max(0,wt)).toString().substr(1)+Be}var ye=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Le=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ce={},pe={};function Je(A,W,de,Be){var wt=Be;typeof Be=="string"&&(wt=function(){return this[Be]()}),A&&(pe[A]=wt),W&&(pe[W[0]]=function(){return Ze(wt.apply(this,arguments),W[1],W[2])}),de&&(pe[de]=function(){return this.localeData().ordinal(wt.apply(this,arguments),A)})}function ut(A){return A.match(/\[[\s\S]/)?A.replace(/^\[|\]$/g,""):A.replace(/\\/g,"")}function Ht(A){var W=A.match(ye),de,Be;for(de=0,Be=W.length;de<Be;de++)pe[W[de]]?W[de]=pe[W[de]]:W[de]=ut(W[de]);return function(wt){var Tn="",ur;for(ur=0;ur<Be;ur++)Tn+=ot(W[ur])?W[ur].call(wt,A):W[ur];return Tn}}function Ct(A,W){return A.isValid()?(W=xn(W,A.localeData()),Ce[W]=Ce[W]||Ht(W),Ce[W](A)):A.localeData().invalidDate()}function xn(A,W){var de=5;function Be(wt){return W.longDateFormat(wt)||wt}for(Le.lastIndex=0;de>=0&&Le.test(A);)A=A.replace(Le,Be),Le.lastIndex=0,de-=1;return A}var Tt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ot(A){var W=this._longDateFormat[A],de=this._longDateFormat[A.toUpperCase()];return W||!de?W:(this._longDateFormat[A]=de.match(ye).map(function(Be){return Be==="MMMM"||Be==="MM"||Be==="DD"||Be==="dddd"?Be.slice(1):Be}).join(""),this._longDateFormat[A])}var rn="Invalid date";function St(){return this._invalidDate}var _e="%d",ke=/\d{1,2}/;function Se(A){return this._ordinal.replace("%d",A)}var ce={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(A,W,de,Be){var wt=this._relativeTime[de];return ot(wt)?wt(A,W,de,Be):wt.replace(/%d/i,A)}function Ie(A,W){var de=this._relativeTime[A>0?"future":"past"];return ot(de)?de(W):de.replace(/%s/i,W)}var re={};function Ne(A,W){var de=A.toLowerCase();re[de]=re[de+"s"]=re[W]=A}function ct(A){return typeof A=="string"?re[A]||re[A.toLowerCase()]:void 0}function _t(A){var W={},de,Be;for(Be in A)s(A,Be)&&(de=ct(Be),de&&(W[de]=A[Be]));return W}var Lt={};function Yt(A,W){Lt[A]=W}function Gt(A){var W=[],de;for(de in A)s(A,de)&&W.push({unit:de,priority:Lt[de]});return W.sort(function(Be,wt){return Be.priority-wt.priority}),W}function fn(A){return A%4===0&&A%100!==0||A%400===0}function gn(A){return A<0?Math.ceil(A)||0:Math.floor(A)}function yn(A){var W=+A,de=0;return W!==0&&isFinite(W)&&(de=gn(W)),de}function It(A,W){return function(de){return de!=null?(Mn(this,A,de),e.updateOffset(this,W),this):un(this,A)}}function un(A,W){return A.isValid()?A._d["get"+(A._isUTC?"UTC":"")+W]():NaN}function Mn(A,W,de){A.isValid()&&!isNaN(de)&&(W==="FullYear"&&fn(A.year())&&A.month()===1&&A.date()===29?(de=yn(de),A._d["set"+(A._isUTC?"UTC":"")+W](de,A.month(),zn(de,A.month()))):A._d["set"+(A._isUTC?"UTC":"")+W](de))}function tr(A){return A=ct(A),ot(this[A])?this[A]():this}function Rn(A,W){if(typeof A=="object"){A=_t(A);var de=Gt(A),Be,wt=de.length;for(Be=0;Be<wt;Be++)this[de[Be].unit](A[de[Be].unit])}else if(A=ct(A),ot(this[A]))return this[A](W);return this}var Re=/\d/,He=/\d\d/,De=/\d{3}/,Bt=/\d{4}/,pt=/[+-]?\d{6}/,mt=/\d\d?/,nn=/\d\d\d\d?/,Qt=/\d\d\d\d\d\d?/,Fn=/\d{1,3}/,Wn=/\d{1,4}/,Zn=/[+-]?\d{1,6}/,Nn=/\d+/,nr=/[+-]?\d+/,Ke=/Z|[+-]\d\d:?\d\d/gi,yt=/Z|[+-]\d\d(?::?\d\d)?/gi,oe=/[+-]?\d+(\.\d{1,3})?/,je=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,nt;nt={};function Rt(A,W,de){nt[A]=ot(W)?W:function(Be,wt){return Be&&de?de:W}}function hn(A,W){return s(nt,A)?nt[A](W._strict,W._locale):new RegExp(an(A))}function an(A){return ft(A.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(W,de,Be,wt,Tn){return de||Be||wt||Tn}))}function ft(A){return A.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ie={};function Te(A,W){var de,Be=W,wt;for(typeof A=="string"&&(A=[A]),l(W)&&(Be=function(Tn,ur){ur[W]=yn(Tn)}),wt=A.length,de=0;de<wt;de++)ie[A[de]]=Be}function Ue(A,W){Te(A,function(de,Be,wt,Tn){wt._w=wt._w||{},W(de,wt._w,wt,Tn)})}function xt(A,W,de){W!=null&&s(ie,A)&&ie[A](W,de._a,de,A)}var Et=0,Nt=1,ne=2,we=3,Qe=4,it=5,Ut=6,sn=7,Cn=8;function En(A,W){return(A%W+W)%W}var vn;Array.prototype.indexOf?vn=Array.prototype.indexOf:vn=function(A){var W;for(W=0;W<this.length;++W)if(this[W]===A)return W;return-1};function zn(A,W){if(isNaN(A)||isNaN(W))return NaN;var de=En(W,12);return A+=(W-de)/12,de===1?fn(A)?29:28:31-de%7%2}Je("M",["MM",2],"Mo",function(){return this.month()+1}),Je("MMM",0,0,function(A){return this.localeData().monthsShort(this,A)}),Je("MMMM",0,0,function(A){return this.localeData().months(this,A)}),Ne("month","M"),Yt("month",8),Rt("M",mt),Rt("MM",mt,He),Rt("MMM",function(A,W){return W.monthsShortRegex(A)}),Rt("MMMM",function(A,W){return W.monthsRegex(A)}),Te(["M","MM"],function(A,W){W[Nt]=yn(A)-1}),Te(["MMM","MMMM"],function(A,W,de,Be){var wt=de._locale.monthsParse(A,Be,de._strict);wt!=null?W[Nt]=wt:R(de).invalidMonth=A});var Oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ze="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Dt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,N=je,V=je;function be(A,W){return A?r(this._months)?this._months[A.month()]:this._months[(this._months.isFormat||Dt).test(W)?"format":"standalone"][A.month()]:r(this._months)?this._months:this._months.standalone}function xe(A,W){return A?r(this._monthsShort)?this._monthsShort[A.month()]:this._monthsShort[Dt.test(W)?"format":"standalone"][A.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function K(A,W,de){var Be,wt,Tn,ur=A.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Be=0;Be<12;++Be)Tn=E([2e3,Be]),this._shortMonthsParse[Be]=this.monthsShort(Tn,"").toLocaleLowerCase(),this._longMonthsParse[Be]=this.months(Tn,"").toLocaleLowerCase();return de?W==="MMM"?(wt=vn.call(this._shortMonthsParse,ur),wt!==-1?wt:null):(wt=vn.call(this._longMonthsParse,ur),wt!==-1?wt:null):W==="MMM"?(wt=vn.call(this._shortMonthsParse,ur),wt!==-1?wt:(wt=vn.call(this._longMonthsParse,ur),wt!==-1?wt:null)):(wt=vn.call(this._longMonthsParse,ur),wt!==-1?wt:(wt=vn.call(this._shortMonthsParse,ur),wt!==-1?wt:null))}function ae(A,W,de){var Be,wt,Tn;if(this._monthsParseExact)return K.call(this,A,W,de);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Be=0;Be<12;Be++){if(wt=E([2e3,Be]),de&&!this._longMonthsParse[Be]&&(this._longMonthsParse[Be]=new RegExp("^"+this.months(wt,"").replace(".","")+"$","i"),this._shortMonthsParse[Be]=new RegExp("^"+this.monthsShort(wt,"").replace(".","")+"$","i")),!de&&!this._monthsParse[Be]&&(Tn="^"+this.months(wt,"")+"|^"+this.monthsShort(wt,""),this._monthsParse[Be]=new RegExp(Tn.replace(".",""),"i")),de&&W==="MMMM"&&this._longMonthsParse[Be].test(A))return Be;if(de&&W==="MMM"&&this._shortMonthsParse[Be].test(A))return Be;if(!de&&this._monthsParse[Be].test(A))return Be}}function fe(A,W){var de;if(!A.isValid())return A;if(typeof W=="string"){if(/^\d+$/.test(W))W=yn(W);else if(W=A.localeData().monthsParse(W),!l(W))return A}return de=Math.min(A.date(),zn(A.year(),W)),A._d["set"+(A._isUTC?"UTC":"")+"Month"](W,de),A}function Ge(A){return A!=null?(fe(this,A),e.updateOffset(this,!0),this):un(this,"Month")}function Mt(){return zn(this.year(),this.month())}function At(A){return this._monthsParseExact?(s(this,"_monthsRegex")||w.call(this),A?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=N),this._monthsShortStrictRegex&&A?this._monthsShortStrictRegex:this._monthsShortRegex)}function dn(A){return this._monthsParseExact?(s(this,"_monthsRegex")||w.call(this),A?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=V),this._monthsStrictRegex&&A?this._monthsStrictRegex:this._monthsRegex)}function w(){function A(ur,$i){return $i.length-ur.length}var W=[],de=[],Be=[],wt,Tn;for(wt=0;wt<12;wt++)Tn=E([2e3,wt]),W.push(this.monthsShort(Tn,"")),de.push(this.months(Tn,"")),Be.push(this.months(Tn,"")),Be.push(this.monthsShort(Tn,""));for(W.sort(A),de.sort(A),Be.sort(A),wt=0;wt<12;wt++)W[wt]=ft(W[wt]),de[wt]=ft(de[wt]);for(wt=0;wt<24;wt++)Be[wt]=ft(Be[wt]);this._monthsRegex=new RegExp("^("+Be.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+de.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+W.join("|")+")","i")}Je("Y",0,0,function(){var A=this.year();return A<=9999?Ze(A,4):"+"+A}),Je(0,["YY",2],0,function(){return this.year()%100}),Je(0,["YYYY",4],0,"year"),Je(0,["YYYYY",5],0,"year"),Je(0,["YYYYYY",6,!0],0,"year"),Ne("year","y"),Yt("year",1),Rt("Y",nr),Rt("YY",mt,He),Rt("YYYY",Wn,Bt),Rt("YYYYY",Zn,pt),Rt("YYYYYY",Zn,pt),Te(["YYYYY","YYYYYY"],Et),Te("YYYY",function(A,W){W[Et]=A.length===2?e.parseTwoDigitYear(A):yn(A)}),Te("YY",function(A,W){W[Et]=e.parseTwoDigitYear(A)}),Te("Y",function(A,W){W[Et]=parseInt(A,10)});function j(A){return fn(A)?366:365}e.parseTwoDigitYear=function(A){return yn(A)+(yn(A)>68?1900:2e3)};var ee=It("FullYear",!0);function Ee(){return fn(this.year())}function dt(A,W,de,Be,wt,Tn,ur){var $i;return A<100&&A>=0?($i=new Date(A+400,W,de,Be,wt,Tn,ur),isFinite($i.getFullYear())&&$i.setFullYear(A)):$i=new Date(A,W,de,Be,wt,Tn,ur),$i}function Ft(A){var W,de;return A<100&&A>=0?(de=Array.prototype.slice.call(arguments),de[0]=A+400,W=new Date(Date.UTC.apply(null,de)),isFinite(W.getUTCFullYear())&&W.setUTCFullYear(A)):W=new Date(Date.UTC.apply(null,arguments)),W}function Zt(A,W,de){var Be=7+W-de,wt=(7+Ft(A,0,Be).getUTCDay()-W)%7;return-wt+Be-1}function Xt(A,W,de,Be,wt){var Tn=(7+de-Be)%7,ur=Zt(A,Be,wt),$i=1+7*(W-1)+Tn+ur,Bi,oo;return $i<=0?(Bi=A-1,oo=j(Bi)+$i):$i>j(A)?(Bi=A+1,oo=$i-j(A)):(Bi=A,oo=$i),{year:Bi,dayOfYear:oo}}function mn(A,W,de){var Be=Zt(A.year(),W,de),wt=Math.floor((A.dayOfYear()-Be-1)/7)+1,Tn,ur;return wt<1?(ur=A.year()-1,Tn=wt+qn(ur,W,de)):wt>qn(A.year(),W,de)?(Tn=wt-qn(A.year(),W,de),ur=A.year()+1):(ur=A.year(),Tn=wt),{week:Tn,year:ur}}function qn(A,W,de){var Be=Zt(A,W,de),wt=Zt(A+1,W,de);return(j(A)-Be+wt)/7}Je("w",["ww",2],"wo","week"),Je("W",["WW",2],"Wo","isoWeek"),Ne("week","w"),Ne("isoWeek","W"),Yt("week",5),Yt("isoWeek",5),Rt("w",mt),Rt("ww",mt,He),Rt("W",mt),Rt("WW",mt,He),Ue(["w","ww","W","WW"],function(A,W,de,Be){W[Be.substr(0,1)]=yn(A)});function Un(A){return mn(A,this._week.dow,this._week.doy).week}var Vn={dow:0,doy:6};function Jr(){return this._week.dow}function Vr(){return this._week.doy}function yr(A){var W=this.localeData().week(this);return A==null?W:this.add((A-W)*7,"d")}function Mr(A){var W=mn(this,1,4).week;return A==null?W:this.add((A-W)*7,"d")}Je("d",0,"do","day"),Je("dd",0,0,function(A){return this.localeData().weekdaysMin(this,A)}),Je("ddd",0,0,function(A){return this.localeData().weekdaysShort(this,A)}),Je("dddd",0,0,function(A){return this.localeData().weekdays(this,A)}),Je("e",0,0,"weekday"),Je("E",0,0,"isoWeekday"),Ne("day","d"),Ne("weekday","e"),Ne("isoWeekday","E"),Yt("day",11),Yt("weekday",11),Yt("isoWeekday",11),Rt("d",mt),Rt("e",mt),Rt("E",mt),Rt("dd",function(A,W){return W.weekdaysMinRegex(A)}),Rt("ddd",function(A,W){return W.weekdaysShortRegex(A)}),Rt("dddd",function(A,W){return W.weekdaysRegex(A)}),Ue(["dd","ddd","dddd"],function(A,W,de,Be){var wt=de._locale.weekdaysParse(A,Be,de._strict);wt!=null?W.d=wt:R(de).invalidWeekday=A}),Ue(["d","e","E"],function(A,W,de,Be){W[Be]=yn(A)});function xi(A,W){return typeof A!="string"?A:isNaN(A)?(A=W.weekdaysParse(A),typeof A=="number"?A:null):parseInt(A,10)}function ai(A,W){return typeof A=="string"?W.weekdaysParse(A)%7||7:isNaN(A)?null:A}function Xi(A,W){return A.slice(W,7).concat(A.slice(0,W))}var Ss="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ts="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wa="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),pa=je,xl=je,Oc=je;function lu(A,W){var de=r(this._weekdays)?this._weekdays:this._weekdays[A&&A!==!0&&this._weekdays.isFormat.test(W)?"format":"standalone"];return A===!0?Xi(de,this._week.dow):A?de[A.day()]:de}function cu(A){return A===!0?Xi(this._weekdaysShort,this._week.dow):A?this._weekdaysShort[A.day()]:this._weekdaysShort}function Ju(A){return A===!0?Xi(this._weekdaysMin,this._week.dow):A?this._weekdaysMin[A.day()]:this._weekdaysMin}function Fu(A,W,de){var Be,wt,Tn,ur=A.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Be=0;Be<7;++Be)Tn=E([2e3,1]).day(Be),this._minWeekdaysParse[Be]=this.weekdaysMin(Tn,"").toLocaleLowerCase(),this._shortWeekdaysParse[Be]=this.weekdaysShort(Tn,"").toLocaleLowerCase(),this._weekdaysParse[Be]=this.weekdays(Tn,"").toLocaleLowerCase();return de?W==="dddd"?(wt=vn.call(this._weekdaysParse,ur),wt!==-1?wt:null):W==="ddd"?(wt=vn.call(this._shortWeekdaysParse,ur),wt!==-1?wt:null):(wt=vn.call(this._minWeekdaysParse,ur),wt!==-1?wt:null):W==="dddd"?(wt=vn.call(this._weekdaysParse,ur),wt!==-1||(wt=vn.call(this._shortWeekdaysParse,ur),wt!==-1)?wt:(wt=vn.call(this._minWeekdaysParse,ur),wt!==-1?wt:null)):W==="ddd"?(wt=vn.call(this._shortWeekdaysParse,ur),wt!==-1||(wt=vn.call(this._weekdaysParse,ur),wt!==-1)?wt:(wt=vn.call(this._minWeekdaysParse,ur),wt!==-1?wt:null)):(wt=vn.call(this._minWeekdaysParse,ur),wt!==-1||(wt=vn.call(this._weekdaysParse,ur),wt!==-1)?wt:(wt=vn.call(this._shortWeekdaysParse,ur),wt!==-1?wt:null))}function Rc(A,W,de){var Be,wt,Tn;if(this._weekdaysParseExact)return Fu.call(this,A,W,de);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Be=0;Be<7;Be++){if(wt=E([2e3,1]).day(Be),de&&!this._fullWeekdaysParse[Be]&&(this._fullWeekdaysParse[Be]=new RegExp("^"+this.weekdays(wt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Be]=new RegExp("^"+this.weekdaysShort(wt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Be]=new RegExp("^"+this.weekdaysMin(wt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Be]||(Tn="^"+this.weekdays(wt,"")+"|^"+this.weekdaysShort(wt,"")+"|^"+this.weekdaysMin(wt,""),this._weekdaysParse[Be]=new RegExp(Tn.replace(".",""),"i")),de&&W==="dddd"&&this._fullWeekdaysParse[Be].test(A))return Be;if(de&&W==="ddd"&&this._shortWeekdaysParse[Be].test(A))return Be;if(de&&W==="dd"&&this._minWeekdaysParse[Be].test(A))return Be;if(!de&&this._weekdaysParse[Be].test(A))return Be}}function ea(A){if(!this.isValid())return A!=null?this:NaN;var W=this._isUTC?this._d.getUTCDay():this._d.getDay();return A!=null?(A=xi(A,this.localeData()),this.add(A-W,"d")):W}function Xu(A){if(!this.isValid())return A!=null?this:NaN;var W=(this.day()+7-this.localeData()._week.dow)%7;return A==null?W:this.add(A-W,"d")}function ef(A){if(!this.isValid())return A!=null?this:NaN;if(A!=null){var W=ai(A,this.localeData());return this.day(this.day()%7?W:W-7)}else return this.day()||7}function Ye(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=pa),this._weekdaysStrictRegex&&A?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xl),this._weekdaysShortStrictRegex&&A?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Bn(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Oc),this._weekdaysMinStrictRegex&&A?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Yn(){function A(mu,Bc){return Bc.length-mu.length}var W=[],de=[],Be=[],wt=[],Tn,ur,$i,Bi,oo;for(Tn=0;Tn<7;Tn++)ur=E([2e3,1]).day(Tn),$i=ft(this.weekdaysMin(ur,"")),Bi=ft(this.weekdaysShort(ur,"")),oo=ft(this.weekdays(ur,"")),W.push($i),de.push(Bi),Be.push(oo),wt.push($i),wt.push(Bi),wt.push(oo);W.sort(A),de.sort(A),Be.sort(A),wt.sort(A),this._weekdaysRegex=new RegExp("^("+wt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Be.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+de.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+W.join("|")+")","i")}function ri(){return this.hours()%12||12}function Br(){return this.hours()||24}Je("H",["HH",2],0,"hour"),Je("h",["hh",2],0,ri),Je("k",["kk",2],0,Br),Je("hmm",0,0,function(){return""+ri.apply(this)+Ze(this.minutes(),2)}),Je("hmmss",0,0,function(){return""+ri.apply(this)+Ze(this.minutes(),2)+Ze(this.seconds(),2)}),Je("Hmm",0,0,function(){return""+this.hours()+Ze(this.minutes(),2)}),Je("Hmmss",0,0,function(){return""+this.hours()+Ze(this.minutes(),2)+Ze(this.seconds(),2)});function Xr(A,W){Je(A,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),W)})}Xr("a",!0),Xr("A",!1),Ne("hour","h"),Yt("hour",13);function Cs(A,W){return W._meridiemParse}Rt("a",Cs),Rt("A",Cs),Rt("H",mt),Rt("h",mt),Rt("k",mt),Rt("HH",mt,He),Rt("hh",mt,He),Rt("kk",mt,He),Rt("hmm",nn),Rt("hmmss",Qt),Rt("Hmm",nn),Rt("Hmmss",Qt),Te(["H","HH"],we),Te(["k","kk"],function(A,W,de){var Be=yn(A);W[we]=Be===24?0:Be}),Te(["a","A"],function(A,W,de){de._isPm=de._locale.isPM(A),de._meridiem=A}),Te(["h","hh"],function(A,W,de){W[we]=yn(A),R(de).bigHour=!0}),Te("hmm",function(A,W,de){var Be=A.length-2;W[we]=yn(A.substr(0,Be)),W[Qe]=yn(A.substr(Be)),R(de).bigHour=!0}),Te("hmmss",function(A,W,de){var Be=A.length-4,wt=A.length-2;W[we]=yn(A.substr(0,Be)),W[Qe]=yn(A.substr(Be,2)),W[it]=yn(A.substr(wt)),R(de).bigHour=!0}),Te("Hmm",function(A,W,de){var Be=A.length-2;W[we]=yn(A.substr(0,Be)),W[Qe]=yn(A.substr(Be))}),Te("Hmmss",function(A,W,de){var Be=A.length-4,wt=A.length-2;W[we]=yn(A.substr(0,Be)),W[Qe]=yn(A.substr(Be,2)),W[it]=yn(A.substr(wt))});function co(A){return(A+"").toLowerCase().charAt(0)==="p"}var ro=/[ap]\.?m?\.?/i,us=It("Hours",!0);function io(A,W,de){return A>11?de?"pm":"PM":de?"am":"AM"}var fo={calendar:$e,longDateFormat:Tt,invalidDate:rn,ordinal:_e,dayOfMonthOrdinalParse:ke,relativeTime:ce,months:Oe,monthsShort:ze,week:Vn,weekdays:Ss,weekdaysMin:wa,weekdaysShort:ts,meridiemParse:ro},hi={},Ei={},Wi;function Jo(A,W){var de,Be=Math.min(A.length,W.length);for(de=0;de<Be;de+=1)if(A[de]!==W[de])return de;return Be}function fa(A){return A&&A.toLowerCase().replace("_","-")}function da(A){for(var W=0,de,Be,wt,Tn;W<A.length;){for(Tn=fa(A[W]).split("-"),de=Tn.length,Be=fa(A[W+1]),Be=Be?Be.split("-"):null;de>0;){if(wt=ls(Tn.slice(0,de).join("-")),wt)return wt;if(Be&&Be.length>=de&&Jo(Tn,Be)>=de-1)break;de--}W++}return Wi}function ho(A){return A.match("^[^/\\\\]*$")!=null}function ls(A){var W=null,de;if(hi[A]===void 0&&typeof VC!="undefined"&&VC&&VC.exports&&ho(A))try{W=Wi._abbr,de=uk,de("./locale/"+A),ps(W)}catch{hi[A]=null}return hi[A]}function ps(A,W){var de;return A&&(a(W)?de=Ms(A):de=Zi(A,W),de?Wi=de:typeof console!="undefined"&&console.warn&&console.warn("Locale "+A+" not found. Did you forget to load it?")),Wi._abbr}function Zi(A,W){if(W!==null){var de,Be=fo;if(W.abbr=A,hi[A]!=null)Ve("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Be=hi[A]._config;else if(W.parentLocale!=null)if(hi[W.parentLocale]!=null)Be=hi[W.parentLocale]._config;else if(de=ls(W.parentLocale),de!=null)Be=de._config;else return Ei[W.parentLocale]||(Ei[W.parentLocale]=[]),Ei[W.parentLocale].push({name:A,config:W}),null;return hi[A]=new bt(et(Be,W)),Ei[A]&&Ei[A].forEach(function(wt){Zi(wt.name,wt.config)}),ps(A),hi[A]}else return delete hi[A],null}function fu(A,W){if(W!=null){var de,Be,wt=fo;hi[A]!=null&&hi[A].parentLocale!=null?hi[A].set(et(hi[A]._config,W)):(Be=ls(A),Be!=null&&(wt=Be._config),W=et(wt,W),Be==null&&(W.abbr=A),de=new bt(W),de.parentLocale=hi[A],hi[A]=de),ps(A)}else hi[A]!=null&&(hi[A].parentLocale!=null?(hi[A]=hi[A].parentLocale,A===ps()&&ps(A)):hi[A]!=null&&delete hi[A]);return hi[A]}function Ms(A){var W;if(A&&A._locale&&A._locale._abbr&&(A=A._locale._abbr),!A)return Wi;if(!r(A)){if(W=ls(A),W)return W;A=[A]}return da(A)}function ma(){return Pt(hi)}function oa(A){var W,de=A._a;return de&&R(A).overflow===-2&&(W=de[Nt]<0||de[Nt]>11?Nt:de[ne]<1||de[ne]>zn(de[Et],de[Nt])?ne:de[we]<0||de[we]>24||de[we]===24&&(de[Qe]!==0||de[it]!==0||de[Ut]!==0)?we:de[Qe]<0||de[Qe]>59?Qe:de[it]<0||de[it]>59?it:de[Ut]<0||de[Ut]>999?Ut:-1,R(A)._overflowDayOfYear&&(W<Et||W>ne)&&(W=ne),R(A)._overflowWeeks&&W===-1&&(W=sn),R(A)._overflowWeekday&&W===-1&&(W=Cn),R(A).overflow=W),A}var Ri=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vs=/Z|[+-]\d\d(?::?\d\d)?/,Ii=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Do=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Na=/^\/?Date\((-?\d+)/i,Ka=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Oo={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ao(A){var W,de,Be=A._i,wt=Ri.exec(Be)||Vo.exec(Be),Tn,ur,$i,Bi,oo=Ii.length,mu=Do.length;if(wt){for(R(A).iso=!0,W=0,de=oo;W<de;W++)if(Ii[W][1].exec(wt[1])){ur=Ii[W][0],Tn=Ii[W][2]!==!1;break}if(ur==null){A._isValid=!1;return}if(wt[3]){for(W=0,de=mu;W<de;W++)if(Do[W][1].exec(wt[3])){$i=(wt[2]||" ")+Do[W][0];break}if($i==null){A._isValid=!1;return}}if(!Tn&&$i!=null){A._isValid=!1;return}if(wt[4])if(vs.exec(wt[4]))Bi="Z";else{A._isValid=!1;return}A._f=ur+($i||"")+(Bi||""),cs(A)}else A._isValid=!1}function qa(A,W,de,Be,wt,Tn){var ur=[du(A),ze.indexOf(W),parseInt(de,10),parseInt(Be,10),parseInt(wt,10)];return Tn&&ur.push(parseInt(Tn,10)),ur}function du(A){var W=parseInt(A,10);return W<=49?2e3+W:W<=999?1900+W:W}function Ua(A){return A.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function aa(A,W,de){if(A){var Be=ts.indexOf(A),wt=new Date(W[0],W[1],W[2]).getDay();if(Be!==wt)return R(de).weekdayMismatch=!0,de._isValid=!1,!1}return!0}function ua(A,W,de){if(A)return Oo[A];if(W)return 0;var Be=parseInt(de,10),wt=Be%100,Tn=(Be-wt)/100;return Tn*60+wt}function gl(A){var W=Ka.exec(Ua(A._i)),de;if(W){if(de=qa(W[4],W[3],W[2],W[5],W[6],W[7]),!aa(W[1],de,A))return;A._a=de,A._tzm=ua(W[8],W[9],W[10]),A._d=Ft.apply(null,A._a),A._d.setUTCMinutes(A._d.getUTCMinutes()-A._tzm),R(A).rfc2822=!0}else A._isValid=!1}function $l(A){var W=Na.exec(A._i);if(W!==null){A._d=new Date(+W[1]);return}if(Ao(A),A._isValid===!1)delete A._isValid;else return;if(gl(A),A._isValid===!1)delete A._isValid;else return;A._strict?A._isValid=!1:e.createFromInputFallback(A)}e.createFromInputFallback=he("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(A){A._d=new Date(A._i+(A._useUTC?" UTC":""))});function ta(A,W,de){return A??W??de}function Zu(A){var W=new Date(e.now());return A._useUTC?[W.getUTCFullYear(),W.getUTCMonth(),W.getUTCDate()]:[W.getFullYear(),W.getMonth(),W.getDate()]}function ui(A){var W,de,Be=[],wt,Tn,ur;if(!A._d){for(wt=Zu(A),A._w&&A._a[ne]==null&&A._a[Nt]==null&&rs(A),A._dayOfYear!=null&&(ur=ta(A._a[Et],wt[Et]),(A._dayOfYear>j(ur)||A._dayOfYear===0)&&(R(A)._overflowDayOfYear=!0),de=Ft(ur,0,A._dayOfYear),A._a[Nt]=de.getUTCMonth(),A._a[ne]=de.getUTCDate()),W=0;W<3&&A._a[W]==null;++W)A._a[W]=Be[W]=wt[W];for(;W<7;W++)A._a[W]=Be[W]=A._a[W]==null?W===2?1:0:A._a[W];A._a[we]===24&&A._a[Qe]===0&&A._a[it]===0&&A._a[Ut]===0&&(A._nextDay=!0,A._a[we]=0),A._d=(A._useUTC?Ft:dt).apply(null,Be),Tn=A._useUTC?A._d.getUTCDay():A._d.getDay(),A._tzm!=null&&A._d.setUTCMinutes(A._d.getUTCMinutes()-A._tzm),A._nextDay&&(A._a[we]=24),A._w&&typeof A._w.d!="undefined"&&A._w.d!==Tn&&(R(A).weekdayMismatch=!0)}}function rs(A){var W,de,Be,wt,Tn,ur,$i,Bi,oo;W=A._w,W.GG!=null||W.W!=null||W.E!=null?(Tn=1,ur=4,de=ta(W.GG,A._a[Et],mn(Ln(),1,4).year),Be=ta(W.W,1),wt=ta(W.E,1),(wt<1||wt>7)&&(Bi=!0)):(Tn=A._locale._week.dow,ur=A._locale._week.doy,oo=mn(Ln(),Tn,ur),de=ta(W.gg,A._a[Et],oo.year),Be=ta(W.w,oo.week),W.d!=null?(wt=W.d,(wt<0||wt>6)&&(Bi=!0)):W.e!=null?(wt=W.e+Tn,(W.e<0||W.e>6)&&(Bi=!0)):wt=Tn),Be<1||Be>qn(de,Tn,ur)?R(A)._overflowWeeks=!0:Bi!=null?R(A)._overflowWeekday=!0:($i=Xt(de,Be,wt,Tn,ur),A._a[Et]=$i.year,A._dayOfYear=$i.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function cs(A){if(A._f===e.ISO_8601){Ao(A);return}if(A._f===e.RFC_2822){gl(A);return}A._a=[],R(A).empty=!0;var W=""+A._i,de,Be,wt,Tn,ur,$i=W.length,Bi=0,oo,mu;for(wt=xn(A._f,A._locale).match(ye)||[],mu=wt.length,de=0;de<mu;de++)Tn=wt[de],Be=(W.match(hn(Tn,A))||[])[0],Be&&(ur=W.substr(0,W.indexOf(Be)),ur.length>0&&R(A).unusedInput.push(ur),W=W.slice(W.indexOf(Be)+Be.length),Bi+=Be.length),pe[Tn]?(Be?R(A).empty=!1:R(A).unusedTokens.push(Tn),xt(Tn,Be,A)):A._strict&&!Be&&R(A).unusedTokens.push(Tn);R(A).charsLeftOver=$i-Bi,W.length>0&&R(A).unusedInput.push(W),A._a[we]<=12&&R(A).bigHour===!0&&A._a[we]>0&&(R(A).bigHour=void 0),R(A).parsedDateParts=A._a.slice(0),R(A).meridiem=A._meridiem,A._a[we]=mr(A._locale,A._a[we],A._meridiem),oo=R(A).era,oo!==null&&(A._a[Et]=A._locale.erasConvertYear(oo,A._a[Et])),ui(A),oa(A)}function mr(A,W,de){var Be;return de==null?W:A.meridiemHour!=null?A.meridiemHour(W,de):(A.isPM!=null&&(Be=A.isPM(de),Be&&W<12&&(W+=12),!Be&&W===12&&(W=0)),W)}function is(A){var W,de,Be,wt,Tn,ur,$i=!1,Bi=A._f.length;if(Bi===0){R(A).invalidFormat=!0,A._d=new Date(NaN);return}for(wt=0;wt<Bi;wt++)Tn=0,ur=!1,W=G({},A),A._useUTC!=null&&(W._useUTC=A._useUTC),W._f=A._f[wt],cs(W),z(W)&&(ur=!0),Tn+=R(W).charsLeftOver,Tn+=R(W).unusedTokens.length*10,R(W).score=Tn,$i?Tn<Be&&(Be=Tn,de=W):(Be==null||Tn<Be||ur)&&(Be=Tn,de=W,ur&&($i=!0));_(A,de||W)}function Me(A){if(!A._d){var W=_t(A._i),de=W.day===void 0?W.date:W.day;A._a=p([W.year,W.month,de,W.hour,W.minute,W.second,W.millisecond],function(Be){return Be&&parseInt(Be,10)}),ui(A)}}function gt(A){var W=new ue(oa(Jt(A)));return W._nextDay&&(W.add(1,"d"),W._nextDay=void 0),W}function Jt(A){var W=A._i,de=A._f;return A._locale=A._locale||Ms(A._l),W===null||de===void 0&&W===""?L({nullInput:!0}):(typeof W=="string"&&(A._i=W=A._locale.preparse(W)),I(W)?new ue(oa(W)):(f(W)?A._d=W:r(de)?is(A):de?cs(A):$t(A),z(A)||(A._d=null),A))}function $t(A){var W=A._i;a(W)?A._d=new Date(e.now()):f(W)?A._d=new Date(W.valueOf()):typeof W=="string"?$l(A):r(W)?(A._a=p(W.slice(0),function(de){return parseInt(de,10)}),ui(A)):i(W)?Me(A):l(W)?A._d=new Date(W):e.createFromInputFallback(A)}function pn(A,W,de,Be,wt){var Tn={};return(W===!0||W===!1)&&(Be=W,W=void 0),(de===!0||de===!1)&&(Be=de,de=void 0),(i(A)&&o(A)||r(A)&&A.length===0)&&(A=void 0),Tn._isAMomentObject=!0,Tn._useUTC=Tn._isUTC=wt,Tn._l=de,Tn._i=A,Tn._f=W,Tn._strict=Be,gt(Tn)}function Ln(A,W,de,Be){return pn(A,W,de,Be,!1)}var Kn=he("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var A=Ln.apply(null,arguments);return this.isValid()&&A.isValid()?A<this?this:A:L()}),$n=he("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var A=Ln.apply(null,arguments);return this.isValid()&&A.isValid()?A>this?this:A:L()});function br(A,W){var de,Be;if(W.length===1&&r(W[0])&&(W=W[0]),!W.length)return Ln();for(de=W[0],Be=1;Be<W.length;++Be)(!W[Be].isValid()||W[Be][A](de))&&(de=W[Be]);return de}function Cr(){var A=[].slice.call(arguments,0);return br("isBefore",A)}function Gn(){var A=[].slice.call(arguments,0);return br("isAfter",A)}var ar=function(){return Date.now?Date.now():+new Date},er=["year","quarter","month","week","day","hour","minute","second","millisecond"];function gr(A){var W,de=!1,Be,wt=er.length;for(W in A)if(s(A,W)&&!(vn.call(er,W)!==-1&&(A[W]==null||!isNaN(A[W]))))return!1;for(Be=0;Be<wt;++Be)if(A[er[Be]]){if(de)return!1;parseFloat(A[er[Be]])!==yn(A[er[Be]])&&(de=!0)}return!0}function Rr(){return this._isValid}function di(){return Hi(NaN)}function ni(A){var W=_t(A),de=W.year||0,Be=W.quarter||0,wt=W.month||0,Tn=W.week||W.isoWeek||0,ur=W.day||0,$i=W.hour||0,Bi=W.minute||0,oo=W.second||0,mu=W.millisecond||0;this._isValid=gr(W),this._milliseconds=+mu+oo*1e3+Bi*6e4+$i*1e3*60*60,this._days=+ur+Tn*7,this._months=+wt+Be*3+de*12,this._data={},this._locale=Ms(),this._bubble()}function pi(A){return A instanceof ni}function ii(A){return A<0?Math.round(-1*A)*-1:Math.round(A)}function qr(A,W,de){var Be=Math.min(A.length,W.length),wt=Math.abs(A.length-W.length),Tn=0,ur;for(ur=0;ur<Be;ur++)(de&&A[ur]!==W[ur]||!de&&yn(A[ur])!==yn(W[ur]))&&Tn++;return Tn+wt}function Ir(A,W){Je(A,0,0,function(){var de=this.utcOffset(),Be="+";return de<0&&(de=-de,Be="-"),Be+Ze(~~(de/60),2)+W+Ze(~~de%60,2)})}Ir("Z",":"),Ir("ZZ",""),Rt("Z",yt),Rt("ZZ",yt),Te(["Z","ZZ"],function(A,W,de){de._useUTC=!0,de._tzm=gi(yt,A)});var yi=/([\+\-]|\d\d)/gi;function gi(A,W){var de=(W||"").match(A),Be,wt,Tn;return de===null?null:(Be=de[de.length-1]||[],wt=(Be+"").match(yi)||["-",0,0],Tn=+(wt[1]*60)+yn(wt[2]),Tn===0?0:wt[0]==="+"?Tn:-Tn)}function os(A,W){var de,Be;return W._isUTC?(de=W.clone(),Be=(I(A)||f(A)?A.valueOf():Ln(A).valueOf())-de.valueOf(),de._d.setTime(de._d.valueOf()+Be),e.updateOffset(de,!1),de):Ln(A).local()}function xs(A){return-Math.round(A._d.getTimezoneOffset())}e.updateOffset=function(){};function vi(A,W,de){var Be=this._offset||0,wt;if(!this.isValid())return A!=null?this:NaN;if(A!=null){if(typeof A=="string"){if(A=gi(yt,A),A===null)return this}else Math.abs(A)<16&&!de&&(A=A*60);return!this._isUTC&&W&&(wt=xs(this)),this._offset=A,this._isUTC=!0,wt!=null&&this.add(wt,"m"),Be!==A&&(!W||this._changeInProgress?en(this,Hi(A-Be,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Be:xs(this)}function Ps(A,W){return A!=null?(typeof A!="string"&&(A=-A),this.utcOffset(A,W),this):-this.utcOffset()}function ss(A){return this.utcOffset(0,A)}function xa(A){return this._isUTC&&(this.utcOffset(0,A),this._isUTC=!1,A&&this.subtract(xs(this),"m")),this}function Ro(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var A=gi(Ke,this._i);A!=null?this.utcOffset(A):this.utcOffset(0,!0)}return this}function As(A){return this.isValid()?(A=A?Ln(A).utcOffset():0,(this.utcOffset()-A)%60===0):!1}function tn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jn(){if(!a(this._isDSTShifted))return this._isDSTShifted;var A={},W;return G(A,this),A=Jt(A),A._a?(W=A._isUTC?E(A._a):Ln(A._a),this._isDSTShifted=this.isValid()&&qr(A._a,W.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function bn(){return this.isValid()?!this._isUTC:!1}function Yr(){return this.isValid()?this._isUTC:!1}function Ti(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ns=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ms=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Hi(A,W){var de=A,Be=null,wt,Tn,ur;return pi(A)?de={ms:A._milliseconds,d:A._days,M:A._months}:l(A)||!isNaN(+A)?(de={},W?de[W]=+A:de.milliseconds=+A):(Be=ns.exec(A))?(wt=Be[1]==="-"?-1:1,de={y:0,d:yn(Be[ne])*wt,h:yn(Be[we])*wt,m:yn(Be[Qe])*wt,s:yn(Be[it])*wt,ms:yn(ii(Be[Ut]*1e3))*wt}):(Be=ms.exec(A))?(wt=Be[1]==="-"?-1:1,de={y:fs(Be[2],wt),M:fs(Be[3],wt),w:fs(Be[4],wt),d:fs(Be[5],wt),h:fs(Be[6],wt),m:fs(Be[7],wt),s:fs(Be[8],wt)}):de==null?de={}:typeof de=="object"&&("from"in de||"to"in de)&&(ur=le(Ln(de.from),Ln(de.to)),de={},de.ms=ur.milliseconds,de.M=ur.months),Tn=new ni(de),pi(A)&&s(A,"_locale")&&(Tn._locale=A._locale),pi(A)&&s(A,"_isValid")&&(Tn._isValid=A._isValid),Tn}Hi.fn=ni.prototype,Hi.invalid=di;function fs(A,W){var de=A&&parseFloat(A.replace(",","."));return(isNaN(de)?0:de)*W}function hu(A,W){var de={};return de.months=W.month()-A.month()+(W.year()-A.year())*12,A.clone().add(de.months,"M").isAfter(W)&&--de.months,de.milliseconds=+W-+A.clone().add(de.months,"M"),de}function le(A,W){var de;return A.isValid()&&W.isValid()?(W=os(W,A),A.isBefore(W)?de=hu(A,W):(de=hu(W,A),de.milliseconds=-de.milliseconds,de.months=-de.months),de):{milliseconds:0,months:0}}function at(A,W){return function(de,Be){var wt,Tn;return Be!==null&&!isNaN(+Be)&&(Ve(W,"moment()."+W+"(period, number) is deprecated. Please use moment()."+W+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Tn=de,de=Be,Be=Tn),wt=Hi(de,Be),en(this,wt,A),this}}function en(A,W,de,Be){var wt=W._milliseconds,Tn=ii(W._days),ur=ii(W._months);!A.isValid()||(Be=Be??!0,ur&&fe(A,un(A,"Month")+ur*de),Tn&&Mn(A,"Date",un(A,"Date")+Tn*de),wt&&A._d.setTime(A._d.valueOf()+wt*de),Be&&e.updateOffset(A,Tn||ur))}var Dn=at(1,"add"),ir=at(-1,"subtract");function vr(A){return typeof A=="string"||A instanceof String}function fr(A){return I(A)||f(A)||vr(A)||l(A)||_s(A)||es(A)||A===null||A===void 0}function es(A){var W=i(A)&&!o(A),de=!1,Be=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],wt,Tn,ur=Be.length;for(wt=0;wt<ur;wt+=1)Tn=Be[wt],de=de||s(A,Tn);return W&&de}function _s(A){var W=r(A),de=!1;return W&&(de=A.filter(function(Be){return!l(Be)&&vr(A)}).length===0),W&&de}function Ns(A){var W=i(A)&&!o(A),de=!1,Be=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],wt,Tn;for(wt=0;wt<Be.length;wt+=1)Tn=Be[wt],de=de||s(A,Tn);return W&&de}function so(A,W){var de=A.diff(W,"days",!0);return de<-6?"sameElse":de<-1?"lastWeek":de<0?"lastDay":de<1?"sameDay":de<2?"nextDay":de<7?"nextWeek":"sameElse"}function Ja(A,W){arguments.length===1&&(arguments[0]?fr(arguments[0])?(A=arguments[0],W=void 0):Ns(arguments[0])&&(W=arguments[0],A=void 0):(A=void 0,W=void 0));var de=A||Ln(),Be=os(de,this).startOf("day"),wt=e.calendarFormat(this,Be)||"sameElse",Tn=W&&(ot(W[wt])?W[wt].call(this,de):W[wt]);return this.format(Tn||this.localeData().calendar(wt,this,Ln(de)))}function rc(){return new ue(this)}function tf(A,W){var de=I(A)?A:Ln(A);return this.isValid()&&de.isValid()?(W=ct(W)||"millisecond",W==="millisecond"?this.valueOf()>de.valueOf():de.valueOf()<this.clone().startOf(W).valueOf()):!1}function Nc(A,W){var de=I(A)?A:Ln(A);return this.isValid()&&de.isValid()?(W=ct(W)||"millisecond",W==="millisecond"?this.valueOf()<de.valueOf():this.clone().endOf(W).valueOf()<de.valueOf()):!1}function o0(A,W,de,Be){var wt=I(A)?A:Ln(A),Tn=I(W)?W:Ln(W);return this.isValid()&&wt.isValid()&&Tn.isValid()?(Be=Be||"()",(Be[0]==="("?this.isAfter(wt,de):!this.isBefore(wt,de))&&(Be[1]===")"?this.isBefore(Tn,de):!this.isAfter(Tn,de))):!1}function V0(A,W){var de=I(A)?A:Ln(A),Be;return this.isValid()&&de.isValid()?(W=ct(W)||"millisecond",W==="millisecond"?this.valueOf()===de.valueOf():(Be=de.valueOf(),this.clone().startOf(W).valueOf()<=Be&&Be<=this.clone().endOf(W).valueOf())):!1}function ic(A,W){return this.isSame(A,W)||this.isAfter(A,W)}function nf(A,W){return this.isSame(A,W)||this.isBefore(A,W)}function a0(A,W,de){var Be,wt,Tn;if(!this.isValid())return NaN;if(Be=os(A,this),!Be.isValid())return NaN;switch(wt=(Be.utcOffset()-this.utcOffset())*6e4,W=ct(W),W){case"year":Tn=yl(this,Be)/12;break;case"month":Tn=yl(this,Be);break;case"quarter":Tn=yl(this,Be)/3;break;case"second":Tn=(this-Be)/1e3;break;case"minute":Tn=(this-Be)/6e4;break;case"hour":Tn=(this-Be)/36e5;break;case"day":Tn=(this-Be-wt)/864e5;break;case"week":Tn=(this-Be-wt)/6048e5;break;default:Tn=this-Be}return de?Tn:gn(Tn)}function yl(A,W){if(A.date()<W.date())return-yl(W,A);var de=(W.year()-A.year())*12+(W.month()-A.month()),Be=A.clone().add(de,"months"),wt,Tn;return W-Be<0?(wt=A.clone().add(de-1,"months"),Tn=(W-Be)/(Be-wt)):(wt=A.clone().add(de+1,"months"),Tn=(W-Be)/(wt-Be)),-(de+Tn)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Lc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function u0(A){if(!this.isValid())return null;var W=A!==!0,de=W?this.clone().utc():this;return de.year()<0||de.year()>9999?Ct(de,W?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ot(Date.prototype.toISOString)?W?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ct(de,"Z")):Ct(de,W?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function sc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var A="moment",W="",de,Be,wt,Tn;return this.isLocal()||(A=this.utcOffset()===0?"moment.utc":"moment.parseZone",W="Z"),de="["+A+'("]',Be=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",wt="-MM-DD[T]HH:mm:ss.SSS",Tn=W+'[")]',this.format(de+Be+wt+Tn)}function zl(A){A||(A=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var W=Ct(this,A);return this.localeData().postformat(W)}function W0(A,W){return this.isValid()&&(I(A)&&A.isValid()||Ln(A).isValid())?Hi({to:this,from:A}).locale(this.locale()).humanize(!W):this.localeData().invalidDate()}function Ah(A){return this.from(Ln(),A)}function Q0(A,W){return this.isValid()&&(I(A)&&A.isValid()||Ln(A).isValid())?Hi({from:this,to:A}).locale(this.locale()).humanize(!W):this.localeData().invalidDate()}function G0(A){return this.to(Ln(),A)}function rf(A){var W;return A===void 0?this._locale._abbr:(W=Ms(A),W!=null&&(this._locale=W),this)}var Y0=he("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(A){return A===void 0?this.localeData():this.locale(A)});function kc(){return this._locale}var l0=1e3,c0=60*l0,f0=60*c0,qo=(365*400+97)*24*f0;function Xo(A,W){return(A%W+W)%W}function d0(A,W,de){return A<100&&A>=0?new Date(A+400,W,de)-qo:new Date(A,W,de).valueOf()}function vl(A,W,de){return A<100&&A>=0?Date.UTC(A+400,W,de)-qo:Date.UTC(A,W,de)}function sf(A){var W,de;if(A=ct(A),A===void 0||A==="millisecond"||!this.isValid())return this;switch(de=this._isUTC?vl:d0,A){case"year":W=de(this.year(),0,1);break;case"quarter":W=de(this.year(),this.month()-this.month()%3,1);break;case"month":W=de(this.year(),this.month(),1);break;case"week":W=de(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":W=de(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":W=de(this.year(),this.month(),this.date());break;case"hour":W=this._d.valueOf(),W-=Xo(W+(this._isUTC?0:this.utcOffset()*c0),f0);break;case"minute":W=this._d.valueOf(),W-=Xo(W,c0);break;case"second":W=this._d.valueOf(),W-=Xo(W,l0);break}return this._d.setTime(W),e.updateOffset(this,!0),this}function Bd(A){var W,de;if(A=ct(A),A===void 0||A==="millisecond"||!this.isValid())return this;switch(de=this._isUTC?vl:d0,A){case"year":W=de(this.year()+1,0,1)-1;break;case"quarter":W=de(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":W=de(this.year(),this.month()+1,1)-1;break;case"week":W=de(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":W=de(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":W=de(this.year(),this.month(),this.date()+1)-1;break;case"hour":W=this._d.valueOf(),W+=f0-Xo(W+(this._isUTC?0:this.utcOffset()*c0),f0)-1;break;case"minute":W=this._d.valueOf(),W+=c0-Xo(W,c0)-1;break;case"second":W=this._d.valueOf(),W+=l0-Xo(W,l0)-1;break}return this._d.setTime(W),e.updateOffset(this,!0),this}function Du(){return this._d.valueOf()-(this._offset||0)*6e4}function vo(){return Math.floor(this.valueOf()/1e3)}function Th(){return new Date(this.valueOf())}function _l(){var A=this;return[A.year(),A.month(),A.date(),A.hour(),A.minute(),A.second(),A.millisecond()]}function ks(){var A=this;return{years:A.year(),months:A.month(),date:A.date(),hours:A.hours(),minutes:A.minutes(),seconds:A.seconds(),milliseconds:A.milliseconds()}}function bl(){return this.isValid()?this.toISOString():null}function k(){return z(this)}function Z(){return _({},R(this))}function qe(){return R(this).overflow}function kt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Je("N",0,0,"eraAbbr"),Je("NN",0,0,"eraAbbr"),Je("NNN",0,0,"eraAbbr"),Je("NNNN",0,0,"eraName"),Je("NNNNN",0,0,"eraNarrow"),Je("y",["y",1],"yo","eraYear"),Je("y",["yy",2],0,"eraYear"),Je("y",["yyy",3],0,"eraYear"),Je("y",["yyyy",4],0,"eraYear"),Rt("N",Qr),Rt("NN",Qr),Rt("NNN",Qr),Rt("NNNN",Gs),Rt("NNNNN",Uo),Te(["N","NN","NNN","NNNN","NNNNN"],function(A,W,de,Be){var wt=de._locale.erasParse(A,Be,de._strict);wt?R(de).era=wt:R(de).invalidEra=A}),Rt("y",Nn),Rt("yy",Nn),Rt("yyy",Nn),Rt("yyyy",Nn),Rt("yo",ga),Te(["y","yy","yyy","yyyy"],Et),Te(["yo"],function(A,W,de,Be){var wt;de._locale._eraYearOrdinalRegex&&(wt=A.match(de._locale._eraYearOrdinalRegex)),de._locale.eraYearOrdinalParse?W[Et]=de._locale.eraYearOrdinalParse(A,wt):W[Et]=parseInt(A,10)});function Vt(A,W){var de,Be,wt,Tn=this._eras||Ms("en")._eras;for(de=0,Be=Tn.length;de<Be;++de){switch(typeof Tn[de].since){case"string":wt=e(Tn[de].since).startOf("day"),Tn[de].since=wt.valueOf();break}switch(typeof Tn[de].until){case"undefined":Tn[de].until=1/0;break;case"string":wt=e(Tn[de].until).startOf("day").valueOf(),Tn[de].until=wt.valueOf();break}}return Tn}function An(A,W,de){var Be,wt,Tn=this.eras(),ur,$i,Bi;for(A=A.toUpperCase(),Be=0,wt=Tn.length;Be<wt;++Be)if(ur=Tn[Be].name.toUpperCase(),$i=Tn[Be].abbr.toUpperCase(),Bi=Tn[Be].narrow.toUpperCase(),de)switch(W){case"N":case"NN":case"NNN":if($i===A)return Tn[Be];break;case"NNNN":if(ur===A)return Tn[Be];break;case"NNNNN":if(Bi===A)return Tn[Be];break}else if([ur,$i,Bi].indexOf(A)>=0)return Tn[Be]}function kn(A,W){var de=A.since<=A.until?1:-1;return W===void 0?e(A.since).year():e(A.since).year()+(W-A.offset)*de}function sr(){var A,W,de,Be=this.localeData().eras();for(A=0,W=Be.length;A<W;++A)if(de=this.clone().startOf("day").valueOf(),Be[A].since<=de&&de<=Be[A].until||Be[A].until<=de&&de<=Be[A].since)return Be[A].name;return""}function hr(){var A,W,de,Be=this.localeData().eras();for(A=0,W=Be.length;A<W;++A)if(de=this.clone().startOf("day").valueOf(),Be[A].since<=de&&de<=Be[A].until||Be[A].until<=de&&de<=Be[A].since)return Be[A].narrow;return""}function Nr(){var A,W,de,Be=this.localeData().eras();for(A=0,W=Be.length;A<W;++A)if(de=this.clone().startOf("day").valueOf(),Be[A].since<=de&&de<=Be[A].until||Be[A].until<=de&&de<=Be[A].since)return Be[A].abbr;return""}function rt(){var A,W,de,Be,wt=this.localeData().eras();for(A=0,W=wt.length;A<W;++A)if(de=wt[A].since<=wt[A].until?1:-1,Be=this.clone().startOf("day").valueOf(),wt[A].since<=Be&&Be<=wt[A].until||wt[A].until<=Be&&Be<=wt[A].since)return(this.year()-e(wt[A].since).year())*de+wt[A].offset;return this.year()}function Fi(A){return s(this,"_erasNameRegex")||po.call(this),A?this._erasNameRegex:this._erasRegex}function Qi(A){return s(this,"_erasAbbrRegex")||po.call(this),A?this._erasAbbrRegex:this._erasRegex}function Li(A){return s(this,"_erasNarrowRegex")||po.call(this),A?this._erasNarrowRegex:this._erasRegex}function Qr(A,W){return W.erasAbbrRegex(A)}function Gs(A,W){return W.erasNameRegex(A)}function Uo(A,W){return W.erasNarrowRegex(A)}function ga(A,W){return W._eraYearOrdinalRegex||Nn}function po(){var A=[],W=[],de=[],Be=[],wt,Tn,ur=this.eras();for(wt=0,Tn=ur.length;wt<Tn;++wt)W.push(ft(ur[wt].name)),A.push(ft(ur[wt].abbr)),de.push(ft(ur[wt].narrow)),Be.push(ft(ur[wt].name)),Be.push(ft(ur[wt].abbr)),Be.push(ft(ur[wt].narrow));this._erasRegex=new RegExp("^("+Be.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+W.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+A.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+de.join("|")+")","i")}Je(0,["gg",2],0,function(){return this.weekYear()%100}),Je(0,["GG",2],0,function(){return this.isoWeekYear()%100});function La(A,W){Je(0,[A,A.length],0,W)}La("gggg","weekYear"),La("ggggg","weekYear"),La("GGGG","isoWeekYear"),La("GGGGG","isoWeekYear"),Ne("weekYear","gg"),Ne("isoWeekYear","GG"),Yt("weekYear",1),Yt("isoWeekYear",1),Rt("G",nr),Rt("g",nr),Rt("GG",mt,He),Rt("gg",mt,He),Rt("GGGG",Wn,Bt),Rt("gggg",Wn,Bt),Rt("GGGGG",Zn,pt),Rt("ggggg",Zn,pt),Ue(["gggg","ggggg","GGGG","GGGGG"],function(A,W,de,Be){W[Be.substr(0,2)]=yn(A)}),Ue(["gg","GG"],function(A,W,de,Be){W[Be]=e.parseTwoDigitYear(A)});function oc(A){return af.call(this,A,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Hl(A){return af.call(this,A,this.isoWeek(),this.isoWeekday(),1,4)}function ka(){return qn(this.year(),1,4)}function ac(){return qn(this.isoWeekYear(),1,4)}function ya(){var A=this.localeData()._week;return qn(this.year(),A.dow,A.doy)}function of(){var A=this.localeData()._week;return qn(this.weekYear(),A.dow,A.doy)}function af(A,W,de,Be,wt){var Tn;return A==null?mn(this,Be,wt).year:(Tn=qn(A,Be,wt),W>Tn&&(W=Tn),el.call(this,A,W,de,Be,wt))}function el(A,W,de,Be,wt){var Tn=Xt(A,W,de,Be,wt),ur=Ft(Tn.year,0,Tn.dayOfYear);return this.year(ur.getUTCFullYear()),this.month(ur.getUTCMonth()),this.date(ur.getUTCDate()),this}Je("Q",0,"Qo","quarter"),Ne("quarter","Q"),Yt("quarter",7),Rt("Q",Re),Te("Q",function(A,W){W[Nt]=(yn(A)-1)*3});function uc(A){return A==null?Math.ceil((this.month()+1)/3):this.month((A-1)*3+this.month()%3)}Je("D",["DD",2],"Do","date"),Ne("date","D"),Yt("date",9),Rt("D",mt),Rt("DD",mt,He),Rt("Do",function(A,W){return A?W._dayOfMonthOrdinalParse||W._ordinalParse:W._dayOfMonthOrdinalParseLenient}),Te(["D","DD"],ne),Te("Do",function(A,W){W[ne]=yn(A.match(mt)[0])});var j1=It("Date",!0);Je("DDD",["DDDD",3],"DDDo","dayOfYear"),Ne("dayOfYear","DDD"),Yt("dayOfYear",4),Rt("DDD",Fn),Rt("DDDD",De),Te(["DDD","DDDD"],function(A,W,de){de._dayOfYear=yn(A)});function Ic(A){var W=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return A==null?W:this.add(A-W,"d")}Je("m",["mm",2],0,"minute"),Ne("minute","m"),Yt("minute",14),Rt("m",mt),Rt("mm",mt,He),Te(["m","mm"],Qe);var Xm=It("Minutes",!1);Je("s",["ss",2],0,"second"),Ne("second","s"),Yt("second",15),Rt("s",mt),Rt("ss",mt,He),Te(["s","ss"],it);var Vl=It("Seconds",!1);Je("S",0,0,function(){return~~(this.millisecond()/100)}),Je(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Je(0,["SSS",3],0,"millisecond"),Je(0,["SSSS",4],0,function(){return this.millisecond()*10}),Je(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Je(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Je(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Je(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Je(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ne("millisecond","ms"),Yt("millisecond",16),Rt("S",Fn,Re),Rt("SS",Fn,He),Rt("SSS",Fn,De);var Df,Mc;for(Df="SSSS";Df.length<=9;Df+="S")Rt(Df,Nn);function jr(A,W){W[Ut]=yn(("0."+A)*1e3)}for(Df="S";Df.length<=9;Df+="S")Te(Df,jr);Mc=It("Milliseconds",!1),Je("z",0,0,"zoneAbbr"),Je("zz",0,0,"zoneName");function K0(){return this._isUTC?"UTC":""}function J0(){return this._isUTC?"Coordinated Universal Time":""}var $r=ue.prototype;$r.add=Dn,$r.calendar=Ja,$r.clone=rc,$r.diff=a0,$r.endOf=Bd,$r.format=zl,$r.from=W0,$r.fromNow=Ah,$r.to=Q0,$r.toNow=G0,$r.get=tr,$r.invalidAt=qe,$r.isAfter=tf,$r.isBefore=Nc,$r.isBetween=o0,$r.isSame=V0,$r.isSameOrAfter=ic,$r.isSameOrBefore=nf,$r.isValid=k,$r.lang=Y0,$r.locale=rf,$r.localeData=kc,$r.max=$n,$r.min=Kn,$r.parsingFlags=Z,$r.set=Rn,$r.startOf=sf,$r.subtract=ir,$r.toArray=_l,$r.toObject=ks,$r.toDate=Th,$r.toISOString=u0,$r.inspect=sc,typeof Symbol!="undefined"&&Symbol.for!=null&&($r[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),$r.toJSON=bl,$r.toString=Lc,$r.unix=vo,$r.valueOf=Du,$r.creationData=kt,$r.eraName=sr,$r.eraNarrow=hr,$r.eraAbbr=Nr,$r.eraYear=rt,$r.year=ee,$r.isLeapYear=Ee,$r.weekYear=oc,$r.isoWeekYear=Hl,$r.quarter=$r.quarters=uc,$r.month=Ge,$r.daysInMonth=Mt,$r.week=$r.weeks=yr,$r.isoWeek=$r.isoWeeks=Mr,$r.weeksInYear=ya,$r.weeksInWeekYear=of,$r.isoWeeksInYear=ka,$r.isoWeeksInISOWeekYear=ac,$r.date=j1,$r.day=$r.days=ea,$r.weekday=Xu,$r.isoWeekday=ef,$r.dayOfYear=Ic,$r.hour=$r.hours=us,$r.minute=$r.minutes=Xm,$r.second=$r.seconds=Vl,$r.millisecond=$r.milliseconds=Mc,$r.utcOffset=vi,$r.utc=ss,$r.local=xa,$r.parseZone=Ro,$r.hasAlignedHourOffset=As,$r.isDST=tn,$r.isLocal=bn,$r.isUtcOffset=Yr,$r.isUtc=Ti,$r.isUTC=Ti,$r.zoneAbbr=K0,$r.zoneName=J0,$r.dates=he("dates accessor is deprecated. Use date instead.",j1),$r.months=he("months accessor is deprecated. Use month instead",Ge),$r.years=he("years accessor is deprecated. Use year instead",ee),$r.zone=he("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ps),$r.isDSTShifted=he("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Jn);function El(A){return Ln(A*1e3)}function q1(){return Ln.apply(null,arguments).parseZone()}function cp(A){return A}var _o=bt.prototype;_o.calendar=te,_o.longDateFormat=Ot,_o.invalidDate=St,_o.ordinal=Se,_o.preparse=cp,_o.postformat=cp,_o.relativeTime=tt,_o.pastFuture=Ie,_o.set=lt,_o.eras=Vt,_o.erasParse=An,_o.erasConvertYear=kn,_o.erasAbbrRegex=Qi,_o.erasNameRegex=Fi,_o.erasNarrowRegex=Li,_o.months=be,_o.monthsShort=xe,_o.monthsParse=ae,_o.monthsRegex=dn,_o.monthsShortRegex=At,_o.week=Un,_o.firstDayOfYear=Vr,_o.firstDayOfWeek=Jr,_o.weekdays=lu,_o.weekdaysMin=Ju,_o.weekdaysShort=cu,_o.weekdaysParse=Rc,_o.weekdaysRegex=Ye,_o.weekdaysShortRegex=Kt,_o.weekdaysMinRegex=Bn,_o.isPM=co,_o.meridiem=io;function X0(A,W,de,Be){var wt=Ms(),Tn=E().set(Be,W);return wt[de](Tn,A)}function jd(A,W,de){if(l(A)&&(W=A,A=void 0),A=A||"",W!=null)return X0(A,W,de,"month");var Be,wt=[];for(Be=0;Be<12;Be++)wt[Be]=X0(A,Be,de,"month");return wt}function Z0(A,W,de,Be){typeof A=="boolean"?(l(W)&&(de=W,W=void 0),W=W||""):(W=A,de=W,A=!1,l(W)&&(de=W,W=void 0),W=W||"");var wt=Ms(),Tn=A?wt._week.dow:0,ur,$i=[];if(de!=null)return X0(W,(de+Tn)%7,Be,"day");for(ur=0;ur<7;ur++)$i[ur]=X0(W,(ur+Tn)%7,Be,"day");return $i}function uf(A,W){return jd(A,W,"months")}function Wx(A,W){return jd(A,W,"monthsShort")}function Qx(A,W,de){return Z0(A,W,de,"weekdays")}function Fh(A,W,de){return Z0(A,W,de,"weekdaysShort")}function lf(A,W,de){return Z0(A,W,de,"weekdaysMin")}ps("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(A){var W=A%10,de=yn(A%100/10)===1?"th":W===1?"st":W===2?"nd":W===3?"rd":"th";return A+de}}),e.lang=he("moment.lang is deprecated. Use moment.locale instead.",ps),e.langData=he("moment.langData is deprecated. Use moment.localeData instead.",Ms);var tl=Math.abs;function qd(){var A=this._data;return this._milliseconds=tl(this._milliseconds),this._days=tl(this._days),this._months=tl(this._months),A.milliseconds=tl(A.milliseconds),A.seconds=tl(A.seconds),A.minutes=tl(A.minutes),A.hours=tl(A.hours),A.months=tl(A.months),A.years=tl(A.years),this}function fp(A,W,de,Be){var wt=Hi(W,de);return A._milliseconds+=Be*wt._milliseconds,A._days+=Be*wt._days,A._months+=Be*wt._months,A._bubble()}function U1(A,W){return fp(this,A,W,1)}function nl(A,W){return fp(this,A,W,-1)}function ed(A){return A<0?Math.floor(A):Math.ceil(A)}function Of(){var A=this._milliseconds,W=this._days,de=this._months,Be=this._data,wt,Tn,ur,$i,Bi;return A>=0&&W>=0&&de>=0||A<=0&&W<=0&&de<=0||(A+=ed(dp(de)+W)*864e5,W=0,de=0),Be.milliseconds=A%1e3,wt=gn(A/1e3),Be.seconds=wt%60,Tn=gn(wt/60),Be.minutes=Tn%60,ur=gn(Tn/60),Be.hours=ur%24,W+=gn(ur/24),Bi=gn(Sl(W)),de+=Bi,W-=ed(dp(Bi)),$i=gn(de/12),de%=12,Be.days=W,Be.months=de,Be.years=$i,this}function Sl(A){return A*4800/146097}function dp(A){return A*146097/4800}function pu(A){if(!this.isValid())return NaN;var W,de,Be=this._milliseconds;if(A=ct(A),A==="month"||A==="quarter"||A==="year")switch(W=this._days+Be/864e5,de=this._months+Sl(W),A){case"month":return de;case"quarter":return de/3;case"year":return de/12}else switch(W=this._days+Math.round(dp(this._months)),A){case"week":return W/7+Be/6048e5;case"day":return W+Be/864e5;case"hour":return W*24+Be/36e5;case"minute":return W*1440+Be/6e4;case"second":return W*86400+Be/1e3;case"millisecond":return Math.floor(W*864e5)+Be;default:throw new Error("Unknown unit "+A)}}function $1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+yn(this._months/12)*31536e6:NaN}function rl(A){return function(){return this.as(A)}}var Pc=rl("ms"),Dh=rl("s"),Ud=rl("m"),cf=rl("h"),Oh=rl("d"),hp=rl("w"),$a=rl("M"),Rh=rl("Q"),td=rl("y");function Ia(){return Hi(this)}function Nh(A){return A=ct(A),this.isValid()?this[A+"s"]():NaN}function Ou(A){return function(){return this.isValid()?this._data[A]:NaN}}var Xa=Ou("milliseconds"),Lh=Ou("seconds"),va=Ou("minutes"),kh=Ou("hours"),pp=Ou("days"),h0=Ou("months"),nd=Ou("years");function ff(){return gn(this.days()/7)}var Wl=Math.round,Ru={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function mp(A,W,de,Be,wt){return wt.relativeTime(W||1,!!de,A,Be)}function il(A,W,de,Be){var wt=Hi(A).abs(),Tn=Wl(wt.as("s")),ur=Wl(wt.as("m")),$i=Wl(wt.as("h")),Bi=Wl(wt.as("d")),oo=Wl(wt.as("M")),mu=Wl(wt.as("w")),Bc=Wl(wt.as("y")),Nf=Tn<=de.ss&&["s",Tn]||Tn<de.s&&["ss",Tn]||ur<=1&&["m"]||ur<de.m&&["mm",ur]||$i<=1&&["h"]||$i<de.h&&["hh",$i]||Bi<=1&&["d"]||Bi<de.d&&["dd",Bi];return de.w!=null&&(Nf=Nf||mu<=1&&["w"]||mu<de.w&&["ww",mu]),Nf=Nf||oo<=1&&["M"]||oo<de.M&&["MM",oo]||Bc<=1&&["y"]||["yy",Bc],Nf[2]=W,Nf[3]=+A>0,Nf[4]=Be,mp.apply(null,Nf)}function Ih(A){return A===void 0?Wl:typeof A=="function"?(Wl=A,!0):!1}function $d(A,W){return Ru[A]===void 0?!1:W===void 0?Ru[A]:(Ru[A]=W,A==="s"&&(Ru.ss=W-1),!0)}function Zm(A,W){if(!this.isValid())return this.localeData().invalidDate();var de=!1,Be=Ru,wt,Tn;return typeof A=="object"&&(W=A,A=!1),typeof A=="boolean"&&(de=A),typeof W=="object"&&(Be=Object.assign({},Ru,W),W.s!=null&&W.ss==null&&(Be.ss=W.s-1)),wt=this.localeData(),Tn=il(this,!de,Be,wt),de&&(Tn=wt.pastFuture(+this,Tn)),wt.postformat(Tn)}var xp=Math.abs;function Rf(A){return(A>0)-(A<0)||+A}function rd(){if(!this.isValid())return this.localeData().invalidDate();var A=xp(this._milliseconds)/1e3,W=xp(this._days),de=xp(this._months),Be,wt,Tn,ur,$i=this.asSeconds(),Bi,oo,mu,Bc;return $i?(Be=gn(A/60),wt=gn(Be/60),A%=60,Be%=60,Tn=gn(de/12),de%=12,ur=A?A.toFixed(3).replace(/\.?0+$/,""):"",Bi=$i<0?"-":"",oo=Rf(this._months)!==Rf($i)?"-":"",mu=Rf(this._days)!==Rf($i)?"-":"",Bc=Rf(this._milliseconds)!==Rf($i)?"-":"",Bi+"P"+(Tn?oo+Tn+"Y":"")+(de?oo+de+"M":"")+(W?mu+W+"D":"")+(wt||Be||A?"T":"")+(wt?Bc+wt+"H":"")+(Be?Bc+Be+"M":"")+(A?Bc+ur+"S":"")):"P0D"}var Js=ni.prototype;Js.isValid=Rr,Js.abs=qd,Js.add=U1,Js.subtract=nl,Js.as=pu,Js.asMilliseconds=Pc,Js.asSeconds=Dh,Js.asMinutes=Ud,Js.asHours=cf,Js.asDays=Oh,Js.asWeeks=hp,Js.asMonths=$a,Js.asQuarters=Rh,Js.asYears=td,Js.valueOf=$1,Js._bubble=Of,Js.clone=Ia,Js.get=Nh,Js.milliseconds=Xa,Js.seconds=Lh,Js.minutes=va,Js.hours=kh,Js.days=pp,Js.weeks=ff,Js.months=h0,Js.years=nd,Js.humanize=Zm,Js.toISOString=rd,Js.toString=rd,Js.toJSON=rd,Js.locale=rf,Js.localeData=kc,Js.toIsoString=he("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rd),Js.lang=Y0,Je("X",0,0,"unix"),Je("x",0,0,"valueOf"),Rt("x",nr),Rt("X",oe),Te("X",function(A,W,de){de._d=new Date(parseFloat(A)*1e3)}),Te("x",function(A,W,de){de._d=new Date(yn(A))});return e.version="2.29.4",t(Ln),e.fn=$r,e.min=Cr,e.max=Gn,e.now=ar,e.utc=E,e.unix=El,e.months=uf,e.isDate=f,e.locale=ps,e.invalid=L,e.duration=Hi,e.isMoment=I,e.weekdays=Qx,e.parseZone=q1,e.localeData=Ms,e.isDuration=pi,e.monthsShort=Wx,e.weekdaysMin=lf,e.defineLocale=Zi,e.updateLocale=fu,e.locales=ma,e.weekdaysShort=Fh,e.normalizeUnits=ct,e.relativeTimeRounding=Ih,e.relativeTimeThreshold=$d,e.calendarFormat=so,e.prototype=$r,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Au=Ae((RH,zFe)=>{m();(function(n,e){typeof RH=="object"&&typeof zFe!="undefined"?e(RH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(RH,function(n){"use strict";function e(ie,Te,Ue){return ie.fields=Te||[],ie.fname=Ue,ie}function t(ie){return ie==null?null:ie.fname}function r(ie){return ie==null?null:ie.fields}function i(ie){return ie.length===1?s(ie[0]):o(ie)}let s=ie=>function(Te){return Te[ie]},o=ie=>{let Te=ie.length;return function(Ue){for(let xt=0;xt<Te;++xt)Ue=Ue[ie[xt]];return Ue}};function a(ie){throw Error(ie)}function l(ie){let Te=[],Ue=ie.length,xt=null,Et=0,Nt="",ne,we,Qe;ie=ie+"";function it(){Te.push(Nt+ie.substring(ne,we)),Nt="",ne=we+1}for(ne=we=0;we<Ue;++we)if(Qe=ie[we],Qe==="\\")Nt+=ie.substring(ne,we),Nt+=ie.substring(++we,++we),ne=we;else if(Qe===xt)it(),xt=null,Et=-1;else{if(xt)continue;ne===Et&&Qe==='"'||ne===Et&&Qe==="'"?(ne=we+1,xt=Qe):Qe==="."&&!Et?we>ne?it():ne=we+1:Qe==="["?(we>ne&&it(),Et=ne=we+1):Qe==="]"&&(Et||a("Access path missing open bracket: "+ie),Et>0&&it(),Et=0,ne=we+1)}return Et&&a("Access path missing closing bracket: "+ie),xt&&a("Access path missing closing quote: "+ie),we>ne&&(we++,it()),Te}function f(ie,Te,Ue){let xt=l(ie);return ie=xt.length===1?xt[0]:ie,e((Ue&&Ue.get||i)(xt),[ie],Te||ie)}let p=f("id"),_=e(ie=>ie,[],"identity"),E=e(()=>0,[],"zero"),O=e(()=>1,[],"one"),R=e(()=>!0,[],"true"),q=e(()=>!1,[],"false");function z(ie,Te,Ue){let xt=[Te].concat([].slice.call(Ue));console[ie].apply(console,xt)}let L=0,B=1,P=2,G=3,ue=4;function I(ie,Te,Ue=z){let xt=ie||L;return{level(Et){return arguments.length?(xt=+Et,this):xt},error(){return xt>=B&&Ue(Te||"error","ERROR",arguments),this},warn(){return xt>=P&&Ue(Te||"warn","WARN",arguments),this},info(){return xt>=G&&Ue(Te||"log","INFO",arguments),this},debug(){return xt>=ue&&Ue(Te||"log","DEBUG",arguments),this}}}var J=Array.isArray;function he(ie){return ie===Object(ie)}let ve=ie=>ie!=="__proto__";function Ve(...ie){return ie.reduce((Te,Ue)=>{for(let xt in Ue)if(xt==="signals")Te.signals=lt(Te.signals,Ue.signals);else{let Et=xt==="legend"?{layout:1}:xt==="style"?!0:null;ot(Te,xt,Ue[xt],Et)}return Te},{})}function ot(ie,Te,Ue,xt){if(!ve(Te))return;let Et,Nt;if(he(Ue)&&!J(Ue)){Nt=he(ie[Te])?ie[Te]:ie[Te]={};for(Et in Ue)xt&&(xt===!0||xt[Et])?ot(Nt,Et,Ue[Et]):ve(Et)&&(Nt[Et]=Ue[Et])}else ie[Te]=Ue}function lt(ie,Te){if(ie==null)return Te;let Ue={},xt=[];function Et(Nt){Ue[Nt.name]||(Ue[Nt.name]=1,xt.push(Nt))}return Te.forEach(Et),ie.forEach(Et),xt}function et(ie){return ie[ie.length-1]}function bt(ie){return ie==null||ie===""?null:+ie}let Pt=ie=>Te=>ie*Math.exp(Te),$e=ie=>Te=>Math.log(ie*Te),te=ie=>Te=>Math.sign(Te)*Math.log1p(Math.abs(Te/ie)),Ze=ie=>Te=>Math.sign(Te)*Math.expm1(Math.abs(Te))*ie,ye=ie=>Te=>Te<0?-Math.pow(-Te,ie):Math.pow(Te,ie);function Le(ie,Te,Ue,xt){let Et=Ue(ie[0]),Nt=Ue(et(ie)),ne=(Nt-Et)*Te;return[xt(Et-ne),xt(Nt-ne)]}function Ce(ie,Te){return Le(ie,Te,bt,_)}function pe(ie,Te){var Ue=Math.sign(ie[0]);return Le(ie,Te,$e(Ue),Pt(Ue))}function Je(ie,Te,Ue){return Le(ie,Te,ye(Ue),ye(1/Ue))}function ut(ie,Te,Ue){return Le(ie,Te,te(Ue),Ze(Ue))}function Ht(ie,Te,Ue,xt,Et){let Nt=xt(ie[0]),ne=xt(et(ie)),we=Te!=null?xt(Te):(Nt+ne)/2;return[Et(we+(Nt-we)*Ue),Et(we+(ne-we)*Ue)]}function Ct(ie,Te,Ue){return Ht(ie,Te,Ue,bt,_)}function xn(ie,Te,Ue){let xt=Math.sign(ie[0]);return Ht(ie,Te,Ue,$e(xt),Pt(xt))}function Tt(ie,Te,Ue,xt){return Ht(ie,Te,Ue,ye(xt),ye(1/xt))}function Ot(ie,Te,Ue,xt){return Ht(ie,Te,Ue,te(xt),Ze(xt))}function rn(ie){return 1+~~(new Date(ie).getMonth()/3)}function St(ie){return 1+~~(new Date(ie).getUTCMonth()/3)}function _e(ie){return ie!=null?J(ie)?ie:[ie]:[]}function ke(ie,Te,Ue){let xt=ie[0],Et=ie[1],Nt;return Et<xt&&(Nt=Et,Et=xt,xt=Nt),Nt=Et-xt,Nt>=Ue-Te?[Te,Ue]:[xt=Math.min(Math.max(xt,Te),Ue-Nt),xt+Nt]}function Se(ie){return typeof ie=="function"}let ce="descending";function tt(ie,Te,Ue){Ue=Ue||{},Te=_e(Te)||[];let xt=[],Et=[],Nt={},ne=Ue.comparator||re;return _e(ie).forEach((we,Qe)=>{we!=null&&(xt.push(Te[Qe]===ce?-1:1),Et.push(we=Se(we)?we:f(we,null,Ue)),(r(we)||[]).forEach(it=>Nt[it]=1))}),Et.length===0?null:e(ne(Et,xt),Object.keys(Nt))}let Ie=(ie,Te)=>(ie<Te||ie==null)&&Te!=null?-1:(ie>Te||Te==null)&&ie!=null?1:(Te=Te instanceof Date?+Te:Te,(ie=ie instanceof Date?+ie:ie)!==ie&&Te===Te?-1:Te!==Te&&ie===ie?1:0),re=(ie,Te)=>ie.length===1?Ne(ie[0],Te[0]):ct(ie,Te,ie.length),Ne=(ie,Te)=>function(Ue,xt){return Ie(ie(Ue),ie(xt))*Te},ct=(ie,Te,Ue)=>(Te.push(0),function(xt,Et){let Nt,ne=0,we=-1;for(;ne===0&&++we<Ue;)Nt=ie[we],ne=Ie(Nt(xt),Nt(Et));return ne*Te[we]});function _t(ie){return Se(ie)?ie:()=>ie}function Lt(ie,Te){let Ue;return xt=>{Ue&&clearTimeout(Ue),Ue=setTimeout(()=>(Te(xt),Ue=null),ie)}}function Yt(ie){for(let Te,Ue,xt=1,Et=arguments.length;xt<Et;++xt){Te=arguments[xt];for(Ue in Te)ie[Ue]=Te[Ue]}return ie}function Gt(ie,Te){let Ue=0,xt,Et,Nt,ne;if(ie&&(xt=ie.length))if(Te==null){for(Et=ie[Ue];Ue<xt&&(Et==null||Et!==Et);Et=ie[++Ue]);for(Nt=ne=Et;Ue<xt;++Ue)Et=ie[Ue],Et!=null&&(Et<Nt&&(Nt=Et),Et>ne&&(ne=Et))}else{for(Et=Te(ie[Ue]);Ue<xt&&(Et==null||Et!==Et);Et=Te(ie[++Ue]));for(Nt=ne=Et;Ue<xt;++Ue)Et=Te(ie[Ue]),Et!=null&&(Et<Nt&&(Nt=Et),Et>ne&&(ne=Et))}return[Nt,ne]}function fn(ie,Te){let Ue=ie.length,xt=-1,Et,Nt,ne,we,Qe;if(Te==null){for(;++xt<Ue;)if(Nt=ie[xt],Nt!=null&&Nt>=Nt){Et=ne=Nt;break}if(xt===Ue)return[-1,-1];for(we=Qe=xt;++xt<Ue;)Nt=ie[xt],Nt!=null&&(Et>Nt&&(Et=Nt,we=xt),ne<Nt&&(ne=Nt,Qe=xt))}else{for(;++xt<Ue;)if(Nt=Te(ie[xt],xt,ie),Nt!=null&&Nt>=Nt){Et=ne=Nt;break}if(xt===Ue)return[-1,-1];for(we=Qe=xt;++xt<Ue;)Nt=Te(ie[xt],xt,ie),Nt!=null&&(Et>Nt&&(Et=Nt,we=xt),ne<Nt&&(ne=Nt,Qe=xt))}return[we,Qe]}let gn=Object.prototype.hasOwnProperty;function yn(ie,Te){return gn.call(ie,Te)}let It={};function un(ie){let Te={},Ue;function xt(Nt){return yn(Te,Nt)&&Te[Nt]!==It}let Et={size:0,empty:0,object:Te,has:xt,get(Nt){return xt(Nt)?Te[Nt]:void 0},set(Nt,ne){return xt(Nt)||(++Et.size,Te[Nt]===It&&--Et.empty),Te[Nt]=ne,this},delete(Nt){return xt(Nt)&&(--Et.size,++Et.empty,Te[Nt]=It),this},clear(){Et.size=Et.empty=0,Et.object=Te={}},test(Nt){return arguments.length?(Ue=Nt,Et):Ue},clean(){let Nt={},ne=0;for(let we in Te){let Qe=Te[we];Qe!==It&&(!Ue||!Ue(Qe))&&(Nt[we]=Qe,++ne)}Et.size=ne,Et.empty=0,Et.object=Te=Nt}};return ie&&Object.keys(ie).forEach(Nt=>{Et.set(Nt,ie[Nt])}),Et}function Mn(ie,Te,Ue,xt,Et,Nt){if(!Ue&&Ue!==0)return Nt;let ne=+Ue,we=ie[0],Qe=et(ie),it;Qe<we&&(it=we,we=Qe,Qe=it),it=Math.abs(Te-we);let Ut=Math.abs(Qe-Te);return it<Ut&&it<=ne?xt:Ut<=ne?Et:Nt}function tr(ie,Te,Ue){let xt=ie.prototype=Object.create(Te.prototype);return Object.defineProperty(xt,"constructor",{value:ie,writable:!0,enumerable:!0,configurable:!0}),Yt(xt,Ue)}function Rn(ie,Te,Ue,xt){let Et=Te[0],Nt=Te[Te.length-1],ne;return Et>Nt&&(ne=Et,Et=Nt,Nt=ne),Ue=Ue===void 0||Ue,xt=xt===void 0||xt,(Ue?Et<=ie:Et<ie)&&(xt?ie<=Nt:ie<Nt)}function Re(ie){return typeof ie=="boolean"}function He(ie){return Object.prototype.toString.call(ie)==="[object Date]"}function De(ie){return ie&&Se(ie[Symbol.iterator])}function Bt(ie){return typeof ie=="number"}function pt(ie){return Object.prototype.toString.call(ie)==="[object RegExp]"}function mt(ie){return typeof ie=="string"}function nn(ie,Te,Ue){ie&&(ie=Te?_e(ie).map(we=>we.replace(/\\(.)/g,"$1")):_e(ie));let xt=ie&&ie.length,Et=Ue&&Ue.get||i,Nt=we=>Et(Te?[we]:l(we)),ne;if(!xt)ne=function(){return""};else if(xt===1){let we=Nt(ie[0]);ne=function(Qe){return""+we(Qe)}}else{let we=ie.map(Nt);ne=function(Qe){let it=""+we[0](Qe),Ut=0;for(;++Ut<xt;)it+="|"+we[Ut](Qe);return it}}return e(ne,ie,"key")}function Qt(ie,Te){let Ue=ie[0],xt=et(ie),Et=+Te;return Et?Et===1?xt:Ue+Et*(xt-Ue):Ue}let Fn=1e4;function Wn(ie){ie=+ie||Fn;let Te,Ue,xt,Et=()=>{Te={},Ue={},xt=0},Nt=(ne,we)=>(++xt>ie&&(Ue=Te,Te={},xt=1),Te[ne]=we);return Et(),{clear:Et,has:ne=>yn(Te,ne)||yn(Ue,ne),get:ne=>yn(Te,ne)?Te[ne]:yn(Ue,ne)?Nt(ne,Ue[ne]):void 0,set:(ne,we)=>yn(Te,ne)?Te[ne]=we:Nt(ne,we)}}function Zn(ie,Te,Ue,xt){let Et=Te.length,Nt=Ue.length;if(!Nt)return Te;if(!Et)return Ue;let ne=xt||new Te.constructor(Et+Nt),we=0,Qe=0,it=0;for(;we<Et&&Qe<Nt;++it)ne[it]=ie(Te[we],Ue[Qe])>0?Ue[Qe++]:Te[we++];for(;we<Et;++we,++it)ne[it]=Te[we];for(;Qe<Nt;++Qe,++it)ne[it]=Ue[Qe];return ne}function Nn(ie,Te){let Ue="";for(;--Te>=0;)Ue+=ie;return Ue}function nr(ie,Te,Ue,xt){let Et=Ue||" ",Nt=ie+"",ne=Te-Nt.length;return ne<=0?Nt:xt==="left"?Nn(Et,ne)+Nt:xt==="center"?Nn(Et,~~(ne/2))+Nt+Nn(Et,Math.ceil(ne/2)):Nt+Nn(Et,ne)}function Ke(ie){return ie&&et(ie)-ie[0]||0}function yt(ie){return J(ie)?"["+ie.map(yt)+"]":he(ie)||mt(ie)?JSON.stringify(ie).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):ie}function oe(ie){return ie==null||ie===""?null:!ie||ie==="false"||ie==="0"?!1:!!ie}let je=ie=>Bt(ie)||He(ie)?ie:Date.parse(ie);function nt(ie,Te){return Te=Te||je,ie==null||ie===""?null:Te(ie)}function Rt(ie){return ie==null||ie===""?null:ie+""}function hn(ie){let Te={},Ue=ie.length;for(let xt=0;xt<Ue;++xt)Te[ie[xt]]=!0;return Te}function an(ie,Te,Ue,xt){let Et=xt??"\u2026",Nt=ie+"",ne=Nt.length,we=Math.max(0,Te-Et.length);return ne<=Te?Nt:Ue==="left"?Et+Nt.slice(ne-we):Ue==="center"?Nt.slice(0,Math.ceil(we/2))+Et+Nt.slice(ne-~~(we/2)):Nt.slice(0,we)+Et}function ft(ie,Te,Ue){if(ie)if(Te){let xt=ie.length;for(let Et=0;Et<xt;++Et){let Nt=Te(ie[Et]);Nt&&Ue(Nt,Et,ie)}}else ie.forEach(Ue)}n.Debug=ue,n.Error=B,n.Info=G,n.None=L,n.Warn=P,n.accessor=e,n.accessorFields=r,n.accessorName=t,n.array=_e,n.ascending=Ie,n.clampRange=ke,n.compare=tt,n.constant=_t,n.debounce=Lt,n.error=a,n.extend=Yt,n.extent=Gt,n.extentIndex=fn,n.falsy=q,n.fastmap=un,n.field=f,n.flush=Mn,n.hasOwnProperty=yn,n.id=p,n.identity=_,n.inherits=tr,n.inrange=Rn,n.isArray=J,n.isBoolean=Re,n.isDate=He,n.isFunction=Se,n.isIterable=De,n.isNumber=Bt,n.isObject=he,n.isRegExp=pt,n.isString=mt,n.key=nn,n.lerp=Qt,n.logger=I,n.lruCache=Wn,n.merge=Zn,n.mergeConfig=Ve,n.one=O,n.pad=nr,n.panLinear=Ce,n.panLog=pe,n.panPow=Je,n.panSymlog=ut,n.peek=et,n.quarter=rn,n.repeat=Nn,n.span=Ke,n.splitAccessPath=l,n.stringValue=yt,n.toBoolean=oe,n.toDate=nt,n.toNumber=bt,n.toSet=hn,n.toString=Rt,n.truncate=an,n.truthy=R,n.utcquarter=St,n.visitArray=ft,n.writeConfig=ot,n.zero=E,n.zoomLinear=Ct,n.zoomLog=xn,n.zoomPow=Tt,n.zoomSymlog=Ot,Object.defineProperty(n,"__esModule",{value:!0})})});var VFe=Ae((NH,HFe)=>{m();(function(n,e){typeof NH=="object"&&typeof HFe!="undefined"?e(NH):typeof define=="function"&&define.amd?define(["exports"],e):(n=n||self,e(n.topojson=n.topojson||{}))})(NH,function(n){"use strict";function e(P){return P}function t(P){if(P==null)return e;var G,ue,I=P.scale[0],J=P.scale[1],he=P.translate[0],ve=P.translate[1];return function(Ve,ot){ot||(G=ue=0);var lt=2,et=Ve.length,bt=new Array(et);for(bt[0]=(G+=Ve[0])*I+he,bt[1]=(ue+=Ve[1])*J+ve;lt<et;)bt[lt]=Ve[lt],++lt;return bt}}function r(P){var G=t(P.transform),ue,I=1/0,J=I,he=-I,ve=-I;function Ve(lt){lt=G(lt),lt[0]<I&&(I=lt[0]),lt[0]>he&&(he=lt[0]),lt[1]<J&&(J=lt[1]),lt[1]>ve&&(ve=lt[1])}function ot(lt){switch(lt.type){case"GeometryCollection":lt.geometries.forEach(ot);break;case"Point":Ve(lt.coordinates);break;case"MultiPoint":lt.coordinates.forEach(Ve);break}}P.arcs.forEach(function(lt){for(var et=-1,bt=lt.length,Pt;++et<bt;)Pt=G(lt[et],et),Pt[0]<I&&(I=Pt[0]),Pt[0]>he&&(he=Pt[0]),Pt[1]<J&&(J=Pt[1]),Pt[1]>ve&&(ve=Pt[1])});for(ue in P.objects)ot(P.objects[ue]);return[I,J,he,ve]}function i(P,G){for(var ue,I=P.length,J=I-G;J<--I;)ue=P[J],P[J++]=P[I],P[I]=ue}function s(P,G){return typeof G=="string"&&(G=P.objects[G]),G.type==="GeometryCollection"?{type:"FeatureCollection",features:G.geometries.map(function(ue){return o(P,ue)})}:o(P,G)}function o(P,G){var ue=G.id,I=G.bbox,J=G.properties==null?{}:G.properties,he=a(P,G);return ue==null&&I==null?{type:"Feature",properties:J,geometry:he}:I==null?{type:"Feature",id:ue,properties:J,geometry:he}:{type:"Feature",id:ue,bbox:I,properties:J,geometry:he}}function a(P,G){var ue=t(P.transform),I=P.arcs;function J(et,bt){bt.length&&bt.pop();for(var Pt=I[et<0?~et:et],$e=0,te=Pt.length;$e<te;++$e)bt.push(ue(Pt[$e],$e));et<0&&i(bt,te)}function he(et){return ue(et)}function ve(et){for(var bt=[],Pt=0,$e=et.length;Pt<$e;++Pt)J(et[Pt],bt);return bt.length<2&&bt.push(bt[0]),bt}function Ve(et){for(var bt=ve(et);bt.length<4;)bt.push(bt[0]);return bt}function ot(et){return et.map(Ve)}function lt(et){var bt=et.type,Pt;switch(bt){case"GeometryCollection":return{type:bt,geometries:et.geometries.map(lt)};case"Point":Pt=he(et.coordinates);break;case"MultiPoint":Pt=et.coordinates.map(he);break;case"LineString":Pt=ve(et.arcs);break;case"MultiLineString":Pt=et.arcs.map(ve);break;case"Polygon":Pt=ot(et.arcs);break;case"MultiPolygon":Pt=et.arcs.map(ot);break;default:return null}return{type:bt,coordinates:Pt}}return lt(G)}function l(P,G){var ue={},I={},J={},he=[],ve=-1;G.forEach(function(lt,et){var bt=P.arcs[lt<0?~lt:lt],Pt;bt.length<3&&!bt[1][0]&&!bt[1][1]&&(Pt=G[++ve],G[ve]=lt,G[et]=Pt)}),G.forEach(function(lt){var et=Ve(lt),bt=et[0],Pt=et[1],$e,te;if($e=J[bt])if(delete J[$e.end],$e.push(lt),$e.end=Pt,te=I[Pt]){delete I[te.start];var Ze=te===$e?$e:$e.concat(te);I[Ze.start=$e.start]=J[Ze.end=te.end]=Ze}else I[$e.start]=J[$e.end]=$e;else if($e=I[Pt])if(delete I[$e.start],$e.unshift(lt),$e.start=bt,te=J[bt]){delete J[te.end];var ye=te===$e?$e:te.concat($e);I[ye.start=te.start]=J[ye.end=$e.end]=ye}else I[$e.start]=J[$e.end]=$e;else $e=[lt],I[$e.start=bt]=J[$e.end=Pt]=$e});function Ve(lt){var et=P.arcs[lt<0?~lt:lt],bt=et[0],Pt;return P.transform?(Pt=[0,0],et.forEach(function($e){Pt[0]+=$e[0],Pt[1]+=$e[1]})):Pt=et[et.length-1],lt<0?[Pt,bt]:[bt,Pt]}function ot(lt,et){for(var bt in lt){var Pt=lt[bt];delete et[Pt.start],delete Pt.start,delete Pt.end,Pt.forEach(function($e){ue[$e<0?~$e:$e]=1}),he.push(Pt)}}return ot(J,I),ot(I,J),G.forEach(function(lt){ue[lt<0?~lt:lt]||he.push([lt])}),he}function f(P){return a(P,p.apply(this,arguments))}function p(P,G,ue){var I,J,he;if(arguments.length>1)I=_(P,G,ue);else for(J=0,I=new Array(he=P.arcs.length);J<he;++J)I[J]=J;return{type:"MultiLineString",arcs:l(P,I)}}function _(P,G,ue){var I=[],J=[],he;function ve(bt){var Pt=bt<0?~bt:bt;(J[Pt]||(J[Pt]=[])).push({i:bt,g:he})}function Ve(bt){bt.forEach(ve)}function ot(bt){bt.forEach(Ve)}function lt(bt){bt.forEach(ot)}function et(bt){switch(he=bt,bt.type){case"GeometryCollection":bt.geometries.forEach(et);break;case"LineString":Ve(bt.arcs);break;case"MultiLineString":case"Polygon":ot(bt.arcs);break;case"MultiPolygon":lt(bt.arcs);break}}return et(G),J.forEach(ue==null?function(bt){I.push(bt[0].i)}:function(bt){ue(bt[0].g,bt[bt.length-1].g)&&I.push(bt[0].i)}),I}function E(P){for(var G=-1,ue=P.length,I,J=P[ue-1],he=0;++G<ue;)I=J,J=P[G],he+=I[0]*J[1]-I[1]*J[0];return Math.abs(he)}function O(P){return a(P,R.apply(this,arguments))}function R(P,G){var ue={},I=[],J=[];G.forEach(he);function he(ot){switch(ot.type){case"GeometryCollection":ot.geometries.forEach(he);break;case"Polygon":ve(ot.arcs);break;case"MultiPolygon":ot.arcs.forEach(ve);break}}function ve(ot){ot.forEach(function(lt){lt.forEach(function(et){(ue[et=et<0?~et:et]||(ue[et]=[])).push(ot)})}),I.push(ot)}function Ve(ot){return E(a(P,{type:"Polygon",arcs:[ot]}).coordinates[0])}return I.forEach(function(ot){if(!ot._){var lt=[],et=[ot];for(ot._=1,J.push(lt);ot=et.pop();)lt.push(ot),ot.forEach(function(bt){bt.forEach(function(Pt){ue[Pt<0?~Pt:Pt].forEach(function($e){$e._||($e._=1,et.push($e))})})})}}),I.forEach(function(ot){delete ot._}),{type:"MultiPolygon",arcs:J.map(function(ot){var lt=[],et;if(ot.forEach(function(Ze){Ze.forEach(function(ye){ye.forEach(function(Le){ue[Le<0?~Le:Le].length<2&&lt.push(Le)})})}),lt=l(P,lt),(et=lt.length)>1)for(var bt=1,Pt=Ve(lt[0]),$e,te;bt<et;++bt)($e=Ve(lt[bt]))>Pt&&(te=lt[0],lt[0]=lt[bt],lt[bt]=te,Pt=$e);return lt}).filter(function(ot){return ot.length>0})}}function q(P,G){for(var ue=0,I=P.length;ue<I;){var J=ue+I>>>1;P[J]<G?ue=J+1:I=J}return ue}function z(P){var G={},ue=P.map(function(){return[]});function I(Ze,ye){Ze.forEach(function(Le){Le<0&&(Le=~Le);var Ce=G[Le];Ce?Ce.push(ye):G[Le]=[ye]})}function J(Ze,ye){Ze.forEach(function(Le){I(Le,ye)})}function he(Ze,ye){Ze.type==="GeometryCollection"?Ze.geometries.forEach(function(Le){he(Le,ye)}):Ze.type in ve&&ve[Ze.type](Ze.arcs,ye)}var ve={LineString:I,MultiLineString:J,Polygon:J,MultiPolygon:function(Ze,ye){Ze.forEach(function(Le){J(Le,ye)})}};P.forEach(he);for(var Ve in G)for(var ot=G[Ve],lt=ot.length,et=0;et<lt;++et)for(var bt=et+1;bt<lt;++bt){var Pt=ot[et],$e=ot[bt],te;(te=ue[Pt])[Ve=q(te,$e)]!==$e&&te.splice(Ve,0,$e),(te=ue[$e])[Ve=q(te,Pt)]!==Pt&&te.splice(Ve,0,Pt)}return ue}function L(P){if(P==null)return e;var G,ue,I=P.scale[0],J=P.scale[1],he=P.translate[0],ve=P.translate[1];return function(Ve,ot){ot||(G=ue=0);var lt=2,et=Ve.length,bt=new Array(et),Pt=Math.round((Ve[0]-he)/I),$e=Math.round((Ve[1]-ve)/J);for(bt[0]=Pt-G,G=Pt,bt[1]=$e-ue,ue=$e;lt<et;)bt[lt]=Ve[lt],++lt;return bt}}function B(P,G){if(P.transform)throw new Error("already quantized");if(!G||!G.scale){if(!((ve=Math.floor(G))>=2))throw new Error("n must be \u22652");ot=P.bbox||r(P);var ue=ot[0],I=ot[1],J=ot[2],he=ot[3],ve;G={scale:[J-ue?(J-ue)/(ve-1):1,he-I?(he-I)/(ve-1):1],translate:[ue,I]}}else ot=P.bbox;var Ve=L(G),ot,lt,et=P.objects,bt={};function Pt(Ze){return Ve(Ze)}function $e(Ze){var ye;switch(Ze.type){case"GeometryCollection":ye={type:"GeometryCollection",geometries:Ze.geometries.map($e)};break;case"Point":ye={type:"Point",coordinates:Pt(Ze.coordinates)};break;case"MultiPoint":ye={type:"MultiPoint",coordinates:Ze.coordinates.map(Pt)};break;default:return Ze}return Ze.id!=null&&(ye.id=Ze.id),Ze.bbox!=null&&(ye.bbox=Ze.bbox),Ze.properties!=null&&(ye.properties=Ze.properties),ye}function te(Ze){var ye=0,Le=1,Ce=Ze.length,pe,Je=new Array(Ce);for(Je[0]=Ve(Ze[0],0);++ye<Ce;)((pe=Ve(Ze[ye],ye))[0]||pe[1])&&(Je[Le++]=pe);return Le===1&&(Je[Le++]=[0,0]),Je.length=Le,Je}for(lt in et)bt[lt]=$e(et[lt]);return{type:"Topology",bbox:ot,transform:G,objects:bt,arcs:P.arcs.map(te)}}n.bbox=r,n.feature=s,n.merge=O,n.mergeArcs=R,n.mesh=f,n.meshArcs=p,n.neighbors=z,n.quantize=B,n.transform=t,n.untransform=L,Object.defineProperty(n,"__esModule",{value:!0})})});var XC=Ae((LH,WFe)=>{m();(function(n,e){typeof LH=="object"&&typeof WFe!="undefined"?e(LH,Au()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(LH,function(n,e){"use strict";let t="year",r="quarter",i="month",s="week",o="date",a="day",l="dayofyear",f="hours",p="minutes",_="seconds",E="milliseconds",O=[t,r,i,s,o,a,l,f,p,_,E],R=O.reduce((N,V,be)=>(N[V]=1+be,N),{});function q(N){let V=e.array(N).slice(),be={};return V.length||e.error("Missing time unit."),V.forEach(K=>{e.hasOwnProperty(R,K)?be[K]=1:e.error(`Invalid time unit: ${K}.`)}),(be[s]||be[a]?1:0)+(be[r]||be[i]||be[o]?1:0)+(be[l]?1:0)>1&&e.error(`Incompatible time units: ${N}`),V.sort((K,ae)=>R[K]-R[ae]),V}let z={[t]:"%Y ",[r]:"Q%q ",[i]:"%b ",[o]:"%d ",[s]:"W%U ",[a]:"%a ",[l]:"%j ",[f]:"%H:00",[p]:"00:%M",[_]:":%S",[E]:".%L",[`${t}-${i}`]:"%Y-%m ",[`${t}-${i}-${o}`]:"%Y-%m-%d ",[`${f}-${p}`]:"%H:%M"};function L(N,V){let be=e.extend({},z,V),xe=q(N),K=xe.length,ae="",fe=0,Ge,Mt;for(fe=0;fe<K;)for(Ge=xe.length;Ge>fe;--Ge)if(Mt=xe.slice(fe,Ge).join("-"),be[Mt]!=null){ae+=be[Mt],fe=Ge;break}return ae.trim()}var B=new Date,P=new Date;function G(N,V,be,xe){function K(ae){return N(ae=arguments.length===0?new Date:new Date(+ae)),ae}return K.floor=function(ae){return N(ae=new Date(+ae)),ae},K.ceil=function(ae){return N(ae=new Date(ae-1)),V(ae,1),N(ae),ae},K.round=function(ae){var fe=K(ae),Ge=K.ceil(ae);return ae-fe<Ge-ae?fe:Ge},K.offset=function(ae,fe){return V(ae=new Date(+ae),fe==null?1:Math.floor(fe)),ae},K.range=function(ae,fe,Ge){var Mt=[],At;if(ae=K.ceil(ae),Ge=Ge==null?1:Math.floor(Ge),!(ae<fe)||!(Ge>0))return Mt;do Mt.push(At=new Date(+ae)),V(ae,Ge),N(ae);while(At<ae&&ae<fe);return Mt},K.filter=function(ae){return G(function(fe){if(fe>=fe)for(;N(fe),!ae(fe);)fe.setTime(fe-1)},function(fe,Ge){if(fe>=fe)if(Ge<0)for(;++Ge<=0;)for(;V(fe,-1),!ae(fe););else for(;--Ge>=0;)for(;V(fe,1),!ae(fe););})},be&&(K.count=function(ae,fe){return B.setTime(+ae),P.setTime(+fe),N(B),N(P),Math.floor(be(B,P))},K.every=function(ae){return ae=Math.floor(ae),!isFinite(ae)||!(ae>0)?null:ae>1?K.filter(xe?function(fe){return xe(fe)%ae===0}:function(fe){return K.count(0,fe)%ae===0}):K}),K}var ue=G(function(){},function(N,V){N.setTime(+N+V)},function(N,V){return V-N});ue.every=function(N){return N=Math.floor(N),!isFinite(N)||!(N>0)?null:N>1?G(function(V){V.setTime(Math.floor(V/N)*N)},function(V,be){V.setTime(+V+be*N)},function(V,be){return(be-V)/N}):ue};var I=ue;let J=1e3,he=J*60,ve=he*60,Ve=ve*24,ot=Ve*7;var lt=G(function(N){N.setTime(N-N.getMilliseconds())},function(N,V){N.setTime(+N+V*J)},function(N,V){return(V-N)/J},function(N){return N.getUTCSeconds()}),et=lt,bt=G(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*J)},function(N,V){N.setTime(+N+V*he)},function(N,V){return(V-N)/he},function(N){return N.getMinutes()}),Pt=bt,$e=G(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*J-N.getMinutes()*he)},function(N,V){N.setTime(+N+V*ve)},function(N,V){return(V-N)/ve},function(N){return N.getHours()}),te=$e,Ze=G(N=>N.setHours(0,0,0,0),(N,V)=>N.setDate(N.getDate()+V),(N,V)=>(V-N-(V.getTimezoneOffset()-N.getTimezoneOffset())*he)/Ve,N=>N.getDate()-1),ye=Ze;function Le(N){return G(function(V){V.setDate(V.getDate()-(V.getDay()+7-N)%7),V.setHours(0,0,0,0)},function(V,be){V.setDate(V.getDate()+be*7)},function(V,be){return(be-V-(be.getTimezoneOffset()-V.getTimezoneOffset())*he)/ot})}var Ce=Le(0);Le(1),Le(2),Le(3),Le(4),Le(5),Le(6);var pe=G(function(N){N.setDate(1),N.setHours(0,0,0,0)},function(N,V){N.setMonth(N.getMonth()+V)},function(N,V){return V.getMonth()-N.getMonth()+(V.getFullYear()-N.getFullYear())*12},function(N){return N.getMonth()}),Je=pe,ut=G(function(N){N.setMonth(0,1),N.setHours(0,0,0,0)},function(N,V){N.setFullYear(N.getFullYear()+V)},function(N,V){return V.getFullYear()-N.getFullYear()},function(N){return N.getFullYear()});ut.every=function(N){return!isFinite(N=Math.floor(N))||!(N>0)?null:G(function(V){V.setFullYear(Math.floor(V.getFullYear()/N)*N),V.setMonth(0,1),V.setHours(0,0,0,0)},function(V,be){V.setFullYear(V.getFullYear()+be*N)})};var Ht=ut,Ct=G(function(N){N.setUTCSeconds(0,0)},function(N,V){N.setTime(+N+V*he)},function(N,V){return(V-N)/he},function(N){return N.getUTCMinutes()}),xn=Ct,Tt=G(function(N){N.setUTCMinutes(0,0,0)},function(N,V){N.setTime(+N+V*ve)},function(N,V){return(V-N)/ve},function(N){return N.getUTCHours()}),Ot=Tt,rn=G(function(N){N.setUTCHours(0,0,0,0)},function(N,V){N.setUTCDate(N.getUTCDate()+V)},function(N,V){return(V-N)/Ve},function(N){return N.getUTCDate()-1}),St=rn;function _e(N){return G(function(V){V.setUTCDate(V.getUTCDate()-(V.getUTCDay()+7-N)%7),V.setUTCHours(0,0,0,0)},function(V,be){V.setUTCDate(V.getUTCDate()+be*7)},function(V,be){return(be-V)/ot})}var ke=_e(0);_e(1),_e(2),_e(3),_e(4),_e(5),_e(6);var Se=G(function(N){N.setUTCDate(1),N.setUTCHours(0,0,0,0)},function(N,V){N.setUTCMonth(N.getUTCMonth()+V)},function(N,V){return V.getUTCMonth()-N.getUTCMonth()+(V.getUTCFullYear()-N.getUTCFullYear())*12},function(N){return N.getUTCMonth()}),ce=Se,tt=G(function(N){N.setUTCMonth(0,1),N.setUTCHours(0,0,0,0)},function(N,V){N.setUTCFullYear(N.getUTCFullYear()+V)},function(N,V){return V.getUTCFullYear()-N.getUTCFullYear()},function(N){return N.getUTCFullYear()});tt.every=function(N){return!isFinite(N=Math.floor(N))||!(N>0)?null:G(function(V){V.setUTCFullYear(Math.floor(V.getUTCFullYear()/N)*N),V.setUTCMonth(0,1),V.setUTCHours(0,0,0,0)},function(V,be){V.setUTCFullYear(V.getUTCFullYear()+be*N)})};var Ie=tt;function re(N,V){return N==null||V==null?NaN:N<V?-1:N>V?1:N>=V?0:NaN}function Ne(N){let V=N,be=N,xe=N;N.length!==2&&(V=(Ge,Mt)=>N(Ge)-Mt,be=re,xe=(Ge,Mt)=>re(N(Ge),Mt));function K(Ge,Mt,At=0,dn=Ge.length){if(At<dn){if(be(Mt,Mt)!==0)return dn;do{let w=At+dn>>>1;xe(Ge[w],Mt)<0?At=w+1:dn=w}while(At<dn)}return At}function ae(Ge,Mt,At=0,dn=Ge.length){if(At<dn){if(be(Mt,Mt)!==0)return dn;do{let w=At+dn>>>1;xe(Ge[w],Mt)<=0?At=w+1:dn=w}while(At<dn)}return At}function fe(Ge,Mt,At=0,dn=Ge.length){let w=K(Ge,Mt,At,dn-1);return w>At&&V(Ge[w-1],Mt)>-V(Ge[w],Mt)?w-1:w}return{left:K,center:fe,right:ae}}var ct=Math.sqrt(50),_t=Math.sqrt(10),Lt=Math.sqrt(2);function Yt(N,V,be){var xe=Math.abs(V-N)/Math.max(0,be),K=Math.pow(10,Math.floor(Math.log(xe)/Math.LN10)),ae=xe/K;return ae>=ct?K*=10:ae>=_t?K*=5:ae>=Lt&&(K*=2),V<N?-K:K}let Gt=new Date;function fn(N){return Gt.setFullYear(N),Gt.setMonth(0),Gt.setDate(1),Gt.setHours(0,0,0,0),Gt}function gn(N){return It(new Date(N))}function yn(N){return un(new Date(N))}function It(N){return ye.count(fn(N.getFullYear())-1,N)}function un(N){return Ce.count(fn(N.getFullYear())-1,N)}function Mn(N){return fn(N).getDay()}function tr(N,V,be,xe,K,ae,fe){if(0<=N&&N<100){let Ge=new Date(-1,V,be,xe,K,ae,fe);return Ge.setFullYear(N),Ge}return new Date(N,V,be,xe,K,ae,fe)}function Rn(N){return He(new Date(N))}function Re(N){return De(new Date(N))}function He(N){let V=Date.UTC(N.getUTCFullYear(),0,1);return St.count(V-1,N)}function De(N){let V=Date.UTC(N.getUTCFullYear(),0,1);return ke.count(V-1,N)}function Bt(N){return Gt.setTime(Date.UTC(N,0,1)),Gt.getUTCDay()}function pt(N,V,be,xe,K,ae,fe){if(0<=N&&N<100){let Ge=new Date(Date.UTC(-1,V,be,xe,K,ae,fe));return Ge.setUTCFullYear(be.y),Ge}return new Date(Date.UTC(N,V,be,xe,K,ae,fe))}function mt(N,V,be,xe,K){let ae=V||1,fe=e.peek(N),Ge=(Zt,Xt,mn)=>(mn=mn||Zt,nn(be[mn],xe[mn],Zt===fe&&ae,Xt)),Mt=new Date,At=e.toSet(N),dn=At[t]?Ge(t):e.constant(2012),w=At[i]?Ge(i):At[r]?Ge(r):e.zero,j=At[s]&&At[a]?Ge(a,1,s+a):At[s]?Ge(s,1):At[a]?Ge(a,1):At[o]?Ge(o,1):At[l]?Ge(l,1):e.one,ee=At[f]?Ge(f):e.zero,Ee=At[p]?Ge(p):e.zero,dt=At[_]?Ge(_):e.zero,Ft=At[E]?Ge(E):e.zero;return function(Zt){Mt.setTime(+Zt);let Xt=dn(Mt);return K(Xt,w(Mt),j(Mt,Xt),ee(Mt),Ee(Mt),dt(Mt),Ft(Mt))}}function nn(N,V,be,xe){let K=be<=1?N:xe?(ae,fe)=>xe+be*Math.floor((N(ae,fe)-xe)/be):(ae,fe)=>be*Math.floor(N(ae,fe)/be);return V?(ae,fe)=>V(K(ae,fe),fe):K}function Qt(N,V,be){return V+N*7-(be+6)%7}let Fn={[t]:N=>N.getFullYear(),[r]:N=>Math.floor(N.getMonth()/3),[i]:N=>N.getMonth(),[o]:N=>N.getDate(),[f]:N=>N.getHours(),[p]:N=>N.getMinutes(),[_]:N=>N.getSeconds(),[E]:N=>N.getMilliseconds(),[l]:N=>It(N),[s]:N=>un(N),[s+a]:(N,V)=>Qt(un(N),N.getDay(),Mn(V)),[a]:(N,V)=>Qt(1,N.getDay(),Mn(V))},Wn={[r]:N=>3*N,[s]:(N,V)=>Qt(N,0,Mn(V))};function Zn(N,V){return mt(N,V||1,Fn,Wn,tr)}let Nn={[t]:N=>N.getUTCFullYear(),[r]:N=>Math.floor(N.getUTCMonth()/3),[i]:N=>N.getUTCMonth(),[o]:N=>N.getUTCDate(),[f]:N=>N.getUTCHours(),[p]:N=>N.getUTCMinutes(),[_]:N=>N.getUTCSeconds(),[E]:N=>N.getUTCMilliseconds(),[l]:N=>He(N),[s]:N=>De(N),[a]:(N,V)=>Qt(1,N.getUTCDay(),Bt(V)),[s+a]:(N,V)=>Qt(De(N),N.getUTCDay(),Bt(V))},nr={[r]:N=>3*N,[s]:(N,V)=>Qt(N,0,Bt(V))};function Ke(N,V){return mt(N,V||1,Nn,nr,pt)}let yt={[t]:Ht,[r]:Je.every(3),[i]:Je,[s]:Ce,[o]:ye,[a]:ye,[l]:ye,[f]:te,[p]:Pt,[_]:et,[E]:I},oe={[t]:Ie,[r]:ce.every(3),[i]:ce,[s]:ke,[o]:St,[a]:St,[l]:St,[f]:Ot,[p]:xn,[_]:et,[E]:I};function je(N){return yt[N]}function nt(N){return oe[N]}function Rt(N,V,be){return N?N.offset(V,be):void 0}function hn(N,V,be){return Rt(je(N),V,be)}function an(N,V,be){return Rt(nt(N),V,be)}function ft(N,V,be,xe){return N?N.range(V,be,xe):void 0}function ie(N,V,be,xe){return ft(je(N),V,be,xe)}function Te(N,V,be,xe){return ft(nt(N),V,be,xe)}let Ue=1e3,xt=Ue*60,Et=xt*60,Nt=Et*24,ne=Nt*7,we=Nt*30,Qe=Nt*365,it=[t,i,o,f,p,_,E],Ut=it.slice(0,-1),sn=Ut.slice(0,-1),Cn=sn.slice(0,-1),En=Cn.slice(0,-1),vn=[t,s],zn=[t,i],Oe=[t],ze=[[Ut,1,Ue],[Ut,5,5*Ue],[Ut,15,15*Ue],[Ut,30,30*Ue],[sn,1,xt],[sn,5,5*xt],[sn,15,15*xt],[sn,30,30*xt],[Cn,1,Et],[Cn,3,3*Et],[Cn,6,6*Et],[Cn,12,12*Et],[En,1,Nt],[vn,1,ne],[zn,1,we],[zn,3,3*we],[Oe,1,Qe]];function Dt(N){let V=N.extent,be=N.maxbins||40,xe=Math.abs(e.span(V))/be,K=Ne(Ge=>Ge[2]).right(ze,xe),ae,fe;return K===ze.length?(ae=Oe,fe=Yt(V[0]/Qe,V[1]/Qe,be)):K?(K=ze[xe/ze[K-1][2]<ze[K][2]/xe?K-1:K],ae=K[0],fe=K[1]):(ae=it,fe=Math.max(Yt(V[0],V[1],be),1)),{units:ae,step:fe}}n.DATE=o,n.DAY=a,n.DAYOFYEAR=l,n.HOURS=f,n.MILLISECONDS=E,n.MINUTES=p,n.MONTH=i,n.QUARTER=r,n.SECONDS=_,n.TIME_UNITS=O,n.WEEK=s,n.YEAR=t,n.dayofyear=gn,n.timeBin=Dt,n.timeFloor=Zn,n.timeInterval=je,n.timeOffset=hn,n.timeSequence=ie,n.timeUnitSpecifier=L,n.timeUnits=q,n.utcFloor=Ke,n.utcInterval=nt,n.utcOffset=an,n.utcSequence=Te,n.utcdayofyear=Rn,n.utcweek=Re,n.week=yn,Object.defineProperty(n,"__esModule",{value:!0})})});var XR=Ae((kH,QFe)=>{m();(function(n,e){typeof kH=="object"&&typeof QFe!="undefined"?e(kH,XC(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-time","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(kH,function(n,e,t){"use strict";function r(Ye){let Kt={};return Bn=>Kt[Bn]||(Kt[Bn]=Ye(Bn))}var i=Math.sqrt(50),s=Math.sqrt(10),o=Math.sqrt(2);function a(Ye,Kt,Bn){var Yn=Math.abs(Kt-Ye)/Math.max(0,Bn),ri=Math.pow(10,Math.floor(Math.log(Yn)/Math.LN10)),Br=Yn/ri;return Br>=i?ri*=10:Br>=s?ri*=5:Br>=o&&(ri*=2),Kt<Ye?-ri:ri}function l(Ye){return Math.abs(Ye=Math.round(Ye))>=1e21?Ye.toLocaleString("en").replace(/,/g,""):Ye.toString(10)}function f(Ye,Kt){if((Bn=(Ye=Kt?Ye.toExponential(Kt-1):Ye.toExponential()).indexOf("e"))<0)return null;var Bn,Yn=Ye.slice(0,Bn);return[Yn.length>1?Yn[0]+Yn.slice(2):Yn,+Ye.slice(Bn+1)]}function p(Ye){return Ye=f(Math.abs(Ye)),Ye?Ye[1]:NaN}function _(Ye,Kt){return function(Bn,Yn){for(var ri=Bn.length,Br=[],Xr=0,Cs=Ye[0],co=0;ri>0&&Cs>0&&(co+Cs+1>Yn&&(Cs=Math.max(1,Yn-co)),Br.push(Bn.substring(ri-=Cs,ri+Cs)),!((co+=Cs+1)>Yn));)Cs=Ye[Xr=(Xr+1)%Ye.length];return Br.reverse().join(Kt)}}function E(Ye){return function(Kt){return Kt.replace(/[0-9]/g,function(Bn){return Ye[+Bn]})}}var O=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R(Ye){if(!(Kt=O.exec(Ye)))throw new Error("invalid format: "+Ye);var Kt;return new q({fill:Kt[1],align:Kt[2],sign:Kt[3],symbol:Kt[4],zero:Kt[5],width:Kt[6],comma:Kt[7],precision:Kt[8]&&Kt[8].slice(1),trim:Kt[9],type:Kt[10]})}R.prototype=q.prototype;function q(Ye){this.fill=Ye.fill===void 0?" ":Ye.fill+"",this.align=Ye.align===void 0?">":Ye.align+"",this.sign=Ye.sign===void 0?"-":Ye.sign+"",this.symbol=Ye.symbol===void 0?"":Ye.symbol+"",this.zero=!!Ye.zero,this.width=Ye.width===void 0?void 0:+Ye.width,this.comma=!!Ye.comma,this.precision=Ye.precision===void 0?void 0:+Ye.precision,this.trim=!!Ye.trim,this.type=Ye.type===void 0?"":Ye.type+""}q.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function z(Ye){e:for(var Kt=Ye.length,Bn=1,Yn=-1,ri;Bn<Kt;++Bn)switch(Ye[Bn]){case".":Yn=ri=Bn;break;case"0":Yn===0&&(Yn=Bn),ri=Bn;break;default:if(!+Ye[Bn])break e;Yn>0&&(Yn=0);break}return Yn>0?Ye.slice(0,Yn)+Ye.slice(ri+1):Ye}var L;function B(Ye,Kt){var Bn=f(Ye,Kt);if(!Bn)return Ye+"";var Yn=Bn[0],ri=Bn[1],Br=ri-(L=Math.max(-8,Math.min(8,Math.floor(ri/3)))*3)+1,Xr=Yn.length;return Br===Xr?Yn:Br>Xr?Yn+new Array(Br-Xr+1).join("0"):Br>0?Yn.slice(0,Br)+"."+Yn.slice(Br):"0."+new Array(1-Br).join("0")+f(Ye,Math.max(0,Kt+Br-1))[0]}function P(Ye,Kt){var Bn=f(Ye,Kt);if(!Bn)return Ye+"";var Yn=Bn[0],ri=Bn[1];return ri<0?"0."+new Array(-ri).join("0")+Yn:Yn.length>ri+1?Yn.slice(0,ri+1)+"."+Yn.slice(ri+1):Yn+new Array(ri-Yn.length+2).join("0")}var G={"%":(Ye,Kt)=>(Ye*100).toFixed(Kt),b:Ye=>Math.round(Ye).toString(2),c:Ye=>Ye+"",d:l,e:(Ye,Kt)=>Ye.toExponential(Kt),f:(Ye,Kt)=>Ye.toFixed(Kt),g:(Ye,Kt)=>Ye.toPrecision(Kt),o:Ye=>Math.round(Ye).toString(8),p:(Ye,Kt)=>P(Ye*100,Kt),r:P,s:B,X:Ye=>Math.round(Ye).toString(16).toUpperCase(),x:Ye=>Math.round(Ye).toString(16)};function ue(Ye){return Ye}var I=Array.prototype.map,J=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function he(Ye){var Kt=Ye.grouping===void 0||Ye.thousands===void 0?ue:_(I.call(Ye.grouping,Number),Ye.thousands+""),Bn=Ye.currency===void 0?"":Ye.currency[0]+"",Yn=Ye.currency===void 0?"":Ye.currency[1]+"",ri=Ye.decimal===void 0?".":Ye.decimal+"",Br=Ye.numerals===void 0?ue:E(I.call(Ye.numerals,String)),Xr=Ye.percent===void 0?"%":Ye.percent+"",Cs=Ye.minus===void 0?"\u2212":Ye.minus+"",co=Ye.nan===void 0?"NaN":Ye.nan+"";function ro(io){io=R(io);var fo=io.fill,hi=io.align,Ei=io.sign,Wi=io.symbol,Jo=io.zero,fa=io.width,da=io.comma,ho=io.precision,ls=io.trim,ps=io.type;ps==="n"?(da=!0,ps="g"):G[ps]||(ho===void 0&&(ho=12),ls=!0,ps="g"),(Jo||fo==="0"&&hi==="=")&&(Jo=!0,fo="0",hi="=");var Zi=Wi==="$"?Bn:Wi==="#"&&/[boxX]/.test(ps)?"0"+ps.toLowerCase():"",fu=Wi==="$"?Yn:/[%p]/.test(ps)?Xr:"",Ms=G[ps],ma=/[defgprs%]/.test(ps);ho=ho===void 0?6:/[gprs]/.test(ps)?Math.max(1,Math.min(21,ho)):Math.max(0,Math.min(20,ho));function oa(Ri){var Vo=Zi,vs=fu,Ii,Do,Na;if(ps==="c")vs=Ms(Ri)+vs,Ri="";else{Ri=+Ri;var Ka=Ri<0||1/Ri<0;if(Ri=isNaN(Ri)?co:Ms(Math.abs(Ri),ho),ls&&(Ri=z(Ri)),Ka&&+Ri==0&&Ei!=="+"&&(Ka=!1),Vo=(Ka?Ei==="("?Ei:Cs:Ei==="-"||Ei==="("?"":Ei)+Vo,vs=(ps==="s"?J[8+L/3]:"")+vs+(Ka&&Ei==="("?")":""),ma){for(Ii=-1,Do=Ri.length;++Ii<Do;)if(Na=Ri.charCodeAt(Ii),48>Na||Na>57){vs=(Na===46?ri+Ri.slice(Ii+1):Ri.slice(Ii))+vs,Ri=Ri.slice(0,Ii);break}}}da&&!Jo&&(Ri=Kt(Ri,1/0));var Oo=Vo.length+Ri.length+vs.length,Ao=Oo<fa?new Array(fa-Oo+1).join(fo):"";switch(da&&Jo&&(Ri=Kt(Ao+Ri,Ao.length?fa-vs.length:1/0),Ao=""),hi){case"<":Ri=Vo+Ri+vs+Ao;break;case"=":Ri=Vo+Ao+Ri+vs;break;case"^":Ri=Ao.slice(0,Oo=Ao.length>>1)+Vo+Ri+vs+Ao.slice(Oo);break;default:Ri=Ao+Vo+Ri+vs;break}return Br(Ri)}return oa.toString=function(){return io+""},oa}function us(io,fo){var hi=ro((io=R(io),io.type="f",io)),Ei=Math.max(-8,Math.min(8,Math.floor(p(fo)/3)))*3,Wi=Math.pow(10,-Ei),Jo=J[8+Ei/3];return function(fa){return hi(Wi*fa)+Jo}}return{format:ro,formatPrefix:us}}var ve,Ve,ot;lt({thousands:",",grouping:[3],currency:["$",""]});function lt(Ye){return ve=he(Ye),Ve=ve.format,ot=ve.formatPrefix,ve}function et(Ye){return Math.max(0,-p(Math.abs(Ye)))}function bt(Ye,Kt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(p(Kt)/3)))*3-p(Math.abs(Ye)))}function Pt(Ye,Kt){return Ye=Math.abs(Ye),Kt=Math.abs(Kt)-Ye,Math.max(0,p(Kt)-p(Ye))+1}function $e(Ye,Kt){return Bn=>{let Yn=Ye(Bn),ri=Yn.indexOf(Kt);if(ri<0)return Yn;let Br=te(Yn,ri),Xr=Br<Yn.length?Yn.slice(Br):"";for(;--Br>ri;)if(Yn[Br]!=="0"){++Br;break}return Yn.slice(0,Br)+Xr}}function te(Ye,Kt){let Bn=Ye.lastIndexOf("e"),Yn;if(Bn>0)return Bn;for(Bn=Ye.length;--Bn>Kt;)if(Yn=Ye.charCodeAt(Bn),Yn>=48&&Yn<=57)return Bn+1}function Ze(Ye){let Kt=r(Ye.format),Bn=Ye.formatPrefix;return{format:Kt,formatPrefix:Bn,formatFloat(Yn){let ri=R(Yn||",");if(ri.precision==null){switch(ri.precision=12,ri.type){case"%":ri.precision-=2;break;case"e":ri.precision-=1;break}return $e(Kt(ri),Kt(".1f")(1)[1])}else return Kt(ri)},formatSpan(Yn,ri,Br,Xr){Xr=R(Xr??",f");let Cs=a(Yn,ri,Br),co=Math.max(Math.abs(Yn),Math.abs(ri)),ro;if(Xr.precision==null)switch(Xr.type){case"s":return isNaN(ro=bt(Cs,co))||(Xr.precision=ro),Bn(Xr,co);case"":case"e":case"g":case"p":case"r":{isNaN(ro=Pt(Cs,co))||(Xr.precision=ro-(Xr.type==="e"));break}case"f":case"%":{isNaN(ro=et(Cs))||(Xr.precision=ro-(Xr.type==="%")*2);break}}return Kt(Xr)}}}let ye;Le();function Le(){return ye=Ze({format:Ve,formatPrefix:ot})}function Ce(Ye){return Ze(he(Ye))}function pe(Ye){return arguments.length?ye=Ce(Ye):ye}var Je=new Date,ut=new Date;function Ht(Ye,Kt,Bn,Yn){function ri(Br){return Ye(Br=arguments.length===0?new Date:new Date(+Br)),Br}return ri.floor=function(Br){return Ye(Br=new Date(+Br)),Br},ri.ceil=function(Br){return Ye(Br=new Date(Br-1)),Kt(Br,1),Ye(Br),Br},ri.round=function(Br){var Xr=ri(Br),Cs=ri.ceil(Br);return Br-Xr<Cs-Br?Xr:Cs},ri.offset=function(Br,Xr){return Kt(Br=new Date(+Br),Xr==null?1:Math.floor(Xr)),Br},ri.range=function(Br,Xr,Cs){var co=[],ro;if(Br=ri.ceil(Br),Cs=Cs==null?1:Math.floor(Cs),!(Br<Xr)||!(Cs>0))return co;do co.push(ro=new Date(+Br)),Kt(Br,Cs),Ye(Br);while(ro<Br&&Br<Xr);return co},ri.filter=function(Br){return Ht(function(Xr){if(Xr>=Xr)for(;Ye(Xr),!Br(Xr);)Xr.setTime(Xr-1)},function(Xr,Cs){if(Xr>=Xr)if(Cs<0)for(;++Cs<=0;)for(;Kt(Xr,-1),!Br(Xr););else for(;--Cs>=0;)for(;Kt(Xr,1),!Br(Xr););})},Bn&&(ri.count=function(Br,Xr){return Je.setTime(+Br),ut.setTime(+Xr),Ye(Je),Ye(ut),Math.floor(Bn(Je,ut))},ri.every=function(Br){return Br=Math.floor(Br),!isFinite(Br)||!(Br>0)?null:Br>1?ri.filter(Yn?function(Xr){return Yn(Xr)%Br===0}:function(Xr){return ri.count(0,Xr)%Br===0}):ri}),ri}let xn=1e3*60,Ot=xn*60*24,rn=Ot*7;var St=Ht(Ye=>Ye.setHours(0,0,0,0),(Ye,Kt)=>Ye.setDate(Ye.getDate()+Kt),(Ye,Kt)=>(Kt-Ye-(Kt.getTimezoneOffset()-Ye.getTimezoneOffset())*xn)/Ot,Ye=>Ye.getDate()-1),_e=St;function ke(Ye){return Ht(function(Kt){Kt.setDate(Kt.getDate()-(Kt.getDay()+7-Ye)%7),Kt.setHours(0,0,0,0)},function(Kt,Bn){Kt.setDate(Kt.getDate()+Bn*7)},function(Kt,Bn){return(Bn-Kt-(Bn.getTimezoneOffset()-Kt.getTimezoneOffset())*xn)/rn})}var Se=ke(0),ce=ke(1);ke(2),ke(3);var tt=ke(4);ke(5),ke(6);var Ie=Ht(function(Ye){Ye.setMonth(0,1),Ye.setHours(0,0,0,0)},function(Ye,Kt){Ye.setFullYear(Ye.getFullYear()+Kt)},function(Ye,Kt){return Kt.getFullYear()-Ye.getFullYear()},function(Ye){return Ye.getFullYear()});Ie.every=function(Ye){return!isFinite(Ye=Math.floor(Ye))||!(Ye>0)?null:Ht(function(Kt){Kt.setFullYear(Math.floor(Kt.getFullYear()/Ye)*Ye),Kt.setMonth(0,1),Kt.setHours(0,0,0,0)},function(Kt,Bn){Kt.setFullYear(Kt.getFullYear()+Bn*Ye)})};var re=Ie,Ne=Ht(function(Ye){Ye.setUTCHours(0,0,0,0)},function(Ye,Kt){Ye.setUTCDate(Ye.getUTCDate()+Kt)},function(Ye,Kt){return(Kt-Ye)/Ot},function(Ye){return Ye.getUTCDate()-1}),ct=Ne;function _t(Ye){return Ht(function(Kt){Kt.setUTCDate(Kt.getUTCDate()-(Kt.getUTCDay()+7-Ye)%7),Kt.setUTCHours(0,0,0,0)},function(Kt,Bn){Kt.setUTCDate(Kt.getUTCDate()+Bn*7)},function(Kt,Bn){return(Bn-Kt)/rn})}var Lt=_t(0),Yt=_t(1);_t(2),_t(3);var Gt=_t(4);_t(5),_t(6);var fn=Ht(function(Ye){Ye.setUTCMonth(0,1),Ye.setUTCHours(0,0,0,0)},function(Ye,Kt){Ye.setUTCFullYear(Ye.getUTCFullYear()+Kt)},function(Ye,Kt){return Kt.getUTCFullYear()-Ye.getUTCFullYear()},function(Ye){return Ye.getUTCFullYear()});fn.every=function(Ye){return!isFinite(Ye=Math.floor(Ye))||!(Ye>0)?null:Ht(function(Kt){Kt.setUTCFullYear(Math.floor(Kt.getUTCFullYear()/Ye)*Ye),Kt.setUTCMonth(0,1),Kt.setUTCHours(0,0,0,0)},function(Kt,Bn){Kt.setUTCFullYear(Kt.getUTCFullYear()+Bn*Ye)})};var gn=fn;function yn(Ye){if(0<=Ye.y&&Ye.y<100){var Kt=new Date(-1,Ye.m,Ye.d,Ye.H,Ye.M,Ye.S,Ye.L);return Kt.setFullYear(Ye.y),Kt}return new Date(Ye.y,Ye.m,Ye.d,Ye.H,Ye.M,Ye.S,Ye.L)}function It(Ye){if(0<=Ye.y&&Ye.y<100){var Kt=new Date(Date.UTC(-1,Ye.m,Ye.d,Ye.H,Ye.M,Ye.S,Ye.L));return Kt.setUTCFullYear(Ye.y),Kt}return new Date(Date.UTC(Ye.y,Ye.m,Ye.d,Ye.H,Ye.M,Ye.S,Ye.L))}function un(Ye,Kt,Bn){return{y:Ye,m:Kt,d:Bn,H:0,M:0,S:0,L:0}}function Mn(Ye){var Kt=Ye.dateTime,Bn=Ye.date,Yn=Ye.time,ri=Ye.periods,Br=Ye.days,Xr=Ye.shortDays,Cs=Ye.months,co=Ye.shortMonths,ro=pt(ri),us=mt(ri),io=pt(Br),fo=mt(Br),hi=pt(Xr),Ei=mt(Xr),Wi=pt(Cs),Jo=mt(Cs),fa=pt(co),da=mt(co),ho={a:Ka,A:Oo,b:Ao,B:qa,c:null,d:Et,e:Et,f:it,g:V,G:xe,H:Nt,I:ne,j:we,L:Qe,m:Ut,M:sn,p:du,q:Ua,Q:Mr,s:xi,S:Cn,u:En,U:vn,V:Oe,w:ze,W:Dt,x:null,X:null,y:N,Y:be,Z:K,"%":yr},ls={a:aa,A:ua,b:gl,B:$l,c:null,d:ae,e:ae,f:dn,g:Un,G:Jr,H:fe,I:Ge,j:Mt,L:At,m:w,M:j,p:ta,q:Zu,Q:Mr,s:xi,S:ee,u:Ee,U:dt,V:Zt,w:Xt,W:mn,x:null,X:null,y:qn,Y:Vn,Z:Vr,"%":yr},ps={a:oa,A:Ri,b:Vo,B:vs,c:Ii,d:je,e:je,f:ie,g:nr,G:Nn,H:Rt,I:Rt,j:nt,L:ft,m:oe,M:hn,p:ma,q:yt,Q:Ue,s:xt,S:an,u:Qt,U:Fn,V:Wn,w:nn,W:Zn,x:Do,X:Na,y:nr,Y:Nn,Z:Ke,"%":Te};ho.x=Zi(Bn,ho),ho.X=Zi(Yn,ho),ho.c=Zi(Kt,ho),ls.x=Zi(Bn,ls),ls.X=Zi(Yn,ls),ls.c=Zi(Kt,ls);function Zi(ui,rs){return function(cs){var mr=[],is=-1,Me=0,gt=ui.length,Jt,$t,pn;for(cs instanceof Date||(cs=new Date(+cs));++is<gt;)ui.charCodeAt(is)===37&&(mr.push(ui.slice(Me,is)),($t=tr[Jt=ui.charAt(++is)])!=null?Jt=ui.charAt(++is):$t=Jt==="e"?" ":"0",(pn=rs[Jt])&&(Jt=pn(cs,$t)),mr.push(Jt),Me=is+1);return mr.push(ui.slice(Me,is)),mr.join("")}}function fu(ui,rs){return function(cs){var mr=un(1900,void 0,1),is=Ms(mr,ui,cs+="",0),Me,gt;if(is!=cs.length)return null;if("Q"in mr)return new Date(mr.Q);if("s"in mr)return new Date(mr.s*1e3+("L"in mr?mr.L:0));if(rs&&!("Z"in mr)&&(mr.Z=0),"p"in mr&&(mr.H=mr.H%12+mr.p*12),mr.m===void 0&&(mr.m="q"in mr?mr.q:0),"V"in mr){if(mr.V<1||mr.V>53)return null;"w"in mr||(mr.w=1),"Z"in mr?(Me=It(un(mr.y,0,1)),gt=Me.getUTCDay(),Me=gt>4||gt===0?Yt.ceil(Me):Yt(Me),Me=ct.offset(Me,(mr.V-1)*7),mr.y=Me.getUTCFullYear(),mr.m=Me.getUTCMonth(),mr.d=Me.getUTCDate()+(mr.w+6)%7):(Me=yn(un(mr.y,0,1)),gt=Me.getDay(),Me=gt>4||gt===0?ce.ceil(Me):ce(Me),Me=_e.offset(Me,(mr.V-1)*7),mr.y=Me.getFullYear(),mr.m=Me.getMonth(),mr.d=Me.getDate()+(mr.w+6)%7)}else("W"in mr||"U"in mr)&&("w"in mr||(mr.w="u"in mr?mr.u%7:"W"in mr?1:0),gt="Z"in mr?It(un(mr.y,0,1)).getUTCDay():yn(un(mr.y,0,1)).getDay(),mr.m=0,mr.d="W"in mr?(mr.w+6)%7+mr.W*7-(gt+5)%7:mr.w+mr.U*7-(gt+6)%7);return"Z"in mr?(mr.H+=mr.Z/100|0,mr.M+=mr.Z%100,It(mr)):yn(mr)}}function Ms(ui,rs,cs,mr){for(var is=0,Me=rs.length,gt=cs.length,Jt,$t;is<Me;){if(mr>=gt)return-1;if(Jt=rs.charCodeAt(is++),Jt===37){if(Jt=rs.charAt(is++),$t=ps[Jt in tr?rs.charAt(is++):Jt],!$t||(mr=$t(ui,cs,mr))<0)return-1}else if(Jt!=cs.charCodeAt(mr++))return-1}return mr}function ma(ui,rs,cs){var mr=ro.exec(rs.slice(cs));return mr?(ui.p=us.get(mr[0].toLowerCase()),cs+mr[0].length):-1}function oa(ui,rs,cs){var mr=hi.exec(rs.slice(cs));return mr?(ui.w=Ei.get(mr[0].toLowerCase()),cs+mr[0].length):-1}function Ri(ui,rs,cs){var mr=io.exec(rs.slice(cs));return mr?(ui.w=fo.get(mr[0].toLowerCase()),cs+mr[0].length):-1}function Vo(ui,rs,cs){var mr=fa.exec(rs.slice(cs));return mr?(ui.m=da.get(mr[0].toLowerCase()),cs+mr[0].length):-1}function vs(ui,rs,cs){var mr=Wi.exec(rs.slice(cs));return mr?(ui.m=Jo.get(mr[0].toLowerCase()),cs+mr[0].length):-1}function Ii(ui,rs,cs){return Ms(ui,Kt,rs,cs)}function Do(ui,rs,cs){return Ms(ui,Bn,rs,cs)}function Na(ui,rs,cs){return Ms(ui,Yn,rs,cs)}function Ka(ui){return Xr[ui.getDay()]}function Oo(ui){return Br[ui.getDay()]}function Ao(ui){return co[ui.getMonth()]}function qa(ui){return Cs[ui.getMonth()]}function du(ui){return ri[+(ui.getHours()>=12)]}function Ua(ui){return 1+~~(ui.getMonth()/3)}function aa(ui){return Xr[ui.getUTCDay()]}function ua(ui){return Br[ui.getUTCDay()]}function gl(ui){return co[ui.getUTCMonth()]}function $l(ui){return Cs[ui.getUTCMonth()]}function ta(ui){return ri[+(ui.getUTCHours()>=12)]}function Zu(ui){return 1+~~(ui.getUTCMonth()/3)}return{format:function(ui){var rs=Zi(ui+="",ho);return rs.toString=function(){return ui},rs},parse:function(ui){var rs=fu(ui+="",!1);return rs.toString=function(){return ui},rs},utcFormat:function(ui){var rs=Zi(ui+="",ls);return rs.toString=function(){return ui},rs},utcParse:function(ui){var rs=fu(ui+="",!0);return rs.toString=function(){return ui},rs}}}var tr={"-":"",_:" ","0":"0"},Rn=/^\s*\d+/,Re=/^%/,He=/[\\^$*+?|[\]().{}]/g;function De(Ye,Kt,Bn){var Yn=Ye<0?"-":"",ri=(Yn?-Ye:Ye)+"",Br=ri.length;return Yn+(Br<Bn?new Array(Bn-Br+1).join(Kt)+ri:ri)}function Bt(Ye){return Ye.replace(He,"\\$&")}function pt(Ye){return new RegExp("^(?:"+Ye.map(Bt).join("|")+")","i")}function mt(Ye){return new Map(Ye.map((Kt,Bn)=>[Kt.toLowerCase(),Bn]))}function nn(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+1));return Yn?(Ye.w=+Yn[0],Bn+Yn[0].length):-1}function Qt(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+1));return Yn?(Ye.u=+Yn[0],Bn+Yn[0].length):-1}function Fn(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+2));return Yn?(Ye.U=+Yn[0],Bn+Yn[0].length):-1}function Wn(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+2));return Yn?(Ye.V=+Yn[0],Bn+Yn[0].length):-1}function Zn(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+2));return Yn?(Ye.W=+Yn[0],Bn+Yn[0].length):-1}function Nn(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+4));return Yn?(Ye.y=+Yn[0],Bn+Yn[0].length):-1}function nr(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+2));return Yn?(Ye.y=+Yn[0]+(+Yn[0]>68?1900:2e3),Bn+Yn[0].length):-1}function Ke(Ye,Kt,Bn){var Yn=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Kt.slice(Bn,Bn+6));return Yn?(Ye.Z=Yn[1]?0:-(Yn[2]+(Yn[3]||"00")),Bn+Yn[0].length):-1}function yt(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+1));return Yn?(Ye.q=Yn[0]*3-3,Bn+Yn[0].length):-1}function oe(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+2));return Yn?(Ye.m=Yn[0]-1,Bn+Yn[0].length):-1}function je(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+2));return Yn?(Ye.d=+Yn[0],Bn+Yn[0].length):-1}function nt(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+3));return Yn?(Ye.m=0,Ye.d=+Yn[0],Bn+Yn[0].length):-1}function Rt(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+2));return Yn?(Ye.H=+Yn[0],Bn+Yn[0].length):-1}function hn(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+2));return Yn?(Ye.M=+Yn[0],Bn+Yn[0].length):-1}function an(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+2));return Yn?(Ye.S=+Yn[0],Bn+Yn[0].length):-1}function ft(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+3));return Yn?(Ye.L=+Yn[0],Bn+Yn[0].length):-1}function ie(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn,Bn+6));return Yn?(Ye.L=Math.floor(Yn[0]/1e3),Bn+Yn[0].length):-1}function Te(Ye,Kt,Bn){var Yn=Re.exec(Kt.slice(Bn,Bn+1));return Yn?Bn+Yn[0].length:-1}function Ue(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn));return Yn?(Ye.Q=+Yn[0],Bn+Yn[0].length):-1}function xt(Ye,Kt,Bn){var Yn=Rn.exec(Kt.slice(Bn));return Yn?(Ye.s=+Yn[0],Bn+Yn[0].length):-1}function Et(Ye,Kt){return De(Ye.getDate(),Kt,2)}function Nt(Ye,Kt){return De(Ye.getHours(),Kt,2)}function ne(Ye,Kt){return De(Ye.getHours()%12||12,Kt,2)}function we(Ye,Kt){return De(1+_e.count(re(Ye),Ye),Kt,3)}function Qe(Ye,Kt){return De(Ye.getMilliseconds(),Kt,3)}function it(Ye,Kt){return Qe(Ye,Kt)+"000"}function Ut(Ye,Kt){return De(Ye.getMonth()+1,Kt,2)}function sn(Ye,Kt){return De(Ye.getMinutes(),Kt,2)}function Cn(Ye,Kt){return De(Ye.getSeconds(),Kt,2)}function En(Ye){var Kt=Ye.getDay();return Kt===0?7:Kt}function vn(Ye,Kt){return De(Se.count(re(Ye)-1,Ye),Kt,2)}function zn(Ye){var Kt=Ye.getDay();return Kt>=4||Kt===0?tt(Ye):tt.ceil(Ye)}function Oe(Ye,Kt){return Ye=zn(Ye),De(tt.count(re(Ye),Ye)+(re(Ye).getDay()===4),Kt,2)}function ze(Ye){return Ye.getDay()}function Dt(Ye,Kt){return De(ce.count(re(Ye)-1,Ye),Kt,2)}function N(Ye,Kt){return De(Ye.getFullYear()%100,Kt,2)}function V(Ye,Kt){return Ye=zn(Ye),De(Ye.getFullYear()%100,Kt,2)}function be(Ye,Kt){return De(Ye.getFullYear()%1e4,Kt,4)}function xe(Ye,Kt){var Bn=Ye.getDay();return Ye=Bn>=4||Bn===0?tt(Ye):tt.ceil(Ye),De(Ye.getFullYear()%1e4,Kt,4)}function K(Ye){var Kt=Ye.getTimezoneOffset();return(Kt>0?"-":(Kt*=-1,"+"))+De(Kt/60|0,"0",2)+De(Kt%60,"0",2)}function ae(Ye,Kt){return De(Ye.getUTCDate(),Kt,2)}function fe(Ye,Kt){return De(Ye.getUTCHours(),Kt,2)}function Ge(Ye,Kt){return De(Ye.getUTCHours()%12||12,Kt,2)}function Mt(Ye,Kt){return De(1+ct.count(gn(Ye),Ye),Kt,3)}function At(Ye,Kt){return De(Ye.getUTCMilliseconds(),Kt,3)}function dn(Ye,Kt){return At(Ye,Kt)+"000"}function w(Ye,Kt){return De(Ye.getUTCMonth()+1,Kt,2)}function j(Ye,Kt){return De(Ye.getUTCMinutes(),Kt,2)}function ee(Ye,Kt){return De(Ye.getUTCSeconds(),Kt,2)}function Ee(Ye){var Kt=Ye.getUTCDay();return Kt===0?7:Kt}function dt(Ye,Kt){return De(Lt.count(gn(Ye)-1,Ye),Kt,2)}function Ft(Ye){var Kt=Ye.getUTCDay();return Kt>=4||Kt===0?Gt(Ye):Gt.ceil(Ye)}function Zt(Ye,Kt){return Ye=Ft(Ye),De(Gt.count(gn(Ye),Ye)+(gn(Ye).getUTCDay()===4),Kt,2)}function Xt(Ye){return Ye.getUTCDay()}function mn(Ye,Kt){return De(Yt.count(gn(Ye)-1,Ye),Kt,2)}function qn(Ye,Kt){return De(Ye.getUTCFullYear()%100,Kt,2)}function Un(Ye,Kt){return Ye=Ft(Ye),De(Ye.getUTCFullYear()%100,Kt,2)}function Vn(Ye,Kt){return De(Ye.getUTCFullYear()%1e4,Kt,4)}function Jr(Ye,Kt){var Bn=Ye.getUTCDay();return Ye=Bn>=4||Bn===0?Gt(Ye):Gt.ceil(Ye),De(Ye.getUTCFullYear()%1e4,Kt,4)}function Vr(){return"+0000"}function yr(){return"%"}function Mr(Ye){return+Ye}function xi(Ye){return Math.floor(+Ye/1e3)}var ai,Xi,Ss,ts,wa;pa({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pa(Ye){return ai=Mn(Ye),Xi=ai.format,Ss=ai.parse,ts=ai.utcFormat,wa=ai.utcParse,ai}function xl(Ye,Kt,Bn){Bn=Bn||{},t.isObject(Bn)||t.error(`Invalid time multi-format specifier: ${Bn}`);let Yn=Kt(e.SECONDS),ri=Kt(e.MINUTES),Br=Kt(e.HOURS),Xr=Kt(e.DATE),Cs=Kt(e.WEEK),co=Kt(e.MONTH),ro=Kt(e.QUARTER),us=Kt(e.YEAR),io=Ye(Bn[e.MILLISECONDS]||".%L"),fo=Ye(Bn[e.SECONDS]||":%S"),hi=Ye(Bn[e.MINUTES]||"%I:%M"),Ei=Ye(Bn[e.HOURS]||"%I %p"),Wi=Ye(Bn[e.DATE]||Bn[e.DAY]||"%a %d"),Jo=Ye(Bn[e.WEEK]||"%b %d"),fa=Ye(Bn[e.MONTH]||"%B"),da=Ye(Bn[e.QUARTER]||"%B"),ho=Ye(Bn[e.YEAR]||"%Y");return ls=>(Yn(ls)<ls?io:ri(ls)<ls?fo:Br(ls)<ls?hi:Xr(ls)<ls?Ei:co(ls)<ls?Cs(ls)<ls?Wi:Jo:us(ls)<ls?ro(ls)<ls?fa:da:ho)(ls)}function Oc(Ye){let Kt=r(Ye.format),Bn=r(Ye.utcFormat);return{timeFormat:Yn=>t.isString(Yn)?Kt(Yn):xl(Kt,e.timeInterval,Yn),utcFormat:Yn=>t.isString(Yn)?Bn(Yn):xl(Bn,e.utcInterval,Yn),timeParse:r(Ye.parse),utcParse:r(Ye.utcParse)}}let lu;cu();function cu(){return lu=Oc({format:Xi,parse:Ss,utcFormat:ts,utcParse:wa})}function Ju(Ye){return Oc(Mn(Ye))}function Fu(Ye){return arguments.length?lu=Ju(Ye):lu}let Rc=(Ye,Kt)=>t.extend({},Ye,Kt);function ea(Ye,Kt){let Bn=Ye?Ce(Ye):pe(),Yn=Kt?Ju(Kt):Fu();return Rc(Bn,Yn)}function Xu(Ye,Kt){let Bn=arguments.length;return Bn&&Bn!==2&&t.error("defaultLocale expects either zero or two arguments."),Bn?Rc(pe(Ye),Fu(Kt)):Rc(pe(),Fu())}function ef(){return Le(),cu(),Xu()}n.defaultLocale=Xu,n.locale=ea,n.numberFormatDefaultLocale=pe,n.numberFormatLocale=Ce,n.resetDefaultLocale=ef,n.resetNumberFormatDefaultLocale=Le,n.resetTimeFormatDefaultLocale=cu,n.timeFormatDefaultLocale=Fu,n.timeFormatLocale=Ju,Object.defineProperty(n,"__esModule",{value:!0})})});var MH=Ae((IH,GFe)=>{m();(function(n,e){typeof IH=="object"&&typeof GFe!="undefined"?e(IH,Au(),VFe(),XR()):typeof define=="function"&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.topojson,n.vega))})(IH,function(n,e,t,r){"use strict";let i=/^(data:|([A-Za-z]+:)?\/\/)/,s=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,o=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,a="file://";function l(Se,ce){return tt=>({options:tt||{},sanitize:p,load:f,fileAccess:!!ce,file:_(ce),http:O(Se)})}async function f(Se,ce){let tt=await this.sanitize(Se,ce),Ie=tt.href;return tt.localFile?this.file(Ie):this.http(Ie,ce)}async function p(Se,ce){ce=e.extend({},this.options,ce);let tt=this.fileAccess,Ie={href:null},re,Ne,ct,_t=s.test(Se.replace(o,""));(Se==null||typeof Se!="string"||!_t)&&e.error("Sanitize failure, invalid URI: "+e.stringValue(Se));let Lt=i.test(Se);return(ct=ce.baseURL)&&!Lt&&(!Se.startsWith("/")&&!ct.endsWith("/")&&(Se="/"+Se),Se=ct+Se),Ne=(re=Se.startsWith(a))||ce.mode==="file"||ce.mode!=="http"&&!Lt&&tt,re?Se=Se.slice(a.length):Se.startsWith("//")&&(ce.defaultProtocol==="file"?(Se=Se.slice(2),Ne=!0):Se=(ce.defaultProtocol||"http")+":"+Se),Object.defineProperty(Ie,"localFile",{value:!!Ne}),Ie.href=Se,ce.target&&(Ie.target=ce.target+""),ce.rel&&(Ie.rel=ce.rel+""),ce.context==="image"&&ce.crossOrigin&&(Ie.crossOrigin=ce.crossOrigin+""),Ie}function _(Se){return Se?ce=>new Promise((tt,Ie)=>{Se.readFile(ce,(re,Ne)=>{re?Ie(re):tt(Ne)})}):E}async function E(){e.error("No file system access.")}function O(Se){return Se?async function(ce,tt){let Ie=e.extend({},this.options.http,tt),re=tt&&tt.response,Ne=await Se(ce,Ie);return Ne.ok?e.isFunction(Ne[re])?Ne[re]():Ne.text():e.error(Ne.status+""+Ne.statusText)}:R}async function R(){e.error("No HTTP fetch method available.")}let q=Se=>Se!=null&&Se===Se,z=Se=>Se==="true"||Se==="false"||Se===!0||Se===!1,L=Se=>!Number.isNaN(Date.parse(Se)),B=Se=>!Number.isNaN(+Se)&&!(Se instanceof Date),P=Se=>B(Se)&&Number.isInteger(+Se),G={boolean:e.toBoolean,integer:e.toNumber,number:e.toNumber,date:e.toDate,string:e.toString,unknown:e.identity},ue=[z,P,B,L],I=["boolean","integer","number","date"];function J(Se,ce){if(!Se||!Se.length)return"unknown";let tt=Se.length,Ie=ue.length,re=ue.map((Ne,ct)=>ct+1);for(let Ne=0,ct=0,_t,Lt;Ne<tt;++Ne)for(Lt=ce?Se[Ne][ce]:Se[Ne],_t=0;_t<Ie;++_t)if(re[_t]&&q(Lt)&&!ue[_t](Lt)&&(re[_t]=0,++ct,ct===ue.length))return"string";return I[re.reduce((Ne,ct)=>Ne===0?ct:Ne,0)-1]}function he(Se,ce){return ce.reduce((tt,Ie)=>(tt[Ie]=J(Se,Ie),tt),{})}var ve={},Ve={},ot=34,lt=10,et=13;function bt(Se){return new Function("d","return {"+Se.map(function(ce,tt){return JSON.stringify(ce)+": d["+tt+'] || ""'}).join(",")+"}")}function Pt(Se,ce){var tt=bt(Se);return function(Ie,re){return ce(tt(Ie),re,Se)}}function $e(Se){var ce=Object.create(null),tt=[];return Se.forEach(function(Ie){for(var re in Ie)re in ce||tt.push(ce[re]=re)}),tt}function te(Se,ce){var tt=Se+"",Ie=tt.length;return Ie<ce?new Array(ce-Ie+1).join(0)+tt:tt}function Ze(Se){return Se<0?"-"+te(-Se,6):Se>9999?"+"+te(Se,6):te(Se,4)}function ye(Se){var ce=Se.getUTCHours(),tt=Se.getUTCMinutes(),Ie=Se.getUTCSeconds(),re=Se.getUTCMilliseconds();return isNaN(Se)?"Invalid Date":Ze(Se.getUTCFullYear())+"-"+te(Se.getUTCMonth()+1,2)+"-"+te(Se.getUTCDate(),2)+(re?"T"+te(ce,2)+":"+te(tt,2)+":"+te(Ie,2)+"."+te(re,3)+"Z":Ie?"T"+te(ce,2)+":"+te(tt,2)+":"+te(Ie,2)+"Z":tt||ce?"T"+te(ce,2)+":"+te(tt,2)+"Z":"")}function Le(Se){var ce=new RegExp('["'+Se+`
\r]`),tt=Se.charCodeAt(0);function Ie(fn,gn){var yn,It,un=re(fn,function(Mn,tr){if(yn)return yn(Mn,tr-1);It=Mn,yn=gn?Pt(Mn,gn):bt(Mn)});return un.columns=It||[],un}function re(fn,gn){var yn=[],It=fn.length,un=0,Mn=0,tr,Rn=It<=0,Re=!1;fn.charCodeAt(It-1)===lt&&--It,fn.charCodeAt(It-1)===et&&--It;function He(){if(Rn)return Ve;if(Re)return Re=!1,ve;var Bt,pt=un,mt;if(fn.charCodeAt(pt)===ot){for(;un++<It&&fn.charCodeAt(un)!==ot||fn.charCodeAt(++un)===ot;);return(Bt=un)>=It?Rn=!0:(mt=fn.charCodeAt(un++))===lt?Re=!0:mt===et&&(Re=!0,fn.charCodeAt(un)===lt&&++un),fn.slice(pt+1,Bt-1).replace(/""/g,'"')}for(;un<It;){if((mt=fn.charCodeAt(Bt=un++))===lt)Re=!0;else if(mt===et)Re=!0,fn.charCodeAt(un)===lt&&++un;else if(mt!==tt)continue;return fn.slice(pt,Bt)}return Rn=!0,fn.slice(pt,It)}for(;(tr=He())!==Ve;){for(var De=[];tr!==ve&&tr!==Ve;)De.push(tr),tr=He();gn&&(De=gn(De,Mn++))==null||yn.push(De)}return yn}function Ne(fn,gn){return fn.map(function(yn){return gn.map(function(It){return Gt(yn[It])}).join(Se)})}function ct(fn,gn){return gn==null&&(gn=$e(fn)),[gn.map(Gt).join(Se)].concat(Ne(fn,gn)).join(`
`)}function _t(fn,gn){return gn==null&&(gn=$e(fn)),Ne(fn,gn).join(`
`)}function Lt(fn){return fn.map(Yt).join(`
`)}function Yt(fn){return fn.map(Gt).join(Se)}function Gt(fn){return fn==null?"":fn instanceof Date?ye(fn):ce.test(fn+="")?'"'+fn.replace(/"/g,'""')+'"':fn}return{parse:Ie,parseRows:re,format:ct,formatBody:_t,formatRows:Lt,formatRow:Yt,formatValue:Gt}}function Ce(Se){let ce=function(tt,Ie){let re={delimiter:Se};return pe(tt,Ie?e.extend(Ie,re):re)};return ce.responseType="text",ce}function pe(Se,ce){return ce.header&&(Se=ce.header.map(e.stringValue).join(ce.delimiter)+`
`+Se),Le(ce.delimiter).parse(Se+"")}pe.responseType="text";function Je(Se){return typeof Buffer=="function"&&e.isFunction(Buffer.isBuffer)?Buffer.isBuffer(Se):!1}function ut(Se,ce){let tt=ce&&ce.property?e.field(ce.property):e.identity;return e.isObject(Se)&&!Je(Se)?Ht(tt(Se),ce):tt(JSON.parse(Se))}ut.responseType="json";function Ht(Se,ce){return!e.isArray(Se)&&e.isIterable(Se)&&(Se=[...Se]),ce&&ce.copy?JSON.parse(JSON.stringify(Se)):Se}let Ct={interior:(Se,ce)=>Se!==ce,exterior:(Se,ce)=>Se===ce};function xn(Se,ce){let tt,Ie,re,Ne;return Se=ut(Se,ce),ce&&ce.feature?(tt=t.feature,re=ce.feature):ce&&ce.mesh?(tt=t.mesh,re=ce.mesh,Ne=Ct[ce.filter]):e.error("Missing TopoJSON feature or mesh parameter."),Ie=(Ie=Se.objects[re])?tt(Se,Ie,Ne):e.error("Invalid TopoJSON object: "+re),Ie&&Ie.features||[Ie]}xn.responseType="json";let Tt={dsv:pe,csv:Ce(","),tsv:Ce("	"),json:ut,topojson:xn};function Ot(Se,ce){return arguments.length>1?(Tt[Se]=ce,this):e.hasOwnProperty(Tt,Se)?Tt[Se]:null}function rn(Se){let ce=Ot(Se);return ce&&ce.responseType||"text"}function St(Se,ce,tt,Ie){ce=ce||{};let re=Ot(ce.type||"json");return re||e.error("Unknown data format type: "+ce.type),Se=re(Se,ce),ce.parse&&_e(Se,ce.parse,tt,Ie),e.hasOwnProperty(Se,"columns")&&delete Se.columns,Se}function _e(Se,ce,tt,Ie){if(!Se.length)return;let re=r.timeFormatDefaultLocale();tt=tt||re.timeParse,Ie=Ie||re.utcParse;let Ne=Se.columns||Object.keys(Se[0]),ct,_t,Lt,Yt,Gt,fn;ce==="auto"&&(ce=he(Se,Ne)),Ne=Object.keys(ce);let gn=Ne.map(yn=>{let It=ce[yn],un,Mn;if(It&&(It.startsWith("date:")||It.startsWith("utc:")))return un=It.split(/:(.+)?/,2),Mn=un[1],(Mn[0]==="'"&&Mn[Mn.length-1]==="'"||Mn[0]==='"'&&Mn[Mn.length-1]==='"')&&(Mn=Mn.slice(1,-1)),(un[0]==="utc"?Ie:tt)(Mn);if(!G[It])throw Error("Illegal format pattern: "+yn+":"+It);return G[It]});for(Lt=0,Gt=Se.length,fn=Ne.length;Lt<Gt;++Lt)for(ct=Se[Lt],Yt=0;Yt<fn;++Yt)_t=Ne[Yt],ct[_t]=gn[Yt](ct[_t])}let ke=l(typeof fetch!="undefined"&&fetch,null);n.format=Tt,n.formats=Ot,n.inferType=J,n.inferTypes=he,n.loader=ke,n.read=St,n.responseType=rn,n.typeParsers=G,Object.defineProperty(n,"__esModule",{value:!0})})});var r0=Ae((PH,YFe)=>{m();(function(n,e){typeof PH=="object"&&typeof YFe!="undefined"?e(PH,Au(),MH(),XR()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(PH,function(n,e,t,r){"use strict";function i(Ke){let yt=Ke||e.identity,oe=[],je={};return oe.add=nt=>{let Rt=yt(nt);return je[Rt]||(je[Rt]=1,oe.push(nt)),oe},oe.remove=nt=>{let Rt=yt(nt);if(je[Rt]){je[Rt]=0;let hn=oe.indexOf(nt);hn>=0&&oe.splice(hn,1)}return oe},oe}async function s(Ke,yt){try{await yt(Ke)}catch(oe){Ke.error(oe)}}let o=Symbol("vega_id"),a=1;function l(Ke){return!!(Ke&&f(Ke))}function f(Ke){return Ke[o]}function p(Ke,yt){return Ke[o]=yt,Ke}function _(Ke){let yt=Ke===Object(Ke)?Ke:{data:Ke};return f(yt)?yt:p(yt,a++)}function E(Ke){return O(Ke,_({}))}function O(Ke,yt){for(let oe in Ke)yt[oe]=Ke[oe];return yt}function R(Ke,yt){return p(yt,f(Ke))}function q(Ke,yt){return Ke?yt?(oe,je)=>Ke(oe,je)||f(yt(oe))-f(yt(je)):(oe,je)=>Ke(oe,je)||f(oe)-f(je):null}function z(Ke){return Ke&&Ke.constructor===L}function L(){let Ke=[],yt=[],oe=[],je=[],nt=[],Rt=null,hn=!1;return{constructor:L,insert(an){let ft=e.array(an),ie=ft.length;for(let Te=0;Te<ie;++Te)Ke.push(ft[Te]);return this},remove(an){let ft=e.isFunction(an)?je:yt,ie=e.array(an),Te=ie.length;for(let Ue=0;Ue<Te;++Ue)ft.push(ie[Ue]);return this},modify(an,ft,ie){let Te={field:ft,value:e.constant(ie)};return e.isFunction(an)?(Te.filter=an,nt.push(Te)):(Te.tuple=an,oe.push(Te)),this},encode(an,ft){return e.isFunction(an)?nt.push({filter:an,field:ft}):oe.push({tuple:an,field:ft}),this},clean(an){return Rt=an,this},reflow(){return hn=!0,this},pulse(an,ft){let ie={},Te={},Ue,xt,Et,Nt,ne,we;for(Ue=0,xt=ft.length;Ue<xt;++Ue)ie[f(ft[Ue])]=1;for(Ue=0,xt=yt.length;Ue<xt;++Ue)ne=yt[Ue],ie[f(ne)]=-1;for(Ue=0,xt=je.length;Ue<xt;++Ue)Nt=je[Ue],ft.forEach(it=>{Nt(it)&&(ie[f(it)]=-1)});for(Ue=0,xt=Ke.length;Ue<xt;++Ue)ne=Ke[Ue],we=f(ne),ie[we]?ie[we]=1:an.add.push(_(Ke[Ue]));for(Ue=0,xt=ft.length;Ue<xt;++Ue)ne=ft[Ue],ie[f(ne)]<0&&an.rem.push(ne);function Qe(it,Ut,sn){sn?it[Ut]=sn(it):an.encode=Ut,hn||(Te[f(it)]=it)}for(Ue=0,xt=oe.length;Ue<xt;++Ue)Et=oe[Ue],ne=Et.tuple,Nt=Et.field,we=ie[f(ne)],we>0&&(Qe(ne,Nt,Et.value),an.modifies(Nt));for(Ue=0,xt=nt.length;Ue<xt;++Ue)Et=nt[Ue],Nt=Et.filter,ft.forEach(it=>{Nt(it)&&ie[f(it)]>0&&Qe(it,Et.field,Et.value)}),an.modifies(Et.field);if(hn)an.mod=yt.length||je.length?ft.filter(it=>ie[f(it)]>0):ft.slice();else for(we in Te)an.mod.push(Te[we]);return(Rt||Rt==null&&(yt.length||je.length))&&an.clean(!0),an}}}let B="_:mod:_";function P(){Object.defineProperty(this,B,{writable:!0,value:{}})}P.prototype={set(Ke,yt,oe,je){let nt=this,Rt=nt[Ke],hn=nt[B];return yt!=null&&yt>=0?(Rt[yt]!==oe||je)&&(Rt[yt]=oe,hn[yt+":"+Ke]=-1,hn[Ke]=-1):(Rt!==oe||je)&&(nt[Ke]=oe,hn[Ke]=e.isArray(oe)?1+oe.length:-1),nt},modified(Ke,yt){let oe=this[B];if(arguments.length){if(e.isArray(Ke)){for(let je=0;je<Ke.length;++je)if(oe[Ke[je]])return!0;return!1}}else{for(let je in oe)if(oe[je])return!0;return!1}return yt!=null&&yt>=0?yt+1<oe[Ke]||!!oe[yt+":"+Ke]:!!oe[Ke]},clear(){return this[B]={},this}};let G=0,ue="pulse",I=new P,J=1,he=2;function ve(Ke,yt,oe,je){this.id=++G,this.value=Ke,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,yt&&(this._update=yt),oe&&this.parameters(oe,je)}function Ve(Ke){return function(yt){let oe=this.flags;return arguments.length===0?!!(oe&Ke):(this.flags=yt?oe|Ke:oe&~Ke,this)}}ve.prototype={targets(){return this._targets||(this._targets=i(e.id))},set(Ke){return this.value!==Ke?(this.value=Ke,1):0},skip:Ve(J),modified:Ve(he),parameters(Ke,yt,oe){yt=yt!==!1;let je=this._argval=this._argval||new P,nt=this._argops=this._argops||[],Rt=[],hn,an,ft,ie,Te=(Ue,xt,Et)=>{Et instanceof ve?(Et!==this&&(yt&&Et.targets().add(this),Rt.push(Et)),nt.push({op:Et,name:Ue,index:xt})):je.set(Ue,xt,Et)};for(hn in Ke)if(an=Ke[hn],hn===ue)e.array(an).forEach(Ue=>{Ue instanceof ve?Ue!==this&&(Ue.targets().add(this),Rt.push(Ue)):e.error("Pulse parameters must be operator instances.")}),this.source=an;else if(e.isArray(an))for(je.set(hn,-1,Array(ft=an.length)),ie=0;ie<ft;++ie)Te(hn,ie,an[ie]);else Te(hn,-1,an);return this.marshall().clear(),oe&&(nt.initonly=!0),Rt},marshall(Ke){let yt=this._argval||I,oe=this._argops,je,nt,Rt,hn;if(oe){let an=oe.length;for(nt=0;nt<an;++nt)je=oe[nt],Rt=je.op,hn=Rt.modified()&&Rt.stamp===Ke,yt.set(je.name,je.index,Rt.value,hn);if(oe.initonly){for(nt=0;nt<an;++nt)je=oe[nt],je.op.targets().remove(this);this._argops=null,this._update=null}}return yt},detach(){let Ke=this._argops,yt,oe,je,nt;if(Ke)for(yt=0,oe=Ke.length;yt<oe;++yt)je=Ke[yt],nt=je.op,nt._targets&&nt._targets.remove(this);this.pulse=null,this.source=null},evaluate(Ke){let yt=this._update;if(yt){let oe=this.marshall(Ke.stamp),je=yt.call(this,oe,Ke);if(oe.clear(),je!==this.value)this.value=je;else if(!this.modified())return Ke.StopPropagation}},run(Ke){if(Ke.stamp<this.stamp)return Ke.StopPropagation;let yt;return this.skip()?(this.skip(!1),yt=0):yt=this.evaluate(Ke),this.pulse=yt||Ke}};function ot(Ke,yt,oe,je){let nt=1,Rt;return Ke instanceof ve?Rt=Ke:Ke&&Ke.prototype instanceof ve?Rt=new Ke:e.isFunction(Ke)?Rt=new ve(null,Ke):(nt=0,Rt=new ve(Ke,yt)),this.rank(Rt),nt&&(je=oe,oe=yt),oe&&this.connect(Rt,Rt.parameters(oe,je)),this.touch(Rt),Rt}function lt(Ke,yt){let oe=Ke.rank,je=yt.length;for(let nt=0;nt<je;++nt)if(oe<yt[nt].rank){this.rerank(Ke);return}}let et=0;function bt(Ke,yt,oe){this.id=++et,this.value=null,oe&&(this.receive=oe),Ke&&(this._filter=Ke),yt&&(this._apply=yt)}function Pt(Ke,yt,oe){return new bt(Ke,yt,oe)}bt.prototype={_filter:e.truthy,_apply:e.identity,targets(){return this._targets||(this._targets=i(e.id))},consume(Ke){return arguments.length?(this._consume=!!Ke,this):!!this._consume},receive(Ke){if(this._filter(Ke)){let yt=this.value=this._apply(Ke),oe=this._targets,je=oe?oe.length:0;for(let nt=0;nt<je;++nt)oe[nt].receive(yt);this._consume&&(Ke.preventDefault(),Ke.stopPropagation())}},filter(Ke){let yt=Pt(Ke);return this.targets().add(yt),yt},apply(Ke){let yt=Pt(null,Ke);return this.targets().add(yt),yt},merge(){let Ke=Pt();this.targets().add(Ke);for(let yt=0,oe=arguments.length;yt<oe;++yt)arguments[yt].targets().add(Ke);return Ke},throttle(Ke){let yt=-1;return this.filter(()=>{let oe=Date.now();return oe-yt>Ke?(yt=oe,1):0})},debounce(Ke){let yt=Pt();return this.targets().add(Pt(null,null,e.debounce(Ke,oe=>{let je=oe.dataflow;yt.receive(oe),je&&je.run&&je.run()}))),yt},between(Ke,yt){let oe=!1;return Ke.targets().add(Pt(null,null,()=>oe=!0)),yt.targets().add(Pt(null,null,()=>oe=!1)),this.filter(()=>oe)},detach(){this._filter=e.truthy,this._targets=null}};function $e(Ke,yt,oe,je){let nt=this,Rt=Pt(oe,je),hn=function(ie){ie.dataflow=nt;try{Rt.receive(ie)}catch(Te){nt.error(Te)}finally{nt.run()}},an;typeof Ke=="string"&&typeof document!="undefined"?an=document.querySelectorAll(Ke):an=e.array(Ke);let ft=an.length;for(let ie=0;ie<ft;++ie)an[ie].addEventListener(yt,hn);return Rt}function te(Ke,yt){let oe=this.locale();return t.read(Ke,yt,oe.timeParse,oe.utcParse)}function Ze(Ke,yt,oe){return yt=this.parse(yt,oe),this.pulse(Ke,this.changeset().insert(yt))}async function ye(Ke,yt){let oe=this,je=0,nt;try{nt=await oe.loader().load(Ke,{context:"dataflow",response:t.responseType(yt&&yt.type)});try{nt=oe.parse(nt,yt)}catch(Rt){je=-2,oe.warn("Data ingestion failed",Ke,Rt)}}catch(Rt){je=-1,oe.warn("Loading failed",Ke,Rt)}return{data:nt,status:je}}async function Le(Ke,yt,oe){let je=this,nt=je._pending||Ce(je);nt.requests+=1;let Rt=await je.request(yt,oe);return je.pulse(Ke,je.changeset().remove(e.truthy).insert(Rt.data||[])),nt.done(),Rt}function Ce(Ke){let yt,oe=new Promise(je=>yt=je);return oe.requests=0,oe.done=()=>{--oe.requests===0&&(Ke._pending=null,yt(Ke))},Ke._pending=oe}let pe={skip:!0};function Je(Ke,yt,oe,je,nt){return(Ke instanceof ve?Ht:ut)(this,Ke,yt,oe,je,nt),this}function ut(Ke,yt,oe,je,nt,Rt){let hn=e.extend({},Rt,pe),an,ft;e.isFunction(oe)||(oe=e.constant(oe)),je===void 0?an=ie=>Ke.touch(oe(ie)):e.isFunction(je)?(ft=new ve(null,je,nt,!1),an=ie=>{ft.evaluate(ie);let Te=oe(ie),Ue=ft.value;z(Ue)?Ke.pulse(Te,Ue,Rt):Ke.update(Te,Ue,hn)}):an=ie=>Ke.update(oe(ie),je,hn),yt.apply(an)}function Ht(Ke,yt,oe,je,nt,Rt){if(je===void 0)yt.targets().add(oe);else{let hn=Rt||{},an=new ve(null,Ct(oe,je),nt,!1);an.modified(hn.force),an.rank=yt.rank,yt.targets().add(an),oe&&(an.skip(!0),an.value=oe.value,an.targets().add(oe),Ke.connect(oe,[an]))}}function Ct(Ke,yt){return yt=e.isFunction(yt)?yt:e.constant(yt),Ke?function(oe,je){let nt=yt(oe,je);return Ke.skip()||(Ke.skip(nt!==this.value).value=nt),nt}:yt}function xn(Ke){Ke.rank=++this._rank}function Tt(Ke){let yt=[Ke],oe,je,nt;for(;yt.length;)if(this.rank(oe=yt.pop()),je=oe._targets)for(nt=je.length;--nt>=0;)yt.push(oe=je[nt]),oe===Ke&&e.error("Cycle detected in dataflow graph.")}let Ot={},rn=1<<0,St=1<<1,_e=1<<2,ke=rn|St,Se=rn|_e,ce=rn|St|_e,tt=1<<3,Ie=1<<4,re=1<<5,Ne=1<<6;function ct(Ke,yt,oe){this.dataflow=Ke,this.stamp=yt??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=oe||null}function _t(Ke,yt){let oe=[];return e.visitArray(Ke,yt,je=>oe.push(je)),oe}function Lt(Ke,yt){let oe={};return Ke.visit(yt,je=>{oe[f(je)]=1}),je=>oe[f(je)]?null:je}function Yt(Ke,yt){return Ke?(oe,je)=>Ke(oe,je)&&yt(oe,je):yt}ct.prototype={StopPropagation:Ot,ADD:rn,REM:St,MOD:_e,ADD_REM:ke,ADD_MOD:Se,ALL:ce,REFLOW:tt,SOURCE:Ie,NO_SOURCE:re,NO_FIELDS:Ne,fork(Ke){return new ct(this.dataflow).init(this,Ke)},clone(){let Ke=this.fork(ce);return Ke.add=Ke.add.slice(),Ke.rem=Ke.rem.slice(),Ke.mod=Ke.mod.slice(),Ke.source&&(Ke.source=Ke.source.slice()),Ke.materialize(ce|Ie)},addAll(){let Ke=this;return!Ke.source||Ke.add===Ke.rem||!Ke.rem.length&&Ke.source.length===Ke.add.length||(Ke=new ct(this.dataflow).init(this),Ke.add=Ke.source,Ke.rem=[]),Ke},init(Ke,yt){let oe=this;return oe.stamp=Ke.stamp,oe.encode=Ke.encode,Ke.fields&&!(yt&Ne)&&(oe.fields=Ke.fields),yt&rn?(oe.addF=Ke.addF,oe.add=Ke.add):(oe.addF=null,oe.add=[]),yt&St?(oe.remF=Ke.remF,oe.rem=Ke.rem):(oe.remF=null,oe.rem=[]),yt&_e?(oe.modF=Ke.modF,oe.mod=Ke.mod):(oe.modF=null,oe.mod=[]),yt&re?(oe.srcF=null,oe.source=null):(oe.srcF=Ke.srcF,oe.source=Ke.source,Ke.cleans&&(oe.cleans=Ke.cleans)),oe},runAfter(Ke){this.dataflow.runAfter(Ke)},changed(Ke){let yt=Ke||ce;return yt&rn&&this.add.length||yt&St&&this.rem.length||yt&_e&&this.mod.length},reflow(Ke){if(Ke)return this.fork(ce).reflow();let yt=this.add.length,oe=this.source&&this.source.length;return oe&&oe!==yt&&(this.mod=this.source,yt&&this.filter(_e,Lt(this,rn))),this},clean(Ke){return arguments.length?(this.cleans=!!Ke,this):this.cleans},modifies(Ke){let yt=this.fields||(this.fields={});return e.isArray(Ke)?Ke.forEach(oe=>yt[oe]=!0):yt[Ke]=!0,this},modified(Ke,yt){let oe=this.fields;return(yt||this.mod.length)&&oe?arguments.length?e.isArray(Ke)?Ke.some(je=>oe[je]):oe[Ke]:!!oe:!1},filter(Ke,yt){let oe=this;return Ke&rn&&(oe.addF=Yt(oe.addF,yt)),Ke&St&&(oe.remF=Yt(oe.remF,yt)),Ke&_e&&(oe.modF=Yt(oe.modF,yt)),Ke&Ie&&(oe.srcF=Yt(oe.srcF,yt)),oe},materialize(Ke){Ke=Ke||ce;let yt=this;return Ke&rn&&yt.addF&&(yt.add=_t(yt.add,yt.addF),yt.addF=null),Ke&St&&yt.remF&&(yt.rem=_t(yt.rem,yt.remF),yt.remF=null),Ke&_e&&yt.modF&&(yt.mod=_t(yt.mod,yt.modF),yt.modF=null),Ke&Ie&&yt.srcF&&(yt.source=yt.source.filter(yt.srcF),yt.srcF=null),yt},visit(Ke,yt){let oe=this,je=yt;if(Ke&Ie)return e.visitArray(oe.source,oe.srcF,je),oe;Ke&rn&&e.visitArray(oe.add,oe.addF,je),Ke&St&&e.visitArray(oe.rem,oe.remF,je),Ke&_e&&e.visitArray(oe.mod,oe.modF,je);let nt=oe.source;if(Ke&tt&&nt){let Rt=oe.add.length+oe.mod.length;Rt===nt.length||(Rt?e.visitArray(nt,Lt(oe,Se),je):e.visitArray(nt,oe.srcF,je))}return oe}};function Gt(Ke,yt,oe,je){let nt=this,Rt=oe.length,hn=0;this.dataflow=Ke,this.stamp=yt,this.fields=null,this.encode=je||null,this.pulses=oe;for(let an=0;an<Rt;++an){let ft=oe[an];if(ft.stamp===yt){if(ft.fields){let ie=nt.fields||(nt.fields={});for(let Te in ft.fields)ie[Te]=1}ft.changed(nt.ADD)&&(hn|=nt.ADD),ft.changed(nt.REM)&&(hn|=nt.REM),ft.changed(nt.MOD)&&(hn|=nt.MOD)}}this.changes=hn}e.inherits(Gt,ct,{fork(Ke){let yt=new ct(this.dataflow).init(this,Ke&this.NO_FIELDS);return Ke!==void 0&&(Ke&yt.ADD&&this.visit(yt.ADD,oe=>yt.add.push(oe)),Ke&yt.REM&&this.visit(yt.REM,oe=>yt.rem.push(oe)),Ke&yt.MOD&&this.visit(yt.MOD,oe=>yt.mod.push(oe))),yt},changed(Ke){return this.changes&Ke},modified(Ke){let yt=this,oe=yt.fields;return oe&&yt.changes&yt.MOD?e.isArray(Ke)?Ke.some(je=>oe[je]):oe[Ke]:0},filter(){e.error("MultiPulse does not support filtering.")},materialize(){e.error("MultiPulse does not support materialization.")},visit(Ke,yt){let oe=this,je=oe.pulses,nt=je.length,Rt=0;if(Ke&oe.SOURCE)for(;Rt<nt;++Rt)je[Rt].visit(Ke,yt);else for(;Rt<nt;++Rt)je[Rt].stamp===oe.stamp&&je[Rt].visit(Ke,yt);return oe}});async function fn(Ke,yt,oe){let je=this,nt=[];if(je._pulse)return un(je);if(je._pending&&await je._pending,yt&&await s(je,yt),!je._touched.length)return je.debug("Dataflow invoked, but nothing to do."),je;let Rt=++je._clock;je._pulse=new ct(je,Rt,Ke),je._touched.forEach(Te=>je._enqueue(Te,!0)),je._touched=i(e.id);let hn=0,an,ft,ie;try{for(;je._heap.size()>0;){if(an=je._heap.pop(),an.rank!==an.qrank){je._enqueue(an,!0);continue}ft=an.run(je._getPulse(an,Ke)),ft.then?ft=await ft:ft.async&&(nt.push(ft.async),ft=Ot),ft!==Ot&&an._targets&&an._targets.forEach(Te=>je._enqueue(Te)),++hn}}catch(Te){je._heap.clear(),ie=Te}if(je._input={},je._pulse=null,je.debug(`Pulse ${Rt}: ${hn} operators`),ie&&(je._postrun=[],je.error(ie)),je._postrun.length){let Te=je._postrun.sort((Ue,xt)=>xt.priority-Ue.priority);je._postrun=[];for(let Ue=0;Ue<Te.length;++Ue)await s(je,Te[Ue].callback)}return oe&&await s(je,oe),nt.length&&Promise.all(nt).then(Te=>je.runAsync(null,()=>{Te.forEach(Ue=>{try{Ue(je)}catch(xt){je.error(xt)}})})),je}async function gn(Ke,yt,oe){for(;this._running;)await this._running;let je=()=>this._running=null;return(this._running=this.evaluate(Ke,yt,oe)).then(je,je),this._running}function yn(Ke,yt,oe){return this._pulse?un(this):(this.evaluate(Ke,yt,oe),this)}function It(Ke,yt,oe){if(this._pulse||yt)this._postrun.push({priority:oe||0,callback:Ke});else try{Ke(this)}catch(je){this.error(je)}}function un(Ke){return Ke.error("Dataflow already running. Use runAsync() to chain invocations."),Ke}function Mn(Ke,yt){let oe=Ke.stamp<this._clock;oe&&(Ke.stamp=this._clock),(oe||yt)&&(Ke.qrank=Ke.rank,this._heap.push(Ke))}function tr(Ke,yt){let oe=Ke.source,je=this._clock;return oe&&e.isArray(oe)?new Gt(this,je,oe.map(nt=>nt.pulse),yt):this._input[Ke.id]||Rn(this._pulse,oe&&oe.pulse)}function Rn(Ke,yt){return yt&&yt.stamp===Ke.stamp?yt:(Ke=Ke.fork(),yt&&yt!==Ot&&(Ke.source=yt.source),Ke)}let Re={skip:!1,force:!1};function He(Ke,yt){let oe=yt||Re;return this._pulse?this._enqueue(Ke):this._touched.add(Ke),oe.skip&&Ke.skip(!0),this}function De(Ke,yt,oe){let je=oe||Re;return(Ke.set(yt)||je.force)&&this.touch(Ke,je),this}function Bt(Ke,yt,oe){this.touch(Ke,oe||Re);let je=new ct(this,this._clock+(this._pulse?0:1)),nt=Ke.pulse&&Ke.pulse.source||[];return je.target=Ke,this._input[Ke.id]=yt.pulse(je,nt),this}function pt(Ke){let yt=[];return{clear:()=>yt=[],size:()=>yt.length,peek:()=>yt[0],push:oe=>(yt.push(oe),mt(yt,0,yt.length-1,Ke)),pop:()=>{let oe=yt.pop(),je;return yt.length?(je=yt[0],yt[0]=oe,nn(yt,0,Ke)):je=oe,je}}}function mt(Ke,yt,oe,je){let nt,Rt,hn=Ke[oe];for(;oe>yt;){if(Rt=oe-1>>1,nt=Ke[Rt],je(hn,nt)<0){Ke[oe]=nt,oe=Rt;continue}break}return Ke[oe]=hn}function nn(Ke,yt,oe){let je=yt,nt=Ke.length,Rt=Ke[yt],hn=(yt<<1)+1,an;for(;hn<nt;)an=hn+1,an<nt&&oe(Ke[hn],Ke[an])>=0&&(hn=an),Ke[yt]=Ke[hn],yt=hn,hn=(yt<<1)+1;return Ke[yt]=Rt,mt(Ke,je,yt,oe)}function Qt(){this.logger(e.logger()),this.logLevel(e.Error),this._clock=0,this._rank=0,this._locale=r.defaultLocale();try{this._loader=t.loader()}catch{}this._touched=i(e.id),this._input={},this._pulse=null,this._heap=pt((Ke,yt)=>Ke.qrank-yt.qrank),this._postrun=[]}function Fn(Ke){return function(){return this._log[Ke].apply(this,arguments)}}Qt.prototype={stamp(){return this._clock},loader(Ke){return arguments.length?(this._loader=Ke,this):this._loader},locale(Ke){return arguments.length?(this._locale=Ke,this):this._locale},logger(Ke){return arguments.length?(this._log=Ke,this):this._log},error:Fn("error"),warn:Fn("warn"),info:Fn("info"),debug:Fn("debug"),logLevel:Fn("level"),cleanThreshold:1e4,add:ot,connect:lt,rank:xn,rerank:Tt,pulse:Bt,touch:He,update:De,changeset:L,ingest:Ze,parse:te,preload:Le,request:ye,events:$e,on:Je,evaluate:fn,run:yn,runAsync:gn,runAfter:It,_enqueue:Mn,_getPulse:tr};function Wn(Ke,yt){ve.call(this,Ke,null,yt)}e.inherits(Wn,ve,{run(Ke){if(Ke.stamp<this.stamp)return Ke.StopPropagation;let yt;return this.skip()?this.skip(!1):yt=this.evaluate(Ke),yt=yt||Ke,yt.then?yt=yt.then(oe=>this.pulse=oe):yt!==Ke.StopPropagation&&(this.pulse=yt),yt},evaluate(Ke){let yt=this.marshall(Ke.stamp),oe=this.transform(yt,Ke);return yt.clear(),oe},transform(){}});let Zn={};function Nn(Ke){let yt=nr(Ke);return yt&&yt.Definition||null}function nr(Ke){return Ke=Ke&&Ke.toLowerCase(),e.hasOwnProperty(Zn,Ke)?Zn[Ke]:null}n.Dataflow=Qt,n.EventStream=bt,n.MultiPulse=Gt,n.Operator=ve,n.Parameters=P,n.Pulse=ct,n.Transform=Wn,n.UniqueList=i,n.asyncCallback=s,n.changeset=L,n.definition=Nn,n.derive=E,n.ingest=_,n.isChangeSet=z,n.isTuple=l,n.rederive=O,n.replace=R,n.stableCompare=q,n.transform=nr,n.transforms=Zn,n.tupleid=f,Object.defineProperty(n,"__esModule",{value:!0})})});var eE=Ae((BH,KFe)=>{m();(function(n,e){typeof BH=="object"&&typeof KFe!="undefined"?e(BH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(BH,function(n){"use strict";function*e(Re,He){if(He==null)for(let De of Re)De!=null&&De!==""&&(De=+De)>=De&&(yield De);else{let De=-1;for(let Bt of Re)Bt=He(Bt,++De,Re),Bt!=null&&Bt!==""&&(Bt=+Bt)>=Bt&&(yield Bt)}}function t(Re,He){return Re==null||He==null?NaN:Re<He?-1:Re>He?1:Re>=He?0:NaN}function r(Re){return Re===null?NaN:+Re}function*i(Re,He){if(He===void 0)for(let De of Re)De!=null&&(De=+De)>=De&&(yield De);else{let De=-1;for(let Bt of Re)(Bt=He(Bt,++De,Re))!=null&&(Bt=+Bt)>=Bt&&(yield Bt)}}function s(Re,He){let De=0,Bt,pt=0,mt=0;if(He===void 0)for(let nn of Re)nn!=null&&(nn=+nn)>=nn&&(Bt=nn-pt,pt+=Bt/++De,mt+=Bt*(nn-pt));else{let nn=-1;for(let Qt of Re)(Qt=He(Qt,++nn,Re))!=null&&(Qt=+Qt)>=Qt&&(Bt=Qt-pt,pt+=Bt/++De,mt+=Bt*(Qt-pt))}if(De>1)return mt/(De-1)}function o(Re,He){let De=s(Re,He);return De&&Math.sqrt(De)}function a(Re=t){if(Re===t)return l;if(typeof Re!="function")throw new TypeError("compare is not a function");return(He,De)=>{let Bt=Re(He,De);return Bt||Bt===0?Bt:(Re(De,De)===0)-(Re(He,He)===0)}}function l(Re,He){return(Re==null||!(Re>=Re))-(He==null||!(He>=He))||(Re<He?-1:Re>He?1:0)}function f(Re,He){let De;if(He===void 0)for(let Bt of Re)Bt!=null&&(De<Bt||De===void 0&&Bt>=Bt)&&(De=Bt);else{let Bt=-1;for(let pt of Re)(pt=He(pt,++Bt,Re))!=null&&(De<pt||De===void 0&&pt>=pt)&&(De=pt)}return De}function p(Re,He){let De;if(He===void 0)for(let Bt of Re)Bt!=null&&(De>Bt||De===void 0&&Bt>=Bt)&&(De=Bt);else{let Bt=-1;for(let pt of Re)(pt=He(pt,++Bt,Re))!=null&&(De>pt||De===void 0&&pt>=pt)&&(De=pt)}return De}function _(Re,He,De=0,Bt=Re.length-1,pt){for(pt=pt===void 0?l:a(pt);Bt>De;){if(Bt-De>600){let Fn=Bt-De+1,Wn=He-De+1,Zn=Math.log(Fn),Nn=.5*Math.exp(2*Zn/3),nr=.5*Math.sqrt(Zn*Nn*(Fn-Nn)/Fn)*(Wn-Fn/2<0?-1:1),Ke=Math.max(De,Math.floor(He-Wn*Nn/Fn+nr)),yt=Math.min(Bt,Math.floor(He+(Fn-Wn)*Nn/Fn+nr));_(Re,He,Ke,yt,pt)}let mt=Re[He],nn=De,Qt=Bt;for(E(Re,De,He),pt(Re[Bt],mt)>0&&E(Re,De,Bt);nn<Qt;){for(E(Re,nn,Qt),++nn,--Qt;pt(Re[nn],mt)<0;)++nn;for(;pt(Re[Qt],mt)>0;)--Qt}pt(Re[De],mt)===0?E(Re,De,Qt):(++Qt,E(Re,Qt,Bt)),Qt<=He&&(De=Qt+1),He<=Qt&&(Bt=Qt-1)}return Re}function E(Re,He,De){let Bt=Re[He];Re[He]=Re[De],Re[De]=Bt}function O(Re,He,De){if(Re=Float64Array.from(i(Re,De)),!!(Bt=Re.length)){if((He=+He)<=0||Bt<2)return p(Re);if(He>=1)return f(Re);var Bt,pt=(Bt-1)*He,mt=Math.floor(pt),nn=f(_(Re,mt).subarray(0,mt+1)),Qt=p(Re.subarray(mt+1));return nn+(Qt-nn)*(pt-mt)}}function R(Re,He,De=r){if(!!(Bt=Re.length)){if((He=+He)<=0||Bt<2)return+De(Re[0],0,Re);if(He>=1)return+De(Re[Bt-1],Bt-1,Re);var Bt,pt=(Bt-1)*He,mt=Math.floor(pt),nn=+De(Re[mt],mt,Re),Qt=+De(Re[mt+1],mt+1,Re);return nn+(Qt-nn)*(pt-mt)}}function q(Re,He){return O(Re,.5,He)}function z(Re,He,De){let Bt=Float64Array.from(e(Re,De));return Bt.sort(t),He.map(pt=>R(Bt,pt))}function L(Re,He){return z(Re,[.25,.5,.75],He)}function B(Re,He){let De=Re.length,Bt=o(Re,He),pt=L(Re,He),mt=(pt[2]-pt[0])/1.34,nn=Math.min(Bt,mt)||Bt||Math.abs(pt[0])||1;return 1.06*nn*Math.pow(De,-.2)}function P(Re){let He=Re.maxbins||20,De=Re.base||10,Bt=Math.log(De),pt=Re.divide||[5,2],mt=Re.extent[0],nn=Re.extent[1],Qt,Fn,Wn,Zn,Nn,nr,Ke=Re.span||nn-mt||Math.abs(mt)||1;if(Re.step)Qt=Re.step;else if(Re.steps){for(Zn=Ke/He,Nn=0,nr=Re.steps.length;Nn<nr&&Re.steps[Nn]<Zn;++Nn);Qt=Re.steps[Math.max(0,Nn-1)]}else{for(Fn=Math.ceil(Math.log(He)/Bt),Wn=Re.minstep||0,Qt=Math.max(Wn,Math.pow(De,Math.round(Math.log(Ke)/Bt)-Fn));Math.ceil(Ke/Qt)>He;)Qt*=De;for(Nn=0,nr=pt.length;Nn<nr;++Nn)Zn=Qt/pt[Nn],Zn>=Wn&&Ke/Zn<=He&&(Qt=Zn)}Zn=Math.log(Qt);let yt=Zn>=0?0:~~(-Zn/Bt)+1,oe=Math.pow(De,-yt-1);return(Re.nice||Re.nice===void 0)&&(Zn=Math.floor(mt/Qt+oe)*Qt,mt=mt<Zn?Zn-Qt:Zn,nn=Math.ceil(nn/Qt)*Qt),{start:mt,stop:nn===mt?mt+Qt:nn,step:Qt}}n.random=Math.random;function G(Re){n.random=Re}function ue(Re,He,De,Bt){if(!Re.length)return[void 0,void 0];let pt=Float64Array.from(e(Re,Bt)),mt=pt.length,nn=He,Qt,Fn,Wn,Zn;for(Wn=0,Zn=Array(nn);Wn<nn;++Wn){for(Qt=0,Fn=0;Fn<mt;++Fn)Qt+=pt[~~(n.random()*mt)];Zn[Wn]=Qt/mt}return Zn.sort(t),[O(Zn,De/2),O(Zn,1-De/2)]}function I(Re,He,De,Bt){Bt=Bt||(nr=>nr);let pt=Re.length,mt=new Float64Array(pt),nn=0,Qt=1,Fn=Bt(Re[0]),Wn=Fn,Zn=Fn+He,Nn;for(;Qt<pt;++Qt){if(Nn=Bt(Re[Qt]),Nn>=Zn){for(Wn=(Fn+Wn)/2;nn<Qt;++nn)mt[nn]=Wn;Zn=Nn+He,Fn=Nn}Wn=Nn}for(Wn=(Fn+Wn)/2;nn<Qt;++nn)mt[nn]=Wn;return De?J(mt,He+He/4):mt}function J(Re,He){let De=Re.length,Bt=0,pt=1,mt,nn;for(;Re[Bt]===Re[pt];)++pt;for(;pt<De;){for(mt=pt+1;Re[pt]===Re[mt];)++mt;if(Re[pt]-Re[pt-1]<He){for(nn=pt+(Bt+mt-pt-pt>>1);nn<pt;)Re[nn++]=Re[pt];for(;nn>pt;)Re[nn--]=Re[Bt]}Bt=pt,pt=mt}return Re}function he(Re){return function(){return Re=(1103515245*Re+12345)%2147483647,Re/2147483647}}function ve(Re,He){He==null&&(He=Re,Re=0);let De,Bt,pt,mt={min(nn){return arguments.length?(De=nn||0,pt=Bt-De,mt):De},max(nn){return arguments.length?(Bt=nn||0,pt=Bt-De,mt):Bt},sample(){return De+Math.floor(pt*n.random())},pdf(nn){return nn===Math.floor(nn)&&nn>=De&&nn<Bt?1/pt:0},cdf(nn){let Qt=Math.floor(nn);return Qt<De?0:Qt>=Bt?1:(Qt-De+1)/pt},icdf(nn){return nn>=0&&nn<=1?De-1+Math.floor(nn*pt):NaN}};return mt.min(Re).max(He)}let Ve=Math.sqrt(2*Math.PI),ot=Math.SQRT2,lt=NaN;function et(Re,He){Re=Re||0,He=He??1;let De=0,Bt=0,pt,mt;if(lt===lt)De=lt,lt=NaN;else{do De=n.random()*2-1,Bt=n.random()*2-1,pt=De*De+Bt*Bt;while(pt===0||pt>1);mt=Math.sqrt(-2*Math.log(pt)/pt),De*=mt,lt=Bt*mt}return Re+De*He}function bt(Re,He,De){De=De??1;let Bt=(Re-(He||0))/De;return Math.exp(-.5*Bt*Bt)/(De*Ve)}function Pt(Re,He,De){He=He||0,De=De??1;let Bt=(Re-He)/De,pt=Math.abs(Bt),mt;if(pt>37)mt=0;else{let nn=Math.exp(-pt*pt/2),Qt;pt<7.07106781186547?(Qt=.0352624965998911*pt+.700383064443688,Qt=Qt*pt+6.37396220353165,Qt=Qt*pt+33.912866078383,Qt=Qt*pt+112.079291497871,Qt=Qt*pt+221.213596169931,Qt=Qt*pt+220.206867912376,mt=nn*Qt,Qt=.0883883476483184*pt+1.75566716318264,Qt=Qt*pt+16.064177579207,Qt=Qt*pt+86.7807322029461,Qt=Qt*pt+296.564248779674,Qt=Qt*pt+637.333633378831,Qt=Qt*pt+793.826512519948,Qt=Qt*pt+440.413735824752,mt=mt/Qt):(Qt=pt+.65,Qt=pt+4/Qt,Qt=pt+3/Qt,Qt=pt+2/Qt,Qt=pt+1/Qt,mt=nn/Qt/2.506628274631)}return Bt>0?1-mt:mt}function $e(Re,He,De){return Re<0||Re>1?NaN:(He||0)+(De??1)*ot*te(2*Re-1)}function te(Re){let He=-Math.log((1-Re)*(1+Re)),De;return He<6.25?(He-=3.125,De=-364441206401782e-35,De=-16850591381820166e-35+De*He,De=128584807152564e-32+De*He,De=11157877678025181e-33+De*He,De=-1333171662854621e-31+De*He,De=20972767875968562e-33+De*He,De=6637638134358324e-30+De*He,De=-4054566272975207e-29+De*He,De=-8151934197605472e-29+De*He,De=26335093153082323e-28+De*He,De=-12975133253453532e-27+De*He,De=-5415412054294628e-26+De*He,De=10512122733215323e-25+De*He,De=-4112633980346984e-24+De*He,De=-29070369957882005e-24+De*He,De=42347877827932404e-23+De*He,De=-13654692000834679e-22+De*He,De=-13882523362786469e-21+De*He,De=.00018673420803405714+De*He,De=-.000740702534166267+De*He,De=-.006033670871430149+De*He,De=.24015818242558962+De*He,De=1.6536545626831027+De*He):He<16?(He=Math.sqrt(He)-3.25,De=22137376921775787e-25,De=9075656193888539e-23+De*He,De=-27517406297064545e-23+De*He,De=18239629214389228e-24+De*He,De=15027403968909828e-22+De*He,De=-4013867526981546e-21+De*He,De=29234449089955446e-22+De*He,De=12475304481671779e-21+De*He,De=-47318229009055734e-21+De*He,De=6828485145957318e-20+De*He,De=24031110387097894e-21+De*He,De=-.0003550375203628475+De*He,De=.0009532893797373805+De*He,De=-.0016882755560235047+De*He,De=.002491442096107851+De*He,De=-.003751208507569241+De*He,De=.005370914553590064+De*He,De=1.0052589676941592+De*He,De=3.0838856104922208+De*He):Number.isFinite(He)?(He=Math.sqrt(He)-5,De=-27109920616438573e-27,De=-2555641816996525e-25+De*He,De=15076572693500548e-25+De*He,De=-3789465440126737e-24+De*He,De=761570120807834e-23+De*He,De=-1496002662714924e-23+De*He,De=2914795345090108e-23+De*He,De=-6771199775845234e-23+De*He,De=22900482228026655e-23+De*He,De=-99298272942317e-20+De*He,De=4526062597223154e-21+De*He,De=-1968177810553167e-20+De*He,De=7599527703001776e-20+De*He,De=-.00021503011930044477+De*He,De=-.00013871931833623122+De*He,De=1.0103004648645344+De*He,De=4.849906401408584+De*He):De=1/0,De*Re}function Ze(Re,He){let De,Bt,pt={mean(mt){return arguments.length?(De=mt||0,pt):De},stdev(mt){return arguments.length?(Bt=mt??1,pt):Bt},sample:()=>et(De,Bt),pdf:mt=>bt(mt,De,Bt),cdf:mt=>Pt(mt,De,Bt),icdf:mt=>$e(mt,De,Bt)};return pt.mean(Re).stdev(He)}function ye(Re,He){let De=Ze(),Bt=0,pt={data(mt){return arguments.length?(Re=mt,Bt=mt?mt.length:0,pt.bandwidth(He)):Re},bandwidth(mt){return arguments.length?(He=mt,!He&&Re&&(He=B(Re)),pt):He},sample(){return Re[~~(n.random()*Bt)]+He*De.sample()},pdf(mt){let nn=0,Qt=0;for(;Qt<Bt;++Qt)nn+=De.pdf((mt-Re[Qt])/He);return nn/He/Bt},cdf(mt){let nn=0,Qt=0;for(;Qt<Bt;++Qt)nn+=De.cdf((mt-Re[Qt])/He);return nn/Bt},icdf(){throw Error("KDE icdf not supported.")}};return pt.data(Re)}function Le(Re,He){return Re=Re||0,He=He??1,Math.exp(Re+et()*He)}function Ce(Re,He,De){if(Re<=0)return 0;He=He||0,De=De??1;let Bt=(Math.log(Re)-He)/De;return Math.exp(-.5*Bt*Bt)/(De*Ve*Re)}function pe(Re,He,De){return Pt(Math.log(Re),He,De)}function Je(Re,He,De){return Math.exp($e(Re,He,De))}function ut(Re,He){let De,Bt,pt={mean(mt){return arguments.length?(De=mt||0,pt):De},stdev(mt){return arguments.length?(Bt=mt??1,pt):Bt},sample:()=>Le(De,Bt),pdf:mt=>Ce(mt,De,Bt),cdf:mt=>pe(mt,De,Bt),icdf:mt=>Je(mt,De,Bt)};return pt.mean(Re).stdev(He)}function Ht(Re,He){let De=0,Bt;function pt(nn){let Qt=[],Fn=0,Wn;for(Wn=0;Wn<De;++Wn)Fn+=Qt[Wn]=nn[Wn]==null?1:+nn[Wn];for(Wn=0;Wn<De;++Wn)Qt[Wn]/=Fn;return Qt}let mt={weights(nn){return arguments.length?(Bt=pt(He=nn||[]),mt):He},distributions(nn){return arguments.length?(nn?(De=nn.length,Re=nn):(De=0,Re=[]),mt.weights(He)):Re},sample(){let nn=n.random(),Qt=Re[De-1],Fn=Bt[0],Wn=0;for(;Wn<De-1;Fn+=Bt[++Wn])if(nn<Fn){Qt=Re[Wn];break}return Qt.sample()},pdf(nn){let Qt=0,Fn=0;for(;Fn<De;++Fn)Qt+=Bt[Fn]*Re[Fn].pdf(nn);return Qt},cdf(nn){let Qt=0,Fn=0;for(;Fn<De;++Fn)Qt+=Bt[Fn]*Re[Fn].cdf(nn);return Qt},icdf(){throw Error("Mixture icdf not supported.")}};return mt.distributions(Re).weights(He)}function Ct(Re,He){return He==null&&(He=Re??1,Re=0),Re+(He-Re)*n.random()}function xn(Re,He,De){return De==null&&(De=He??1,He=0),Re>=He&&Re<=De?1/(De-He):0}function Tt(Re,He,De){return De==null&&(De=He??1,He=0),Re<He?0:Re>De?1:(Re-He)/(De-He)}function Ot(Re,He,De){return De==null&&(De=He??1,He=0),Re>=0&&Re<=1?He+Re*(De-He):NaN}function rn(Re,He){let De,Bt,pt={min(mt){return arguments.length?(De=mt||0,pt):De},max(mt){return arguments.length?(Bt=mt??1,pt):Bt},sample:()=>Ct(De,Bt),pdf:mt=>xn(mt,De,Bt),cdf:mt=>Tt(mt,De,Bt),icdf:mt=>Ot(mt,De,Bt)};return He==null&&(He=Re??1,Re=0),pt.min(Re).max(He)}function St(Re,He,De,Bt){let pt=Bt-Re*Re,mt=Math.abs(pt)<1e-24?0:(De-Re*He)/pt;return[He-mt*Re,mt]}function _e(Re,He,De,Bt){Re=Re.filter(Ke=>{let yt=He(Ke),oe=De(Ke);return yt!=null&&(yt=+yt)>=yt&&oe!=null&&(oe=+oe)>=oe}),Bt&&Re.sort((Ke,yt)=>He(Ke)-He(yt));let pt=Re.length,mt=new Float64Array(pt),nn=new Float64Array(pt),Qt=0,Fn=0,Wn=0,Zn,Nn,nr;for(nr of Re)mt[Qt]=Zn=+He(nr),nn[Qt]=Nn=+De(nr),++Qt,Fn+=(Zn-Fn)/Qt,Wn+=(Nn-Wn)/Qt;for(Qt=0;Qt<pt;++Qt)mt[Qt]-=Fn,nn[Qt]-=Wn;return[mt,nn,Fn,Wn]}function ke(Re,He,De,Bt){let pt=-1,mt,nn;for(let Qt of Re)mt=He(Qt),nn=De(Qt),mt!=null&&(mt=+mt)>=mt&&nn!=null&&(nn=+nn)>=nn&&Bt(mt,nn,++pt)}function Se(Re,He,De,Bt,pt){let mt=0,nn=0;return ke(Re,He,De,(Qt,Fn)=>{let Wn=Fn-pt(Qt),Zn=Fn-Bt;mt+=Wn*Wn,nn+=Zn*Zn}),1-mt/nn}function ce(Re,He,De){let Bt=0,pt=0,mt=0,nn=0,Qt=0;ke(Re,He,De,(Zn,Nn)=>{++Qt,Bt+=(Zn-Bt)/Qt,pt+=(Nn-pt)/Qt,mt+=(Zn*Nn-mt)/Qt,nn+=(Zn*Zn-nn)/Qt});let Fn=St(Bt,pt,mt,nn),Wn=Zn=>Fn[0]+Fn[1]*Zn;return{coef:Fn,predict:Wn,rSquared:Se(Re,He,De,pt,Wn)}}function tt(Re,He,De){let Bt=0,pt=0,mt=0,nn=0,Qt=0;ke(Re,He,De,(Zn,Nn)=>{++Qt,Zn=Math.log(Zn),Bt+=(Zn-Bt)/Qt,pt+=(Nn-pt)/Qt,mt+=(Zn*Nn-mt)/Qt,nn+=(Zn*Zn-nn)/Qt});let Fn=St(Bt,pt,mt,nn),Wn=Zn=>Fn[0]+Fn[1]*Math.log(Zn);return{coef:Fn,predict:Wn,rSquared:Se(Re,He,De,pt,Wn)}}function Ie(Re,He,De){let[Bt,pt,mt,nn]=_e(Re,He,De),Qt=0,Fn=0,Wn=0,Zn=0,Nn=0,nr,Ke,yt;ke(Re,He,De,(Rt,hn)=>{nr=Bt[Nn++],Ke=Math.log(hn),yt=nr*hn,Qt+=(hn*Ke-Qt)/Nn,Fn+=(yt-Fn)/Nn,Wn+=(yt*Ke-Wn)/Nn,Zn+=(nr*yt-Zn)/Nn});let[oe,je]=St(Fn/nn,Qt/nn,Wn/nn,Zn/nn),nt=Rt=>Math.exp(oe+je*(Rt-mt));return{coef:[Math.exp(oe-je*mt),je],predict:nt,rSquared:Se(Re,He,De,nn,nt)}}function re(Re,He,De){let Bt=0,pt=0,mt=0,nn=0,Qt=0,Fn=0;ke(Re,He,De,(Nn,nr)=>{let Ke=Math.log(Nn),yt=Math.log(nr);++Fn,Bt+=(Ke-Bt)/Fn,pt+=(yt-pt)/Fn,mt+=(Ke*yt-mt)/Fn,nn+=(Ke*Ke-nn)/Fn,Qt+=(nr-Qt)/Fn});let Wn=St(Bt,pt,mt,nn),Zn=Nn=>Wn[0]*Math.pow(Nn,Wn[1]);return Wn[0]=Math.exp(Wn[0]),{coef:Wn,predict:Zn,rSquared:Se(Re,He,De,Qt,Zn)}}function Ne(Re,He,De){let[Bt,pt,mt,nn]=_e(Re,He,De),Qt=Bt.length,Fn=0,Wn=0,Zn=0,Nn=0,nr=0,Ke,yt,oe,je;for(Ke=0;Ke<Qt;)yt=Bt[Ke],oe=pt[Ke++],je=yt*yt,Fn+=(je-Fn)/Ke,Wn+=(je*yt-Wn)/Ke,Zn+=(je*je-Zn)/Ke,Nn+=(yt*oe-Nn)/Ke,nr+=(je*oe-nr)/Ke;let nt=Zn-Fn*Fn,Rt=Fn*nt-Wn*Wn,hn=(nr*Fn-Nn*Wn)/Rt,an=(Nn*nt-nr*Wn)/Rt,ft=-hn*Fn,ie=Te=>(Te=Te-mt,hn*Te*Te+an*Te+ft+nn);return{coef:[ft-an*mt+hn*mt*mt+nn,an-2*hn*mt,hn],predict:ie,rSquared:Se(Re,He,De,nn,ie)}}function ct(Re,He,De,Bt){if(Bt===1)return ce(Re,He,De);if(Bt===2)return Ne(Re,He,De);let[pt,mt,nn,Qt]=_e(Re,He,De),Fn=pt.length,Wn=[],Zn=[],Nn=Bt+1,nr,Ke,yt,oe,je;for(nr=0;nr<Nn;++nr){for(yt=0,oe=0;yt<Fn;++yt)oe+=Math.pow(pt[yt],nr)*mt[yt];for(Wn.push(oe),je=new Float64Array(Nn),Ke=0;Ke<Nn;++Ke){for(yt=0,oe=0;yt<Fn;++yt)oe+=Math.pow(pt[yt],nr+Ke);je[Ke]=oe}Zn.push(je)}Zn.push(Wn);let nt=Lt(Zn),Rt=hn=>{hn-=nn;let an=Qt+nt[0]+nt[1]*hn+nt[2]*hn*hn;for(nr=3;nr<Nn;++nr)an+=nt[nr]*Math.pow(hn,nr);return an};return{coef:_t(Nn,nt,-nn,Qt),predict:Rt,rSquared:Se(Re,He,De,Qt,Rt)}}function _t(Re,He,De,Bt){let pt=Array(Re),mt,nn,Qt,Fn;for(mt=0;mt<Re;++mt)pt[mt]=0;for(mt=Re-1;mt>=0;--mt)for(Qt=He[mt],Fn=1,pt[mt]+=Qt,nn=1;nn<=mt;++nn)Fn*=(mt+1-nn)/nn,pt[mt-nn]+=Qt*Math.pow(De,nn)*Fn;return pt[0]+=Bt,pt}function Lt(Re){let He=Re.length-1,De=[],Bt,pt,mt,nn,Qt;for(Bt=0;Bt<He;++Bt){for(nn=Bt,pt=Bt+1;pt<He;++pt)Math.abs(Re[Bt][pt])>Math.abs(Re[Bt][nn])&&(nn=pt);for(mt=Bt;mt<He+1;++mt)Qt=Re[mt][Bt],Re[mt][Bt]=Re[mt][nn],Re[mt][nn]=Qt;for(pt=Bt+1;pt<He;++pt)for(mt=He;mt>=Bt;mt--)Re[mt][pt]-=Re[mt][Bt]*Re[Bt][pt]/Re[Bt][Bt]}for(pt=He-1;pt>=0;--pt){for(Qt=0,mt=pt+1;mt<He;++mt)Qt+=Re[mt][pt]*De[mt];De[pt]=(Re[He][pt]-Qt)/Re[pt][pt]}return De}let Yt=2,Gt=1e-12;function fn(Re,He,De,Bt){let[pt,mt,nn,Qt]=_e(Re,He,De,!0),Fn=pt.length,Wn=Math.max(2,~~(Bt*Fn)),Zn=new Float64Array(Fn),Nn=new Float64Array(Fn),nr=new Float64Array(Fn).fill(1);for(let Ke=-1;++Ke<=Yt;){let yt=[0,Wn-1];for(let je=0;je<Fn;++je){let nt=pt[je],Rt=yt[0],hn=yt[1],an=nt-pt[Rt]>pt[hn]-nt?Rt:hn,ft=0,ie=0,Te=0,Ue=0,xt=0,Et=1/Math.abs(pt[an]-nt||1);for(let we=Rt;we<=hn;++we){let Qe=pt[we],it=mt[we],Ut=gn(Math.abs(nt-Qe)*Et)*nr[we],sn=Qe*Ut;ft+=Ut,ie+=sn,Te+=it*Ut,Ue+=it*sn,xt+=Qe*sn}let[Nt,ne]=St(ie/ft,Te/ft,Ue/ft,xt/ft);Zn[je]=Nt+ne*nt,Nn[je]=Math.abs(mt[je]-Zn[je]),yn(pt,je+1,yt)}if(Ke===Yt)break;let oe=q(Nn);if(Math.abs(oe)<Gt)break;for(let je=0,nt,Rt;je<Fn;++je)nt=Nn[je]/(6*oe),nr[je]=nt>=1?Gt:(Rt=1-nt*nt)*Rt}return It(pt,Zn,nn,Qt)}function gn(Re){return(Re=1-Re*Re*Re)*Re*Re}function yn(Re,He,De){let Bt=Re[He],pt=De[0],mt=De[1]+1;if(!(mt>=Re.length))for(;He>pt&&Re[mt]-Bt<=Bt-Re[pt];)De[0]=++pt,De[1]=mt,++mt}function It(Re,He,De,Bt){let pt=Re.length,mt=[],nn=0,Qt=0,Fn=[],Wn;for(;nn<pt;++nn)Wn=Re[nn]+De,Fn[0]===Wn?Fn[1]+=(He[nn]-Fn[1])/++Qt:(Qt=0,Fn[1]+=Bt,Fn=[Wn,He[nn]],mt.push(Fn));return Fn[1]+=Bt,mt}let un=.5*Math.PI/180;function Mn(Re,He,De,Bt){De=De||25,Bt=Math.max(De,Bt||200);let pt=oe=>[oe,Re(oe)],mt=He[0],nn=He[1],Qt=nn-mt,Fn=Qt/Bt,Wn=[pt(mt)],Zn=[];if(De===Bt){for(let oe=1;oe<Bt;++oe)Wn.push(pt(mt+oe/De*Qt));return Wn.push(pt(nn)),Wn}else{Zn.push(pt(nn));for(let oe=De;--oe>0;)Zn.push(pt(mt+oe/De*Qt))}let Nn=Wn[0],nr=Zn[Zn.length-1],Ke=1/Qt,yt=tr(Nn[1],Zn);for(;nr;){let oe=pt((Nn[0]+nr[0])/2);oe[0]-Nn[0]>=Fn&&Rn(Nn,oe,nr,Ke,yt)>un?Zn.push(oe):(Nn=nr,Wn.push(nr),Zn.pop()),nr=Zn[Zn.length-1]}return Wn}function tr(Re,He){let De=Re,Bt=Re,pt=He.length;for(let mt=0;mt<pt;++mt){let nn=He[mt][1];nn<De&&(De=nn),nn>Bt&&(Bt=nn)}return 1/(Bt-De)}function Rn(Re,He,De,Bt,pt){let mt=Math.atan2(pt*(De[1]-Re[1]),Bt*(De[0]-Re[0])),nn=Math.atan2(pt*(He[1]-Re[1]),Bt*(He[0]-Re[0]));return Math.abs(mt-nn)}n.bandwidthNRD=B,n.bin=P,n.bootstrapCI=ue,n.cumulativeLogNormal=pe,n.cumulativeNormal=Pt,n.cumulativeUniform=Tt,n.densityLogNormal=Ce,n.densityNormal=bt,n.densityUniform=xn,n.dotbin=I,n.quantileLogNormal=Je,n.quantileNormal=$e,n.quantileUniform=Ot,n.quantiles=z,n.quartiles=L,n.randomInteger=ve,n.randomKDE=ye,n.randomLCG=he,n.randomLogNormal=ut,n.randomMixture=Ht,n.randomNormal=Ze,n.randomUniform=rn,n.regressionExp=Ie,n.regressionLinear=ce,n.regressionLoess=fn,n.regressionLog=tt,n.regressionPoly=ct,n.regressionPow=re,n.regressionQuad=Ne,n.sampleCurve=Mn,n.sampleLogNormal=Le,n.sampleNormal=et,n.sampleUniform=Ct,n.setRandom=G,Object.defineProperty(n,"__esModule",{value:!0})})});var XFe=Ae((jH,JFe)=>{m();(function(n,e){typeof jH=="object"&&typeof JFe!="undefined"?e(jH,Au(),r0(),eE(),XC()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})(jH,function(n,e,t,r,i){"use strict";function s(w){return j=>{let ee=w.length,Ee=1,dt=String(w[0](j));for(;Ee<ee;++Ee)dt+="|"+w[Ee](j);return dt}}function o(w){return!w||!w.length?function(){return""}:w.length===1?w[0]:s(w)}function a(w,j,ee){return ee||w+(j?"_"+j:"")}let l=()=>{},f={init:l,add:l,rem:l,idx:0},p={values:{init:w=>w.cell.store=!0,value:w=>w.cell.data.values(),idx:-1},count:{value:w=>w.cell.num},__count__:{value:w=>w.missing+w.valid},missing:{value:w=>w.missing},valid:{value:w=>w.valid},sum:{init:w=>w.sum=0,value:w=>w.sum,add:(w,j)=>w.sum+=+j,rem:(w,j)=>w.sum-=j},product:{init:w=>w.product=1,value:w=>w.valid?w.product:void 0,add:(w,j)=>w.product*=j,rem:(w,j)=>w.product/=j},mean:{init:w=>w.mean=0,value:w=>w.valid?w.mean:void 0,add:(w,j)=>(w.mean_d=j-w.mean,w.mean+=w.mean_d/w.valid),rem:(w,j)=>(w.mean_d=j-w.mean,w.mean-=w.valid?w.mean_d/w.valid:w.mean)},average:{value:w=>w.valid?w.mean:void 0,req:["mean"],idx:1},variance:{init:w=>w.dev=0,value:w=>w.valid>1?w.dev/(w.valid-1):void 0,add:(w,j)=>w.dev+=w.mean_d*(j-w.mean),rem:(w,j)=>w.dev-=w.mean_d*(j-w.mean),req:["mean"],idx:1},variancep:{value:w=>w.valid>1?w.dev/w.valid:void 0,req:["variance"],idx:2},stdev:{value:w=>w.valid>1?Math.sqrt(w.dev/(w.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:w=>w.valid>1?Math.sqrt(w.dev/w.valid):void 0,req:["variance"],idx:2},stderr:{value:w=>w.valid>1?Math.sqrt(w.dev/(w.valid*(w.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:w=>w.cell.data.distinct(w.get),req:["values"],idx:3},ci0:{value:w=>w.cell.data.ci0(w.get),req:["values"],idx:3},ci1:{value:w=>w.cell.data.ci1(w.get),req:["values"],idx:3},median:{value:w=>w.cell.data.q2(w.get),req:["values"],idx:3},q1:{value:w=>w.cell.data.q1(w.get),req:["values"],idx:3},q3:{value:w=>w.cell.data.q3(w.get),req:["values"],idx:3},min:{init:w=>w.min=void 0,value:w=>w.min=Number.isNaN(w.min)?w.cell.data.min(w.get):w.min,add:(w,j)=>{(j<w.min||w.min===void 0)&&(w.min=j)},rem:(w,j)=>{j<=w.min&&(w.min=NaN)},req:["values"],idx:4},max:{init:w=>w.max=void 0,value:w=>w.max=Number.isNaN(w.max)?w.cell.data.max(w.get):w.max,add:(w,j)=>{(j>w.max||w.max===void 0)&&(w.max=j)},rem:(w,j)=>{j>=w.max&&(w.max=NaN)},req:["values"],idx:4},argmin:{init:w=>w.argmin=void 0,value:w=>w.argmin||w.cell.data.argmin(w.get),add:(w,j,ee)=>{j<w.min&&(w.argmin=ee)},rem:(w,j)=>{j<=w.min&&(w.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:w=>w.argmax=void 0,value:w=>w.argmax||w.cell.data.argmax(w.get),add:(w,j,ee)=>{j>w.max&&(w.argmax=ee)},rem:(w,j)=>{j>=w.max&&(w.argmax=void 0)},req:["max","values"],idx:3}},_=Object.keys(p);function E(w,j){return ee=>e.extend({name:w,out:ee||w},f,j)}_.forEach(w=>{p[w]=E(w,p[w])});function O(w,j){return p[w](j)}function R(w,j){return w.idx-j.idx}function q(w){let j={};w.forEach(Ee=>j[Ee.name]=Ee);let ee=Ee=>{!Ee.req||Ee.req.forEach(dt=>{j[dt]||ee(j[dt]=p[dt]())})};return w.forEach(ee),Object.values(j).sort(R)}function z(){this.valid=0,this.missing=0,this._ops.forEach(w=>w.init(this))}function L(w,j){if(w==null||w===""){++this.missing;return}w===w&&(++this.valid,this._ops.forEach(ee=>ee.add(this,w,j)))}function B(w,j){if(w==null||w===""){--this.missing;return}w===w&&(--this.valid,this._ops.forEach(ee=>ee.rem(this,w,j)))}function P(w){return this._out.forEach(j=>w[j.out]=j.value(this)),w}function G(w,j){let ee=j||e.identity,Ee=q(w),dt=w.slice().sort(R);function Ft(Zt){this._ops=Ee,this._out=dt,this.cell=Zt,this.init()}return Ft.prototype.init=z,Ft.prototype.add=L,Ft.prototype.rem=B,Ft.prototype.set=P,Ft.prototype.get=ee,Ft.fields=w.map(Zt=>Zt.out),Ft}function ue(w){this._key=w?e.field(w):t.tupleid,this.reset()}let I=ue.prototype;I.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},I.add=function(w){this._add.push(w)},I.rem=function(w){this._rem.push(w)},I.values=function(){if(this._get=null,this._rem.length===0)return this._add;let w=this._add,j=this._rem,ee=this._key,Ee=w.length,dt=j.length,Ft=Array(Ee-dt),Zt={},Xt,mn,qn;for(Xt=0;Xt<dt;++Xt)Zt[ee(j[Xt])]=1;for(Xt=0,mn=0;Xt<Ee;++Xt)Zt[ee(qn=w[Xt])]?Zt[ee(qn)]=0:Ft[mn++]=qn;return this._rem=[],this._add=Ft},I.distinct=function(w){let j=this.values(),ee={},Ee=j.length,dt=0,Ft;for(;--Ee>=0;)Ft=w(j[Ee])+"",e.hasOwnProperty(ee,Ft)||(ee[Ft]=1,++dt);return dt},I.extent=function(w){if(this._get!==w||!this._ext){let j=this.values(),ee=e.extentIndex(j,w);this._ext=[j[ee[0]],j[ee[1]]],this._get=w}return this._ext},I.argmin=function(w){return this.extent(w)[0]||{}},I.argmax=function(w){return this.extent(w)[1]||{}},I.min=function(w){let j=this.extent(w)[0];return j!=null?w(j):void 0},I.max=function(w){let j=this.extent(w)[1];return j!=null?w(j):void 0},I.quartile=function(w){return(this._get!==w||!this._q)&&(this._q=r.quartiles(this.values(),w),this._get=w),this._q},I.q1=function(w){return this.quartile(w)[0]},I.q2=function(w){return this.quartile(w)[1]},I.q3=function(w){return this.quartile(w)[2]},I.ci=function(w){return(this._get!==w||!this._ci)&&(this._ci=r.bootstrapCI(this.values(),1e3,.05,w),this._get=w),this._ci},I.ci0=function(w){return this.ci(w)[0]},I.ci1=function(w){return this.ci(w)[1]};function J(w){t.Transform.call(this,null,w),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}J.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:_},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},e.inherits(J,t.Transform,{transform(w,j){let ee=this,Ee=j.fork(j.NO_SOURCE|j.NO_FIELDS),dt=w.modified();return ee.stamp=Ee.stamp,ee.value&&(dt||j.modified(ee._inputs,!0))?(ee._prev=ee.value,ee.value=dt?ee.init(w):{},j.visit(j.SOURCE,Ft=>ee.add(Ft))):(ee.value=ee.value||ee.init(w),j.visit(j.REM,Ft=>ee.rem(Ft)),j.visit(j.ADD,Ft=>ee.add(Ft))),Ee.modifies(ee._outputs),ee._drop=w.drop!==!1,w.cross&&ee._dims.length>1&&(ee._drop=!1,ee.cross()),j.clean()&&ee._drop&&Ee.clean(!0).runAfter(()=>this.clean()),ee.changes(Ee)},cross(){let w=this,j=w.value,ee=w._dnames,Ee=ee.map(()=>({})),dt=ee.length;function Ft(Xt){let mn,qn,Un,Vn;for(mn in Xt)for(Un=Xt[mn].tuple,qn=0;qn<dt;++qn)Ee[qn][Vn=Un[ee[qn]]]=Vn}Ft(w._prev),Ft(j);function Zt(Xt,mn,qn){let Un=ee[qn],Vn=Ee[qn++];for(let Jr in Vn){let Vr=Xt?Xt+"|"+Jr:Jr;mn[Un]=Vn[Jr],qn<dt?Zt(Vr,mn,qn):j[Vr]||w.cell(Vr,mn)}}Zt("",{},0)},init(w){let j=this._inputs=[],ee=this._outputs=[],Ee={};function dt(xi){let ai=e.array(e.accessorFields(xi)),Xi=ai.length,Ss=0,ts;for(;Ss<Xi;++Ss)Ee[ts=ai[Ss]]||(Ee[ts]=1,j.push(ts))}this._dims=e.array(w.groupby),this._dnames=this._dims.map(xi=>{let ai=e.accessorName(xi);return dt(xi),ee.push(ai),ai}),this.cellkey=w.key?w.key:o(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];let Ft=w.fields||[null],Zt=w.ops||["count"],Xt=w.as||[],mn=Ft.length,qn={},Un,Vn,Jr,Vr,yr,Mr;for(mn!==Zt.length&&e.error("Unmatched number of fields and aggregate ops."),Mr=0;Mr<mn;++Mr){if(Un=Ft[Mr],Vn=Zt[Mr],Un==null&&Vn!=="count"&&e.error("Null aggregate field specified."),Vr=e.accessorName(Un),yr=a(Vn,Vr,Xt[Mr]),ee.push(yr),Vn==="count"){this._counts.push(yr);continue}Jr=qn[Vr],Jr||(dt(Un),Jr=qn[Vr]=[],Jr.field=Un,this._measures.push(Jr)),Vn!=="count"&&(this._countOnly=!1),Jr.push(O(Vn,yr))}return this._measures=this._measures.map(xi=>G(xi,xi.field)),{}},cellkey:o(),cell(w,j){let ee=this.value[w];return ee?ee.num===0&&this._drop&&ee.stamp<this.stamp?(ee.stamp=this.stamp,this._adds[this._alen++]=ee):ee.stamp<this.stamp&&(ee.stamp=this.stamp,this._mods[this._mlen++]=ee):(ee=this.value[w]=this.newcell(w,j),this._adds[this._alen++]=ee),ee},newcell(w,j){let ee={key:w,num:0,agg:null,tuple:this.newtuple(j,this._prev&&this._prev[w]),stamp:this.stamp,store:!1};if(!this._countOnly){let Ee=this._measures,dt=Ee.length;ee.agg=Array(dt);for(let Ft=0;Ft<dt;++Ft)ee.agg[Ft]=new Ee[Ft](ee)}return ee.store&&(ee.data=new ue),ee},newtuple(w,j){let ee=this._dnames,Ee=this._dims,dt=Ee.length,Ft={};for(let Zt=0;Zt<dt;++Zt)Ft[ee[Zt]]=Ee[Zt](w);return j?t.replace(j.tuple,Ft):t.ingest(Ft)},clean(){let w=this.value;for(let j in w)w[j].num===0&&delete w[j]},add(w){let j=this.cellkey(w),ee=this.cell(j,w);if(ee.num+=1,this._countOnly)return;ee.store&&ee.data.add(w);let Ee=ee.agg;for(let dt=0,Ft=Ee.length;dt<Ft;++dt)Ee[dt].add(Ee[dt].get(w),w)},rem(w){let j=this.cellkey(w),ee=this.cell(j,w);if(ee.num-=1,this._countOnly)return;ee.store&&ee.data.rem(w);let Ee=ee.agg;for(let dt=0,Ft=Ee.length;dt<Ft;++dt)Ee[dt].rem(Ee[dt].get(w),w)},celltuple(w){let j=w.tuple,ee=this._counts;w.store&&w.data.values();for(let Ee=0,dt=ee.length;Ee<dt;++Ee)j[ee[Ee]]=w.num;if(!this._countOnly){let Ee=w.agg;for(let dt=0,Ft=Ee.length;dt<Ft;++dt)Ee[dt].set(j)}return j},changes(w){let j=this._adds,ee=this._mods,Ee=this._prev,dt=this._drop,Ft=w.add,Zt=w.rem,Xt=w.mod,mn,qn,Un,Vn;if(Ee)for(qn in Ee)mn=Ee[qn],(!dt||mn.num)&&Zt.push(mn.tuple);for(Un=0,Vn=this._alen;Un<Vn;++Un)Ft.push(this.celltuple(j[Un])),j[Un]=null;for(Un=0,Vn=this._mlen;Un<Vn;++Un)mn=ee[Un],(mn.num===0&&dt?Zt:Xt).push(this.celltuple(mn)),ee[Un]=null;return this._alen=this._mlen=0,this._prev=null,w}});let he=1e-14;function ve(w){t.Transform.call(this,null,w)}ve.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},e.inherits(ve,t.Transform,{transform(w,j){let ee=w.interval!==!1,Ee=this._bins(w),dt=Ee.start,Ft=Ee.step,Zt=w.as||["bin0","bin1"],Xt=Zt[0],mn=Zt[1],qn;return w.modified()?(j=j.reflow(!0),qn=j.SOURCE):qn=j.modified(e.accessorFields(w.field))?j.ADD_MOD:j.ADD,j.visit(qn,ee?Un=>{let Vn=Ee(Un);Un[Xt]=Vn,Un[mn]=Vn==null?null:dt+Ft*(1+(Vn-dt)/Ft)}:Un=>Un[Xt]=Ee(Un)),j.modifies(ee?Zt:Xt)},_bins(w){if(this.value&&!w.modified())return this.value;let j=w.field,ee=r.bin(w),Ee=ee.step,dt=ee.start,Ft=dt+Math.ceil((ee.stop-dt)/Ee)*Ee,Zt,Xt;(Zt=w.anchor)!=null&&(Xt=Zt-(dt+Ee*Math.floor((Zt-dt)/Ee)),dt+=Xt,Ft+=Xt);let mn=function(qn){let Un=e.toNumber(j(qn));return Un==null?null:Un<dt?-1/0:Un>Ft?1/0:(Un=Math.max(dt,Math.min(Un,Ft-Ee)),dt+Ee*Math.floor(he+(Un-dt)/Ee))};return mn.start=dt,mn.stop=ee.stop,mn.step=Ee,this.value=e.accessor(mn,e.accessorFields(j),w.name||"bin_"+e.accessorName(j))}});function Ve(w,j,ee){let Ee=w,dt=j||[],Ft=ee||[],Zt={},Xt=0;return{add:mn=>Ft.push(mn),remove:mn=>Zt[Ee(mn)]=++Xt,size:()=>dt.length,data:(mn,qn)=>(Xt&&(dt=dt.filter(Un=>!Zt[Ee(Un)]),Zt={},Xt=0),qn&&mn&&dt.sort(mn),Ft.length&&(dt=mn?e.merge(mn,dt,Ft.sort(mn)):dt.concat(Ft),Ft=[]),dt)}}function ot(w){t.Transform.call(this,[],w)}ot.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},e.inherits(ot,t.Transform,{transform(w,j){let ee=j.fork(j.ALL),Ee=Ve(t.tupleid,this.value,ee.materialize(ee.ADD).add),dt=w.sort,Ft=j.changed()||dt&&(w.modified("sort")||j.modified(dt.fields));return ee.visit(ee.REM,Ee.remove),this.modified(Ft),this.value=ee.source=Ee.data(t.stableCompare(dt),Ft),j.source&&j.source.root&&(this.value.root=j.source.root),ee}});function lt(w){t.Operator.call(this,null,et,w)}e.inherits(lt,t.Operator);function et(w){return this.value&&!w.modified()?this.value:e.compare(w.fields,w.orders)}function bt(w){t.Transform.call(this,null,w)}bt.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Pt(w,j,ee){switch(j){case"upper":w=w.toUpperCase();break;case"lower":w=w.toLowerCase();break}return w.match(ee)}e.inherits(bt,t.Transform,{transform(w,j){let ee=Vn=>Jr=>{for(var Vr=Pt(Xt(Jr),w.case,Ft)||[],yr,Mr=0,xi=Vr.length;Mr<xi;++Mr)Zt.test(yr=Vr[Mr])||Vn(yr)},Ee=this._parameterCheck(w,j),dt=this._counts,Ft=this._match,Zt=this._stop,Xt=w.field,mn=w.as||["text","count"],qn=ee(Vn=>dt[Vn]=1+(dt[Vn]||0)),Un=ee(Vn=>dt[Vn]-=1);return Ee?j.visit(j.SOURCE,qn):(j.visit(j.ADD,qn),j.visit(j.REM,Un)),this._finish(j,mn)},_parameterCheck(w,j){let ee=!1;return(w.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(w.stopwords||"")+"$","i"),ee=!0),(w.modified("pattern")||!this._match)&&(this._match=new RegExp(w.pattern||"[\\w']+","g"),ee=!0),(w.modified("field")||j.modified(w.field.fields))&&(ee=!0),ee&&(this._counts={}),ee},_finish(w,j){let ee=this._counts,Ee=this._tuples||(this._tuples={}),dt=j[0],Ft=j[1],Zt=w.fork(w.NO_SOURCE|w.NO_FIELDS),Xt,mn,qn;for(Xt in ee)mn=Ee[Xt],qn=ee[Xt]||0,!mn&&qn?(Ee[Xt]=mn=t.ingest({}),mn[dt]=Xt,mn[Ft]=qn,Zt.add.push(mn)):qn===0?(mn&&Zt.rem.push(mn),ee[Xt]=null,Ee[Xt]=null):mn[Ft]!==qn&&(mn[Ft]=qn,Zt.mod.push(mn));return Zt.modifies(j)}});function $e(w){t.Transform.call(this,null,w)}$e.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},e.inherits($e,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE),Ee=w.as||["a","b"],dt=Ee[0],Ft=Ee[1],Zt=!this.value||j.changed(j.ADD_REM)||w.modified("as")||w.modified("filter"),Xt=this.value;return Zt?(Xt&&(ee.rem=Xt),Xt=j.materialize(j.SOURCE).source,ee.add=this.value=te(Xt,dt,Ft,w.filter||e.truthy)):ee.mod=Xt,ee.source=this.value,ee.modifies(Ee)}});function te(w,j,ee,Ee){for(var dt=[],Ft={},Zt=w.length,Xt=0,mn,qn;Xt<Zt;++Xt)for(Ft[j]=qn=w[Xt],mn=0;mn<Zt;++mn)Ft[ee]=w[mn],Ee(Ft)&&(dt.push(t.ingest(Ft)),Ft={},Ft[j]=qn);return dt}let Ze={kde:r.randomKDE,mixture:r.randomMixture,normal:r.randomNormal,lognormal:r.randomLogNormal,uniform:r.randomUniform},ye="distributions",Le="function",Ce="field";function pe(w,j){let ee=w[Le];e.hasOwnProperty(Ze,ee)||e.error("Unknown distribution function: "+ee);let Ee=Ze[ee]();for(let dt in w)dt===Ce?Ee.data((w.from||j()).map(w[dt])):dt===ye?Ee[dt](w[dt].map(Ft=>pe(Ft,j))):typeof Ee[dt]===Le&&Ee[dt](w[dt]);return Ee}function Je(w){t.Transform.call(this,null,w)}let ut=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Ht={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:ut},{name:"weights",type:"number",array:!0}]};Je.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:ut.concat(Ht)},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Je,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE|j.NO_FIELDS);if(!this.value||j.changed()||w.modified()){let Ee=pe(w.distribution,Ct(j)),dt=w.steps||w.minsteps||25,Ft=w.steps||w.maxsteps||200,Zt=w.method||"pdf";Zt!=="pdf"&&Zt!=="cdf"&&e.error("Invalid density method: "+Zt),!w.extent&&!Ee.data&&e.error("Missing density extent parameter."),Zt=Ee[Zt];let Xt=w.as||["value","density"],mn=w.extent||e.extent(Ee.data()),qn=r.sampleCurve(Zt,mn,dt,Ft).map(Un=>{let Vn={};return Vn[Xt[0]]=Un[0],Vn[Xt[1]]=Un[1],t.ingest(Vn)});this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=qn}return ee}});function Ct(w){return()=>w.materialize(w.SOURCE).source}function xn(w,j){return w?w.map((ee,Ee)=>j[Ee]||e.accessorName(ee)):null}function Tt(w,j,ee){let Ee=[],dt=Vn=>Vn(mn),Ft,Zt,Xt,mn,qn,Un;if(j==null)Ee.push(w.map(ee));else for(Ft={},Zt=0,Xt=w.length;Zt<Xt;++Zt)mn=w[Zt],qn=j.map(dt),Un=Ft[qn],Un||(Ft[qn]=Un=[],Un.dims=qn,Ee.push(Un)),Un.push(ee(mn));return Ee}let Ot="bin";function rn(w){t.Transform.call(this,null,w)}rn.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Ot}]};let St=(w,j)=>e.span(e.extent(w,j))/30;e.inherits(rn,t.Transform,{transform(w,j){if(this.value&&!(w.modified()||j.changed()))return j;let ee=j.materialize(j.SOURCE).source,Ee=Tt(j.source,w.groupby,e.identity),dt=w.smooth||!1,Ft=w.field,Zt=w.step||St(ee,Ft),Xt=t.stableCompare((yr,Mr)=>Ft(yr)-Ft(Mr)),mn=w.as||Ot,qn=Ee.length,Un=1/0,Vn=-1/0,Jr=0,Vr;for(;Jr<qn;++Jr){let yr=Ee[Jr].sort(Xt);Vr=-1;for(let Mr of r.dotbin(yr,Zt,dt,Ft))Mr<Un&&(Un=Mr),Mr>Vn&&(Vn=Mr),yr[++Vr][mn]=Mr}return this.value={start:Un,stop:Vn,step:Zt},j.reflow(!0).modifies(mn)}});function _e(w){t.Operator.call(this,null,ke,w),this.modified(!0)}e.inherits(_e,t.Operator);function ke(w){let j=w.expr;return this.value&&!w.modified("expr")?this.value:e.accessor(ee=>j(ee,w),e.accessorFields(j),e.accessorName(j))}function Se(w){t.Transform.call(this,[void 0,void 0],w)}Se.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},e.inherits(Se,t.Transform,{transform(w,j){let ee=this.value,Ee=w.field,dt=j.changed()||j.modified(Ee.fields)||w.modified("field"),Ft=ee[0],Zt=ee[1];if((dt||Ft==null)&&(Ft=1/0,Zt=-1/0),j.visit(dt?j.SOURCE:j.ADD,Xt=>{let mn=e.toNumber(Ee(Xt));mn!=null&&(mn<Ft&&(Ft=mn),mn>Zt&&(Zt=mn))}),!Number.isFinite(Ft)||!Number.isFinite(Zt)){let Xt=e.accessorName(Ee);Xt&&(Xt=` for field "${Xt}"`),j.dataflow.warn(`Infinite extent${Xt}: [${Ft}, ${Zt}]`),Ft=Zt=void 0}this.value=[Ft,Zt]}});function ce(w,j){t.Operator.call(this,w),this.parent=j,this.count=0}e.inherits(ce,t.Operator,{connect(w){return this.detachSubflow=w.detachSubflow,this.targets().add(w),w.source=this},add(w){this.count+=1,this.value.add.push(w)},rem(w){this.count-=1,this.value.rem.push(w)},mod(w){this.value.mod.push(w)},init(w){this.value.init(w,w.NO_SOURCE)},evaluate(){return this.value}});function tt(w){t.Transform.call(this,{},w),this._keys=e.fastmap();let j=this._targets=[];j.active=0,j.forEach=ee=>{for(let Ee=0,dt=j.active;Ee<dt;++Ee)ee(j[Ee],Ee,j)}}e.inherits(tt,t.Transform,{activate(w){this._targets[this._targets.active++]=w},subflow(w,j,ee,Ee){let dt=this.value,Ft=e.hasOwnProperty(dt,w)&&dt[w],Zt,Xt;return Ft?Ft.value.stamp<ee.stamp&&(Ft.init(ee),this.activate(Ft)):(Xt=Ee||(Xt=this._group[w])&&Xt.tuple,Zt=ee.dataflow,Ft=new ce(ee.fork(ee.NO_SOURCE),this),Zt.add(Ft).connect(j(Zt,w,Xt)),dt[w]=Ft,this.activate(Ft)),Ft},clean(){let w=this.value,j=0;for(let ee in w)if(w[ee].count===0){let Ee=w[ee].detachSubflow;Ee&&Ee(),delete w[ee],++j}if(j){let ee=this._targets.filter(Ee=>Ee&&Ee.count>0);this.initTargets(ee)}},initTargets(w){let j=this._targets,ee=j.length,Ee=w?w.length:0,dt=0;for(;dt<Ee;++dt)j[dt]=w[dt];for(;dt<ee&&j[dt]!=null;++dt)j[dt]=null;j.active=Ee},transform(w,j){let ee=j.dataflow,Ee=w.key,dt=w.subflow,Ft=this._keys,Zt=w.modified("key"),Xt=mn=>this.subflow(mn,dt,j);return this._group=w.group||{},this.initTargets(),j.visit(j.REM,mn=>{let qn=t.tupleid(mn),Un=Ft.get(qn);Un!==void 0&&(Ft.delete(qn),Xt(Un).rem(mn))}),j.visit(j.ADD,mn=>{let qn=Ee(mn);Ft.set(t.tupleid(mn),qn),Xt(qn).add(mn)}),Zt||j.modified(Ee.fields)?j.visit(j.MOD,mn=>{let qn=t.tupleid(mn),Un=Ft.get(qn),Vn=Ee(mn);Un===Vn?Xt(Vn).mod(mn):(Ft.set(qn,Vn),Xt(Un).rem(mn),Xt(Vn).add(mn))}):j.changed(j.MOD)&&j.visit(j.MOD,mn=>{Xt(Ft.get(t.tupleid(mn))).mod(mn)}),Zt&&j.visit(j.REFLOW,mn=>{let qn=t.tupleid(mn),Un=Ft.get(qn),Vn=Ee(mn);Un!==Vn&&(Ft.set(qn,Vn),Xt(Un).rem(mn),Xt(Vn).add(mn))}),j.clean()?ee.runAfter(()=>{this.clean(),Ft.clean()}):Ft.empty>ee.cleanThreshold&&ee.runAfter(Ft.clean),j}});function Ie(w){t.Operator.call(this,null,re,w)}e.inherits(Ie,t.Operator);function re(w){return this.value&&!w.modified()?this.value:e.isArray(w.name)?e.array(w.name).map(j=>e.field(j)):e.field(w.name,w.as)}function Ne(w){t.Transform.call(this,e.fastmap(),w)}Ne.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},e.inherits(Ne,t.Transform,{transform(w,j){let ee=j.dataflow,Ee=this.value,dt=j.fork(),Ft=dt.add,Zt=dt.rem,Xt=dt.mod,mn=w.expr,qn=!0;j.visit(j.REM,Vn=>{let Jr=t.tupleid(Vn);Ee.has(Jr)?Ee.delete(Jr):Zt.push(Vn)}),j.visit(j.ADD,Vn=>{mn(Vn,w)?Ft.push(Vn):Ee.set(t.tupleid(Vn),1)});function Un(Vn){let Jr=t.tupleid(Vn),Vr=mn(Vn,w),yr=Ee.get(Jr);Vr&&yr?(Ee.delete(Jr),Ft.push(Vn)):!Vr&&!yr?(Ee.set(Jr,1),Zt.push(Vn)):qn&&Vr&&!yr&&Xt.push(Vn)}return j.visit(j.MOD,Un),w.modified()&&(qn=!1,j.visit(j.REFLOW,Un)),Ee.empty>ee.cleanThreshold&&ee.runAfter(Ee.clean),dt}});function ct(w){t.Transform.call(this,[],w)}ct.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},e.inherits(ct,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE),Ee=w.fields,dt=xn(Ee,w.as||[]),Ft=w.index||null,Zt=dt.length;return ee.rem=this.value,j.visit(j.SOURCE,Xt=>{let mn=Ee.map(yr=>yr(Xt)),qn=mn.reduce((yr,Mr)=>Math.max(yr,Mr.length),0),Un=0,Vn,Jr,Vr;for(;Un<qn;++Un){for(Jr=t.derive(Xt),Vn=0;Vn<Zt;++Vn)Jr[dt[Vn]]=(Vr=mn[Vn][Un])==null?null:Vr;Ft&&(Jr[Ft]=Un),ee.add.push(Jr)}}),this.value=ee.source=ee.add,Ft&&ee.modifies(Ft),ee.modifies(dt)}});function _t(w){t.Transform.call(this,[],w)}_t.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},e.inherits(_t,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE),Ee=w.fields,dt=Ee.map(e.accessorName),Ft=w.as||["key","value"],Zt=Ft[0],Xt=Ft[1],mn=Ee.length;return ee.rem=this.value,j.visit(j.SOURCE,qn=>{for(let Un=0,Vn;Un<mn;++Un)Vn=t.derive(qn),Vn[Zt]=dt[Un],Vn[Xt]=Ee[Un](qn),ee.add.push(Vn)}),this.value=ee.source=ee.add,ee.modifies(Ft)}});function Lt(w){t.Transform.call(this,null,w)}Lt.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},e.inherits(Lt,t.Transform,{transform(w,j){let ee=w.expr,Ee=w.as,dt=w.modified(),Ft=w.initonly?j.ADD:dt?j.SOURCE:j.modified(ee.fields)||j.modified(Ee)?j.ADD_MOD:j.ADD;return dt&&(j=j.materialize().reflow(!0)),w.initonly||j.modifies(Ee),j.visit(Ft,Zt=>Zt[Ee]=ee(Zt,w))}});function Yt(w){t.Transform.call(this,[],w)}e.inherits(Yt,t.Transform,{transform(w,j){let ee=j.fork(j.ALL),Ee=w.generator,dt=this.value,Ft=w.size-dt.length,Zt,Xt,mn;if(Ft>0){for(Zt=[];--Ft>=0;)Zt.push(mn=t.ingest(Ee(w))),dt.push(mn);ee.add=ee.add.length?ee.materialize(ee.ADD).add.concat(Zt):Zt}else Xt=dt.slice(0,-Ft),ee.rem=ee.rem.length?ee.materialize(ee.REM).rem.concat(Xt):Xt,dt=dt.slice(-Ft);return ee.source=this.value=dt,ee}});function Gt(w,j){return w==null||j==null?NaN:w<j?-1:w>j?1:w>=j?0:NaN}function fn(w){let j=w,ee=w,Ee=w;w.length!==2&&(j=(Xt,mn)=>w(Xt)-mn,ee=Gt,Ee=(Xt,mn)=>Gt(w(Xt),mn));function dt(Xt,mn,qn=0,Un=Xt.length){if(qn<Un){if(ee(mn,mn)!==0)return Un;do{let Vn=qn+Un>>>1;Ee(Xt[Vn],mn)<0?qn=Vn+1:Un=Vn}while(qn<Un)}return qn}function Ft(Xt,mn,qn=0,Un=Xt.length){if(qn<Un){if(ee(mn,mn)!==0)return Un;do{let Vn=qn+Un>>>1;Ee(Xt[Vn],mn)<=0?qn=Vn+1:Un=Vn}while(qn<Un)}return qn}function Zt(Xt,mn,qn=0,Un=Xt.length){let Vn=dt(Xt,mn,qn,Un-1);return Vn>qn&&j(Xt[Vn-1],mn)>-j(Xt[Vn],mn)?Vn-1:Vn}return{left:dt,center:Zt,right:Ft}}function*gn(w,j){if(j===void 0)for(let ee of w)ee!=null&&(ee=+ee)>=ee&&(yield ee);else{let ee=-1;for(let Ee of w)(Ee=j(Ee,++ee,w))!=null&&(Ee=+Ee)>=Ee&&(yield Ee)}}function yn(w=Gt){if(w===Gt)return It;if(typeof w!="function")throw new TypeError("compare is not a function");return(j,ee)=>{let Ee=w(j,ee);return Ee||Ee===0?Ee:(w(ee,ee)===0)-(w(j,j)===0)}}function It(w,j){return(w==null||!(w>=w))-(j==null||!(j>=j))||(w<j?-1:w>j?1:0)}function un(w,j){let ee;if(j===void 0)for(let Ee of w)Ee!=null&&(ee<Ee||ee===void 0&&Ee>=Ee)&&(ee=Ee);else{let Ee=-1;for(let dt of w)(dt=j(dt,++Ee,w))!=null&&(ee<dt||ee===void 0&&dt>=dt)&&(ee=dt)}return ee}function Mn(w,j){let ee;if(j===void 0)for(let Ee of w)Ee!=null&&(ee>Ee||ee===void 0&&Ee>=Ee)&&(ee=Ee);else{let Ee=-1;for(let dt of w)(dt=j(dt,++Ee,w))!=null&&(ee>dt||ee===void 0&&dt>=dt)&&(ee=dt)}return ee}function tr(w,j,ee=0,Ee=w.length-1,dt){for(dt=dt===void 0?It:yn(dt);Ee>ee;){if(Ee-ee>600){let mn=Ee-ee+1,qn=j-ee+1,Un=Math.log(mn),Vn=.5*Math.exp(2*Un/3),Jr=.5*Math.sqrt(Un*Vn*(mn-Vn)/mn)*(qn-mn/2<0?-1:1),Vr=Math.max(ee,Math.floor(j-qn*Vn/mn+Jr)),yr=Math.min(Ee,Math.floor(j+(mn-qn)*Vn/mn+Jr));tr(w,j,Vr,yr,dt)}let Ft=w[j],Zt=ee,Xt=Ee;for(Rn(w,ee,j),dt(w[Ee],Ft)>0&&Rn(w,ee,Ee);Zt<Xt;){for(Rn(w,Zt,Xt),++Zt,--Xt;dt(w[Zt],Ft)<0;)++Zt;for(;dt(w[Xt],Ft)>0;)--Xt}dt(w[ee],Ft)===0?Rn(w,ee,Xt):(++Xt,Rn(w,Xt,Ee)),Xt<=j&&(ee=Xt+1),j<=Xt&&(Ee=Xt-1)}return w}function Rn(w,j,ee){let Ee=w[j];w[j]=w[ee],w[ee]=Ee}function Re(w,j,ee){if(w=Float64Array.from(gn(w,ee)),!!(Ee=w.length)){if((j=+j)<=0||Ee<2)return Mn(w);if(j>=1)return un(w);var Ee,dt=(Ee-1)*j,Ft=Math.floor(dt),Zt=un(tr(w,Ft).subarray(0,Ft+1)),Xt=Mn(w.subarray(Ft+1));return Zt+(Xt-Zt)*(dt-Ft)}}function He(w,j){let ee=0,Ee=0;if(j===void 0)for(let dt of w)dt!=null&&(dt=+dt)>=dt&&(++ee,Ee+=dt);else{let dt=-1;for(let Ft of w)(Ft=j(Ft,++dt,w))!=null&&(Ft=+Ft)>=Ft&&(++ee,Ee+=Ft)}if(ee)return Ee/ee}function De(w,j){return Re(w,.5,j)}function Bt(w,j,ee){w=+w,j=+j,ee=(dt=arguments.length)<2?(j=w,w=0,1):dt<3?1:+ee;for(var Ee=-1,dt=Math.max(0,Math.ceil((j-w)/ee))|0,Ft=new Array(dt);++Ee<dt;)Ft[Ee]=w+Ee*ee;return Ft}let pt={value:"value",median:De,mean:He,min:Mn,max:un},mt=[];function nn(w){t.Transform.call(this,[],w)}nn.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Qt(w){var j=w.method||pt.value,ee;if(pt[j]==null)e.error("Unrecognized imputation method: "+j);else return j===pt.value?(ee=w.value!==void 0?w.value:0,()=>ee):pt[j]}function Fn(w){let j=w.field;return ee=>ee?j(ee):NaN}e.inherits(nn,t.Transform,{transform(w,j){var ee=j.fork(j.ALL),Ee=Qt(w),dt=Fn(w),Ft=e.accessorName(w.field),Zt=e.accessorName(w.key),Xt=(w.groupby||[]).map(e.accessorName),mn=Wn(j.source,w.groupby,w.key,w.keyvals),qn=[],Un=this.value,Vn=mn.domain.length,Jr,Vr,yr,Mr,xi,ai,Xi,Ss,ts,wa;for(xi=0,Ss=mn.length;xi<Ss;++xi)for(Jr=mn[xi],yr=Jr.values,Vr=NaN,Xi=0;Xi<Vn;++Xi)if(Jr[Xi]==null){for(Mr=mn.domain[Xi],wa={_impute:!0},ai=0,ts=yr.length;ai<ts;++ai)wa[Xt[ai]]=yr[ai];wa[Zt]=Mr,wa[Ft]=Number.isNaN(Vr)?Vr=Ee(Jr,dt):Vr,qn.push(t.ingest(wa))}return qn.length&&(ee.add=ee.materialize(ee.ADD).add.concat(qn)),Un.length&&(ee.rem=ee.materialize(ee.REM).rem.concat(Un)),this.value=qn,ee}});function Wn(w,j,ee,Ee){var dt=ai=>ai(xi),Ft=[],Zt=Ee?Ee.slice():[],Xt={},mn={},qn,Un,Vn,Jr,Vr,yr,Mr,xi;for(Zt.forEach((ai,Xi)=>Xt[ai]=Xi+1),Jr=0,Mr=w.length;Jr<Mr;++Jr)xi=w[Jr],yr=ee(xi),Vr=Xt[yr]||(Xt[yr]=Zt.push(yr)),Un=(qn=j?j.map(dt):mt)+"",(Vn=mn[Un])||(Vn=mn[Un]=[],Ft.push(Vn),Vn.values=qn),Vn[Vr-1]=xi;return Ft.domain=Zt,Ft}function Zn(w){J.call(this,w)}Zn.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:_},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},e.inherits(Zn,J,{transform(w,j){let ee=this,Ee=w.modified(),dt;return ee.value&&(Ee||j.modified(ee._inputs,!0))?(dt=ee.value=Ee?ee.init(w):{},j.visit(j.SOURCE,Ft=>ee.add(Ft))):(dt=ee.value=ee.value||this.init(w),j.visit(j.REM,Ft=>ee.rem(Ft)),j.visit(j.ADD,Ft=>ee.add(Ft))),ee.changes(),j.visit(j.SOURCE,Ft=>{e.extend(Ft,dt[ee.cellkey(Ft)].tuple)}),j.reflow(Ee).modifies(this._outputs)},changes(){let w=this._adds,j=this._mods,ee,Ee;for(ee=0,Ee=this._alen;ee<Ee;++ee)this.celltuple(w[ee]),w[ee]=null;for(ee=0,Ee=this._mlen;ee<Ee;++ee)this.celltuple(j[ee]),j[ee]=null;this._alen=this._mlen=0}});function Nn(w){t.Transform.call(this,null,w)}Nn.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Nn,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE|j.NO_FIELDS);if(!this.value||j.changed()||w.modified()){let Ee=j.materialize(j.SOURCE).source,dt=Tt(Ee,w.groupby,w.field),Ft=(w.groupby||[]).map(e.accessorName),Zt=w.bandwidth,Xt=w.cumulative?"cdf":"pdf",mn=w.as||["value","density"],qn=[],Un=w.extent,Vn=w.steps||w.minsteps||25,Jr=w.steps||w.maxsteps||200;Xt!=="pdf"&&Xt!=="cdf"&&e.error("Invalid density method: "+Xt),w.resolve==="shared"&&(Un||(Un=e.extent(Ee,w.field)),Vn=Jr=w.steps||Jr),dt.forEach(Vr=>{let yr=r.randomKDE(Vr,Zt)[Xt],Mr=w.counts?Vr.length:1,xi=Un||e.extent(Vr);r.sampleCurve(yr,xi,Vn,Jr).forEach(ai=>{let Xi={};for(let Ss=0;Ss<Ft.length;++Ss)Xi[Ft[Ss]]=Vr.dims[Ss];Xi[mn[0]]=ai[0],Xi[mn[1]]=ai[1]*Mr,qn.push(t.ingest(Xi))})}),this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=qn}return ee}});function nr(w){t.Operator.call(this,null,Ke,w)}e.inherits(nr,t.Operator);function Ke(w){return this.value&&!w.modified()?this.value:e.key(w.fields,w.flat)}function yt(w){t.Transform.call(this,[],w),this._pending=null}e.inherits(yt,t.Transform,{transform(w,j){let ee=j.dataflow;return this._pending?je(this,j,this._pending):oe(w)?j.StopPropagation:w.values?je(this,j,ee.parse(w.values,w.format)):w.async?{async:ee.request(w.url,w.format).then(dt=>(this._pending=e.array(dt.data),Ft=>Ft.touch(this)))}:ee.request(w.url,w.format).then(Ee=>je(this,j,e.array(Ee.data)))}});function oe(w){return w.modified("async")&&!(w.modified("values")||w.modified("url")||w.modified("format"))}function je(w,j,ee){ee.forEach(t.ingest);let Ee=j.fork(j.NO_FIELDS&j.NO_SOURCE);return Ee.rem=w.value,w.value=Ee.source=Ee.add=ee,w._pending=null,Ee.rem.length&&Ee.clean(!0),Ee}function nt(w){t.Transform.call(this,{},w)}nt.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},e.inherits(nt,t.Transform,{transform(w,j){let ee=w.fields,Ee=w.index,dt=w.values,Ft=w.default==null?null:w.default,Zt=w.modified(),Xt=ee.length,mn=Zt?j.SOURCE:j.ADD,qn=j,Un=w.as,Vn,Jr,Vr;return dt?(Jr=dt.length,Xt>1&&!Un&&e.error('Multi-field lookup requires explicit "as" parameter.'),Un&&Un.length!==Xt*Jr&&e.error('The "as" parameter has too few output field names.'),Un=Un||dt.map(e.accessorName),Vn=function(yr){for(var Mr=0,xi=0,ai,Xi;Mr<Xt;++Mr)if(Xi=Ee.get(ee[Mr](yr)),Xi==null)for(ai=0;ai<Jr;++ai,++xi)yr[Un[xi]]=Ft;else for(ai=0;ai<Jr;++ai,++xi)yr[Un[xi]]=dt[ai](Xi)}):(Un||e.error("Missing output field names."),Vn=function(yr){for(var Mr=0,xi;Mr<Xt;++Mr)xi=Ee.get(ee[Mr](yr)),yr[Un[Mr]]=xi??Ft}),Zt?qn=j.reflow(!0):(Vr=ee.some(yr=>j.modified(yr.fields)),mn|=Vr?j.MOD:0),j.visit(mn,Vn),qn.modifies(Un)}});function Rt(w){t.Operator.call(this,null,hn,w)}e.inherits(Rt,t.Operator);function hn(w){if(this.value&&!w.modified())return this.value;let j=w.extents,ee=j.length,Ee=1/0,dt=-1/0,Ft,Zt;for(Ft=0;Ft<ee;++Ft)Zt=j[Ft],Zt[0]<Ee&&(Ee=Zt[0]),Zt[1]>dt&&(dt=Zt[1]);return[Ee,dt]}function an(w){t.Operator.call(this,null,ft,w)}e.inherits(an,t.Operator);function ft(w){return this.value&&!w.modified()?this.value:w.values.reduce((j,ee)=>j.concat(ee),[])}function ie(w){t.Transform.call(this,null,w)}e.inherits(ie,t.Transform,{transform(w,j){return this.modified(w.modified()),this.value=w,j.fork(j.NO_SOURCE|j.NO_FIELDS)}});function Te(w){J.call(this,w)}Te.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:_,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},e.inherits(Te,J,{_transform:J.prototype.transform,transform(w,j){return this._transform(Ue(w,j),j)}});function Ue(w,j){let ee=w.field,Ee=w.value,dt=(w.op==="count"?"__count__":w.op)||"sum",Ft=e.accessorFields(ee).concat(e.accessorFields(Ee)),Zt=Et(ee,w.limit||0,j);return j.changed()&&w.set("__pivot__",null,null,!0),{key:w.key,groupby:w.groupby,ops:Zt.map(()=>dt),fields:Zt.map(Xt=>xt(Xt,ee,Ee,Ft)),as:Zt.map(Xt=>Xt+""),modified:w.modified.bind(w)}}function xt(w,j,ee,Ee){return e.accessor(dt=>j(dt)===w?ee(dt):NaN,Ee,w+"")}function Et(w,j,ee){let Ee={},dt=[];return ee.visit(ee.SOURCE,Ft=>{let Zt=w(Ft);Ee[Zt]||(Ee[Zt]=1,dt.push(Zt))}),dt.sort(e.ascending),j?dt.slice(0,j):dt}function Nt(w){tt.call(this,w)}e.inherits(Nt,tt,{transform(w,j){let ee=w.subflow,Ee=w.field,dt=Ft=>this.subflow(t.tupleid(Ft),ee,j,Ft);return(w.modified("field")||Ee&&j.modified(e.accessorFields(Ee)))&&e.error("PreFacet does not support field modification."),this.initTargets(),Ee?(j.visit(j.MOD,Ft=>{let Zt=dt(Ft);Ee(Ft).forEach(Xt=>Zt.mod(Xt))}),j.visit(j.ADD,Ft=>{let Zt=dt(Ft);Ee(Ft).forEach(Xt=>Zt.add(t.ingest(Xt)))}),j.visit(j.REM,Ft=>{let Zt=dt(Ft);Ee(Ft).forEach(Xt=>Zt.rem(Xt))})):(j.visit(j.MOD,Ft=>dt(Ft).mod(Ft)),j.visit(j.ADD,Ft=>dt(Ft).add(Ft)),j.visit(j.REM,Ft=>dt(Ft).rem(Ft))),j.clean()&&j.runAfter(()=>this.clean()),j}});function ne(w){t.Transform.call(this,null,w)}ne.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},e.inherits(ne,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE),Ee=w.fields,dt=xn(w.fields,w.as||[]),Ft=Ee?(Xt,mn)=>we(Xt,mn,Ee,dt):t.rederive,Zt;return this.value?Zt=this.value:(j=j.addAll(),Zt=this.value={}),j.visit(j.REM,Xt=>{let mn=t.tupleid(Xt);ee.rem.push(Zt[mn]),Zt[mn]=null}),j.visit(j.ADD,Xt=>{let mn=Ft(Xt,t.ingest({}));Zt[t.tupleid(Xt)]=mn,ee.add.push(mn)}),j.visit(j.MOD,Xt=>{ee.mod.push(Ft(Xt,Zt[t.tupleid(Xt)]))}),ee}});function we(w,j,ee,Ee){for(let dt=0,Ft=ee.length;dt<Ft;++dt)j[Ee[dt]]=ee[dt](w);return j}function Qe(w){t.Transform.call(this,null,w)}e.inherits(Qe,t.Transform,{transform(w,j){return this.value=w.value,w.modified("value")?j.fork(j.NO_SOURCE|j.NO_FIELDS):j.StopPropagation}});function it(w){t.Transform.call(this,null,w)}it.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};let Ut=1e-14;e.inherits(it,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE|j.NO_FIELDS),Ee=w.as||["prob","value"];if(this.value&&!w.modified()&&!j.changed())return ee.source=this.value,ee;let dt=j.materialize(j.SOURCE).source,Ft=Tt(dt,w.groupby,w.field),Zt=(w.groupby||[]).map(e.accessorName),Xt=[],mn=w.step||.01,qn=w.probs||Bt(mn/2,1-Ut,mn),Un=qn.length;return Ft.forEach(Vn=>{let Jr=r.quantiles(Vn,qn);for(let Vr=0;Vr<Un;++Vr){let yr={};for(let Mr=0;Mr<Zt.length;++Mr)yr[Zt[Mr]]=Vn.dims[Mr];yr[Ee[0]]=qn[Vr],yr[Ee[1]]=Jr[Vr],Xt.push(t.ingest(yr))}}),this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=Xt,ee}});function sn(w){t.Transform.call(this,null,w)}e.inherits(sn,t.Transform,{transform(w,j){let ee,Ee;return this.value?Ee=this.value:(ee=j=j.addAll(),Ee=this.value={}),w.derive&&(ee=j.fork(j.NO_SOURCE),j.visit(j.REM,dt=>{let Ft=t.tupleid(dt);ee.rem.push(Ee[Ft]),Ee[Ft]=null}),j.visit(j.ADD,dt=>{let Ft=t.derive(dt);Ee[t.tupleid(dt)]=Ft,ee.add.push(Ft)}),j.visit(j.MOD,dt=>{let Ft=Ee[t.tupleid(dt)];for(let Zt in dt)Ft[Zt]=dt[Zt],ee.modifies(Zt);ee.mod.push(Ft)})),ee}});function Cn(w){t.Transform.call(this,[],w),this.count=0}Cn.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},e.inherits(Cn,t.Transform,{transform(w,j){let ee=j.fork(j.NO_SOURCE),Ee=w.modified("size"),dt=w.size,Ft=this.value.reduce((Un,Vn)=>(Un[t.tupleid(Vn)]=1,Un),{}),Zt=this.value,Xt=this.count,mn=0;function qn(Un){let Vn,Jr;Zt.length<dt?Zt.push(Un):(Jr=~~((Xt+1)*r.random()),Jr<Zt.length&&Jr>=mn&&(Vn=Zt[Jr],Ft[t.tupleid(Vn)]&&ee.rem.push(Vn),Zt[Jr]=Un)),++Xt}if(j.rem.length&&(j.visit(j.REM,Un=>{let Vn=t.tupleid(Un);Ft[Vn]&&(Ft[Vn]=-1,ee.rem.push(Un)),--Xt}),Zt=Zt.filter(Un=>Ft[t.tupleid(Un)]!==-1)),(j.rem.length||Ee)&&Zt.length<dt&&j.source&&(mn=Xt=Zt.length,j.visit(j.SOURCE,Un=>{Ft[t.tupleid(Un)]||qn(Un)}),mn=-1),Ee&&Zt.length>dt){let Un=Zt.length-dt;for(let Vn=0;Vn<Un;++Vn)Ft[t.tupleid(Zt[Vn])]=-1,ee.rem.push(Zt[Vn]);Zt=Zt.slice(Un)}return j.mod.length&&j.visit(j.MOD,Un=>{Ft[t.tupleid(Un)]&&ee.mod.push(Un)}),j.add.length&&j.visit(j.ADD,qn),(j.add.length||mn<0)&&(ee.add=Zt.filter(Un=>!Ft[t.tupleid(Un)])),this.count=Xt,this.value=ee.source=Zt,ee}});function En(w){t.Transform.call(this,null,w)}En.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},e.inherits(En,t.Transform,{transform(w,j){if(this.value&&!w.modified())return;let ee=j.materialize().fork(j.MOD),Ee=w.as||"data";return ee.rem=this.value?j.rem.concat(this.value):j.rem,this.value=Bt(w.start,w.stop,w.step||1).map(dt=>{let Ft={};return Ft[Ee]=dt,t.ingest(Ft)}),ee.add=j.add.concat(this.value),ee}});function vn(w){t.Transform.call(this,null,w),this.modified(!0)}e.inherits(vn,t.Transform,{transform(w,j){return this.value=j.source,j.changed()?j.fork(j.NO_SOURCE|j.NO_FIELDS):j.StopPropagation}});function zn(w){t.Transform.call(this,null,w)}let Oe=["unit0","unit1"];zn.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:i.TIME_UNITS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Oe}]},e.inherits(zn,t.Transform,{transform(w,j){let ee=w.field,Ee=w.interval!==!1,dt=w.timezone==="utc",Ft=this._floor(w,j),Zt=(dt?i.utcInterval:i.timeInterval)(Ft.unit).offset,Xt=w.as||Oe,mn=Xt[0],qn=Xt[1],Un=Ft.step,Vn=Ft.start||1/0,Jr=Ft.stop||-1/0,Vr=j.ADD;return(w.modified()||j.changed(j.REM)||j.modified(e.accessorFields(ee)))&&(j=j.reflow(!0),Vr=j.SOURCE,Vn=1/0,Jr=-1/0),j.visit(Vr,yr=>{let Mr=ee(yr),xi,ai;Mr==null?(yr[mn]=null,Ee&&(yr[qn]=null)):(yr[mn]=xi=ai=Ft(Mr),Ee&&(yr[qn]=ai=Zt(xi,Un)),xi<Vn&&(Vn=xi),ai>Jr&&(Jr=ai))}),Ft.start=Vn,Ft.stop=Jr,j.modifies(Ee?Xt:mn)},_floor(w,j){let ee=w.timezone==="utc",{units:Ee,step:dt}=w.units?{units:w.units,step:w.step||1}:i.timeBin({extent:w.extent||e.extent(j.materialize(j.SOURCE).source,w.field),maxbins:w.maxbins}),Ft=i.timeUnits(Ee),Zt=this.value||{},Xt=(ee?i.utcFloor:i.timeFloor)(Ft,dt);return Xt.unit=e.peek(Ft),Xt.units=Ft,Xt.step=dt,Xt.start=Zt.start,Xt.stop=Zt.stop,this.value=Xt}});function ze(w){t.Transform.call(this,e.fastmap(),w)}e.inherits(ze,t.Transform,{transform(w,j){let ee=j.dataflow,Ee=w.field,dt=this.value,Ft=Xt=>dt.set(Ee(Xt),Xt),Zt=!0;return w.modified("field")||j.modified(Ee.fields)?(dt.clear(),j.visit(j.SOURCE,Ft)):j.changed()?(j.visit(j.REM,Xt=>dt.delete(Ee(Xt))),j.visit(j.ADD,Ft)):Zt=!1,this.modified(Zt),dt.empty>ee.cleanThreshold&&ee.runAfter(dt.clean),j.fork()}});function Dt(w){t.Transform.call(this,null,w)}e.inherits(Dt,t.Transform,{transform(w,j){(!this.value||w.modified("field")||w.modified("sort")||j.changed()||w.sort&&j.modified(w.sort.fields))&&(this.value=(w.sort?j.source.slice().sort(t.stableCompare(w.sort)):j.source).map(w.field))}});function N(w,j,ee,Ee){let dt=V[w](j,ee);return{init:dt.init||e.zero,update:function(Ft,Zt){Zt[Ee]=dt.next(Ft)}}}let V={row_number:function(){return{next:w=>w.index+1}},rank:function(){let w;return{init:()=>w=1,next:j=>{let ee=j.index,Ee=j.data;return ee&&j.compare(Ee[ee-1],Ee[ee])?w=ee+1:w}}},dense_rank:function(){let w;return{init:()=>w=1,next:j=>{let ee=j.index,Ee=j.data;return ee&&j.compare(Ee[ee-1],Ee[ee])?++w:w}}},percent_rank:function(){let w=V.rank(),j=w.next;return{init:w.init,next:ee=>(j(ee)-1)/(ee.data.length-1)}},cume_dist:function(){let w;return{init:()=>w=0,next:j=>{let ee=j.data,Ee=j.compare,dt=j.index;if(w<dt){for(;dt+1<ee.length&&!Ee(ee[dt],ee[dt+1]);)++dt;w=dt}return(1+w)/ee.length}}},ntile:function(w,j){j=+j,j>0||e.error("ntile num must be greater than zero.");let ee=V.cume_dist(),Ee=ee.next;return{init:ee.init,next:dt=>Math.ceil(j*Ee(dt))}},lag:function(w,j){return j=+j||1,{next:ee=>{let Ee=ee.index-j;return Ee>=0?w(ee.data[Ee]):null}}},lead:function(w,j){return j=+j||1,{next:ee=>{let Ee=ee.index+j,dt=ee.data;return Ee<dt.length?w(dt[Ee]):null}}},first_value:function(w){return{next:j=>w(j.data[j.i0])}},last_value:function(w){return{next:j=>w(j.data[j.i1-1])}},nth_value:function(w,j){return j=+j,j>0||e.error("nth_value nth must be greater than zero."),{next:ee=>{let Ee=ee.i0+(j-1);return Ee<ee.i1?w(ee.data[Ee]):null}}},prev_value:function(w){let j;return{init:()=>j=null,next:ee=>{let Ee=w(ee.data[ee.index]);return Ee!=null?j=Ee:j}}},next_value:function(w){let j,ee;return{init:()=>(j=null,ee=-1),next:Ee=>{let dt=Ee.data;return Ee.index<=ee?j:(ee=be(w,dt,Ee.index))<0?(ee=dt.length,j=null):j=w(dt[ee])}}}};function be(w,j,ee){for(let Ee=j.length;ee<Ee;++ee)if(w(j[ee])!=null)return ee;return-1}let xe=Object.keys(V);function K(w){let j=e.array(w.ops),ee=e.array(w.fields),Ee=e.array(w.params),dt=e.array(w.as),Ft=this.outputs=[],Zt=this.windows=[],Xt={},mn={},qn=[],Un=[],Vn=!0;function Jr(Vr){e.array(e.accessorFields(Vr)).forEach(yr=>Xt[yr]=1)}Jr(w.sort),j.forEach((Vr,yr)=>{let Mr=ee[yr],xi=e.accessorName(Mr),ai=a(Vr,xi,dt[yr]);if(Jr(Mr),Ft.push(ai),e.hasOwnProperty(V,Vr))Zt.push(N(Vr,ee[yr],Ee[yr],ai));else{if(Mr==null&&Vr!=="count"&&e.error("Null aggregate field specified."),Vr==="count"){qn.push(ai);return}Vn=!1;let Xi=mn[xi];Xi||(Xi=mn[xi]=[],Xi.field=Mr,Un.push(Xi)),Xi.push(O(Vr,ai))}}),(qn.length||Un.length)&&(this.cell=fe(Un,qn,Vn)),this.inputs=Object.keys(Xt)}let ae=K.prototype;ae.init=function(){this.windows.forEach(w=>w.init()),this.cell&&this.cell.init()},ae.update=function(w,j){let ee=this.cell,Ee=this.windows,dt=w.data,Ft=Ee&&Ee.length,Zt;if(ee){for(Zt=w.p0;Zt<w.i0;++Zt)ee.rem(dt[Zt]);for(Zt=w.p1;Zt<w.i1;++Zt)ee.add(dt[Zt]);ee.set(j)}for(Zt=0;Zt<Ft;++Zt)Ee[Zt].update(w,j)};function fe(w,j,ee){w=w.map(mn=>G(mn,mn.field));let Ee={num:0,agg:null,store:!1,count:j};if(!ee)for(var dt=w.length,Ft=Ee.agg=Array(dt),Zt=0;Zt<dt;++Zt)Ft[Zt]=new w[Zt](Ee);if(Ee.store)var Xt=Ee.data=new ue;return Ee.add=function(mn){if(Ee.num+=1,!ee){Xt&&Xt.add(mn);for(let qn=0;qn<dt;++qn)Ft[qn].add(Ft[qn].get(mn),mn)}},Ee.rem=function(mn){if(Ee.num-=1,!ee){Xt&&Xt.rem(mn);for(let qn=0;qn<dt;++qn)Ft[qn].rem(Ft[qn].get(mn),mn)}},Ee.set=function(mn){let qn,Un;for(Xt&&Xt.values(),qn=0,Un=j.length;qn<Un;++qn)mn[j[qn]]=Ee.num;if(!ee)for(qn=0,Un=Ft.length;qn<Un;++qn)Ft[qn].set(mn)},Ee.init=function(){Ee.num=0,Xt&&Xt.reset();for(let mn=0;mn<dt;++mn)Ft[mn].init()},Ee}function Ge(w){t.Transform.call(this,{},w),this._mlen=0,this._mods=[]}Ge.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:xe.concat(_)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},e.inherits(Ge,t.Transform,{transform(w,j){this.stamp=j.stamp;let ee=w.modified(),Ee=t.stableCompare(w.sort),dt=o(w.groupby),Ft=Xt=>this.group(dt(Xt)),Zt=this.state;(!Zt||ee)&&(Zt=this.state=new K(w)),ee||j.modified(Zt.inputs)?(this.value={},j.visit(j.SOURCE,Xt=>Ft(Xt).add(Xt))):(j.visit(j.REM,Xt=>Ft(Xt).remove(Xt)),j.visit(j.ADD,Xt=>Ft(Xt).add(Xt)));for(let Xt=0,mn=this._mlen;Xt<mn;++Xt)Mt(this._mods[Xt],Zt,Ee,w);return this._mlen=0,this._mods=[],j.reflow(ee).modifies(Zt.outputs)},group(w){let j=this.value[w];return j||(j=this.value[w]=Ve(t.tupleid),j.stamp=-1),j.stamp<this.stamp&&(j.stamp=this.stamp,this._mods[this._mlen++]=j),j}});function Mt(w,j,ee,Ee){let dt=Ee.sort,Ft=dt&&!Ee.ignorePeers,Zt=Ee.frame||[null,0],Xt=w.data(ee),mn=Xt.length,qn=Ft?fn(dt):null,Un={i0:0,i1:0,p0:0,p1:0,index:0,data:Xt,compare:dt||e.constant(-1)};j.init();for(let Vn=0;Vn<mn;++Vn)At(Un,Zt,Vn,mn),Ft&&dn(Un,qn),j.update(Un,Xt[Vn])}function At(w,j,ee,Ee){w.p0=w.i0,w.p1=w.i1,w.i0=j[0]==null?0:Math.max(0,ee-Math.abs(j[0])),w.i1=j[1]==null?Ee:Math.min(Ee,ee+Math.abs(j[1])+1),w.index=ee}function dn(w,j){let ee=w.i0,Ee=w.i1-1,dt=w.compare,Ft=w.data,Zt=Ft.length-1;ee>0&&!dt(Ft[ee],Ft[ee-1])&&(w.i0=j.left(Ft,Ft[ee])),Ee<Zt&&!dt(Ft[Ee],Ft[Ee+1])&&(w.i1=j.right(Ft,Ft[Ee]))}n.aggregate=J,n.bin=ve,n.collect=ot,n.compare=lt,n.countpattern=bt,n.cross=$e,n.density=Je,n.dotbin=rn,n.expression=_e,n.extent=Se,n.facet=tt,n.field=Ie,n.filter=Ne,n.flatten=ct,n.fold=_t,n.formula=Lt,n.generate=Yt,n.impute=nn,n.joinaggregate=Zn,n.kde=Nn,n.key=nr,n.load=yt,n.lookup=nt,n.multiextent=Rt,n.multivalues=an,n.params=ie,n.pivot=Te,n.prefacet=Nt,n.project=ne,n.proxy=Qe,n.quantile=it,n.relay=sn,n.sample=Cn,n.sequence=En,n.sieve=vn,n.subflow=ce,n.timeunit=zn,n.tupleindex=ze,n.values=Dt,n.window=Ge,Object.defineProperty(n,"__esModule",{value:!0})})});var ZR=Ae((qH,ZFe)=>{m();(function(n,e){typeof qH=="object"&&typeof ZFe!="undefined"?e(qH):typeof define=="function"&&define.amd?define(["exports"],e):e((n=typeof globalThis!="undefined"?globalThis:n||self).vega={})})(qH,function(n){"use strict";function e(t,r){if(typeof document!="undefined"&&document.createElement){let i=document.createElement("canvas");if(i&&i.getContext)return i.width=t,i.height=r,i}return null}n.canvas=e,n.domCanvas=e,n.image=()=>typeof Image!="undefined"?Image:null,Object.defineProperty(n,"__esModule",{value:!0})})});var tE=Ae((UH,eDe)=>{m();(function(n,e){typeof UH=="object"&&typeof eDe!="undefined"?e(UH,Au(),XC()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(UH,function(n,e,t){"use strict";function r(x,T,$){let X=x-T+$*2;return x?X>0?X:1:0}let i="identity",s="linear",o="log",a="pow",l="sqrt",f="symlog",p="time",_="utc",E="sequential",O="diverging",R="quantile",q="quantize",z="threshold",L="ordinal",B="point",P="band",G="bin-ordinal",ue="continuous",I="discrete",J="discretizing",he="interpolating",ve="temporal";function Ve(x){return function(T){let $=T[0],X=T[1],ge;return X<$&&(ge=$,$=X,X=ge),[x.invert($),x.invert(X)]}}function ot(x){return function(T){let $=x.range(),X=T[0],ge=T[1],Fe=-1,st,zt,wn,Sn;for(ge<X&&(zt=X,X=ge,ge=zt),wn=0,Sn=$.length;wn<Sn;++wn)$[wn]>=X&&$[wn]<=ge&&(Fe<0&&(Fe=wn),st=wn);if(!(Fe<0))return X=x.invertExtent($[Fe]),ge=x.invertExtent($[st]),[X[0]===void 0?X[1]:X[0],ge[1]===void 0?ge[0]:ge[1]]}}function lt(x,T){return x==null||T==null?NaN:x<T?-1:x>T?1:x>=T?0:NaN}function et(x){let T=x,$=x,X=x;x.length!==2&&(T=(zt,wn)=>x(zt)-wn,$=lt,X=(zt,wn)=>lt(x(zt),wn));function ge(zt,wn,Sn=0,Pn=zt.length){if(Sn<Pn){if($(wn,wn)!==0)return Pn;do{let Hn=Sn+Pn>>>1;X(zt[Hn],wn)<0?Sn=Hn+1:Pn=Hn}while(Sn<Pn)}return Sn}function Fe(zt,wn,Sn=0,Pn=zt.length){if(Sn<Pn){if($(wn,wn)!==0)return Pn;do{let Hn=Sn+Pn>>>1;X(zt[Hn],wn)<=0?Sn=Hn+1:Pn=Hn}while(Sn<Pn)}return Sn}function st(zt,wn,Sn=0,Pn=zt.length){let Hn=ge(zt,wn,Sn,Pn-1);return Hn>Sn&&T(zt[Hn-1],wn)>-T(zt[Hn],wn)?Hn-1:Hn}return{left:ge,center:st,right:Fe}}function bt(x){return x===null?NaN:+x}let $e=et(lt).right;et(bt).center;var te=$e;class Ze extends Map{constructor(T,$=pe){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:$}}),T!=null)for(let[X,ge]of T)this.set(X,ge)}get(T){return super.get(ye(this,T))}has(T){return super.has(ye(this,T))}set(T,$){return super.set(Le(this,T),$)}delete(T){return super.delete(Ce(this,T))}}function ye({_intern:x,_key:T},$){let X=T($);return x.has(X)?x.get(X):$}function Le({_intern:x,_key:T},$){let X=T($);return x.has(X)?x.get(X):(x.set(X,$),$)}function Ce({_intern:x,_key:T},$){let X=T($);return x.has(X)&&($=x.get(X),x.delete(X)),$}function pe(x){return x!==null&&typeof x=="object"?x.valueOf():x}var Je=Math.sqrt(50),ut=Math.sqrt(10),Ht=Math.sqrt(2);function Ct(x,T,$){var X,ge=-1,Fe,st,zt;if(T=+T,x=+x,$=+$,x===T&&$>0)return[x];if((X=T<x)&&(Fe=x,x=T,T=Fe),(zt=xn(x,T,$))===0||!isFinite(zt))return[];if(zt>0){let wn=Math.round(x/zt),Sn=Math.round(T/zt);for(wn*zt<x&&++wn,Sn*zt>T&&--Sn,st=new Array(Fe=Sn-wn+1);++ge<Fe;)st[ge]=(wn+ge)*zt}else{zt=-zt;let wn=Math.round(x*zt),Sn=Math.round(T*zt);for(wn/zt<x&&++wn,Sn/zt>T&&--Sn,st=new Array(Fe=Sn-wn+1);++ge<Fe;)st[ge]=(wn+ge)/zt}return X&&st.reverse(),st}function xn(x,T,$){var X=(T-x)/Math.max(0,$),ge=Math.floor(Math.log(X)/Math.LN10),Fe=X/Math.pow(10,ge);return ge>=0?(Fe>=Je?10:Fe>=ut?5:Fe>=Ht?2:1)*Math.pow(10,ge):-Math.pow(10,-ge)/(Fe>=Je?10:Fe>=ut?5:Fe>=Ht?2:1)}function Tt(x,T,$){var X=Math.abs(T-x)/Math.max(0,$),ge=Math.pow(10,Math.floor(Math.log(X)/Math.LN10)),Fe=X/ge;return Fe>=Je?ge*=10:Fe>=ut?ge*=5:Fe>=Ht&&(ge*=2),T<x?-ge:ge}function Ot(x,T,$=bt){if(!!(X=x.length)){if((T=+T)<=0||X<2)return+$(x[0],0,x);if(T>=1)return+$(x[X-1],X-1,x);var X,ge=(X-1)*T,Fe=Math.floor(ge),st=+$(x[Fe],Fe,x),zt=+$(x[Fe+1],Fe+1,x);return st+(zt-st)*(ge-Fe)}}function rn(x,T,$){x=+x,T=+T,$=(ge=arguments.length)<2?(T=x,x=0,1):ge<3?1:+$;for(var X=-1,ge=Math.max(0,Math.ceil((T-x)/$))|0,Fe=new Array(ge);++X<ge;)Fe[X]=x+X*$;return Fe}function St(x,T){switch(arguments.length){case 0:break;case 1:this.range(x);break;default:this.range(T).domain(x);break}return this}function _e(x,T){switch(arguments.length){case 0:break;case 1:{typeof x=="function"?this.interpolator(x):this.range(x);break}default:{this.domain(x),typeof T=="function"?this.interpolator(T):this.range(T);break}}return this}let ke=Symbol("implicit");function Se(){var x=new Ze,T=[],$=[],X=ke;function ge(Fe){let st=x.get(Fe);if(st===void 0){if(X!==ke)return X;x.set(Fe,st=T.push(Fe)-1)}return $[st%$.length]}return ge.domain=function(Fe){if(!arguments.length)return T.slice();T=[],x=new Ze;for(let st of Fe)x.has(st)||x.set(st,T.push(st)-1);return ge},ge.range=function(Fe){return arguments.length?($=Array.from(Fe),ge):$.slice()},ge.unknown=function(Fe){return arguments.length?(X=Fe,ge):X},ge.copy=function(){return Se(T,$).unknown(X)},St.apply(ge,arguments),ge}function ce(x,T,$){x.prototype=T.prototype=$,$.constructor=x}function tt(x,T){var $=Object.create(x.prototype);for(var X in T)$[X]=T[X];return $}function Ie(){}var re=.7,Ne=1/re,ct="\\s*([+-]?\\d+)\\s*",_t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yt=/^#([0-9a-f]{3,8})$/,Gt=new RegExp("^rgb\\("+[ct,ct,ct]+"\\)$"),fn=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),gn=new RegExp("^rgba\\("+[ct,ct,ct,_t]+"\\)$"),yn=new RegExp("^rgba\\("+[Lt,Lt,Lt,_t]+"\\)$"),It=new RegExp("^hsl\\("+[_t,Lt,Lt]+"\\)$"),un=new RegExp("^hsla\\("+[_t,Lt,Lt,_t]+"\\)$"),Mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ce(Ie,He,{copy:function(x){return Object.assign(new this.constructor,this,x)},displayable:function(){return this.rgb().displayable()},hex:tr,formatHex:tr,formatHsl:Rn,formatRgb:Re,toString:Re});function tr(){return this.rgb().formatHex()}function Rn(){return Nn(this).formatHsl()}function Re(){return this.rgb().formatRgb()}function He(x){var T,$;return x=(x+"").trim().toLowerCase(),(T=Yt.exec(x))?($=T[1].length,T=parseInt(T[1],16),$===6?De(T):$===3?new nn(T>>8&15|T>>4&240,T>>4&15|T&240,(T&15)<<4|T&15,1):$===8?Bt(T>>24&255,T>>16&255,T>>8&255,(T&255)/255):$===4?Bt(T>>12&15|T>>8&240,T>>8&15|T>>4&240,T>>4&15|T&240,((T&15)<<4|T&15)/255):null):(T=Gt.exec(x))?new nn(T[1],T[2],T[3],1):(T=fn.exec(x))?new nn(T[1]*255/100,T[2]*255/100,T[3]*255/100,1):(T=gn.exec(x))?Bt(T[1],T[2],T[3],T[4]):(T=yn.exec(x))?Bt(T[1]*255/100,T[2]*255/100,T[3]*255/100,T[4]):(T=It.exec(x))?Zn(T[1],T[2]/100,T[3]/100,1):(T=un.exec(x))?Zn(T[1],T[2]/100,T[3]/100,T[4]):Mn.hasOwnProperty(x)?De(Mn[x]):x==="transparent"?new nn(NaN,NaN,NaN,0):null}function De(x){return new nn(x>>16&255,x>>8&255,x&255,1)}function Bt(x,T,$,X){return X<=0&&(x=T=$=NaN),new nn(x,T,$,X)}function pt(x){return x instanceof Ie||(x=He(x)),x?(x=x.rgb(),new nn(x.r,x.g,x.b,x.opacity)):new nn}function mt(x,T,$,X){return arguments.length===1?pt(x):new nn(x,T,$,X??1)}function nn(x,T,$,X){this.r=+x,this.g=+T,this.b=+$,this.opacity=+X}ce(nn,mt,tt(Ie,{brighter:function(x){return x=x==null?Ne:Math.pow(Ne,x),new nn(this.r*x,this.g*x,this.b*x,this.opacity)},darker:function(x){return x=x==null?re:Math.pow(re,x),new nn(this.r*x,this.g*x,this.b*x,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qt,formatHex:Qt,formatRgb:Fn,toString:Fn}));function Qt(){return"#"+Wn(this.r)+Wn(this.g)+Wn(this.b)}function Fn(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(x===1?")":", "+x+")")}function Wn(x){return x=Math.max(0,Math.min(255,Math.round(x)||0)),(x<16?"0":"")+x.toString(16)}function Zn(x,T,$,X){return X<=0?x=T=$=NaN:$<=0||$>=1?x=T=NaN:T<=0&&(x=NaN),new Ke(x,T,$,X)}function Nn(x){if(x instanceof Ke)return new Ke(x.h,x.s,x.l,x.opacity);if(x instanceof Ie||(x=He(x)),!x)return new Ke;if(x instanceof Ke)return x;x=x.rgb();var T=x.r/255,$=x.g/255,X=x.b/255,ge=Math.min(T,$,X),Fe=Math.max(T,$,X),st=NaN,zt=Fe-ge,wn=(Fe+ge)/2;return zt?(T===Fe?st=($-X)/zt+($<X)*6:$===Fe?st=(X-T)/zt+2:st=(T-$)/zt+4,zt/=wn<.5?Fe+ge:2-Fe-ge,st*=60):zt=wn>0&&wn<1?0:st,new Ke(st,zt,wn,x.opacity)}function nr(x,T,$,X){return arguments.length===1?Nn(x):new Ke(x,T,$,X??1)}function Ke(x,T,$,X){this.h=+x,this.s=+T,this.l=+$,this.opacity=+X}ce(Ke,nr,tt(Ie,{brighter:function(x){return x=x==null?Ne:Math.pow(Ne,x),new Ke(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?re:Math.pow(re,x),new Ke(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=this.h%360+(this.h<0)*360,T=isNaN(x)||isNaN(this.s)?0:this.s,$=this.l,X=$+($<.5?$:1-$)*T,ge=2*$-X;return new nn(yt(x>=240?x-240:x+120,ge,X),yt(x,ge,X),yt(x<120?x+240:x-120,ge,X),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(x===1?")":", "+x+")")}}));function yt(x,T,$){return(x<60?T+($-T)*x/60:x<180?$:x<240?T+($-T)*(240-x)/60:T)*255}let oe=Math.PI/180,je=180/Math.PI,nt=18,Rt=.96422,hn=1,an=.82521,ft=4/29,ie=6/29,Te=3*ie*ie,Ue=ie*ie*ie;function xt(x){if(x instanceof Nt)return new Nt(x.l,x.a,x.b,x.opacity);if(x instanceof Cn)return En(x);x instanceof nn||(x=pt(x));var T=it(x.r),$=it(x.g),X=it(x.b),ge=ne((.2225045*T+.7168786*$+.0606169*X)/hn),Fe,st;return T===$&&$===X?Fe=st=ge:(Fe=ne((.4360747*T+.3850649*$+.1430804*X)/Rt),st=ne((.0139322*T+.0971045*$+.7141733*X)/an)),new Nt(116*ge-16,500*(Fe-ge),200*(ge-st),x.opacity)}function Et(x,T,$,X){return arguments.length===1?xt(x):new Nt(x,T,$,X??1)}function Nt(x,T,$,X){this.l=+x,this.a=+T,this.b=+$,this.opacity=+X}ce(Nt,Et,tt(Ie,{brighter:function(x){return new Nt(this.l+nt*(x??1),this.a,this.b,this.opacity)},darker:function(x){return new Nt(this.l-nt*(x??1),this.a,this.b,this.opacity)},rgb:function(){var x=(this.l+16)/116,T=isNaN(this.a)?x:x+this.a/500,$=isNaN(this.b)?x:x-this.b/200;return T=Rt*we(T),x=hn*we(x),$=an*we($),new nn(Qe(3.1338561*T-1.6168667*x-.4906146*$),Qe(-.9787684*T+1.9161415*x+.033454*$),Qe(.0719453*T-.2289914*x+1.4052427*$),this.opacity)}}));function ne(x){return x>Ue?Math.pow(x,1/3):x/Te+ft}function we(x){return x>ie?x*x*x:Te*(x-ft)}function Qe(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function it(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function Ut(x){if(x instanceof Cn)return new Cn(x.h,x.c,x.l,x.opacity);if(x instanceof Nt||(x=xt(x)),x.a===0&&x.b===0)return new Cn(NaN,0<x.l&&x.l<100?0:NaN,x.l,x.opacity);var T=Math.atan2(x.b,x.a)*je;return new Cn(T<0?T+360:T,Math.sqrt(x.a*x.a+x.b*x.b),x.l,x.opacity)}function sn(x,T,$,X){return arguments.length===1?Ut(x):new Cn(x,T,$,X??1)}function Cn(x,T,$,X){this.h=+x,this.c=+T,this.l=+$,this.opacity=+X}function En(x){if(isNaN(x.h))return new Nt(x.l,0,0,x.opacity);var T=x.h*oe;return new Nt(x.l,Math.cos(T)*x.c,Math.sin(T)*x.c,x.opacity)}ce(Cn,sn,tt(Ie,{brighter:function(x){return new Cn(this.h,this.c,this.l+nt*(x??1),this.opacity)},darker:function(x){return new Cn(this.h,this.c,this.l-nt*(x??1),this.opacity)},rgb:function(){return En(this).rgb()}}));var vn=-.14861,zn=1.78277,Oe=-.29227,ze=-.90649,Dt=1.97294,N=Dt*ze,V=Dt*zn,be=zn*Oe-ze*vn;function xe(x){if(x instanceof ae)return new ae(x.h,x.s,x.l,x.opacity);x instanceof nn||(x=pt(x));var T=x.r/255,$=x.g/255,X=x.b/255,ge=(be*X+N*T-V*$)/(be+N-V),Fe=X-ge,st=(Dt*($-ge)-Oe*Fe)/ze,zt=Math.sqrt(st*st+Fe*Fe)/(Dt*ge*(1-ge)),wn=zt?Math.atan2(st,Fe)*je-120:NaN;return new ae(wn<0?wn+360:wn,zt,ge,x.opacity)}function K(x,T,$,X){return arguments.length===1?xe(x):new ae(x,T,$,X??1)}function ae(x,T,$,X){this.h=+x,this.s=+T,this.l=+$,this.opacity=+X}ce(ae,K,tt(Ie,{brighter:function(x){return x=x==null?Ne:Math.pow(Ne,x),new ae(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?re:Math.pow(re,x),new ae(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=isNaN(this.h)?0:(this.h+120)*oe,T=+this.l,$=isNaN(this.s)?0:this.s*T*(1-T),X=Math.cos(x),ge=Math.sin(x);return new nn(255*(T+$*(vn*X+zn*ge)),255*(T+$*(Oe*X+ze*ge)),255*(T+$*(Dt*X)),this.opacity)}}));function fe(x,T,$,X,ge){var Fe=x*x,st=Fe*x;return((1-3*x+3*Fe-st)*T+(4-6*Fe+3*st)*$+(1+3*x+3*Fe-3*st)*X+st*ge)/6}function Ge(x){var T=x.length-1;return function($){var X=$<=0?$=0:$>=1?($=1,T-1):Math.floor($*T),ge=x[X],Fe=x[X+1],st=X>0?x[X-1]:2*ge-Fe,zt=X<T-1?x[X+2]:2*Fe-ge;return fe(($-X/T)*T,st,ge,Fe,zt)}}function Mt(x){var T=x.length;return function($){var X=Math.floor((($%=1)<0?++$:$)*T),ge=x[(X+T-1)%T],Fe=x[X%T],st=x[(X+1)%T],zt=x[(X+2)%T];return fe(($-X/T)*T,ge,Fe,st,zt)}}var At=x=>()=>x;function dn(x,T){return function($){return x+$*T}}function w(x,T,$){return x=Math.pow(x,$),T=Math.pow(T,$)-x,$=1/$,function(X){return Math.pow(x+X*T,$)}}function j(x,T){var $=T-x;return $?dn(x,$>180||$<-180?$-360*Math.round($/360):$):At(isNaN(x)?T:x)}function ee(x){return(x=+x)==1?Ee:function(T,$){return $-T?w(T,$,x):At(isNaN(T)?$:T)}}function Ee(x,T){var $=T-x;return $?dn(x,$):At(isNaN(x)?T:x)}var dt=function x(T){var $=ee(T);function X(ge,Fe){var st=$((ge=mt(ge)).r,(Fe=mt(Fe)).r),zt=$(ge.g,Fe.g),wn=$(ge.b,Fe.b),Sn=Ee(ge.opacity,Fe.opacity);return function(Pn){return ge.r=st(Pn),ge.g=zt(Pn),ge.b=wn(Pn),ge.opacity=Sn(Pn),ge+""}}return X.gamma=x,X}(1);function Ft(x){return function(T){var $=T.length,X=new Array($),ge=new Array($),Fe=new Array($),st,zt;for(st=0;st<$;++st)zt=mt(T[st]),X[st]=zt.r||0,ge[st]=zt.g||0,Fe[st]=zt.b||0;return X=x(X),ge=x(ge),Fe=x(Fe),zt.opacity=1,function(wn){return zt.r=X(wn),zt.g=ge(wn),zt.b=Fe(wn),zt+""}}}var Zt=Ft(Ge),Xt=Ft(Mt);function mn(x,T){T||(T=[]);var $=x?Math.min(T.length,x.length):0,X=T.slice(),ge;return function(Fe){for(ge=0;ge<$;++ge)X[ge]=x[ge]*(1-Fe)+T[ge]*Fe;return X}}function qn(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function Un(x,T){return(qn(T)?mn:Vn)(x,T)}function Vn(x,T){var $=T?T.length:0,X=x?Math.min($,x.length):0,ge=new Array(X),Fe=new Array($),st;for(st=0;st<X;++st)ge[st]=ts(x[st],T[st]);for(;st<$;++st)Fe[st]=T[st];return function(zt){for(st=0;st<X;++st)Fe[st]=ge[st](zt);return Fe}}function Jr(x,T){var $=new Date;return x=+x,T=+T,function(X){return $.setTime(x*(1-X)+T*X),$}}function Vr(x,T){return x=+x,T=+T,function($){return x*(1-$)+T*$}}function yr(x,T){var $={},X={},ge;(x===null||typeof x!="object")&&(x={}),(T===null||typeof T!="object")&&(T={});for(ge in T)ge in x?$[ge]=ts(x[ge],T[ge]):X[ge]=T[ge];return function(Fe){for(ge in $)X[ge]=$[ge](Fe);return X}}var Mr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xi=new RegExp(Mr.source,"g");function ai(x){return function(){return x}}function Xi(x){return function(T){return x(T)+""}}function Ss(x,T){var $=Mr.lastIndex=xi.lastIndex=0,X,ge,Fe,st=-1,zt=[],wn=[];for(x=x+"",T=T+"";(X=Mr.exec(x))&&(ge=xi.exec(T));)(Fe=ge.index)>$&&(Fe=T.slice($,Fe),zt[st]?zt[st]+=Fe:zt[++st]=Fe),(X=X[0])===(ge=ge[0])?zt[st]?zt[st]+=ge:zt[++st]=ge:(zt[++st]=null,wn.push({i:st,x:Vr(X,ge)})),$=xi.lastIndex;return $<T.length&&(Fe=T.slice($),zt[st]?zt[st]+=Fe:zt[++st]=Fe),zt.length<2?wn[0]?Xi(wn[0].x):ai(T):(T=wn.length,function(Sn){for(var Pn=0,Hn;Pn<T;++Pn)zt[(Hn=wn[Pn]).i]=Hn.x(Sn);return zt.join("")})}function ts(x,T){var $=typeof T,X;return T==null||$==="boolean"?At(T):($==="number"?Vr:$==="string"?(X=He(T))?(T=X,dt):Ss:T instanceof He?dt:T instanceof Date?Jr:qn(T)?mn:Array.isArray(T)?Vn:typeof T.valueOf!="function"&&typeof T.toString!="function"||isNaN(T)?yr:Vr)(x,T)}function wa(x){var T=x.length;return function($){return x[Math.max(0,Math.min(T-1,Math.floor($*T)))]}}function pa(x,T){var $=j(+x,+T);return function(X){var ge=$(X);return ge-360*Math.floor(ge/360)}}function xl(x,T){return x=+x,T=+T,function($){return Math.round(x*(1-$)+T*$)}}var Oc=180/Math.PI,lu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cu(x,T,$,X,ge,Fe){var st,zt,wn;return(st=Math.sqrt(x*x+T*T))&&(x/=st,T/=st),(wn=x*$+T*X)&&($-=x*wn,X-=T*wn),(zt=Math.sqrt($*$+X*X))&&($/=zt,X/=zt,wn/=zt),x*X<T*$&&(x=-x,T=-T,wn=-wn,st=-st),{translateX:ge,translateY:Fe,rotate:Math.atan2(T,x)*Oc,skewX:Math.atan(wn)*Oc,scaleX:st,scaleY:zt}}var Ju;function Fu(x){let T=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(x+"");return T.isIdentity?lu:cu(T.a,T.b,T.c,T.d,T.e,T.f)}function Rc(x){return x==null||(Ju||(Ju=document.createElementNS("http://www.w3.org/2000/svg","g")),Ju.setAttribute("transform",x),!(x=Ju.transform.baseVal.consolidate()))?lu:(x=x.matrix,cu(x.a,x.b,x.c,x.d,x.e,x.f))}function ea(x,T,$,X){function ge(Sn){return Sn.length?Sn.pop()+" ":""}function Fe(Sn,Pn,Hn,or,Or,Kr){if(Sn!==Hn||Pn!==or){var Lr=Or.push("translate(",null,T,null,$);Kr.push({i:Lr-4,x:Vr(Sn,Hn)},{i:Lr-2,x:Vr(Pn,or)})}else(Hn||or)&&Or.push("translate("+Hn+T+or+$)}function st(Sn,Pn,Hn,or){Sn!==Pn?(Sn-Pn>180?Pn+=360:Pn-Sn>180&&(Sn+=360),or.push({i:Hn.push(ge(Hn)+"rotate(",null,X)-2,x:Vr(Sn,Pn)})):Pn&&Hn.push(ge(Hn)+"rotate("+Pn+X)}function zt(Sn,Pn,Hn,or){Sn!==Pn?or.push({i:Hn.push(ge(Hn)+"skewX(",null,X)-2,x:Vr(Sn,Pn)}):Pn&&Hn.push(ge(Hn)+"skewX("+Pn+X)}function wn(Sn,Pn,Hn,or,Or,Kr){if(Sn!==Hn||Pn!==or){var Lr=Or.push(ge(Or)+"scale(",null,",",null,")");Kr.push({i:Lr-4,x:Vr(Sn,Hn)},{i:Lr-2,x:Vr(Pn,or)})}else(Hn!==1||or!==1)&&Or.push(ge(Or)+"scale("+Hn+","+or+")")}return function(Sn,Pn){var Hn=[],or=[];return Sn=x(Sn),Pn=x(Pn),Fe(Sn.translateX,Sn.translateY,Pn.translateX,Pn.translateY,Hn,or),st(Sn.rotate,Pn.rotate,Hn,or),zt(Sn.skewX,Pn.skewX,Hn,or),wn(Sn.scaleX,Sn.scaleY,Pn.scaleX,Pn.scaleY,Hn,or),Sn=Pn=null,function(Or){for(var Kr=-1,Lr=or.length,bi;++Kr<Lr;)Hn[(bi=or[Kr]).i]=bi.x(Or);return Hn.join("")}}}var Xu=ea(Fu,"px, ","px)","deg)"),ef=ea(Rc,", ",")",")"),Ye=1e-12;function Kt(x){return((x=Math.exp(x))+1/x)/2}function Bn(x){return((x=Math.exp(x))-1/x)/2}function Yn(x){return((x=Math.exp(2*x))-1)/(x+1)}var ri=function x(T,$,X){function ge(Fe,st){var zt=Fe[0],wn=Fe[1],Sn=Fe[2],Pn=st[0],Hn=st[1],or=st[2],Or=Pn-zt,Kr=Hn-wn,Lr=Or*Or+Kr*Kr,bi,ki;if(Lr<Ye)ki=Math.log(or/Sn)/T,bi=function(Ki){return[zt+Ki*Or,wn+Ki*Kr,Sn*Math.exp(T*Ki*ki)]};else{var Ds=Math.sqrt(Lr),ds=(or*or-Sn*Sn+X*Lr)/(2*Sn*$*Ds),Xs=(or*or-Sn*Sn-X*Lr)/(2*or*$*Ds),gs=Math.log(Math.sqrt(ds*ds+1)-ds),Gr=Math.log(Math.sqrt(Xs*Xs+1)-Xs);ki=(Gr-gs)/T,bi=function(Ki){var Ma=Ki*ki,Za=Kt(gs),ku=Sn/($*Ds)*(Za*Yn(T*Ma+gs)-Bn(gs));return[zt+ku*Or,wn+ku*Kr,Sn*Za/Kt(T*Ma+gs)]}}return bi.duration=ki*1e3*T/Math.SQRT2,bi}return ge.rho=function(Fe){var st=Math.max(.001,+Fe),zt=st*st,wn=zt*zt;return x(st,zt,wn)},ge}(Math.SQRT2,2,4);function Br(x){return function(T,$){var X=x((T=nr(T)).h,($=nr($)).h),ge=Ee(T.s,$.s),Fe=Ee(T.l,$.l),st=Ee(T.opacity,$.opacity);return function(zt){return T.h=X(zt),T.s=ge(zt),T.l=Fe(zt),T.opacity=st(zt),T+""}}}var Xr=Br(j),Cs=Br(Ee);function co(x,T){var $=Ee((x=Et(x)).l,(T=Et(T)).l),X=Ee(x.a,T.a),ge=Ee(x.b,T.b),Fe=Ee(x.opacity,T.opacity);return function(st){return x.l=$(st),x.a=X(st),x.b=ge(st),x.opacity=Fe(st),x+""}}function ro(x){return function(T,$){var X=x((T=sn(T)).h,($=sn($)).h),ge=Ee(T.c,$.c),Fe=Ee(T.l,$.l),st=Ee(T.opacity,$.opacity);return function(zt){return T.h=X(zt),T.c=ge(zt),T.l=Fe(zt),T.opacity=st(zt),T+""}}}var us=ro(j),io=ro(Ee);function fo(x){return function T($){$=+$;function X(ge,Fe){var st=x((ge=K(ge)).h,(Fe=K(Fe)).h),zt=Ee(ge.s,Fe.s),wn=Ee(ge.l,Fe.l),Sn=Ee(ge.opacity,Fe.opacity);return function(Pn){return ge.h=st(Pn),ge.s=zt(Pn),ge.l=wn(Math.pow(Pn,$)),ge.opacity=Sn(Pn),ge+""}}return X.gamma=T,X}(1)}var hi=fo(j),Ei=fo(Ee);function Wi(x,T){T===void 0&&(T=x,x=ts);for(var $=0,X=T.length-1,ge=T[0],Fe=new Array(X<0?0:X);$<X;)Fe[$]=x(ge,ge=T[++$]);return function(st){var zt=Math.max(0,Math.min(X-1,Math.floor(st*=X)));return Fe[zt](st-zt)}}function Jo(x,T){for(var $=new Array(T),X=0;X<T;++X)$[X]=x(X/(T-1));return $}var fa=Object.freeze({__proto__:null,interpolate:ts,interpolateArray:Un,interpolateBasis:Ge,interpolateBasisClosed:Mt,interpolateDate:Jr,interpolateDiscrete:wa,interpolateHue:pa,interpolateNumber:Vr,interpolateNumberArray:mn,interpolateObject:yr,interpolateRound:xl,interpolateString:Ss,interpolateTransformCss:Xu,interpolateTransformSvg:ef,interpolateZoom:ri,interpolateRgb:dt,interpolateRgbBasis:Zt,interpolateRgbBasisClosed:Xt,interpolateHsl:Xr,interpolateHslLong:Cs,interpolateLab:co,interpolateHcl:us,interpolateHclLong:io,interpolateCubehelix:hi,interpolateCubehelixLong:Ei,piecewise:Wi,quantize:Jo});function da(x){return function(){return x}}function ho(x){return+x}var ls=[0,1];function ps(x){return x}function Zi(x,T){return(T-=x=+x)?function($){return($-x)/T}:da(isNaN(T)?NaN:.5)}function fu(x,T){var $;return x>T&&($=x,x=T,T=$),function(X){return Math.max(x,Math.min(T,X))}}function Ms(x,T,$){var X=x[0],ge=x[1],Fe=T[0],st=T[1];return ge<X?(X=Zi(ge,X),Fe=$(st,Fe)):(X=Zi(X,ge),Fe=$(Fe,st)),function(zt){return Fe(X(zt))}}function ma(x,T,$){var X=Math.min(x.length,T.length)-1,ge=new Array(X),Fe=new Array(X),st=-1;for(x[X]<x[0]&&(x=x.slice().reverse(),T=T.slice().reverse());++st<X;)ge[st]=Zi(x[st],x[st+1]),Fe[st]=$(T[st],T[st+1]);return function(zt){var wn=te(x,zt,1,X)-1;return Fe[wn](ge[wn](zt))}}function oa(x,T){return T.domain(x.domain()).range(x.range()).interpolate(x.interpolate()).clamp(x.clamp()).unknown(x.unknown())}function Ri(){var x=ls,T=ls,$=ts,X,ge,Fe,st=ps,zt,wn,Sn;function Pn(){var or=Math.min(x.length,T.length);return st!==ps&&(st=fu(x[0],x[or-1])),zt=or>2?ma:Ms,wn=Sn=null,Hn}function Hn(or){return or==null||isNaN(or=+or)?Fe:(wn||(wn=zt(x.map(X),T,$)))(X(st(or)))}return Hn.invert=function(or){return st(ge((Sn||(Sn=zt(T,x.map(X),Vr)))(or)))},Hn.domain=function(or){return arguments.length?(x=Array.from(or,ho),Pn()):x.slice()},Hn.range=function(or){return arguments.length?(T=Array.from(or),Pn()):T.slice()},Hn.rangeRound=function(or){return T=Array.from(or),$=xl,Pn()},Hn.clamp=function(or){return arguments.length?(st=or?!0:ps,Pn()):st!==ps},Hn.interpolate=function(or){return arguments.length?($=or,Pn()):$},Hn.unknown=function(or){return arguments.length?(Fe=or,Hn):Fe},function(or,Or){return X=or,ge=Or,Pn()}}function Vo(){return Ri()(ps,ps)}function vs(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function Ii(x,T){if(($=(x=T?x.toExponential(T-1):x.toExponential()).indexOf("e"))<0)return null;var $,X=x.slice(0,$);return[X.length>1?X[0]+X.slice(2):X,+x.slice($+1)]}function Do(x){return x=Ii(Math.abs(x)),x?x[1]:NaN}function Na(x,T){return function($,X){for(var ge=$.length,Fe=[],st=0,zt=x[0],wn=0;ge>0&&zt>0&&(wn+zt+1>X&&(zt=Math.max(1,X-wn)),Fe.push($.substring(ge-=zt,ge+zt)),!((wn+=zt+1)>X));)zt=x[st=(st+1)%x.length];return Fe.reverse().join(T)}}function Ka(x){return function(T){return T.replace(/[0-9]/g,function($){return x[+$]})}}var Oo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ao(x){if(!(T=Oo.exec(x)))throw new Error("invalid format: "+x);var T;return new qa({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}Ao.prototype=qa.prototype;function qa(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}qa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function du(x){e:for(var T=x.length,$=1,X=-1,ge;$<T;++$)switch(x[$]){case".":X=ge=$;break;case"0":X===0&&(X=$),ge=$;break;default:if(!+x[$])break e;X>0&&(X=0);break}return X>0?x.slice(0,X)+x.slice(ge+1):x}var Ua;function aa(x,T){var $=Ii(x,T);if(!$)return x+"";var X=$[0],ge=$[1],Fe=ge-(Ua=Math.max(-8,Math.min(8,Math.floor(ge/3)))*3)+1,st=X.length;return Fe===st?X:Fe>st?X+new Array(Fe-st+1).join("0"):Fe>0?X.slice(0,Fe)+"."+X.slice(Fe):"0."+new Array(1-Fe).join("0")+Ii(x,Math.max(0,T+Fe-1))[0]}function ua(x,T){var $=Ii(x,T);if(!$)return x+"";var X=$[0],ge=$[1];return ge<0?"0."+new Array(-ge).join("0")+X:X.length>ge+1?X.slice(0,ge+1)+"."+X.slice(ge+1):X+new Array(ge-X.length+2).join("0")}var gl={"%":(x,T)=>(x*100).toFixed(T),b:x=>Math.round(x).toString(2),c:x=>x+"",d:vs,e:(x,T)=>x.toExponential(T),f:(x,T)=>x.toFixed(T),g:(x,T)=>x.toPrecision(T),o:x=>Math.round(x).toString(8),p:(x,T)=>ua(x*100,T),r:ua,s:aa,X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function $l(x){return x}var ta=Array.prototype.map,Zu=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ui(x){var T=x.grouping===void 0||x.thousands===void 0?$l:Na(ta.call(x.grouping,Number),x.thousands+""),$=x.currency===void 0?"":x.currency[0]+"",X=x.currency===void 0?"":x.currency[1]+"",ge=x.decimal===void 0?".":x.decimal+"",Fe=x.numerals===void 0?$l:Ka(ta.call(x.numerals,String)),st=x.percent===void 0?"%":x.percent+"",zt=x.minus===void 0?"\u2212":x.minus+"",wn=x.nan===void 0?"NaN":x.nan+"";function Sn(Hn){Hn=Ao(Hn);var or=Hn.fill,Or=Hn.align,Kr=Hn.sign,Lr=Hn.symbol,bi=Hn.zero,ki=Hn.width,Ds=Hn.comma,ds=Hn.precision,Xs=Hn.trim,gs=Hn.type;gs==="n"?(Ds=!0,gs="g"):gl[gs]||(ds===void 0&&(ds=12),Xs=!0,gs="g"),(bi||or==="0"&&Or==="=")&&(bi=!0,or="0",Or="=");var Gr=Lr==="$"?$:Lr==="#"&&/[boxX]/.test(gs)?"0"+gs.toLowerCase():"",Ki=Lr==="$"?X:/[%p]/.test(gs)?st:"",Ma=gl[gs],Za=/[defgprs%]/.test(gs);ds=ds===void 0?6:/[gprs]/.test(gs)?Math.max(1,Math.min(21,ds)):Math.max(0,Math.min(20,ds));function ku(bs){var Ca=Gr,za=Ki,Tl,Vd,sl;if(gs==="c")za=Ma(bs)+za,bs="";else{bs=+bs;var x0=bs<0||1/bs<0;if(bs=isNaN(bs)?wn:Ma(Math.abs(bs),ds),Xs&&(bs=du(bs)),x0&&+bs==0&&Kr!=="+"&&(x0=!1),Ca=(x0?Kr==="("?Kr:zt:Kr==="-"||Kr==="("?"":Kr)+Ca,za=(gs==="s"?Zu[8+Ua/3]:"")+za+(x0&&Kr==="("?")":""),Za){for(Tl=-1,Vd=bs.length;++Tl<Vd;)if(sl=bs.charCodeAt(Tl),48>sl||sl>57){za=(sl===46?ge+bs.slice(Tl+1):bs.slice(Tl))+za,bs=bs.slice(0,Tl);break}}}Ds&&!bi&&(bs=T(bs,1/0));var _a=Ca.length+bs.length+za.length,cc=_a<ki?new Array(ki-_a+1).join(or):"";switch(Ds&&bi&&(bs=T(cc+bs,cc.length?ki-za.length:1/0),cc=""),Or){case"<":bs=Ca+bs+za+cc;break;case"=":bs=Ca+cc+bs+za;break;case"^":bs=cc.slice(0,_a=cc.length>>1)+Ca+bs+za+cc.slice(_a);break;default:bs=cc+Ca+bs+za;break}return Fe(bs)}return ku.toString=function(){return Hn+""},ku}function Pn(Hn,or){var Or=Sn((Hn=Ao(Hn),Hn.type="f",Hn)),Kr=Math.max(-8,Math.min(8,Math.floor(Do(or)/3)))*3,Lr=Math.pow(10,-Kr),bi=Zu[8+Kr/3];return function(ki){return Or(Lr*ki)+bi}}return{format:Sn,formatPrefix:Pn}}var rs,cs,mr;is({thousands:",",grouping:[3],currency:["$",""]});function is(x){return rs=ui(x),cs=rs.format,mr=rs.formatPrefix,rs}function Me(x){return Math.max(0,-Do(Math.abs(x)))}function gt(x,T){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Do(T)/3)))*3-Do(Math.abs(x)))}function Jt(x,T){return x=Math.abs(x),T=Math.abs(T)-x,Math.max(0,Do(T)-Do(x))+1}function $t(x,T,$,X){var ge=Tt(x,T,$),Fe;switch(X=Ao(X??",f"),X.type){case"s":{var st=Math.max(Math.abs(x),Math.abs(T));return X.precision==null&&!isNaN(Fe=gt(ge,st))&&(X.precision=Fe),mr(X,st)}case"":case"e":case"g":case"p":case"r":{X.precision==null&&!isNaN(Fe=Jt(ge,Math.max(Math.abs(x),Math.abs(T))))&&(X.precision=Fe-(X.type==="e"));break}case"f":case"%":{X.precision==null&&!isNaN(Fe=Me(ge))&&(X.precision=Fe-(X.type==="%")*2);break}}return cs(X)}function pn(x){var T=x.domain;return x.ticks=function($){var X=T();return Ct(X[0],X[X.length-1],$??10)},x.tickFormat=function($,X){var ge=T();return $t(ge[0],ge[ge.length-1],$??10,X)},x.nice=function($){$==null&&($=10);var X=T(),ge=0,Fe=X.length-1,st=X[ge],zt=X[Fe],wn,Sn,Pn=10;for(zt<st&&(Sn=st,st=zt,zt=Sn,Sn=ge,ge=Fe,Fe=Sn);Pn-- >0;){if(Sn=xn(st,zt,$),Sn===wn)return X[ge]=st,X[Fe]=zt,T(X);if(Sn>0)st=Math.floor(st/Sn)*Sn,zt=Math.ceil(zt/Sn)*Sn;else if(Sn<0)st=Math.ceil(st*Sn)/Sn,zt=Math.floor(zt*Sn)/Sn;else break;wn=Sn}return x},x}function Ln(){var x=Vo();return x.copy=function(){return oa(x,Ln())},St.apply(x,arguments),pn(x)}function Kn(x){var T;function $(X){return X==null||isNaN(X=+X)?T:X}return $.invert=$,$.domain=$.range=function(X){return arguments.length?(x=Array.from(X,ho),$):x.slice()},$.unknown=function(X){return arguments.length?(T=X,$):T},$.copy=function(){return Kn(x).unknown(T)},x=arguments.length?Array.from(x,ho):[0,1],pn($)}function $n(x,T){x=x.slice();var $=0,X=x.length-1,ge=x[$],Fe=x[X],st;return Fe<ge&&(st=$,$=X,X=st,st=ge,ge=Fe,Fe=st),x[$]=T.floor(ge),x[X]=T.ceil(Fe),x}function br(x){return Math.log(x)}function Cr(x){return Math.exp(x)}function Gn(x){return-Math.log(-x)}function ar(x){return-Math.exp(-x)}function er(x){return isFinite(x)?+("1e"+x):x<0?0:x}function gr(x){return x===10?er:x===Math.E?Math.exp:T=>Math.pow(x,T)}function Rr(x){return x===Math.E?Math.log:x===10&&Math.log10||x===2&&Math.log2||(x=Math.log(x),T=>Math.log(T)/x)}function di(x){return(T,$)=>-x(-T,$)}function ni(x){let T=x(br,Cr),$=T.domain,X=10,ge,Fe;function st(){return ge=Rr(X),Fe=gr(X),$()[0]<0?(ge=di(ge),Fe=di(Fe),x(Gn,ar)):x(br,Cr),T}return T.base=function(zt){return arguments.length?(X=+zt,st()):X},T.domain=function(zt){return arguments.length?($(zt),st()):$()},T.ticks=zt=>{let wn=$(),Sn=wn[0],Pn=wn[wn.length-1],Hn=Pn<Sn;Hn&&([Sn,Pn]=[Pn,Sn]);let or=ge(Sn),Or=ge(Pn),Kr,Lr,bi=zt==null?10:+zt,ki=[];if(!(X%1)&&Or-or<bi){if(or=Math.floor(or),Or=Math.ceil(Or),Sn>0){for(;or<=Or;++or)for(Kr=1;Kr<X;++Kr)if(Lr=or<0?Kr/Fe(-or):Kr*Fe(or),!(Lr<Sn)){if(Lr>Pn)break;ki.push(Lr)}}else for(;or<=Or;++or)for(Kr=X-1;Kr>=1;--Kr)if(Lr=or>0?Kr/Fe(-or):Kr*Fe(or),!(Lr<Sn)){if(Lr>Pn)break;ki.push(Lr)}ki.length*2<bi&&(ki=Ct(Sn,Pn,bi))}else ki=Ct(or,Or,Math.min(Or-or,bi)).map(Fe);return Hn?ki.reverse():ki},T.tickFormat=(zt,wn)=>{if(zt==null&&(zt=10),wn==null&&(wn=X===10?"s":","),typeof wn!="function"&&(!(X%1)&&(wn=Ao(wn)).precision==null&&(wn.trim=!0),wn=cs(wn)),zt===1/0)return wn;let Sn=Math.max(1,X*zt/T.ticks().length);return Pn=>{let Hn=Pn/Fe(Math.round(ge(Pn)));return Hn*X<X-.5&&(Hn*=X),Hn<=Sn?wn(Pn):""}},T.nice=()=>$($n($(),{floor:zt=>Fe(Math.floor(ge(zt))),ceil:zt=>Fe(Math.ceil(ge(zt)))})),T}function pi(){let x=ni(Ri()).domain([1,10]);return x.copy=()=>oa(x,pi()).base(x.base()),St.apply(x,arguments),x}function ii(x){return function(T){return Math.sign(T)*Math.log1p(Math.abs(T/x))}}function qr(x){return function(T){return Math.sign(T)*Math.expm1(Math.abs(T))*x}}function Ir(x){var T=1,$=x(ii(T),qr(T));return $.constant=function(X){return arguments.length?x(ii(T=+X),qr(T)):T},pn($)}function yi(){var x=Ir(Ri());return x.copy=function(){return oa(x,yi()).constant(x.constant())},St.apply(x,arguments)}function gi(x){return function(T){return T<0?-Math.pow(-T,x):Math.pow(T,x)}}function os(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function xs(x){return x<0?-x*x:x*x}function vi(x){var T=x(ps,ps),$=1;function X(){return $===1?x(ps,ps):$===.5?x(os,xs):x(gi($),gi(1/$))}return T.exponent=function(ge){return arguments.length?($=+ge,X()):$},pn(T)}function Ps(){var x=vi(Ri());return x.copy=function(){return oa(x,Ps()).exponent(x.exponent())},St.apply(x,arguments),x}function ss(){return Ps.apply(null,arguments).exponent(.5)}function xa(){var x=[],T=[],$=[],X;function ge(){var st=0,zt=Math.max(1,T.length);for($=new Array(zt-1);++st<zt;)$[st-1]=Ot(x,st/zt);return Fe}function Fe(st){return st==null||isNaN(st=+st)?X:T[te($,st)]}return Fe.invertExtent=function(st){var zt=T.indexOf(st);return zt<0?[NaN,NaN]:[zt>0?$[zt-1]:x[0],zt<$.length?$[zt]:x[x.length-1]]},Fe.domain=function(st){if(!arguments.length)return x.slice();x=[];for(let zt of st)zt!=null&&!isNaN(zt=+zt)&&x.push(zt);return x.sort(lt),ge()},Fe.range=function(st){return arguments.length?(T=Array.from(st),ge()):T.slice()},Fe.unknown=function(st){return arguments.length?(X=st,Fe):X},Fe.quantiles=function(){return $.slice()},Fe.copy=function(){return xa().domain(x).range(T).unknown(X)},St.apply(Fe,arguments)}function Ro(){var x=0,T=1,$=1,X=[.5],ge=[0,1],Fe;function st(wn){return wn!=null&&wn<=wn?ge[te(X,wn,0,$)]:Fe}function zt(){var wn=-1;for(X=new Array($);++wn<$;)X[wn]=((wn+1)*T-(wn-$)*x)/($+1);return st}return st.domain=function(wn){return arguments.length?([x,T]=wn,x=+x,T=+T,zt()):[x,T]},st.range=function(wn){return arguments.length?($=(ge=Array.from(wn)).length-1,zt()):ge.slice()},st.invertExtent=function(wn){var Sn=ge.indexOf(wn);return Sn<0?[NaN,NaN]:Sn<1?[x,X[0]]:Sn>=$?[X[$-1],T]:[X[Sn-1],X[Sn]]},st.unknown=function(wn){return arguments.length&&(Fe=wn),st},st.thresholds=function(){return X.slice()},st.copy=function(){return Ro().domain([x,T]).range(ge).unknown(Fe)},St.apply(pn(st),arguments)}function As(){var x=[.5],T=[0,1],$,X=1;function ge(Fe){return Fe!=null&&Fe<=Fe?T[te(x,Fe,0,X)]:$}return ge.domain=function(Fe){return arguments.length?(x=Array.from(Fe),X=Math.min(x.length,T.length-1),ge):x.slice()},ge.range=function(Fe){return arguments.length?(T=Array.from(Fe),X=Math.min(x.length,T.length-1),ge):T.slice()},ge.invertExtent=function(Fe){var st=T.indexOf(Fe);return[x[st-1],x[st]]},ge.unknown=function(Fe){return arguments.length?($=Fe,ge):$},ge.copy=function(){return As().domain(x).range(T).unknown($)},St.apply(ge,arguments)}var tn=new Date,Jn=new Date;function bn(x,T,$,X){function ge(Fe){return x(Fe=arguments.length===0?new Date:new Date(+Fe)),Fe}return ge.floor=function(Fe){return x(Fe=new Date(+Fe)),Fe},ge.ceil=function(Fe){return x(Fe=new Date(Fe-1)),T(Fe,1),x(Fe),Fe},ge.round=function(Fe){var st=ge(Fe),zt=ge.ceil(Fe);return Fe-st<zt-Fe?st:zt},ge.offset=function(Fe,st){return T(Fe=new Date(+Fe),st==null?1:Math.floor(st)),Fe},ge.range=function(Fe,st,zt){var wn=[],Sn;if(Fe=ge.ceil(Fe),zt=zt==null?1:Math.floor(zt),!(Fe<st)||!(zt>0))return wn;do wn.push(Sn=new Date(+Fe)),T(Fe,zt),x(Fe);while(Sn<Fe&&Fe<st);return wn},ge.filter=function(Fe){return bn(function(st){if(st>=st)for(;x(st),!Fe(st);)st.setTime(st-1)},function(st,zt){if(st>=st)if(zt<0)for(;++zt<=0;)for(;T(st,-1),!Fe(st););else for(;--zt>=0;)for(;T(st,1),!Fe(st););})},$&&(ge.count=function(Fe,st){return tn.setTime(+Fe),Jn.setTime(+st),x(tn),x(Jn),Math.floor($(tn,Jn))},ge.every=function(Fe){return Fe=Math.floor(Fe),!isFinite(Fe)||!(Fe>0)?null:Fe>1?ge.filter(X?function(st){return X(st)%Fe===0}:function(st){return ge.count(0,st)%Fe===0}):ge}),ge}var Yr=bn(function(){},function(x,T){x.setTime(+x+T)},function(x,T){return T-x});Yr.every=function(x){return x=Math.floor(x),!isFinite(x)||!(x>0)?null:x>1?bn(function(T){T.setTime(Math.floor(T/x)*x)},function(T,$){T.setTime(+T+$*x)},function(T,$){return($-T)/x}):Yr};var Ti=Yr;let ns=1e3,ms=ns*60,Hi=ms*60,fs=Hi*24,hu=fs*7,le=fs*30,at=fs*365;var en=bn(function(x){x.setTime(x-x.getMilliseconds())},function(x,T){x.setTime(+x+T*ns)},function(x,T){return(T-x)/ns},function(x){return x.getUTCSeconds()}),Dn=en,ir=bn(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*ns)},function(x,T){x.setTime(+x+T*ms)},function(x,T){return(T-x)/ms},function(x){return x.getMinutes()}),vr=ir,fr=bn(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*ns-x.getMinutes()*ms)},function(x,T){x.setTime(+x+T*Hi)},function(x,T){return(T-x)/Hi},function(x){return x.getHours()}),es=fr,_s=bn(x=>x.setHours(0,0,0,0),(x,T)=>x.setDate(x.getDate()+T),(x,T)=>(T-x-(T.getTimezoneOffset()-x.getTimezoneOffset())*ms)/fs,x=>x.getDate()-1),Ns=_s;function so(x){return bn(function(T){T.setDate(T.getDate()-(T.getDay()+7-x)%7),T.setHours(0,0,0,0)},function(T,$){T.setDate(T.getDate()+$*7)},function(T,$){return($-T-($.getTimezoneOffset()-T.getTimezoneOffset())*ms)/hu})}var Ja=so(0),rc=so(1);so(2),so(3);var tf=so(4);so(5),so(6);var Nc=bn(function(x){x.setDate(1),x.setHours(0,0,0,0)},function(x,T){x.setMonth(x.getMonth()+T)},function(x,T){return T.getMonth()-x.getMonth()+(T.getFullYear()-x.getFullYear())*12},function(x){return x.getMonth()}),o0=Nc,V0=bn(function(x){x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,T){x.setFullYear(x.getFullYear()+T)},function(x,T){return T.getFullYear()-x.getFullYear()},function(x){return x.getFullYear()});V0.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:bn(function(T){T.setFullYear(Math.floor(T.getFullYear()/x)*x),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,$){T.setFullYear(T.getFullYear()+$*x)})};var ic=V0,nf=bn(function(x){x.setUTCSeconds(0,0)},function(x,T){x.setTime(+x+T*ms)},function(x,T){return(T-x)/ms},function(x){return x.getUTCMinutes()}),a0=nf,yl=bn(function(x){x.setUTCMinutes(0,0,0)},function(x,T){x.setTime(+x+T*Hi)},function(x,T){return(T-x)/Hi},function(x){return x.getUTCHours()}),Lc=yl,u0=bn(function(x){x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCDate(x.getUTCDate()+T)},function(x,T){return(T-x)/fs},function(x){return x.getUTCDate()-1}),sc=u0;function zl(x){return bn(function(T){T.setUTCDate(T.getUTCDate()-(T.getUTCDay()+7-x)%7),T.setUTCHours(0,0,0,0)},function(T,$){T.setUTCDate(T.getUTCDate()+$*7)},function(T,$){return($-T)/hu})}var W0=zl(0),Ah=zl(1);zl(2),zl(3);var Q0=zl(4);zl(5),zl(6);var G0=bn(function(x){x.setUTCDate(1),x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCMonth(x.getUTCMonth()+T)},function(x,T){return T.getUTCMonth()-x.getUTCMonth()+(T.getUTCFullYear()-x.getUTCFullYear())*12},function(x){return x.getUTCMonth()}),rf=G0,Y0=bn(function(x){x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCFullYear(x.getUTCFullYear()+T)},function(x,T){return T.getUTCFullYear()-x.getUTCFullYear()},function(x){return x.getUTCFullYear()});Y0.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:bn(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/x)*x),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,$){T.setUTCFullYear(T.getUTCFullYear()+$*x)})};var kc=Y0;function l0(x,T,$,X,ge,Fe){let st=[[Dn,1,ns],[Dn,5,5*ns],[Dn,15,15*ns],[Dn,30,30*ns],[Fe,1,ms],[Fe,5,5*ms],[Fe,15,15*ms],[Fe,30,30*ms],[ge,1,Hi],[ge,3,3*Hi],[ge,6,6*Hi],[ge,12,12*Hi],[X,1,fs],[X,2,2*fs],[$,1,hu],[T,1,le],[T,3,3*le],[x,1,at]];function zt(Sn,Pn,Hn){let or=Pn<Sn;or&&([Sn,Pn]=[Pn,Sn]);let Or=Hn&&typeof Hn.range=="function"?Hn:wn(Sn,Pn,Hn),Kr=Or?Or.range(Sn,+Pn+1):[];return or?Kr.reverse():Kr}function wn(Sn,Pn,Hn){let or=Math.abs(Pn-Sn)/Hn,Or=et(([,,bi])=>bi).right(st,or);if(Or===st.length)return x.every(Tt(Sn/at,Pn/at,Hn));if(Or===0)return Ti.every(Math.max(Tt(Sn,Pn,Hn),1));let[Kr,Lr]=st[or/st[Or-1][2]<st[Or][2]/or?Or-1:Or];return Kr.every(Lr)}return[zt,wn]}let[c0,f0]=l0(kc,rf,W0,sc,Lc,a0),[qo,Xo]=l0(ic,o0,Ja,Ns,es,vr);function d0(x){if(0<=x.y&&x.y<100){var T=new Date(-1,x.m,x.d,x.H,x.M,x.S,x.L);return T.setFullYear(x.y),T}return new Date(x.y,x.m,x.d,x.H,x.M,x.S,x.L)}function vl(x){if(0<=x.y&&x.y<100){var T=new Date(Date.UTC(-1,x.m,x.d,x.H,x.M,x.S,x.L));return T.setUTCFullYear(x.y),T}return new Date(Date.UTC(x.y,x.m,x.d,x.H,x.M,x.S,x.L))}function sf(x,T,$){return{y:x,m:T,d:$,H:0,M:0,S:0,L:0}}function Bd(x){var T=x.dateTime,$=x.date,X=x.time,ge=x.periods,Fe=x.days,st=x.shortDays,zt=x.months,wn=x.shortMonths,Sn=k(ge),Pn=Z(ge),Hn=k(Fe),or=Z(Fe),Or=k(st),Kr=Z(st),Lr=k(zt),bi=Z(zt),ki=k(wn),Ds=Z(wn),ds={a:x0,A:_a,b:cc,B:Wd,c:null,d:ka,e:ka,f:el,g:$r,G:q1,H:ac,I:ya,j:of,L:af,m:uc,M:j1,p:Q1,q:vp,Q:Pc,s:Dh,S:Ic,u:Xm,U:Vl,V:Mc,w:jr,W:K0,x:null,X:null,y:J0,Y:El,Z:cp,"%":rl},Xs={a:g0,A:e2,b:Jy,B:Kx,c:null,d:_o,e:_o,f:Wx,g:Sl,G:pu,H:X0,I:jd,j:Z0,L:uf,m:Qx,M:Fh,p:Jx,q:G1,Q:Pc,s:Dh,S:lf,u:tl,U:qd,V:U1,w:nl,W:ed,x:null,X:null,y:Of,Y:dp,Z:$1,"%":rl},gs={a:ku,A:bs,b:Ca,B:za,c:Tl,d:Qi,e:Qi,f:po,g:hr,G:sr,H:Qr,I:Qr,j:Li,L:ga,m:Fi,M:Gs,p:Za,q:rt,Q:oc,s:Hl,S:Uo,u:kt,U:Vt,V:An,w:qe,W:kn,x:Vd,X:sl,y:hr,Y:sr,Z:Nr,"%":La};ds.x=Gr($,ds),ds.X=Gr(X,ds),ds.c=Gr(T,ds),Xs.x=Gr($,Xs),Xs.X=Gr(X,Xs),Xs.c=Gr(T,Xs);function Gr(Dr,Bs){return function(bo){var Ur=[],hf=-1,Er=0,ol=Dr.length,Eo,fc,Xy;for(bo instanceof Date||(bo=new Date(+bo));++hf<ol;)Dr.charCodeAt(hf)===37&&(Ur.push(Dr.slice(Er,hf)),(fc=Du[Eo=Dr.charAt(++hf)])!=null?Eo=Dr.charAt(++hf):fc=Eo==="e"?" ":"0",(Xy=Bs[Eo])&&(Eo=Xy(bo,fc)),Ur.push(Eo),Er=hf+1);return Ur.push(Dr.slice(Er,hf)),Ur.join("")}}function Ki(Dr,Bs){return function(bo){var Ur=sf(1900,void 0,1),hf=Ma(Ur,Dr,bo+="",0),Er,ol;if(hf!=bo.length)return null;if("Q"in Ur)return new Date(Ur.Q);if("s"in Ur)return new Date(Ur.s*1e3+("L"in Ur?Ur.L:0));if(Bs&&!("Z"in Ur)&&(Ur.Z=0),"p"in Ur&&(Ur.H=Ur.H%12+Ur.p*12),Ur.m===void 0&&(Ur.m="q"in Ur?Ur.q:0),"V"in Ur){if(Ur.V<1||Ur.V>53)return null;"w"in Ur||(Ur.w=1),"Z"in Ur?(Er=vl(sf(Ur.y,0,1)),ol=Er.getUTCDay(),Er=ol>4||ol===0?Ah.ceil(Er):Ah(Er),Er=sc.offset(Er,(Ur.V-1)*7),Ur.y=Er.getUTCFullYear(),Ur.m=Er.getUTCMonth(),Ur.d=Er.getUTCDate()+(Ur.w+6)%7):(Er=d0(sf(Ur.y,0,1)),ol=Er.getDay(),Er=ol>4||ol===0?rc.ceil(Er):rc(Er),Er=Ns.offset(Er,(Ur.V-1)*7),Ur.y=Er.getFullYear(),Ur.m=Er.getMonth(),Ur.d=Er.getDate()+(Ur.w+6)%7)}else("W"in Ur||"U"in Ur)&&("w"in Ur||(Ur.w="u"in Ur?Ur.u%7:"W"in Ur?1:0),ol="Z"in Ur?vl(sf(Ur.y,0,1)).getUTCDay():d0(sf(Ur.y,0,1)).getDay(),Ur.m=0,Ur.d="W"in Ur?(Ur.w+6)%7+Ur.W*7-(ol+5)%7:Ur.w+Ur.U*7-(ol+6)%7);return"Z"in Ur?(Ur.H+=Ur.Z/100|0,Ur.M+=Ur.Z%100,vl(Ur)):d0(Ur)}}function Ma(Dr,Bs,bo,Ur){for(var hf=0,Er=Bs.length,ol=bo.length,Eo,fc;hf<Er;){if(Ur>=ol)return-1;if(Eo=Bs.charCodeAt(hf++),Eo===37){if(Eo=Bs.charAt(hf++),fc=gs[Eo in Du?Bs.charAt(hf++):Eo],!fc||(Ur=fc(Dr,bo,Ur))<0)return-1}else if(Eo!=bo.charCodeAt(Ur++))return-1}return Ur}function Za(Dr,Bs,bo){var Ur=Sn.exec(Bs.slice(bo));return Ur?(Dr.p=Pn.get(Ur[0].toLowerCase()),bo+Ur[0].length):-1}function ku(Dr,Bs,bo){var Ur=Or.exec(Bs.slice(bo));return Ur?(Dr.w=Kr.get(Ur[0].toLowerCase()),bo+Ur[0].length):-1}function bs(Dr,Bs,bo){var Ur=Hn.exec(Bs.slice(bo));return Ur?(Dr.w=or.get(Ur[0].toLowerCase()),bo+Ur[0].length):-1}function Ca(Dr,Bs,bo){var Ur=ki.exec(Bs.slice(bo));return Ur?(Dr.m=Ds.get(Ur[0].toLowerCase()),bo+Ur[0].length):-1}function za(Dr,Bs,bo){var Ur=Lr.exec(Bs.slice(bo));return Ur?(Dr.m=bi.get(Ur[0].toLowerCase()),bo+Ur[0].length):-1}function Tl(Dr,Bs,bo){return Ma(Dr,T,Bs,bo)}function Vd(Dr,Bs,bo){return Ma(Dr,$,Bs,bo)}function sl(Dr,Bs,bo){return Ma(Dr,X,Bs,bo)}function x0(Dr){return st[Dr.getDay()]}function _a(Dr){return Fe[Dr.getDay()]}function cc(Dr){return wn[Dr.getMonth()]}function Wd(Dr){return zt[Dr.getMonth()]}function Q1(Dr){return ge[+(Dr.getHours()>=12)]}function vp(Dr){return 1+~~(Dr.getMonth()/3)}function g0(Dr){return st[Dr.getUTCDay()]}function e2(Dr){return Fe[Dr.getUTCDay()]}function Jy(Dr){return wn[Dr.getUTCMonth()]}function Kx(Dr){return zt[Dr.getUTCMonth()]}function Jx(Dr){return ge[+(Dr.getUTCHours()>=12)]}function G1(Dr){return 1+~~(Dr.getUTCMonth()/3)}return{format:function(Dr){var Bs=Gr(Dr+="",ds);return Bs.toString=function(){return Dr},Bs},parse:function(Dr){var Bs=Ki(Dr+="",!1);return Bs.toString=function(){return Dr},Bs},utcFormat:function(Dr){var Bs=Gr(Dr+="",Xs);return Bs.toString=function(){return Dr},Bs},utcParse:function(Dr){var Bs=Ki(Dr+="",!0);return Bs.toString=function(){return Dr},Bs}}}var Du={"-":"",_:" ","0":"0"},vo=/^\s*\d+/,Th=/^%/,_l=/[\\^$*+?|[\]().{}]/g;function ks(x,T,$){var X=x<0?"-":"",ge=(X?-x:x)+"",Fe=ge.length;return X+(Fe<$?new Array($-Fe+1).join(T)+ge:ge)}function bl(x){return x.replace(_l,"\\$&")}function k(x){return new RegExp("^(?:"+x.map(bl).join("|")+")","i")}function Z(x){return new Map(x.map((T,$)=>[T.toLowerCase(),$]))}function qe(x,T,$){var X=vo.exec(T.slice($,$+1));return X?(x.w=+X[0],$+X[0].length):-1}function kt(x,T,$){var X=vo.exec(T.slice($,$+1));return X?(x.u=+X[0],$+X[0].length):-1}function Vt(x,T,$){var X=vo.exec(T.slice($,$+2));return X?(x.U=+X[0],$+X[0].length):-1}function An(x,T,$){var X=vo.exec(T.slice($,$+2));return X?(x.V=+X[0],$+X[0].length):-1}function kn(x,T,$){var X=vo.exec(T.slice($,$+2));return X?(x.W=+X[0],$+X[0].length):-1}function sr(x,T,$){var X=vo.exec(T.slice($,$+4));return X?(x.y=+X[0],$+X[0].length):-1}function hr(x,T,$){var X=vo.exec(T.slice($,$+2));return X?(x.y=+X[0]+(+X[0]>68?1900:2e3),$+X[0].length):-1}function Nr(x,T,$){var X=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(T.slice($,$+6));return X?(x.Z=X[1]?0:-(X[2]+(X[3]||"00")),$+X[0].length):-1}function rt(x,T,$){var X=vo.exec(T.slice($,$+1));return X?(x.q=X[0]*3-3,$+X[0].length):-1}function Fi(x,T,$){var X=vo.exec(T.slice($,$+2));return X?(x.m=X[0]-1,$+X[0].length):-1}function Qi(x,T,$){var X=vo.exec(T.slice($,$+2));return X?(x.d=+X[0],$+X[0].length):-1}function Li(x,T,$){var X=vo.exec(T.slice($,$+3));return X?(x.m=0,x.d=+X[0],$+X[0].length):-1}function Qr(x,T,$){var X=vo.exec(T.slice($,$+2));return X?(x.H=+X[0],$+X[0].length):-1}function Gs(x,T,$){var X=vo.exec(T.slice($,$+2));return X?(x.M=+X[0],$+X[0].length):-1}function Uo(x,T,$){var X=vo.exec(T.slice($,$+2));return X?(x.S=+X[0],$+X[0].length):-1}function ga(x,T,$){var X=vo.exec(T.slice($,$+3));return X?(x.L=+X[0],$+X[0].length):-1}function po(x,T,$){var X=vo.exec(T.slice($,$+6));return X?(x.L=Math.floor(X[0]/1e3),$+X[0].length):-1}function La(x,T,$){var X=Th.exec(T.slice($,$+1));return X?$+X[0].length:-1}function oc(x,T,$){var X=vo.exec(T.slice($));return X?(x.Q=+X[0],$+X[0].length):-1}function Hl(x,T,$){var X=vo.exec(T.slice($));return X?(x.s=+X[0],$+X[0].length):-1}function ka(x,T){return ks(x.getDate(),T,2)}function ac(x,T){return ks(x.getHours(),T,2)}function ya(x,T){return ks(x.getHours()%12||12,T,2)}function of(x,T){return ks(1+Ns.count(ic(x),x),T,3)}function af(x,T){return ks(x.getMilliseconds(),T,3)}function el(x,T){return af(x,T)+"000"}function uc(x,T){return ks(x.getMonth()+1,T,2)}function j1(x,T){return ks(x.getMinutes(),T,2)}function Ic(x,T){return ks(x.getSeconds(),T,2)}function Xm(x){var T=x.getDay();return T===0?7:T}function Vl(x,T){return ks(Ja.count(ic(x)-1,x),T,2)}function Df(x){var T=x.getDay();return T>=4||T===0?tf(x):tf.ceil(x)}function Mc(x,T){return x=Df(x),ks(tf.count(ic(x),x)+(ic(x).getDay()===4),T,2)}function jr(x){return x.getDay()}function K0(x,T){return ks(rc.count(ic(x)-1,x),T,2)}function J0(x,T){return ks(x.getFullYear()%100,T,2)}function $r(x,T){return x=Df(x),ks(x.getFullYear()%100,T,2)}function El(x,T){return ks(x.getFullYear()%1e4,T,4)}function q1(x,T){var $=x.getDay();return x=$>=4||$===0?tf(x):tf.ceil(x),ks(x.getFullYear()%1e4,T,4)}function cp(x){var T=x.getTimezoneOffset();return(T>0?"-":(T*=-1,"+"))+ks(T/60|0,"0",2)+ks(T%60,"0",2)}function _o(x,T){return ks(x.getUTCDate(),T,2)}function X0(x,T){return ks(x.getUTCHours(),T,2)}function jd(x,T){return ks(x.getUTCHours()%12||12,T,2)}function Z0(x,T){return ks(1+sc.count(kc(x),x),T,3)}function uf(x,T){return ks(x.getUTCMilliseconds(),T,3)}function Wx(x,T){return uf(x,T)+"000"}function Qx(x,T){return ks(x.getUTCMonth()+1,T,2)}function Fh(x,T){return ks(x.getUTCMinutes(),T,2)}function lf(x,T){return ks(x.getUTCSeconds(),T,2)}function tl(x){var T=x.getUTCDay();return T===0?7:T}function qd(x,T){return ks(W0.count(kc(x)-1,x),T,2)}function fp(x){var T=x.getUTCDay();return T>=4||T===0?Q0(x):Q0.ceil(x)}function U1(x,T){return x=fp(x),ks(Q0.count(kc(x),x)+(kc(x).getUTCDay()===4),T,2)}function nl(x){return x.getUTCDay()}function ed(x,T){return ks(Ah.count(kc(x)-1,x),T,2)}function Of(x,T){return ks(x.getUTCFullYear()%100,T,2)}function Sl(x,T){return x=fp(x),ks(x.getUTCFullYear()%100,T,2)}function dp(x,T){return ks(x.getUTCFullYear()%1e4,T,4)}function pu(x,T){var $=x.getUTCDay();return x=$>=4||$===0?Q0(x):Q0.ceil(x),ks(x.getUTCFullYear()%1e4,T,4)}function $1(){return"+0000"}function rl(){return"%"}function Pc(x){return+x}function Dh(x){return Math.floor(+x/1e3)}var Ud,cf,Oh;hp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hp(x){return Ud=Bd(x),cf=Ud.format,Oh=Ud.utcFormat,Ud}function $a(x){return new Date(x)}function Rh(x){return x instanceof Date?+x:+new Date(+x)}function td(x,T,$,X,ge,Fe,st,zt,wn,Sn){var Pn=Vo(),Hn=Pn.invert,or=Pn.domain,Or=Sn(".%L"),Kr=Sn(":%S"),Lr=Sn("%I:%M"),bi=Sn("%I %p"),ki=Sn("%a %d"),Ds=Sn("%b %d"),ds=Sn("%B"),Xs=Sn("%Y");function gs(Gr){return(wn(Gr)<Gr?Or:zt(Gr)<Gr?Kr:st(Gr)<Gr?Lr:Fe(Gr)<Gr?bi:X(Gr)<Gr?ge(Gr)<Gr?ki:Ds:$(Gr)<Gr?ds:Xs)(Gr)}return Pn.invert=function(Gr){return new Date(Hn(Gr))},Pn.domain=function(Gr){return arguments.length?or(Array.from(Gr,Rh)):or().map($a)},Pn.ticks=function(Gr){var Ki=or();return x(Ki[0],Ki[Ki.length-1],Gr??10)},Pn.tickFormat=function(Gr,Ki){return Ki==null?gs:Sn(Ki)},Pn.nice=function(Gr){var Ki=or();return(!Gr||typeof Gr.range!="function")&&(Gr=T(Ki[0],Ki[Ki.length-1],Gr??10)),Gr?or($n(Ki,Gr)):Pn},Pn.copy=function(){return oa(Pn,td(x,T,$,X,ge,Fe,st,zt,wn,Sn))},Pn}function Ia(){return St.apply(td(qo,Xo,ic,o0,Ja,Ns,es,vr,Dn,cf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nh(){return St.apply(td(c0,f0,kc,rf,W0,sc,Lc,a0,Dn,Oh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ou(){var x=0,T=1,$,X,ge,Fe,st=ps,zt=!1,wn;function Sn(Hn){return Hn==null||isNaN(Hn=+Hn)?wn:st(ge===0?.5:(Hn=(Fe(Hn)-$)*ge,zt?Math.max(0,Math.min(1,Hn)):Hn))}Sn.domain=function(Hn){return arguments.length?([x,T]=Hn,$=Fe(x=+x),X=Fe(T=+T),ge=$===X?0:1/(X-$),Sn):[x,T]},Sn.clamp=function(Hn){return arguments.length?(zt=!!Hn,Sn):zt},Sn.interpolator=function(Hn){return arguments.length?(st=Hn,Sn):st};function Pn(Hn){return function(or){var Or,Kr;return arguments.length?([Or,Kr]=or,st=Hn(Or,Kr),Sn):[st(0),st(1)]}}return Sn.range=Pn(ts),Sn.rangeRound=Pn(xl),Sn.unknown=function(Hn){return arguments.length?(wn=Hn,Sn):wn},function(Hn){return Fe=Hn,$=Hn(x),X=Hn(T),ge=$===X?0:1/(X-$),Sn}}function Xa(x,T){return T.domain(x.domain()).interpolator(x.interpolator()).clamp(x.clamp()).unknown(x.unknown())}function Lh(){var x=pn(Ou()(ps));return x.copy=function(){return Xa(x,Lh())},_e.apply(x,arguments)}function va(){var x=ni(Ou()).domain([1,10]);return x.copy=function(){return Xa(x,va()).base(x.base())},_e.apply(x,arguments)}function kh(){var x=Ir(Ou());return x.copy=function(){return Xa(x,kh()).constant(x.constant())},_e.apply(x,arguments)}function pp(){var x=vi(Ou());return x.copy=function(){return Xa(x,pp()).exponent(x.exponent())},_e.apply(x,arguments)}function h0(){return pp.apply(null,arguments).exponent(.5)}function nd(){var x=0,T=.5,$=1,X=1,ge,Fe,st,zt,wn,Sn=ps,Pn,Hn=!1,or;function Or(Lr){return isNaN(Lr=+Lr)?or:(Lr=.5+((Lr=+Pn(Lr))-Fe)*(X*Lr<X*Fe?zt:wn),Sn(Hn?Math.max(0,Math.min(1,Lr)):Lr))}Or.domain=function(Lr){return arguments.length?([x,T,$]=Lr,ge=Pn(x=+x),Fe=Pn(T=+T),st=Pn($=+$),zt=ge===Fe?0:.5/(Fe-ge),wn=Fe===st?0:.5/(st-Fe),X=Fe<ge?-1:1,Or):[x,T,$]},Or.clamp=function(Lr){return arguments.length?(Hn=!!Lr,Or):Hn},Or.interpolator=function(Lr){return arguments.length?(Sn=Lr,Or):Sn};function Kr(Lr){return function(bi){var ki,Ds,ds;return arguments.length?([ki,Ds,ds]=bi,Sn=Wi(Lr,[ki,Ds,ds]),Or):[Sn(0),Sn(.5),Sn(1)]}}return Or.range=Kr(ts),Or.rangeRound=Kr(xl),Or.unknown=function(Lr){return arguments.length?(or=Lr,Or):or},function(Lr){return Pn=Lr,ge=Lr(x),Fe=Lr(T),st=Lr($),zt=ge===Fe?0:.5/(Fe-ge),wn=Fe===st?0:.5/(st-Fe),X=Fe<ge?-1:1,Or}}function ff(){var x=pn(nd()(ps));return x.copy=function(){return Xa(x,ff())},_e.apply(x,arguments)}function Wl(){var x=ni(nd()).domain([.1,1,10]);return x.copy=function(){return Xa(x,Wl()).base(x.base())},_e.apply(x,arguments)}function Ru(){var x=Ir(nd());return x.copy=function(){return Xa(x,Ru()).constant(x.constant())},_e.apply(x,arguments)}function mp(){var x=vi(nd());return x.copy=function(){return Xa(x,mp()).exponent(x.exponent())},_e.apply(x,arguments)}function il(){return mp.apply(null,arguments).exponent(.5)}function Ih(){let x=Se().unknown(void 0),T=x.domain,$=x.range,X=[0,1],ge,Fe,st=!1,zt=0,wn=0,Sn=.5;delete x.unknown;function Pn(){let Hn=T().length,or=X[1]<X[0],Or=X[1-or],Kr=r(Hn,zt,wn),Lr=X[or-0];ge=(Or-Lr)/(Kr||1),st&&(ge=Math.floor(ge)),Lr+=(Or-Lr-ge*(Hn-zt))*Sn,Fe=ge*(1-zt),st&&(Lr=Math.round(Lr),Fe=Math.round(Fe));let bi=rn(Hn).map(ki=>Lr+ge*ki);return $(or?bi.reverse():bi)}return x.domain=function(Hn){return arguments.length?(T(Hn),Pn()):T()},x.range=function(Hn){return arguments.length?(X=[+Hn[0],+Hn[1]],Pn()):X.slice()},x.rangeRound=function(Hn){return X=[+Hn[0],+Hn[1]],st=!0,Pn()},x.bandwidth=function(){return Fe},x.step=function(){return ge},x.round=function(Hn){return arguments.length?(st=!!Hn,Pn()):st},x.padding=function(Hn){return arguments.length?(wn=Math.max(0,Math.min(1,Hn)),zt=wn,Pn()):zt},x.paddingInner=function(Hn){return arguments.length?(zt=Math.max(0,Math.min(1,Hn)),Pn()):zt},x.paddingOuter=function(Hn){return arguments.length?(wn=Math.max(0,Math.min(1,Hn)),Pn()):wn},x.align=function(Hn){return arguments.length?(Sn=Math.max(0,Math.min(1,Hn)),Pn()):Sn},x.invertRange=function(Hn){if(Hn[0]==null||Hn[1]==null)return;let or=X[1]<X[0],Or=or?$().reverse():$(),Kr=Or.length-1,Lr=+Hn[0],bi=+Hn[1],ki,Ds,ds;if(!(Lr!==Lr||bi!==bi)&&(bi<Lr&&(ds=Lr,Lr=bi,bi=ds),!(bi<Or[0]||Lr>X[1-or])))return ki=Math.max(0,$e(Or,Lr)-1),Ds=Lr===bi?ki:$e(Or,bi)-1,Lr-Or[ki]>Fe+1e-10&&++ki,or&&(ds=ki,ki=Kr-Ds,Ds=Kr-ds),ki>Ds?void 0:T().slice(ki,Ds+1)},x.invert=function(Hn){let or=x.invertRange([Hn,Hn]);return or&&or[0]},x.copy=function(){return Ih().domain(T()).range(X).round(st).paddingInner(zt).paddingOuter(wn).align(Sn)},Pn()}function $d(x){let T=x.copy;return x.padding=x.paddingOuter,delete x.paddingInner,x.copy=function(){return $d(T())},x}function Zm(){return $d(Ih().paddingInner(1))}var xp=Array.prototype.map;function Rf(x){return xp.call(x,e.toNumber)}let rd=Array.prototype.slice;function Js(){let x=[],T=[];function $(X){return X==null||X!==X?void 0:T[(te(x,X)-1)%T.length]}return $.domain=function(X){return arguments.length?(x=Rf(X),$):x.slice()},$.range=function(X){return arguments.length?(T=rd.call(X),$):T.slice()},$.tickFormat=function(X,ge){return $t(x[0],e.peek(x),X??10,ge)},$.copy=function(){return Js().domain($.domain()).range($.range())},$}let A={};function W(x,T,$){let X=function(){let Fe=T();return Fe.invertRange||(Fe.invertRange=Fe.invert?Ve(Fe):Fe.invertExtent?ot(Fe):void 0),Fe.type=x,Fe};return X.metadata=e.toSet(e.array($)),X}function de(x,T,$){return arguments.length>1?(A[x]=W(x,T,$),this):Be(x)?A[x]:void 0}de(i,Kn),de(s,Ln,ue),de(o,pi,[ue,o]),de(a,Ps,ue),de(l,ss,ue),de(f,yi,ue),de(p,Ia,[ue,ve]),de(_,Nh,[ue,ve]),de(E,Lh,[ue,he]),de(`${E}-${s}`,Lh,[ue,he]),de(`${E}-${o}`,va,[ue,he,o]),de(`${E}-${a}`,pp,[ue,he]),de(`${E}-${l}`,h0,[ue,he]),de(`${E}-${f}`,kh,[ue,he]),de(`${O}-${s}`,ff,[ue,he]),de(`${O}-${o}`,Wl,[ue,he,o]),de(`${O}-${a}`,mp,[ue,he]),de(`${O}-${l}`,il,[ue,he]),de(`${O}-${f}`,Ru,[ue,he]),de(R,xa,[J,R]),de(q,Ro,J),de(z,As,J),de(G,Js,[I,J]),de(L,Se,I),de(P,Ih,I),de(B,Zm,I);function Be(x){return e.hasOwnProperty(A,x)}function wt(x,T){let $=A[x];return $&&$.metadata[T]}function Tn(x){return wt(x,ue)}function ur(x){return wt(x,I)}function $i(x){return wt(x,J)}function Bi(x){return wt(x,o)}function oo(x){return wt(x,ve)}function mu(x){return wt(x,he)}function Bc(x){return wt(x,R)}let Nf=["clamp","base","constant","exponent"];function dE(x,T){let $=T[0],X=e.peek(T)-$;return function(ge){return x($+ge*X)}}function Qy(x,T,$){return Wi(Nu(T||"rgb",$),x)}function B4(x,T){let $=new Array(T),X=T+1;for(let ge=0;ge<T;)$[ge]=x(++ge/X);return $}function Gy(x){let T=x.type,$=x.copy();return $.type=T,$}function id(x,T,$){let X=$-T,ge,Fe,st;return!X||!Number.isFinite(X)?e.constant(.5):(ge=(Fe=x.type).indexOf("-"),Fe=ge<0?Fe:Fe.slice(ge+1),st=de(Fe)().domain([T,$]).range([0,1]),Nf.forEach(zt=>x[zt]?st[zt](x[zt]()):0),st)}function Nu(x,T){let $=fa[j4(x)];return T!=null&&$&&$.gamma?$.gamma(T):$}function j4(x){return"interpolate"+x.toLowerCase().split("-").map(T=>T[0].toUpperCase()+T.slice(1)).join("")}let Mh={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Ts={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function p0(x){let T=x.length/6|0,$=new Array(T);for(let X=0;X<T;)$[X]="#"+x.slice(X*6,++X*6);return $}function wl(x,T){for(let $ in x)Lu($,T(x[$]))}let gp={};wl(Ts,p0),wl(Mh,x=>Qy(p0(x)));function Lu(x,T){return x=x&&x.toLowerCase(),arguments.length>1?(gp[x]=T,this):gp[x]}let z1="symbol",H1="discrete",Cl="gradient",Yy=x=>e.isArray(x)?x.map(T=>String(T)):String(x),zd=(x,T)=>x[1]-T[1],Ph=(x,T)=>T[1]-x[1];function Ky(x,T,$){let X;return e.isNumber(T)&&(x.bins&&(T=Math.max(T,x.bins.length)),$!=null&&(T=Math.min(T,Math.floor(e.span(x.domain())/$||1)))),e.isObject(T)&&(X=T.step,T=T.interval),e.isString(T)&&(T=x.type===p?t.timeInterval(T):x.type==_?t.utcInterval(T):e.error("Only time and utc scales accept interval strings."),X&&(T=T.every(X))),T}function Lf(x,T,$){let X=x.range(),ge=X[0],Fe=e.peek(X),st=zd;if(ge>Fe&&(X=Fe,Fe=ge,ge=X,st=Ph),ge=Math.floor(ge),Fe=Math.ceil(Fe),T=T.map(zt=>[zt,x(zt)]).filter(zt=>ge<=zt[1]&&zt[1]<=Fe).sort(st).map(zt=>zt[0]),$>0&&T.length>1){let zt=[T[0],e.peek(T)];for(;T.length>$&&T.length>=3;)T=T.filter((wn,Sn)=>!(Sn%2));T.length<3&&(T=zt)}return T}function Al(x,T){return x.bins?Lf(x,x.bins):x.ticks?x.ticks(T):x.domain()}function kf(x,T,$,X,ge,Fe){let st=T.type,zt=Yy;if(st===p||ge===p)zt=x.timeFormat(X);else if(st===_||ge===_)zt=x.utcFormat(X);else if(Bi(st)){let wn=x.formatFloat(X);if(Fe||T.bins)zt=wn;else{let Sn=V1(T,$,!1);zt=Pn=>Sn(Pn)?wn(Pn):""}}else if(T.tickFormat){let wn=T.domain();zt=x.formatSpan(wn[0],wn[wn.length-1],$,X)}else X&&(zt=x.format(X));return zt}function V1(x,T,$){let X=Al(x,T),ge=x.base(),Fe=Math.log(ge),st=Math.max(1,ge*T/X.length),zt=wn=>{let Sn=wn/Math.pow(ge,Math.round(Math.log(wn)/Fe));return Sn*ge<ge-.5&&(Sn*=ge),Sn<=st};return $?X.filter(zt):zt}let yp={[R]:"quantiles",[q]:"thresholds",[z]:"domain"},Hd={[R]:"quantiles",[q]:"domain"};function W1(x,T){return x.bins?Yx(x.bins):x.type===o?V1(x,T,!0):yp[x.type]?Gx(x[yp[x.type]]()):Al(x,T)}function df(x,T,$){let X=T[Hd[T.type]](),ge=X.length,Fe=ge>1?X[1]-X[0]:X[0],st;for(st=1;st<ge;++st)Fe=Math.min(Fe,X[st]-X[st-1]);return x.formatSpan(0,Fe,3*10,$)}function Gx(x){let T=[-1/0].concat(x);return T.max=1/0,T}function Yx(x){let T=x.slice(0,-1);return T.max=e.peek(x),T}let lc=x=>yp[x.type]||x.bins;function m0(x,T,$,X,ge,Fe,st){let zt=Hd[T.type]&&Fe!==p&&Fe!==_?df(x,T,ge):kf(x,T,$,ge,Fe,st);return X===z1&&lc(T)?q4(zt):X===H1?y(zt):F(zt)}let q4=x=>(T,$,X)=>{let ge=sd(X[$+1],sd(X.max,1/0)),Fe=H(T,x),st=H(ge,x);return Fe&&st?Fe+" \u2013 "+st:st?"< "+st:"\u2265 "+Fe},sd=(x,T)=>x??T,y=x=>(T,$)=>$?x(T):null,F=x=>T=>x(T),H=(x,T)=>Number.isFinite(x)?T(x):null;function Y(x){let T=x.domain(),$=T.length-1,X=+T[0],ge=+e.peek(T),Fe=ge-X;if(x.type===z){let st=$?Fe/$:.1;X-=st,ge+=st,Fe=ge-X}return st=>(st-X)/Fe}function Pe(x,T,$,X){let ge=X||T.type;return e.isString($)&&oo(ge)&&($=$.replace(/%a/g,"%A").replace(/%b/g,"%B")),!$&&ge===p?x.timeFormat("%A, %d %B %Y, %X"):!$&&ge===_?x.utcFormat("%A, %d %B %Y, %X UTC"):m0(x,T,5,null,$,X,!0)}function vt(x,T,$){$=$||{};let X=Math.max(3,$.maxlen||7),ge=Pe(x,T,$.format,$.formatType);if($i(T.type)){let Fe=W1(T).slice(1).map(ge),st=Fe.length;return`${st} boundar${st===1?"y":"ies"}: ${Fe.join(", ")}`}else if(ur(T.type)){let Fe=T.domain(),st=Fe.length,zt=st>X?Fe.slice(0,X-2).map(ge).join(", ")+", ending with "+Fe.slice(-1).map(ge):Fe.map(ge).join(", ");return`${st} value${st===1?"":"s"}: ${zt}`}else{let Fe=T.domain();return`values from ${ge(Fe[0])} to ${ge(e.peek(Fe))}`}}n.Band=P,n.BinOrdinal=G,n.DiscreteLegend=H1,n.Diverging=O,n.GradientLegend=Cl,n.Identity=i,n.Linear=s,n.Log=o,n.Ordinal=L,n.Point=B,n.Pow=a,n.Quantile=R,n.Quantize=q,n.Sequential=E,n.Sqrt=l,n.SymbolLegend=z1,n.Symlog=f,n.Threshold=z,n.Time=p,n.UTC=_,n.bandSpace=r,n.domainCaption=vt,n.interpolate=Nu,n.interpolateColors=Qy,n.interpolateRange=dE,n.isContinuous=Tn,n.isDiscrete=ur,n.isDiscretizing=$i,n.isInterpolating=mu,n.isLogarithmic=Bi,n.isQuantile=Bc,n.isTemporal=oo,n.isValidScaleType=Be,n.labelFormat=m0,n.labelFraction=Y,n.labelValues=W1,n.quantizeInterpolator=B4,n.scale=de,n.scaleCopy=Gy,n.scaleFraction=id,n.scaleImplicit=ke,n.scheme=Lu,n.tickCount=Ky,n.tickFormat=kf,n.tickValues=Al,n.validTicks=Lf,Object.defineProperty(n,"__esModule",{value:!0})})});var ZC=Ae(($H,tDe)=>{m();(function(n,e){typeof $H=="object"&&typeof tDe!="undefined"?e($H,Au(),ZR(),MH(),tE()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})($H,function(n,e,t,r,i){"use strict";let s=0;function o(){s=0}let a="p_";function l(y){return y&&y.gradient}function f(y,F,H){let Y=y.gradient,Pe=y.id,vt=Y==="radial"?a:"";return Pe||(Pe=y.id="gradient_"+s++,Y==="radial"?(y.x1=p(y.x1,.5),y.y1=p(y.y1,.5),y.r1=p(y.r1,0),y.x2=p(y.x2,.5),y.y2=p(y.y2,.5),y.r2=p(y.r2,.5),vt=a):(y.x1=p(y.x1,0),y.y1=p(y.y1,0),y.x2=p(y.x2,1),y.y2=p(y.y2,0))),F[Pe]=y,"url("+(H||"")+"#"+vt+Pe+")"}function p(y,F){return y??F}function _(y,F){var H=[],Y;return Y={gradient:"linear",x1:y?y[0]:0,y1:y?y[1]:0,x2:F?F[0]:1,y2:F?F[1]:0,stops:H,stop:function(Pe,vt){return H.push({offset:Pe,color:vt}),Y}}}let E=Math.PI,O=2*E,R=1e-6,q=O-R;function z(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function L(){return new z}z.prototype=L.prototype={constructor:z,moveTo:function(y,F){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+F)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(y,F){this._+="L"+(this._x1=+y)+","+(this._y1=+F)},quadraticCurveTo:function(y,F,H,Y){this._+="Q"+ +y+","+ +F+","+(this._x1=+H)+","+(this._y1=+Y)},bezierCurveTo:function(y,F,H,Y,Pe,vt){this._+="C"+ +y+","+ +F+","+ +H+","+ +Y+","+(this._x1=+Pe)+","+(this._y1=+vt)},arcTo:function(y,F,H,Y,Pe){y=+y,F=+F,H=+H,Y=+Y,Pe=+Pe;var vt=this._x1,x=this._y1,T=H-y,$=Y-F,X=vt-y,ge=x-F,Fe=X*X+ge*ge;if(Pe<0)throw new Error("negative radius: "+Pe);if(this._x1===null)this._+="M"+(this._x1=y)+","+(this._y1=F);else if(Fe>R)if(!(Math.abs(ge*T-$*X)>R)||!Pe)this._+="L"+(this._x1=y)+","+(this._y1=F);else{var st=H-vt,zt=Y-x,wn=T*T+$*$,Sn=st*st+zt*zt,Pn=Math.sqrt(wn),Hn=Math.sqrt(Fe),or=Pe*Math.tan((E-Math.acos((wn+Fe-Sn)/(2*Pn*Hn)))/2),Or=or/Hn,Kr=or/Pn;Math.abs(Or-1)>R&&(this._+="L"+(y+Or*X)+","+(F+Or*ge)),this._+="A"+Pe+","+Pe+",0,0,"+ +(ge*st>X*zt)+","+(this._x1=y+Kr*T)+","+(this._y1=F+Kr*$)}},arc:function(y,F,H,Y,Pe,vt){y=+y,F=+F,H=+H,vt=!!vt;var x=H*Math.cos(Y),T=H*Math.sin(Y),$=y+x,X=F+T,ge=1^vt,Fe=vt?Y-Pe:Pe-Y;if(H<0)throw new Error("negative radius: "+H);this._x1===null?this._+="M"+$+","+X:(Math.abs(this._x1-$)>R||Math.abs(this._y1-X)>R)&&(this._+="L"+$+","+X),!!H&&(Fe<0&&(Fe=Fe%O+O),Fe>q?this._+="A"+H+","+H+",0,1,"+ge+","+(y-x)+","+(F-T)+"A"+H+","+H+",0,1,"+ge+","+(this._x1=$)+","+(this._y1=X):Fe>R&&(this._+="A"+H+","+H+",0,"+ +(Fe>=E)+","+ge+","+(this._x1=y+H*Math.cos(Pe))+","+(this._y1=F+H*Math.sin(Pe))))},rect:function(y,F,H,Y){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+F)+"h"+ +H+"v"+ +Y+"h"+-H+"Z"},toString:function(){return this._}};function B(y){return function(){return y}}let P=Math.abs,G=Math.atan2,ue=Math.cos,I=Math.max,J=Math.min,he=Math.sin,ve=Math.sqrt,Ve=1e-12,ot=Math.PI,lt=ot/2,et=2*ot;function bt(y){return y>1?0:y<-1?ot:Math.acos(y)}function Pt(y){return y>=1?lt:y<=-1?-lt:Math.asin(y)}function $e(y){return y.innerRadius}function te(y){return y.outerRadius}function Ze(y){return y.startAngle}function ye(y){return y.endAngle}function Le(y){return y&&y.padAngle}function Ce(y,F,H,Y,Pe,vt,x,T){var $=H-y,X=Y-F,ge=x-Pe,Fe=T-vt,st=Fe*$-ge*X;if(!(st*st<Ve))return st=(ge*(F-vt)-Fe*(y-Pe))/st,[y+st*$,F+st*X]}function pe(y,F,H,Y,Pe,vt,x){var T=y-H,$=F-Y,X=(x?vt:-vt)/ve(T*T+$*$),ge=X*$,Fe=-X*T,st=y+ge,zt=F+Fe,wn=H+ge,Sn=Y+Fe,Pn=(st+wn)/2,Hn=(zt+Sn)/2,or=wn-st,Or=Sn-zt,Kr=or*or+Or*Or,Lr=Pe-vt,bi=st*Sn-wn*zt,ki=(Or<0?-1:1)*ve(I(0,Lr*Lr*Kr-bi*bi)),Ds=(bi*Or-or*ki)/Kr,ds=(-bi*or-Or*ki)/Kr,Xs=(bi*Or+or*ki)/Kr,gs=(-bi*or+Or*ki)/Kr,Gr=Ds-Pn,Ki=ds-Hn,Ma=Xs-Pn,Za=gs-Hn;return Gr*Gr+Ki*Ki>Ma*Ma+Za*Za&&(Ds=Xs,ds=gs),{cx:Ds,cy:ds,x01:-ge,y01:-Fe,x11:Ds*(Pe/Lr-1),y11:ds*(Pe/Lr-1)}}function Je(){var y=$e,F=te,H=B(0),Y=null,Pe=Ze,vt=ye,x=Le,T=null;function $(){var X,ge,Fe=+y.apply(this,arguments),st=+F.apply(this,arguments),zt=Pe.apply(this,arguments)-lt,wn=vt.apply(this,arguments)-lt,Sn=P(wn-zt),Pn=wn>zt;if(T||(T=X=L()),st<Fe&&(ge=st,st=Fe,Fe=ge),!(st>Ve))T.moveTo(0,0);else if(Sn>et-Ve)T.moveTo(st*ue(zt),st*he(zt)),T.arc(0,0,st,zt,wn,!Pn),Fe>Ve&&(T.moveTo(Fe*ue(wn),Fe*he(wn)),T.arc(0,0,Fe,wn,zt,Pn));else{var Hn=zt,or=wn,Or=zt,Kr=wn,Lr=Sn,bi=Sn,ki=x.apply(this,arguments)/2,Ds=ki>Ve&&(Y?+Y.apply(this,arguments):ve(Fe*Fe+st*st)),ds=J(P(st-Fe)/2,+H.apply(this,arguments)),Xs=ds,gs=ds,Gr,Ki;if(Ds>Ve){var Ma=Pt(Ds/Fe*he(ki)),Za=Pt(Ds/st*he(ki));(Lr-=Ma*2)>Ve?(Ma*=Pn?1:-1,Or+=Ma,Kr-=Ma):(Lr=0,Or=Kr=(zt+wn)/2),(bi-=Za*2)>Ve?(Za*=Pn?1:-1,Hn+=Za,or-=Za):(bi=0,Hn=or=(zt+wn)/2)}var ku=st*ue(Hn),bs=st*he(Hn),Ca=Fe*ue(Kr),za=Fe*he(Kr);if(ds>Ve){var Tl=st*ue(or),Vd=st*he(or),sl=Fe*ue(Or),x0=Fe*he(Or),_a;if(Sn<ot&&(_a=Ce(ku,bs,sl,x0,Tl,Vd,Ca,za))){var cc=ku-_a[0],Wd=bs-_a[1],Q1=Tl-_a[0],vp=Vd-_a[1],g0=1/he(bt((cc*Q1+Wd*vp)/(ve(cc*cc+Wd*Wd)*ve(Q1*Q1+vp*vp)))/2),e2=ve(_a[0]*_a[0]+_a[1]*_a[1]);Xs=J(ds,(Fe-e2)/(g0-1)),gs=J(ds,(st-e2)/(g0+1))}}bi>Ve?gs>Ve?(Gr=pe(sl,x0,ku,bs,st,gs,Pn),Ki=pe(Tl,Vd,Ca,za,st,gs,Pn),T.moveTo(Gr.cx+Gr.x01,Gr.cy+Gr.y01),gs<ds?T.arc(Gr.cx,Gr.cy,gs,G(Gr.y01,Gr.x01),G(Ki.y01,Ki.x01),!Pn):(T.arc(Gr.cx,Gr.cy,gs,G(Gr.y01,Gr.x01),G(Gr.y11,Gr.x11),!Pn),T.arc(0,0,st,G(Gr.cy+Gr.y11,Gr.cx+Gr.x11),G(Ki.cy+Ki.y11,Ki.cx+Ki.x11),!Pn),T.arc(Ki.cx,Ki.cy,gs,G(Ki.y11,Ki.x11),G(Ki.y01,Ki.x01),!Pn))):(T.moveTo(ku,bs),T.arc(0,0,st,Hn,or,!Pn)):T.moveTo(ku,bs),!(Fe>Ve)||!(Lr>Ve)?T.lineTo(Ca,za):Xs>Ve?(Gr=pe(Ca,za,Tl,Vd,Fe,-Xs,Pn),Ki=pe(ku,bs,sl,x0,Fe,-Xs,Pn),T.lineTo(Gr.cx+Gr.x01,Gr.cy+Gr.y01),Xs<ds?T.arc(Gr.cx,Gr.cy,Xs,G(Gr.y01,Gr.x01),G(Ki.y01,Ki.x01),!Pn):(T.arc(Gr.cx,Gr.cy,Xs,G(Gr.y01,Gr.x01),G(Gr.y11,Gr.x11),!Pn),T.arc(0,0,Fe,G(Gr.cy+Gr.y11,Gr.cx+Gr.x11),G(Ki.cy+Ki.y11,Ki.cx+Ki.x11),Pn),T.arc(Ki.cx,Ki.cy,Xs,G(Ki.y11,Ki.x11),G(Ki.y01,Ki.x01),!Pn))):T.arc(0,0,Fe,Kr,Or,Pn)}if(T.closePath(),X)return T=null,X+""||null}return $.centroid=function(){var X=(+y.apply(this,arguments)+ +F.apply(this,arguments))/2,ge=(+Pe.apply(this,arguments)+ +vt.apply(this,arguments))/2-ot/2;return[ue(ge)*X,he(ge)*X]},$.innerRadius=function(X){return arguments.length?(y=typeof X=="function"?X:B(+X),$):y},$.outerRadius=function(X){return arguments.length?(F=typeof X=="function"?X:B(+X),$):F},$.cornerRadius=function(X){return arguments.length?(H=typeof X=="function"?X:B(+X),$):H},$.padRadius=function(X){return arguments.length?(Y=X==null?null:typeof X=="function"?X:B(+X),$):Y},$.startAngle=function(X){return arguments.length?(Pe=typeof X=="function"?X:B(+X),$):Pe},$.endAngle=function(X){return arguments.length?(vt=typeof X=="function"?X:B(+X),$):vt},$.padAngle=function(X){return arguments.length?(x=typeof X=="function"?X:B(+X),$):x},$.context=function(X){return arguments.length?(T=X??null,$):T},$}function ut(y){return typeof y=="object"&&"length"in y?y:Array.from(y)}function Ht(y){this._context=y}Ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;default:this._context.lineTo(y,F);break}}};function Ct(y){return new Ht(y)}function xn(y){return y[0]}function Tt(y){return y[1]}function Ot(y,F){var H=B(!0),Y=null,Pe=Ct,vt=null;y=typeof y=="function"?y:y===void 0?xn:B(y),F=typeof F=="function"?F:F===void 0?Tt:B(F);function x(T){var $,X=(T=ut(T)).length,ge,Fe=!1,st;for(Y==null&&(vt=Pe(st=L())),$=0;$<=X;++$)!($<X&&H(ge=T[$],$,T))===Fe&&((Fe=!Fe)?vt.lineStart():vt.lineEnd()),Fe&&vt.point(+y(ge,$,T),+F(ge,$,T));if(st)return vt=null,st+""||null}return x.x=function(T){return arguments.length?(y=typeof T=="function"?T:B(+T),x):y},x.y=function(T){return arguments.length?(F=typeof T=="function"?T:B(+T),x):F},x.defined=function(T){return arguments.length?(H=typeof T=="function"?T:B(!!T),x):H},x.curve=function(T){return arguments.length?(Pe=T,Y!=null&&(vt=Pe(Y)),x):Pe},x.context=function(T){return arguments.length?(T==null?Y=vt=null:vt=Pe(Y=T),x):Y},x}function rn(y,F,H){var Y=null,Pe=B(!0),vt=null,x=Ct,T=null;y=typeof y=="function"?y:y===void 0?xn:B(+y),F=typeof F=="function"?F:B(F===void 0?0:+F),H=typeof H=="function"?H:H===void 0?Tt:B(+H);function $(ge){var Fe,st,zt,wn=(ge=ut(ge)).length,Sn,Pn=!1,Hn,or=new Array(wn),Or=new Array(wn);for(vt==null&&(T=x(Hn=L())),Fe=0;Fe<=wn;++Fe){if(!(Fe<wn&&Pe(Sn=ge[Fe],Fe,ge))===Pn)if(Pn=!Pn)st=Fe,T.areaStart(),T.lineStart();else{for(T.lineEnd(),T.lineStart(),zt=Fe-1;zt>=st;--zt)T.point(or[zt],Or[zt]);T.lineEnd(),T.areaEnd()}Pn&&(or[Fe]=+y(Sn,Fe,ge),Or[Fe]=+F(Sn,Fe,ge),T.point(Y?+Y(Sn,Fe,ge):or[Fe],H?+H(Sn,Fe,ge):Or[Fe]))}if(Hn)return T=null,Hn+""||null}function X(){return Ot().defined(Pe).curve(x).context(vt)}return $.x=function(ge){return arguments.length?(y=typeof ge=="function"?ge:B(+ge),Y=null,$):y},$.x0=function(ge){return arguments.length?(y=typeof ge=="function"?ge:B(+ge),$):y},$.x1=function(ge){return arguments.length?(Y=ge==null?null:typeof ge=="function"?ge:B(+ge),$):Y},$.y=function(ge){return arguments.length?(F=typeof ge=="function"?ge:B(+ge),H=null,$):F},$.y0=function(ge){return arguments.length?(F=typeof ge=="function"?ge:B(+ge),$):F},$.y1=function(ge){return arguments.length?(H=ge==null?null:typeof ge=="function"?ge:B(+ge),$):H},$.lineX0=$.lineY0=function(){return X().x(y).y(F)},$.lineY1=function(){return X().x(y).y(H)},$.lineX1=function(){return X().x(Y).y(F)},$.defined=function(ge){return arguments.length?(Pe=typeof ge=="function"?ge:B(!!ge),$):Pe},$.curve=function(ge){return arguments.length?(x=ge,vt!=null&&(T=x(vt)),$):x},$.context=function(ge){return arguments.length?(ge==null?vt=T=null:T=x(vt=ge),$):vt},$}var St={draw(y,F){let H=ve(F/ot);y.moveTo(H,0),y.arc(0,0,H,0,et)}};function _e(y,F){let H=null;y=typeof y=="function"?y:B(y||St),F=typeof F=="function"?F:B(F===void 0?64:+F);function Y(){let Pe;if(H||(H=Pe=L()),y.apply(this,arguments).draw(H,+F.apply(this,arguments)),Pe)return H=null,Pe+""||null}return Y.type=function(Pe){return arguments.length?(y=typeof Pe=="function"?Pe:B(Pe),Y):y},Y.size=function(Pe){return arguments.length?(F=typeof Pe=="function"?Pe:B(+Pe),Y):F},Y.context=function(Pe){return arguments.length?(H=Pe??null,Y):H},Y}function ke(){}function Se(y,F,H){y._context.bezierCurveTo((2*y._x0+y._x1)/3,(2*y._y0+y._y1)/3,(y._x0+2*y._x1)/3,(y._y0+2*y._y1)/3,(y._x0+4*y._x1+F)/6,(y._y0+4*y._y1+H)/6)}function ce(y){this._context=y}ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Se(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Se(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function tt(y){return new ce(y)}function Ie(y){this._context=y}Ie.prototype={areaStart:ke,areaEnd:ke,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._x2=y,this._y2=F;break;case 1:this._point=2,this._x3=y,this._y3=F;break;case 2:this._point=3,this._x4=y,this._y4=F,this._context.moveTo((this._x0+4*this._x1+y)/6,(this._y0+4*this._y1+F)/6);break;default:Se(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function re(y){return new Ie(y)}function Ne(y){this._context=y}Ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var H=(this._x0+4*this._x1+y)/6,Y=(this._y0+4*this._y1+F)/6;this._line?this._context.lineTo(H,Y):this._context.moveTo(H,Y);break;case 3:this._point=4;default:Se(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function ct(y){return new Ne(y)}function _t(y,F){this._basis=new ce(y),this._beta=F}_t.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var y=this._x,F=this._y,H=y.length-1;if(H>0)for(var Y=y[0],Pe=F[0],vt=y[H]-Y,x=F[H]-Pe,T=-1,$;++T<=H;)$=T/H,this._basis.point(this._beta*y[T]+(1-this._beta)*(Y+$*vt),this._beta*F[T]+(1-this._beta)*(Pe+$*x));this._x=this._y=null,this._basis.lineEnd()},point:function(y,F){this._x.push(+y),this._y.push(+F)}};var Lt=function y(F){function H(Y){return F===1?new ce(Y):new _t(Y,F)}return H.beta=function(Y){return y(+Y)},H}(.85);function Yt(y,F,H){y._context.bezierCurveTo(y._x1+y._k*(y._x2-y._x0),y._y1+y._k*(y._y2-y._y0),y._x2+y._k*(y._x1-F),y._y2+y._k*(y._y1-H),y._x2,y._y2)}function Gt(y,F){this._context=y,this._k=(1-F)/6}Gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yt(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2,this._x1=y,this._y1=F;break;case 2:this._point=3;default:Yt(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var fn=function y(F){function H(Y){return new Gt(Y,F)}return H.tension=function(Y){return y(+Y)},H}(0);function gn(y,F){this._context=y,this._k=(1-F)/6}gn.prototype={areaStart:ke,areaEnd:ke,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._x3=y,this._y3=F;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=F);break;case 2:this._point=3,this._x5=y,this._y5=F;break;default:Yt(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var yn=function y(F){function H(Y){return new gn(Y,F)}return H.tension=function(Y){return y(+Y)},H}(0);function It(y,F){this._context=y,this._k=(1-F)/6}It.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yt(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var un=function y(F){function H(Y){return new It(Y,F)}return H.tension=function(Y){return y(+Y)},H}(0);function Mn(y,F,H){var Y=y._x1,Pe=y._y1,vt=y._x2,x=y._y2;if(y._l01_a>Ve){var T=2*y._l01_2a+3*y._l01_a*y._l12_a+y._l12_2a,$=3*y._l01_a*(y._l01_a+y._l12_a);Y=(Y*T-y._x0*y._l12_2a+y._x2*y._l01_2a)/$,Pe=(Pe*T-y._y0*y._l12_2a+y._y2*y._l01_2a)/$}if(y._l23_a>Ve){var X=2*y._l23_2a+3*y._l23_a*y._l12_a+y._l12_2a,ge=3*y._l23_a*(y._l23_a+y._l12_a);vt=(vt*X+y._x1*y._l23_2a-F*y._l12_2a)/ge,x=(x*X+y._y1*y._l23_2a-H*y._l12_2a)/ge}y._context.bezierCurveTo(Y,Pe,vt,x,y._x2,y._y2)}function tr(y,F){this._context=y,this._alpha=F}tr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3;default:Mn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var Rn=function y(F){function H(Y){return F?new tr(Y,F):new Gt(Y,0)}return H.alpha=function(Y){return y(+Y)},H}(.5);function Re(y,F){this._context=y,this._alpha=F}Re.prototype={areaStart:ke,areaEnd:ke,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=y,this._y3=F;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=F);break;case 2:this._point=3,this._x5=y,this._y5=F;break;default:Mn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var He=function y(F){function H(Y){return F?new Re(Y,F):new gn(Y,0)}return H.alpha=function(Y){return y(+Y)},H}(.5);function De(y,F){this._context=y,this._alpha=F}De.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var Bt=function y(F){function H(Y){return F?new De(Y,F):new It(Y,0)}return H.alpha=function(Y){return y(+Y)},H}(.5);function pt(y){this._context=y}pt.prototype={areaStart:ke,areaEnd:ke,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(y,F){y=+y,F=+F,this._point?this._context.lineTo(y,F):(this._point=1,this._context.moveTo(y,F))}};function mt(y){return new pt(y)}function nn(y){return y<0?-1:1}function Qt(y,F,H){var Y=y._x1-y._x0,Pe=F-y._x1,vt=(y._y1-y._y0)/(Y||Pe<0&&-0),x=(H-y._y1)/(Pe||Y<0&&-0),T=(vt*Pe+x*Y)/(Y+Pe);return(nn(vt)+nn(x))*Math.min(Math.abs(vt),Math.abs(x),.5*Math.abs(T))||0}function Fn(y,F){var H=y._x1-y._x0;return H?(3*(y._y1-y._y0)/H-F)/2:F}function Wn(y,F,H){var Y=y._x0,Pe=y._y0,vt=y._x1,x=y._y1,T=(vt-Y)/3;y._context.bezierCurveTo(Y+T,Pe+T*F,vt-T,x-T*H,vt,x)}function Zn(y){this._context=y}Zn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wn(this,this._t0,Fn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){var H=NaN;if(y=+y,F=+F,!(y===this._x1&&F===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3,Wn(this,Fn(this,H=Qt(this,y,F)),H);break;default:Wn(this,this._t0,H=Qt(this,y,F));break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F,this._t0=H}}};function Nn(y){this._context=new nr(y)}(Nn.prototype=Object.create(Zn.prototype)).point=function(y,F){Zn.prototype.point.call(this,F,y)};function nr(y){this._context=y}nr.prototype={moveTo:function(y,F){this._context.moveTo(F,y)},closePath:function(){this._context.closePath()},lineTo:function(y,F){this._context.lineTo(F,y)},bezierCurveTo:function(y,F,H,Y,Pe,vt){this._context.bezierCurveTo(F,y,Y,H,vt,Pe)}};function Ke(y){return new Zn(y)}function yt(y){return new Nn(y)}function oe(y){this._context=y}oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var y=this._x,F=this._y,H=y.length;if(H)if(this._line?this._context.lineTo(y[0],F[0]):this._context.moveTo(y[0],F[0]),H===2)this._context.lineTo(y[1],F[1]);else for(var Y=je(y),Pe=je(F),vt=0,x=1;x<H;++vt,++x)this._context.bezierCurveTo(Y[0][vt],Pe[0][vt],Y[1][vt],Pe[1][vt],y[x],F[x]);(this._line||this._line!==0&&H===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(y,F){this._x.push(+y),this._y.push(+F)}};function je(y){var F,H=y.length-1,Y,Pe=new Array(H),vt=new Array(H),x=new Array(H);for(Pe[0]=0,vt[0]=2,x[0]=y[0]+2*y[1],F=1;F<H-1;++F)Pe[F]=1,vt[F]=4,x[F]=4*y[F]+2*y[F+1];for(Pe[H-1]=2,vt[H-1]=7,x[H-1]=8*y[H-1]+y[H],F=1;F<H;++F)Y=Pe[F]/vt[F-1],vt[F]-=Y,x[F]-=Y*x[F-1];for(Pe[H-1]=x[H-1]/vt[H-1],F=H-2;F>=0;--F)Pe[F]=(x[F]-Pe[F+1])/vt[F];for(vt[H-1]=(y[H]+Pe[H-1])/2,F=0;F<H-1;++F)vt[F]=2*y[F+1]-Pe[F+1];return[Pe,vt]}function nt(y){return new oe(y)}function Rt(y,F){this._context=y,this._t=F}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,F),this._context.lineTo(y,F);else{var H=this._x*(1-this._t)+y*this._t;this._context.lineTo(H,this._y),this._context.lineTo(H,F)}break}}this._x=y,this._y=F}};function hn(y){return new Rt(y,.5)}function an(y){return new Rt(y,0)}function ft(y){return new Rt(y,1)}let ie={basis:{curve:tt},"basis-closed":{curve:re},"basis-open":{curve:ct},bundle:{curve:Lt,tension:"beta",value:.85},cardinal:{curve:fn,tension:"tension",value:0},"cardinal-open":{curve:un,tension:"tension",value:0},"cardinal-closed":{curve:yn,tension:"tension",value:0},"catmull-rom":{curve:Rn,tension:"alpha",value:.5},"catmull-rom-closed":{curve:He,tension:"alpha",value:.5},"catmull-rom-open":{curve:Bt,tension:"alpha",value:.5},linear:{curve:Ct},"linear-closed":{curve:mt},monotone:{horizontal:yt,vertical:Ke},natural:{curve:nt},step:{curve:hn},"step-after":{curve:ft},"step-before":{curve:an}};function Te(y,F,H){var Y=e.hasOwnProperty(ie,y)&&ie[y],Pe=null;return Y&&(Pe=Y.curve||Y[F||"vertical"],Y.tension&&H!=null&&(Pe=Pe[Y.tension](H))),Pe}let Ue={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},xt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Et=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Nt=/^((\s+,?\s*)|(,\s*))/,ne=/^[01]/;function we(y){let F=[];return(y.match(xt)||[]).forEach(Y=>{let Pe=Y[0],vt=Pe.toLowerCase(),x=Ue[vt],T=Qe(vt,x,Y.slice(1).trim()),$=T.length;if($<x||$&&$%x!==0)throw Error("Invalid SVG path, incorrect parameter count");if(F.push([Pe,...T.slice(0,x)]),$!==x){vt==="m"&&(Pe=Pe==="M"?"L":"l");for(let X=x;X<$;X+=x)F.push([Pe,...T.slice(X,X+x)])}}),F}function Qe(y,F,H){let Y=[];for(let Pe=0;F&&Pe<H.length;)for(let vt=0;vt<F;++vt){let x=y==="a"&&(vt===3||vt===4)?ne:Et,T=H.slice(Pe).match(x);if(T===null)throw Error("Invalid SVG path, incorrect parameter type");Pe+=T[0].length,Y.push(+T[0]);let $=H.slice(Pe).match(Nt);$!==null&&(Pe+=$[0].length)}return Y}let it=Math.PI/180,Ut=1e-14,sn=Math.PI/2,Cn=Math.PI*2,En=Math.sqrt(3)/2;var vn={},zn={},Oe=[].join;function ze(y,F,H,Y,Pe,vt,x,T,$){let X=Oe.call(arguments);if(vn[X])return vn[X];let ge=x*it,Fe=Math.sin(ge),st=Math.cos(ge);H=Math.abs(H),Y=Math.abs(Y);let zt=st*(T-y)*.5+Fe*($-F)*.5,wn=st*($-F)*.5-Fe*(T-y)*.5,Sn=zt*zt/(H*H)+wn*wn/(Y*Y);Sn>1&&(Sn=Math.sqrt(Sn),H*=Sn,Y*=Sn);let Pn=st/H,Hn=Fe/H,or=-Fe/Y,Or=st/Y,Kr=Pn*T+Hn*$,Lr=or*T+Or*$,bi=Pn*y+Hn*F,ki=or*y+Or*F,Ds=(bi-Kr)*(bi-Kr)+(ki-Lr)*(ki-Lr),ds=1/Ds-.25;ds<0&&(ds=0);let Xs=Math.sqrt(ds);vt==Pe&&(Xs=-Xs);let gs=.5*(Kr+bi)-Xs*(ki-Lr),Gr=.5*(Lr+ki)+Xs*(bi-Kr),Ki=Math.atan2(Lr-Gr,Kr-gs),Za=Math.atan2(ki-Gr,bi-gs)-Ki;Za<0&&vt===1?Za+=Cn:Za>0&&vt===0&&(Za-=Cn);let ku=Math.ceil(Math.abs(Za/(sn+.001))),bs=[];for(let Ca=0;Ca<ku;++Ca){let za=Ki+Ca*Za/ku,Tl=Ki+(Ca+1)*Za/ku;bs[Ca]=[gs,Gr,za,Tl,H,Y,Fe,st]}return vn[X]=bs}function Dt(y){let F=Oe.call(y);if(zn[F])return zn[F];var H=y[0],Y=y[1],Pe=y[2],vt=y[3],x=y[4],T=y[5],$=y[6],X=y[7];let ge=X*x,Fe=-$*T,st=$*x,zt=X*T,wn=Math.cos(Pe),Sn=Math.sin(Pe),Pn=Math.cos(vt),Hn=Math.sin(vt),or=.5*(vt-Pe),Or=Math.sin(or*.5),Kr=8/3*Or*Or/Math.sin(or),Lr=H+wn-Kr*Sn,bi=Y+Sn+Kr*wn,ki=H+Pn,Ds=Y+Hn,ds=ki+Kr*Hn,Xs=Ds-Kr*Pn;return zn[F]=[ge*Lr+Fe*bi,st*Lr+zt*bi,ge*ds+Fe*Xs,st*ds+zt*Xs,ge*ki+Fe*Ds,st*ki+zt*Ds]}let N=["l",0,0,0,0,0,0,0];function V(y,F,H){let Y=N[0]=y[0];if(Y==="a"||Y==="A")N[1]=F*y[1],N[2]=H*y[2],N[3]=y[3],N[4]=y[4],N[5]=y[5],N[6]=F*y[6],N[7]=H*y[7];else if(Y==="h"||Y==="H")N[1]=F*y[1];else if(Y==="v"||Y==="V")N[1]=H*y[1];else for(var Pe=1,vt=y.length;Pe<vt;++Pe)N[Pe]=(Pe%2==1?F:H)*y[Pe];return N}function be(y,F,H,Y,Pe,vt){var x,T=null,$=0,X=0,ge=0,Fe=0,st,zt,wn,Sn,Pn=0,Hn=0;H==null&&(H=0),Y==null&&(Y=0),Pe==null&&(Pe=1),vt==null&&(vt=Pe),y.beginPath&&y.beginPath();for(var or=0,Or=F.length;or<Or;++or){switch(x=F[or],(Pe!==1||vt!==1)&&(x=V(x,Pe,vt)),x[0]){case"l":$+=x[1],X+=x[2],y.lineTo($+H,X+Y);break;case"L":$=x[1],X=x[2],y.lineTo($+H,X+Y);break;case"h":$+=x[1],y.lineTo($+H,X+Y);break;case"H":$=x[1],y.lineTo($+H,X+Y);break;case"v":X+=x[1],y.lineTo($+H,X+Y);break;case"V":X=x[1],y.lineTo($+H,X+Y);break;case"m":$+=x[1],X+=x[2],Pn=$,Hn=X,y.moveTo($+H,X+Y);break;case"M":$=x[1],X=x[2],Pn=$,Hn=X,y.moveTo($+H,X+Y);break;case"c":st=$+x[5],zt=X+x[6],ge=$+x[3],Fe=X+x[4],y.bezierCurveTo($+x[1]+H,X+x[2]+Y,ge+H,Fe+Y,st+H,zt+Y),$=st,X=zt;break;case"C":$=x[5],X=x[6],ge=x[3],Fe=x[4],y.bezierCurveTo(x[1]+H,x[2]+Y,ge+H,Fe+Y,$+H,X+Y);break;case"s":st=$+x[3],zt=X+x[4],ge=2*$-ge,Fe=2*X-Fe,y.bezierCurveTo(ge+H,Fe+Y,$+x[1]+H,X+x[2]+Y,st+H,zt+Y),ge=$+x[1],Fe=X+x[2],$=st,X=zt;break;case"S":st=x[3],zt=x[4],ge=2*$-ge,Fe=2*X-Fe,y.bezierCurveTo(ge+H,Fe+Y,x[1]+H,x[2]+Y,st+H,zt+Y),$=st,X=zt,ge=x[1],Fe=x[2];break;case"q":st=$+x[3],zt=X+x[4],ge=$+x[1],Fe=X+x[2],y.quadraticCurveTo(ge+H,Fe+Y,st+H,zt+Y),$=st,X=zt;break;case"Q":st=x[3],zt=x[4],y.quadraticCurveTo(x[1]+H,x[2]+Y,st+H,zt+Y),$=st,X=zt,ge=x[1],Fe=x[2];break;case"t":st=$+x[1],zt=X+x[2],T[0].match(/[QqTt]/)===null?(ge=$,Fe=X):T[0]==="t"?(ge=2*$-wn,Fe=2*X-Sn):T[0]==="q"&&(ge=2*$-ge,Fe=2*X-Fe),wn=ge,Sn=Fe,y.quadraticCurveTo(ge+H,Fe+Y,st+H,zt+Y),$=st,X=zt,ge=$+x[1],Fe=X+x[2];break;case"T":st=x[1],zt=x[2],ge=2*$-ge,Fe=2*X-Fe,y.quadraticCurveTo(ge+H,Fe+Y,st+H,zt+Y),$=st,X=zt;break;case"a":xe(y,$+H,X+Y,[x[1],x[2],x[3],x[4],x[5],x[6]+$+H,x[7]+X+Y]),$+=x[6],X+=x[7];break;case"A":xe(y,$+H,X+Y,[x[1],x[2],x[3],x[4],x[5],x[6]+H,x[7]+Y]),$=x[6],X=x[7];break;case"z":case"Z":$=Pn,X=Hn,y.closePath();break}T=x}}function xe(y,F,H,Y){let Pe=ze(Y[5],Y[6],Y[0],Y[1],Y[3],Y[4],Y[2],F,H);for(let vt=0;vt<Pe.length;++vt){let x=Dt(Pe[vt]);y.bezierCurveTo(x[0],x[1],x[2],x[3],x[4],x[5])}}let K=.5773502691896257,ae={circle:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(H,0),y.arc(0,0,H,0,Cn)}},cross:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=H/2.5;y.moveTo(-H,-Y),y.lineTo(-H,Y),y.lineTo(-Y,Y),y.lineTo(-Y,H),y.lineTo(Y,H),y.lineTo(Y,Y),y.lineTo(H,Y),y.lineTo(H,-Y),y.lineTo(Y,-Y),y.lineTo(Y,-H),y.lineTo(-Y,-H),y.lineTo(-Y,-Y),y.closePath()}},diamond:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(-H,0),y.lineTo(0,-H),y.lineTo(H,0),y.lineTo(0,H),y.closePath()}},square:{draw:function(y,F){var H=Math.sqrt(F),Y=-H/2;y.rect(Y,Y,H,H)}},arrow:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=H/7,Pe=H/2.5,vt=H/8;y.moveTo(-Y,H),y.lineTo(Y,H),y.lineTo(Y,-vt),y.lineTo(Pe,-vt),y.lineTo(0,-H),y.lineTo(-Pe,-vt),y.lineTo(-Y,-vt),y.closePath()}},wedge:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H,Pe=Y-H*K,vt=H/4;y.moveTo(0,-Y-Pe),y.lineTo(-vt,Y-Pe),y.lineTo(vt,Y-Pe),y.closePath()}},triangle:{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H,Pe=Y-H*K;y.moveTo(0,-Y-Pe),y.lineTo(-H,Y-Pe),y.lineTo(H,Y-Pe),y.closePath()}},"triangle-up":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H;y.moveTo(0,-Y),y.lineTo(-H,Y),y.lineTo(H,Y),y.closePath()}},"triangle-down":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H;y.moveTo(0,Y),y.lineTo(-H,-Y),y.lineTo(H,-Y),y.closePath()}},"triangle-right":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H;y.moveTo(Y,0),y.lineTo(-Y,-H),y.lineTo(-Y,H),y.closePath()}},"triangle-left":{draw:function(y,F){var H=Math.sqrt(F)/2,Y=En*H;y.moveTo(-Y,0),y.lineTo(Y,-H),y.lineTo(Y,H),y.closePath()}},stroke:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(-H,0),y.lineTo(H,0)}}};function fe(y){return e.hasOwnProperty(ae,y)?ae[y]:Mt(y)}var Ge={};function Mt(y){if(!e.hasOwnProperty(Ge,y)){let F=we(y);Ge[y]={draw:function(H,Y){be(H,F,0,0,Math.sqrt(Y)/2)}}}return Ge[y]}let At=.448084975506;function dn(y){return y.x}function w(y){return y.y}function j(y){return y.width}function ee(y){return y.height}function Ee(y){return typeof y=="function"?y:()=>+y}function dt(y,F,H){return Math.max(F,Math.min(y,H))}function Ft(){var y=dn,F=w,H=j,Y=ee,Pe=Ee(0),vt=Pe,x=Pe,T=Pe,$=null;function X(ge,Fe,st){var zt,wn=Fe??+y.call(this,ge),Sn=st??+F.call(this,ge),Pn=+H.call(this,ge),Hn=+Y.call(this,ge),or=Math.min(Pn,Hn)/2,Or=dt(+Pe.call(this,ge),0,or),Kr=dt(+vt.call(this,ge),0,or),Lr=dt(+x.call(this,ge),0,or),bi=dt(+T.call(this,ge),0,or);if($||($=zt=L()),Or<=0&&Kr<=0&&Lr<=0&&bi<=0)$.rect(wn,Sn,Pn,Hn);else{var ki=wn+Pn,Ds=Sn+Hn;$.moveTo(wn+Or,Sn),$.lineTo(ki-Kr,Sn),$.bezierCurveTo(ki-At*Kr,Sn,ki,Sn+At*Kr,ki,Sn+Kr),$.lineTo(ki,Ds-bi),$.bezierCurveTo(ki,Ds-At*bi,ki-At*bi,Ds,ki-bi,Ds),$.lineTo(wn+Lr,Ds),$.bezierCurveTo(wn+At*Lr,Ds,wn,Ds-At*Lr,wn,Ds-Lr),$.lineTo(wn,Sn+Or),$.bezierCurveTo(wn,Sn+At*Or,wn+At*Or,Sn,wn+Or,Sn),$.closePath()}if(zt)return $=null,zt+""||null}return X.x=function(ge){return arguments.length?(y=Ee(ge),X):y},X.y=function(ge){return arguments.length?(F=Ee(ge),X):F},X.width=function(ge){return arguments.length?(H=Ee(ge),X):H},X.height=function(ge){return arguments.length?(Y=Ee(ge),X):Y},X.cornerRadius=function(ge,Fe,st,zt){return arguments.length?(Pe=Ee(ge),vt=Fe!=null?Ee(Fe):Pe,T=st!=null?Ee(st):Pe,x=zt!=null?Ee(zt):vt,X):Pe},X.context=function(ge){return arguments.length?($=ge??null,X):$},X}function Zt(){var y,F,H,Y,Pe=null,vt,x,T,$;function X(Fe,st,zt){let wn=zt/2;if(vt){var Sn=T-st,Pn=Fe-x;if(Sn||Pn){var Hn=Math.sqrt(Sn*Sn+Pn*Pn),or=(Sn/=Hn)*$,Or=(Pn/=Hn)*$,Kr=Math.atan2(Pn,Sn);Pe.moveTo(x-or,T-Or),Pe.lineTo(Fe-Sn*wn,st-Pn*wn),Pe.arc(Fe,st,wn,Kr-Math.PI,Kr),Pe.lineTo(x+or,T+Or),Pe.arc(x,T,$,Kr,Kr+Math.PI)}else Pe.arc(Fe,st,wn,0,Cn);Pe.closePath()}else vt=1;x=Fe,T=st,$=wn}function ge(Fe){var st,zt=Fe.length,wn,Sn=!1,Pn;for(Pe==null&&(Pe=Pn=L()),st=0;st<=zt;++st)!(st<zt&&Y(wn=Fe[st],st,Fe))===Sn&&(Sn=!Sn)&&(vt=0),Sn&&X(+y(wn,st,Fe),+F(wn,st,Fe),+H(wn,st,Fe));if(Pn)return Pe=null,Pn+""||null}return ge.x=function(Fe){return arguments.length?(y=Fe,ge):y},ge.y=function(Fe){return arguments.length?(F=Fe,ge):F},ge.size=function(Fe){return arguments.length?(H=Fe,ge):H},ge.defined=function(Fe){return arguments.length?(Y=Fe,ge):Y},ge.context=function(Fe){return arguments.length?(Fe==null?Pe=null:Pe=Fe,ge):Pe},ge}function Xt(y,F){return y??F}let mn=y=>y.x||0,qn=y=>y.y||0,Un=y=>y.width||0,Vn=y=>y.height||0,Jr=y=>(y.x||0)+(y.width||0),Vr=y=>(y.y||0)+(y.height||0),yr=y=>y.startAngle||0,Mr=y=>y.endAngle||0,xi=y=>y.padAngle||0,ai=y=>y.innerRadius||0,Xi=y=>y.outerRadius||0,Ss=y=>y.cornerRadius||0,ts=y=>Xt(y.cornerRadiusTopLeft,y.cornerRadius)||0,wa=y=>Xt(y.cornerRadiusTopRight,y.cornerRadius)||0,pa=y=>Xt(y.cornerRadiusBottomRight,y.cornerRadius)||0,xl=y=>Xt(y.cornerRadiusBottomLeft,y.cornerRadius)||0,Oc=y=>Xt(y.size,64),lu=y=>y.size||1,cu=y=>y.defined!==!1,Ju=y=>fe(y.shape||"circle"),Fu=Je().startAngle(yr).endAngle(Mr).padAngle(xi).innerRadius(ai).outerRadius(Xi).cornerRadius(Ss),Rc=rn().x(mn).y1(qn).y0(Vr).defined(cu),ea=rn().y(qn).x1(mn).x0(Jr).defined(cu),Xu=Ot().x(mn).y(qn).defined(cu),ef=Ft().x(mn).y(qn).width(Un).height(Vn).cornerRadius(ts,wa,pa,xl),Ye=_e().type(Ju).size(Oc),Kt=Zt().x(mn).y(qn).defined(cu).size(lu);function Bn(y){return y.cornerRadius||y.cornerRadiusTopLeft||y.cornerRadiusTopRight||y.cornerRadiusBottomRight||y.cornerRadiusBottomLeft}function Yn(y,F){return Fu.context(y)(F)}function ri(y,F){let H=F[0],Y=H.interpolate||"linear";return(H.orient==="horizontal"?ea:Rc).curve(Te(Y,H.orient,H.tension)).context(y)(F)}function Br(y,F){let H=F[0],Y=H.interpolate||"linear";return Xu.curve(Te(Y,H.orient,H.tension)).context(y)(F)}function Xr(y,F,H,Y){return ef.context(y)(F,H,Y)}function Cs(y,F){return(F.mark.shape||F.shape).context(y)(F)}function co(y,F){return Ye.context(y)(F)}function ro(y,F){return Kt.context(y)(F)}var us=1;function io(){us=1}function fo(y,F,H){var Y=F.clip,Pe=y._defs,vt=F.clip_id||(F.clip_id="clip"+us++),x=Pe.clipping[vt]||(Pe.clipping[vt]={id:vt});return e.isFunction(Y)?x.path=Y(null):Bn(H)?x.path=Xr(null,H,0,0):(x.width=H.width||0,x.height=H.height||0),"url(#"+vt+")"}function hi(y){this.clear(),y&&this.union(y)}hi.prototype={clone(){return new hi(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(y){return this.x1===y.x1&&this.y1===y.y1&&this.x2===y.x2&&this.y2===y.y2},set(y,F,H,Y){return H<y?(this.x2=y,this.x1=H):(this.x1=y,this.x2=H),Y<F?(this.y2=F,this.y1=Y):(this.y1=F,this.y2=Y),this},add(y,F){return y<this.x1&&(this.x1=y),F<this.y1&&(this.y1=F),y>this.x2&&(this.x2=y),F>this.y2&&(this.y2=F),this},expand(y){return this.x1-=y,this.y1-=y,this.x2+=y,this.y2+=y,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(y){return this.x1*=y,this.y1*=y,this.x2*=y,this.y2*=y,this},translate(y,F){return this.x1+=y,this.x2+=y,this.y1+=F,this.y2+=F,this},rotate(y,F,H){let Y=this.rotatedPoints(y,F,H);return this.clear().add(Y[0],Y[1]).add(Y[2],Y[3]).add(Y[4],Y[5]).add(Y[6],Y[7])},rotatedPoints(y,F,H){var{x1:Y,y1:Pe,x2:vt,y2:x}=this,T=Math.cos(y),$=Math.sin(y),X=F-F*T+H*$,ge=H-F*$-H*T;return[T*Y-$*Pe+X,$*Y+T*Pe+ge,T*Y-$*x+X,$*Y+T*x+ge,T*vt-$*Pe+X,$*vt+T*Pe+ge,T*vt-$*x+X,$*vt+T*x+ge]},union(y){return y.x1<this.x1&&(this.x1=y.x1),y.y1<this.y1&&(this.y1=y.y1),y.x2>this.x2&&(this.x2=y.x2),y.y2>this.y2&&(this.y2=y.y2),this},intersect(y){return y.x1>this.x1&&(this.x1=y.x1),y.y1>this.y1&&(this.y1=y.y1),y.x2<this.x2&&(this.x2=y.x2),y.y2<this.y2&&(this.y2=y.y2),this},encloses(y){return y&&this.x1<=y.x1&&this.x2>=y.x2&&this.y1<=y.y1&&this.y2>=y.y2},alignsWith(y){return y&&(this.x1==y.x1||this.x2==y.x2||this.y1==y.y1||this.y2==y.y2)},intersects(y){return y&&!(this.x2<y.x1||this.x1>y.x2||this.y2<y.y1||this.y1>y.y2)},contains(y,F){return!(y<this.x1||y>this.x2||F<this.y1||F>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Ei(y){this.mark=y,this.bounds=this.bounds||new hi}function Wi(y){Ei.call(this,y),this.items=this.items||[]}e.inherits(Wi,Ei);function Jo(y){this._pending=0,this._loader=y||r.loader()}function fa(y){y._pending+=1}function da(y){y._pending-=1}Jo.prototype={pending(){return this._pending},sanitizeURL(y){let F=this;return fa(F),F._loader.sanitize(y,{context:"href"}).then(H=>(da(F),H)).catch(()=>(da(F),null))},loadImage(y){let F=this,H=t.image();return fa(F),F._loader.sanitize(y,{context:"image"}).then(Y=>{let Pe=Y.href;if(!Pe||!H)throw{url:Pe};let vt=new H,x=e.hasOwnProperty(Y,"crossOrigin")?Y.crossOrigin:"anonymous";return x!=null&&(vt.crossOrigin=x),vt.onload=()=>da(F),vt.onerror=()=>da(F),vt.src=Pe,vt}).catch(Y=>(da(F),{complete:!1,width:0,height:0,src:Y&&Y.url||""}))},ready(){let y=this;return new Promise(F=>{function H(Y){y.pending()?setTimeout(()=>{H(!0)},10):F(Y)}H(!1)})}};function ho(y,F,H){if(F.stroke&&F.opacity!==0&&F.strokeOpacity!==0){let Y=F.strokeWidth!=null?+F.strokeWidth:1;y.expand(Y+(H?ls(F,Y):0))}return y}function ls(y,F){return y.strokeJoin&&y.strokeJoin!=="miter"?0:F}let ps=Cn-1e-8,Zi,fu,Ms,ma,oa,Ri,Vo,vs,Ii=(y,F)=>Zi.add(y,F),Do=(y,F)=>Ii(fu=y,Ms=F),Na=y=>Ii(y,Zi.y1),Ka=y=>Ii(Zi.x1,y),Oo=(y,F)=>oa*y+Vo*F,Ao=(y,F)=>Ri*y+vs*F,qa=(y,F)=>Ii(Oo(y,F),Ao(y,F)),du=(y,F)=>Do(Oo(y,F),Ao(y,F));function Ua(y,F){return Zi=y,F?(ma=F*it,oa=vs=Math.cos(ma),Ri=Math.sin(ma),Vo=-Ri):(oa=vs=1,ma=Ri=Vo=0),aa}let aa={beginPath(){},closePath(){},moveTo:du,lineTo:du,rect(y,F,H,Y){ma?(qa(y+H,F),qa(y+H,F+Y),qa(y,F+Y),du(y,F)):(Ii(y+H,F+Y),Do(y,F))},quadraticCurveTo(y,F,H,Y){let Pe=Oo(y,F),vt=Ao(y,F),x=Oo(H,Y),T=Ao(H,Y);ua(fu,Pe,x,Na),ua(Ms,vt,T,Ka),Do(x,T)},bezierCurveTo(y,F,H,Y,Pe,vt){let x=Oo(y,F),T=Ao(y,F),$=Oo(H,Y),X=Ao(H,Y),ge=Oo(Pe,vt),Fe=Ao(Pe,vt);gl(fu,x,$,ge,Na),gl(Ms,T,X,Fe,Ka),Do(ge,Fe)},arc(y,F,H,Y,Pe,vt){if(Y+=ma,Pe+=ma,fu=H*Math.cos(Pe)+y,Ms=H*Math.sin(Pe)+F,Math.abs(Pe-Y)>ps)Ii(y-H,F-H),Ii(y+H,F+H);else{let x=X=>Ii(H*Math.cos(X)+y,H*Math.sin(X)+F),T,$;if(x(Y),x(Pe),Pe!==Y)if(Y=Y%Cn,Y<0&&(Y+=Cn),Pe=Pe%Cn,Pe<0&&(Pe+=Cn),Pe<Y&&(vt=!vt,T=Y,Y=Pe,Pe=T),vt)for(Pe-=Cn,T=Y-Y%sn,$=0;$<4&&T>Pe;++$,T-=sn)x(T);else for(T=Y-Y%sn+sn,$=0;$<4&&T<Pe;++$,T=T+sn)x(T)}}};function ua(y,F,H,Y){let Pe=(y-F)/(y+H-2*F);0<Pe&&Pe<1&&Y(y+(F-y)*Pe)}function gl(y,F,H,Y,Pe){let vt=Y-y+3*F-3*H,x=y+H-2*F,T=y-F,$=0,X=0,ge;Math.abs(vt)>Ut?(ge=x*x+T*vt,ge>=0&&(ge=Math.sqrt(ge),$=(-x+ge)/vt,X=(-x-ge)/vt)):$=.5*T/x,0<$&&$<1&&Pe($l($,y,F,H,Y)),0<X&&X<1&&Pe($l(X,y,F,H,Y))}function $l(y,F,H,Y,Pe){let vt=1-y,x=vt*vt,T=y*y;return x*vt*F+3*x*y*H+3*vt*T*Y+T*y*Pe}var ta=(ta=t.canvas(1,1))?ta.getContext("2d"):null;let Zu=new hi;function ui(y){return function(F,H){if(!ta)return!0;y(ta,F),Zu.clear().union(F.bounds).intersect(H).round();let{x1:Y,y1:Pe,x2:vt,y2:x}=Zu;for(let T=Pe;T<=x;++T)for(let $=Y;$<=vt;++$)if(ta.isPointInPath($,T))return!0;return!1}}function rs(y,F){return F.contains(y.x||0,y.y||0)}function cs(y,F){let H=y.x||0,Y=y.y||0,Pe=y.width||0,vt=y.height||0;return F.intersects(Zu.set(H,Y,H+Pe,Y+vt))}function mr(y,F){let H=y.x||0,Y=y.y||0,Pe=y.x2!=null?y.x2:H,vt=y.y2!=null?y.y2:Y;return is(F,H,Y,Pe,vt)}function is(y,F,H,Y,Pe){let{x1:vt,y1:x,x2:T,y2:$}=y,X=Y-F,ge=Pe-H,Fe=0,st=1,zt,wn,Sn,Pn;for(Pn=0;Pn<4;++Pn){if(Pn===0&&(zt=-X,wn=-(vt-F)),Pn===1&&(zt=X,wn=T-F),Pn===2&&(zt=-ge,wn=-(x-H)),Pn===3&&(zt=ge,wn=$-H),Math.abs(zt)<1e-10&&wn<0)return!1;if(Sn=wn/zt,zt<0){if(Sn>st)return!1;Sn>Fe&&(Fe=Sn)}else if(zt>0){if(Sn<Fe)return!1;Sn<st&&(st=Sn)}}return!0}function Me(y,F){y.globalCompositeOperation=F.blend||"source-over"}function gt(y,F){return y??F}function Jt(y,F){let H=F.length;for(let Y=0;Y<H;++Y)y.addColorStop(F[Y].offset,F[Y].color);return y}function $t(y,F,H){let Y=H.width(),Pe=H.height(),vt;if(F.gradient==="radial")vt=y.createRadialGradient(H.x1+gt(F.x1,.5)*Y,H.y1+gt(F.y1,.5)*Pe,Math.max(Y,Pe)*gt(F.r1,0),H.x1+gt(F.x2,.5)*Y,H.y1+gt(F.y2,.5)*Pe,Math.max(Y,Pe)*gt(F.r2,.5));else{let x=gt(F.x1,0),T=gt(F.y1,0),$=gt(F.x2,1),X=gt(F.y2,0);if(x===$||T===X||Y===Pe)vt=y.createLinearGradient(H.x1+x*Y,H.y1+T*Pe,H.x1+$*Y,H.y1+X*Pe);else{let ge=t.canvas(Math.ceil(Y),Math.ceil(Pe)),Fe=ge.getContext("2d");return Fe.scale(Y,Pe),Fe.fillStyle=Jt(Fe.createLinearGradient(x,T,$,X),F.stops),Fe.fillRect(0,0,Y,Pe),y.createPattern(ge,"no-repeat")}}return Jt(vt,F.stops)}function pn(y,F,H){return l(H)?$t(y,H,F.bounds):H}function Ln(y,F,H){return H*=F.fillOpacity==null?1:F.fillOpacity,H>0?(y.globalAlpha=H,y.fillStyle=pn(y,F,F.fill),!0):!1}var Kn=[];function $n(y,F,H){var Y=(Y=F.strokeWidth)!=null?Y:1;return Y<=0?!1:(H*=F.strokeOpacity==null?1:F.strokeOpacity,H>0?(y.globalAlpha=H,y.strokeStyle=pn(y,F,F.stroke),y.lineWidth=Y,y.lineCap=F.strokeCap||"butt",y.lineJoin=F.strokeJoin||"miter",y.miterLimit=F.strokeMiterLimit||10,y.setLineDash&&(y.setLineDash(F.strokeDash||Kn),y.lineDashOffset=F.strokeDashOffset||0),!0):!1)}function br(y,F){return y.zindex-F.zindex||y.index-F.index}function Cr(y){if(!y.zdirty)return y.zitems;var F=y.items,H=[],Y,Pe,vt;for(Pe=0,vt=F.length;Pe<vt;++Pe)Y=F[Pe],Y.index=Pe,Y.zindex&&H.push(Y);return y.zdirty=!1,y.zitems=H.sort(br)}function Gn(y,F){var H=y.items,Y,Pe;if(!H||!H.length)return;let vt=Cr(y);if(vt&&vt.length){for(Y=0,Pe=H.length;Y<Pe;++Y)H[Y].zindex||F(H[Y]);H=vt}for(Y=0,Pe=H.length;Y<Pe;++Y)F(H[Y])}function ar(y,F){var H=y.items,Y,Pe;if(!H||!H.length)return null;let vt=Cr(y);for(vt&&vt.length&&(H=vt),Pe=H.length;--Pe>=0;)if(Y=F(H[Pe]))return Y;if(H===vt){for(H=y.items,Pe=H.length;--Pe>=0;)if(!H[Pe].zindex&&(Y=F(H[Pe])))return Y}return null}function er(y){return function(F,H,Y){Gn(H,Pe=>{(!Y||Y.intersects(Pe.bounds))&&Rr(y,F,Pe,Pe)})}}function gr(y){return function(F,H,Y){H.items.length&&(!Y||Y.intersects(H.bounds))&&Rr(y,F,H.items[0],H.items)}}function Rr(y,F,H,Y){var Pe=H.opacity==null?1:H.opacity;Pe!==0&&(y(F,Y)||(Me(F,H),H.fill&&Ln(F,H,Pe)&&F.fill(),H.stroke&&$n(F,H,Pe)&&F.stroke()))}function di(y){return y=y||e.truthy,function(F,H,Y,Pe,vt,x){return Y*=F.pixelRatio,Pe*=F.pixelRatio,ar(H,T=>{let $=T.bounds;if(!($&&!$.contains(vt,x)||!$)&&y(F,T,Y,Pe,vt,x))return T})}}function ni(y,F){return function(H,Y,Pe,vt){var x=Array.isArray(Y)?Y[0]:Y,T=F??x.fill,$=x.stroke&&H.isPointInStroke,X,ge;return $&&(X=x.strokeWidth,ge=x.strokeCap,H.lineWidth=X??1,H.lineCap=ge??"butt"),y(H,Y)?!1:T&&H.isPointInPath(Pe,vt)||$&&H.isPointInStroke(Pe,vt)}}function pi(y){return di(ni(y))}function ii(y,F){return"translate("+y+","+F+")"}function qr(y){return"rotate("+y+")"}function Ir(y,F){return"scale("+y+","+F+")"}function yi(y){return ii(y.x||0,y.y||0)}function gi(y){return ii(y.x||0,y.y||0)+(y.angle?" "+qr(y.angle):"")}function os(y){return ii(y.x||0,y.y||0)+(y.angle?" "+qr(y.angle):"")+(y.scaleX||y.scaleY?" "+Ir(y.scaleX||1,y.scaleY||1):"")}function xs(y,F,H){function Y(x,T){x("transform",gi(T)),x("d",F(null,T))}function Pe(x,T){return F(Ua(x,T.angle),T),ho(x,T).translate(T.x||0,T.y||0)}function vt(x,T){var $=T.x||0,X=T.y||0,ge=T.angle||0;x.translate($,X),ge&&x.rotate(ge*=it),x.beginPath(),F(x,T),ge&&x.rotate(-ge),x.translate(-$,-X)}return{type:y,tag:"path",nested:!1,attr:Y,bound:Pe,draw:er(vt),pick:pi(vt),isect:H||ui(vt)}}var vi=xs("arc",Yn);function Ps(y,F){for(var H=y[0].orient==="horizontal"?F[1]:F[0],Y=y[0].orient==="horizontal"?"y":"x",Pe=y.length,vt=1/0,x,T;--Pe>=0;)y[Pe].defined!==!1&&(T=Math.abs(y[Pe][Y]-H),T<vt&&(vt=T,x=y[Pe]));return x}function ss(y,F){for(var H=Math.pow(y[0].strokeWidth||1,2),Y=y.length,Pe,vt,x;--Y>=0;)if(y[Y].defined!==!1&&(Pe=y[Y].x-F[0],vt=y[Y].y-F[1],x=Pe*Pe+vt*vt,x<H))return y[Y];return null}function xa(y,F){for(var H=y.length,Y,Pe,vt;--H>=0;)if(y[H].defined!==!1&&(Y=y[H].x-F[0],Pe=y[H].y-F[1],vt=Y*Y+Pe*Pe,Y=y[H].size||1,vt<Y*Y))return y[H];return null}function Ro(y,F,H){function Y($,X){var ge=X.mark.items;ge.length&&$("d",F(null,ge))}function Pe($,X){var ge=X.items;return ge.length===0?$:(F(Ua($),ge),ho($,ge[0]))}function vt($,X){$.beginPath(),F($,X)}let x=ni(vt);function T($,X,ge,Fe,st,zt){var wn=X.items,Sn=X.bounds;return!wn||!wn.length||Sn&&!Sn.contains(st,zt)?null:(ge*=$.pixelRatio,Fe*=$.pixelRatio,x($,wn,ge,Fe)?wn[0]:null)}return{type:y,tag:"path",nested:!0,attr:Y,bound:Pe,draw:gr(vt),pick:T,isect:rs,tip:H}}var As=Ro("area",ri,Ps);function tn(y,F){var H=F.clip;y.save(),e.isFunction(H)?(y.beginPath(),H(y),y.clip()):Jn(y,F.group)}function Jn(y,F){y.beginPath(),Bn(F)?Xr(y,F,0,0):y.rect(0,0,F.width||0,F.height||0),y.clip()}function bn(y){let F=gt(y.strokeWidth,1);return y.strokeOffset!=null?y.strokeOffset:y.stroke&&F>.5&&F<1.5?.5-Math.abs(F-1):0}function Yr(y,F){y("transform",yi(F))}function Ti(y,F){let H=bn(F);y("d",Xr(null,F,H,H))}function ns(y,F){y("class","background"),y("aria-hidden",!0),Ti(y,F)}function ms(y,F){y("class","foreground"),y("aria-hidden",!0),F.strokeForeground?Ti(y,F):y("d","")}function Hi(y,F,H){let Y=F.clip?fo(H,F,F):null;y("clip-path",Y)}function fs(y,F){if(!F.clip&&F.items){let H=F.items,Y=H.length;for(let Pe=0;Pe<Y;++Pe)y.union(H[Pe].bounds)}return(F.clip||F.width||F.height)&&!F.noBound&&y.add(0,0).add(F.width||0,F.height||0),ho(y,F),y.translate(F.x||0,F.y||0)}function hu(y,F,H,Y){let Pe=bn(F);y.beginPath(),Xr(y,F,(H||0)+Pe,(Y||0)+Pe)}let le=ni(hu),at=ni(hu,!1),en=ni(hu,!0);function Dn(y,F,H){Gn(F,Y=>{let Pe=Y.x||0,vt=Y.y||0,x=Y.strokeForeground,T=Y.opacity==null?1:Y.opacity;(Y.stroke||Y.fill)&&T&&(hu(y,Y,Pe,vt),Me(y,Y),Y.fill&&Ln(y,Y,T)&&y.fill(),Y.stroke&&!x&&$n(y,Y,T)&&y.stroke()),y.save(),y.translate(Pe,vt),Y.clip&&Jn(y,Y),H&&H.translate(-Pe,-vt),Gn(Y,$=>{this.draw(y,$,H)}),H&&H.translate(Pe,vt),y.restore(),x&&Y.stroke&&T&&(hu(y,Y,Pe,vt),Me(y,Y),$n(y,Y,T)&&y.stroke())})}function ir(y,F,H,Y,Pe,vt){if(F.bounds&&!F.bounds.contains(Pe,vt)||!F.items)return null;let x=H*y.pixelRatio,T=Y*y.pixelRatio;return ar(F,$=>{let X,ge,Fe,st=$.bounds;if(st&&!st.contains(Pe,vt))return;ge=$.x||0,Fe=$.y||0;let zt=ge+($.width||0),wn=Fe+($.height||0),Sn=$.clip;if(Sn&&(Pe<ge||Pe>zt||vt<Fe||vt>wn))return;if(y.save(),y.translate(ge,Fe),ge=Pe-ge,Fe=vt-Fe,Sn&&Bn($)&&!en(y,$,x,T))return y.restore(),null;let Pn=$.strokeForeground,Hn=F.interactive!==!1;return Hn&&Pn&&$.stroke&&at(y,$,x,T)?(y.restore(),$):(X=ar($,or=>vr(or,ge,Fe)?this.pick(or,H,Y,ge,Fe):null),!X&&Hn&&($.fill||!Pn&&$.stroke)&&le(y,$,x,T)&&(X=$),y.restore(),X||null)})}function vr(y,F,H){return(y.interactive!==!1||y.marktype==="group")&&y.bounds&&y.bounds.contains(F,H)}var fr={type:"group",tag:"g",nested:!1,attr:Yr,bound:fs,draw:Dn,pick:ir,isect:cs,content:Hi,background:ns,foreground:ms},es={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function _s(y,F){var H=y.image;return(!H||y.url&&y.url!==H.url)&&(H={complete:!1,width:0,height:0},F.loadImage(y.url).then(Y=>{y.image=Y,y.image.url=y.url})),H}function Ns(y,F){return y.width!=null?y.width:!F||!F.width?0:y.aspect!==!1&&y.height?y.height*F.width/F.height:F.width}function so(y,F){return y.height!=null?y.height:!F||!F.height?0:y.aspect!==!1&&y.width?y.width*F.height/F.width:F.height}function Ja(y,F){return y==="center"?F/2:y==="right"?F:0}function rc(y,F){return y==="middle"?F/2:y==="bottom"?F:0}function tf(y,F,H){let Y=_s(F,H),Pe=Ns(F,Y),vt=so(F,Y),x=(F.x||0)-Ja(F.align,Pe),T=(F.y||0)-rc(F.baseline,vt),$=!Y.src&&Y.toDataURL?Y.toDataURL():Y.src||"";y("href",$,es["xmlns:xlink"],"xlink:href"),y("transform",ii(x,T)),y("width",Pe),y("height",vt),y("preserveAspectRatio",F.aspect===!1?"none":"xMidYMid")}function Nc(y,F){let H=F.image,Y=Ns(F,H),Pe=so(F,H),vt=(F.x||0)-Ja(F.align,Y),x=(F.y||0)-rc(F.baseline,Pe);return y.set(vt,x,vt+Y,x+Pe)}function o0(y,F,H){Gn(F,Y=>{if(H&&!H.intersects(Y.bounds))return;let Pe=_s(Y,this),vt=Ns(Y,Pe),x=so(Y,Pe);if(vt===0||x===0)return;let T=(Y.x||0)-Ja(Y.align,vt),$=(Y.y||0)-rc(Y.baseline,x),X,ge,Fe,st;Y.aspect!==!1&&(ge=Pe.width/Pe.height,Fe=Y.width/Y.height,ge===ge&&Fe===Fe&&ge!==Fe&&(Fe<ge?(st=vt/ge,$+=(x-st)/2,x=st):(st=x*ge,T+=(vt-st)/2,vt=st))),(Pe.complete||Pe.toDataURL)&&(Me(y,Y),y.globalAlpha=(X=Y.opacity)!=null?X:1,y.imageSmoothingEnabled=Y.smooth!==!1,y.drawImage(Pe,T,$,vt,x))})}var V0={type:"image",tag:"image",nested:!1,attr:tf,bound:Nc,draw:o0,pick:di(),isect:e.truthy,get:_s,xOffset:Ja,yOffset:rc},ic=Ro("line",Br,ss);function nf(y,F){var H=F.scaleX||1,Y=F.scaleY||1;(H!==1||Y!==1)&&y("vector-effect","non-scaling-stroke"),y("transform",os(F)),y("d",F.path)}function a0(y,F){var H=F.path;if(H==null)return!0;var Y=F.x||0,Pe=F.y||0,vt=F.scaleX||1,x=F.scaleY||1,T=(F.angle||0)*it,$=F.pathCache;(!$||$.path!==H)&&((F.pathCache=$=we(H)).path=H),T&&y.rotate&&y.translate?(y.translate(Y,Pe),y.rotate(T),be(y,$,0,0,vt,x),y.rotate(-T),y.translate(-Y,-Pe)):be(y,$,Y,Pe,vt,x)}function yl(y,F){return a0(Ua(y,F.angle),F)?y.set(0,0,0,0):ho(y,F,!0)}var Lc={type:"path",tag:"path",nested:!1,attr:nf,bound:yl,draw:er(a0),pick:pi(a0),isect:ui(a0)};function u0(y,F){y("d",Xr(null,F))}function sc(y,F){var H,Y;return ho(y.set(H=F.x||0,Y=F.y||0,H+F.width||0,Y+F.height||0),F)}function zl(y,F){y.beginPath(),Xr(y,F)}var W0={type:"rect",tag:"path",nested:!1,attr:u0,bound:sc,draw:er(zl),pick:pi(zl),isect:cs};function Ah(y,F){y("transform",yi(F)),y("x2",F.x2!=null?F.x2-(F.x||0):0),y("y2",F.y2!=null?F.y2-(F.y||0):0)}function Q0(y,F){var H,Y;return ho(y.set(H=F.x||0,Y=F.y||0,F.x2!=null?F.x2:H,F.y2!=null?F.y2:Y),F)}function G0(y,F,H){var Y,Pe,vt,x;return F.stroke&&$n(y,F,H)?(Y=F.x||0,Pe=F.y||0,vt=F.x2!=null?F.x2:Y,x=F.y2!=null?F.y2:Pe,y.beginPath(),y.moveTo(Y,Pe),y.lineTo(vt,x),!0):!1}function rf(y,F,H){Gn(F,Y=>{if(!(H&&!H.intersects(Y.bounds))){var Pe=Y.opacity==null?1:Y.opacity;Pe&&G0(y,Y,Pe)&&(Me(y,Y),y.stroke())}})}function Y0(y,F,H,Y){return y.isPointInStroke?G0(y,F,1)&&y.isPointInStroke(H,Y):!1}var kc={type:"rule",tag:"line",nested:!1,attr:Ah,bound:Q0,draw:rf,pick:di(Y0),isect:mr},l0=xs("shape",Cs),c0=xs("symbol",co,rs);let f0=e.lruCache();var qo={height:Du,measureWidth:sf,estimateWidth:d0,width:d0,canvas:Xo};Xo(!0);function Xo(y){qo.width=y&&ta?sf:d0}function d0(y,F){return vl(bl(y,F),Du(y))}function vl(y,F){return~~(.8*y.length*F)}function sf(y,F){return Du(y)<=0||!(F=bl(y,F))?0:Bd(F,kt(y))}function Bd(y,F){let H=`(${F}) ${y}`,Y=f0.get(H);return Y===void 0&&(ta.font=F,Y=ta.measureText(y).width,f0.set(H,Y)),Y}function Du(y){return y.fontSize!=null?+y.fontSize||0:11}function vo(y){return y.lineHeight!=null?y.lineHeight:Du(y)+2}function Th(y){return e.isArray(y)?y.length>1?y:y[0]:y}function _l(y){return Th(y.lineBreak&&y.text&&!e.isArray(y.text)?y.text.split(y.lineBreak):y.text)}function ks(y){let F=_l(y);return(e.isArray(F)?F.length-1:0)*vo(y)}function bl(y,F){let H=F==null?"":(F+"").trim();return y.limit>0&&H.length?Z(y,H):H}function k(y){if(qo.width===sf){let F=kt(y);return H=>Bd(H,F)}else{let F=Du(y);return H=>vl(H,F)}}function Z(y,F){var H=+y.limit,Y=k(y);if(Y(F)<H)return F;var Pe=y.ellipsis||"\u2026",vt=y.dir==="rtl",x=0,T=F.length,$;if(H-=Y(Pe),vt){for(;x<T;)$=x+T>>>1,Y(F.slice($))>H?x=$+1:T=$;return Pe+F.slice(x)}else{for(;x<T;)$=1+(x+T>>>1),Y(F.slice(0,$))<H?x=$:T=$-1;return F.slice(0,x)+Pe}}function qe(y,F){var H=y.font;return(F&&H?String(H).replace(/"/g,"'"):H)||"sans-serif"}function kt(y,F){return(y.fontStyle?y.fontStyle+" ":"")+(y.fontVariant?y.fontVariant+" ":"")+(y.fontWeight?y.fontWeight+" ":"")+Du(y)+"px "+qe(y,F)}function Vt(y){var F=y.baseline,H=Du(y);return Math.round(F==="top"?.79*H:F==="middle"?.3*H:F==="bottom"?-.21*H:F==="line-top"?.29*H+.5*vo(y):F==="line-bottom"?.29*H-.5*vo(y):0)}let An={left:"start",center:"middle",right:"end"},kn=new hi;function sr(y){var F=y.x||0,H=y.y||0,Y=y.radius||0,Pe;return Y&&(Pe=(y.theta||0)-sn,F+=Y*Math.cos(Pe),H+=Y*Math.sin(Pe)),kn.x1=F,kn.y1=H,kn}function hr(y,F){var H=F.dx||0,Y=(F.dy||0)+Vt(F),Pe=sr(F),vt=Pe.x1,x=Pe.y1,T=F.angle||0,$;y("text-anchor",An[F.align]||"start"),T?($=ii(vt,x)+" "+qr(T),(H||Y)&&($+=" "+ii(H,Y))):$=ii(vt+H,x+Y),y("transform",$)}function Nr(y,F,H){var Y=qo.height(F),Pe=F.align,vt=sr(F),x=vt.x1,T=vt.y1,$=F.dx||0,X=(F.dy||0)+Vt(F)-Math.round(.8*Y),ge=_l(F),Fe;if(e.isArray(ge)?(Y+=vo(F)*(ge.length-1),Fe=ge.reduce((st,zt)=>Math.max(st,qo.width(F,zt)),0)):Fe=qo.width(F,ge),Pe==="center"?$-=Fe/2:Pe==="right"&&($-=Fe),y.set($+=x,X+=T,$+Fe,X+Y),F.angle&&!H)y.rotate(F.angle*it,x,T);else if(H===2)return y.rotatedPoints(F.angle*it,x,T);return y}function rt(y,F,H){Gn(F,Y=>{var Pe=Y.opacity==null?1:Y.opacity,vt,x,T,$,X,ge,Fe;if(!(H&&!H.intersects(Y.bounds)||Pe===0||Y.fontSize<=0||Y.text==null||Y.text.length===0)){if(y.font=kt(Y),y.textAlign=Y.align||"left",vt=sr(Y),x=vt.x1,T=vt.y1,Y.angle&&(y.save(),y.translate(x,T),y.rotate(Y.angle*it),x=T=0),x+=Y.dx||0,T+=(Y.dy||0)+Vt(Y),ge=_l(Y),Me(y,Y),e.isArray(ge))for(X=vo(Y),$=0;$<ge.length;++$)Fe=bl(Y,ge[$]),Y.fill&&Ln(y,Y,Pe)&&y.fillText(Fe,x,T),Y.stroke&&$n(y,Y,Pe)&&y.strokeText(Fe,x,T),T+=X;else Fe=bl(Y,ge),Y.fill&&Ln(y,Y,Pe)&&y.fillText(Fe,x,T),Y.stroke&&$n(y,Y,Pe)&&y.strokeText(Fe,x,T);Y.angle&&y.restore()}})}function Fi(y,F,H,Y,Pe,vt){if(F.fontSize<=0)return!1;if(!F.angle)return!0;var x=sr(F),T=x.x1,$=x.y1,X=Nr(kn,F,1),ge=-F.angle*it,Fe=Math.cos(ge),st=Math.sin(ge),zt=Fe*Pe-st*vt+(T-Fe*T+st*$),wn=st*Pe+Fe*vt+($-st*T-Fe*$);return X.contains(zt,wn)}function Qi(y,F){let H=Nr(kn,y,2);return is(F,H[0],H[1],H[2],H[3])||is(F,H[0],H[1],H[4],H[5])||is(F,H[4],H[5],H[6],H[7])||is(F,H[2],H[3],H[6],H[7])}var Li={type:"text",tag:"text",nested:!1,attr:hr,bound:Nr,draw:rt,pick:di(Fi),isect:Qi},Qr=Ro("trail",ro,xa),Gs={arc:vi,area:As,group:fr,image:V0,line:ic,path:Lc,rect:W0,rule:kc,shape:l0,symbol:c0,text:Li,trail:Qr};function Uo(y,F,H){var Y=Gs[y.mark.marktype],Pe=F||Y.bound;return Y.nested&&(y=y.mark),Pe(y.bounds||(y.bounds=new hi),y,H)}var ga={mark:null};function po(y,F,H){var Y=Gs[y.marktype],Pe=Y.bound,vt=y.items,x=vt&&vt.length,T,$,X,ge;if(Y.nested)return x?X=vt[0]:(ga.mark=y,X=ga),ge=Uo(X,Pe,H),F=F&&F.union(ge)||ge,F;if(F=F||y.bounds&&y.bounds.clear()||new hi,x)for(T=0,$=vt.length;T<$;++T)F.union(Uo(vt[T],Pe,H));return y.bounds=F}let La=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function oc(y,F){return JSON.stringify(y,La,F)}function Hl(y){let F=typeof y=="string"?JSON.parse(y):y;return ka(F)}function ka(y){var F=y.marktype,H=y.items,Y,Pe,vt;if(H)for(Pe=0,vt=H.length;Pe<vt;++Pe)Y=F?"mark":"group",H[Pe][Y]=y,H[Pe].zindex&&(H[Pe][Y].zdirty=!0),(F||Y)==="group"&&ka(H[Pe]);return F&&po(y),y}function ac(y){arguments.length?this.root=Hl(y):(this.root=ya({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Wi(this.root)])}ac.prototype={toJSON(y){return oc(this.root,y||0)},mark(y,F,H){F=F||this.root.items[0];let Y=ya(y,F);return F.items[H]=Y,Y.zindex&&(Y.group.zdirty=!0),Y}};function ya(y,F){let H={bounds:new hi,clip:!!y.clip,group:F,interactive:y.interactive!==!1,items:[],marktype:y.marktype,name:y.name||void 0,role:y.role||void 0,zindex:y.zindex||0};return y.aria!=null&&(H.aria=y.aria),y.description&&(H.description=y.description),H}function of(y,F,H){return!y&&typeof document!="undefined"&&document.createElement&&(y=document),y?H?y.createElementNS(H,F):y.createElement(F):null}function af(y,F){F=F.toLowerCase();for(var H=y.childNodes,Y=0,Pe=H.length;Y<Pe;++Y)if(H[Y].tagName.toLowerCase()===F)return H[Y]}function el(y,F,H,Y){var Pe=y.childNodes[F],vt;return(!Pe||Pe.tagName.toLowerCase()!==H.toLowerCase())&&(vt=Pe||null,Pe=of(y.ownerDocument,H,Y),y.insertBefore(Pe,vt)),Pe}function uc(y,F){for(var H=y.childNodes,Y=H.length;Y>F;)y.removeChild(H[--Y]);return y}function j1(y){return"mark-"+y.marktype+(y.role?" role-"+y.role:"")+(y.name?" "+y.name:"")}function Ic(y,F){let H=F.getBoundingClientRect();return[y.clientX-H.left-(F.clientLeft||0),y.clientY-H.top-(F.clientTop||0)]}function Xm(y,F,H,Y){var Pe=y&&y.mark,vt,x;if(Pe&&(vt=Gs[Pe.marktype]).tip){for(x=Ic(F,H),x[0]-=Y[0],x[1]-=Y[1];y=y.mark.group;)x[0]-=y.x||0,x[1]-=y.y||0;y=vt.tip(Pe.items,x)}return y}function Vl(y,F){this._active=null,this._handlers={},this._loader=y||r.loader(),this._tooltip=F||Df}function Df(y,F,H,Y){y.element().setAttribute("title",Y||"")}Vl.prototype={initialize(y,F,H){return this._el=y,this._obj=H||null,this.origin(F)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(y){return arguments.length?(this._origin=y||[0,0],this):this._origin.slice()},scene(y){return arguments.length?(this._scene=y,this):this._scene},on(){},off(){},_handlerIndex(y,F,H){for(let Y=y?y.length:0;--Y>=0;)if(y[Y].type===F&&(!H||y[Y].handler===H))return Y;return-1},handlers(y){let F=this._handlers,H=[];if(y)H.push(...F[this.eventName(y)]);else for(let Y in F)H.push(...F[Y]);return H},eventName(y){let F=y.indexOf(".");return F<0?y:y.slice(0,F)},handleHref(y,F,H){this._loader.sanitize(H,{context:"href"}).then(Y=>{let Pe=new MouseEvent(y.type,y),vt=of(null,"a");for(let x in Y)vt.setAttribute(x,Y[x]);vt.dispatchEvent(Pe)}).catch(()=>{})},handleTooltip(y,F,H){if(F&&F.tooltip!=null){F=Xm(F,y,this.canvas(),this._origin);let Y=H&&F&&F.tooltip||null;this._tooltip.call(this._obj,this,y,F,Y)}},getItemBoundingClientRect(y){let F=this.canvas();if(!F)return;let H=F.getBoundingClientRect(),Y=this._origin,Pe=y.bounds,vt=Pe.width(),x=Pe.height(),T=Pe.x1+Y[0]+H.left,$=Pe.y1+Y[1]+H.top;for(;y.mark&&(y=y.mark.group);)T+=y.x||0,$+=y.y||0;return{x:T,y:$,width:vt,height:x,left:T,top:$,right:T+vt,bottom:$+x}}};function Mc(y){this._el=null,this._bgcolor=null,this._loader=new Jo(y)}Mc.prototype={initialize(y,F,H,Y,Pe){return this._el=y,this.resize(F,H,Y,Pe)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(y){return arguments.length===0?this._bgcolor:(this._bgcolor=y,this)},resize(y,F,H,Y){return this._width=y,this._height=F,this._origin=H||[0,0],this._scale=Y||1,this},dirty(){},render(y){let F=this;return F._call=function(){F._render(y)},F._call(),F._call=null,F},_render(){},renderAsync(y){let F=this.render(y);return this._ready?this._ready.then(()=>F):Promise.resolve(F)},_load(y,F){var H=this,Y=H._loader[y](F);if(!H._ready){let Pe=H._call;H._ready=H._loader.ready().then(vt=>{vt&&Pe(),H._ready=null})}return Y},sanitizeURL(y){return this._load("sanitizeURL",y)},loadImage(y){return this._load("loadImage",y)}};let jr="keydown",K0="keypress",J0="keyup",$r="dragenter",El="dragleave",q1="dragover",cp="mousedown",_o="mouseup",X0="mousemove",jd="mouseout",Z0="mouseover",uf="click",Wx="dblclick",Qx="wheel",Fh="mousewheel",lf="touchstart",tl="touchmove",qd="touchend",fp=[jr,K0,J0,$r,El,q1,cp,_o,X0,jd,Z0,uf,Wx,Qx,Fh,lf,tl,qd],U1=X0,nl=jd,ed=uf;function Of(y,F){Vl.call(this,y,F),this._down=null,this._touch=null,this._first=!0,this._events={}}let Sl=y=>y===lf||y===tl||y===qd?[lf,tl,qd]:[y];function dp(y,F){Sl(F).forEach(H=>pu(y,H))}function pu(y,F){let H=y.canvas();H&&!y._events[F]&&(y._events[F]=1,H.addEventListener(F,y[F]?Y=>y[F](Y):Y=>y.fire(F,Y)))}function $1(y,F,H){return function(Y){let Pe=this._active,vt=this.pickEvent(Y);vt===Pe?this.fire(y,Y):((!Pe||!Pe.exit)&&this.fire(H,Y),this._active=vt,this.fire(F,Y),this.fire(y,Y))}}function rl(y){return function(F){this.fire(y,F),this._active=null}}e.inherits(Of,Vl,{initialize(y,F,H){return this._canvas=y&&af(y,"canvas"),[uf,cp,X0,jd,El].forEach(Y=>dp(this,Y)),Vl.prototype.initialize.call(this,y,F,H)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:fp,DOMMouseScroll(y){this.fire(Fh,y)},mousemove:$1(X0,Z0,jd),dragover:$1(q1,$r,El),mouseout:rl(jd),dragleave:rl(El),mousedown(y){this._down=this._active,this.fire(cp,y)},click(y){this._down===this._active&&(this.fire(uf,y),this._down=null)},touchstart(y){this._touch=this.pickEvent(y.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(lf,y,!0)},touchmove(y){this.fire(tl,y,!0)},touchend(y){this.fire(qd,y,!0),this._touch=null},fire(y,F,H){let Y=H?this._touch:this._active,Pe=this._handlers[y];if(F.vegaType=y,y===ed&&Y&&Y.href?this.handleHref(F,Y,Y.href):(y===U1||y===nl)&&this.handleTooltip(F,Y,y!==nl),Pe)for(let vt=0,x=Pe.length;vt<x;++vt)Pe[vt].handler.call(this._obj,F,Y)},on(y,F){let H=this.eventName(y),Y=this._handlers;return this._handlerIndex(Y[H],y,F)<0&&(dp(this,y),(Y[H]||(Y[H]=[])).push({type:y,handler:F})),this},off(y,F){let H=this.eventName(y),Y=this._handlers[H],Pe=this._handlerIndex(Y,y,F);return Pe>=0&&Y.splice(Pe,1),this},pickEvent(y){let F=Ic(y,this._canvas),H=this._origin;return this.pick(this._scene,F[0],F[1],F[0]-H[0],F[1]-H[1])},pick(y,F,H,Y,Pe){let vt=this.context();return Gs[y.marktype].pick.call(this,vt,y,F,H,Y,Pe)}});function Pc(){return typeof window!="undefined"&&window.devicePixelRatio||1}var Dh=Pc();function Ud(y,F,H,Y,Pe,vt){let x=typeof HTMLElement!="undefined"&&y instanceof HTMLElement&&y.parentNode!=null,T=y.getContext("2d"),$=x?Dh:Pe;y.width=F*$,y.height=H*$;for(let X in vt)T[X]=vt[X];return x&&$!==1&&(y.style.width=F+"px",y.style.height=H+"px"),T.pixelRatio=$,T.setTransform($,0,0,$,$*Y[0],$*Y[1]),y}function cf(y){Mc.call(this,y),this._options={},this._redraw=!1,this._dirty=new hi,this._tempb=new hi}let Oh=Mc.prototype,hp=(y,F,H)=>new hi().set(0,0,F,H).translate(-y[0],-y[1]);function $a(y,F,H){return F.expand(1).round(),y.pixelRatio%1&&F.scale(y.pixelRatio).round().scale(1/y.pixelRatio),F.translate(-(H[0]%1),-(H[1]%1)),y.beginPath(),y.rect(F.x1,F.y1,F.width(),F.height()),y.clip(),F}e.inherits(cf,Mc,{initialize(y,F,H,Y,Pe,vt){return this._options=vt||{},this._canvas=this._options.externalContext?null:t.canvas(1,1,this._options.type),y&&this._canvas&&(uc(y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Oh.initialize.call(this,y,F,H,Y,Pe)},resize(y,F,H,Y){if(Oh.resize.call(this,y,F,H,Y),this._canvas)Ud(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{let Pe=this._options.externalContext;Pe||e.error("CanvasRenderer is missing a valid canvas or context"),Pe.scale(this._scale,this._scale),Pe.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(y){let F=this._tempb.clear().union(y.bounds),H=y.mark.group;for(;H;)F.translate(H.x||0,H.y||0),H=H.mark.group;this._dirty.union(F)},_render(y){let F=this.context(),H=this._origin,Y=this._width,Pe=this._height,vt=this._dirty,x=hp(H,Y,Pe);F.save();let T=this._redraw||vt.empty()?(this._redraw=!1,x.expand(1)):$a(F,x.intersect(vt),H);return this.clear(-H[0],-H[1],Y,Pe),this.draw(F,y,T),F.restore(),vt.clear(),this},draw(y,F,H){let Y=Gs[F.marktype];F.clip&&tn(y,F),Y.draw.call(this,y,F,H),F.clip&&y.restore()},clear(y,F,H,Y){let Pe=this._options,vt=this.context();Pe.type!=="pdf"&&!Pe.externalContext&&vt.clearRect(y,F,H,Y),this._bgcolor!=null&&(vt.fillStyle=this._bgcolor,vt.fillRect(y,F,H,Y))}});function Rh(y,F){Vl.call(this,y,F);let H=this;H._hrefHandler=td(H,(Y,Pe)=>{Pe&&Pe.href&&H.handleHref(Y,Pe,Pe.href)}),H._tooltipHandler=td(H,(Y,Pe)=>{H.handleTooltip(Y,Pe,Y.type!==nl)})}let td=(y,F)=>H=>{let Y=H.target.__data__;Y=Array.isArray(Y)?Y[0]:Y,H.vegaType=H.type,F.call(y._obj,H,Y)};e.inherits(Rh,Vl,{initialize(y,F,H){let Y=this._svg;return Y&&(Y.removeEventListener(ed,this._hrefHandler),Y.removeEventListener(U1,this._tooltipHandler),Y.removeEventListener(nl,this._tooltipHandler)),this._svg=Y=y&&af(y,"svg"),Y&&(Y.addEventListener(ed,this._hrefHandler),Y.addEventListener(U1,this._tooltipHandler),Y.addEventListener(nl,this._tooltipHandler)),Vl.prototype.initialize.call(this,y,F,H)},canvas(){return this._svg},on(y,F){let H=this.eventName(y),Y=this._handlers;if(this._handlerIndex(Y[H],y,F)<0){let vt={type:y,handler:F,listener:td(this,F)};(Y[H]||(Y[H]=[])).push(vt),this._svg&&this._svg.addEventListener(H,vt.listener)}return this},off(y,F){let H=this.eventName(y),Y=this._handlers[H],Pe=this._handlerIndex(Y,y,F);return Pe>=0&&(this._svg&&this._svg.removeEventListener(H,Y[Pe].listener),Y.splice(Pe,1)),this}});let Ia="aria-hidden",Nh="aria-label",Ou="role",Xa="aria-roledescription",Lh="graphics-object",va="graphics-symbol",kh=(y,F,H)=>({[Ou]:y,[Xa]:F,[Nh]:H||void 0}),pp=e.toSet(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),h0={axis:{desc:"axis",caption:Ih},legend:{desc:"legend",caption:$d},"title-text":{desc:"title",caption:y=>`Title text '${il(y)}'`},"title-subtitle":{desc:"subtitle",caption:y=>`Subtitle text '${il(y)}'`}},nd={ariaRole:Ou,ariaRoleDescription:Xa,description:Nh};function ff(y,F){let H=F.aria===!1;if(y(Ia,H||void 0),H||F.description==null)for(let Y in nd)y(nd[Y],void 0);else{let Y=F.mark.marktype;y(Nh,F.description),y(Ou,F.ariaRole||(Y==="group"?Lh:va)),y(Xa,F.ariaRoleDescription||`${Y} mark`)}}function Wl(y){return y.aria===!1?{[Ia]:!0}:pp[y.role]?null:h0[y.role]?mp(y,h0[y.role]):Ru(y)}function Ru(y){let F=y.marktype,H=F==="group"||F==="text"||y.items.some(Y=>Y.description!=null&&Y.aria!==!1);return kh(H?Lh:va,`${F} mark container`,y.description)}function mp(y,F){try{let H=y.items[0],Y=F.caption||(()=>"");return kh(F.role||va,F.desc,H.description||Y(H))}catch{return null}}function il(y){return e.array(y.text).join(" ")}function Ih(y){let F=y.datum,H=y.orient,Y=F.title?Zm(y):null,Pe=y.context,vt=Pe.scales[F.scale].value,x=Pe.dataflow.locale(),T=vt.type;return`${H==="left"||H==="right"?"Y":"X"}-axis`+(Y?` titled '${Y}'`:"")+` for a ${i.isDiscrete(T)?"discrete":T} scale with ${i.domainCaption(x,vt,y)}`}function $d(y){let F=y.datum,H=F.title?Zm(y):null,Y=`${F.type||""} legend`.trim(),Pe=F.scales,vt=Object.keys(Pe),x=y.context,T=x.scales[Pe[vt[0]]].value,$=x.dataflow.locale();return Rf(Y)+(H?` titled '${H}'`:"")+` for ${xp(vt)} with ${i.domainCaption($,T,y)}`}function Zm(y){try{return e.array(e.peek(y.items).items[0].text).join(" ")}catch{return null}}function xp(y){return y=y.map(F=>F+(F==="fill"||F==="stroke"?" color":"")),y.length<2?y[0]:y.slice(0,-1).join(", ")+" and "+e.peek(y)}function Rf(y){return y.length?y[0].toUpperCase()+y.slice(1):y}let rd=y=>(y+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Js=y=>rd(y).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function A(){let y="",F="",H="",Y=[],Pe=()=>F=H="",vt=$=>{F&&(y+=`${F}>${H}`,Pe()),Y.push($)},x=($,X)=>(X!=null&&(F+=` ${$}="${Js(X)}"`),T),T={open($,...X){vt($),F="<"+$;for(let ge of X)for(let Fe in ge)x(Fe,ge[Fe]);return T},close(){let $=Y.pop();return F?y+=F+(H?`>${H}</${$}>`:"/>"):y+=`</${$}>`,Pe(),T},attr:x,text:$=>(H+=rd($),T),toString:()=>y};return T}let W=y=>de(A(),y)+"";function de(y,F){if(y.open(F.tagName),F.hasAttributes()){let H=F.attributes,Y=H.length;for(let Pe=0;Pe<Y;++Pe)y.attr(H[Pe].name,H[Pe].value)}if(F.hasChildNodes()){let H=F.childNodes;for(let Y of H)Y.nodeType===3?y.text(Y.nodeValue):de(y,Y)}return y.close()}let Be={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},wt={blend:"mix-blend-mode"},Tn={fill:"none","stroke-miterlimit":10},ur=0,$i="http://www.w3.org/2000/xmlns/",Bi=es.xmlns;function oo(y){Mc.call(this,y),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}let mu=Mc.prototype;e.inherits(oo,Mc,{initialize(y,F,H,Y,Pe){return this._defs={},this._clearDefs(),y&&(this._svg=el(y,0,"svg",Bi),this._svg.setAttributeNS($i,"xmlns",Bi),this._svg.setAttributeNS($i,"xmlns:xlink",es["xmlns:xlink"]),this._svg.setAttribute("version",es.version),this._svg.setAttribute("class","marks"),uc(y,1),this._root=el(this._svg,ur,"g",Bi),p0(this._root,Tn),uc(this._svg,ur+1)),this.background(this._bgcolor),mu.initialize.call(this,y,F,H,Y,Pe)},background(y){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",y),mu.background.apply(this,arguments)},resize(y,F,H,Y){return mu.resize.call(this,y,F,H,Y),this._svg&&(p0(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){let y=this._svg,F=this._bgcolor;if(!y)return null;let H;F&&(y.removeAttribute("style"),H=el(y,ur,"rect",Bi),p0(H,{width:this._width,height:this._height,fill:F}));let Y=W(y);return F&&(y.removeChild(H),this._svg.style.setProperty("background-color",F)),Y},_render(y){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,y),uc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(y){y.dirty!==this._dirtyID&&(y.dirty=this._dirtyID,this._dirty.push(y))},isDirty(y){return this._dirtyAll||!y._svg||!y._svg.ownerSVGElement||y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;let y=this._dirty;if(!y.length||!this._dirtyID)return!0;let F=++this._dirtyID,H,Y,Pe,vt,x,T,$;for(x=0,T=y.length;x<T;++x)if(H=y[x],Y=H.mark,Y.marktype!==Pe&&(Pe=Y.marktype,vt=Gs[Pe]),Y.zdirty&&Y.dirty!==F&&(this._dirtyAll=!1,Bc(H,F),Y.items.forEach(X=>{X.dirty=F})),!Y.zdirty){if(H.exit){vt.nested&&Y.items.length?($=Y.items[0],$._svg&&this._update(vt,$._svg,$)):H._svg&&($=H._svg.parentNode,$&&$.removeChild(H._svg)),H._svg=null;continue}H=vt.nested?Y.items[0]:H,H._update!==F&&(!H._svg||!H._svg.ownerSVGElement?(this._dirtyAll=!1,Bc(H,F)):this._update(vt,H._svg,H),H._update=F)}return!this._dirtyAll},mark(y,F,H){if(!this.isDirty(F))return F._svg;let Y=this._svg,Pe=Gs[F.marktype],vt=F.interactive===!1?"none":null,x=Pe.tag==="g",T=B4(F,y,H,"g",Y);T.setAttribute("class",j1(F));let $=Wl(F);for(let st in $)wl(T,st,$[st]);x||wl(T,"pointer-events",vt),wl(T,"clip-path",F.clip?fo(this,F,F.group):null);let X=null,ge=0,Fe=st=>{let zt=this.isDirty(st),wn=B4(st,T,X,Pe.tag,Y);zt&&(this._update(Pe,wn,st),x&&Qy(this,wn,st)),X=wn,++ge};return Pe.nested?F.items.length&&Fe(F.items[0]):Gn(F,Fe),uc(T,ge),T},_update(y,F,H){id=F,Nu=F.__values__,ff(Mh,H),y.attr(Mh,H,this);let Y=j4[y.type];Y&&Y.call(this,y,F,H),id&&this.style(id,H)},style(y,F){if(F!=null){for(let H in Be){let Y=H==="font"?qe(F):F[H];if(Y===Nu[H])continue;let Pe=Be[H];Y==null?y.removeAttribute(Pe):(l(Y)&&(Y=f(Y,this._defs.gradient,Lu())),y.setAttribute(Pe,Y+"")),Nu[H]=Y}for(let H in wt)Ts(y,wt[H],F[H])}},defs(){let y=this._svg,F=this._defs,H=F.el,Y=0;for(let Pe in F.gradient)H||(F.el=H=el(y,ur+1,"defs",Bi)),Y=Nf(H,F.gradient[Pe],Y);for(let Pe in F.clipping)H||(F.el=H=el(y,ur+1,"defs",Bi)),Y=dE(H,F.clipping[Pe],Y);H&&(Y===0?(y.removeChild(H),F.el=null):uc(H,Y))},_clearDefs(){let y=this._defs;y.gradient={},y.clipping={}}});function Bc(y,F){for(;y&&y.dirty!==F;y=y.mark.group)if(y.dirty=F,y.mark&&y.mark.dirty!==F)y.mark.dirty=F;else return}function Nf(y,F,H){let Y,Pe,vt;if(F.gradient==="radial"){let x=el(y,H++,"pattern",Bi);p0(x,{id:a+F.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),x=el(x,0,"rect",Bi),p0(x,{width:1,height:1,fill:`url(${Lu()}#${F.id})`}),y=el(y,H++,"radialGradient",Bi),p0(y,{id:F.id,fx:F.x1,fy:F.y1,fr:F.r1,cx:F.x2,cy:F.y2,r:F.r2})}else y=el(y,H++,"linearGradient",Bi),p0(y,{id:F.id,x1:F.x1,x2:F.x2,y1:F.y1,y2:F.y2});for(Y=0,Pe=F.stops.length;Y<Pe;++Y)vt=el(y,Y,"stop",Bi),vt.setAttribute("offset",F.stops[Y].offset),vt.setAttribute("stop-color",F.stops[Y].color);return uc(y,Y),H}function dE(y,F,H){let Y;return y=el(y,H,"clipPath",Bi),y.setAttribute("id",F.id),F.path?(Y=el(y,0,"path",Bi),Y.setAttribute("d",F.path)):(Y=el(y,0,"rect",Bi),p0(Y,{x:0,y:0,width:F.width,height:F.height})),uc(y,1),H+1}function Qy(y,F,H){F=F.lastChild.previousSibling;let Y,Pe=0;Gn(H,vt=>{Y=y.mark(F,vt,Y),++Pe}),uc(F,1+Pe)}function B4(y,F,H,Y,Pe){let vt=y._svg,x;if(!vt&&(x=F.ownerDocument,vt=of(x,Y,Bi),y._svg=vt,y.mark&&(vt.__data__=y,vt.__values__={fill:"default"},Y==="g"))){let T=of(x,"path",Bi);vt.appendChild(T),T.__data__=y;let $=of(x,"g",Bi);vt.appendChild($),$.__data__=y;let X=of(x,"path",Bi);vt.appendChild(X),X.__data__=y,X.__values__={fill:"default"}}return(vt.ownerSVGElement!==Pe||Gy(vt,H))&&F.insertBefore(vt,H?H.nextSibling:F.firstChild),vt}function Gy(y,F){return y.parentNode&&y.parentNode.childNodes.length>1&&y.previousSibling!=F}let id=null,Nu=null,j4={group(y,F,H){let Y=id=F.childNodes[2];Nu=Y.__values__,y.foreground(Mh,H,this),Nu=F.__values__,id=F.childNodes[1],y.content(Mh,H,this);let Pe=id=F.childNodes[0];y.background(Mh,H,this);let vt=H.mark.interactive===!1?"none":null;if(vt!==Nu.events&&(wl(Y,"pointer-events",vt),wl(Pe,"pointer-events",vt),Nu.events=vt),H.strokeForeground&&H.stroke){let x=H.fill;wl(Y,"display",null),this.style(Pe,H),wl(Pe,"stroke",null),x&&(H.fill=null),Nu=Y.__values__,this.style(Y,H),x&&(H.fill=x),id=null}else wl(Y,"display","none")},image(y,F,H){H.smooth===!1?(Ts(F,"image-rendering","optimizeSpeed"),Ts(F,"image-rendering","pixelated")):Ts(F,"image-rendering",null)},text(y,F,H){let Y=_l(H),Pe,vt,x,T;e.isArray(Y)?(vt=Y.map($=>bl(H,$)),Pe=vt.join(`
`),Pe!==Nu.text&&(uc(F,0),x=F.ownerDocument,T=vo(H),vt.forEach(($,X)=>{let ge=of(x,"tspan",Bi);ge.__data__=H,ge.textContent=$,X&&(ge.setAttribute("x",0),ge.setAttribute("dy",T)),F.appendChild(ge)}),Nu.text=Pe)):(vt=bl(H,Y),vt!==Nu.text&&(F.textContent=vt,Nu.text=vt)),wl(F,"font-family",qe(H)),wl(F,"font-size",Du(H)+"px"),wl(F,"font-style",H.fontStyle),wl(F,"font-variant",H.fontVariant),wl(F,"font-weight",H.fontWeight)}};function Mh(y,F,H){F!==Nu[y]&&(H?gp(id,y,F,H):wl(id,y,F),Nu[y]=F)}function Ts(y,F,H){H!==Nu[F]&&(H==null?y.style.removeProperty(F):y.style.setProperty(F,H+""),Nu[F]=H)}function p0(y,F){for(let H in F)wl(y,H,F[H])}function wl(y,F,H){H!=null?y.setAttribute(F,H):y.removeAttribute(F)}function gp(y,F,H,Y){H!=null?y.setAttributeNS(Y,F,H):y.removeAttributeNS(Y,F)}function Lu(){let y;return typeof window=="undefined"?"":(y=window.location).hash?y.href.slice(0,-y.hash.length):y.href}function z1(y){Mc.call(this,y),this._text=null,this._defs={gradient:{},clipping:{}}}e.inherits(z1,Mc,{svg(){return this._text},_render(y){let F=A();F.open("svg",e.extend({},es,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));let H=this._bgcolor;return H&&H!=="transparent"&&H!=="none"&&F.open("rect",{width:this._width,height:this._height,fill:H}).close(),F.open("g",Tn,{transform:"translate("+this._origin+")"}),this.mark(F,y),F.close(),this.defs(F),this._text=F.close()+"",this},mark(y,F){let H=Gs[F.marktype],Y=H.tag,Pe=[ff,H.attr];y.open("g",{class:j1(F),"clip-path":F.clip?fo(this,F,F.group):null},Wl(F),{"pointer-events":Y!=="g"&&F.interactive===!1?"none":null});let vt=x=>{let T=this.href(x);if(T&&y.open("a",T),y.open(Y,this.attr(F,x,Pe,Y!=="g"?Y:null)),Y==="text"){let $=_l(x);if(e.isArray($)){let X={x:0,dy:vo(x)};for(let ge=0;ge<$.length;++ge)y.open("tspan",ge?X:null).text(bl(x,$[ge])).close()}else y.text(bl(x,$))}else if(Y==="g"){let $=x.strokeForeground,X=x.fill,ge=x.stroke;$&&ge&&(x.stroke=null),y.open("path",this.attr(F,x,H.background,"bgrect")).close(),y.open("g",this.attr(F,x,H.content)),Gn(x,Fe=>this.mark(y,Fe)),y.close(),$&&ge?(X&&(x.fill=null),x.stroke=ge,y.open("path",this.attr(F,x,H.foreground,"bgrect")).close(),X&&(x.fill=X)):y.open("path",this.attr(F,x,H.foreground,"bgfore")).close()}y.close(),T&&y.close()};return H.nested?F.items&&F.items.length&&vt(F.items[0]):Gn(F,vt),y.close()},href(y){let F=y.href,H;if(F){if(H=this._hrefs&&this._hrefs[F])return H;this.sanitizeURL(F).then(Y=>{Y["xlink:href"]=Y.href,Y.href=null,(this._hrefs||(this._hrefs={}))[F]=Y})}return null},attr(y,F,H,Y){let Pe={},vt=(x,T,$,X)=>{Pe[X||x]=T};return Array.isArray(H)?H.forEach(x=>x(vt,F,this)):H(vt,F,this),Y&&H1(Pe,F,y,Y,this._defs),Pe},defs(y){let F=this._defs.gradient,H=this._defs.clipping;if(Object.keys(F).length+Object.keys(H).length!==0){y.open("defs");for(let Pe in F){let vt=F[Pe],x=vt.stops;vt.gradient==="radial"?(y.open("pattern",{id:a+Pe,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),y.open("rect",{width:"1",height:"1",fill:"url(#"+Pe+")"}).close(),y.close(),y.open("radialGradient",{id:Pe,fx:vt.x1,fy:vt.y1,fr:vt.r1,cx:vt.x2,cy:vt.y2,r:vt.r2})):y.open("linearGradient",{id:Pe,x1:vt.x1,x2:vt.x2,y1:vt.y1,y2:vt.y2});for(let T=0;T<x.length;++T)y.open("stop",{offset:x[T].offset,"stop-color":x[T].color}).close();y.close()}for(let Pe in H){let vt=H[Pe];y.open("clipPath",{id:Pe}),vt.path?y.open("path",{d:vt.path}).close():y.open("rect",{x:0,y:0,width:vt.width,height:vt.height}).close(),y.close()}y.close()}}});function H1(y,F,H,Y,Pe){let vt;if(F==null||(Y==="bgrect"&&H.interactive===!1&&(y["pointer-events"]="none"),Y==="bgfore"&&(H.interactive===!1&&(y["pointer-events"]="none"),y.display="none",F.fill!==null)))return y;Y==="image"&&F.smooth===!1&&(vt=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),Y==="text"&&(y["font-family"]=qe(F),y["font-size"]=Du(F)+"px",y["font-style"]=F.fontStyle,y["font-variant"]=F.fontVariant,y["font-weight"]=F.fontWeight);for(let x in Be){let T=F[x],$=Be[x];T==="transparent"&&($==="fill"||$==="stroke")||T!=null&&(l(T)&&(T=f(T,Pe.gradient,"")),y[$]=T)}for(let x in wt){let T=F[x];T!=null&&(vt=vt||[],vt.push(`${wt[x]}: ${T};`))}return vt&&(y.style=vt.join(" ")),y}let Cl="canvas",Yy="png",zd="svg",Ph="none",Ky={Canvas:Cl,PNG:Yy,SVG:zd,None:Ph},Lf={};Lf[Cl]=Lf[Yy]={renderer:cf,headless:cf,handler:Of},Lf[zd]={renderer:oo,headless:z1,handler:Rh},Lf[Ph]={};function Al(y,F){return y=String(y||"").toLowerCase(),arguments.length>1?(Lf[y]=F,this):Lf[y]}function kf(y,F,H){let Y=[],Pe=new hi().union(F),vt=y.marktype;return vt?V1(y,Pe,H,Y):vt==="group"?Hd(y,Pe,H,Y):e.error("Intersect scene must be mark node or group item.")}function V1(y,F,H,Y){if(yp(y,F,H)){let Pe=y.items,vt=y.marktype,x=Pe.length,T=0;if(vt==="group")for(;T<x;++T)Hd(Pe[T],F,H,Y);else for(let $=Gs[vt].isect;T<x;++T){let X=Pe[T];W1(X,F,$)&&Y.push(X)}}return Y}function yp(y,F,H){return y.bounds&&F.intersects(y.bounds)&&(y.marktype==="group"||y.interactive!==!1&&(!H||H(y)))}function Hd(y,F,H,Y){H&&H(y.mark)&&W1(y,F,Gs.group.isect)&&Y.push(y);let Pe=y.items,vt=Pe&&Pe.length;if(vt){let x=y.x||0,T=y.y||0;F.translate(-x,-T);for(let $=0;$<vt;++$)V1(Pe[$],F,H,Y);F.translate(x,T)}return Y}function W1(y,F,H){let Y=y.bounds;return F.encloses(Y)||F.intersects(Y)&&H(y,F)}let df=new hi;function Gx(y){let F=y.clip;if(e.isFunction(F))F(Ua(df.clear()));else if(F)df.set(0,0,y.group.width,y.group.height);else return;y.bounds.intersect(df)}let Yx=1e-9;function lc(y,F,H){return y===F?!0:H==="path"?m0(y,F):y instanceof Date&&F instanceof Date?+y==+F:e.isNumber(y)&&e.isNumber(F)?Math.abs(y-F)<=Yx:!y||!F||!e.isObject(y)&&!e.isObject(F)?y==F:q4(y,F)}function m0(y,F){return lc(we(y),we(F))}function q4(y,F){var H=Object.keys(y),Y=Object.keys(F),Pe,vt;if(H.length!==Y.length)return!1;for(H.sort(),Y.sort(),vt=H.length-1;vt>=0;vt--)if(H[vt]!=Y[vt])return!1;for(vt=H.length-1;vt>=0;vt--)if(Pe=H[vt],!lc(y[Pe],F[Pe],Pe))return!1;return typeof y==typeof F}function sd(){io(),o()}n.Bounds=hi,n.CanvasHandler=Of,n.CanvasRenderer=cf,n.Gradient=_,n.GroupItem=Wi,n.Handler=Vl,n.Item=Ei,n.Marks=Gs,n.RenderType=Ky,n.Renderer=Mc,n.ResourceLoader=Jo,n.SVGHandler=Rh,n.SVGRenderer=oo,n.SVGStringRenderer=z1,n.Scenegraph=ac,n.boundClip=Gx,n.boundContext=Ua,n.boundItem=Uo,n.boundMark=po,n.boundStroke=ho,n.domChild=el,n.domClear=uc,n.domCreate=of,n.domFind=af,n.font=kt,n.fontFamily=qe,n.fontSize=Du,n.intersect=kf,n.intersectBoxLine=is,n.intersectPath=ui,n.intersectPoint=rs,n.intersectRule=mr,n.lineHeight=vo,n.markup=A,n.multiLineOffset=ks,n.path=L,n.pathCurves=Te,n.pathEqual=m0,n.pathParse=we,n.pathRectangle=Ft,n.pathRender=be,n.pathSymbols=fe,n.pathTrail=Zt,n.point=Ic,n.renderModule=Al,n.resetSVGClipId=io,n.resetSVGDefIds=sd,n.sceneEqual=lc,n.sceneFromJSON=Hl,n.scenePickVisit=ar,n.sceneToJSON=oc,n.sceneVisit=Gn,n.sceneZOrder=Cr,n.serializeXML=W,n.textMetrics=qo,Object.defineProperty(n,"__esModule",{value:!0})})});var rDe=Ae((zH,nDe)=>{m();(function(n,e){typeof zH=="object"&&typeof nDe!="undefined"?e(zH,r0(),ZC(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(zH,function(n,e,t,r){"use strict";let i="top",s="left",o="right",a="bottom",l="top-left",f="top-right",p="bottom-left",_="bottom-right",E="start",O="middle",R="end",q="x",z="y",L="group",B="axis",P="title",G="frame",ue="scope",I="legend",J="row-header",he="row-footer",ve="row-title",Ve="column-header",ot="column-footer",lt="column-title",et="padding",bt="symbol",Pt="fit",$e="fit-x",te="fit-y",Ze="pad",ye="none",Le="all",Ce="each",pe="flush",Je="column",ut="row";function Ht(ft){e.Transform.call(this,null,ft)}r.inherits(Ht,e.Transform,{transform(ft,ie){let Te=ie.dataflow,Ue=ft.mark,xt=Ue.marktype,Et=t.Marks[xt],Nt=Et.bound,ne=Ue.bounds,we;if(Et.nested)Ue.items.length&&Te.dirty(Ue.items[0]),ne=Ct(Ue,Nt),Ue.items.forEach(Qe=>{Qe.bounds.clear().union(ne)});else if(xt===L||ft.modified())switch(ie.visit(ie.MOD,Qe=>Te.dirty(Qe)),ne.clear(),Ue.items.forEach(Qe=>ne.union(Ct(Qe,Nt))),Ue.role){case B:case I:case P:ie.reflow()}else we=ie.changed(ie.REM),ie.visit(ie.ADD,Qe=>{ne.union(Ct(Qe,Nt))}),ie.visit(ie.MOD,Qe=>{we=we||ne.alignsWith(Qe.bounds),Te.dirty(Qe),ne.union(Ct(Qe,Nt))}),we&&(ne.clear(),Ue.items.forEach(Qe=>ne.union(Qe.bounds)));return t.boundClip(Ue),ie.modifies("bounds")}});function Ct(ft,ie,Te){return ie(ft.bounds.clear(),ft,Te)}let xn=":vega_identifier:";function Tt(ft){e.Transform.call(this,0,ft)}Tt.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},r.inherits(Tt,e.Transform,{transform(ft,ie){let Te=Ot(ie.dataflow),Ue=ft.as,xt=Te.value;return ie.visit(ie.ADD,Et=>Et[Ue]=Et[Ue]||++xt),Te.set(this.value=xt),ie}});function Ot(ft){return ft._signals[xn]||(ft._signals[xn]=ft.add(0))}function rn(ft){e.Transform.call(this,null,ft)}r.inherits(rn,e.Transform,{transform(ft,ie){let Te=this.value;Te||(Te=ie.dataflow.scenegraph().mark(ft.markdef,St(ft),ft.index),Te.group.context=ft.context,ft.context.group||(ft.context.group=Te.group),Te.source=this.source,Te.clip=ft.clip,Te.interactive=ft.interactive,this.value=Te);let Ue=Te.marktype===L?t.GroupItem:t.Item;return ie.visit(ie.ADD,xt=>Ue.call(xt,Te)),(ft.modified("clip")||ft.modified("interactive"))&&(Te.clip=ft.clip,Te.interactive=!!ft.interactive,Te.zdirty=!0,ie.reflow()),Te.items=ie.source,ie}});function St(ft){let ie=ft.groups,Te=ft.parent;return ie&&ie.size===1?ie.get(Object.keys(ie.object)[0]):ie&&Te?ie.lookup(Te):null}function _e(ft){e.Transform.call(this,null,ft)}let ke={parity:ft=>ft.filter((ie,Te)=>Te%2?ie.opacity=0:1),greedy:(ft,ie)=>{let Te;return ft.filter((Ue,xt)=>!xt||!Se(Te.bounds,Ue.bounds,ie)?(Te=Ue,1):Ue.opacity=0)}},Se=(ft,ie,Te)=>Te>Math.max(ie.x1-ft.x2,ft.x1-ie.x2,ie.y1-ft.y2,ft.y1-ie.y2),ce=(ft,ie)=>{for(var Te=1,Ue=ft.length,xt=ft[0].bounds,Et;Te<Ue;xt=Et,++Te)if(Se(xt,Et=ft[Te].bounds,ie))return!0},tt=ft=>{let ie=ft.bounds;return ie.width()>1&&ie.height()>1},Ie=(ft,ie,Te)=>{var Ue=ft.range(),xt=new t.Bounds;return ie===i||ie===a?xt.set(Ue[0],-1/0,Ue[1],1/0):xt.set(-1/0,Ue[0],1/0,Ue[1]),xt.expand(Te||1),Et=>xt.encloses(Et.bounds)},re=ft=>(ft.forEach(ie=>ie.opacity=1),ft),Ne=(ft,ie)=>ft.reflow(ie.modified()).modifies("opacity");r.inherits(_e,e.Transform,{transform(ft,ie){let Te=ke[ft.method]||ke.parity,Ue=ft.separation||0,xt=ie.materialize(ie.SOURCE).source,Et,Nt;if(!xt||!xt.length)return;if(!ft.method)return ft.modified("method")&&(re(xt),ie=Ne(ie,ft)),ie;if(xt=xt.filter(tt),!xt.length)return;if(ft.sort&&(xt=xt.slice().sort(ft.sort)),Et=re(xt),ie=Ne(ie,ft),Et.length>=3&&ce(Et,Ue)){do Et=Te(Et,Ue);while(Et.length>=3&&ce(Et,Ue));Et.length<3&&!r.peek(xt).opacity&&(Et.length>1&&(r.peek(Et).opacity=0),r.peek(xt).opacity=1)}ft.boundScale&&ft.boundTolerance>=0&&(Nt=Ie(ft.boundScale,ft.boundOrient,+ft.boundTolerance),xt.forEach(we=>{Nt(we)||(we.opacity=0)}));let ne=Et[0].mark.bounds.clear();return xt.forEach(we=>{we.opacity&&ne.union(we.bounds)}),ie}});function ct(ft){e.Transform.call(this,null,ft)}r.inherits(ct,e.Transform,{transform(ft,ie){let Te=ie.dataflow;if(ie.visit(ie.ALL,Ue=>Te.dirty(Ue)),ie.fields&&ie.fields.zindex){let Ue=ie.source&&ie.source[0];Ue&&(Ue.mark.zdirty=!0)}}});let _t=new t.Bounds;function Lt(ft,ie,Te){return ft[ie]===Te?0:(ft[ie]=Te,1)}function Yt(ft){var ie=ft.items[0].orient;return ie===s||ie===o}function Gt(ft){let ie=+ft.grid;return[ft.ticks?ie++:-1,ft.labels?ie++:-1,ie+ +ft.domain]}function fn(ft,ie,Te,Ue){var xt=ie.items[0],Et=xt.datum,Nt=xt.translate!=null?xt.translate:.5,ne=xt.orient,we=Gt(Et),Qe=xt.range,it=xt.offset,Ut=xt.position,sn=xt.minExtent,Cn=xt.maxExtent,En=Et.title&&xt.items[we[2]].items[0],vn=xt.titlePadding,zn=xt.bounds,Oe=En&&t.multiLineOffset(En),ze=0,Dt=0,N,V;switch(_t.clear().union(zn),zn.clear(),(N=we[0])>-1&&zn.union(xt.items[N].bounds),(N=we[1])>-1&&zn.union(xt.items[N].bounds),ne){case i:ze=Ut||0,Dt=-it,V=Math.max(sn,Math.min(Cn,-zn.y1)),zn.add(0,-V).add(Qe,0),En&&gn(ft,En,V,vn,Oe,0,-1,zn);break;case s:ze=-it,Dt=Ut||0,V=Math.max(sn,Math.min(Cn,-zn.x1)),zn.add(-V,0).add(0,Qe),En&&gn(ft,En,V,vn,Oe,1,-1,zn);break;case o:ze=Te+it,Dt=Ut||0,V=Math.max(sn,Math.min(Cn,zn.x2)),zn.add(0,0).add(V,Qe),En&&gn(ft,En,V,vn,Oe,1,1,zn);break;case a:ze=Ut||0,Dt=Ue+it,V=Math.max(sn,Math.min(Cn,zn.y2)),zn.add(0,0).add(Qe,V),En&&gn(ft,En,V,vn,0,0,1,zn);break;default:ze=xt.x,Dt=xt.y}return t.boundStroke(zn.translate(ze,Dt),xt),Lt(xt,"x",ze+Nt)|Lt(xt,"y",Dt+Nt)&&(xt.bounds=_t,ft.dirty(xt),xt.bounds=zn,ft.dirty(xt)),xt.mark.bounds.clear().union(zn)}function gn(ft,ie,Te,Ue,xt,Et,Nt,ne){let we=ie.bounds;if(ie.auto){let Qe=Nt*(Te+xt+Ue),it=0,Ut=0;ft.dirty(ie),Et?it=(ie.x||0)-(ie.x=Qe):Ut=(ie.y||0)-(ie.y=Qe),ie.mark.bounds.clear().union(we.translate(-it,-Ut)),ft.dirty(ie)}ne.union(we)}let yn=(ft,ie)=>Math.floor(Math.min(ft,ie)),It=(ft,ie)=>Math.ceil(Math.max(ft,ie));function un(ft){var ie=ft.items,Te=ie.length,Ue=0,xt,Et;let Nt={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;Ue<Te;++Ue)if(xt=ie[Ue],Et=xt.items,xt.marktype===L)switch(xt.role){case B:case I:case P:break;case J:Nt.rowheaders.push(...Et);break;case he:Nt.rowfooters.push(...Et);break;case Ve:Nt.colheaders.push(...Et);break;case ot:Nt.colfooters.push(...Et);break;case ve:Nt.rowtitle=Et[0];break;case lt:Nt.coltitle=Et[0];break;default:Nt.marks.push(...Et)}return Nt}function Mn(ft){return new t.Bounds().set(0,0,ft.width||0,ft.height||0)}function tr(ft){let ie=ft.bounds.clone();return ie.empty()?ie.set(0,0,0,0):ie.translate(-(ft.x||0),-(ft.y||0))}function Rn(ft,ie,Te){let Ue=r.isObject(ft)?ft[ie]:ft;return Ue??(Te!==void 0?Te:0)}function Re(ft){return ft<0?Math.ceil(-ft):0}function He(ft,ie,Te){var Ue=!Te.nodirty,xt=Te.bounds===pe?Mn:tr,Et=_t.set(0,0,0,0),Nt=Rn(Te.align,Je),ne=Rn(Te.align,ut),we=Rn(Te.padding,Je),Qe=Rn(Te.padding,ut),it=Te.columns||ie.length,Ut=it<=0?1:Math.ceil(ie.length/it),sn=ie.length,Cn=Array(sn),En=Array(it),vn=0,zn=Array(sn),Oe=Array(Ut),ze=0,Dt=Array(sn),N=Array(sn),V=Array(sn),be,xe,K,ae,fe,Ge,Mt,At,dn,w,j;for(xe=0;xe<it;++xe)En[xe]=0;for(xe=0;xe<Ut;++xe)Oe[xe]=0;for(xe=0;xe<sn;++xe)Ge=ie[xe],fe=V[xe]=xt(Ge),Ge.x=Ge.x||0,Dt[xe]=0,Ge.y=Ge.y||0,N[xe]=0,K=xe%it,ae=~~(xe/it),vn=Math.max(vn,Mt=Math.ceil(fe.x2)),ze=Math.max(ze,At=Math.ceil(fe.y2)),En[K]=Math.max(En[K],Mt),Oe[ae]=Math.max(Oe[ae],At),Cn[xe]=we+Re(fe.x1),zn[xe]=Qe+Re(fe.y1),Ue&&ft.dirty(ie[xe]);for(xe=0;xe<sn;++xe)xe%it===0&&(Cn[xe]=0),xe<it&&(zn[xe]=0);if(Nt===Ce)for(K=1;K<it;++K){for(j=0,xe=K;xe<sn;xe+=it)j<Cn[xe]&&(j=Cn[xe]);for(xe=K;xe<sn;xe+=it)Cn[xe]=j+En[K-1]}else if(Nt===Le){for(j=0,xe=0;xe<sn;++xe)xe%it&&j<Cn[xe]&&(j=Cn[xe]);for(xe=0;xe<sn;++xe)xe%it&&(Cn[xe]=j+vn)}else for(Nt=!1,K=1;K<it;++K)for(xe=K;xe<sn;xe+=it)Cn[xe]+=En[K-1];if(ne===Ce)for(ae=1;ae<Ut;++ae){for(j=0,xe=ae*it,be=xe+it;xe<be;++xe)j<zn[xe]&&(j=zn[xe]);for(xe=ae*it;xe<be;++xe)zn[xe]=j+Oe[ae-1]}else if(ne===Le){for(j=0,xe=it;xe<sn;++xe)j<zn[xe]&&(j=zn[xe]);for(xe=it;xe<sn;++xe)zn[xe]=j+ze}else for(ne=!1,ae=1;ae<Ut;++ae)for(xe=ae*it,be=xe+it;xe<be;++xe)zn[xe]+=Oe[ae-1];for(dn=0,xe=0;xe<sn;++xe)dn=Cn[xe]+(xe%it?dn:0),Dt[xe]+=dn-ie[xe].x;for(K=0;K<it;++K)for(w=0,xe=K;xe<sn;xe+=it)w+=zn[xe],N[xe]+=w-ie[xe].y;if(Nt&&Rn(Te.center,Je)&&Ut>1)for(xe=0;xe<sn;++xe)fe=Nt===Le?vn:En[xe%it],dn=fe-V[xe].x2-ie[xe].x-Dt[xe],dn>0&&(Dt[xe]+=dn/2);if(ne&&Rn(Te.center,ut)&&it!==1)for(xe=0;xe<sn;++xe)fe=ne===Le?ze:Oe[~~(xe/it)],w=fe-V[xe].y2-ie[xe].y-N[xe],w>0&&(N[xe]+=w/2);for(xe=0;xe<sn;++xe)Et.union(V[xe].translate(Dt[xe],N[xe]));switch(dn=Rn(Te.anchor,q),w=Rn(Te.anchor,z),Rn(Te.anchor,Je)){case R:dn-=Et.width();break;case O:dn-=Et.width()/2}switch(Rn(Te.anchor,ut)){case R:w-=Et.height();break;case O:w-=Et.height()/2}for(dn=Math.round(dn),w=Math.round(w),Et.clear(),xe=0;xe<sn;++xe)ie[xe].mark.bounds.clear();for(xe=0;xe<sn;++xe)Ge=ie[xe],Ge.x+=Dt[xe]+=dn,Ge.y+=N[xe]+=w,Et.union(Ge.mark.bounds.union(Ge.bounds.translate(Dt[xe],N[xe]))),Ue&&ft.dirty(Ge);return Et}function De(ft,ie,Te){var Ue=un(ie),xt=Ue.marks,Et=Te.bounds===pe?Bt:pt,Nt=Te.offset,ne=Te.columns||xt.length,we=ne<=0?1:Math.ceil(xt.length/ne),Qe=we*ne,it,Ut,sn,Cn,En,vn,zn;let Oe=He(ft,xt,Te);Oe.empty()&&Oe.set(0,0,0,0),Ue.rowheaders&&(vn=Rn(Te.headerBand,ut,null),it=mt(ft,Ue.rowheaders,xt,ne,we,-Rn(Nt,"rowHeader"),yn,0,Et,"x1",0,ne,1,vn)),Ue.colheaders&&(vn=Rn(Te.headerBand,Je,null),Ut=mt(ft,Ue.colheaders,xt,ne,ne,-Rn(Nt,"columnHeader"),yn,1,Et,"y1",0,1,ne,vn)),Ue.rowfooters&&(vn=Rn(Te.footerBand,ut,null),sn=mt(ft,Ue.rowfooters,xt,ne,we,Rn(Nt,"rowFooter"),It,0,Et,"x2",ne-1,ne,1,vn)),Ue.colfooters&&(vn=Rn(Te.footerBand,Je,null),Cn=mt(ft,Ue.colfooters,xt,ne,ne,Rn(Nt,"columnFooter"),It,1,Et,"y2",Qe-ne,1,ne,vn)),Ue.rowtitle&&(En=Rn(Te.titleAnchor,ut),zn=Rn(Nt,"rowTitle"),zn=En===R?sn+zn:it-zn,vn=Rn(Te.titleBand,ut,.5),nn(ft,Ue.rowtitle,zn,0,Oe,vn)),Ue.coltitle&&(En=Rn(Te.titleAnchor,Je),zn=Rn(Nt,"columnTitle"),zn=En===R?Cn+zn:Ut-zn,vn=Rn(Te.titleBand,Je,.5),nn(ft,Ue.coltitle,zn,1,Oe,vn))}function Bt(ft,ie){return ie==="x1"?ft.x||0:ie==="y1"?ft.y||0:ie==="x2"?(ft.x||0)+(ft.width||0):ie==="y2"?(ft.y||0)+(ft.height||0):void 0}function pt(ft,ie){return ft.bounds[ie]}function mt(ft,ie,Te,Ue,xt,Et,Nt,ne,we,Qe,it,Ut,sn,Cn){var En=Te.length,vn=0,zn=0,Oe,ze,Dt,N,V,be,xe,K,ae;if(!En)return vn;for(Oe=it;Oe<En;Oe+=Ut)Te[Oe]&&(vn=Nt(vn,we(Te[Oe],Qe)));if(!ie.length)return vn;for(ie.length>xt&&(ft.warn("Grid headers exceed limit: "+xt),ie=ie.slice(0,xt)),vn+=Et,ze=0,N=ie.length;ze<N;++ze)ft.dirty(ie[ze]),ie[ze].mark.bounds.clear();for(Oe=it,ze=0,N=ie.length;ze<N;++ze,Oe+=Ut){for(be=ie[ze],V=be.mark.bounds,Dt=Oe;Dt>=0&&(xe=Te[Dt])==null;Dt-=sn);ne?(K=Cn==null?xe.x:Math.round(xe.bounds.x1+Cn*xe.bounds.width()),ae=vn):(K=vn,ae=Cn==null?xe.y:Math.round(xe.bounds.y1+Cn*xe.bounds.height())),V.union(be.bounds.translate(K-(be.x||0),ae-(be.y||0))),be.x=K,be.y=ae,ft.dirty(be),zn=Nt(zn,V[Qe])}return zn}function nn(ft,ie,Te,Ue,xt,Et){if(!!ie){ft.dirty(ie);var Nt=Te,ne=Te;Ue?Nt=Math.round(xt.x1+Et*xt.width()):ne=Math.round(xt.y1+Et*xt.height()),ie.bounds.translate(Nt-(ie.x||0),ne-(ie.y||0)),ie.mark.bounds.clear().union(ie.bounds),ie.x=Nt,ie.y=ne,ft.dirty(ie)}}function Qt(ft,ie){let Te=ft[ie]||{};return(Ue,xt)=>Te[Ue]!=null?Te[Ue]:ft[Ue]!=null?ft[Ue]:xt}function Fn(ft,ie){let Te=-1/0;return ft.forEach(Ue=>{Ue.offset!=null&&(Te=Math.max(Te,Ue.offset))}),Te>-1/0?Te:ie}function Wn(ft,ie,Te,Ue,xt,Et,Nt){let ne=Qt(Te,ie),we=Fn(ft,ne("offset",0)),Qe=ne("anchor",E),it=Qe===R?1:Qe===O?.5:0,Ut={align:Ce,bounds:ne("bounds",pe),columns:ne("direction")==="vertical"?1:ft.length,padding:ne("margin",8),center:ne("center"),nodirty:!0};switch(ie){case s:Ut.anchor={x:Math.floor(Ue.x1)-we,column:R,y:it*(Nt||Ue.height()+2*Ue.y1),row:Qe};break;case o:Ut.anchor={x:Math.ceil(Ue.x2)+we,y:it*(Nt||Ue.height()+2*Ue.y1),row:Qe};break;case i:Ut.anchor={y:Math.floor(xt.y1)-we,row:R,x:it*(Et||xt.width()+2*xt.x1),column:Qe};break;case a:Ut.anchor={y:Math.ceil(xt.y2)+we,x:it*(Et||xt.width()+2*xt.x1),column:Qe};break;case l:Ut.anchor={x:we,y:we};break;case f:Ut.anchor={x:Et-we,y:we,column:R};break;case p:Ut.anchor={x:we,y:Nt-we,row:R};break;case _:Ut.anchor={x:Et-we,y:Nt-we,column:R,row:R};break}return Ut}function Zn(ft,ie){var Te=ie.items[0],Ue=Te.datum,xt=Te.orient,Et=Te.bounds,Nt=Te.x,ne=Te.y,we,Qe;return Te._bounds?Te._bounds.clear().union(Et):Te._bounds=Et.clone(),Et.clear(),nr(ft,Te,Te.items[0].items[0]),Et=Nn(Te,Et),we=2*Te.padding,Qe=2*Te.padding,Et.empty()||(we=Math.ceil(Et.width()+we),Qe=Math.ceil(Et.height()+Qe)),Ue.type===bt&&oe(Te.items[0].items[0].items[0].items),xt!==ye&&(Te.x=Nt=0,Te.y=ne=0),Te.width=we,Te.height=Qe,t.boundStroke(Et.set(Nt,ne,Nt+we,ne+Qe),Te),Te.mark.bounds.clear().union(Et),Te}function Nn(ft,ie){return ft.items.forEach(Te=>ie.union(Te.bounds)),ie.x1=ft.padding,ie.y1=ft.padding,ie}function nr(ft,ie,Te){var Ue=ie.padding,xt=Ue-Te.x,Et=Ue-Te.y;if(!ie.datum.title)(xt||Et)&&yt(ft,Te,xt,Et);else{var Nt=ie.items[1].items[0],ne=Nt.anchor,we=ie.titlePadding||0,Qe=Ue-Nt.x,it=Ue-Nt.y;switch(Nt.orient){case s:xt+=Math.ceil(Nt.bounds.width())+we;break;case o:case a:break;default:Et+=Nt.bounds.height()+we}switch((xt||Et)&&yt(ft,Te,xt,Et),Nt.orient){case s:it+=Ke(ie,Te,Nt,ne,1,1);break;case o:Qe+=Ke(ie,Te,Nt,R,0,0)+we,it+=Ke(ie,Te,Nt,ne,1,1);break;case a:Qe+=Ke(ie,Te,Nt,ne,0,0),it+=Ke(ie,Te,Nt,R,-1,0,1)+we;break;default:Qe+=Ke(ie,Te,Nt,ne,0,0)}(Qe||it)&&yt(ft,Nt,Qe,it),(Qe=Math.round(Nt.bounds.x1-Ue))<0&&(yt(ft,Te,-Qe,0),yt(ft,Nt,-Qe,0))}}function Ke(ft,ie,Te,Ue,xt,Et,Nt){let ne=ft.datum.type!=="symbol",we=Te.datum.vgrad,Qe=ne&&(Et||!we)&&!Nt?ie.items[0]:ie,it=Qe.bounds[xt?"y2":"x2"]-ft.padding,Ut=we&&Et?it:0,sn=we&&Et?0:it,Cn=xt<=0?0:t.multiLineOffset(Te);return Math.round(Ue===E?Ut:Ue===R?sn-Cn:.5*(it-Cn))}function yt(ft,ie,Te,Ue){ie.x+=Te,ie.y+=Ue,ie.bounds.translate(Te,Ue),ie.mark.bounds.translate(Te,Ue),ft.dirty(ie)}function oe(ft){let ie=ft.reduce((Te,Ue)=>(Te[Ue.column]=Math.max(Ue.bounds.x2-Ue.x,Te[Ue.column]||0),Te),{});ft.forEach(Te=>{Te.width=ie[Te.column],Te.height=Te.bounds.y2-Te.y})}function je(ft,ie,Te,Ue,xt){var Et=ie.items[0],Nt=Et.frame,ne=Et.orient,we=Et.anchor,Qe=Et.offset,it=Et.padding,Ut=Et.items[0].items[0],sn=Et.items[1]&&Et.items[1].items[0],Cn=ne===s||ne===o?Ue:Te,En=0,vn=0,zn=0,Oe=0,ze=0,Dt;if(Nt!==L?ne===s?(En=xt.y2,Cn=xt.y1):ne===o?(En=xt.y1,Cn=xt.y2):(En=xt.x1,Cn=xt.x2):ne===s&&(En=Ue,Cn=0),Dt=we===E?En:we===R?Cn:(En+Cn)/2,sn&&sn.text){switch(ne){case i:case a:ze=Ut.bounds.height()+it;break;case s:Oe=Ut.bounds.width()+it;break;case o:Oe=-Ut.bounds.width()-it;break}_t.clear().union(sn.bounds),_t.translate(Oe-(sn.x||0),ze-(sn.y||0)),Lt(sn,"x",Oe)|Lt(sn,"y",ze)&&(ft.dirty(sn),sn.bounds.clear().union(_t),sn.mark.bounds.clear().union(_t),ft.dirty(sn)),_t.clear().union(sn.bounds)}else _t.clear();switch(_t.union(Ut.bounds),ne){case i:vn=Dt,zn=xt.y1-_t.height()-Qe;break;case s:vn=xt.x1-_t.width()-Qe,zn=Dt;break;case o:vn=xt.x2+_t.width()+Qe,zn=Dt;break;case a:vn=Dt,zn=xt.y2+Qe;break;default:vn=Et.x,zn=Et.y}return Lt(Et,"x",vn)|Lt(Et,"y",zn)&&(_t.translate(vn,zn),ft.dirty(Et),Et.bounds.clear().union(_t),ie.bounds.clear().union(_t),ft.dirty(Et)),Et.bounds}function nt(ft){e.Transform.call(this,null,ft)}r.inherits(nt,e.Transform,{transform(ft,ie){let Te=ie.dataflow;return ft.mark.items.forEach(Ue=>{ft.layout&&De(Te,Ue,ft.layout),hn(Te,Ue,ft)}),Rt(ft.mark.group)?ie.reflow():ie}});function Rt(ft){return ft&&ft.mark.role!=="legend-entry"}function hn(ft,ie,Te){var Ue=ie.items,xt=Math.max(0,ie.width||0),Et=Math.max(0,ie.height||0),Nt=new t.Bounds().set(0,0,xt,Et),ne=Nt.clone(),we=Nt.clone(),Qe=[],it,Ut,sn,Cn,En,vn;for(En=0,vn=Ue.length;En<vn;++En)switch(Ut=Ue[En],Ut.role){case B:Cn=Yt(Ut)?ne:we,Cn.union(fn(ft,Ut,xt,Et));break;case P:it=Ut;break;case I:Qe.push(Zn(ft,Ut));break;case G:case ue:case J:case he:case ve:case Ve:case ot:case lt:ne.union(Ut.bounds),we.union(Ut.bounds);break;default:Nt.union(Ut.bounds)}if(Qe.length){let zn={};Qe.forEach(Oe=>{sn=Oe.orient||o,sn!==ye&&(zn[sn]||(zn[sn]=[])).push(Oe)});for(let Oe in zn){let ze=zn[Oe];He(ft,ze,Wn(ze,Oe,Te.legends,ne,we,xt,Et))}Qe.forEach(Oe=>{let ze=Oe.bounds;if(ze.equals(Oe._bounds)||(Oe.bounds=Oe._bounds,ft.dirty(Oe),Oe.bounds=ze,ft.dirty(Oe)),Te.autosize&&Te.autosize.type===Pt)switch(Oe.orient){case s:case o:Nt.add(ze.x1,0).add(ze.x2,0);break;case i:case a:Nt.add(0,ze.y1).add(0,ze.y2)}else Nt.union(ze)})}Nt.union(ne).union(we),it&&Nt.union(je(ft,it,xt,Et,Nt)),ie.clip&&Nt.set(0,0,ie.width||0,ie.height||0),an(ft,ie,Nt,Te)}function an(ft,ie,Te,Ue){let xt=Ue.autosize||{},Et=xt.type;if(ft._autosize<1||!Et)return;let Nt=ft._width,ne=ft._height,we=Math.max(0,ie.width||0),Qe=Math.max(0,Math.ceil(-Te.x1)),it=Math.max(0,ie.height||0),Ut=Math.max(0,Math.ceil(-Te.y1)),sn=Math.max(0,Math.ceil(Te.x2-we)),Cn=Math.max(0,Math.ceil(Te.y2-it));if(xt.contains===et){let En=ft.padding();Nt-=En.left+En.right,ne-=En.top+En.bottom}Et===ye?(Qe=0,Ut=0,we=Nt,it=ne):Et===Pt?(we=Math.max(0,Nt-Qe-sn),it=Math.max(0,ne-Ut-Cn)):Et===$e?(we=Math.max(0,Nt-Qe-sn),ne=it+Ut+Cn):Et===te?(Nt=we+Qe+sn,it=Math.max(0,ne-Ut-Cn)):Et===Ze&&(Nt=we+Qe+sn,ne=it+Ut+Cn),ft._resizeView(Nt,ne,we,it,[Qe,Ut],xt.resize)}n.bound=Ht,n.identifier=Tt,n.mark=rn,n.overlap=_e,n.render=ct,n.viewlayout=nt,Object.defineProperty(n,"__esModule",{value:!0})})});var sDe=Ae((HH,iDe)=>{m();(function(n,e){typeof HH=="object"&&typeof iDe!="undefined"?e(HH,r0(),tE(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(HH,function(n,e,t,r){"use strict";function i(N){e.Transform.call(this,null,N)}r.inherits(i,e.Transform,{transform(N,V){if(this.value&&!N.modified())return V.StopPropagation;var be=V.dataflow.locale(),xe=V.fork(V.NO_SOURCE|V.NO_FIELDS),K=this.value,ae=N.scale,fe=N.count==null?N.values?N.values.length:10:N.count,Ge=t.tickCount(ae,fe,N.minstep),Mt=N.format||t.tickFormat(be,ae,Ge,N.formatSpecifier,N.formatType,!!N.values),At=N.values?t.validTicks(ae,N.values,Ge):t.tickValues(ae,Ge);return K&&(xe.rem=K),K=At.map((dn,w)=>e.ingest({index:w/(At.length-1||1),value:dn,label:Mt(dn)})),N.extra&&K.length&&K.push(e.ingest({index:-1,extra:{value:K[0].value},label:""})),xe.source=K,xe.add=K,this.value=K,xe}});function s(N){e.Transform.call(this,null,N)}function o(){return e.ingest({})}function a(N){let V=r.fastmap().test(be=>be.exit);return V.lookup=be=>V.get(N(be)),V}r.inherits(s,e.Transform,{transform(N,V){var be=V.dataflow,xe=V.fork(V.NO_SOURCE|V.NO_FIELDS),K=N.item||o,ae=N.key||e.tupleid,fe=this.value;return r.isArray(xe.encode)&&(xe.encode=null),fe&&(N.modified("key")||V.modified(ae))&&r.error("DataJoin does not support modified key function or fields."),fe||(V=V.addAll(),this.value=fe=a(ae)),V.visit(V.ADD,Ge=>{let Mt=ae(Ge),At=fe.get(Mt);At?At.exit?(fe.empty--,xe.add.push(At)):xe.mod.push(At):(At=K(Ge),fe.set(Mt,At),xe.add.push(At)),At.datum=Ge,At.exit=!1}),V.visit(V.MOD,Ge=>{let Mt=ae(Ge),At=fe.get(Mt);At&&(At.datum=Ge,xe.mod.push(At))}),V.visit(V.REM,Ge=>{let Mt=ae(Ge),At=fe.get(Mt);Ge===At.datum&&!At.exit&&(xe.rem.push(At),At.exit=!0,++fe.empty)}),V.changed(V.ADD_MOD)&&xe.modifies("datum"),(V.clean()||N.clean&&fe.empty>be.cleanThreshold)&&be.runAfter(fe.clean),xe}});function l(N){e.Transform.call(this,null,N)}r.inherits(l,e.Transform,{transform(N,V){var be=V.fork(V.ADD_REM),xe=N.mod||!1,K=N.encoders,ae=V.encode;if(r.isArray(ae))if(be.changed()||ae.every(w=>K[w]))ae=ae[0],be.encode=null;else return V.StopPropagation;var fe=ae==="enter",Ge=K.update||r.falsy,Mt=K.enter||r.falsy,At=K.exit||r.falsy,dn=(ae&&!fe?K[ae]:Ge)||r.falsy;if(V.changed(V.ADD)&&(V.visit(V.ADD,w=>{Mt(w,N),Ge(w,N)}),be.modifies(Mt.output),be.modifies(Ge.output),dn!==r.falsy&&dn!==Ge&&(V.visit(V.ADD,w=>{dn(w,N)}),be.modifies(dn.output))),V.changed(V.REM)&&At!==r.falsy&&(V.visit(V.REM,w=>{At(w,N)}),be.modifies(At.output)),fe||dn!==r.falsy){let w=V.MOD|(N.modified()?V.REFLOW:0);fe?(V.visit(w,j=>{let ee=Mt(j,N)||xe;(dn(j,N)||ee)&&be.mod.push(j)}),be.mod.length&&be.modifies(Mt.output)):V.visit(w,j=>{(dn(j,N)||xe)&&be.mod.push(j)}),be.mod.length&&be.modifies(dn.output)}return be.changed()?be:V.StopPropagation}});function f(N){e.Transform.call(this,[],N)}r.inherits(f,e.Transform,{transform(N,V){if(this.value!=null&&!N.modified())return V.StopPropagation;var be=V.dataflow.locale(),xe=V.fork(V.NO_SOURCE|V.NO_FIELDS),K=this.value,ae=N.type||t.SymbolLegend,fe=N.scale,Ge=+N.limit,Mt=t.tickCount(fe,N.count==null?5:N.count,N.minstep),At=!!N.values||ae===t.SymbolLegend,dn=N.format||t.labelFormat(be,fe,Mt,ae,N.formatSpecifier,N.formatType,At),w=N.values||t.labelValues(fe,Mt),j,ee,Ee,dt,Ft;return K&&(xe.rem=K),ae===t.SymbolLegend?(Ge&&w.length>Ge?(V.dataflow.warn("Symbol legend count exceeds limit, filtering items."),K=w.slice(0,Ge-1),Ft=!0):K=w,r.isFunction(Ee=N.size)?(!N.values&&fe(K[0])===0&&(K=K.slice(1)),dt=K.reduce((Zt,Xt)=>Math.max(Zt,Ee(Xt,N)),0)):Ee=r.constant(dt=Ee||8),K=K.map((Zt,Xt)=>e.ingest({index:Xt,label:dn(Zt,Xt,K),value:Zt,offset:dt,size:Ee(Zt,N)})),Ft&&(Ft=w[K.length],K.push(e.ingest({index:K.length,label:`\u2026${w.length-K.length} entries`,value:Ft,offset:dt,size:Ee(Ft,N)})))):ae===t.GradientLegend?(j=fe.domain(),ee=t.scaleFraction(fe,j[0],r.peek(j)),w.length<3&&!N.values&&j[0]!==r.peek(j)&&(w=[j[0],r.peek(j)]),K=w.map((Zt,Xt)=>e.ingest({index:Xt,label:dn(Zt,Xt,w),value:Zt,perc:ee(Zt)}))):(Ee=w.length-1,ee=t.labelFraction(fe),K=w.map((Zt,Xt)=>e.ingest({index:Xt,label:dn(Zt,Xt,w),value:Zt,perc:Xt?ee(Zt):0,perc2:Xt===Ee?1:ee(w[Xt+1])}))),xe.source=K,xe.add=K,this.value=K,xe}});let p=N=>N.source.x,_=N=>N.source.y,E=N=>N.target.x,O=N=>N.target.y;function R(N){e.Transform.call(this,{},N)}R.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},r.inherits(R,e.Transform,{transform(N,V){var be=N.sourceX||p,xe=N.sourceY||_,K=N.targetX||E,ae=N.targetY||O,fe=N.as||"path",Ge=N.orient||"vertical",Mt=N.shape||"line",At=ot.get(Mt+"-"+Ge)||ot.get(Mt);return At||r.error("LinkPath unsupported type: "+N.shape+(N.orient?"-"+N.orient:"")),V.visit(V.SOURCE,dn=>{dn[fe]=At(be(dn),xe(dn),K(dn),ae(dn))}),V.reflow(N.modified()).modifies(fe)}});let q=(N,V,be,xe)=>"M"+N+","+V+"L"+be+","+xe,z=(N,V,be,xe)=>q(V*Math.cos(N),V*Math.sin(N),xe*Math.cos(be),xe*Math.sin(be)),L=(N,V,be,xe)=>{var K=be-N,ae=xe-V,fe=Math.sqrt(K*K+ae*ae)/2,Ge=180*Math.atan2(ae,K)/Math.PI;return"M"+N+","+V+"A"+fe+","+fe+" "+Ge+" 0 1 "+be+","+xe},B=(N,V,be,xe)=>L(V*Math.cos(N),V*Math.sin(N),xe*Math.cos(be),xe*Math.sin(be)),P=(N,V,be,xe)=>{let K=be-N,ae=xe-V,fe=.2*(K+ae),Ge=.2*(ae-K);return"M"+N+","+V+"C"+(N+fe)+","+(V+Ge)+" "+(be+Ge)+","+(xe-fe)+" "+be+","+xe},G=(N,V,be,xe)=>P(V*Math.cos(N),V*Math.sin(N),xe*Math.cos(be),xe*Math.sin(be)),ue=(N,V,be,xe)=>"M"+N+","+V+"V"+xe+"H"+be,I=(N,V,be,xe)=>"M"+N+","+V+"H"+be+"V"+xe,J=(N,V,be,xe)=>{let K=Math.cos(N),ae=Math.sin(N),fe=Math.cos(be),Ge=Math.sin(be),Mt=Math.abs(be-N)>Math.PI?be<=N:be>N;return"M"+V*K+","+V*ae+"A"+V+","+V+" 0 0,"+(Mt?1:0)+" "+V*fe+","+V*Ge+"L"+xe*fe+","+xe*Ge},he=(N,V,be,xe)=>{let K=(N+be)/2;return"M"+N+","+V+"C"+K+","+V+" "+K+","+xe+" "+be+","+xe},ve=(N,V,be,xe)=>{let K=(V+xe)/2;return"M"+N+","+V+"C"+N+","+K+" "+be+","+K+" "+be+","+xe},Ve=(N,V,be,xe)=>{let K=Math.cos(N),ae=Math.sin(N),fe=Math.cos(be),Ge=Math.sin(be),Mt=(V+xe)/2;return"M"+V*K+","+V*ae+"C"+Mt*K+","+Mt*ae+" "+Mt*fe+","+Mt*Ge+" "+xe*fe+","+xe*Ge},ot=r.fastmap({line:q,"line-radial":z,arc:L,"arc-radial":B,curve:P,"curve-radial":G,"orthogonal-horizontal":ue,"orthogonal-vertical":I,"orthogonal-radial":J,"diagonal-horizontal":he,"diagonal-vertical":ve,"diagonal-radial":Ve});function lt(N,V,be){N=+N,V=+V,be=(K=arguments.length)<2?(V=N,N=0,1):K<3?1:+be;for(var xe=-1,K=Math.max(0,Math.ceil((V-N)/be))|0,ae=new Array(K);++xe<K;)ae[xe]=N+xe*be;return ae}function et(N,V){let be=0;if(V===void 0)for(let xe of N)(xe=+xe)&&(be+=xe);else{let xe=-1;for(let K of N)(K=+V(K,++xe,N))&&(be+=K)}return be}function bt(N){e.Transform.call(this,null,N)}bt.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},r.inherits(bt,e.Transform,{transform(N,V){var be=N.as||["startAngle","endAngle"],xe=be[0],K=be[1],ae=N.field||r.one,fe=N.startAngle||0,Ge=N.endAngle!=null?N.endAngle:2*Math.PI,Mt=V.source,At=Mt.map(ae),dn=At.length,w=fe,j=(Ge-fe)/et(At),ee=lt(dn),Ee,dt,Ft;for(N.sort&&ee.sort((Zt,Xt)=>At[Zt]-At[Xt]),Ee=0;Ee<dn;++Ee)Ft=At[ee[Ee]],dt=Mt[ee[Ee]],dt[xe]=w,dt[K]=w+=Ft*j;return this.value=At,V.reflow(N.modified()).modifies(be)}});function Pt(N,V,be){N.prototype=V.prototype=be,be.constructor=N}function $e(N,V){var be=Object.create(N.prototype);for(var xe in V)be[xe]=V[xe];return be}function te(){}var Ze=.7,ye=1/Ze,Le="\\s*([+-]?\\d+)\\s*",Ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Je=/^#([0-9a-f]{3,8})$/,ut=new RegExp("^rgb\\("+[Le,Le,Le]+"\\)$"),Ht=new RegExp("^rgb\\("+[pe,pe,pe]+"\\)$"),Ct=new RegExp("^rgba\\("+[Le,Le,Le,Ce]+"\\)$"),xn=new RegExp("^rgba\\("+[pe,pe,pe,Ce]+"\\)$"),Tt=new RegExp("^hsl\\("+[Ce,pe,pe]+"\\)$"),Ot=new RegExp("^hsla\\("+[Ce,pe,pe,Ce]+"\\)$"),rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pt(te,Se,{copy:function(N){return Object.assign(new this.constructor,this,N)},displayable:function(){return this.rgb().displayable()},hex:St,formatHex:St,formatHsl:_e,formatRgb:ke,toString:ke});function St(){return this.rgb().formatHex()}function _e(){return Gt(this).formatHsl()}function ke(){return this.rgb().formatRgb()}function Se(N){var V,be;return N=(N+"").trim().toLowerCase(),(V=Je.exec(N))?(be=V[1].length,V=parseInt(V[1],16),be===6?ce(V):be===3?new Ne(V>>8&15|V>>4&240,V>>4&15|V&240,(V&15)<<4|V&15,1):be===8?tt(V>>24&255,V>>16&255,V>>8&255,(V&255)/255):be===4?tt(V>>12&15|V>>8&240,V>>8&15|V>>4&240,V>>4&15|V&240,((V&15)<<4|V&15)/255):null):(V=ut.exec(N))?new Ne(V[1],V[2],V[3],1):(V=Ht.exec(N))?new Ne(V[1]*255/100,V[2]*255/100,V[3]*255/100,1):(V=Ct.exec(N))?tt(V[1],V[2],V[3],V[4]):(V=xn.exec(N))?tt(V[1]*255/100,V[2]*255/100,V[3]*255/100,V[4]):(V=Tt.exec(N))?Yt(V[1],V[2]/100,V[3]/100,1):(V=Ot.exec(N))?Yt(V[1],V[2]/100,V[3]/100,V[4]):rn.hasOwnProperty(N)?ce(rn[N]):N==="transparent"?new Ne(NaN,NaN,NaN,0):null}function ce(N){return new Ne(N>>16&255,N>>8&255,N&255,1)}function tt(N,V,be,xe){return xe<=0&&(N=V=be=NaN),new Ne(N,V,be,xe)}function Ie(N){return N instanceof te||(N=Se(N)),N?(N=N.rgb(),new Ne(N.r,N.g,N.b,N.opacity)):new Ne}function re(N,V,be,xe){return arguments.length===1?Ie(N):new Ne(N,V,be,xe??1)}function Ne(N,V,be,xe){this.r=+N,this.g=+V,this.b=+be,this.opacity=+xe}Pt(Ne,re,$e(te,{brighter:function(N){return N=N==null?ye:Math.pow(ye,N),new Ne(this.r*N,this.g*N,this.b*N,this.opacity)},darker:function(N){return N=N==null?Ze:Math.pow(Ze,N),new Ne(this.r*N,this.g*N,this.b*N,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ct,formatHex:ct,formatRgb:_t,toString:_t}));function ct(){return"#"+Lt(this.r)+Lt(this.g)+Lt(this.b)}function _t(){var N=this.opacity;return N=isNaN(N)?1:Math.max(0,Math.min(1,N)),(N===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(N===1?")":", "+N+")")}function Lt(N){return N=Math.max(0,Math.min(255,Math.round(N)||0)),(N<16?"0":"")+N.toString(16)}function Yt(N,V,be,xe){return xe<=0?N=V=be=NaN:be<=0||be>=1?N=V=NaN:V<=0&&(N=NaN),new gn(N,V,be,xe)}function Gt(N){if(N instanceof gn)return new gn(N.h,N.s,N.l,N.opacity);if(N instanceof te||(N=Se(N)),!N)return new gn;if(N instanceof gn)return N;N=N.rgb();var V=N.r/255,be=N.g/255,xe=N.b/255,K=Math.min(V,be,xe),ae=Math.max(V,be,xe),fe=NaN,Ge=ae-K,Mt=(ae+K)/2;return Ge?(V===ae?fe=(be-xe)/Ge+(be<xe)*6:be===ae?fe=(xe-V)/Ge+2:fe=(V-be)/Ge+4,Ge/=Mt<.5?ae+K:2-ae-K,fe*=60):Ge=Mt>0&&Mt<1?0:fe,new gn(fe,Ge,Mt,N.opacity)}function fn(N,V,be,xe){return arguments.length===1?Gt(N):new gn(N,V,be,xe??1)}function gn(N,V,be,xe){this.h=+N,this.s=+V,this.l=+be,this.opacity=+xe}Pt(gn,fn,$e(te,{brighter:function(N){return N=N==null?ye:Math.pow(ye,N),new gn(this.h,this.s,this.l*N,this.opacity)},darker:function(N){return N=N==null?Ze:Math.pow(Ze,N),new gn(this.h,this.s,this.l*N,this.opacity)},rgb:function(){var N=this.h%360+(this.h<0)*360,V=isNaN(N)||isNaN(this.s)?0:this.s,be=this.l,xe=be+(be<.5?be:1-be)*V,K=2*be-xe;return new Ne(yn(N>=240?N-240:N+120,K,xe),yn(N,K,xe),yn(N<120?N+240:N-120,K,xe),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var N=this.opacity;return N=isNaN(N)?1:Math.max(0,Math.min(1,N)),(N===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(N===1?")":", "+N+")")}}));function yn(N,V,be){return(N<60?V+(be-V)*N/60:N<180?be:N<240?V+(be-V)*(240-N)/60:V)*255}var It=N=>()=>N;function un(N,V){return function(be){return N+be*V}}function Mn(N,V,be){return N=Math.pow(N,be),V=Math.pow(V,be)-N,be=1/be,function(xe){return Math.pow(N+xe*V,be)}}function tr(N){return(N=+N)==1?Rn:function(V,be){return be-V?Mn(V,be,N):It(isNaN(V)?be:V)}}function Rn(N,V){var be=V-N;return be?un(N,be):It(isNaN(N)?V:N)}var Re=function N(V){var be=tr(V);function xe(K,ae){var fe=be((K=re(K)).r,(ae=re(ae)).r),Ge=be(K.g,ae.g),Mt=be(K.b,ae.b),At=Rn(K.opacity,ae.opacity);return function(dn){return K.r=fe(dn),K.g=Ge(dn),K.b=Mt(dn),K.opacity=At(dn),K+""}}return xe.gamma=N,xe}(1);function He(N,V){V||(V=[]);var be=N?Math.min(V.length,N.length):0,xe=V.slice(),K;return function(ae){for(K=0;K<be;++K)xe[K]=N[K]*(1-ae)+V[K]*ae;return xe}}function De(N){return ArrayBuffer.isView(N)&&!(N instanceof DataView)}function Bt(N,V){var be=V?V.length:0,xe=N?Math.min(be,N.length):0,K=new Array(xe),ae=new Array(be),fe;for(fe=0;fe<xe;++fe)K[fe]=nr(N[fe],V[fe]);for(;fe<be;++fe)ae[fe]=V[fe];return function(Ge){for(fe=0;fe<xe;++fe)ae[fe]=K[fe](Ge);return ae}}function pt(N,V){var be=new Date;return N=+N,V=+V,function(xe){return be.setTime(N*(1-xe)+V*xe),be}}function mt(N,V){return N=+N,V=+V,function(be){return N*(1-be)+V*be}}function nn(N,V){var be={},xe={},K;(N===null||typeof N!="object")&&(N={}),(V===null||typeof V!="object")&&(V={});for(K in V)K in N?be[K]=nr(N[K],V[K]):xe[K]=V[K];return function(ae){for(K in be)xe[K]=be[K](ae);return xe}}var Qt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fn=new RegExp(Qt.source,"g");function Wn(N){return function(){return N}}function Zn(N){return function(V){return N(V)+""}}function Nn(N,V){var be=Qt.lastIndex=Fn.lastIndex=0,xe,K,ae,fe=-1,Ge=[],Mt=[];for(N=N+"",V=V+"";(xe=Qt.exec(N))&&(K=Fn.exec(V));)(ae=K.index)>be&&(ae=V.slice(be,ae),Ge[fe]?Ge[fe]+=ae:Ge[++fe]=ae),(xe=xe[0])===(K=K[0])?Ge[fe]?Ge[fe]+=K:Ge[++fe]=K:(Ge[++fe]=null,Mt.push({i:fe,x:mt(xe,K)})),be=Fn.lastIndex;return be<V.length&&(ae=V.slice(be),Ge[fe]?Ge[fe]+=ae:Ge[++fe]=ae),Ge.length<2?Mt[0]?Zn(Mt[0].x):Wn(V):(V=Mt.length,function(At){for(var dn=0,w;dn<V;++dn)Ge[(w=Mt[dn]).i]=w.x(At);return Ge.join("")})}function nr(N,V){var be=typeof V,xe;return V==null||be==="boolean"?It(V):(be==="number"?mt:be==="string"?(xe=Se(V))?(V=xe,Re):Nn:V instanceof Se?Re:V instanceof Date?pt:De(V)?He:Array.isArray(V)?Bt:typeof V.valueOf!="function"&&typeof V.toString!="function"||isNaN(V)?nn:mt)(N,V)}function Ke(N,V){return N=+N,V=+V,function(be){return Math.round(N*(1-be)+V*be)}}let yt=5;function oe(N){let V=N.type;return!N.bins&&(V===t.Linear||V===t.Pow||V===t.Sqrt)}function je(N){return t.isContinuous(N)&&N!==t.Sequential}let nt=r.toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Rt(N){e.Transform.call(this,null,N),this.modified(!0)}r.inherits(Rt,e.Transform,{transform(N,V){var be=V.dataflow,xe=this.value,K=hn(N);(!xe||K!==xe.type)&&(this.value=xe=t.scale(K)());for(K in N)if(!nt[K]){if(K==="padding"&&je(xe.type))continue;r.isFunction(xe[K])?xe[K](N[K]):be.warn("Unsupported scale property: "+K)}return Et(xe,N,xt(xe,N,ft(xe,N,be))),V.fork(V.NO_SOURCE|V.NO_FIELDS)}});function hn(N){var V=N.type,be="",xe;return V===t.Sequential?t.Sequential+"-"+t.Linear:(an(N)&&(xe=N.rawDomain?N.rawDomain.length:N.domain?N.domain.length+ +(N.domainMid!=null):0,be=xe===2?t.Sequential+"-":xe===3?t.Diverging+"-":""),(be+V||t.Linear).toLowerCase())}function an(N){let V=N.type;return t.isContinuous(V)&&V!==t.Time&&V!==t.UTC&&(N.scheme||N.range&&N.range.length&&N.range.every(r.isString))}function ft(N,V,be){let xe=ie(N,V.domainRaw,be);if(xe>-1)return xe;var K=V.domain,ae=N.type,fe=V.zero||V.zero===void 0&&oe(N),Ge,Mt;if(!K)return 0;if(je(ae)&&V.padding&&K[0]!==r.peek(K)&&(K=Te(ae,K,V.range,V.padding,V.exponent,V.constant)),(fe||V.domainMin!=null||V.domainMax!=null||V.domainMid!=null)&&(Ge=(K=K.slice()).length-1||1,fe&&(K[0]>0&&(K[0]=0),K[Ge]<0&&(K[Ge]=0)),V.domainMin!=null&&(K[0]=V.domainMin),V.domainMax!=null&&(K[Ge]=V.domainMax),V.domainMid!=null)){Mt=V.domainMid;let At=Mt>K[Ge]?Ge+1:Mt<K[0]?0:Ge;At!==Ge&&be.warn("Scale domainMid exceeds domain min or max.",Mt),K.splice(At,0,Mt)}return N.domain(Ue(ae,K,be)),ae===t.Ordinal&&N.unknown(V.domainImplicit?t.scaleImplicit:void 0),V.nice&&N.nice&&N.nice(V.nice!==!0&&t.tickCount(N,V.nice)||null),K.length}function ie(N,V,be){return V?(N.domain(Ue(N.type,V,be)),V.length):-1}function Te(N,V,be,xe,K,ae){var fe=Math.abs(r.peek(be)-be[0]),Ge=fe/(fe-2*xe),Mt=N===t.Log?r.zoomLog(V,null,Ge):N===t.Sqrt?r.zoomPow(V,null,Ge,.5):N===t.Pow?r.zoomPow(V,null,Ge,K||1):N===t.Symlog?r.zoomSymlog(V,null,Ge,ae||1):r.zoomLinear(V,null,Ge);return V=V.slice(),V[0]=Mt[0],V[V.length-1]=Mt[1],V}function Ue(N,V,be){if(t.isLogarithmic(N)){var xe=Math.abs(V.reduce((K,ae)=>K+(ae<0?-1:ae>0?1:0),0));xe!==V.length&&be.warn("Log scale domain includes zero: "+r.stringValue(V))}return V}function xt(N,V,be){let xe=V.bins;if(xe&&!r.isArray(xe)){let K=N.domain(),ae=K[0],fe=r.peek(K),Ge=xe.step,Mt=xe.start==null?ae:xe.start,At=xe.stop==null?fe:xe.stop;Ge||r.error("Scale bins parameter missing step property."),Mt<ae&&(Mt=Ge*Math.ceil(ae/Ge)),At>fe&&(At=Ge*Math.floor(fe/Ge)),xe=lt(Mt,At+Ge/2,Ge)}return xe?N.bins=xe:N.bins&&delete N.bins,N.type===t.BinOrdinal&&(xe?!V.domain&&!V.domainRaw&&(N.domain(xe),be=xe.length):N.bins=N.domain()),be}function Et(N,V,be){var xe=N.type,K=V.round||!1,ae=V.range;if(V.rangeStep!=null)ae=Nt(xe,V,be);else if(V.scheme&&(ae=ne(xe,V,be),r.isFunction(ae))){if(N.interpolator)return N.interpolator(ae);r.error(`Scale type ${xe} does not support interpolating color schemes.`)}if(ae&&t.isInterpolating(xe))return N.interpolator(t.interpolateColors(Qe(ae,V.reverse),V.interpolate,V.interpolateGamma));ae&&V.interpolate&&N.interpolate?N.interpolate(t.interpolate(V.interpolate,V.interpolateGamma)):r.isFunction(N.round)?N.round(K):r.isFunction(N.rangeRound)&&N.interpolate(K?Ke:nr),ae&&N.range(Qe(ae,V.reverse))}function Nt(N,V,be){N!==t.Band&&N!==t.Point&&r.error("Only band and point scales support rangeStep.");var xe=(V.paddingOuter!=null?V.paddingOuter:V.padding)||0,K=N===t.Point?1:(V.paddingInner!=null?V.paddingInner:V.padding)||0;return[0,V.rangeStep*t.bandSpace(be,K,xe)]}function ne(N,V,be){var xe=V.schemeExtent,K,ae;return r.isArray(V.scheme)?ae=t.interpolateColors(V.scheme,V.interpolate,V.interpolateGamma):(K=V.scheme.toLowerCase(),ae=t.scheme(K),ae||r.error(`Unrecognized scheme name: ${V.scheme}`)),be=N===t.Threshold?be+1:N===t.BinOrdinal?be-1:N===t.Quantile||N===t.Quantize?+V.schemeCount||yt:be,t.isInterpolating(N)?we(ae,xe,V.reverse):r.isFunction(ae)?t.quantizeInterpolator(we(ae,xe),be):N===t.Ordinal?ae:ae.slice(0,be)}function we(N,V,be){return r.isFunction(N)&&(V||be)?t.interpolateRange(N,Qe(V||[0,1],be)):N}function Qe(N,V){return V?N.slice().reverse():N}function it(N){e.Transform.call(this,null,N)}r.inherits(it,e.Transform,{transform(N,V){let be=N.modified("sort")||V.changed(V.ADD)||V.modified(N.sort.fields)||V.modified("datum");return be&&V.source.sort(e.stableCompare(N.sort)),this.modified(be),V}});let Ut="zero",sn="center",Cn="normalize",En=["y0","y1"];function vn(N){e.Transform.call(this,null,N)}vn.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Ut,values:[Ut,sn,Cn]},{name:"as",type:"string",array:!0,length:2,default:En}]},r.inherits(vn,e.Transform,{transform(N,V){var be=N.as||En,xe=be[0],K=be[1],ae=e.stableCompare(N.sort),fe=N.field||r.one,Ge=N.offset===sn?zn:N.offset===Cn?Oe:ze,Mt,At,dn,w;for(Mt=Dt(V.source,N.groupby,ae,fe),At=0,dn=Mt.length,w=Mt.max;At<dn;++At)Ge(Mt[At],w,fe,xe,K);return V.reflow(N.modified()).modifies(be)}});function zn(N,V,be,xe,K){for(var ae=(V-N.sum)/2,fe=N.length,Ge=0,Mt;Ge<fe;++Ge)Mt=N[Ge],Mt[xe]=ae,Mt[K]=ae+=Math.abs(be(Mt))}function Oe(N,V,be,xe,K){for(var ae=1/N.sum,fe=0,Ge=N.length,Mt=0,At=0,dn;Mt<Ge;++Mt)dn=N[Mt],dn[xe]=fe,dn[K]=fe=ae*(At+=Math.abs(be(dn)))}function ze(N,V,be,xe,K){for(var ae=0,fe=0,Ge=N.length,Mt=0,At,dn;Mt<Ge;++Mt)dn=N[Mt],At=+be(dn),At<0?(dn[xe]=fe,dn[K]=fe+=At):(dn[xe]=ae,dn[K]=ae+=At)}function Dt(N,V,be,xe){var K=[],ae=dt=>dt(dn),fe,Ge,Mt,At,dn,w,j,ee,Ee;if(V==null)K.push(N.slice());else for(fe={},Ge=0,Mt=N.length;Ge<Mt;++Ge)dn=N[Ge],w=V.map(ae),j=fe[w],j||(fe[w]=j=[],K.push(j)),j.push(dn);for(w=0,Ee=0,At=K.length;w<At;++w){for(j=K[w],Ge=0,ee=0,Mt=j.length;Ge<Mt;++Ge)ee+=Math.abs(xe(j[Ge]));j.sum=ee,ee>Ee&&(Ee=ee),be&&j.sort(be)}return K.max=Ee,K}n.axisticks=i,n.datajoin=s,n.encode=l,n.legendentries=f,n.linkpath=R,n.pie=bt,n.scale=Rt,n.sortitems=it,n.stack=vn,Object.defineProperty(n,"__esModule",{value:!0})})});var rle=Ae((VH,oDe)=>{m();(function(n,e){typeof VH=="object"&&typeof oDe!="undefined"?e(VH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(VH,function(n){"use strict";class e{constructor(){this._partials=new Float64Array(32),this._n=0}add(gt){let Jt=this._partials,$t=0;for(let pn=0;pn<this._n&&pn<32;pn++){let Ln=Jt[pn],Kn=gt+Ln,$n=Math.abs(gt)<Math.abs(Ln)?gt-(Kn-Ln):Ln-(Kn-gt);$n&&(Jt[$t++]=$n),gt=Kn}return Jt[$t]=gt,this._n=$t+1,this}valueOf(){let gt=this._partials,Jt=this._n,$t,pn,Ln,Kn=0;if(Jt>0){for(Kn=gt[--Jt];Jt>0&&($t=Kn,pn=gt[--Jt],Kn=$t+pn,Ln=pn-(Kn-$t),!Ln););Jt>0&&(Ln<0&&gt[Jt-1]<0||Ln>0&&gt[Jt-1]>0)&&(pn=Ln*2,$t=Kn+pn,pn==$t-Kn&&(Kn=$t))}return Kn}}function*t(Me){for(let gt of Me)yield*gt}function r(Me){return Array.from(t(Me))}var i=1e-6,s=1e-12,o=Math.PI,a=o/2,l=o/4,f=o*2,p=180/o,_=o/180,E=Math.abs,O=Math.atan,R=Math.atan2,q=Math.cos,z=Math.exp,L=Math.log,B=Math.pow,P=Math.sin,G=Math.sign||function(Me){return Me>0?1:Me<0?-1:0},ue=Math.sqrt,I=Math.tan;function J(Me){return Me>1?0:Me<-1?o:Math.acos(Me)}function he(Me){return Me>1?a:Me<-1?-a:Math.asin(Me)}function ve(){}function Ve(Me,gt){Me&&lt.hasOwnProperty(Me.type)&&lt[Me.type](Me,gt)}var ot={Feature:function(Me,gt){Ve(Me.geometry,gt)},FeatureCollection:function(Me,gt){for(var Jt=Me.features,$t=-1,pn=Jt.length;++$t<pn;)Ve(Jt[$t].geometry,gt)}},lt={Sphere:function(Me,gt){gt.sphere()},Point:function(Me,gt){Me=Me.coordinates,gt.point(Me[0],Me[1],Me[2])},MultiPoint:function(Me,gt){for(var Jt=Me.coordinates,$t=-1,pn=Jt.length;++$t<pn;)Me=Jt[$t],gt.point(Me[0],Me[1],Me[2])},LineString:function(Me,gt){et(Me.coordinates,gt,0)},MultiLineString:function(Me,gt){for(var Jt=Me.coordinates,$t=-1,pn=Jt.length;++$t<pn;)et(Jt[$t],gt,0)},Polygon:function(Me,gt){bt(Me.coordinates,gt)},MultiPolygon:function(Me,gt){for(var Jt=Me.coordinates,$t=-1,pn=Jt.length;++$t<pn;)bt(Jt[$t],gt)},GeometryCollection:function(Me,gt){for(var Jt=Me.geometries,$t=-1,pn=Jt.length;++$t<pn;)Ve(Jt[$t],gt)}};function et(Me,gt,Jt){var $t=-1,pn=Me.length-Jt,Ln;for(gt.lineStart();++$t<pn;)Ln=Me[$t],gt.point(Ln[0],Ln[1],Ln[2]);gt.lineEnd()}function bt(Me,gt){var Jt=-1,$t=Me.length;for(gt.polygonStart();++Jt<$t;)et(Me[Jt],gt,1);gt.polygonEnd()}function Pt(Me,gt){Me&&ot.hasOwnProperty(Me.type)?ot[Me.type](Me,gt):Ve(Me,gt)}function $e(Me){return[R(Me[1],Me[0]),he(Me[2])]}function te(Me){var gt=Me[0],Jt=Me[1],$t=q(Jt);return[$t*q(gt),$t*P(gt),P(Jt)]}function Ze(Me,gt){return Me[0]*gt[0]+Me[1]*gt[1]+Me[2]*gt[2]}function ye(Me,gt){return[Me[1]*gt[2]-Me[2]*gt[1],Me[2]*gt[0]-Me[0]*gt[2],Me[0]*gt[1]-Me[1]*gt[0]]}function Le(Me,gt){Me[0]+=gt[0],Me[1]+=gt[1],Me[2]+=gt[2]}function Ce(Me,gt){return[Me[0]*gt,Me[1]*gt,Me[2]*gt]}function pe(Me){var gt=ue(Me[0]*Me[0]+Me[1]*Me[1]+Me[2]*Me[2]);Me[0]/=gt,Me[1]/=gt,Me[2]/=gt}function Je(Me,gt){function Jt($t,pn){return $t=Me($t,pn),gt($t[0],$t[1])}return Me.invert&&gt.invert&&(Jt.invert=function($t,pn){return $t=gt.invert($t,pn),$t&&Me.invert($t[0],$t[1])}),Jt}function ut(Me,gt){return[E(Me)>o?Me+Math.round(-Me/f)*f:Me,gt]}ut.invert=ut;function Ht(Me,gt,Jt){return(Me%=f)?gt||Jt?Je(xn(Me),Tt(gt,Jt)):xn(Me):gt||Jt?Tt(gt,Jt):ut}function Ct(Me){return function(gt,Jt){return gt+=Me,[gt>o?gt-f:gt<-o?gt+f:gt,Jt]}}function xn(Me){var gt=Ct(Me);return gt.invert=Ct(-Me),gt}function Tt(Me,gt){var Jt=q(Me),$t=P(Me),pn=q(gt),Ln=P(gt);function Kn($n,br){var Cr=q(br),Gn=q($n)*Cr,ar=P($n)*Cr,er=P(br),gr=er*Jt+Gn*$t;return[R(ar*pn-gr*Ln,Gn*Jt-er*$t),he(gr*pn+ar*Ln)]}return Kn.invert=function($n,br){var Cr=q(br),Gn=q($n)*Cr,ar=P($n)*Cr,er=P(br),gr=er*pn-ar*Ln;return[R(ar*pn+er*Ln,Gn*Jt+gr*$t),he(gr*Jt-Gn*$t)]},Kn}function Ot(Me){Me=Ht(Me[0]*_,Me[1]*_,Me.length>2?Me[2]*_:0);function gt(Jt){return Jt=Me(Jt[0]*_,Jt[1]*_),Jt[0]*=p,Jt[1]*=p,Jt}return gt.invert=function(Jt){return Jt=Me.invert(Jt[0]*_,Jt[1]*_),Jt[0]*=p,Jt[1]*=p,Jt},gt}function rn(Me,gt,Jt,$t,pn,Ln){if(!!Jt){var Kn=q(gt),$n=P(gt),br=$t*Jt;pn==null?(pn=gt+$t*f,Ln=gt-br/2):(pn=St(Kn,pn),Ln=St(Kn,Ln),($t>0?pn<Ln:pn>Ln)&&(pn+=$t*f));for(var Cr,Gn=pn;$t>0?Gn>Ln:Gn<Ln;Gn-=br)Cr=$e([Kn,-$n*q(Gn),-$n*P(Gn)]),Me.point(Cr[0],Cr[1])}}function St(Me,gt){gt=te(gt),gt[0]-=Me,pe(gt);var Jt=J(-gt[1]);return((-gt[2]<0?-Jt:Jt)+f-i)%f}function _e(){var Me=[],gt;return{point:function(Jt,$t,pn){gt.push([Jt,$t,pn])},lineStart:function(){Me.push(gt=[])},lineEnd:ve,rejoin:function(){Me.length>1&&Me.push(Me.pop().concat(Me.shift()))},result:function(){var Jt=Me;return Me=[],gt=null,Jt}}}function ke(Me,gt){return E(Me[0]-gt[0])<i&&E(Me[1]-gt[1])<i}function Se(Me,gt,Jt,$t){this.x=Me,this.z=gt,this.o=Jt,this.e=$t,this.v=!1,this.n=this.p=null}function ce(Me,gt,Jt,$t,pn){var Ln=[],Kn=[],$n,br;if(Me.forEach(function(Rr){if(!((di=Rr.length-1)<=0)){var di,ni=Rr[0],pi=Rr[di],ii;if(ke(ni,pi)){if(!ni[2]&&!pi[2]){for(pn.lineStart(),$n=0;$n<di;++$n)pn.point((ni=Rr[$n])[0],ni[1]);pn.lineEnd();return}pi[0]+=2*i}Ln.push(ii=new Se(ni,Rr,null,!0)),Kn.push(ii.o=new Se(ni,null,ii,!1)),Ln.push(ii=new Se(pi,Rr,null,!1)),Kn.push(ii.o=new Se(pi,null,ii,!0))}}),!!Ln.length){for(Kn.sort(gt),tt(Ln),tt(Kn),$n=0,br=Kn.length;$n<br;++$n)Kn[$n].e=Jt=!Jt;for(var Cr=Ln[0],Gn,ar;;){for(var er=Cr,gr=!0;er.v;)if((er=er.n)===Cr)return;Gn=er.z,pn.lineStart();do{if(er.v=er.o.v=!0,er.e){if(gr)for($n=0,br=Gn.length;$n<br;++$n)pn.point((ar=Gn[$n])[0],ar[1]);else $t(er.x,er.n.x,1,pn);er=er.n}else{if(gr)for(Gn=er.p.z,$n=Gn.length-1;$n>=0;--$n)pn.point((ar=Gn[$n])[0],ar[1]);else $t(er.x,er.p.x,-1,pn);er=er.p}er=er.o,Gn=er.z,gr=!gr}while(!er.v);pn.lineEnd()}}}function tt(Me){if(!!(gt=Me.length)){for(var gt,Jt=0,$t=Me[0],pn;++Jt<gt;)$t.n=pn=Me[Jt],pn.p=$t,$t=pn;$t.n=pn=Me[0],pn.p=$t}}function Ie(Me){return E(Me[0])<=o?Me[0]:G(Me[0])*((E(Me[0])+o)%f-o)}function re(Me,gt){var Jt=Ie(gt),$t=gt[1],pn=P($t),Ln=[P(Jt),-q(Jt),0],Kn=0,$n=0,br=new e;pn===1?$t=a+i:pn===-1&&($t=-a-i);for(var Cr=0,Gn=Me.length;Cr<Gn;++Cr)if(!!(er=(ar=Me[Cr]).length))for(var ar,er,gr=ar[er-1],Rr=Ie(gr),di=gr[1]/2+l,ni=P(di),pi=q(di),ii=0;ii<er;++ii,Rr=Ir,ni=gi,pi=os,gr=qr){var qr=ar[ii],Ir=Ie(qr),yi=qr[1]/2+l,gi=P(yi),os=q(yi),xs=Ir-Rr,vi=xs>=0?1:-1,Ps=vi*xs,ss=Ps>o,xa=ni*gi;if(br.add(R(xa*vi*P(Ps),pi*os+xa*q(Ps))),Kn+=ss?xs+vi*f:xs,ss^Rr>=Jt^Ir>=Jt){var Ro=ye(te(gr),te(qr));pe(Ro);var As=ye(Ln,Ro);pe(As);var tn=(ss^xs>=0?-1:1)*he(As[2]);($t>tn||$t===tn&&(Ro[0]||Ro[1]))&&($n+=ss^xs>=0?1:-1)}}return(Kn<-i||Kn<i&&br<-s)^$n&1}function Ne(Me,gt,Jt,$t){return function(pn){var Ln=gt(pn),Kn=_e(),$n=gt(Kn),br=!1,Cr,Gn,ar,er={point:gr,lineStart:di,lineEnd:ni,polygonStart:function(){er.point=pi,er.lineStart=ii,er.lineEnd=qr,Gn=[],Cr=[]},polygonEnd:function(){er.point=gr,er.lineStart=di,er.lineEnd=ni,Gn=r(Gn);var Ir=re(Cr,$t);Gn.length?(br||(pn.polygonStart(),br=!0),ce(Gn,_t,Ir,Jt,pn)):Ir&&(br||(pn.polygonStart(),br=!0),pn.lineStart(),Jt(null,null,1,pn),pn.lineEnd()),br&&(pn.polygonEnd(),br=!1),Gn=Cr=null},sphere:function(){pn.polygonStart(),pn.lineStart(),Jt(null,null,1,pn),pn.lineEnd(),pn.polygonEnd()}};function gr(Ir,yi){Me(Ir,yi)&&pn.point(Ir,yi)}function Rr(Ir,yi){Ln.point(Ir,yi)}function di(){er.point=Rr,Ln.lineStart()}function ni(){er.point=gr,Ln.lineEnd()}function pi(Ir,yi){ar.push([Ir,yi]),$n.point(Ir,yi)}function ii(){$n.lineStart(),ar=[]}function qr(){pi(ar[0][0],ar[0][1]),$n.lineEnd();var Ir=$n.clean(),yi=Kn.result(),gi,os=yi.length,xs,vi,Ps;if(ar.pop(),Cr.push(ar),ar=null,!!os){if(Ir&1){if(vi=yi[0],(xs=vi.length-1)>0){for(br||(pn.polygonStart(),br=!0),pn.lineStart(),gi=0;gi<xs;++gi)pn.point((Ps=vi[gi])[0],Ps[1]);pn.lineEnd()}return}os>1&&Ir&2&&yi.push(yi.pop().concat(yi.shift())),Gn.push(yi.filter(ct))}}return er}}function ct(Me){return Me.length>1}function _t(Me,gt){return((Me=Me.x)[0]<0?Me[1]-a-i:a-Me[1])-((gt=gt.x)[0]<0?gt[1]-a-i:a-gt[1])}var Lt=Ne(function(){return!0},Yt,fn,[-o,-a]);function Yt(Me){var gt=NaN,Jt=NaN,$t=NaN,pn;return{lineStart:function(){Me.lineStart(),pn=1},point:function(Ln,Kn){var $n=Ln>0?o:-o,br=E(Ln-gt);E(br-o)<i?(Me.point(gt,Jt=(Jt+Kn)/2>0?a:-a),Me.point($t,Jt),Me.lineEnd(),Me.lineStart(),Me.point($n,Jt),Me.point(Ln,Jt),pn=0):$t!==$n&&br>=o&&(E(gt-$t)<i&&(gt-=$t*i),E(Ln-$n)<i&&(Ln-=$n*i),Jt=Gt(gt,Jt,Ln,Kn),Me.point($t,Jt),Me.lineEnd(),Me.lineStart(),Me.point($n,Jt),pn=0),Me.point(gt=Ln,Jt=Kn),$t=$n},lineEnd:function(){Me.lineEnd(),gt=Jt=NaN},clean:function(){return 2-pn}}}function Gt(Me,gt,Jt,$t){var pn,Ln,Kn=P(Me-Jt);return E(Kn)>i?O((P(gt)*(Ln=q($t))*P(Jt)-P($t)*(pn=q(gt))*P(Me))/(pn*Ln*Kn)):(gt+$t)/2}function fn(Me,gt,Jt,$t){var pn;if(Me==null)pn=Jt*a,$t.point(-o,pn),$t.point(0,pn),$t.point(o,pn),$t.point(o,0),$t.point(o,-pn),$t.point(0,-pn),$t.point(-o,-pn),$t.point(-o,0),$t.point(-o,pn);else if(E(Me[0]-gt[0])>i){var Ln=Me[0]<gt[0]?o:-o;pn=Jt*Ln/2,$t.point(-Ln,pn),$t.point(0,pn),$t.point(Ln,pn)}else $t.point(gt[0],gt[1])}function gn(Me){var gt=q(Me),Jt=6*_,$t=gt>0,pn=E(gt)>i;function Ln(Gn,ar,er,gr){rn(gr,Me,Jt,er,Gn,ar)}function Kn(Gn,ar){return q(Gn)*q(ar)>gt}function $n(Gn){var ar,er,gr,Rr,di;return{lineStart:function(){Rr=gr=!1,di=1},point:function(ni,pi){var ii=[ni,pi],qr,Ir=Kn(ni,pi),yi=$t?Ir?0:Cr(ni,pi):Ir?Cr(ni+(ni<0?o:-o),pi):0;if(!ar&&(Rr=gr=Ir)&&Gn.lineStart(),Ir!==gr&&(qr=br(ar,ii),(!qr||ke(ar,qr)||ke(ii,qr))&&(ii[2]=1)),Ir!==gr)di=0,Ir?(Gn.lineStart(),qr=br(ii,ar),Gn.point(qr[0],qr[1])):(qr=br(ar,ii),Gn.point(qr[0],qr[1],2),Gn.lineEnd()),ar=qr;else if(pn&&ar&&$t^Ir){var gi;!(yi&er)&&(gi=br(ii,ar,!0))&&(di=0,$t?(Gn.lineStart(),Gn.point(gi[0][0],gi[0][1]),Gn.point(gi[1][0],gi[1][1]),Gn.lineEnd()):(Gn.point(gi[1][0],gi[1][1]),Gn.lineEnd(),Gn.lineStart(),Gn.point(gi[0][0],gi[0][1],3)))}Ir&&(!ar||!ke(ar,ii))&&Gn.point(ii[0],ii[1]),ar=ii,gr=Ir,er=yi},lineEnd:function(){gr&&Gn.lineEnd(),ar=null},clean:function(){return di|(Rr&&gr)<<1}}}function br(Gn,ar,er){var gr=te(Gn),Rr=te(ar),di=[1,0,0],ni=ye(gr,Rr),pi=Ze(ni,ni),ii=ni[0],qr=pi-ii*ii;if(!qr)return!er&&Gn;var Ir=gt*pi/qr,yi=-gt*ii/qr,gi=ye(di,ni),os=Ce(di,Ir),xs=Ce(ni,yi);Le(os,xs);var vi=gi,Ps=Ze(os,vi),ss=Ze(vi,vi),xa=Ps*Ps-ss*(Ze(os,os)-1);if(!(xa<0)){var Ro=ue(xa),As=Ce(vi,(-Ps-Ro)/ss);if(Le(As,os),As=$e(As),!er)return As;var tn=Gn[0],Jn=ar[0],bn=Gn[1],Yr=ar[1],Ti;Jn<tn&&(Ti=tn,tn=Jn,Jn=Ti);var ns=Jn-tn,ms=E(ns-o)<i,Hi=ms||ns<i;if(!ms&&Yr<bn&&(Ti=bn,bn=Yr,Yr=Ti),Hi?ms?bn+Yr>0^As[1]<(E(As[0]-tn)<i?bn:Yr):bn<=As[1]&&As[1]<=Yr:ns>o^(tn<=As[0]&&As[0]<=Jn)){var fs=Ce(vi,(-Ps+Ro)/ss);return Le(fs,os),[As,$e(fs)]}}}function Cr(Gn,ar){var er=$t?Me:o-Me,gr=0;return Gn<-er?gr|=1:Gn>er&&(gr|=2),ar<-er?gr|=4:ar>er&&(gr|=8),gr}return Ne(Kn,$n,Ln,$t?[0,-Me]:[-o,Me-o])}function yn(Me,gt,Jt,$t,pn,Ln){var Kn=Me[0],$n=Me[1],br=gt[0],Cr=gt[1],Gn=0,ar=1,er=br-Kn,gr=Cr-$n,Rr;if(Rr=Jt-Kn,!(!er&&Rr>0)){if(Rr/=er,er<0){if(Rr<Gn)return;Rr<ar&&(ar=Rr)}else if(er>0){if(Rr>ar)return;Rr>Gn&&(Gn=Rr)}if(Rr=pn-Kn,!(!er&&Rr<0)){if(Rr/=er,er<0){if(Rr>ar)return;Rr>Gn&&(Gn=Rr)}else if(er>0){if(Rr<Gn)return;Rr<ar&&(ar=Rr)}if(Rr=$t-$n,!(!gr&&Rr>0)){if(Rr/=gr,gr<0){if(Rr<Gn)return;Rr<ar&&(ar=Rr)}else if(gr>0){if(Rr>ar)return;Rr>Gn&&(Gn=Rr)}if(Rr=Ln-$n,!(!gr&&Rr<0)){if(Rr/=gr,gr<0){if(Rr>ar)return;Rr>Gn&&(Gn=Rr)}else if(gr>0){if(Rr<Gn)return;Rr<ar&&(ar=Rr)}return Gn>0&&(Me[0]=Kn+Gn*er,Me[1]=$n+Gn*gr),ar<1&&(gt[0]=Kn+ar*er,gt[1]=$n+ar*gr),!0}}}}}var It=1e9,un=-It;function Mn(Me,gt,Jt,$t){function pn(Cr,Gn){return Me<=Cr&&Cr<=Jt&&gt<=Gn&&Gn<=$t}function Ln(Cr,Gn,ar,er){var gr=0,Rr=0;if(Cr==null||(gr=Kn(Cr,ar))!==(Rr=Kn(Gn,ar))||br(Cr,Gn)<0^ar>0)do er.point(gr===0||gr===3?Me:Jt,gr>1?$t:gt);while((gr=(gr+ar+4)%4)!==Rr);else er.point(Gn[0],Gn[1])}function Kn(Cr,Gn){return E(Cr[0]-Me)<i?Gn>0?0:3:E(Cr[0]-Jt)<i?Gn>0?2:1:E(Cr[1]-gt)<i?Gn>0?1:0:Gn>0?3:2}function $n(Cr,Gn){return br(Cr.x,Gn.x)}function br(Cr,Gn){var ar=Kn(Cr,1),er=Kn(Gn,1);return ar!==er?ar-er:ar===0?Gn[1]-Cr[1]:ar===1?Cr[0]-Gn[0]:ar===2?Cr[1]-Gn[1]:Gn[0]-Cr[0]}return function(Cr){var Gn=Cr,ar=_e(),er,gr,Rr,di,ni,pi,ii,qr,Ir,yi,gi,os={point:xs,lineStart:xa,lineEnd:Ro,polygonStart:Ps,polygonEnd:ss};function xs(tn,Jn){pn(tn,Jn)&&Gn.point(tn,Jn)}function vi(){for(var tn=0,Jn=0,bn=gr.length;Jn<bn;++Jn)for(var Yr=gr[Jn],Ti=1,ns=Yr.length,ms=Yr[0],Hi,fs,hu=ms[0],le=ms[1];Ti<ns;++Ti)Hi=hu,fs=le,ms=Yr[Ti],hu=ms[0],le=ms[1],fs<=$t?le>$t&&(hu-Hi)*($t-fs)>(le-fs)*(Me-Hi)&&++tn:le<=$t&&(hu-Hi)*($t-fs)<(le-fs)*(Me-Hi)&&--tn;return tn}function Ps(){Gn=ar,er=[],gr=[],gi=!0}function ss(){var tn=vi(),Jn=gi&&tn,bn=(er=r(er)).length;(Jn||bn)&&(Cr.polygonStart(),Jn&&(Cr.lineStart(),Ln(null,null,1,Cr),Cr.lineEnd()),bn&&ce(er,$n,tn,Ln,Cr),Cr.polygonEnd()),Gn=Cr,er=gr=Rr=null}function xa(){os.point=As,gr&&gr.push(Rr=[]),yi=!0,Ir=!1,ii=qr=NaN}function Ro(){er&&(As(di,ni),pi&&Ir&&ar.rejoin(),er.push(ar.result())),os.point=xs,Ir&&Gn.lineEnd()}function As(tn,Jn){var bn=pn(tn,Jn);if(gr&&Rr.push([tn,Jn]),yi)di=tn,ni=Jn,pi=bn,yi=!1,bn&&(Gn.lineStart(),Gn.point(tn,Jn));else if(bn&&Ir)Gn.point(tn,Jn);else{var Yr=[ii=Math.max(un,Math.min(It,ii)),qr=Math.max(un,Math.min(It,qr))],Ti=[tn=Math.max(un,Math.min(It,tn)),Jn=Math.max(un,Math.min(It,Jn))];yn(Yr,Ti,Me,gt,Jt,$t)?(Ir||(Gn.lineStart(),Gn.point(Yr[0],Yr[1])),Gn.point(Ti[0],Ti[1]),bn||Gn.lineEnd(),gi=!1):bn&&(Gn.lineStart(),Gn.point(tn,Jn),gi=!1)}ii=tn,qr=Jn,Ir=bn}return os}}var tr=Me=>Me,Rn=new e,Re=new e,He,De,Bt,pt,mt={point:ve,lineStart:ve,lineEnd:ve,polygonStart:function(){mt.lineStart=nn,mt.lineEnd=Wn},polygonEnd:function(){mt.lineStart=mt.lineEnd=mt.point=ve,Rn.add(E(Re)),Re=new e},result:function(){var Me=Rn/2;return Rn=new e,Me}};function nn(){mt.point=Qt}function Qt(Me,gt){mt.point=Fn,He=Bt=Me,De=pt=gt}function Fn(Me,gt){Re.add(pt*Me-Bt*gt),Bt=Me,pt=gt}function Wn(){Fn(He,De)}var Zn=mt,Nn=1/0,nr=Nn,Ke=-Nn,yt=Ke,oe={point:je,lineStart:ve,lineEnd:ve,polygonStart:ve,polygonEnd:ve,result:function(){var Me=[[Nn,nr],[Ke,yt]];return Ke=yt=-(nr=Nn=1/0),Me}};function je(Me,gt){Me<Nn&&(Nn=Me),Me>Ke&&(Ke=Me),gt<nr&&(nr=gt),gt>yt&&(yt=gt)}var nt=oe,Rt=0,hn=0,an=0,ft=0,ie=0,Te=0,Ue=0,xt=0,Et=0,Nt,ne,we,Qe,it={point:Ut,lineStart:sn,lineEnd:vn,polygonStart:function(){it.lineStart=zn,it.lineEnd=Oe},polygonEnd:function(){it.point=Ut,it.lineStart=sn,it.lineEnd=vn},result:function(){var Me=Et?[Ue/Et,xt/Et]:Te?[ft/Te,ie/Te]:an?[Rt/an,hn/an]:[NaN,NaN];return Rt=hn=an=ft=ie=Te=Ue=xt=Et=0,Me}};function Ut(Me,gt){Rt+=Me,hn+=gt,++an}function sn(){it.point=Cn}function Cn(Me,gt){it.point=En,Ut(we=Me,Qe=gt)}function En(Me,gt){var Jt=Me-we,$t=gt-Qe,pn=ue(Jt*Jt+$t*$t);ft+=pn*(we+Me)/2,ie+=pn*(Qe+gt)/2,Te+=pn,Ut(we=Me,Qe=gt)}function vn(){it.point=Ut}function zn(){it.point=ze}function Oe(){Dt(Nt,ne)}function ze(Me,gt){it.point=Dt,Ut(Nt=we=Me,ne=Qe=gt)}function Dt(Me,gt){var Jt=Me-we,$t=gt-Qe,pn=ue(Jt*Jt+$t*$t);ft+=pn*(we+Me)/2,ie+=pn*(Qe+gt)/2,Te+=pn,pn=Qe*Me-we*gt,Ue+=pn*(we+Me),xt+=pn*(Qe+gt),Et+=pn*3,Ut(we=Me,Qe=gt)}var N=it;function V(Me){this._context=Me}V.prototype={_radius:4.5,pointRadius:function(Me){return this._radius=Me,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Me,gt){switch(this._point){case 0:{this._context.moveTo(Me,gt),this._point=1;break}case 1:{this._context.lineTo(Me,gt);break}default:{this._context.moveTo(Me+this._radius,gt),this._context.arc(Me,gt,this._radius,0,f);break}}},result:ve};var be=new e,xe,K,ae,fe,Ge,Mt={point:ve,lineStart:function(){Mt.point=At},lineEnd:function(){xe&&dn(K,ae),Mt.point=ve},polygonStart:function(){xe=!0},polygonEnd:function(){xe=null},result:function(){var Me=+be;return be=new e,Me}};function At(Me,gt){Mt.point=dn,K=fe=Me,ae=Ge=gt}function dn(Me,gt){fe-=Me,Ge-=gt,be.add(ue(fe*fe+Ge*Ge)),fe=Me,Ge=gt}var w=Mt;function j(){this._string=[]}j.prototype={_radius:4.5,_circle:ee(4.5),pointRadius:function(Me){return(Me=+Me)!==this._radius&&(this._radius=Me,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Me,gt){switch(this._point){case 0:{this._string.push("M",Me,",",gt),this._point=1;break}case 1:{this._string.push("L",Me,",",gt);break}default:{this._circle==null&&(this._circle=ee(this._radius)),this._string.push("M",Me,",",gt,this._circle);break}}},result:function(){if(this._string.length){var Me=this._string.join("");return this._string=[],Me}else return null}};function ee(Me){return"m0,"+Me+"a"+Me+","+Me+" 0 1,1 0,"+-2*Me+"a"+Me+","+Me+" 0 1,1 0,"+2*Me+"z"}function Ee(Me,gt){var Jt=4.5,$t,pn;function Ln(Kn){return Kn&&(typeof Jt=="function"&&pn.pointRadius(+Jt.apply(this,arguments)),Pt(Kn,$t(pn))),pn.result()}return Ln.area=function(Kn){return Pt(Kn,$t(Zn)),Zn.result()},Ln.measure=function(Kn){return Pt(Kn,$t(w)),w.result()},Ln.bounds=function(Kn){return Pt(Kn,$t(nt)),nt.result()},Ln.centroid=function(Kn){return Pt(Kn,$t(N)),N.result()},Ln.projection=function(Kn){return arguments.length?($t=Kn==null?(Me=null,tr):(Me=Kn).stream,Ln):Me},Ln.context=function(Kn){return arguments.length?(pn=Kn==null?(gt=null,new j):new V(gt=Kn),typeof Jt!="function"&&pn.pointRadius(Jt),Ln):gt},Ln.pointRadius=function(Kn){return arguments.length?(Jt=typeof Kn=="function"?Kn:(pn.pointRadius(+Kn),+Kn),Ln):Jt},Ln.projection(Me).context(gt)}function dt(Me){return function(gt){var Jt=new Ft;for(var $t in Me)Jt[$t]=Me[$t];return Jt.stream=gt,Jt}}function Ft(){}Ft.prototype={constructor:Ft,point:function(Me,gt){this.stream.point(Me,gt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zt(Me,gt,Jt){var $t=Me.clipExtent&&Me.clipExtent();return Me.scale(150).translate([0,0]),$t!=null&&Me.clipExtent(null),Pt(Jt,Me.stream(nt)),gt(nt.result()),$t!=null&&Me.clipExtent($t),Me}function Xt(Me,gt,Jt){return Zt(Me,function($t){var pn=gt[1][0]-gt[0][0],Ln=gt[1][1]-gt[0][1],Kn=Math.min(pn/($t[1][0]-$t[0][0]),Ln/($t[1][1]-$t[0][1])),$n=+gt[0][0]+(pn-Kn*($t[1][0]+$t[0][0]))/2,br=+gt[0][1]+(Ln-Kn*($t[1][1]+$t[0][1]))/2;Me.scale(150*Kn).translate([$n,br])},Jt)}function mn(Me,gt,Jt){return Xt(Me,[[0,0],gt],Jt)}function qn(Me,gt,Jt){return Zt(Me,function($t){var pn=+gt,Ln=pn/($t[1][0]-$t[0][0]),Kn=(pn-Ln*($t[1][0]+$t[0][0]))/2,$n=-Ln*$t[0][1];Me.scale(150*Ln).translate([Kn,$n])},Jt)}function Un(Me,gt,Jt){return Zt(Me,function($t){var pn=+gt,Ln=pn/($t[1][1]-$t[0][1]),Kn=-Ln*$t[0][0],$n=(pn-Ln*($t[1][1]+$t[0][1]))/2;Me.scale(150*Ln).translate([Kn,$n])},Jt)}var Vn=16,Jr=q(30*_);function Vr(Me,gt){return+gt?Mr(Me,gt):yr(Me)}function yr(Me){return dt({point:function(gt,Jt){gt=Me(gt,Jt),this.stream.point(gt[0],gt[1])}})}function Mr(Me,gt){function Jt($t,pn,Ln,Kn,$n,br,Cr,Gn,ar,er,gr,Rr,di,ni){var pi=Cr-$t,ii=Gn-pn,qr=pi*pi+ii*ii;if(qr>4*gt&&di--){var Ir=Kn+er,yi=$n+gr,gi=br+Rr,os=ue(Ir*Ir+yi*yi+gi*gi),xs=he(gi/=os),vi=E(E(gi)-1)<i||E(Ln-ar)<i?(Ln+ar)/2:R(yi,Ir),Ps=Me(vi,xs),ss=Ps[0],xa=Ps[1],Ro=ss-$t,As=xa-pn,tn=ii*Ro-pi*As;(tn*tn/qr>gt||E((pi*Ro+ii*As)/qr-.5)>.3||Kn*er+$n*gr+br*Rr<Jr)&&(Jt($t,pn,Ln,Kn,$n,br,ss,xa,vi,Ir/=os,yi/=os,gi,di,ni),ni.point(ss,xa),Jt(ss,xa,vi,Ir,yi,gi,Cr,Gn,ar,er,gr,Rr,di,ni))}}return function($t){var pn,Ln,Kn,$n,br,Cr,Gn,ar,er,gr,Rr,di,ni={point:pi,lineStart:ii,lineEnd:Ir,polygonStart:function(){$t.polygonStart(),ni.lineStart=yi},polygonEnd:function(){$t.polygonEnd(),ni.lineStart=ii}};function pi(xs,vi){xs=Me(xs,vi),$t.point(xs[0],xs[1])}function ii(){ar=NaN,ni.point=qr,$t.lineStart()}function qr(xs,vi){var Ps=te([xs,vi]),ss=Me(xs,vi);Jt(ar,er,Gn,gr,Rr,di,ar=ss[0],er=ss[1],Gn=xs,gr=Ps[0],Rr=Ps[1],di=Ps[2],Vn,$t),$t.point(ar,er)}function Ir(){ni.point=pi,$t.lineEnd()}function yi(){ii(),ni.point=gi,ni.lineEnd=os}function gi(xs,vi){qr(pn=xs,vi),Ln=ar,Kn=er,$n=gr,br=Rr,Cr=di,ni.point=qr}function os(){Jt(ar,er,Gn,gr,Rr,di,Ln,Kn,pn,$n,br,Cr,Vn,$t),ni.lineEnd=Ir,Ir()}return ni}}var xi=dt({point:function(Me,gt){this.stream.point(Me*_,gt*_)}});function ai(Me){return dt({point:function(gt,Jt){var $t=Me(gt,Jt);return this.stream.point($t[0],$t[1])}})}function Xi(Me,gt,Jt,$t,pn){function Ln(Kn,$n){return Kn*=$t,$n*=pn,[gt+Me*Kn,Jt-Me*$n]}return Ln.invert=function(Kn,$n){return[(Kn-gt)/Me*$t,(Jt-$n)/Me*pn]},Ln}function Ss(Me,gt,Jt,$t,pn,Ln){if(!Ln)return Xi(Me,gt,Jt,$t,pn);var Kn=q(Ln),$n=P(Ln),br=Kn*Me,Cr=$n*Me,Gn=Kn/Me,ar=$n/Me,er=($n*Jt-Kn*gt)/Me,gr=($n*gt+Kn*Jt)/Me;function Rr(di,ni){return di*=$t,ni*=pn,[br*di-Cr*ni+gt,Jt-Cr*di-br*ni]}return Rr.invert=function(di,ni){return[$t*(Gn*di-ar*ni+er),pn*(gr-ar*di-Gn*ni)]},Rr}function ts(Me){return wa(function(){return Me})()}function wa(Me){var gt,Jt=150,$t=480,pn=250,Ln=0,Kn=0,$n=0,br=0,Cr=0,Gn,ar=0,er=1,gr=1,Rr=null,di=Lt,ni=null,pi,ii,qr,Ir=tr,yi=.5,gi,os,xs,vi,Ps;function ss(tn){return xs(tn[0]*_,tn[1]*_)}function xa(tn){return tn=xs.invert(tn[0],tn[1]),tn&&[tn[0]*p,tn[1]*p]}ss.stream=function(tn){return vi&&Ps===tn?vi:vi=xi(ai(Gn)(di(gi(Ir(Ps=tn)))))},ss.preclip=function(tn){return arguments.length?(di=tn,Rr=void 0,As()):di},ss.postclip=function(tn){return arguments.length?(Ir=tn,ni=pi=ii=qr=null,As()):Ir},ss.clipAngle=function(tn){return arguments.length?(di=+tn?gn(Rr=tn*_):(Rr=null,Lt),As()):Rr*p},ss.clipExtent=function(tn){return arguments.length?(Ir=tn==null?(ni=pi=ii=qr=null,tr):Mn(ni=+tn[0][0],pi=+tn[0][1],ii=+tn[1][0],qr=+tn[1][1]),As()):ni==null?null:[[ni,pi],[ii,qr]]},ss.scale=function(tn){return arguments.length?(Jt=+tn,Ro()):Jt},ss.translate=function(tn){return arguments.length?($t=+tn[0],pn=+tn[1],Ro()):[$t,pn]},ss.center=function(tn){return arguments.length?(Ln=tn[0]%360*_,Kn=tn[1]%360*_,Ro()):[Ln*p,Kn*p]},ss.rotate=function(tn){return arguments.length?($n=tn[0]%360*_,br=tn[1]%360*_,Cr=tn.length>2?tn[2]%360*_:0,Ro()):[$n*p,br*p,Cr*p]},ss.angle=function(tn){return arguments.length?(ar=tn%360*_,Ro()):ar*p},ss.reflectX=function(tn){return arguments.length?(er=tn?-1:1,Ro()):er<0},ss.reflectY=function(tn){return arguments.length?(gr=tn?-1:1,Ro()):gr<0},ss.precision=function(tn){return arguments.length?(gi=Vr(os,yi=tn*tn),As()):ue(yi)},ss.fitExtent=function(tn,Jn){return Xt(ss,tn,Jn)},ss.fitSize=function(tn,Jn){return mn(ss,tn,Jn)},ss.fitWidth=function(tn,Jn){return qn(ss,tn,Jn)},ss.fitHeight=function(tn,Jn){return Un(ss,tn,Jn)};function Ro(){var tn=Ss(Jt,0,0,er,gr,ar).apply(null,gt(Ln,Kn)),Jn=Ss(Jt,$t-tn[0],pn-tn[1],er,gr,ar);return Gn=Ht($n,br,Cr),os=Je(gt,Jn),xs=Je(Gn,os),gi=Vr(os,yi),As()}function As(){return vi=Ps=null,ss}return function(){return gt=Me.apply(this,arguments),ss.invert=gt.invert&&xa,Ro()}}function pa(Me){var gt=0,Jt=o/3,$t=wa(Me),pn=$t(gt,Jt);return pn.parallels=function(Ln){return arguments.length?$t(gt=Ln[0]*_,Jt=Ln[1]*_):[gt*p,Jt*p]},pn}function xl(Me){var gt=q(Me);function Jt($t,pn){return[$t*gt,P(pn)/gt]}return Jt.invert=function($t,pn){return[$t/gt,he(pn*gt)]},Jt}function Oc(Me,gt){var Jt=P(Me),$t=(Jt+P(gt))/2;if(E($t)<i)return xl(Me);var pn=1+Jt*(2*$t-Jt),Ln=ue(pn)/$t;function Kn($n,br){var Cr=ue(pn-2*$t*P(br))/$t;return[Cr*P($n*=$t),Ln-Cr*q($n)]}return Kn.invert=function($n,br){var Cr=Ln-br,Gn=R($n,E(Cr))*G(Cr);return Cr*$t<0&&(Gn-=o*G($n)*G(Cr)),[Gn/$t,he((pn-($n*$n+Cr*Cr)*$t*$t)/(2*$t))]},Kn}function lu(){return pa(Oc).scale(155.424).center([0,33.6442])}function cu(){return lu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ju(Me){var gt=Me.length;return{point:function(Jt,$t){for(var pn=-1;++pn<gt;)Me[pn].point(Jt,$t)},sphere:function(){for(var Jt=-1;++Jt<gt;)Me[Jt].sphere()},lineStart:function(){for(var Jt=-1;++Jt<gt;)Me[Jt].lineStart()},lineEnd:function(){for(var Jt=-1;++Jt<gt;)Me[Jt].lineEnd()},polygonStart:function(){for(var Jt=-1;++Jt<gt;)Me[Jt].polygonStart()},polygonEnd:function(){for(var Jt=-1;++Jt<gt;)Me[Jt].polygonEnd()}}}function Fu(){var Me,gt,Jt=cu(),$t,pn=lu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Ln,Kn=lu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),$n,br,Cr={point:function(er,gr){br=[er,gr]}};function Gn(er){var gr=er[0],Rr=er[1];return br=null,$t.point(gr,Rr),br||(Ln.point(gr,Rr),br)||($n.point(gr,Rr),br)}Gn.invert=function(er){var gr=Jt.scale(),Rr=Jt.translate(),di=(er[0]-Rr[0])/gr,ni=(er[1]-Rr[1])/gr;return(ni>=.12&&ni<.234&&di>=-.425&&di<-.214?pn:ni>=.166&&ni<.234&&di>=-.214&&di<-.115?Kn:Jt).invert(er)},Gn.stream=function(er){return Me&&gt===er?Me:Me=Ju([Jt.stream(gt=er),pn.stream(er),Kn.stream(er)])},Gn.precision=function(er){return arguments.length?(Jt.precision(er),pn.precision(er),Kn.precision(er),ar()):Jt.precision()},Gn.scale=function(er){return arguments.length?(Jt.scale(er),pn.scale(er*.35),Kn.scale(er),Gn.translate(Jt.translate())):Jt.scale()},Gn.translate=function(er){if(!arguments.length)return Jt.translate();var gr=Jt.scale(),Rr=+er[0],di=+er[1];return $t=Jt.translate(er).clipExtent([[Rr-.455*gr,di-.238*gr],[Rr+.455*gr,di+.238*gr]]).stream(Cr),Ln=pn.translate([Rr-.307*gr,di+.201*gr]).clipExtent([[Rr-.425*gr+i,di+.12*gr+i],[Rr-.214*gr-i,di+.234*gr-i]]).stream(Cr),$n=Kn.translate([Rr-.205*gr,di+.212*gr]).clipExtent([[Rr-.214*gr+i,di+.166*gr+i],[Rr-.115*gr-i,di+.234*gr-i]]).stream(Cr),ar()},Gn.fitExtent=function(er,gr){return Xt(Gn,er,gr)},Gn.fitSize=function(er,gr){return mn(Gn,er,gr)},Gn.fitWidth=function(er,gr){return qn(Gn,er,gr)},Gn.fitHeight=function(er,gr){return Un(Gn,er,gr)};function ar(){return Me=gt=null,Gn}return Gn.scale(1070)}function Rc(Me){return function(gt,Jt){var $t=q(gt),pn=q(Jt),Ln=Me($t*pn);return Ln===1/0?[2,0]:[Ln*pn*P(gt),Ln*P(Jt)]}}function ea(Me){return function(gt,Jt){var $t=ue(gt*gt+Jt*Jt),pn=Me($t),Ln=P(pn),Kn=q(pn);return[R(gt*Ln,$t*Kn),he($t&&Jt*Ln/$t)]}}var Xu=Rc(function(Me){return ue(2/(1+Me))});Xu.invert=ea(function(Me){return 2*he(Me/2)});function ef(){return ts(Xu).scale(124.75).clipAngle(180-.001)}var Ye=Rc(function(Me){return(Me=J(Me))&&Me/P(Me)});Ye.invert=ea(function(Me){return Me});function Kt(){return ts(Ye).scale(79.4188).clipAngle(180-.001)}function Bn(Me,gt){return[Me,L(I((a+gt)/2))]}Bn.invert=function(Me,gt){return[Me,2*O(z(gt))-a]};function Yn(){return ri(Bn).scale(961/f)}function ri(Me){var gt=ts(Me),Jt=gt.center,$t=gt.scale,pn=gt.translate,Ln=gt.clipExtent,Kn=null,$n,br,Cr;gt.scale=function(ar){return arguments.length?($t(ar),Gn()):$t()},gt.translate=function(ar){return arguments.length?(pn(ar),Gn()):pn()},gt.center=function(ar){return arguments.length?(Jt(ar),Gn()):Jt()},gt.clipExtent=function(ar){return arguments.length?(ar==null?Kn=$n=br=Cr=null:(Kn=+ar[0][0],$n=+ar[0][1],br=+ar[1][0],Cr=+ar[1][1]),Gn()):Kn==null?null:[[Kn,$n],[br,Cr]]};function Gn(){var ar=o*$t(),er=gt(Ot(gt.rotate()).invert([0,0]));return Ln(Kn==null?[[er[0]-ar,er[1]-ar],[er[0]+ar,er[1]+ar]]:Me===Bn?[[Math.max(er[0]-ar,Kn),$n],[Math.min(er[0]+ar,br),Cr]]:[[Kn,Math.max(er[1]-ar,$n)],[br,Math.min(er[1]+ar,Cr)]])}return Gn()}function Br(Me){return I((a+Me)/2)}function Xr(Me,gt){var Jt=q(Me),$t=Me===gt?P(Me):L(Jt/q(gt))/L(Br(gt)/Br(Me)),pn=Jt*B(Br(Me),$t)/$t;if(!$t)return Bn;function Ln(Kn,$n){pn>0?$n<-a+i&&($n=-a+i):$n>a-i&&($n=a-i);var br=pn/B(Br($n),$t);return[br*P($t*Kn),pn-br*q($t*Kn)]}return Ln.invert=function(Kn,$n){var br=pn-$n,Cr=G($t)*ue(Kn*Kn+br*br),Gn=R(Kn,E(br))*G(br);return br*$t<0&&(Gn-=o*G(Kn)*G(br)),[Gn/$t,2*O(B(pn/Cr,1/$t))-a]},Ln}function Cs(){return pa(Xr).scale(109.5).parallels([30,30])}function co(Me,gt){return[Me,gt]}co.invert=co;function ro(){return ts(co).scale(152.63)}function us(Me,gt){var Jt=q(Me),$t=Me===gt?P(Me):(Jt-q(gt))/(gt-Me),pn=Jt/$t+Me;if(E($t)<i)return co;function Ln(Kn,$n){var br=pn-$n,Cr=$t*Kn;return[br*P(Cr),pn-br*q(Cr)]}return Ln.invert=function(Kn,$n){var br=pn-$n,Cr=R(Kn,E(br))*G(br);return br*$t<0&&(Cr-=o*G(Kn)*G(br)),[Cr/$t,pn-G($t)*ue(Kn*Kn+br*br)]},Ln}function io(){return pa(us).scale(131.154).center([0,13.9389])}var fo=1.340264,hi=-.081106,Ei=893e-6,Wi=.003796,Jo=ue(3)/2,fa=12;function da(Me,gt){var Jt=he(Jo*P(gt)),$t=Jt*Jt,pn=$t*$t*$t;return[Me*q(Jt)/(Jo*(fo+3*hi*$t+pn*(7*Ei+9*Wi*$t))),Jt*(fo+hi*$t+pn*(Ei+Wi*$t))]}da.invert=function(Me,gt){for(var Jt=gt,$t=Jt*Jt,pn=$t*$t*$t,Ln=0,Kn,$n,br;Ln<fa&&($n=Jt*(fo+hi*$t+pn*(Ei+Wi*$t))-gt,br=fo+3*hi*$t+pn*(7*Ei+9*Wi*$t),Jt-=Kn=$n/br,$t=Jt*Jt,pn=$t*$t*$t,!(E(Kn)<s));++Ln);return[Jo*Me*(fo+3*hi*$t+pn*(7*Ei+9*Wi*$t))/q(Jt),he(P(Jt)/Jo)]};function ho(){return ts(da).scale(177.158)}function ls(Me,gt){var Jt=q(gt),$t=q(Me)*Jt;return[Jt*P(Me)/$t,P(gt)/$t]}ls.invert=ea(O);function ps(){return ts(ls).scale(144.049).clipAngle(60)}function Zi(){var Me=1,gt=0,Jt=0,$t=1,pn=1,Ln=0,Kn,$n,br=null,Cr,Gn,ar,er=1,gr=1,Rr=dt({point:function(Ir,yi){var gi=qr([Ir,yi]);this.stream.point(gi[0],gi[1])}}),di=tr,ni,pi;function ii(){return er=Me*$t,gr=Me*pn,ni=pi=null,qr}function qr(Ir){var yi=Ir[0]*er,gi=Ir[1]*gr;if(Ln){var os=gi*Kn-yi*$n;yi=yi*Kn+gi*$n,gi=os}return[yi+gt,gi+Jt]}return qr.invert=function(Ir){var yi=Ir[0]-gt,gi=Ir[1]-Jt;if(Ln){var os=gi*Kn+yi*$n;yi=yi*Kn-gi*$n,gi=os}return[yi/er,gi/gr]},qr.stream=function(Ir){return ni&&pi===Ir?ni:ni=Rr(di(pi=Ir))},qr.postclip=function(Ir){return arguments.length?(di=Ir,br=Cr=Gn=ar=null,ii()):di},qr.clipExtent=function(Ir){return arguments.length?(di=Ir==null?(br=Cr=Gn=ar=null,tr):Mn(br=+Ir[0][0],Cr=+Ir[0][1],Gn=+Ir[1][0],ar=+Ir[1][1]),ii()):br==null?null:[[br,Cr],[Gn,ar]]},qr.scale=function(Ir){return arguments.length?(Me=+Ir,ii()):Me},qr.translate=function(Ir){return arguments.length?(gt=+Ir[0],Jt=+Ir[1],ii()):[gt,Jt]},qr.angle=function(Ir){return arguments.length?(Ln=Ir%360*_,$n=P(Ln),Kn=q(Ln),ii()):Ln*p},qr.reflectX=function(Ir){return arguments.length?($t=Ir?-1:1,ii()):$t<0},qr.reflectY=function(Ir){return arguments.length?(pn=Ir?-1:1,ii()):pn<0},qr.fitExtent=function(Ir,yi){return Xt(qr,Ir,yi)},qr.fitSize=function(Ir,yi){return mn(qr,Ir,yi)},qr.fitWidth=function(Ir,yi){return qn(qr,Ir,yi)},qr.fitHeight=function(Ir,yi){return Un(qr,Ir,yi)},qr}function fu(Me,gt){var Jt=gt*gt,$t=Jt*Jt;return[Me*(.8707-.131979*Jt+$t*(-.013791+$t*(.003971*Jt-.001529*$t))),gt*(1.007226+Jt*(.015085+$t*(-.044475+.028874*Jt-.005916*$t)))]}fu.invert=function(Me,gt){var Jt=gt,$t=25,pn;do{var Ln=Jt*Jt,Kn=Ln*Ln;Jt-=pn=(Jt*(1.007226+Ln*(.015085+Kn*(-.044475+.028874*Ln-.005916*Kn)))-gt)/(1.007226+Ln*(.015085*3+Kn*(-.044475*7+.028874*9*Ln-.005916*11*Kn)))}while(E(pn)>i&&--$t>0);return[Me/(.8707+(Ln=Jt*Jt)*(-.131979+Ln*(-.013791+Ln*Ln*Ln*(.003971-.001529*Ln)))),Jt]};function Ms(){return ts(fu).scale(175.295)}function ma(Me,gt){return[q(gt)*P(Me),P(gt)]}ma.invert=ea(he);function oa(){return ts(ma).scale(249.5).clipAngle(90+i)}function Ri(Me,gt){var Jt=q(gt),$t=1+q(Me)*Jt;return[Jt*P(Me)/$t,P(gt)/$t]}Ri.invert=ea(function(Me){return 2*O(Me)});function Vo(){return ts(Ri).scale(250).clipAngle(142)}function vs(Me,gt){return[L(I((a+gt)/2)),-Me]}vs.invert=function(Me,gt){return[-gt,2*O(z(Me))-a]};function Ii(){var Me=ri(vs),gt=Me.center,Jt=Me.rotate;return Me.center=function($t){return arguments.length?gt([-$t[1],$t[0]]):($t=gt(),[$t[1],-$t[0]])},Me.rotate=function($t){return arguments.length?Jt([$t[0],$t[1],$t.length>2?$t[2]+90:90]):($t=Jt(),[$t[0],$t[1],$t[2]-90])},Jt([0,0,90]).scale(159.155)}var Do=Math.abs,Na=Math.cos,Ka=Math.sin,Oo=1e-6,Ao=Math.PI,qa=Ao/2,du=aa(2);function Ua(Me){return Me>1?qa:Me<-1?-qa:Math.asin(Me)}function aa(Me){return Me>0?Math.sqrt(Me):0}function ua(Me,gt){var Jt=Me*Ka(gt),$t=30,pn;do gt-=pn=(gt+Ka(gt)-Jt)/(1+Na(gt));while(Do(pn)>Oo&&--$t>0);return gt/2}function gl(Me,gt,Jt){function $t(pn,Ln){return[Me*pn*Na(Ln=ua(Jt,Ln)),gt*Ka(Ln)]}return $t.invert=function(pn,Ln){return Ln=Ua(Ln/gt),[pn/(Me*Na(Ln)),Ua((2*Ln+Ka(2*Ln))/Jt)]},$t}var $l=gl(du/qa,du,Ao);function ta(){return ts($l).scale(169.529)}let Zu=Ee(),ui=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function rs(Me,gt){return function Jt(){let $t=gt();return $t.type=Me,$t.path=Ee().projection($t),$t.copy=$t.copy||function(){let pn=Jt();return ui.forEach(Ln=>{$t[Ln]&&pn[Ln]($t[Ln]())}),pn.path.pointRadius($t.path.pointRadius()),pn},$t}}function cs(Me,gt){if(!Me||typeof Me!="string")throw new Error("Projection type must be a name string.");return Me=Me.toLowerCase(),arguments.length>1?(is[Me]=rs(Me,gt),this):is[Me]||null}function mr(Me){return Me&&Me.path||Zu}let is={albers:cu,albersusa:Fu,azimuthalequalarea:ef,azimuthalequidistant:Kt,conicconformal:Cs,conicequalarea:lu,conicequidistant:io,equalEarth:ho,equirectangular:ro,gnomonic:ps,identity:Zi,mercator:Yn,mollweide:ta,naturalEarth1:Ms,orthographic:oa,stereographic:Vo,transversemercator:Ii};for(let Me in is)cs(Me,is[Me]);n.getProjectionPath=mr,n.projection=cs,n.projectionProperties=ui,Object.defineProperty(n,"__esModule",{value:!0})})});var uDe=Ae((WH,aDe)=>{m();(function(n,e){typeof WH=="object"&&typeof aDe!="undefined"?e(WH,r0(),Au(),eE(),rle(),ZR()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util","vega-statistics","vega-projection","vega-canvas"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(WH,function(n,e,t,r,i,s){"use strict";var o=Math.sqrt(50),a=Math.sqrt(10),l=Math.sqrt(2);function f(ne,we,Qe){var it=Math.abs(we-ne)/Math.max(0,Qe),Ut=Math.pow(10,Math.floor(Math.log(it)/Math.LN10)),sn=it/Ut;return sn>=o?Ut*=10:sn>=a?Ut*=5:sn>=l&&(Ut*=2),we<ne?-Ut:Ut}function p(ne,we){let Qe;if(we===void 0)for(let it of ne)it!=null&&(Qe<it||Qe===void 0&&it>=it)&&(Qe=it);else{let it=-1;for(let Ut of ne)(Ut=we(Ut,++it,ne))!=null&&(Qe<Ut||Qe===void 0&&Ut>=Ut)&&(Qe=Ut)}return Qe}function _(ne,we,Qe){ne=+ne,we=+we,Qe=(Ut=arguments.length)<2?(we=ne,ne=0,1):Ut<3?1:+Qe;for(var it=-1,Ut=Math.max(0,Math.ceil((we-ne)/Qe))|0,sn=new Array(Ut);++it<Ut;)sn[it]=ne+it*Qe;return sn}function E(ne,we){let Qe=0;if(we===void 0)for(let it of ne)(it=+it)&&(Qe+=it);else{let it=-1;for(let Ut of ne)(Ut=+we(Ut,++it,ne))&&(Qe+=Ut)}return Qe}function O(){}let R=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function q(){var ne=1,we=1,Qe=En;function it(vn,zn){return zn.map(Oe=>Ut(vn,Oe))}function Ut(vn,zn){var Oe=[],ze=[];return sn(vn,zn,Dt=>{Qe(Dt,vn,zn),z(Dt)>0?Oe.push([Dt]):ze.push(Dt)}),ze.forEach(Dt=>{for(var N=0,V=Oe.length,be;N<V;++N)if(L((be=Oe[N])[0],Dt)!==-1){be.push(Dt);return}}),{type:"MultiPolygon",value:zn,coordinates:Oe}}function sn(vn,zn,Oe){var ze=new Array,Dt=new Array,N,V,be,xe,K,ae;for(N=V=-1,xe=vn[0]>=zn,R[xe<<1].forEach(fe);++N<ne-1;)be=xe,xe=vn[N+1]>=zn,R[be|xe<<1].forEach(fe);for(R[xe<<0].forEach(fe);++V<we-1;){for(N=-1,xe=vn[V*ne+ne]>=zn,K=vn[V*ne]>=zn,R[xe<<1|K<<2].forEach(fe);++N<ne-1;)be=xe,xe=vn[V*ne+ne+N+1]>=zn,ae=K,K=vn[V*ne+N+1]>=zn,R[be|xe<<1|K<<2|ae<<3].forEach(fe);R[xe|K<<3].forEach(fe)}for(N=-1,K=vn[V*ne]>=zn,R[K<<2].forEach(fe);++N<ne-1;)ae=K,K=vn[V*ne+N+1]>=zn,R[K<<2|ae<<3].forEach(fe);R[K<<3].forEach(fe);function fe(Ge){var Mt=[Ge[0][0]+N,Ge[0][1]+V],At=[Ge[1][0]+N,Ge[1][1]+V],dn=Cn(Mt),w=Cn(At),j,ee;(j=Dt[dn])?(ee=ze[w])?(delete Dt[j.end],delete ze[ee.start],j===ee?(j.ring.push(At),Oe(j.ring)):ze[j.start]=Dt[ee.end]={start:j.start,end:ee.end,ring:j.ring.concat(ee.ring)}):(delete Dt[j.end],j.ring.push(At),Dt[j.end=w]=j):(j=ze[w])?(ee=Dt[dn])?(delete ze[j.start],delete Dt[ee.end],j===ee?(j.ring.push(At),Oe(j.ring)):ze[ee.start]=Dt[j.end]={start:ee.start,end:j.end,ring:ee.ring.concat(j.ring)}):(delete ze[j.start],j.ring.unshift(Mt),ze[j.start=dn]=j):ze[dn]=Dt[w]={start:dn,end:w,ring:[Mt,At]}}}function Cn(vn){return vn[0]*2+vn[1]*(ne+1)*4}function En(vn,zn,Oe){vn.forEach(ze=>{var Dt=ze[0],N=ze[1],V=Dt|0,be=N|0,xe,K=zn[be*ne+V];Dt>0&&Dt<ne&&V===Dt&&(xe=zn[be*ne+V-1],ze[0]=Dt+(Oe-xe)/(K-xe)-.5),N>0&&N<we&&be===N&&(xe=zn[(be-1)*ne+V],ze[1]=N+(Oe-xe)/(K-xe)-.5)})}return it.contour=Ut,it.size=function(vn){if(!arguments.length)return[ne,we];var zn=Math.floor(vn[0]),Oe=Math.floor(vn[1]);return zn>=0&&Oe>=0||t.error("invalid size"),ne=zn,we=Oe,it},it.smooth=function(vn){return arguments.length?(Qe=vn?En:O,it):Qe===En},it}function z(ne){for(var we=0,Qe=ne.length,it=ne[Qe-1][1]*ne[0][0]-ne[Qe-1][0]*ne[0][1];++we<Qe;)it+=ne[we-1][1]*ne[we][0]-ne[we-1][0]*ne[we][1];return it}function L(ne,we){for(var Qe=-1,it=we.length,Ut;++Qe<it;)if(Ut=B(ne,we[Qe]))return Ut;return 0}function B(ne,we){for(var Qe=we[0],it=we[1],Ut=-1,sn=0,Cn=ne.length,En=Cn-1;sn<Cn;En=sn++){var vn=ne[sn],zn=vn[0],Oe=vn[1],ze=ne[En],Dt=ze[0],N=ze[1];if(P(vn,ze,we))return 0;Oe>it!=N>it&&Qe<(Dt-zn)*(it-Oe)/(N-Oe)+zn&&(Ut=-Ut)}return Ut}function P(ne,we,Qe){var it;return G(ne,we,Qe)&&ue(ne[it=+(ne[0]===we[0])],Qe[it],we[it])}function G(ne,we,Qe){return(we[0]-ne[0])*(Qe[1]-ne[1])===(Qe[0]-ne[0])*(we[1]-ne[1])}function ue(ne,we,Qe){return ne<=we&&we<=Qe||Qe<=we&&we<=ne}function I(ne,we,Qe){return function(it){var Ut=t.extent(it),sn=Qe?Math.min(Ut[0],0):Ut[0],Cn=Ut[1],En=Cn-sn,vn=we?f(sn,Cn,ne):En/(ne+1);return _(sn+vn,Cn,vn)}}function J(ne){e.Transform.call(this,null,ne)}J.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},t.inherits(J,e.Transform,{transform(ne,we){if(this.value&&!we.changed()&&!ne.modified())return we.StopPropagation;var Qe=we.fork(we.NO_SOURCE|we.NO_FIELDS),it=we.materialize(we.SOURCE).source,Ut=ne.field||t.identity,sn=q().smooth(ne.smooth!==!1),Cn=ne.thresholds||he(it,Ut,ne),En=ne.as===null?null:ne.as||"contour",vn=[];return it.forEach(zn=>{let Oe=Ut(zn),ze=sn.size([Oe.width,Oe.height])(Oe.values,t.isArray(Cn)?Cn:Cn(Oe.values));ve(ze,Oe,zn,ne),ze.forEach(Dt=>{vn.push(e.rederive(zn,e.ingest(En!=null?{[En]:Dt}:Dt)))})}),this.value&&(Qe.rem=this.value),this.value=Qe.source=Qe.add=vn,Qe}});function he(ne,we,Qe){let it=I(Qe.levels||10,Qe.nice,Qe.zero!==!1);return Qe.resolve!=="shared"?it:it(ne.map(Ut=>p(we(Ut).values)))}function ve(ne,we,Qe,it){let Ut=it.scale||we.scale,sn=it.translate||we.translate;if(t.isFunction(Ut)&&(Ut=Ut(Qe,it)),t.isFunction(sn)&&(sn=sn(Qe,it)),(Ut===1||Ut==null)&&!sn)return;let Cn=(t.isNumber(Ut)?Ut:Ut[0])||1,En=(t.isNumber(Ut)?Ut:Ut[1])||1,vn=sn&&sn[0]||0,zn=sn&&sn[1]||0;ne.forEach(Ve(we,Cn,En,vn,zn))}function Ve(ne,we,Qe,it,Ut){let sn=ne.x1||0,Cn=ne.y1||0,En=we*Qe<0;function vn(ze){ze.forEach(zn)}function zn(ze){En&&ze.reverse(),ze.forEach(Oe)}function Oe(ze){ze[0]=(ze[0]-sn)*we+it,ze[1]=(ze[1]-Cn)*Qe+Ut}return function(ze){return ze.coordinates.forEach(vn),ze}}function ot(ne,we,Qe){let it=ne>=0?ne:r.bandwidthNRD(we,Qe);return Math.round((Math.sqrt(4*it*it+1)-1)/2)}function lt(ne){return t.isFunction(ne)?ne:t.constant(+ne)}function et(){var ne=vn=>vn[0],we=vn=>vn[1],Qe=t.one,it=[-1,-1],Ut=960,sn=500,Cn=2;function En(vn,zn){let Oe=ot(it[0],vn,ne)>>Cn,ze=ot(it[1],vn,we)>>Cn,Dt=Oe?Oe+2:0,N=ze?ze+2:0,V=2*Dt+(Ut>>Cn),be=2*N+(sn>>Cn),xe=new Float32Array(V*be),K=new Float32Array(V*be),ae=xe;vn.forEach(Ge=>{let Mt=Dt+(+ne(Ge)>>Cn),At=N+(+we(Ge)>>Cn);Mt>=0&&Mt<V&&At>=0&&At<be&&(xe[Mt+At*V]+=+Qe(Ge))}),Oe>0&&ze>0?(bt(V,be,xe,K,Oe),Pt(V,be,K,xe,ze),bt(V,be,xe,K,Oe),Pt(V,be,K,xe,ze),bt(V,be,xe,K,Oe),Pt(V,be,K,xe,ze)):Oe>0?(bt(V,be,xe,K,Oe),bt(V,be,K,xe,Oe),bt(V,be,xe,K,Oe),ae=K):ze>0&&(Pt(V,be,xe,K,ze),Pt(V,be,K,xe,ze),Pt(V,be,xe,K,ze),ae=K);let fe=zn?Math.pow(2,-2*Cn):1/E(ae);for(let Ge=0,Mt=V*be;Ge<Mt;++Ge)ae[Ge]*=fe;return{values:ae,scale:1<<Cn,width:V,height:be,x1:Dt,y1:N,x2:Dt+(Ut>>Cn),y2:N+(sn>>Cn)}}return En.x=function(vn){return arguments.length?(ne=lt(vn),En):ne},En.y=function(vn){return arguments.length?(we=lt(vn),En):we},En.weight=function(vn){return arguments.length?(Qe=lt(vn),En):Qe},En.size=function(vn){if(!arguments.length)return[Ut,sn];var zn=+vn[0],Oe=+vn[1];return zn>=0&&Oe>=0||t.error("invalid size"),Ut=zn,sn=Oe,En},En.cellSize=function(vn){return arguments.length?((vn=+vn)>=1||t.error("invalid cell size"),Cn=Math.floor(Math.log(vn)/Math.LN2),En):1<<Cn},En.bandwidth=function(vn){return arguments.length?(vn=t.array(vn),vn.length===1&&(vn=[+vn[0],+vn[0]]),vn.length!==2&&t.error("invalid bandwidth"),it=vn,En):it},En}function bt(ne,we,Qe,it,Ut){let sn=(Ut<<1)+1;for(let Cn=0;Cn<we;++Cn)for(let En=0,vn=0;En<ne+Ut;++En)En<ne&&(vn+=Qe[En+Cn*ne]),En>=Ut&&(En>=sn&&(vn-=Qe[En-sn+Cn*ne]),it[En-Ut+Cn*ne]=vn/Math.min(En+1,ne-1+sn-En,sn))}function Pt(ne,we,Qe,it,Ut){let sn=(Ut<<1)+1;for(let Cn=0;Cn<ne;++Cn)for(let En=0,vn=0;En<we+Ut;++En)En<we&&(vn+=Qe[Cn+En*ne]),En>=Ut&&(En>=sn&&(vn-=Qe[Cn+(En-sn)*ne]),it[Cn+(En-Ut)*ne]=vn/Math.min(En+1,we-1+sn-En,sn))}function $e(ne){e.Transform.call(this,null,ne)}$e.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};let te=["x","y","weight","size","cellSize","bandwidth"];function Ze(ne,we){return te.forEach(Qe=>we[Qe]!=null?ne[Qe](we[Qe]):0),ne}t.inherits($e,e.Transform,{transform(ne,we){if(this.value&&!we.changed()&&!ne.modified())return we.StopPropagation;var Qe=we.fork(we.NO_SOURCE|we.NO_FIELDS),it=we.materialize(we.SOURCE).source,Ut=ye(it,ne.groupby),sn=(ne.groupby||[]).map(t.accessorName),Cn=Ze(et(),ne),En=ne.as||"grid",vn=[];function zn(Oe,ze){for(let Dt=0;Dt<sn.length;++Dt)Oe[sn[Dt]]=ze[Dt];return Oe}return vn=Ut.map(Oe=>e.ingest(zn({[En]:Cn(Oe,ne.counts)},Oe.dims))),this.value&&(Qe.rem=this.value),this.value=Qe.source=Qe.add=vn,Qe}});function ye(ne,we){var Qe=[],it=Oe=>Oe(En),Ut,sn,Cn,En,vn,zn;if(we==null)Qe.push(ne);else for(Ut={},sn=0,Cn=ne.length;sn<Cn;++sn)En=ne[sn],vn=we.map(it),zn=Ut[vn],zn||(Ut[vn]=zn=[],zn.dims=vn,Qe.push(zn)),zn.push(En);return Qe}function Le(ne){e.Transform.call(this,null,ne)}Le.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},t.inherits(Le,e.Transform,{transform(ne,we){if(this.value&&!we.changed()&&!ne.modified())return we.StopPropagation;var Qe=we.fork(we.NO_SOURCE|we.NO_FIELDS),it=q().smooth(ne.smooth!==!1),Ut=ne.values,sn=ne.thresholds||I(ne.count||10,ne.nice,!!Ut),Cn=ne.size,En,vn;return Ut||(Ut=we.materialize(we.SOURCE).source,En=Ze(et(),ne)(Ut,!0),vn=Ve(En,En.scale||1,En.scale||1,0,0),Cn=[En.width,En.height],Ut=En.values),sn=t.isArray(sn)?sn:sn(Ut),Ut=it.size(Cn)(Ut,sn),vn&&Ut.forEach(vn),this.value&&(Qe.rem=this.value),this.value=Qe.source=Qe.add=(Ut||[]).map(e.ingest),Qe}});let Ce="Feature",pe="FeatureCollection",Je="MultiPoint";function ut(ne){e.Transform.call(this,null,ne)}ut.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},t.inherits(ut,e.Transform,{transform(ne,we){var Qe=this._features,it=this._points,Ut=ne.fields,sn=Ut&&Ut[0],Cn=Ut&&Ut[1],En=ne.geojson||!Ut&&t.identity,vn=we.ADD,zn;zn=ne.modified()||we.changed(we.REM)||we.modified(t.accessorFields(En))||sn&&we.modified(t.accessorFields(sn))||Cn&&we.modified(t.accessorFields(Cn)),(!this.value||zn)&&(vn=we.SOURCE,this._features=Qe=[],this._points=it=[]),En&&we.visit(vn,Oe=>Qe.push(En(Oe))),sn&&Cn&&(we.visit(vn,Oe=>{var ze=sn(Oe),Dt=Cn(Oe);ze!=null&&Dt!=null&&(ze=+ze)===ze&&(Dt=+Dt)===Dt&&it.push([ze,Dt])}),Qe=Qe.concat({type:Ce,geometry:{type:Je,coordinates:it}})),this.value={type:pe,features:Qe}}});function Ht(ne){e.Transform.call(this,null,ne)}Ht.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},t.inherits(Ht,e.Transform,{transform(ne,we){var Qe=we.fork(we.ALL),it=this.value,Ut=ne.field||t.identity,sn=ne.as||"path",Cn=Qe.SOURCE;!it||ne.modified()?(this.value=it=i.getProjectionPath(ne.projection),Qe.materialize().reflow()):Cn=Ut===t.identity||we.modified(Ut.fields)?Qe.ADD_MOD:Qe.ADD;let En=Ct(it,ne.pointRadius);return Qe.visit(Cn,vn=>vn[sn]=it(Ut(vn))),it.pointRadius(En),Qe.modifies(sn)}});function Ct(ne,we){let Qe=ne.pointRadius();return ne.context(null),we!=null&&ne.pointRadius(we),Qe}function xn(ne){e.Transform.call(this,null,ne)}xn.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},t.inherits(xn,e.Transform,{transform(ne,we){var Qe=ne.projection,it=ne.fields[0],Ut=ne.fields[1],sn=ne.as||["x","y"],Cn=sn[0],En=sn[1],vn;function zn(Oe){let ze=Qe([it(Oe),Ut(Oe)]);ze?(Oe[Cn]=ze[0],Oe[En]=ze[1]):(Oe[Cn]=void 0,Oe[En]=void 0)}return ne.modified()?we=we.materialize().reflow(!0).visit(we.SOURCE,zn):(vn=we.modified(it.fields)||we.modified(Ut.fields),we.visit(vn?we.ADD_MOD:we.ADD,zn)),we.modifies(sn)}});function Tt(ne){e.Transform.call(this,null,ne)}Tt.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},t.inherits(Tt,e.Transform,{transform(ne,we){var Qe=we.fork(we.ALL),it=this.value,Ut=ne.as||"shape",sn=Qe.ADD;return(!it||ne.modified())&&(this.value=it=Ot(i.getProjectionPath(ne.projection),ne.field||t.field("datum"),ne.pointRadius),Qe.materialize().reflow(),sn=Qe.SOURCE),Qe.visit(sn,Cn=>Cn[Ut]=it),Qe.modifies(Ut)}});function Ot(ne,we,Qe){let it=Qe==null?Ut=>ne(we(Ut)):Ut=>{var sn=ne.pointRadius(),Cn=ne.pointRadius(Qe)(we(Ut));return ne.pointRadius(sn),Cn};return it.context=Ut=>(ne.context(Ut),it),it}var rn=1e-6,St=Math.abs,_e=Math.ceil;function ke(ne,we,Qe){var it=_(ne,we-rn,Qe).concat(we);return function(Ut){return it.map(function(sn){return[Ut,sn]})}}function Se(ne,we,Qe){var it=_(ne,we-rn,Qe).concat(we);return function(Ut){return it.map(function(sn){return[sn,Ut]})}}function ce(){var ne,we,Qe,it,Ut,sn,Cn,En,vn=10,zn=vn,Oe=90,ze=360,Dt,N,V,be,xe=2.5;function K(){return{type:"MultiLineString",coordinates:ae()}}function ae(){return _(_e(it/Oe)*Oe,Qe,Oe).map(V).concat(_(_e(En/ze)*ze,Cn,ze).map(be)).concat(_(_e(we/vn)*vn,ne,vn).filter(function(fe){return St(fe%Oe)>rn}).map(Dt)).concat(_(_e(sn/zn)*zn,Ut,zn).filter(function(fe){return St(fe%ze)>rn}).map(N))}return K.lines=function(){return ae().map(function(fe){return{type:"LineString",coordinates:fe}})},K.outline=function(){return{type:"Polygon",coordinates:[V(it).concat(be(Cn).slice(1),V(Qe).reverse().slice(1),be(En).reverse().slice(1))]}},K.extent=function(fe){return arguments.length?K.extentMajor(fe).extentMinor(fe):K.extentMinor()},K.extentMajor=function(fe){return arguments.length?(it=+fe[0][0],Qe=+fe[1][0],En=+fe[0][1],Cn=+fe[1][1],it>Qe&&(fe=it,it=Qe,Qe=fe),En>Cn&&(fe=En,En=Cn,Cn=fe),K.precision(xe)):[[it,En],[Qe,Cn]]},K.extentMinor=function(fe){return arguments.length?(we=+fe[0][0],ne=+fe[1][0],sn=+fe[0][1],Ut=+fe[1][1],we>ne&&(fe=we,we=ne,ne=fe),sn>Ut&&(fe=sn,sn=Ut,Ut=fe),K.precision(xe)):[[we,sn],[ne,Ut]]},K.step=function(fe){return arguments.length?K.stepMajor(fe).stepMinor(fe):K.stepMinor()},K.stepMajor=function(fe){return arguments.length?(Oe=+fe[0],ze=+fe[1],K):[Oe,ze]},K.stepMinor=function(fe){return arguments.length?(vn=+fe[0],zn=+fe[1],K):[vn,zn]},K.precision=function(fe){return arguments.length?(xe=+fe,Dt=ke(sn,Ut,90),N=Se(we,ne,xe),V=ke(En,Cn,90),be=Se(it,Qe,xe),K):xe},K.extentMajor([[-180,-90+rn],[180,90-rn]]).extentMinor([[-180,-80-rn],[180,80+rn]])}function tt(ne){e.Transform.call(this,[],ne),this.generator=ce()}tt.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},t.inherits(tt,e.Transform,{transform(ne,we){var Qe=this.value,it=this.generator,Ut;if(!Qe.length||ne.modified())for(let sn in ne)t.isFunction(it[sn])&&it[sn](ne[sn]);return Ut=it(),Qe.length?we.mod.push(e.replace(Qe[0],Ut)):we.add.push(e.ingest(Ut)),Qe[0]=Ut,we}});function Ie(ne,we,Qe){ne.prototype=we.prototype=Qe,Qe.constructor=ne}function re(ne,we){var Qe=Object.create(ne.prototype);for(var it in we)Qe[it]=we[it];return Qe}function Ne(){}var ct=.7,_t=1/ct,Lt="\\s*([+-]?\\d+)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fn=/^#([0-9a-f]{3,8})$/,gn=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),yn=new RegExp("^rgb\\("+[Gt,Gt,Gt]+"\\)$"),It=new RegExp("^rgba\\("+[Lt,Lt,Lt,Yt]+"\\)$"),un=new RegExp("^rgba\\("+[Gt,Gt,Gt,Yt]+"\\)$"),Mn=new RegExp("^hsl\\("+[Yt,Gt,Gt]+"\\)$"),tr=new RegExp("^hsla\\("+[Yt,Gt,Gt,Yt]+"\\)$"),Rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ie(Ne,Bt,{copy:function(ne){return Object.assign(new this.constructor,this,ne)},displayable:function(){return this.rgb().displayable()},hex:Re,formatHex:Re,formatHsl:He,formatRgb:De,toString:De});function Re(){return this.rgb().formatHex()}function He(){return Ke(this).formatHsl()}function De(){return this.rgb().formatRgb()}function Bt(ne){var we,Qe;return ne=(ne+"").trim().toLowerCase(),(we=fn.exec(ne))?(Qe=we[1].length,we=parseInt(we[1],16),Qe===6?pt(we):Qe===3?new Fn(we>>8&15|we>>4&240,we>>4&15|we&240,(we&15)<<4|we&15,1):Qe===8?mt(we>>24&255,we>>16&255,we>>8&255,(we&255)/255):Qe===4?mt(we>>12&15|we>>8&240,we>>8&15|we>>4&240,we>>4&15|we&240,((we&15)<<4|we&15)/255):null):(we=gn.exec(ne))?new Fn(we[1],we[2],we[3],1):(we=yn.exec(ne))?new Fn(we[1]*255/100,we[2]*255/100,we[3]*255/100,1):(we=It.exec(ne))?mt(we[1],we[2],we[3],we[4]):(we=un.exec(ne))?mt(we[1]*255/100,we[2]*255/100,we[3]*255/100,we[4]):(we=Mn.exec(ne))?nr(we[1],we[2]/100,we[3]/100,1):(we=tr.exec(ne))?nr(we[1],we[2]/100,we[3]/100,we[4]):Rn.hasOwnProperty(ne)?pt(Rn[ne]):ne==="transparent"?new Fn(NaN,NaN,NaN,0):null}function pt(ne){return new Fn(ne>>16&255,ne>>8&255,ne&255,1)}function mt(ne,we,Qe,it){return it<=0&&(ne=we=Qe=NaN),new Fn(ne,we,Qe,it)}function nn(ne){return ne instanceof Ne||(ne=Bt(ne)),ne?(ne=ne.rgb(),new Fn(ne.r,ne.g,ne.b,ne.opacity)):new Fn}function Qt(ne,we,Qe,it){return arguments.length===1?nn(ne):new Fn(ne,we,Qe,it??1)}function Fn(ne,we,Qe,it){this.r=+ne,this.g=+we,this.b=+Qe,this.opacity=+it}Ie(Fn,Qt,re(Ne,{brighter:function(ne){return ne=ne==null?_t:Math.pow(_t,ne),new Fn(this.r*ne,this.g*ne,this.b*ne,this.opacity)},darker:function(ne){return ne=ne==null?ct:Math.pow(ct,ne),new Fn(this.r*ne,this.g*ne,this.b*ne,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wn,formatHex:Wn,formatRgb:Zn,toString:Zn}));function Wn(){return"#"+Nn(this.r)+Nn(this.g)+Nn(this.b)}function Zn(){var ne=this.opacity;return ne=isNaN(ne)?1:Math.max(0,Math.min(1,ne)),(ne===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ne===1?")":", "+ne+")")}function Nn(ne){return ne=Math.max(0,Math.min(255,Math.round(ne)||0)),(ne<16?"0":"")+ne.toString(16)}function nr(ne,we,Qe,it){return it<=0?ne=we=Qe=NaN:Qe<=0||Qe>=1?ne=we=NaN:we<=0&&(ne=NaN),new oe(ne,we,Qe,it)}function Ke(ne){if(ne instanceof oe)return new oe(ne.h,ne.s,ne.l,ne.opacity);if(ne instanceof Ne||(ne=Bt(ne)),!ne)return new oe;if(ne instanceof oe)return ne;ne=ne.rgb();var we=ne.r/255,Qe=ne.g/255,it=ne.b/255,Ut=Math.min(we,Qe,it),sn=Math.max(we,Qe,it),Cn=NaN,En=sn-Ut,vn=(sn+Ut)/2;return En?(we===sn?Cn=(Qe-it)/En+(Qe<it)*6:Qe===sn?Cn=(it-we)/En+2:Cn=(we-Qe)/En+4,En/=vn<.5?sn+Ut:2-sn-Ut,Cn*=60):En=vn>0&&vn<1?0:Cn,new oe(Cn,En,vn,ne.opacity)}function yt(ne,we,Qe,it){return arguments.length===1?Ke(ne):new oe(ne,we,Qe,it??1)}function oe(ne,we,Qe,it){this.h=+ne,this.s=+we,this.l=+Qe,this.opacity=+it}Ie(oe,yt,re(Ne,{brighter:function(ne){return ne=ne==null?_t:Math.pow(_t,ne),new oe(this.h,this.s,this.l*ne,this.opacity)},darker:function(ne){return ne=ne==null?ct:Math.pow(ct,ne),new oe(this.h,this.s,this.l*ne,this.opacity)},rgb:function(){var ne=this.h%360+(this.h<0)*360,we=isNaN(ne)||isNaN(this.s)?0:this.s,Qe=this.l,it=Qe+(Qe<.5?Qe:1-Qe)*we,Ut=2*Qe-it;return new Fn(je(ne>=240?ne-240:ne+120,Ut,it),je(ne,Ut,it),je(ne<120?ne+240:ne-120,Ut,it),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ne=this.opacity;return ne=isNaN(ne)?1:Math.max(0,Math.min(1,ne)),(ne===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ne===1?")":", "+ne+")")}}));function je(ne,we,Qe){return(ne<60?we+(Qe-we)*ne/60:ne<180?Qe:ne<240?we+(Qe-we)*(240-ne)/60:we)*255}function nt(ne){e.Transform.call(this,null,ne)}nt.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},t.inherits(nt,e.Transform,{transform(ne,we){if(!we.changed()&&!ne.modified())return we.StopPropagation;var Qe=we.materialize(we.SOURCE).source,it=ne.resolve==="shared",Ut=ne.field||t.identity,sn=hn(ne.opacity,ne),Cn=Rt(ne.color,ne),En=ne.as||"image",vn={$x:0,$y:0,$value:0,$max:it?p(Qe.map(zn=>p(Ut(zn).values))):0};return Qe.forEach(zn=>{let Oe=Ut(zn),ze=t.extend({},zn,vn);it||(ze.$max=p(Oe.values||[])),zn[En]=ft(Oe,ze,Cn.dep?Cn:t.constant(Cn(ze)),sn.dep?sn:t.constant(sn(ze)))}),we.reflow(!0).modifies(En)}});function Rt(ne,we){let Qe;return t.isFunction(ne)?(Qe=it=>Qt(ne(it,we)),Qe.dep=an(ne)):Qe=t.constant(Qt(ne||"#888")),Qe}function hn(ne,we){let Qe;return t.isFunction(ne)?(Qe=it=>ne(it,we),Qe.dep=an(ne)):ne?Qe=t.constant(ne):(Qe=it=>it.$value/it.$max||0,Qe.dep=!0),Qe}function an(ne){if(!t.isFunction(ne))return!1;let we=t.toSet(t.accessorFields(ne));return we.$x||we.$y||we.$value||we.$max}function ft(ne,we,Qe,it){let Ut=ne.width,sn=ne.height,Cn=ne.x1||0,En=ne.y1||0,vn=ne.x2||Ut,zn=ne.y2||sn,Oe=ne.values,ze=Oe?xe=>Oe[xe]:t.zero,Dt=s.canvas(vn-Cn,zn-En),N=Dt.getContext("2d"),V=N.getImageData(0,0,vn-Cn,zn-En),be=V.data;for(let xe=En,K=0;xe<zn;++xe){we.$y=xe-En;for(let ae=Cn,fe=xe*Ut;ae<vn;++ae,K+=4){we.$x=ae-Cn,we.$value=ze(ae+fe);let Ge=Qe(we);be[K+0]=Ge.r,be[K+1]=Ge.g,be[K+2]=Ge.b,be[K+3]=~~(255*it(we))}}return N.putImageData(V,0,0),Dt}function ie(ne){e.Transform.call(this,null,ne),this.modified(!0)}t.inherits(ie,e.Transform,{transform(ne,we){let Qe=this.value;return!Qe||ne.modified("type")?(this.value=Qe=Ue(ne.type),i.projectionProperties.forEach(it=>{ne[it]!=null&&xt(Qe,it,ne[it])})):i.projectionProperties.forEach(it=>{ne.modified(it)&&xt(Qe,it,ne[it])}),ne.pointRadius!=null&&Qe.path.pointRadius(ne.pointRadius),ne.fit&&Te(Qe,ne),we.fork(we.NO_SOURCE|we.NO_FIELDS)}});function Te(ne,we){let Qe=Et(we.fit);we.extent?ne.fitExtent(we.extent,Qe):we.size&&ne.fitSize(we.size,Qe)}function Ue(ne){let we=i.projection((ne||"mercator").toLowerCase());return we||t.error("Unrecognized projection type: "+ne),we()}function xt(ne,we,Qe){t.isFunction(ne[we])&&ne[we](Qe)}function Et(ne){return ne=t.array(ne),ne.length===1?ne[0]:{type:pe,features:ne.reduce((we,Qe)=>we.concat(Nt(Qe)),[])}}function Nt(ne){return ne.type===pe?ne.features:t.array(ne).filter(we=>we!=null).map(we=>we.type===Ce?we:{type:Ce,geometry:we})}n.contour=Le,n.geojson=ut,n.geopath=Ht,n.geopoint=xn,n.geoshape=Tt,n.graticule=tt,n.heatmap=nt,n.isocontour=J,n.kde2d=$e,n.projection=ie,Object.defineProperty(n,"__esModule",{value:!0})})});var cDe=Ae((QH,lDe)=>{m();(function(n,e){typeof QH=="object"&&typeof lDe!="undefined"?e(QH,r0(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(QH,function(n,e,t){"use strict";function r(oe,je){var nt,Rt=1;oe==null&&(oe=0),je==null&&(je=0);function hn(){var an,ft=nt.length,ie,Te=0,Ue=0;for(an=0;an<ft;++an)ie=nt[an],Te+=ie.x,Ue+=ie.y;for(Te=(Te/ft-oe)*Rt,Ue=(Ue/ft-je)*Rt,an=0;an<ft;++an)ie=nt[an],ie.x-=Te,ie.y-=Ue}return hn.initialize=function(an){nt=an},hn.x=function(an){return arguments.length?(oe=+an,hn):oe},hn.y=function(an){return arguments.length?(je=+an,hn):je},hn.strength=function(an){return arguments.length?(Rt=+an,hn):Rt},hn}function i(oe){let je=+this._x.call(null,oe),nt=+this._y.call(null,oe);return s(this.cover(je,nt),je,nt,oe)}function s(oe,je,nt,Rt){if(isNaN(je)||isNaN(nt))return oe;var hn,an=oe._root,ft={data:Rt},ie=oe._x0,Te=oe._y0,Ue=oe._x1,xt=oe._y1,Et,Nt,ne,we,Qe,it,Ut,sn;if(!an)return oe._root=ft,oe;for(;an.length;)if((Qe=je>=(Et=(ie+Ue)/2))?ie=Et:Ue=Et,(it=nt>=(Nt=(Te+xt)/2))?Te=Nt:xt=Nt,hn=an,!(an=an[Ut=it<<1|Qe]))return hn[Ut]=ft,oe;if(ne=+oe._x.call(null,an.data),we=+oe._y.call(null,an.data),je===ne&&nt===we)return ft.next=an,hn?hn[Ut]=ft:oe._root=ft,oe;do hn=hn?hn[Ut]=new Array(4):oe._root=new Array(4),(Qe=je>=(Et=(ie+Ue)/2))?ie=Et:Ue=Et,(it=nt>=(Nt=(Te+xt)/2))?Te=Nt:xt=Nt;while((Ut=it<<1|Qe)===(sn=(we>=Nt)<<1|ne>=Et));return hn[sn]=an,hn[Ut]=ft,oe}function o(oe){var je,nt,Rt=oe.length,hn,an,ft=new Array(Rt),ie=new Array(Rt),Te=1/0,Ue=1/0,xt=-1/0,Et=-1/0;for(nt=0;nt<Rt;++nt)isNaN(hn=+this._x.call(null,je=oe[nt]))||isNaN(an=+this._y.call(null,je))||(ft[nt]=hn,ie[nt]=an,hn<Te&&(Te=hn),hn>xt&&(xt=hn),an<Ue&&(Ue=an),an>Et&&(Et=an));if(Te>xt||Ue>Et)return this;for(this.cover(Te,Ue).cover(xt,Et),nt=0;nt<Rt;++nt)s(this,ft[nt],ie[nt],oe[nt]);return this}function a(oe,je){if(isNaN(oe=+oe)||isNaN(je=+je))return this;var nt=this._x0,Rt=this._y0,hn=this._x1,an=this._y1;if(isNaN(nt))hn=(nt=Math.floor(oe))+1,an=(Rt=Math.floor(je))+1;else{for(var ft=hn-nt||1,ie=this._root,Te,Ue;nt>oe||oe>=hn||Rt>je||je>=an;)switch(Ue=(je<Rt)<<1|oe<nt,Te=new Array(4),Te[Ue]=ie,ie=Te,ft*=2,Ue){case 0:hn=nt+ft,an=Rt+ft;break;case 1:nt=hn-ft,an=Rt+ft;break;case 2:hn=nt+ft,Rt=an-ft;break;case 3:nt=hn-ft,Rt=an-ft;break}this._root&&this._root.length&&(this._root=ie)}return this._x0=nt,this._y0=Rt,this._x1=hn,this._y1=an,this}function l(){var oe=[];return this.visit(function(je){if(!je.length)do oe.push(je.data);while(je=je.next)}),oe}function f(oe){return arguments.length?this.cover(+oe[0][0],+oe[0][1]).cover(+oe[1][0],+oe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(oe,je,nt,Rt,hn){this.node=oe,this.x0=je,this.y0=nt,this.x1=Rt,this.y1=hn}function _(oe,je,nt){var Rt,hn=this._x0,an=this._y0,ft,ie,Te,Ue,xt=this._x1,Et=this._y1,Nt=[],ne=this._root,we,Qe;for(ne&&Nt.push(new p(ne,hn,an,xt,Et)),nt==null?nt=1/0:(hn=oe-nt,an=je-nt,xt=oe+nt,Et=je+nt,nt*=nt);we=Nt.pop();)if(!(!(ne=we.node)||(ft=we.x0)>xt||(ie=we.y0)>Et||(Te=we.x1)<hn||(Ue=we.y1)<an))if(ne.length){var it=(ft+Te)/2,Ut=(ie+Ue)/2;Nt.push(new p(ne[3],it,Ut,Te,Ue),new p(ne[2],ft,Ut,it,Ue),new p(ne[1],it,ie,Te,Ut),new p(ne[0],ft,ie,it,Ut)),(Qe=(je>=Ut)<<1|oe>=it)&&(we=Nt[Nt.length-1],Nt[Nt.length-1]=Nt[Nt.length-1-Qe],Nt[Nt.length-1-Qe]=we)}else{var sn=oe-+this._x.call(null,ne.data),Cn=je-+this._y.call(null,ne.data),En=sn*sn+Cn*Cn;if(En<nt){var vn=Math.sqrt(nt=En);hn=oe-vn,an=je-vn,xt=oe+vn,Et=je+vn,Rt=ne.data}}return Rt}function E(oe){if(isNaN(xt=+this._x.call(null,oe))||isNaN(Et=+this._y.call(null,oe)))return this;var je,nt=this._root,Rt,hn,an,ft=this._x0,ie=this._y0,Te=this._x1,Ue=this._y1,xt,Et,Nt,ne,we,Qe,it,Ut;if(!nt)return this;if(nt.length)for(;;){if((we=xt>=(Nt=(ft+Te)/2))?ft=Nt:Te=Nt,(Qe=Et>=(ne=(ie+Ue)/2))?ie=ne:Ue=ne,je=nt,!(nt=nt[it=Qe<<1|we]))return this;if(!nt.length)break;(je[it+1&3]||je[it+2&3]||je[it+3&3])&&(Rt=je,Ut=it)}for(;nt.data!==oe;)if(hn=nt,!(nt=nt.next))return this;return(an=nt.next)&&delete nt.next,hn?(an?hn.next=an:delete hn.next,this):je?(an?je[it]=an:delete je[it],(nt=je[0]||je[1]||je[2]||je[3])&&nt===(je[3]||je[2]||je[1]||je[0])&&!nt.length&&(Rt?Rt[Ut]=nt:this._root=nt),this):(this._root=an,this)}function O(oe){for(var je=0,nt=oe.length;je<nt;++je)this.remove(oe[je]);return this}function R(){return this._root}function q(){var oe=0;return this.visit(function(je){if(!je.length)do++oe;while(je=je.next)}),oe}function z(oe){var je=[],nt,Rt=this._root,hn,an,ft,ie,Te;for(Rt&&je.push(new p(Rt,this._x0,this._y0,this._x1,this._y1));nt=je.pop();)if(!oe(Rt=nt.node,an=nt.x0,ft=nt.y0,ie=nt.x1,Te=nt.y1)&&Rt.length){var Ue=(an+ie)/2,xt=(ft+Te)/2;(hn=Rt[3])&&je.push(new p(hn,Ue,xt,ie,Te)),(hn=Rt[2])&&je.push(new p(hn,an,xt,Ue,Te)),(hn=Rt[1])&&je.push(new p(hn,Ue,ft,ie,xt)),(hn=Rt[0])&&je.push(new p(hn,an,ft,Ue,xt))}return this}function L(oe){var je=[],nt=[],Rt;for(this._root&&je.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));Rt=je.pop();){var hn=Rt.node;if(hn.length){var an,ft=Rt.x0,ie=Rt.y0,Te=Rt.x1,Ue=Rt.y1,xt=(ft+Te)/2,Et=(ie+Ue)/2;(an=hn[0])&&je.push(new p(an,ft,ie,xt,Et)),(an=hn[1])&&je.push(new p(an,xt,ie,Te,Et)),(an=hn[2])&&je.push(new p(an,ft,Et,xt,Ue)),(an=hn[3])&&je.push(new p(an,xt,Et,Te,Ue))}nt.push(Rt)}for(;Rt=nt.pop();)oe(Rt.node,Rt.x0,Rt.y0,Rt.x1,Rt.y1);return this}function B(oe){return oe[0]}function P(oe){return arguments.length?(this._x=oe,this):this._x}function G(oe){return oe[1]}function ue(oe){return arguments.length?(this._y=oe,this):this._y}function I(oe,je,nt){var Rt=new J(je??B,nt??G,NaN,NaN,NaN,NaN);return oe==null?Rt:Rt.addAll(oe)}function J(oe,je,nt,Rt,hn,an){this._x=oe,this._y=je,this._x0=nt,this._y0=Rt,this._x1=hn,this._y1=an,this._root=void 0}function he(oe){for(var je={data:oe.data},nt=je;oe=oe.next;)nt=nt.next={data:oe.data};return je}var ve=I.prototype=J.prototype;ve.copy=function(){var oe=new J(this._x,this._y,this._x0,this._y0,this._x1,this._y1),je=this._root,nt,Rt;if(!je)return oe;if(!je.length)return oe._root=he(je),oe;for(nt=[{source:je,target:oe._root=new Array(4)}];je=nt.pop();)for(var hn=0;hn<4;++hn)(Rt=je.source[hn])&&(Rt.length?nt.push({source:Rt,target:je.target[hn]=new Array(4)}):je.target[hn]=he(Rt));return oe},ve.add=i,ve.addAll=o,ve.cover=a,ve.data=l,ve.extent=f,ve.find=_,ve.remove=E,ve.removeAll=O,ve.root=R,ve.size=q,ve.visit=z,ve.visitAfter=L,ve.x=P,ve.y=ue;function Ve(oe){return function(){return oe}}function ot(oe){return(oe()-.5)*1e-6}function lt(oe){return oe.x+oe.vx}function et(oe){return oe.y+oe.vy}function bt(oe){var je,nt,Rt,hn=1,an=1;typeof oe!="function"&&(oe=Ve(oe==null?1:+oe));function ft(){for(var Ue,xt=je.length,Et,Nt,ne,we,Qe,it,Ut=0;Ut<an;++Ut)for(Et=I(je,lt,et).visitAfter(ie),Ue=0;Ue<xt;++Ue)Nt=je[Ue],Qe=nt[Nt.index],it=Qe*Qe,ne=Nt.x+Nt.vx,we=Nt.y+Nt.vy,Et.visit(sn);function sn(Cn,En,vn,zn,Oe){var ze=Cn.data,Dt=Cn.r,N=Qe+Dt;if(ze){if(ze.index>Nt.index){var V=ne-ze.x-ze.vx,be=we-ze.y-ze.vy,xe=V*V+be*be;xe<N*N&&(V===0&&(V=ot(Rt),xe+=V*V),be===0&&(be=ot(Rt),xe+=be*be),xe=(N-(xe=Math.sqrt(xe)))/xe*hn,Nt.vx+=(V*=xe)*(N=(Dt*=Dt)/(it+Dt)),Nt.vy+=(be*=xe)*N,ze.vx-=V*(N=1-N),ze.vy-=be*N)}return}return En>ne+N||zn<ne-N||vn>we+N||Oe<we-N}}function ie(Ue){if(Ue.data)return Ue.r=nt[Ue.data.index];for(var xt=Ue.r=0;xt<4;++xt)Ue[xt]&&Ue[xt].r>Ue.r&&(Ue.r=Ue[xt].r)}function Te(){if(!!je){var Ue,xt=je.length,Et;for(nt=new Array(xt),Ue=0;Ue<xt;++Ue)Et=je[Ue],nt[Et.index]=+oe(Et,Ue,je)}}return ft.initialize=function(Ue,xt){je=Ue,Rt=xt,Te()},ft.iterations=function(Ue){return arguments.length?(an=+Ue,ft):an},ft.strength=function(Ue){return arguments.length?(hn=+Ue,ft):hn},ft.radius=function(Ue){return arguments.length?(oe=typeof Ue=="function"?Ue:Ve(+Ue),Te(),ft):oe},ft}function Pt(oe){return oe.index}function $e(oe,je){var nt=oe.get(je);if(!nt)throw new Error("node not found: "+je);return nt}function te(oe){var je=Pt,nt=Et,Rt,hn=Ve(30),an,ft,ie,Te,Ue,xt=1;oe==null&&(oe=[]);function Et(it){return 1/Math.min(ie[it.source.index],ie[it.target.index])}function Nt(it){for(var Ut=0,sn=oe.length;Ut<xt;++Ut)for(var Cn=0,En,vn,zn,Oe,ze,Dt,N;Cn<sn;++Cn)En=oe[Cn],vn=En.source,zn=En.target,Oe=zn.x+zn.vx-vn.x-vn.vx||ot(Ue),ze=zn.y+zn.vy-vn.y-vn.vy||ot(Ue),Dt=Math.sqrt(Oe*Oe+ze*ze),Dt=(Dt-an[Cn])/Dt*it*Rt[Cn],Oe*=Dt,ze*=Dt,zn.vx-=Oe*(N=Te[Cn]),zn.vy-=ze*N,vn.vx+=Oe*(N=1-N),vn.vy+=ze*N}function ne(){if(!!ft){var it,Ut=ft.length,sn=oe.length,Cn=new Map(ft.map((vn,zn)=>[je(vn,zn,ft),vn])),En;for(it=0,ie=new Array(Ut);it<sn;++it)En=oe[it],En.index=it,typeof En.source!="object"&&(En.source=$e(Cn,En.source)),typeof En.target!="object"&&(En.target=$e(Cn,En.target)),ie[En.source.index]=(ie[En.source.index]||0)+1,ie[En.target.index]=(ie[En.target.index]||0)+1;for(it=0,Te=new Array(sn);it<sn;++it)En=oe[it],Te[it]=ie[En.source.index]/(ie[En.source.index]+ie[En.target.index]);Rt=new Array(sn),we(),an=new Array(sn),Qe()}}function we(){if(!!ft)for(var it=0,Ut=oe.length;it<Ut;++it)Rt[it]=+nt(oe[it],it,oe)}function Qe(){if(!!ft)for(var it=0,Ut=oe.length;it<Ut;++it)an[it]=+hn(oe[it],it,oe)}return Nt.initialize=function(it,Ut){ft=it,Ue=Ut,ne()},Nt.links=function(it){return arguments.length?(oe=it,ne(),Nt):oe},Nt.id=function(it){return arguments.length?(je=it,Nt):je},Nt.iterations=function(it){return arguments.length?(xt=+it,Nt):xt},Nt.strength=function(it){return arguments.length?(nt=typeof it=="function"?it:Ve(+it),we(),Nt):nt},Nt.distance=function(it){return arguments.length?(hn=typeof it=="function"?it:Ve(+it),Qe(),Nt):hn},Nt}var Ze={value:()=>{}};function ye(){for(var oe=0,je=arguments.length,nt={},Rt;oe<je;++oe){if(!(Rt=arguments[oe]+"")||Rt in nt||/[\s.]/.test(Rt))throw new Error("illegal type: "+Rt);nt[Rt]=[]}return new Le(nt)}function Le(oe){this._=oe}function Ce(oe,je){return oe.trim().split(/^|\s+/).map(function(nt){var Rt="",hn=nt.indexOf(".");if(hn>=0&&(Rt=nt.slice(hn+1),nt=nt.slice(0,hn)),nt&&!je.hasOwnProperty(nt))throw new Error("unknown type: "+nt);return{type:nt,name:Rt}})}Le.prototype=ye.prototype={constructor:Le,on:function(oe,je){var nt=this._,Rt=Ce(oe+"",nt),hn,an=-1,ft=Rt.length;if(arguments.length<2){for(;++an<ft;)if((hn=(oe=Rt[an]).type)&&(hn=pe(nt[hn],oe.name)))return hn;return}if(je!=null&&typeof je!="function")throw new Error("invalid callback: "+je);for(;++an<ft;)if(hn=(oe=Rt[an]).type)nt[hn]=Je(nt[hn],oe.name,je);else if(je==null)for(hn in nt)nt[hn]=Je(nt[hn],oe.name,null);return this},copy:function(){var oe={},je=this._;for(var nt in je)oe[nt]=je[nt].slice();return new Le(oe)},call:function(oe,je){if((hn=arguments.length-2)>0)for(var nt=new Array(hn),Rt=0,hn,an;Rt<hn;++Rt)nt[Rt]=arguments[Rt+2];if(!this._.hasOwnProperty(oe))throw new Error("unknown type: "+oe);for(an=this._[oe],Rt=0,hn=an.length;Rt<hn;++Rt)an[Rt].value.apply(je,nt)},apply:function(oe,je,nt){if(!this._.hasOwnProperty(oe))throw new Error("unknown type: "+oe);for(var Rt=this._[oe],hn=0,an=Rt.length;hn<an;++hn)Rt[hn].value.apply(je,nt)}};function pe(oe,je){for(var nt=0,Rt=oe.length,hn;nt<Rt;++nt)if((hn=oe[nt]).name===je)return hn.value}function Je(oe,je,nt){for(var Rt=0,hn=oe.length;Rt<hn;++Rt)if(oe[Rt].name===je){oe[Rt]=Ze,oe=oe.slice(0,Rt).concat(oe.slice(Rt+1));break}return nt!=null&&oe.push({name:je,value:nt}),oe}var ut=0,Ht=0,Ct=0,xn=1e3,Tt,Ot,rn=0,St=0,_e=0,ke=typeof performance=="object"&&performance.now?performance:Date,Se=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(oe){setTimeout(oe,17)};function ce(){return St||(Se(tt),St=ke.now()+_e)}function tt(){St=0}function Ie(){this._call=this._time=this._next=null}Ie.prototype=re.prototype={constructor:Ie,restart:function(oe,je,nt){if(typeof oe!="function")throw new TypeError("callback is not a function");nt=(nt==null?ce():+nt)+(je==null?0:+je),!this._next&&Ot!==this&&(Ot?Ot._next=this:Tt=this,Ot=this),this._call=oe,this._time=nt,Yt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yt())}};function re(oe,je,nt){var Rt=new Ie;return Rt.restart(oe,je,nt),Rt}function Ne(){ce(),++ut;for(var oe=Tt,je;oe;)(je=St-oe._time)>=0&&oe._call.call(void 0,je),oe=oe._next;--ut}function ct(){St=(rn=ke.now())+_e,ut=Ht=0;try{Ne()}finally{ut=0,Lt(),St=0}}function _t(){var oe=ke.now(),je=oe-rn;je>xn&&(_e-=je,rn=oe)}function Lt(){for(var oe,je=Tt,nt,Rt=1/0;je;)je._call?(Rt>je._time&&(Rt=je._time),oe=je,je=je._next):(nt=je._next,je._next=null,je=oe?oe._next=nt:Tt=nt);Ot=oe,Yt(Rt)}function Yt(oe){if(!ut){Ht&&(Ht=clearTimeout(Ht));var je=oe-St;je>24?(oe<1/0&&(Ht=setTimeout(ct,oe-ke.now()-_e)),Ct&&(Ct=clearInterval(Ct))):(Ct||(rn=ke.now(),Ct=setInterval(_t,xn)),ut=1,Se(ct))}}let Gt=1664525,fn=1013904223,gn=4294967296;function yn(){let oe=1;return()=>(oe=(Gt*oe+fn)%gn)/gn}function It(oe){return oe.x}function un(oe){return oe.y}var Mn=10,tr=Math.PI*(3-Math.sqrt(5));function Rn(oe){var je,nt=1,Rt=.001,hn=1-Math.pow(Rt,1/300),an=0,ft=.6,ie=new Map,Te=re(Et),Ue=ye("tick","end"),xt=yn();oe==null&&(oe=[]);function Et(){Nt(),Ue.call("tick",je),nt<Rt&&(Te.stop(),Ue.call("end",je))}function Nt(Qe){var it,Ut=oe.length,sn;Qe===void 0&&(Qe=1);for(var Cn=0;Cn<Qe;++Cn)for(nt+=(an-nt)*hn,ie.forEach(function(En){En(nt)}),it=0;it<Ut;++it)sn=oe[it],sn.fx==null?sn.x+=sn.vx*=ft:(sn.x=sn.fx,sn.vx=0),sn.fy==null?sn.y+=sn.vy*=ft:(sn.y=sn.fy,sn.vy=0);return je}function ne(){for(var Qe=0,it=oe.length,Ut;Qe<it;++Qe){if(Ut=oe[Qe],Ut.index=Qe,Ut.fx!=null&&(Ut.x=Ut.fx),Ut.fy!=null&&(Ut.y=Ut.fy),isNaN(Ut.x)||isNaN(Ut.y)){var sn=Mn*Math.sqrt(.5+Qe),Cn=Qe*tr;Ut.x=sn*Math.cos(Cn),Ut.y=sn*Math.sin(Cn)}(isNaN(Ut.vx)||isNaN(Ut.vy))&&(Ut.vx=Ut.vy=0)}}function we(Qe){return Qe.initialize&&Qe.initialize(oe,xt),Qe}return ne(),je={tick:Nt,restart:function(){return Te.restart(Et),je},stop:function(){return Te.stop(),je},nodes:function(Qe){return arguments.length?(oe=Qe,ne(),ie.forEach(we),je):oe},alpha:function(Qe){return arguments.length?(nt=+Qe,je):nt},alphaMin:function(Qe){return arguments.length?(Rt=+Qe,je):Rt},alphaDecay:function(Qe){return arguments.length?(hn=+Qe,je):+hn},alphaTarget:function(Qe){return arguments.length?(an=+Qe,je):an},velocityDecay:function(Qe){return arguments.length?(ft=1-Qe,je):1-ft},randomSource:function(Qe){return arguments.length?(xt=Qe,ie.forEach(we),je):xt},force:function(Qe,it){return arguments.length>1?(it==null?ie.delete(Qe):ie.set(Qe,we(it)),je):ie.get(Qe)},find:function(Qe,it,Ut){var sn=0,Cn=oe.length,En,vn,zn,Oe,ze;for(Ut==null?Ut=1/0:Ut*=Ut,sn=0;sn<Cn;++sn)Oe=oe[sn],En=Qe-Oe.x,vn=it-Oe.y,zn=En*En+vn*vn,zn<Ut&&(ze=Oe,Ut=zn);return ze},on:function(Qe,it){return arguments.length>1?(Ue.on(Qe,it),je):Ue.on(Qe)}}}function Re(){var oe,je,nt,Rt,hn=Ve(-30),an,ft=1,ie=1/0,Te=.81;function Ue(ne){var we,Qe=oe.length,it=I(oe,It,un).visitAfter(Et);for(Rt=ne,we=0;we<Qe;++we)je=oe[we],it.visit(Nt)}function xt(){if(!!oe){var ne,we=oe.length,Qe;for(an=new Array(we),ne=0;ne<we;++ne)Qe=oe[ne],an[Qe.index]=+hn(Qe,ne,oe)}}function Et(ne){var we=0,Qe,it,Ut=0,sn,Cn,En;if(ne.length){for(sn=Cn=En=0;En<4;++En)(Qe=ne[En])&&(it=Math.abs(Qe.value))&&(we+=Qe.value,Ut+=it,sn+=it*Qe.x,Cn+=it*Qe.y);ne.x=sn/Ut,ne.y=Cn/Ut}else{Qe=ne,Qe.x=Qe.data.x,Qe.y=Qe.data.y;do we+=an[Qe.data.index];while(Qe=Qe.next)}ne.value=we}function Nt(ne,we,Qe,it){if(!ne.value)return!0;var Ut=ne.x-je.x,sn=ne.y-je.y,Cn=it-we,En=Ut*Ut+sn*sn;if(Cn*Cn/Te<En)return En<ie&&(Ut===0&&(Ut=ot(nt),En+=Ut*Ut),sn===0&&(sn=ot(nt),En+=sn*sn),En<ft&&(En=Math.sqrt(ft*En)),je.vx+=Ut*ne.value*Rt/En,je.vy+=sn*ne.value*Rt/En),!0;if(ne.length||En>=ie)return;(ne.data!==je||ne.next)&&(Ut===0&&(Ut=ot(nt),En+=Ut*Ut),sn===0&&(sn=ot(nt),En+=sn*sn),En<ft&&(En=Math.sqrt(ft*En)));do ne.data!==je&&(Cn=an[ne.data.index]*Rt/En,je.vx+=Ut*Cn,je.vy+=sn*Cn);while(ne=ne.next)}return Ue.initialize=function(ne,we){oe=ne,nt=we,xt()},Ue.strength=function(ne){return arguments.length?(hn=typeof ne=="function"?ne:Ve(+ne),xt(),Ue):hn},Ue.distanceMin=function(ne){return arguments.length?(ft=ne*ne,Ue):Math.sqrt(ft)},Ue.distanceMax=function(ne){return arguments.length?(ie=ne*ne,Ue):Math.sqrt(ie)},Ue.theta=function(ne){return arguments.length?(Te=ne*ne,Ue):Math.sqrt(Te)},Ue}function He(oe){var je=Ve(.1),nt,Rt,hn;typeof oe!="function"&&(oe=Ve(oe==null?0:+oe));function an(ie){for(var Te=0,Ue=nt.length,xt;Te<Ue;++Te)xt=nt[Te],xt.vx+=(hn[Te]-xt.x)*Rt[Te]*ie}function ft(){if(!!nt){var ie,Te=nt.length;for(Rt=new Array(Te),hn=new Array(Te),ie=0;ie<Te;++ie)Rt[ie]=isNaN(hn[ie]=+oe(nt[ie],ie,nt))?0:+je(nt[ie],ie,nt)}}return an.initialize=function(ie){nt=ie,ft()},an.strength=function(ie){return arguments.length?(je=typeof ie=="function"?ie:Ve(+ie),ft(),an):je},an.x=function(ie){return arguments.length?(oe=typeof ie=="function"?ie:Ve(+ie),ft(),an):oe},an}function De(oe){var je=Ve(.1),nt,Rt,hn;typeof oe!="function"&&(oe=Ve(oe==null?0:+oe));function an(ie){for(var Te=0,Ue=nt.length,xt;Te<Ue;++Te)xt=nt[Te],xt.vy+=(hn[Te]-xt.y)*Rt[Te]*ie}function ft(){if(!!nt){var ie,Te=nt.length;for(Rt=new Array(Te),hn=new Array(Te),ie=0;ie<Te;++ie)Rt[ie]=isNaN(hn[ie]=+oe(nt[ie],ie,nt))?0:+je(nt[ie],ie,nt)}}return an.initialize=function(ie){nt=ie,ft()},an.strength=function(ie){return arguments.length?(je=typeof ie=="function"?ie:Ve(+ie),ft(),an):je},an.y=function(ie){return arguments.length?(oe=typeof ie=="function"?ie:Ve(+ie),ft(),an):oe},an}let Bt={center:r,collide:bt,nbody:Re,link:te,x:He,y:De},pt="forces",mt=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],nn=["static","iterations"],Qt=["x","y","vx","vy"];function Fn(oe){e.Transform.call(this,null,oe)}Fn.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Qt}]},t.inherits(Fn,e.Transform,{transform(oe,je){var nt=this.value,Rt=je.changed(je.ADD_REM),hn=oe.modified(mt),an=oe.iterations||300;if(nt?(Rt&&(je.modifies("index"),nt.nodes(je.source)),(hn||je.changed(je.MOD))&&Nn(nt,oe,0,je)):(this.value=nt=Zn(je.source,oe),nt.on("tick",Wn(je.dataflow,this)),oe.static||(Rt=!0,nt.tick()),je.modifies("index")),hn||Rt||oe.modified(nn)||je.changed()&&oe.restart){if(nt.alpha(Math.max(nt.alpha(),oe.alpha||1)).alphaDecay(1-Math.pow(nt.alphaMin(),1/an)),oe.static)for(nt.stop();--an>=0;)nt.tick();else if(nt.stopped()&&nt.restart(),!Rt)return je.StopPropagation}return this.finish(oe,je)},finish(oe,je){let nt=je.dataflow;for(let ie=this._argops,Te=0,Ue=ie.length,xt;Te<Ue;++Te)if(xt=ie[Te],!(xt.name!==pt||xt.op._argval.force!=="link")){for(var Rt=xt.op._argops,hn=0,an=Rt.length,ft;hn<an;++hn)if(Rt[hn].name==="links"&&(ft=Rt[hn].op.source)){nt.pulse(ft,nt.changeset().reflow());break}}return je.reflow(oe.modified()).modifies(Qt)}});function Wn(oe,je){return()=>oe.touch(je).run()}function Zn(oe,je){let nt=Rn(oe),Rt=nt.stop,hn=nt.restart,an=!1;return nt.stopped=()=>an,nt.restart=()=>(an=!1,hn()),nt.stop=()=>(an=!0,Rt()),Nn(nt,je,!0).on("end",()=>an=!0)}function Nn(oe,je,nt,Rt){var hn=t.array(je.forces),an,ft,ie,Te;for(an=0,ft=mt.length;an<ft;++an)ie=mt[an],ie!==pt&&je.modified(ie)&&oe[ie](je[ie]);for(an=0,ft=hn.length;an<ft;++an)Te=pt+an,ie=nt||je.modified(pt,an)?Ke(hn[an]):Rt&&nr(hn[an],Rt)?oe.force(Te):null,ie&&oe.force(Te,ie);for(ft=oe.numForces||0;an<ft;++an)oe.force(pt+an,null);return oe.numForces=hn.length,oe}function nr(oe,je){var nt,Rt;for(nt in oe)if(t.isFunction(Rt=oe[nt])&&je.modified(t.accessorFields(Rt)))return 1;return 0}function Ke(oe){var je,nt;t.hasOwnProperty(Bt,oe.force)||t.error("Unrecognized force: "+oe.force),je=Bt[oe.force]();for(nt in oe)t.isFunction(je[nt])&&yt(je[nt],oe[nt],oe);return je}function yt(oe,je,nt){oe(t.isFunction(je)?Rt=>je(Rt,nt):je)}n.force=Fn,Object.defineProperty(n,"__esModule",{value:!0})})});var dDe=Ae((GH,fDe)=>{m();(function(n,e){typeof GH=="object"&&typeof fDe!="undefined"?e(GH,r0(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(GH,function(n,e,t){"use strict";function r(Oe,ze,Dt){let N={};return Oe.each(V=>{let be=V.data;Dt(be)&&(N[ze(be)]=V)}),Oe.lookup=N,Oe}function i(Oe,ze){return Oe.parent===ze.parent?1:2}function s(Oe){return Oe.reduce(o,0)/Oe.length}function o(Oe,ze){return Oe+ze.x}function a(Oe){return 1+Oe.reduce(l,0)}function l(Oe,ze){return Math.max(Oe,ze.y)}function f(Oe){for(var ze;ze=Oe.children;)Oe=ze[0];return Oe}function p(Oe){for(var ze;ze=Oe.children;)Oe=ze[ze.length-1];return Oe}function _(){var Oe=i,ze=1,Dt=1,N=!1;function V(be){var xe,K=0;be.eachAfter(function(At){var dn=At.children;dn?(At.x=s(dn),At.y=a(dn)):(At.x=xe?K+=Oe(At,xe):0,At.y=0,xe=At)});var ae=f(be),fe=p(be),Ge=ae.x-Oe(ae,fe)/2,Mt=fe.x+Oe(fe,ae)/2;return be.eachAfter(N?function(At){At.x=(At.x-be.x)*ze,At.y=(be.y-At.y)*Dt}:function(At){At.x=(At.x-Ge)/(Mt-Ge)*ze,At.y=(1-(be.y?At.y/be.y:1))*Dt})}return V.separation=function(be){return arguments.length?(Oe=be,V):Oe},V.size=function(be){return arguments.length?(N=!1,ze=+be[0],Dt=+be[1],V):N?null:[ze,Dt]},V.nodeSize=function(be){return arguments.length?(N=!0,ze=+be[0],Dt=+be[1],V):N?[ze,Dt]:null},V}function E(Oe){var ze=0,Dt=Oe.children,N=Dt&&Dt.length;if(!N)ze=1;else for(;--N>=0;)ze+=Dt[N].value;Oe.value=ze}function O(){return this.eachAfter(E)}function R(Oe,ze){let Dt=-1;for(let N of this)Oe.call(ze,N,++Dt,this);return this}function q(Oe,ze){for(var Dt=this,N=[Dt],V,be,xe=-1;Dt=N.pop();)if(Oe.call(ze,Dt,++xe,this),V=Dt.children)for(be=V.length-1;be>=0;--be)N.push(V[be]);return this}function z(Oe,ze){for(var Dt=this,N=[Dt],V=[],be,xe,K,ae=-1;Dt=N.pop();)if(V.push(Dt),be=Dt.children)for(xe=0,K=be.length;xe<K;++xe)N.push(be[xe]);for(;Dt=V.pop();)Oe.call(ze,Dt,++ae,this);return this}function L(Oe,ze){let Dt=-1;for(let N of this)if(Oe.call(ze,N,++Dt,this))return N}function B(Oe){return this.eachAfter(function(ze){for(var Dt=+Oe(ze.data)||0,N=ze.children,V=N&&N.length;--V>=0;)Dt+=N[V].value;ze.value=Dt})}function P(Oe){return this.eachBefore(function(ze){ze.children&&ze.children.sort(Oe)})}function G(Oe){for(var ze=this,Dt=ue(ze,Oe),N=[ze];ze!==Dt;)ze=ze.parent,N.push(ze);for(var V=N.length;Oe!==Dt;)N.splice(V,0,Oe),Oe=Oe.parent;return N}function ue(Oe,ze){if(Oe===ze)return Oe;var Dt=Oe.ancestors(),N=ze.ancestors(),V=null;for(Oe=Dt.pop(),ze=N.pop();Oe===ze;)V=Oe,Oe=Dt.pop(),ze=N.pop();return V}function I(){for(var Oe=this,ze=[Oe];Oe=Oe.parent;)ze.push(Oe);return ze}function J(){return Array.from(this)}function he(){var Oe=[];return this.eachBefore(function(ze){ze.children||Oe.push(ze)}),Oe}function ve(){var Oe=this,ze=[];return Oe.each(function(Dt){Dt!==Oe&&ze.push({source:Dt.parent,target:Dt})}),ze}function*Ve(){var Oe=this,ze,Dt=[Oe],N,V,be;do for(ze=Dt.reverse(),Dt=[];Oe=ze.pop();)if(yield Oe,N=Oe.children)for(V=0,be=N.length;V<be;++V)Dt.push(N[V]);while(Dt.length)}function ot(Oe,ze){Oe instanceof Map?(Oe=[void 0,Oe],ze===void 0&&(ze=bt)):ze===void 0&&(ze=et);for(var Dt=new te(Oe),N,V=[Dt],be,xe,K,ae;N=V.pop();)if((xe=ze(N.data))&&(ae=(xe=Array.from(xe)).length))for(N.children=xe,K=ae-1;K>=0;--K)V.push(be=xe[K]=new te(xe[K])),be.parent=N,be.depth=N.depth+1;return Dt.eachBefore($e)}function lt(){return ot(this).eachBefore(Pt)}function et(Oe){return Oe.children}function bt(Oe){return Array.isArray(Oe)?Oe[1]:null}function Pt(Oe){Oe.data.value!==void 0&&(Oe.value=Oe.data.value),Oe.data=Oe.data.data}function $e(Oe){var ze=0;do Oe.height=ze;while((Oe=Oe.parent)&&Oe.height<++ze)}function te(Oe){this.data=Oe,this.depth=this.height=0,this.parent=null}te.prototype=ot.prototype={constructor:te,count:O,each:R,eachAfter:z,eachBefore:q,find:L,sum:B,sort:P,path:G,ancestors:I,descendants:J,leaves:he,links:ve,copy:lt,[Symbol.iterator]:Ve};function Ze(Oe){return typeof Oe=="object"&&"length"in Oe?Oe:Array.from(Oe)}function ye(Oe){for(var ze=Oe.length,Dt,N;ze;)N=Math.random()*ze--|0,Dt=Oe[ze],Oe[ze]=Oe[N],Oe[N]=Dt;return Oe}function Le(Oe){for(var ze=0,Dt=(Oe=ye(Array.from(Oe))).length,N=[],V,be;ze<Dt;)V=Oe[ze],be&&Je(be,V)?++ze:(be=Ht(N=Ce(N,V)),ze=0);return be}function Ce(Oe,ze){var Dt,N;if(ut(ze,Oe))return[ze];for(Dt=0;Dt<Oe.length;++Dt)if(pe(ze,Oe[Dt])&&ut(xn(Oe[Dt],ze),Oe))return[Oe[Dt],ze];for(Dt=0;Dt<Oe.length-1;++Dt)for(N=Dt+1;N<Oe.length;++N)if(pe(xn(Oe[Dt],Oe[N]),ze)&&pe(xn(Oe[Dt],ze),Oe[N])&&pe(xn(Oe[N],ze),Oe[Dt])&&ut(Tt(Oe[Dt],Oe[N],ze),Oe))return[Oe[Dt],Oe[N],ze];throw new Error}function pe(Oe,ze){var Dt=Oe.r-ze.r,N=ze.x-Oe.x,V=ze.y-Oe.y;return Dt<0||Dt*Dt<N*N+V*V}function Je(Oe,ze){var Dt=Oe.r-ze.r+Math.max(Oe.r,ze.r,1)*1e-9,N=ze.x-Oe.x,V=ze.y-Oe.y;return Dt>0&&Dt*Dt>N*N+V*V}function ut(Oe,ze){for(var Dt=0;Dt<ze.length;++Dt)if(!Je(Oe,ze[Dt]))return!1;return!0}function Ht(Oe){switch(Oe.length){case 1:return Ct(Oe[0]);case 2:return xn(Oe[0],Oe[1]);case 3:return Tt(Oe[0],Oe[1],Oe[2])}}function Ct(Oe){return{x:Oe.x,y:Oe.y,r:Oe.r}}function xn(Oe,ze){var Dt=Oe.x,N=Oe.y,V=Oe.r,be=ze.x,xe=ze.y,K=ze.r,ae=be-Dt,fe=xe-N,Ge=K-V,Mt=Math.sqrt(ae*ae+fe*fe);return{x:(Dt+be+ae/Mt*Ge)/2,y:(N+xe+fe/Mt*Ge)/2,r:(Mt+V+K)/2}}function Tt(Oe,ze,Dt){var N=Oe.x,V=Oe.y,be=Oe.r,xe=ze.x,K=ze.y,ae=ze.r,fe=Dt.x,Ge=Dt.y,Mt=Dt.r,At=N-xe,dn=N-fe,w=V-K,j=V-Ge,ee=ae-be,Ee=Mt-be,dt=N*N+V*V-be*be,Ft=dt-xe*xe-K*K+ae*ae,Zt=dt-fe*fe-Ge*Ge+Mt*Mt,Xt=dn*w-At*j,mn=(w*Zt-j*Ft)/(Xt*2)-N,qn=(j*ee-w*Ee)/Xt,Un=(dn*Ft-At*Zt)/(Xt*2)-V,Vn=(At*Ee-dn*ee)/Xt,Jr=qn*qn+Vn*Vn-1,Vr=2*(be+mn*qn+Un*Vn),yr=mn*mn+Un*Un-be*be,Mr=-(Jr?(Vr+Math.sqrt(Vr*Vr-4*Jr*yr))/(2*Jr):yr/Vr);return{x:N+mn+qn*Mr,y:V+Un+Vn*Mr,r:Mr}}function Ot(Oe,ze,Dt){var N=Oe.x-ze.x,V,be,xe=Oe.y-ze.y,K,ae,fe=N*N+xe*xe;fe?(be=ze.r+Dt.r,be*=be,ae=Oe.r+Dt.r,ae*=ae,be>ae?(V=(fe+ae-be)/(2*fe),K=Math.sqrt(Math.max(0,ae/fe-V*V)),Dt.x=Oe.x-V*N-K*xe,Dt.y=Oe.y-V*xe+K*N):(V=(fe+be-ae)/(2*fe),K=Math.sqrt(Math.max(0,be/fe-V*V)),Dt.x=ze.x+V*N-K*xe,Dt.y=ze.y+V*xe+K*N)):(Dt.x=ze.x+Dt.r,Dt.y=ze.y)}function rn(Oe,ze){var Dt=Oe.r+ze.r-1e-6,N=ze.x-Oe.x,V=ze.y-Oe.y;return Dt>0&&Dt*Dt>N*N+V*V}function St(Oe){var ze=Oe._,Dt=Oe.next._,N=ze.r+Dt.r,V=(ze.x*Dt.r+Dt.x*ze.r)/N,be=(ze.y*Dt.r+Dt.y*ze.r)/N;return V*V+be*be}function _e(Oe){this._=Oe,this.next=null,this.previous=null}function ke(Oe){if(!(V=(Oe=Ze(Oe)).length))return 0;var ze,Dt,N,V,be,xe,K,ae,fe,Ge,Mt;if(ze=Oe[0],ze.x=0,ze.y=0,!(V>1))return ze.r;if(Dt=Oe[1],ze.x=-Dt.r,Dt.x=ze.r,Dt.y=0,!(V>2))return ze.r+Dt.r;Ot(Dt,ze,N=Oe[2]),ze=new _e(ze),Dt=new _e(Dt),N=new _e(N),ze.next=N.previous=Dt,Dt.next=ze.previous=N,N.next=Dt.previous=ze;e:for(K=3;K<V;++K){Ot(ze._,Dt._,N=Oe[K]),N=new _e(N),ae=Dt.next,fe=ze.previous,Ge=Dt._.r,Mt=ze._.r;do if(Ge<=Mt){if(rn(ae._,N._)){Dt=ae,ze.next=Dt,Dt.previous=ze,--K;continue e}Ge+=ae._.r,ae=ae.next}else{if(rn(fe._,N._)){ze=fe,ze.next=Dt,Dt.previous=ze,--K;continue e}Mt+=fe._.r,fe=fe.previous}while(ae!==fe.next);for(N.previous=ze,N.next=Dt,ze.next=Dt.previous=Dt=N,be=St(ze);(N=N.next)!==Dt;)(xe=St(N))<be&&(ze=N,be=xe);Dt=ze.next}for(ze=[Dt._],N=Dt;(N=N.next)!==Dt;)ze.push(N._);for(N=Le(ze),K=0;K<V;++K)ze=Oe[K],ze.x-=N.x,ze.y-=N.y;return N.r}function Se(Oe){return Oe==null?null:ce(Oe)}function ce(Oe){if(typeof Oe!="function")throw new Error;return Oe}function tt(){return 0}function Ie(Oe){return function(){return Oe}}function re(Oe){return Math.sqrt(Oe.value)}function Ne(){var Oe=null,ze=1,Dt=1,N=tt;function V(be){return be.x=ze/2,be.y=Dt/2,Oe?be.eachBefore(ct(Oe)).eachAfter(_t(N,.5)).eachBefore(Lt(1)):be.eachBefore(ct(re)).eachAfter(_t(tt,1)).eachAfter(_t(N,be.r/Math.min(ze,Dt))).eachBefore(Lt(Math.min(ze,Dt)/(2*be.r))),be}return V.radius=function(be){return arguments.length?(Oe=Se(be),V):Oe},V.size=function(be){return arguments.length?(ze=+be[0],Dt=+be[1],V):[ze,Dt]},V.padding=function(be){return arguments.length?(N=typeof be=="function"?be:Ie(+be),V):N},V}function ct(Oe){return function(ze){ze.children||(ze.r=Math.max(0,+Oe(ze)||0))}}function _t(Oe,ze){return function(Dt){if(N=Dt.children){var N,V,be=N.length,xe=Oe(Dt)*ze||0,K;if(xe)for(V=0;V<be;++V)N[V].r+=xe;if(K=ke(N),xe)for(V=0;V<be;++V)N[V].r-=xe;Dt.r=K+xe}}}function Lt(Oe){return function(ze){var Dt=ze.parent;ze.r*=Oe,Dt&&(ze.x=Dt.x+Oe*ze.x,ze.y=Dt.y+Oe*ze.y)}}function Yt(Oe){Oe.x0=Math.round(Oe.x0),Oe.y0=Math.round(Oe.y0),Oe.x1=Math.round(Oe.x1),Oe.y1=Math.round(Oe.y1)}function Gt(Oe,ze,Dt,N,V){for(var be=Oe.children,xe,K=-1,ae=be.length,fe=Oe.value&&(N-ze)/Oe.value;++K<ae;)xe=be[K],xe.y0=Dt,xe.y1=V,xe.x0=ze,xe.x1=ze+=xe.value*fe}function fn(){var Oe=1,ze=1,Dt=0,N=!1;function V(xe){var K=xe.height+1;return xe.x0=xe.y0=Dt,xe.x1=Oe,xe.y1=ze/K,xe.eachBefore(be(ze,K)),N&&xe.eachBefore(Yt),xe}function be(xe,K){return function(ae){ae.children&&Gt(ae,ae.x0,xe*(ae.depth+1)/K,ae.x1,xe*(ae.depth+2)/K);var fe=ae.x0,Ge=ae.y0,Mt=ae.x1-Dt,At=ae.y1-Dt;Mt<fe&&(fe=Mt=(fe+Mt)/2),At<Ge&&(Ge=At=(Ge+At)/2),ae.x0=fe,ae.y0=Ge,ae.x1=Mt,ae.y1=At}}return V.round=function(xe){return arguments.length?(N=!!xe,V):N},V.size=function(xe){return arguments.length?(Oe=+xe[0],ze=+xe[1],V):[Oe,ze]},V.padding=function(xe){return arguments.length?(Dt=+xe,V):Dt},V}var gn={depth:-1},yn={},It={};function un(Oe){return Oe.id}function Mn(Oe){return Oe.parentId}function tr(){var Oe=un,ze=Mn,Dt;function N(V){var be=Array.from(V),xe=Oe,K=ze,ae,fe,Ge,Mt,At,dn,w,j,ee=new Map;if(Dt!=null){let Ee=be.map((Zt,Xt)=>Rn(Dt(Zt,Xt,V))),dt=Ee.map(Re),Ft=new Set(Ee).add("");for(let Zt of dt)Ft.has(Zt)||(Ft.add(Zt),Ee.push(Zt),dt.push(Re(Zt)),be.push(It));xe=(Zt,Xt)=>Ee[Xt],K=(Zt,Xt)=>dt[Xt]}for(Ge=0,ae=be.length;Ge<ae;++Ge)fe=be[Ge],dn=be[Ge]=new te(fe),(w=xe(fe,Ge,V))!=null&&(w+="")&&(j=dn.id=w,ee.set(j,ee.has(j)?yn:dn)),(w=K(fe,Ge,V))!=null&&(w+="")&&(dn.parent=w);for(Ge=0;Ge<ae;++Ge)if(dn=be[Ge],w=dn.parent){if(At=ee.get(w),!At)throw new Error("missing: "+w);if(At===yn)throw new Error("ambiguous: "+w);At.children?At.children.push(dn):At.children=[dn],dn.parent=At}else{if(Mt)throw new Error("multiple roots");Mt=dn}if(!Mt)throw new Error("no root");if(Dt!=null){for(;Mt.data===It&&Mt.children.length===1;)Mt=Mt.children[0],--ae;for(let Ee=be.length-1;Ee>=0&&(dn=be[Ee],dn.data===It);--Ee)dn.data=null}if(Mt.parent=gn,Mt.eachBefore(function(Ee){Ee.depth=Ee.parent.depth+1,--ae}).eachBefore($e),Mt.parent=null,ae>0)throw new Error("cycle");return Mt}return N.id=function(V){return arguments.length?(Oe=Se(V),N):Oe},N.parentId=function(V){return arguments.length?(ze=Se(V),N):ze},N.path=function(V){return arguments.length?(Dt=Se(V),N):Dt},N}function Rn(Oe){Oe=`${Oe}`;let ze=Oe.length;return He(Oe,ze-1)&&!He(Oe,ze-2)&&(Oe=Oe.slice(0,-1)),Oe[0]==="/"?Oe:`/${Oe}`}function Re(Oe){let ze=Oe.length;if(ze<2)return"";for(;--ze>1&&!He(Oe,ze););return Oe.slice(0,ze)}function He(Oe,ze){if(Oe[ze]==="/"){let Dt=0;for(;ze>0&&Oe[--ze]==="\\";)++Dt;if((Dt&1)===0)return!0}return!1}function De(Oe,ze){return Oe.parent===ze.parent?1:2}function Bt(Oe){var ze=Oe.children;return ze?ze[0]:Oe.t}function pt(Oe){var ze=Oe.children;return ze?ze[ze.length-1]:Oe.t}function mt(Oe,ze,Dt){var N=Dt/(ze.i-Oe.i);ze.c-=N,ze.s+=Dt,Oe.c+=N,ze.z+=Dt,ze.m+=Dt}function nn(Oe){for(var ze=0,Dt=0,N=Oe.children,V=N.length,be;--V>=0;)be=N[V],be.z+=ze,be.m+=ze,ze+=be.s+(Dt+=be.c)}function Qt(Oe,ze,Dt){return Oe.a.parent===ze.parent?Oe.a:Dt}function Fn(Oe,ze){this._=Oe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=ze}Fn.prototype=Object.create(te.prototype);function Wn(Oe){for(var ze=new Fn(Oe,0),Dt,N=[ze],V,be,xe,K;Dt=N.pop();)if(be=Dt._.children)for(Dt.children=new Array(K=be.length),xe=K-1;xe>=0;--xe)N.push(V=Dt.children[xe]=new Fn(be[xe],xe)),V.parent=Dt;return(ze.parent=new Fn(null,0)).children=[ze],ze}function Zn(){var Oe=De,ze=1,Dt=1,N=null;function V(fe){var Ge=Wn(fe);if(Ge.eachAfter(be),Ge.parent.m=-Ge.z,Ge.eachBefore(xe),N)fe.eachBefore(ae);else{var Mt=fe,At=fe,dn=fe;fe.eachBefore(function(dt){dt.x<Mt.x&&(Mt=dt),dt.x>At.x&&(At=dt),dt.depth>dn.depth&&(dn=dt)});var w=Mt===At?1:Oe(Mt,At)/2,j=w-Mt.x,ee=ze/(At.x+w+j),Ee=Dt/(dn.depth||1);fe.eachBefore(function(dt){dt.x=(dt.x+j)*ee,dt.y=dt.depth*Ee})}return fe}function be(fe){var Ge=fe.children,Mt=fe.parent.children,At=fe.i?Mt[fe.i-1]:null;if(Ge){nn(fe);var dn=(Ge[0].z+Ge[Ge.length-1].z)/2;At?(fe.z=At.z+Oe(fe._,At._),fe.m=fe.z-dn):fe.z=dn}else At&&(fe.z=At.z+Oe(fe._,At._));fe.parent.A=K(fe,At,fe.parent.A||Mt[0])}function xe(fe){fe._.x=fe.z+fe.parent.m,fe.m+=fe.parent.m}function K(fe,Ge,Mt){if(Ge){for(var At=fe,dn=fe,w=Ge,j=At.parent.children[0],ee=At.m,Ee=dn.m,dt=w.m,Ft=j.m,Zt;w=pt(w),At=Bt(At),w&&At;)j=Bt(j),dn=pt(dn),dn.a=fe,Zt=w.z+dt-At.z-ee+Oe(w._,At._),Zt>0&&(mt(Qt(w,fe,Mt),fe,Zt),ee+=Zt,Ee+=Zt),dt+=w.m,ee+=At.m,Ft+=j.m,Ee+=dn.m;w&&!pt(dn)&&(dn.t=w,dn.m+=dt-Ee),At&&!Bt(j)&&(j.t=At,j.m+=ee-Ft,Mt=fe)}return Mt}function ae(fe){fe.x*=ze,fe.y=fe.depth*Dt}return V.separation=function(fe){return arguments.length?(Oe=fe,V):Oe},V.size=function(fe){return arguments.length?(N=!1,ze=+fe[0],Dt=+fe[1],V):N?null:[ze,Dt]},V.nodeSize=function(fe){return arguments.length?(N=!0,ze=+fe[0],Dt=+fe[1],V):N?[ze,Dt]:null},V}function Nn(Oe,ze,Dt,N,V){for(var be=Oe.children,xe,K=-1,ae=be.length,fe=Oe.value&&(V-Dt)/Oe.value;++K<ae;)xe=be[K],xe.x0=ze,xe.x1=N,xe.y0=Dt,xe.y1=Dt+=xe.value*fe}var nr=(1+Math.sqrt(5))/2;function Ke(Oe,ze,Dt,N,V,be){for(var xe=[],K=ze.children,ae,fe,Ge=0,Mt=0,At=K.length,dn,w,j=ze.value,ee,Ee,dt,Ft,Zt,Xt,mn;Ge<At;){dn=V-Dt,w=be-N;do ee=K[Mt++].value;while(!ee&&Mt<At);for(Ee=dt=ee,Xt=Math.max(w/dn,dn/w)/(j*Oe),mn=ee*ee*Xt,Zt=Math.max(dt/mn,mn/Ee);Mt<At;++Mt){if(ee+=fe=K[Mt].value,fe<Ee&&(Ee=fe),fe>dt&&(dt=fe),mn=ee*ee*Xt,Ft=Math.max(dt/mn,mn/Ee),Ft>Zt){ee-=fe;break}Zt=Ft}xe.push(ae={value:ee,dice:dn<w,children:K.slice(Ge,Mt)}),ae.dice?Gt(ae,Dt,N,V,j?N+=w*ee/j:be):Nn(ae,Dt,N,j?Dt+=dn*ee/j:V,be),j-=ee,Ge=Mt}return xe}var yt=function Oe(ze){function Dt(N,V,be,xe,K){Ke(ze,N,V,be,xe,K)}return Dt.ratio=function(N){return Oe((N=+N)>1?N:1)},Dt}(nr);function oe(){var Oe=yt,ze=!1,Dt=1,N=1,V=[0],be=tt,xe=tt,K=tt,ae=tt,fe=tt;function Ge(At){return At.x0=At.y0=0,At.x1=Dt,At.y1=N,At.eachBefore(Mt),V=[0],ze&&At.eachBefore(Yt),At}function Mt(At){var dn=V[At.depth],w=At.x0+dn,j=At.y0+dn,ee=At.x1-dn,Ee=At.y1-dn;ee<w&&(w=ee=(w+ee)/2),Ee<j&&(j=Ee=(j+Ee)/2),At.x0=w,At.y0=j,At.x1=ee,At.y1=Ee,At.children&&(dn=V[At.depth+1]=be(At)/2,w+=fe(At)-dn,j+=xe(At)-dn,ee-=K(At)-dn,Ee-=ae(At)-dn,ee<w&&(w=ee=(w+ee)/2),Ee<j&&(j=Ee=(j+Ee)/2),Oe(At,w,j,ee,Ee))}return Ge.round=function(At){return arguments.length?(ze=!!At,Ge):ze},Ge.size=function(At){return arguments.length?(Dt=+At[0],N=+At[1],Ge):[Dt,N]},Ge.tile=function(At){return arguments.length?(Oe=ce(At),Ge):Oe},Ge.padding=function(At){return arguments.length?Ge.paddingInner(At).paddingOuter(At):Ge.paddingInner()},Ge.paddingInner=function(At){return arguments.length?(be=typeof At=="function"?At:Ie(+At),Ge):be},Ge.paddingOuter=function(At){return arguments.length?Ge.paddingTop(At).paddingRight(At).paddingBottom(At).paddingLeft(At):Ge.paddingTop()},Ge.paddingTop=function(At){return arguments.length?(xe=typeof At=="function"?At:Ie(+At),Ge):xe},Ge.paddingRight=function(At){return arguments.length?(K=typeof At=="function"?At:Ie(+At),Ge):K},Ge.paddingBottom=function(At){return arguments.length?(ae=typeof At=="function"?At:Ie(+At),Ge):ae},Ge.paddingLeft=function(At){return arguments.length?(fe=typeof At=="function"?At:Ie(+At),Ge):fe},Ge}function je(Oe,ze,Dt,N,V){var be=Oe.children,xe,K=be.length,ae,fe=new Array(K+1);for(fe[0]=ae=xe=0;xe<K;++xe)fe[xe+1]=ae+=be[xe].value;Ge(0,K,Oe.value,ze,Dt,N,V);function Ge(Mt,At,dn,w,j,ee,Ee){if(Mt>=At-1){var dt=be[Mt];dt.x0=w,dt.y0=j,dt.x1=ee,dt.y1=Ee;return}for(var Ft=fe[Mt],Zt=dn/2+Ft,Xt=Mt+1,mn=At-1;Xt<mn;){var qn=Xt+mn>>>1;fe[qn]<Zt?Xt=qn+1:mn=qn}Zt-fe[Xt-1]<fe[Xt]-Zt&&Mt+1<Xt&&--Xt;var Un=fe[Xt]-Ft,Vn=dn-Un;if(ee-w>Ee-j){var Jr=dn?(w*Vn+ee*Un)/dn:ee;Ge(Mt,Xt,Un,w,j,Jr,Ee),Ge(Xt,At,Vn,Jr,j,ee,Ee)}else{var Vr=dn?(j*Vn+Ee*Un)/dn:Ee;Ge(Mt,Xt,Un,w,j,ee,Vr),Ge(Xt,At,Vn,w,Vr,ee,Ee)}}}function nt(Oe,ze,Dt,N,V){(Oe.depth&1?Nn:Gt)(Oe,ze,Dt,N,V)}var Rt=function Oe(ze){function Dt(N,V,be,xe,K){if((ae=N._squarify)&&ae.ratio===ze)for(var ae,fe,Ge,Mt,At=-1,dn,w=ae.length,j=N.value;++At<w;){for(fe=ae[At],Ge=fe.children,Mt=fe.value=0,dn=Ge.length;Mt<dn;++Mt)fe.value+=Ge[Mt].value;fe.dice?Gt(fe,V,be,xe,j?be+=(K-be)*fe.value/j:K):Nn(fe,V,be,j?V+=(xe-V)*fe.value/j:xe,K),j-=fe.value}else N._squarify=ae=Ke(ze,N,V,be,xe,K),ae.ratio=ze}return Dt.ratio=function(N){return Oe((N=+N)>1?N:1)},Dt}(nr);function hn(Oe){e.Transform.call(this,null,Oe)}hn.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};let an=Oe=>Oe.values;t.inherits(hn,e.Transform,{transform(Oe,ze){ze.source||t.error("Nest transform requires an upstream data source.");var Dt=Oe.generate,N=Oe.modified(),V=ze.clone(),be=this.value;return(!be||N||ze.changed())&&(be&&be.each(xe=>{xe.children&&e.isTuple(xe.data)&&V.rem.push(xe.data)}),this.value=be=ot({values:t.array(Oe.keys).reduce((xe,K)=>(xe.key(K),xe),ft()).entries(V.source)},an),Dt&&be.each(xe=>{xe.children&&(xe=e.ingest(xe.data),V.add.push(xe),V.source.push(xe))}),r(be,e.tupleid,e.tupleid)),V.source.root=be,V}});function ft(){let Oe=[],ze={entries:V=>N(Dt(V,0),0),key:V=>(Oe.push(V),ze)};function Dt(V,be){if(be>=Oe.length)return V;let xe=V.length,K=Oe[be++],ae={},fe={},Ge=-1,Mt,At,dn;for(;++Ge<xe;)Mt=K(At=V[Ge])+"",(dn=ae[Mt])?dn.push(At):ae[Mt]=[At];for(Mt in ae)fe[Mt]=Dt(ae[Mt],be);return fe}function N(V,be){if(++be>Oe.length)return V;let xe=[];for(let K in V)xe.push({key:K,values:N(V[K],be)});return xe}return ze}function ie(Oe){e.Transform.call(this,null,Oe)}let Te=(Oe,ze)=>Oe.parent===ze.parent?1:2;t.inherits(ie,e.Transform,{transform(Oe,ze){(!ze.source||!ze.source.root)&&t.error(this.constructor.name+" transform requires a backing tree data source.");let Dt=this.layout(Oe.method),N=this.fields,V=ze.source.root,be=Oe.as||N;Oe.field?V.sum(Oe.field):V.count(),Oe.sort&&V.sort(e.stableCompare(Oe.sort,xe=>xe.data)),Ue(Dt,this.params,Oe),Dt.separation&&Dt.separation(Oe.separation!==!1?Te:t.one);try{this.value=Dt(V)}catch(xe){t.error(xe)}return V.each(xe=>xt(xe,N,be)),ze.reflow(Oe.modified()).modifies(be).modifies("leaf")}});function Ue(Oe,ze,Dt){for(let N,V=0,be=ze.length;V<be;++V)N=ze[V],N in Dt&&Oe[N](Dt[N])}function xt(Oe,ze,Dt){let N=Oe.data,V=ze.length-1;for(let be=0;be<V;++be)N[Dt[be]]=Oe[ze[be]];N[Dt[V]]=Oe.children?Oe.children.length:0}let Et=["x","y","r","depth","children"];function Nt(Oe){ie.call(this,Oe)}Nt.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Et.length,default:Et}]},t.inherits(Nt,ie,{layout:Ne,params:["radius","size","padding"],fields:Et});let ne=["x0","y0","x1","y1","depth","children"];function we(Oe){ie.call(this,Oe)}we.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ne.length,default:ne}]},t.inherits(we,ie,{layout:fn,params:["size","round","padding"],fields:ne});function Qe(Oe){e.Transform.call(this,null,Oe)}Qe.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},t.inherits(Qe,e.Transform,{transform(Oe,ze){ze.source||t.error("Stratify transform requires an upstream data source.");let Dt=this.value,N=Oe.modified(),V=ze.fork(ze.ALL).materialize(ze.SOURCE),be=!Dt||N||ze.changed(ze.ADD_REM)||ze.modified(Oe.key.fields)||ze.modified(Oe.parentKey.fields);return V.source=V.source.slice(),be&&(Dt=V.source.length?r(tr().id(Oe.key).parentId(Oe.parentKey)(V.source),Oe.key,t.truthy):r(tr()([{}]),Oe.key,Oe.key)),V.source.root=this.value=Dt,V}});let it={tidy:Zn,cluster:_},Ut=["x","y","depth","children"];function sn(Oe){ie.call(this,Oe)}sn.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Ut.length,default:Ut}]},t.inherits(sn,ie,{layout(Oe){let ze=Oe||"tidy";if(t.hasOwnProperty(it,ze))return it[ze]();t.error("Unrecognized Tree layout method: "+ze)},params:["size","nodeSize"],fields:Ut});function Cn(Oe){e.Transform.call(this,[],Oe)}Cn.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},t.inherits(Cn,e.Transform,{transform(Oe,ze){let Dt=this.value,N=ze.source&&ze.source.root,V=ze.fork(ze.NO_SOURCE),be={};return N||t.error("TreeLinks transform requires a tree data source."),ze.changed(ze.ADD_REM)?(V.rem=Dt,ze.visit(ze.SOURCE,xe=>be[e.tupleid(xe)]=1),N.each(xe=>{let K=xe.data,ae=xe.parent&&xe.parent.data;ae&&be[e.tupleid(K)]&&be[e.tupleid(ae)]&&V.add.push(e.ingest({source:ae,target:K}))}),this.value=V.add):ze.changed(ze.MOD)&&(ze.visit(ze.MOD,xe=>be[e.tupleid(xe)]=1),Dt.forEach(xe=>{(be[e.tupleid(xe.source)]||be[e.tupleid(xe.target)])&&V.mod.push(xe)})),V}});let En={binary:je,dice:Gt,slice:Nn,slicedice:nt,squarify:yt,resquarify:Rt},vn=["x0","y0","x1","y1","depth","children"];function zn(Oe){ie.call(this,Oe)}zn.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:vn.length,default:vn}]},t.inherits(zn,ie,{layout(){let Oe=oe();return Oe.ratio=ze=>{let Dt=Oe.tile();Dt.ratio&&Oe.tile(Dt.ratio(ze))},Oe.method=ze=>{t.hasOwnProperty(En,ze)?Oe.tile(En[ze]):t.error("Unrecognized Treemap layout method: "+ze)},Oe},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:vn}),n.nest=hn,n.pack=Nt,n.partition=we,n.stratify=Qe,n.tree=sn,n.treelinks=Cn,n.treemap=zn,Object.defineProperty(n,"__esModule",{value:!0})})});var pDe=Ae((YH,hDe)=>{m();(function(n,e){typeof YH=="object"&&typeof hDe!="undefined"?e(YH,ZC(),ZR(),r0(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega))})(YH,function(n,e,t,r,i){"use strict";let s=4278190080;function o(Ot,rn){let St=Ot.bitmap();return(rn||[]).forEach(_e=>St.set(Ot(_e.boundary[0]),Ot(_e.boundary[3]))),[St,void 0]}function a(Ot,rn,St,_e,ke){let Se=Ot.width,ce=Ot.height,tt=_e||ke,Ie=t.canvas(Se,ce).getContext("2d"),re=t.canvas(Se,ce).getContext("2d"),Ne=tt&&t.canvas(Se,ce).getContext("2d");St.forEach(Re=>f(Ie,Re,!1)),f(re,rn,!1),tt&&f(Ne,rn,!0);let ct=l(Ie,Se,ce),_t=l(re,Se,ce),Lt=tt&&l(Ne,Se,ce),Yt=Ot.bitmap(),Gt=tt&&Ot.bitmap(),fn,gn,yn,It,un,Mn,tr,Rn;for(gn=0;gn<ce;++gn)for(fn=0;fn<Se;++fn)un=gn*Se+fn,Mn=ct[un]&s,Rn=_t[un]&s,tr=tt&&Lt[un]&s,(Mn||tr||Rn)&&(yn=Ot(fn),It=Ot(gn),!ke&&(Mn||Rn)&&Yt.set(yn,It),tt&&(Mn||tr)&&Gt.set(yn,It));return[Yt,Gt]}function l(Ot,rn,St){return new Uint32Array(Ot.getImageData(0,0,rn,St).data.buffer)}function f(Ot,rn,St){if(!rn.length)return;let _e=rn[0].mark.marktype;_e==="group"?rn.forEach(ke=>{ke.items.forEach(Se=>f(Ot,Se.items,St))}):e.Marks[_e].draw(Ot,{items:St?rn.map(p):rn})}function p(Ot){let rn=r.rederive(Ot,{});return rn.stroke&&rn.strokeOpacity!==0||rn.fill&&rn.fillOpacity!==0?{...rn,strokeOpacity:1,stroke:"#000",fillOpacity:0}:rn}let _=5,E=31,O=32,R=new Uint32Array(O+1),q=new Uint32Array(O+1);q[0]=0,R[0]=~q[0];for(let Ot=1;Ot<=O;++Ot)q[Ot]=q[Ot-1]<<1|1,R[Ot]=~q[Ot];function z(Ot,rn){let St=new Uint32Array(~~((Ot*rn+O)/O));function _e(Se,ce){St[Se]|=ce}function ke(Se,ce){St[Se]&=ce}return{array:St,get:(Se,ce)=>{let tt=ce*Ot+Se;return St[tt>>>_]&1<<(tt&E)},set:(Se,ce)=>{let tt=ce*Ot+Se;_e(tt>>>_,1<<(tt&E))},clear:(Se,ce)=>{let tt=ce*Ot+Se;ke(tt>>>_,~(1<<(tt&E)))},getRange:(Se,ce,tt,Ie)=>{let re=Ie,Ne,ct,_t,Lt;for(;re>=ce;--re)if(Ne=re*Ot+Se,ct=re*Ot+tt,_t=Ne>>>_,Lt=ct>>>_,_t===Lt){if(St[_t]&R[Ne&E]&q[(ct&E)+1])return!0}else{if(St[_t]&R[Ne&E]||St[Lt]&q[(ct&E)+1])return!0;for(let Yt=_t+1;Yt<Lt;++Yt)if(St[Yt])return!0}return!1},setRange:(Se,ce,tt,Ie)=>{let re,Ne,ct,_t,Lt;for(;ce<=Ie;++ce)if(re=ce*Ot+Se,Ne=ce*Ot+tt,ct=re>>>_,_t=Ne>>>_,ct===_t)_e(ct,R[re&E]&q[(Ne&E)+1]);else for(_e(ct,R[re&E]),_e(_t,q[(Ne&E)+1]),Lt=ct+1;Lt<_t;++Lt)_e(Lt,4294967295)},clearRange:(Se,ce,tt,Ie)=>{let re,Ne,ct,_t,Lt;for(;ce<=Ie;++ce)if(re=ce*Ot+Se,Ne=ce*Ot+tt,ct=re>>>_,_t=Ne>>>_,ct===_t)ke(ct,q[re&E]|R[(Ne&E)+1]);else for(ke(ct,q[re&E]),ke(_t,R[(Ne&E)+1]),Lt=ct+1;Lt<_t;++Lt)ke(Lt,0)},outOfBounds:(Se,ce,tt,Ie)=>Se<0||ce<0||Ie>=rn||tt>=Ot}}function L(Ot,rn,St){let _e=Math.max(1,Math.sqrt(Ot*rn/1e6)),ke=~~((Ot+2*St+_e)/_e),Se=~~((rn+2*St+_e)/_e),ce=tt=>~~((tt+St)/_e);return ce.invert=tt=>tt*_e-St,ce.bitmap=()=>z(ke,Se),ce.ratio=_e,ce.padding=St,ce.width=Ot,ce.height=rn,ce}function B(Ot,rn,St,_e){let ke=Ot.width,Se=Ot.height;return function(ce){let tt=ce.datum.datum.items[_e].items,Ie=tt.length,re=ce.datum.fontSize,Ne=e.textMetrics.width(ce.datum,ce.datum.text),ct=0,_t,Lt,Yt,Gt,fn,gn,yn;for(let It=0;It<Ie;++It)_t=tt[It].x,Yt=tt[It].y,Lt=tt[It].x2===void 0?_t:tt[It].x2,Gt=tt[It].y2===void 0?Yt:tt[It].y2,fn=(_t+Lt)/2,gn=(Yt+Gt)/2,yn=Math.abs(Lt-_t+Gt-Yt),yn>=ct&&(ct=yn,ce.x=fn,ce.y=gn);return fn=Ne/2,gn=re/2,_t=ce.x-fn,Lt=ce.x+fn,Yt=ce.y-gn,Gt=ce.y+gn,ce.align="center",_t<0&&Lt<=ke?ce.align="left":0<=_t&&ke<Lt&&(ce.align="right"),ce.baseline="middle",Yt<0&&Gt<=Se?ce.baseline="top":0<=Yt&&Se<Gt&&(ce.baseline="bottom"),!0}}function P(Ot,rn,St,_e,ke,Se){let ce=St/2;return Ot-ce<0||Ot+ce>ke||rn-(ce=_e/2)<0||rn+ce>Se}function G(Ot,rn,St,_e,ke,Se,ce,tt){let Ie=ke*Se/(_e*2),re=Ot(rn-Ie),Ne=Ot(rn+Ie),ct=Ot(St-(Se=Se/2)),_t=Ot(St+Se);return ce.outOfBounds(re,ct,Ne,_t)||ce.getRange(re,ct,Ne,_t)||tt&&tt.getRange(re,ct,Ne,_t)}function ue(Ot,rn,St,_e){let ke=Ot.width,Se=Ot.height,ce=rn[0],tt=rn[1];function Ie(re,Ne,ct,_t,Lt){let Yt=Ot.invert(re),Gt=Ot.invert(Ne),fn=ct,gn=Se,yn;if(!P(Yt,Gt,_t,Lt,ke,Se)&&!G(Ot,Yt,Gt,Lt,_t,fn,ce,tt)&&!G(Ot,Yt,Gt,Lt,_t,Lt,ce,null)){for(;gn-fn>=1;)yn=(fn+gn)/2,G(Ot,Yt,Gt,Lt,_t,yn,ce,tt)?gn=yn:fn=yn;if(fn>ct)return[Yt,Gt,fn,!0]}}return function(re){let Ne=re.datum.datum.items[_e].items,ct=Ne.length,_t=re.datum.fontSize,Lt=e.textMetrics.width(re.datum,re.datum.text),Yt=St?_t:0,Gt=!1,fn=!1,gn=0,yn,It,un,Mn,tr,Rn,Re,He,De,Bt,pt,mt,nn,Qt,Fn,Wn,Zn;for(let Nn=0;Nn<ct;++Nn){for(yn=Ne[Nn].x,un=Ne[Nn].y,It=Ne[Nn].x2===void 0?yn:Ne[Nn].x2,Mn=Ne[Nn].y2===void 0?un:Ne[Nn].y2,yn>It&&(Zn=yn,yn=It,It=Zn),un>Mn&&(Zn=un,un=Mn,Mn=Zn),De=Ot(yn),pt=Ot(It),Bt=~~((De+pt)/2),mt=Ot(un),Qt=Ot(Mn),nn=~~((mt+Qt)/2),Re=Bt;Re>=De;--Re)for(He=nn;He>=mt;--He)Wn=Ie(Re,He,Yt,Lt,_t),Wn&&([re.x,re.y,Yt,Gt]=Wn);for(Re=Bt;Re<=pt;++Re)for(He=nn;He<=Qt;++He)Wn=Ie(Re,He,Yt,Lt,_t),Wn&&([re.x,re.y,Yt,Gt]=Wn);!Gt&&!St&&(Fn=Math.abs(It-yn+Mn-un),tr=(yn+It)/2,Rn=(un+Mn)/2,Fn>=gn&&!P(tr,Rn,Lt,_t,ke,Se)&&!G(Ot,tr,Rn,_t,Lt,_t,ce,null)&&(gn=Fn,re.x=tr,re.y=Rn,fn=!0))}return Gt||fn?(tr=Lt/2,Rn=_t/2,ce.setRange(Ot(re.x-tr),Ot(re.y-Rn),Ot(re.x+tr),Ot(re.y+Rn)),re.align="center",re.baseline="middle",!0):!1}}let I=[-1,-1,1,1],J=[-1,1,-1,1];function he(Ot,rn,St,_e){let ke=Ot.width,Se=Ot.height,ce=rn[0],tt=rn[1],Ie=Ot.bitmap();return function(re){let Ne=re.datum.datum.items[_e].items,ct=Ne.length,_t=re.datum.fontSize,Lt=e.textMetrics.width(re.datum,re.datum.text),Yt=[],Gt=St?_t:0,fn=!1,gn=!1,yn=0,It,un,Mn,tr,Rn,Re,He,De,Bt,pt,mt,nn;for(let Qt=0;Qt<ct;++Qt){for(It=Ne[Qt].x,Mn=Ne[Qt].y,un=Ne[Qt].x2===void 0?It:Ne[Qt].x2,tr=Ne[Qt].y2===void 0?Mn:Ne[Qt].y2,Yt.push([Ot((It+un)/2),Ot((Mn+tr)/2)]);Yt.length;)if([He,De]=Yt.pop(),!(ce.get(He,De)||tt.get(He,De)||Ie.get(He,De))){Ie.set(He,De);for(let Fn=0;Fn<4;++Fn)Rn=He+I[Fn],Re=De+J[Fn],Ie.outOfBounds(Rn,Re,Rn,Re)||Yt.push([Rn,Re]);if(Rn=Ot.invert(He),Re=Ot.invert(De),Bt=Gt,pt=Se,!P(Rn,Re,Lt,_t,ke,Se)&&!G(Ot,Rn,Re,_t,Lt,Bt,ce,tt)&&!G(Ot,Rn,Re,_t,Lt,_t,ce,null)){for(;pt-Bt>=1;)mt=(Bt+pt)/2,G(Ot,Rn,Re,_t,Lt,mt,ce,tt)?pt=mt:Bt=mt;Bt>Gt&&(re.x=Rn,re.y=Re,Gt=Bt,fn=!0)}}!fn&&!St&&(nn=Math.abs(un-It+tr-Mn),Rn=(It+un)/2,Re=(Mn+tr)/2,nn>=yn&&!P(Rn,Re,Lt,_t,ke,Se)&&!G(Ot,Rn,Re,_t,Lt,_t,ce,null)&&(yn=nn,re.x=Rn,re.y=Re,gn=!0))}return fn||gn?(Rn=Lt/2,Re=_t/2,ce.setRange(Ot(re.x-Rn),Ot(re.y-Re),Ot(re.x+Rn),Ot(re.y+Re)),re.align="center",re.baseline="middle",!0):!1}}let ve=["right","center","left"],Ve=["bottom","middle","top"];function ot(Ot,rn,St,_e){let ke=Ot.width,Se=Ot.height,ce=rn[0],tt=rn[1],Ie=_e.length;return function(re){let Ne=re.boundary,ct=re.datum.fontSize;if(Ne[2]<0||Ne[5]<0||Ne[0]>ke||Ne[3]>Se)return!1;let _t=re.textWidth??0,Lt,Yt,Gt,fn,gn,yn,It,un,Mn,tr,Rn,Re,He,De,Bt;for(let pt=0;pt<Ie;++pt){if(Lt=(St[pt]&3)-1,Yt=(St[pt]>>>2&3)-1,Gt=Lt===0&&Yt===0||_e[pt]<0,fn=Lt&&Yt?Math.SQRT1_2:1,gn=_e[pt]<0?-1:1,yn=Ne[1+Lt]+_e[pt]*Lt*fn,Rn=Ne[4+Yt]+gn*ct*Yt/2+_e[pt]*Yt*fn,un=Rn-ct/2,Mn=Rn+ct/2,Re=Ot(yn),De=Ot(un),Bt=Ot(Mn),!_t)if(lt(Re,Re,De,Bt,ce,tt,yn,yn,un,Mn,Ne,Gt))_t=e.textMetrics.width(re.datum,re.datum.text);else continue;if(tr=yn+gn*_t*Lt/2,yn=tr-_t/2,It=tr+_t/2,Re=Ot(yn),He=Ot(It),lt(Re,He,De,Bt,ce,tt,yn,It,un,Mn,Ne,Gt))return re.x=Lt?Lt*gn<0?It:yn:tr,re.y=Yt?Yt*gn<0?Mn:un:Rn,re.align=ve[Lt*gn+1],re.baseline=Ve[Yt*gn+1],ce.setRange(Re,De,He,Bt),!0}return!1}}function lt(Ot,rn,St,_e,ke,Se,ce,tt,Ie,re,Ne,ct){return!(ke.outOfBounds(Ot,St,rn,_e)||(ct&&Se||ke).getRange(Ot,St,rn,_e))}let et=0,bt=4,Pt=8,$e=0,te=1,Ze=2,ye={"top-left":et+$e,top:et+te,"top-right":et+Ze,left:bt+$e,middle:bt+te,right:bt+Ze,"bottom-left":Pt+$e,bottom:Pt+te,"bottom-right":Pt+Ze},Le={naive:B,"reduced-search":ue,floodfill:he};function Ce(Ot,rn,St,_e,ke,Se,ce,tt,Ie,re,Ne){if(!Ot.length)return Ot;let ct=Math.max(_e.length,ke.length),_t=pe(_e,ct),Lt=Je(ke,ct),Yt=ut(Ot[0].datum),Gt=Yt==="group"&&Ot[0].datum.items[Ie].marktype,fn=Gt==="area",gn=Ht(Yt,Gt,tt,Ie),yn=re===null||re===1/0,It=fn&&Ne==="naive",un=-1,Mn=-1,tr=Ot.map(De=>{let Bt=yn?e.textMetrics.width(De,De.text):void 0;return un=Math.max(un,Bt),Mn=Math.max(Mn,De.fontSize),{datum:De,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:gn(De),textWidth:Bt}});re=re===null||re===1/0?Math.max(un,Mn)+Math.max(..._e):re;let Rn=L(rn[0],rn[1],re),Re;if(!It){St&&tr.sort((pt,mt)=>St(pt.datum,mt.datum));let De=!1;for(let pt=0;pt<Lt.length&&!De;++pt)De=Lt[pt]===5||_t[pt]<0;let Bt=(Yt&&ce||fn)&&Ot.map(pt=>pt.datum);Re=Se.length||Bt?a(Rn,Bt||[],Se,De,fn):o(Rn,ce&&tr)}let He=fn?Le[Ne](Rn,Re,ce,Ie):ot(Rn,Re,Lt,_t);return tr.forEach(De=>De.opacity=+He(De)),tr}function pe(Ot,rn){let St=new Float64Array(rn),_e=Ot.length;for(let ke=0;ke<_e;++ke)St[ke]=Ot[ke]||0;for(let ke=_e;ke<rn;++ke)St[ke]=St[_e-1];return St}function Je(Ot,rn){let St=new Int8Array(rn),_e=Ot.length;for(let ke=0;ke<_e;++ke)St[ke]|=ye[Ot[ke]];for(let ke=_e;ke<rn;++ke)St[ke]=St[_e-1];return St}function ut(Ot){return Ot&&Ot.mark&&Ot.mark.marktype}function Ht(Ot,rn,St,_e){let ke=Se=>[Se.x,Se.x,Se.x,Se.y,Se.y,Se.y];return Ot?Ot==="line"||Ot==="area"?Se=>ke(Se.datum):rn==="line"?Se=>{let ce=Se.datum.items[_e].items;return ke(ce.length?ce[St==="start"?0:ce.length-1]:{x:NaN,y:NaN})}:Se=>{let ce=Se.datum.bounds;return[ce.x1,(ce.x1+ce.x2)/2,ce.x2,ce.y1,(ce.y1+ce.y2)/2,ce.y2]}:ke}let Ct=["x","y","opacity","align","baseline"],xn=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Tt(Ot){r.Transform.call(this,null,Ot)}Tt.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:xn},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Ct.length,default:Ct}]},i.inherits(Tt,r.Transform,{transform(Ot,rn){function St(Se){let ce=Ot[Se];return i.isFunction(ce)&&rn.modified(ce.fields)}let _e=Ot.modified();if(!(_e||rn.changed(rn.ADD_REM)||St("sort")))return;(!Ot.size||Ot.size.length!==2)&&i.error("Size parameter should be specified as a [width, height] array.");let ke=Ot.as||Ct;return Ce(rn.materialize(rn.SOURCE).source||[],Ot.size,Ot.sort,i.array(Ot.offset==null?1:Ot.offset),i.array(Ot.anchor||xn),Ot.avoidMarks||[],Ot.avoidBaseMark!==!1,Ot.lineAnchor||"end",Ot.markIndex||0,Ot.padding===void 0?0:Ot.padding,Ot.method||"naive").forEach(Se=>{let ce=Se.datum;ce[ke[0]]=Se.x,ce[ke[1]]=Se.y,ce[ke[2]]=Se.opacity,ce[ke[3]]=Se.align,ce[ke[4]]=Se.baseline}),rn.reflow(_e).modifies(ke)}}),n.label=Tt,Object.defineProperty(n,"__esModule",{value:!0})})});var xDe=Ae((KH,mDe)=>{m();(function(n,e){typeof KH=="object"&&typeof mDe!="undefined"?e(KH,eE(),r0(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(KH,function(n,e,t,r){"use strict";function i(f,p){var _=[],E=function(P){return P(z)},O,R,q,z,L,B;if(p==null)_.push(f);else for(O={},R=0,q=f.length;R<q;++R)z=f[R],L=p.map(E),B=O[L],B||(O[L]=B=[],B.dims=L,_.push(B)),B.push(z);return _}function s(f){t.Transform.call(this,null,f)}s.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},r.inherits(s,t.Transform,{transform(f,p){let _=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||f.modified()){let E=p.materialize(p.SOURCE).source,O=i(E,f.groupby),R=(f.groupby||[]).map(r.accessorName),q=R.length,z=f.as||[r.accessorName(f.x),r.accessorName(f.y)],L=[];O.forEach(B=>{e.regressionLoess(B,f.x,f.y,f.bandwidth||.3).forEach(P=>{let G={};for(let ue=0;ue<q;++ue)G[R[ue]]=B.dims[ue];G[z[0]]=P[0],G[z[1]]=P[1],L.push(t.ingest(G))})}),this.value&&(_.rem=this.value),this.value=_.add=_.source=L}return _}});let o={linear:e.regressionLinear,log:e.regressionLog,exp:e.regressionExp,pow:e.regressionPow,quad:e.regressionQuad,poly:e.regressionPoly},a=(f,p)=>f==="poly"?p:f==="quad"?2:1;function l(f){t.Transform.call(this,null,f)}l.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(o)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},r.inherits(l,t.Transform,{transform(f,p){let _=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||f.modified()){let E=p.materialize(p.SOURCE).source,O=i(E,f.groupby),R=(f.groupby||[]).map(r.accessorName),q=f.method||"linear",z=f.order||3,L=a(q,z),B=f.as||[r.accessorName(f.x),r.accessorName(f.y)],P=o[q],G=[],ue=f.extent;r.hasOwnProperty(o,q)||r.error("Invalid regression method: "+q),ue!=null&&q==="log"&&ue[0]<=0&&(p.dataflow.warn("Ignoring extent with values <= 0 for log regression."),ue=null),O.forEach(I=>{if(I.length<=L){p.dataflow.warn("Skipping regression with more parameters than data points.");return}let he=P(I,f.x,f.y,z);if(f.params){G.push(t.ingest({keys:I.dims,coef:he.coef,rSquared:he.rSquared}));return}let ve=ue||r.extent(I,f.x),Ve=ot=>{let lt={};for(let et=0;et<R.length;++et)lt[R[et]]=I.dims[et];lt[B[0]]=ot[0],lt[B[1]]=ot[1],G.push(t.ingest(lt))};q==="linear"?ve.forEach(ot=>Ve([ot,he.predict(ot)])):e.sampleCurve(he.predict,ve,25,200).forEach(Ve)}),this.value&&(_.rem=this.value),this.value=_.add=_.source=G}return _}}),n.loess=s,n.regression=l,Object.defineProperty(n,"__esModule",{value:!0})})});var yDe=Ae((JH,gDe)=>{m();(function(n,e){typeof JH=="object"&&typeof gDe!="undefined"?e(JH,r0(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(JH,function(n,e,t){"use strict";let r=11102230246251565e-32,i=134217729,s=(3+8*r)*r;function o(St,_e,ke,Se,ce){let tt,Ie,re,Ne,ct=_e[0],_t=Se[0],Lt=0,Yt=0;_t>ct==_t>-ct?(tt=ct,ct=_e[++Lt]):(tt=_t,_t=Se[++Yt]);let Gt=0;if(Lt<St&&Yt<ke)for(_t>ct==_t>-ct?(Ie=ct+tt,re=tt-(Ie-ct),ct=_e[++Lt]):(Ie=_t+tt,re=tt-(Ie-_t),_t=Se[++Yt]),tt=Ie,re!==0&&(ce[Gt++]=re);Lt<St&&Yt<ke;)_t>ct==_t>-ct?(Ie=tt+ct,Ne=Ie-tt,re=tt-(Ie-Ne)+(ct-Ne),ct=_e[++Lt]):(Ie=tt+_t,Ne=Ie-tt,re=tt-(Ie-Ne)+(_t-Ne),_t=Se[++Yt]),tt=Ie,re!==0&&(ce[Gt++]=re);for(;Lt<St;)Ie=tt+ct,Ne=Ie-tt,re=tt-(Ie-Ne)+(ct-Ne),ct=_e[++Lt],tt=Ie,re!==0&&(ce[Gt++]=re);for(;Yt<ke;)Ie=tt+_t,Ne=Ie-tt,re=tt-(Ie-Ne)+(_t-Ne),_t=Se[++Yt],tt=Ie,re!==0&&(ce[Gt++]=re);return(tt!==0||Gt===0)&&(ce[Gt++]=tt),Gt}function a(St,_e){let ke=_e[0];for(let Se=1;Se<St;Se++)ke+=_e[Se];return ke}function l(St){return new Float64Array(St)}let f=(3+16*r)*r,p=(2+12*r)*r,_=(9+64*r)*r*r,E=l(4),O=l(8),R=l(12),q=l(16),z=l(4);function L(St,_e,ke,Se,ce,tt,Ie){let re,Ne,ct,_t,Lt,Yt,Gt,fn,gn,yn,It,un,Mn,tr,Rn,Re,He,De,Bt=St-ce,pt=ke-ce,mt=_e-tt,nn=Se-tt;tr=Bt*nn,Yt=i*Bt,Gt=Yt-(Yt-Bt),fn=Bt-Gt,Yt=i*nn,gn=Yt-(Yt-nn),yn=nn-gn,Rn=fn*yn-(tr-Gt*gn-fn*gn-Gt*yn),Re=mt*pt,Yt=i*mt,Gt=Yt-(Yt-mt),fn=mt-Gt,Yt=i*pt,gn=Yt-(Yt-pt),yn=pt-gn,He=fn*yn-(Re-Gt*gn-fn*gn-Gt*yn),It=Rn-He,Lt=Rn-It,E[0]=Rn-(It+Lt)+(Lt-He),un=tr+It,Lt=un-tr,Mn=tr-(un-Lt)+(It-Lt),It=Mn-Re,Lt=Mn-It,E[1]=Mn-(It+Lt)+(Lt-Re),De=un+It,Lt=De-un,E[2]=un-(De-Lt)+(It-Lt),E[3]=De;let Qt=a(4,E),Fn=p*Ie;if(Qt>=Fn||-Qt>=Fn||(Lt=St-Bt,re=St-(Bt+Lt)+(Lt-ce),Lt=ke-pt,ct=ke-(pt+Lt)+(Lt-ce),Lt=_e-mt,Ne=_e-(mt+Lt)+(Lt-tt),Lt=Se-nn,_t=Se-(nn+Lt)+(Lt-tt),re===0&&Ne===0&&ct===0&&_t===0)||(Fn=_*Ie+s*Math.abs(Qt),Qt+=Bt*_t+nn*re-(mt*ct+pt*Ne),Qt>=Fn||-Qt>=Fn))return Qt;tr=re*nn,Yt=i*re,Gt=Yt-(Yt-re),fn=re-Gt,Yt=i*nn,gn=Yt-(Yt-nn),yn=nn-gn,Rn=fn*yn-(tr-Gt*gn-fn*gn-Gt*yn),Re=Ne*pt,Yt=i*Ne,Gt=Yt-(Yt-Ne),fn=Ne-Gt,Yt=i*pt,gn=Yt-(Yt-pt),yn=pt-gn,He=fn*yn-(Re-Gt*gn-fn*gn-Gt*yn),It=Rn-He,Lt=Rn-It,z[0]=Rn-(It+Lt)+(Lt-He),un=tr+It,Lt=un-tr,Mn=tr-(un-Lt)+(It-Lt),It=Mn-Re,Lt=Mn-It,z[1]=Mn-(It+Lt)+(Lt-Re),De=un+It,Lt=De-un,z[2]=un-(De-Lt)+(It-Lt),z[3]=De;let Wn=o(4,E,4,z,O);tr=Bt*_t,Yt=i*Bt,Gt=Yt-(Yt-Bt),fn=Bt-Gt,Yt=i*_t,gn=Yt-(Yt-_t),yn=_t-gn,Rn=fn*yn-(tr-Gt*gn-fn*gn-Gt*yn),Re=mt*ct,Yt=i*mt,Gt=Yt-(Yt-mt),fn=mt-Gt,Yt=i*ct,gn=Yt-(Yt-ct),yn=ct-gn,He=fn*yn-(Re-Gt*gn-fn*gn-Gt*yn),It=Rn-He,Lt=Rn-It,z[0]=Rn-(It+Lt)+(Lt-He),un=tr+It,Lt=un-tr,Mn=tr-(un-Lt)+(It-Lt),It=Mn-Re,Lt=Mn-It,z[1]=Mn-(It+Lt)+(Lt-Re),De=un+It,Lt=De-un,z[2]=un-(De-Lt)+(It-Lt),z[3]=De;let Zn=o(Wn,O,4,z,R);tr=re*_t,Yt=i*re,Gt=Yt-(Yt-re),fn=re-Gt,Yt=i*_t,gn=Yt-(Yt-_t),yn=_t-gn,Rn=fn*yn-(tr-Gt*gn-fn*gn-Gt*yn),Re=Ne*ct,Yt=i*Ne,Gt=Yt-(Yt-Ne),fn=Ne-Gt,Yt=i*ct,gn=Yt-(Yt-ct),yn=ct-gn,He=fn*yn-(Re-Gt*gn-fn*gn-Gt*yn),It=Rn-He,Lt=Rn-It,z[0]=Rn-(It+Lt)+(Lt-He),un=tr+It,Lt=un-tr,Mn=tr-(un-Lt)+(It-Lt),It=Mn-Re,Lt=Mn-It,z[1]=Mn-(It+Lt)+(Lt-Re),De=un+It,Lt=De-un,z[2]=un-(De-Lt)+(It-Lt),z[3]=De;let Nn=o(Zn,R,4,z,q);return q[Nn-1]}function B(St,_e,ke,Se,ce,tt){let Ie=(_e-tt)*(ke-ce),re=(St-ce)*(Se-tt),Ne=Ie-re;if(Ie===0||re===0||Ie>0!=re>0)return Ne;let ct=Math.abs(Ie+re);return Math.abs(Ne)>=f*ct?Ne:-L(St,_e,ke,Se,ce,tt,ct)}let P=Math.pow(2,-52),G=new Uint32Array(512);class ue{static from(_e,ke=et,Se=bt){let ce=_e.length,tt=new Float64Array(ce*2);for(let Ie=0;Ie<ce;Ie++){let re=_e[Ie];tt[2*Ie]=ke(re),tt[2*Ie+1]=Se(re)}return new ue(tt)}constructor(_e){let ke=_e.length>>1;if(ke>0&&typeof _e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=_e;let Se=Math.max(2*ke-5,0);this._triangles=new Uint32Array(Se*3),this._halfedges=new Int32Array(Se*3),this._hashSize=Math.ceil(Math.sqrt(ke)),this._hullPrev=new Uint32Array(ke),this._hullNext=new Uint32Array(ke),this._hullTri=new Uint32Array(ke),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(ke),this._dists=new Float64Array(ke),this.update()}update(){let{coords:_e,_hullPrev:ke,_hullNext:Se,_hullTri:ce,_hullHash:tt}=this,Ie=_e.length>>1,re=1/0,Ne=1/0,ct=-1/0,_t=-1/0;for(let pt=0;pt<Ie;pt++){let mt=_e[2*pt],nn=_e[2*pt+1];mt<re&&(re=mt),nn<Ne&&(Ne=nn),mt>ct&&(ct=mt),nn>_t&&(_t=nn),this._ids[pt]=pt}let Lt=(re+ct)/2,Yt=(Ne+_t)/2,Gt=1/0,fn,gn,yn;for(let pt=0;pt<Ie;pt++){let mt=J(Lt,Yt,_e[2*pt],_e[2*pt+1]);mt<Gt&&(fn=pt,Gt=mt)}let It=_e[2*fn],un=_e[2*fn+1];Gt=1/0;for(let pt=0;pt<Ie;pt++){if(pt===fn)continue;let mt=J(It,un,_e[2*pt],_e[2*pt+1]);mt<Gt&&mt>0&&(gn=pt,Gt=mt)}let Mn=_e[2*gn],tr=_e[2*gn+1],Rn=1/0;for(let pt=0;pt<Ie;pt++){if(pt===fn||pt===gn)continue;let mt=ve(It,un,Mn,tr,_e[2*pt],_e[2*pt+1]);mt<Rn&&(yn=pt,Rn=mt)}let Re=_e[2*yn],He=_e[2*yn+1];if(Rn===1/0){for(let nn=0;nn<Ie;nn++)this._dists[nn]=_e[2*nn]-_e[0]||_e[2*nn+1]-_e[1];ot(this._ids,this._dists,0,Ie-1);let pt=new Uint32Array(Ie),mt=0;for(let nn=0,Qt=-1/0;nn<Ie;nn++){let Fn=this._ids[nn];this._dists[Fn]>Qt&&(pt[mt++]=Fn,Qt=this._dists[Fn])}this.hull=pt.subarray(0,mt),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(B(It,un,Mn,tr,Re,He)<0){let pt=gn,mt=Mn,nn=tr;gn=yn,Mn=Re,tr=He,yn=pt,Re=mt,He=nn}let De=Ve(It,un,Mn,tr,Re,He);this._cx=De.x,this._cy=De.y;for(let pt=0;pt<Ie;pt++)this._dists[pt]=J(_e[2*pt],_e[2*pt+1],De.x,De.y);ot(this._ids,this._dists,0,Ie-1),this._hullStart=fn;let Bt=3;Se[fn]=ke[yn]=gn,Se[gn]=ke[fn]=yn,Se[yn]=ke[gn]=fn,ce[fn]=0,ce[gn]=1,ce[yn]=2,tt.fill(-1),tt[this._hashKey(It,un)]=fn,tt[this._hashKey(Mn,tr)]=gn,tt[this._hashKey(Re,He)]=yn,this.trianglesLen=0,this._addTriangle(fn,gn,yn,-1,-1,-1);for(let pt=0,mt,nn;pt<this._ids.length;pt++){let Qt=this._ids[pt],Fn=_e[2*Qt],Wn=_e[2*Qt+1];if(pt>0&&Math.abs(Fn-mt)<=P&&Math.abs(Wn-nn)<=P||(mt=Fn,nn=Wn,Qt===fn||Qt===gn||Qt===yn))continue;let Zn=0;for(let oe=0,je=this._hashKey(Fn,Wn);oe<this._hashSize&&(Zn=tt[(je+oe)%this._hashSize],!(Zn!==-1&&Zn!==Se[Zn]));oe++);Zn=ke[Zn];let Nn=Zn,nr;for(;nr=Se[Nn],B(Fn,Wn,_e[2*Nn],_e[2*Nn+1],_e[2*nr],_e[2*nr+1])>=0;)if(Nn=nr,Nn===Zn){Nn=-1;break}if(Nn===-1)continue;let Ke=this._addTriangle(Nn,Qt,Se[Nn],-1,-1,ce[Nn]);ce[Qt]=this._legalize(Ke+2),ce[Nn]=Ke,Bt++;let yt=Se[Nn];for(;nr=Se[yt],B(Fn,Wn,_e[2*yt],_e[2*yt+1],_e[2*nr],_e[2*nr+1])<0;)Ke=this._addTriangle(yt,Qt,nr,ce[Qt],-1,ce[yt]),ce[Qt]=this._legalize(Ke+2),Se[yt]=yt,Bt--,yt=nr;if(Nn===Zn)for(;nr=ke[Nn],B(Fn,Wn,_e[2*nr],_e[2*nr+1],_e[2*Nn],_e[2*Nn+1])<0;)Ke=this._addTriangle(nr,Qt,Nn,-1,ce[Nn],ce[nr]),this._legalize(Ke+2),ce[nr]=Ke,Se[Nn]=Nn,Bt--,Nn=nr;this._hullStart=ke[Qt]=Nn,Se[Nn]=ke[yt]=Qt,Se[Qt]=yt,tt[this._hashKey(Fn,Wn)]=Qt,tt[this._hashKey(_e[2*Nn],_e[2*Nn+1])]=Nn}this.hull=new Uint32Array(Bt);for(let pt=0,mt=this._hullStart;pt<Bt;pt++)this.hull[pt]=mt,mt=Se[mt];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(_e,ke){return Math.floor(I(_e-this._cx,ke-this._cy)*this._hashSize)%this._hashSize}_legalize(_e){let{_triangles:ke,_halfedges:Se,coords:ce}=this,tt=0,Ie=0;for(;;){let re=Se[_e],Ne=_e-_e%3;if(Ie=Ne+(_e+2)%3,re===-1){if(tt===0)break;_e=G[--tt];continue}let ct=re-re%3,_t=Ne+(_e+1)%3,Lt=ct+(re+2)%3,Yt=ke[Ie],Gt=ke[_e],fn=ke[_t],gn=ke[Lt];if(he(ce[2*Yt],ce[2*Yt+1],ce[2*Gt],ce[2*Gt+1],ce[2*fn],ce[2*fn+1],ce[2*gn],ce[2*gn+1])){ke[_e]=gn,ke[re]=Yt;let It=Se[Lt];if(It===-1){let Mn=this._hullStart;do{if(this._hullTri[Mn]===Lt){this._hullTri[Mn]=_e;break}Mn=this._hullPrev[Mn]}while(Mn!==this._hullStart)}this._link(_e,It),this._link(re,Se[Ie]),this._link(Ie,Lt);let un=ct+(re+1)%3;tt<G.length&&(G[tt++]=un)}else{if(tt===0)break;_e=G[--tt]}}return Ie}_link(_e,ke){this._halfedges[_e]=ke,ke!==-1&&(this._halfedges[ke]=_e)}_addTriangle(_e,ke,Se,ce,tt,Ie){let re=this.trianglesLen;return this._triangles[re]=_e,this._triangles[re+1]=ke,this._triangles[re+2]=Se,this._link(re,ce),this._link(re+1,tt),this._link(re+2,Ie),this.trianglesLen+=3,re}}function I(St,_e){let ke=St/(Math.abs(St)+Math.abs(_e));return(_e>0?3-ke:1+ke)/4}function J(St,_e,ke,Se){let ce=St-ke,tt=_e-Se;return ce*ce+tt*tt}function he(St,_e,ke,Se,ce,tt,Ie,re){let Ne=St-Ie,ct=_e-re,_t=ke-Ie,Lt=Se-re,Yt=ce-Ie,Gt=tt-re,fn=Ne*Ne+ct*ct,gn=_t*_t+Lt*Lt,yn=Yt*Yt+Gt*Gt;return Ne*(Lt*yn-gn*Gt)-ct*(_t*yn-gn*Yt)+fn*(_t*Gt-Lt*Yt)<0}function ve(St,_e,ke,Se,ce,tt){let Ie=ke-St,re=Se-_e,Ne=ce-St,ct=tt-_e,_t=Ie*Ie+re*re,Lt=Ne*Ne+ct*ct,Yt=.5/(Ie*ct-re*Ne),Gt=(ct*_t-re*Lt)*Yt,fn=(Ie*Lt-Ne*_t)*Yt;return Gt*Gt+fn*fn}function Ve(St,_e,ke,Se,ce,tt){let Ie=ke-St,re=Se-_e,Ne=ce-St,ct=tt-_e,_t=Ie*Ie+re*re,Lt=Ne*Ne+ct*ct,Yt=.5/(Ie*ct-re*Ne),Gt=St+(ct*_t-re*Lt)*Yt,fn=_e+(Ie*Lt-Ne*_t)*Yt;return{x:Gt,y:fn}}function ot(St,_e,ke,Se){if(Se-ke<=20)for(let ce=ke+1;ce<=Se;ce++){let tt=St[ce],Ie=_e[tt],re=ce-1;for(;re>=ke&&_e[St[re]]>Ie;)St[re+1]=St[re--];St[re+1]=tt}else{let ce=ke+Se>>1,tt=ke+1,Ie=Se;lt(St,ce,tt),_e[St[ke]]>_e[St[Se]]&&lt(St,ke,Se),_e[St[tt]]>_e[St[Se]]&&lt(St,tt,Se),_e[St[ke]]>_e[St[tt]]&&lt(St,ke,tt);let re=St[tt],Ne=_e[re];for(;;){do tt++;while(_e[St[tt]]<Ne);do Ie--;while(_e[St[Ie]]>Ne);if(Ie<tt)break;lt(St,tt,Ie)}St[ke+1]=St[Ie],St[Ie]=re,Se-tt+1>=Ie-ke?(ot(St,_e,tt,Se),ot(St,_e,ke,Ie-1)):(ot(St,_e,ke,Ie-1),ot(St,_e,tt,Se))}}function lt(St,_e,ke){let Se=St[_e];St[_e]=St[ke],St[ke]=Se}function et(St){return St[0]}function bt(St){return St[1]}let Pt=1e-6;class $e{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(_e,ke){this._+=`M${this._x0=this._x1=+_e},${this._y0=this._y1=+ke}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(_e,ke){this._+=`L${this._x1=+_e},${this._y1=+ke}`}arc(_e,ke,Se){_e=+_e,ke=+ke,Se=+Se;let ce=_e+Se,tt=ke;if(Se<0)throw new Error("negative radius");this._x1===null?this._+=`M${ce},${tt}`:(Math.abs(this._x1-ce)>Pt||Math.abs(this._y1-tt)>Pt)&&(this._+="L"+ce+","+tt),!!Se&&(this._+=`A${Se},${Se},0,1,1,${_e-Se},${ke}A${Se},${Se},0,1,1,${this._x1=ce},${this._y1=tt}`)}rect(_e,ke,Se,ce){this._+=`M${this._x0=this._x1=+_e},${this._y0=this._y1=+ke}h${+Se}v${+ce}h${-Se}Z`}value(){return this._||null}}class te{constructor(){this._=[]}moveTo(_e,ke){this._.push([_e,ke])}closePath(){this._.push(this._[0].slice())}lineTo(_e,ke){this._.push([_e,ke])}value(){return this._.length?this._:null}}class Ze{constructor(_e,[ke,Se,ce,tt]=[0,0,960,500]){if(!((ce=+ce)>=(ke=+ke))||!((tt=+tt)>=(Se=+Se)))throw new Error("invalid bounds");this.delaunay=_e,this._circumcenters=new Float64Array(_e.points.length*2),this.vectors=new Float64Array(_e.points.length*2),this.xmax=ce,this.xmin=ke,this.ymax=tt,this.ymin=Se,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:_e,hull:ke,triangles:Se},vectors:ce}=this,tt=this.circumcenters=this._circumcenters.subarray(0,Se.length/3*2);for(let Gt=0,fn=0,gn=Se.length,yn,It;Gt<gn;Gt+=3,fn+=2){let un=Se[Gt]*2,Mn=Se[Gt+1]*2,tr=Se[Gt+2]*2,Rn=_e[un],Re=_e[un+1],He=_e[Mn],De=_e[Mn+1],Bt=_e[tr],pt=_e[tr+1],mt=He-Rn,nn=De-Re,Qt=Bt-Rn,Fn=pt-Re,Wn=(mt*Fn-nn*Qt)*2;if(Math.abs(Wn)<1e-9){let Zn=1e9,Nn=Se[0]*2;Zn*=Math.sign((_e[Nn]-Rn)*Fn-(_e[Nn+1]-Re)*Qt),yn=(Rn+Bt)/2-Zn*Fn,It=(Re+pt)/2+Zn*Qt}else{let Zn=1/Wn,Nn=mt*mt+nn*nn,nr=Qt*Qt+Fn*Fn;yn=Rn+(Fn*Nn-nn*nr)*Zn,It=Re+(mt*nr-Qt*Nn)*Zn}tt[fn]=yn,tt[fn+1]=It}let Ie=ke[ke.length-1],re,Ne=Ie*4,ct,_t=_e[2*Ie],Lt,Yt=_e[2*Ie+1];ce.fill(0);for(let Gt=0;Gt<ke.length;++Gt)Ie=ke[Gt],re=Ne,ct=_t,Lt=Yt,Ne=Ie*4,_t=_e[2*Ie],Yt=_e[2*Ie+1],ce[re+2]=ce[Ne]=Lt-Yt,ce[re+3]=ce[Ne+1]=_t-ct}render(_e){let ke=_e==null?_e=new $e:void 0,{delaunay:{halfedges:Se,inedges:ce,hull:tt},circumcenters:Ie,vectors:re}=this;if(tt.length<=1)return null;for(let _t=0,Lt=Se.length;_t<Lt;++_t){let Yt=Se[_t];if(Yt<_t)continue;let Gt=Math.floor(_t/3)*2,fn=Math.floor(Yt/3)*2,gn=Ie[Gt],yn=Ie[Gt+1],It=Ie[fn],un=Ie[fn+1];this._renderSegment(gn,yn,It,un,_e)}let Ne,ct=tt[tt.length-1];for(let _t=0;_t<tt.length;++_t){Ne=ct,ct=tt[_t];let Lt=Math.floor(ce[ct]/3)*2,Yt=Ie[Lt],Gt=Ie[Lt+1],fn=Ne*4,gn=this._project(Yt,Gt,re[fn+2],re[fn+3]);gn&&this._renderSegment(Yt,Gt,gn[0],gn[1],_e)}return ke&&ke.value()}renderBounds(_e){let ke=_e==null?_e=new $e:void 0;return _e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),ke&&ke.value()}renderCell(_e,ke){let Se=ke==null?ke=new $e:void 0,ce=this._clip(_e);if(ce===null||!ce.length)return;ke.moveTo(ce[0],ce[1]);let tt=ce.length;for(;ce[0]===ce[tt-2]&&ce[1]===ce[tt-1]&&tt>1;)tt-=2;for(let Ie=2;Ie<tt;Ie+=2)(ce[Ie]!==ce[Ie-2]||ce[Ie+1]!==ce[Ie-1])&&ke.lineTo(ce[Ie],ce[Ie+1]);return ke.closePath(),Se&&Se.value()}*cellPolygons(){let{delaunay:{points:_e}}=this;for(let ke=0,Se=_e.length/2;ke<Se;++ke){let ce=this.cellPolygon(ke);ce&&(ce.index=ke,yield ce)}}cellPolygon(_e){let ke=new te;return this.renderCell(_e,ke),ke.value()}_renderSegment(_e,ke,Se,ce,tt){let Ie,re=this._regioncode(_e,ke),Ne=this._regioncode(Se,ce);re===0&&Ne===0?(tt.moveTo(_e,ke),tt.lineTo(Se,ce)):(Ie=this._clipSegment(_e,ke,Se,ce,re,Ne))&&(tt.moveTo(Ie[0],Ie[1]),tt.lineTo(Ie[2],Ie[3]))}contains(_e,ke,Se){return ke=+ke,ke!==ke||(Se=+Se,Se!==Se)?!1:this.delaunay._step(_e,ke,Se)===_e}*neighbors(_e){let ke=this._clip(_e);if(ke)for(let Se of this.delaunay.neighbors(_e)){let ce=this._clip(Se);if(ce)e:for(let tt=0,Ie=ke.length;tt<Ie;tt+=2)for(let re=0,Ne=ce.length;re<Ne;re+=2)if(ke[tt]==ce[re]&&ke[tt+1]==ce[re+1]&&ke[(tt+2)%Ie]==ce[(re+Ne-2)%Ne]&&ke[(tt+3)%Ie]==ce[(re+Ne-1)%Ne]){yield Se;break e}}}_cell(_e){let{circumcenters:ke,delaunay:{inedges:Se,halfedges:ce,triangles:tt}}=this,Ie=Se[_e];if(Ie===-1)return null;let re=[],Ne=Ie;do{let ct=Math.floor(Ne/3);if(re.push(ke[ct*2],ke[ct*2+1]),Ne=Ne%3===2?Ne-2:Ne+1,tt[Ne]!==_e)break;Ne=ce[Ne]}while(Ne!==Ie&&Ne!==-1);return re}_clip(_e){if(_e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let ke=this._cell(_e);if(ke===null)return null;let{vectors:Se}=this,ce=_e*4;return Se[ce]||Se[ce+1]?this._clipInfinite(_e,ke,Se[ce],Se[ce+1],Se[ce+2],Se[ce+3]):this._clipFinite(_e,ke)}_clipFinite(_e,ke){let Se=ke.length,ce=null,tt,Ie,re=ke[Se-2],Ne=ke[Se-1],ct,_t=this._regioncode(re,Ne),Lt,Yt=0;for(let Gt=0;Gt<Se;Gt+=2)if(tt=re,Ie=Ne,re=ke[Gt],Ne=ke[Gt+1],ct=_t,_t=this._regioncode(re,Ne),ct===0&&_t===0)Lt=Yt,Yt=0,ce?ce.push(re,Ne):ce=[re,Ne];else{let fn,gn,yn,It,un;if(ct===0){if((fn=this._clipSegment(tt,Ie,re,Ne,ct,_t))===null)continue;[gn,yn,It,un]=fn}else{if((fn=this._clipSegment(re,Ne,tt,Ie,_t,ct))===null)continue;[It,un,gn,yn]=fn,Lt=Yt,Yt=this._edgecode(gn,yn),Lt&&Yt&&this._edge(_e,Lt,Yt,ce,ce.length),ce?ce.push(gn,yn):ce=[gn,yn]}Lt=Yt,Yt=this._edgecode(It,un),Lt&&Yt&&this._edge(_e,Lt,Yt,ce,ce.length),ce?ce.push(It,un):ce=[It,un]}if(ce)Lt=Yt,Yt=this._edgecode(ce[0],ce[1]),Lt&&Yt&&this._edge(_e,Lt,Yt,ce,ce.length);else if(this.contains(_e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ce}_clipSegment(_e,ke,Se,ce,tt,Ie){for(;;){if(tt===0&&Ie===0)return[_e,ke,Se,ce];if(tt&Ie)return null;let re,Ne,ct=tt||Ie;ct&8?(re=_e+(Se-_e)*(this.ymax-ke)/(ce-ke),Ne=this.ymax):ct&4?(re=_e+(Se-_e)*(this.ymin-ke)/(ce-ke),Ne=this.ymin):ct&2?(Ne=ke+(ce-ke)*(this.xmax-_e)/(Se-_e),re=this.xmax):(Ne=ke+(ce-ke)*(this.xmin-_e)/(Se-_e),re=this.xmin),tt?(_e=re,ke=Ne,tt=this._regioncode(_e,ke)):(Se=re,ce=Ne,Ie=this._regioncode(Se,ce))}}_clipInfinite(_e,ke,Se,ce,tt,Ie){let re=Array.from(ke),Ne;if((Ne=this._project(re[0],re[1],Se,ce))&&re.unshift(Ne[0],Ne[1]),(Ne=this._project(re[re.length-2],re[re.length-1],tt,Ie))&&re.push(Ne[0],Ne[1]),re=this._clipFinite(_e,re))for(let ct=0,_t=re.length,Lt,Yt=this._edgecode(re[_t-2],re[_t-1]);ct<_t;ct+=2)Lt=Yt,Yt=this._edgecode(re[ct],re[ct+1]),Lt&&Yt&&(ct=this._edge(_e,Lt,Yt,re,ct),_t=re.length);else this.contains(_e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(re=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return re}_edge(_e,ke,Se,ce,tt){for(;ke!==Se;){let Ie,re;switch(ke){case 5:ke=4;continue;case 4:ke=6,Ie=this.xmax,re=this.ymin;break;case 6:ke=2;continue;case 2:ke=10,Ie=this.xmax,re=this.ymax;break;case 10:ke=8;continue;case 8:ke=9,Ie=this.xmin,re=this.ymax;break;case 9:ke=1;continue;case 1:ke=5,Ie=this.xmin,re=this.ymin;break}(ce[tt]!==Ie||ce[tt+1]!==re)&&this.contains(_e,Ie,re)&&(ce.splice(tt,0,Ie,re),tt+=2)}if(ce.length>4)for(let Ie=0;Ie<ce.length;Ie+=2){let re=(Ie+2)%ce.length,Ne=(Ie+4)%ce.length;(ce[Ie]===ce[re]&&ce[re]===ce[Ne]||ce[Ie+1]===ce[re+1]&&ce[re+1]===ce[Ne+1])&&(ce.splice(re,2),Ie-=2)}return tt}_project(_e,ke,Se,ce){let tt=1/0,Ie,re,Ne;if(ce<0){if(ke<=this.ymin)return null;(Ie=(this.ymin-ke)/ce)<tt&&(Ne=this.ymin,re=_e+(tt=Ie)*Se)}else if(ce>0){if(ke>=this.ymax)return null;(Ie=(this.ymax-ke)/ce)<tt&&(Ne=this.ymax,re=_e+(tt=Ie)*Se)}if(Se>0){if(_e>=this.xmax)return null;(Ie=(this.xmax-_e)/Se)<tt&&(re=this.xmax,Ne=ke+(tt=Ie)*ce)}else if(Se<0){if(_e<=this.xmin)return null;(Ie=(this.xmin-_e)/Se)<tt&&(re=this.xmin,Ne=ke+(tt=Ie)*ce)}return[re,Ne]}_edgecode(_e,ke){return(_e===this.xmin?1:_e===this.xmax?2:0)|(ke===this.ymin?4:ke===this.ymax?8:0)}_regioncode(_e,ke){return(_e<this.xmin?1:_e>this.xmax?2:0)|(ke<this.ymin?4:ke>this.ymax?8:0)}}let ye=2*Math.PI,Le=Math.pow;function Ce(St){return St[0]}function pe(St){return St[1]}function Je(St){let{triangles:_e,coords:ke}=St;for(let Se=0;Se<_e.length;Se+=3){let ce=2*_e[Se],tt=2*_e[Se+1],Ie=2*_e[Se+2];if((ke[Ie]-ke[ce])*(ke[tt+1]-ke[ce+1])-(ke[tt]-ke[ce])*(ke[Ie+1]-ke[ce+1])>1e-10)return!1}return!0}function ut(St,_e,ke){return[St+Math.sin(St+_e)*ke,_e+Math.cos(St-_e)*ke]}class Ht{static from(_e,ke=Ce,Se=pe,ce){return new Ht("length"in _e?Ct(_e,ke,Se,ce):Float64Array.from(xn(_e,ke,Se,ce)))}constructor(_e){this._delaunator=new ue(_e),this.inedges=new Int32Array(_e.length/2),this._hullIndex=new Int32Array(_e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let _e=this._delaunator,ke=this.points;if(_e.hull&&_e.hull.length>2&&Je(_e)){this.collinear=Int32Array.from({length:ke.length/2},(Yt,Gt)=>Gt).sort((Yt,Gt)=>ke[2*Yt]-ke[2*Gt]||ke[2*Yt+1]-ke[2*Gt+1]);let Ne=this.collinear[0],ct=this.collinear[this.collinear.length-1],_t=[ke[2*Ne],ke[2*Ne+1],ke[2*ct],ke[2*ct+1]],Lt=1e-8*Math.hypot(_t[3]-_t[1],_t[2]-_t[0]);for(let Yt=0,Gt=ke.length/2;Yt<Gt;++Yt){let fn=ut(ke[2*Yt],ke[2*Yt+1],Lt);ke[2*Yt]=fn[0],ke[2*Yt+1]=fn[1]}this._delaunator=new ue(ke)}else delete this.collinear;let Se=this.halfedges=this._delaunator.halfedges,ce=this.hull=this._delaunator.hull,tt=this.triangles=this._delaunator.triangles,Ie=this.inedges.fill(-1),re=this._hullIndex.fill(-1);for(let Ne=0,ct=Se.length;Ne<ct;++Ne){let _t=tt[Ne%3===2?Ne-2:Ne+1];(Se[Ne]===-1||Ie[_t]===-1)&&(Ie[_t]=Ne)}for(let Ne=0,ct=ce.length;Ne<ct;++Ne)re[ce[Ne]]=Ne;ce.length<=2&&ce.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=ce[0],Ie[ce[0]]=1,ce.length===2&&(Ie[ce[1]]=0,this.triangles[1]=ce[1],this.triangles[2]=ce[1]))}voronoi(_e){return new Ze(this,_e)}*neighbors(_e){let{inedges:ke,hull:Se,_hullIndex:ce,halfedges:tt,triangles:Ie,collinear:re}=this;if(re){let Lt=re.indexOf(_e);Lt>0&&(yield re[Lt-1]),Lt<re.length-1&&(yield re[Lt+1]);return}let Ne=ke[_e];if(Ne===-1)return;let ct=Ne,_t=-1;do{if(yield _t=Ie[ct],ct=ct%3===2?ct-2:ct+1,Ie[ct]!==_e)return;if(ct=tt[ct],ct===-1){let Lt=Se[(ce[_e]+1)%Se.length];Lt!==_t&&(yield Lt);return}}while(ct!==Ne)}find(_e,ke,Se=0){if(_e=+_e,_e!==_e||(ke=+ke,ke!==ke))return-1;let ce=Se,tt;for(;(tt=this._step(Se,_e,ke))>=0&&tt!==Se&&tt!==ce;)Se=tt;return tt}_step(_e,ke,Se){let{inedges:ce,hull:tt,_hullIndex:Ie,halfedges:re,triangles:Ne,points:ct}=this;if(ce[_e]===-1||!ct.length)return(_e+1)%(ct.length>>1);let _t=_e,Lt=Le(ke-ct[_e*2],2)+Le(Se-ct[_e*2+1],2),Yt=ce[_e],Gt=Yt;do{let fn=Ne[Gt],gn=Le(ke-ct[fn*2],2)+Le(Se-ct[fn*2+1],2);if(gn<Lt&&(Lt=gn,_t=fn),Gt=Gt%3===2?Gt-2:Gt+1,Ne[Gt]!==_e)break;if(Gt=re[Gt],Gt===-1){if(Gt=tt[(Ie[_e]+1)%tt.length],Gt!==fn&&Le(ke-ct[Gt*2],2)+Le(Se-ct[Gt*2+1],2)<Lt)return Gt;break}}while(Gt!==Yt);return _t}render(_e){let ke=_e==null?_e=new $e:void 0,{points:Se,halfedges:ce,triangles:tt}=this;for(let Ie=0,re=ce.length;Ie<re;++Ie){let Ne=ce[Ie];if(Ne<Ie)continue;let ct=tt[Ie]*2,_t=tt[Ne]*2;_e.moveTo(Se[ct],Se[ct+1]),_e.lineTo(Se[_t],Se[_t+1])}return this.renderHull(_e),ke&&ke.value()}renderPoints(_e,ke){ke===void 0&&(!_e||typeof _e.moveTo!="function")&&(ke=_e,_e=null),ke=ke==null?2:+ke;let Se=_e==null?_e=new $e:void 0,{points:ce}=this;for(let tt=0,Ie=ce.length;tt<Ie;tt+=2){let re=ce[tt],Ne=ce[tt+1];_e.moveTo(re+ke,Ne),_e.arc(re,Ne,ke,0,ye)}return Se&&Se.value()}renderHull(_e){let ke=_e==null?_e=new $e:void 0,{hull:Se,points:ce}=this,tt=Se[0]*2,Ie=Se.length;_e.moveTo(ce[tt],ce[tt+1]);for(let re=1;re<Ie;++re){let Ne=2*Se[re];_e.lineTo(ce[Ne],ce[Ne+1])}return _e.closePath(),ke&&ke.value()}hullPolygon(){let _e=new te;return this.renderHull(_e),_e.value()}renderTriangle(_e,ke){let Se=ke==null?ke=new $e:void 0,{points:ce,triangles:tt}=this,Ie=tt[_e*=3]*2,re=tt[_e+1]*2,Ne=tt[_e+2]*2;return ke.moveTo(ce[Ie],ce[Ie+1]),ke.lineTo(ce[re],ce[re+1]),ke.lineTo(ce[Ne],ce[Ne+1]),ke.closePath(),Se&&Se.value()}*trianglePolygons(){let{triangles:_e}=this;for(let ke=0,Se=_e.length/3;ke<Se;++ke)yield this.trianglePolygon(ke)}trianglePolygon(_e){let ke=new te;return this.renderTriangle(_e,ke),ke.value()}}function Ct(St,_e,ke,Se){let ce=St.length,tt=new Float64Array(ce*2);for(let Ie=0;Ie<ce;++Ie){let re=St[Ie];tt[Ie*2]=_e.call(Se,re,Ie,St),tt[Ie*2+1]=ke.call(Se,re,Ie,St)}return tt}function*xn(St,_e,ke,Se){let ce=0;for(let tt of St)yield _e.call(Se,tt,ce,St),yield ke.call(Se,tt,ce,St),++ce}function Tt(St){e.Transform.call(this,null,St)}Tt.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};let Ot=[-1e5,-1e5,1e5,1e5];t.inherits(Tt,e.Transform,{transform(St,_e){let ke=St.as||"path",Se=_e.source;if(!Se||!Se.length)return _e;let ce=St.size;ce=ce?[0,0,ce[0],ce[1]]:(ce=St.extent)?[ce[0][0],ce[0][1],ce[1][0],ce[1][1]]:Ot;let tt=this.value=Ht.from(Se,St.x,St.y).voronoi(ce);for(let Ie=0,re=Se.length;Ie<re;++Ie){let Ne=tt.cellPolygon(Ie);Se[Ie][ke]=Ne?rn(Ne):null}return _e.reflow(St.modified()).modifies(ke)}});function rn(St){let _e=St[0][0],ke=St[0][1],Se=St.length-1;for(;St[Se][0]===_e&&St[Se][1]===ke;--Se);return"M"+St.slice(0,Se+1).join("L")+"Z"}n.voronoi=Tt,Object.defineProperty(n,"__esModule",{value:!0})})});var _De=Ae((XH,vDe)=>{m();(function(n,e){typeof XH=="object"&&typeof vDe!="undefined"?e(XH,ZR(),r0(),Au(),tE(),eE()):typeof define=="function"&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-util","vega-scale","vega-statistics"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(XH,function(n,e,t,r,i,s){"use strict";var o=Math.PI/180,a=1<<11>>5,l=1<<11;function f(){var I=[256,256],J,he,ve,Ve,ot,lt,et,bt=R,Pt=[],$e=Math.random,te={};te.layout=function(){for(var Le=Ze(e.canvas()),Ce=z((I[0]>>5)*I[1]),pe=null,Je=Pt.length,ut=-1,Ht=[],Ct=Pt.map(Tt=>({text:J(Tt),font:he(Tt),style:Ve(Tt),weight:ot(Tt),rotate:lt(Tt),size:~~(ve(Tt)+1e-14),padding:et(Tt),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Tt})).sort((Tt,Ot)=>Ot.size-Tt.size);++ut<Je;){var xn=Ct[ut];xn.x=I[0]*($e()+.5)>>1,xn.y=I[1]*($e()+.5)>>1,p(Le,xn,Ct,ut),xn.hasText&&ye(Ce,xn,pe)&&(Ht.push(xn),pe?E(pe,xn):pe=[{x:xn.x+xn.x0,y:xn.y+xn.y0},{x:xn.x+xn.x1,y:xn.y+xn.y1}],xn.x-=I[0]>>1,xn.y-=I[1]>>1)}return Ht};function Ze(Le){Le.width=Le.height=1;var Ce=Math.sqrt(Le.getContext("2d").getImageData(0,0,1,1).data.length>>2);Le.width=(a<<5)/Ce,Le.height=l/Ce;var pe=Le.getContext("2d");return pe.fillStyle=pe.strokeStyle="red",pe.textAlign="center",{context:pe,ratio:Ce}}function ye(Le,Ce,pe){for(var Je=Ce.x,ut=Ce.y,Ht=Math.sqrt(I[0]*I[0]+I[1]*I[1]),Ct=bt(I),xn=$e()<.5?1:-1,Tt=-xn,Ot,rn,St;(Ot=Ct(Tt+=xn))&&(rn=~~Ot[0],St=~~Ot[1],!(Math.min(Math.abs(rn),Math.abs(St))>=Ht));)if(Ce.x=Je+rn,Ce.y=ut+St,!(Ce.x+Ce.x0<0||Ce.y+Ce.y0<0||Ce.x+Ce.x1>I[0]||Ce.y+Ce.y1>I[1])&&(!pe||!_(Ce,Le,I[0]))&&(!pe||O(Ce,pe))){for(var _e=Ce.sprite,ke=Ce.width>>5,Se=I[0]>>5,ce=Ce.x-(ke<<4),tt=ce&127,Ie=32-tt,re=Ce.y1-Ce.y0,Ne=(Ce.y+Ce.y0)*Se+(ce>>5),ct,_t=0;_t<re;_t++){ct=0;for(var Lt=0;Lt<=ke;Lt++)Le[Ne+Lt]|=ct<<Ie|(Lt<ke?(ct=_e[_t*ke+Lt])>>>tt:0);Ne+=Se}return Ce.sprite=null,!0}return!1}return te.words=function(Le){return arguments.length?(Pt=Le,te):Pt},te.size=function(Le){return arguments.length?(I=[+Le[0],+Le[1]],te):I},te.font=function(Le){return arguments.length?(he=L(Le),te):he},te.fontStyle=function(Le){return arguments.length?(Ve=L(Le),te):Ve},te.fontWeight=function(Le){return arguments.length?(ot=L(Le),te):ot},te.rotate=function(Le){return arguments.length?(lt=L(Le),te):lt},te.text=function(Le){return arguments.length?(J=L(Le),te):J},te.spiral=function(Le){return arguments.length?(bt=B[Le]||Le,te):bt},te.fontSize=function(Le){return arguments.length?(ve=L(Le),te):ve},te.padding=function(Le){return arguments.length?(et=L(Le),te):et},te.random=function(Le){return arguments.length?($e=Le,te):$e},te}function p(I,J,he,ve){if(!J.sprite){var Ve=I.context,ot=I.ratio;Ve.clearRect(0,0,(a<<5)/ot,l/ot);var lt=0,et=0,bt=0,Pt=he.length,$e,te,Ze,ye,Le;for(--ve;++ve<Pt;){if(J=he[ve],Ve.save(),Ve.font=J.style+" "+J.weight+" "+~~((J.size+1)/ot)+"px "+J.font,$e=Ve.measureText(J.text+"m").width*ot,Ze=J.size<<1,J.rotate){var Ce=Math.sin(J.rotate*o),pe=Math.cos(J.rotate*o),Je=$e*pe,ut=$e*Ce,Ht=Ze*pe,Ct=Ze*Ce;$e=Math.max(Math.abs(Je+Ct),Math.abs(Je-Ct))+31>>5<<5,Ze=~~Math.max(Math.abs(ut+Ht),Math.abs(ut-Ht))}else $e=$e+31>>5<<5;if(Ze>bt&&(bt=Ze),lt+$e>=a<<5&&(lt=0,et+=bt,bt=0),et+Ze>=l)break;Ve.translate((lt+($e>>1))/ot,(et+(Ze>>1))/ot),J.rotate&&Ve.rotate(J.rotate*o),Ve.fillText(J.text,0,0),J.padding&&(Ve.lineWidth=2*J.padding,Ve.strokeText(J.text,0,0)),Ve.restore(),J.width=$e,J.height=Ze,J.xoff=lt,J.yoff=et,J.x1=$e>>1,J.y1=Ze>>1,J.x0=-J.x1,J.y0=-J.y1,J.hasText=!0,lt+=$e}for(var xn=Ve.getImageData(0,0,(a<<5)/ot,l/ot).data,Tt=[];--ve>=0;)if(J=he[ve],!!J.hasText){for($e=J.width,te=$e>>5,Ze=J.y1-J.y0,ye=0;ye<Ze*te;ye++)Tt[ye]=0;if(lt=J.xoff,lt==null)return;et=J.yoff;var Ot=0,rn=-1;for(Le=0;Le<Ze;Le++){for(ye=0;ye<$e;ye++){var St=te*Le+(ye>>5),_e=xn[(et+Le)*(a<<5)+(lt+ye)<<2]?1<<31-ye%32:0;Tt[St]|=_e,Ot|=_e}Ot?rn=Le:(J.y0++,Ze--,Le--,et++)}J.y1=J.y0+rn,J.sprite=Tt.slice(0,(J.y1-J.y0)*te)}}}function _(I,J,he){he>>=5;for(var ve=I.sprite,Ve=I.width>>5,ot=I.x-(Ve<<4),lt=ot&127,et=32-lt,bt=I.y1-I.y0,Pt=(I.y+I.y0)*he+(ot>>5),$e,te=0;te<bt;te++){$e=0;for(var Ze=0;Ze<=Ve;Ze++)if(($e<<et|(Ze<Ve?($e=ve[te*Ve+Ze])>>>lt:0))&J[Pt+Ze])return!0;Pt+=he}return!1}function E(I,J){var he=I[0],ve=I[1];J.x+J.x0<he.x&&(he.x=J.x+J.x0),J.y+J.y0<he.y&&(he.y=J.y+J.y0),J.x+J.x1>ve.x&&(ve.x=J.x+J.x1),J.y+J.y1>ve.y&&(ve.y=J.y+J.y1)}function O(I,J){return I.x+I.x1>J[0].x&&I.x+I.x0<J[1].x&&I.y+I.y1>J[0].y&&I.y+I.y0<J[1].y}function R(I){var J=I[0]/I[1];return function(he){return[J*(he*=.1)*Math.cos(he),he*Math.sin(he)]}}function q(I){var J=4,he=J*I[0]/I[1],ve=0,Ve=0;return function(ot){var lt=ot<0?-1:1;switch(Math.sqrt(1+4*lt*ot)-lt&3){case 0:ve+=he;break;case 1:Ve+=J;break;case 2:ve-=he;break;default:Ve-=J;break}return[ve,Ve]}}function z(I){for(var J=[],he=-1;++he<I;)J[he]=0;return J}function L(I){return typeof I=="function"?I:function(){return I}}var B={archimedean:R,rectangular:q};let P=["x","y","font","fontSize","fontStyle","fontWeight","angle"],G=["text","font","rotate","fontSize","fontStyle","fontWeight"];function ue(I){t.Transform.call(this,f(),I)}ue.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:P}]},r.inherits(ue,t.Transform,{transform(I,J){I.size&&!(I.size[0]&&I.size[1])&&r.error("Wordcloud size dimensions must be non-zero.");function he(Le){let Ce=I[Le];return r.isFunction(Ce)&&J.modified(Ce.fields)}let ve=I.modified();if(!(ve||J.changed(J.ADD_REM)||G.some(he)))return;let Ve=J.materialize(J.SOURCE).source,ot=this.value,lt=I.as||P,et=I.fontSize||14,bt;if(r.isFunction(et)?bt=I.fontSizeRange:et=r.constant(et),bt){let Le=et,Ce=i.scale("sqrt")().domain(r.extent(Ve,Le)).range(bt);et=pe=>Ce(Le(pe))}Ve.forEach(Le=>{Le[lt[0]]=NaN,Le[lt[1]]=NaN,Le[lt[3]]=0});let Pt=ot.words(Ve).text(I.text).size(I.size||[500,500]).padding(I.padding||1).spiral(I.spiral||"archimedean").rotate(I.rotate||0).font(I.font||"sans-serif").fontStyle(I.fontStyle||"normal").fontWeight(I.fontWeight||"normal").fontSize(et).random(s.random).layout(),$e=ot.size(),te=$e[0]>>1,Ze=$e[1]>>1,ye=Pt.length;for(let Le=0,Ce,pe;Le<ye;++Le)Ce=Pt[Le],pe=Ce.datum,pe[lt[0]]=Ce.x+te,pe[lt[1]]=Ce.y+Ze,pe[lt[2]]=Ce.font,pe[lt[3]]=Ce.size,pe[lt[4]]=Ce.style,pe[lt[5]]=Ce.weight,pe[lt[6]]=Ce.rotate;return J.reflow(ve).modifies(lt)}}),n.wordcloud=ue,Object.defineProperty(n,"__esModule",{value:!0})})});var EDe=Ae((ZH,bDe)=>{m();(function(n,e){typeof ZH=="object"&&typeof bDe!="undefined"?e(ZH,r0(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(ZH,function(n,e,t){"use strict";let r=I=>new Uint8Array(I),i=I=>new Uint16Array(I),s=I=>new Uint32Array(I);function o(){let I=8,J=[],he=s(0),ve=l(0,I),Ve=l(0,I);return{data:()=>J,seen:()=>he=a(he,J.length),add(ot){for(let lt=0,et=J.length,bt=ot.length,Pt;lt<bt;++lt)Pt=ot[lt],Pt._index=et++,J.push(Pt)},remove(ot,lt){let et=J.length,bt=Array(et-ot),Pt=J,$e,te,Ze;for(te=0;!lt[te]&&te<et;++te)bt[te]=J[te],Pt[te]=te;for(Ze=te;te<et;++te)$e=J[te],lt[te]?Pt[te]=-1:(Pt[te]=Ze,ve[Ze]=ve[te],Ve[Ze]=Ve[te],bt[Ze]=$e,$e._index=Ze++),ve[te]=0;return J=bt,Pt},size:()=>J.length,curr:()=>ve,prev:()=>Ve,reset:ot=>Ve[ot]=ve[ot],all:()=>I<257?255:I<65537?65535:4294967295,set(ot,lt){ve[ot]|=lt},clear(ot,lt){ve[ot]&=~lt},resize(ot,lt){let et=ve.length;(ot>et||lt>I)&&(I=Math.max(lt,I),ve=l(ot,I,ve),Ve=l(ot,I))}}}function a(I,J,he){return I.length>=J?I:(he=he||new I.constructor(J),he.set(I),he)}function l(I,J,he){let ve=(J<257?r:J<65537?i:s)(I);return he&&ve.set(he),ve}function f(I,J,he){let ve=1<<J;return{one:ve,zero:~ve,range:he.slice(),bisect:I.bisect,index:I.index,size:I.size,onAdd(Ve,ot){let lt=this,et=lt.bisect(lt.range,Ve.value),bt=Ve.index,Pt=et[0],$e=et[1],te=bt.length,Ze;for(Ze=0;Ze<Pt;++Ze)ot[bt[Ze]]|=ve;for(Ze=$e;Ze<te;++Ze)ot[bt[Ze]]|=ve;return lt}}}function p(I,J){return I==null||J==null?NaN:I<J?-1:I>J?1:I>=J?0:NaN}function _(I){let J=I,he=I,ve=I;I.length!==2&&(J=(et,bt)=>I(et)-bt,he=p,ve=(et,bt)=>p(I(et),bt));function Ve(et,bt,Pt=0,$e=et.length){if(Pt<$e){if(he(bt,bt)!==0)return $e;do{let te=Pt+$e>>>1;ve(et[te],bt)<0?Pt=te+1:$e=te}while(Pt<$e)}return Pt}function ot(et,bt,Pt=0,$e=et.length){if(Pt<$e){if(he(bt,bt)!==0)return $e;do{let te=Pt+$e>>>1;ve(et[te],bt)<=0?Pt=te+1:$e=te}while(Pt<$e)}return Pt}function lt(et,bt,Pt=0,$e=et.length){let te=Ve(et,bt,Pt,$e-1);return te>Pt&&J(et[te-1],bt)>-J(et[te],bt)?te-1:te}return{left:Ve,center:lt,right:ot}}function E(I){return I===null?NaN:+I}let O=_(p),R=O.right,q=O.left;_(E).center;function z(I,J){return Array.from(J,he=>I[he])}function L(){let I=s(0),J=[],he=0;function ve(et,bt,Pt){if(!bt.length)return[];let $e=he,te=bt.length,Ze=s(te),ye=Array(te),Le,Ce,pe;for(pe=0;pe<te;++pe)ye[pe]=et(bt[pe]),Ze[pe]=pe;if(ye=B(ye,Ze),$e)Le=J,Ce=I,J=Array($e+te),I=s($e+te),P(Pt,Le,Ce,$e,ye,Ze,te,J,I);else{if(Pt>0)for(pe=0;pe<te;++pe)Ze[pe]+=Pt;J=ye,I=Ze}return he=$e+te,{index:Ze,value:ye}}function Ve(et,bt){let Pt=he,$e,te,Ze;for(te=0;!bt[I[te]]&&te<Pt;++te);for(Ze=te;te<Pt;++te)bt[$e=I[te]]||(I[Ze]=$e,J[Ze]=J[te],++Ze);he=Pt-et}function ot(et){for(let bt=0,Pt=he;bt<Pt;++bt)I[bt]=et[I[bt]]}function lt(et,bt){let Pt;return bt?Pt=bt.length:(bt=J,Pt=he),[q(bt,et[0],0,Pt),R(bt,et[1],0,Pt)]}return{insert:ve,remove:Ve,bisect:lt,reindex:ot,index:()=>I,size:()=>he}}function B(I,J){return I.sort.call(J,(he,ve)=>{let Ve=I[he],ot=I[ve];return Ve<ot?-1:Ve>ot?1:0}),z(I,J)}function P(I,J,he,ve,Ve,ot,lt,et,bt){let Pt=0,$e=0,te;for(te=0;Pt<ve&&$e<lt;++te)J[Pt]<Ve[$e]?(et[te]=J[Pt],bt[te]=he[Pt++]):(et[te]=Ve[$e],bt[te]=ot[$e++]+I);for(;Pt<ve;++Pt,++te)et[te]=J[Pt],bt[te]=he[Pt];for(;$e<lt;++$e,++te)et[te]=Ve[$e],bt[te]=ot[$e]+I}function G(I){e.Transform.call(this,o(),I),this._indices=null,this._dims=null}G.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},t.inherits(G,e.Transform,{transform(I,J){if(this._dims){var he=I.modified("fields")||I.fields.some(ve=>J.modified(ve.fields));return he?this.reinit(I,J):this.eval(I,J)}else return this.init(I,J)},init(I,J){let he=I.fields,ve=I.query,Ve=this._indices={},ot=this._dims=[],lt=ve.length,et=0,bt,Pt;for(;et<lt;++et)bt=he[et].fname,Pt=Ve[bt]||(Ve[bt]=L()),ot.push(f(Pt,et,ve[et]));return this.eval(I,J)},reinit(I,J){let he=J.materialize().fork(),ve=I.fields,Ve=I.query,ot=this._indices,lt=this._dims,et=this.value,bt=et.curr(),Pt=et.prev(),$e=et.all(),te=he.rem=he.add,Ze=he.mod,ye=Ve.length,Le={},Ce,pe,Je,ut,Ht,Ct,xn,Tt,Ot;if(Pt.set(bt),J.rem.length&&(Ht=this.remove(I,J,he)),J.add.length&&et.add(J.add),J.mod.length)for(Ct={},ut=J.mod,xn=0,Tt=ut.length;xn<Tt;++xn)Ct[ut[xn]._index]=1;for(xn=0;xn<ye;++xn)Ot=ve[xn],(!lt[xn]||I.modified("fields",xn)||J.modified(Ot.fields))&&(Je=Ot.fname,(Ce=Le[Je])||(ot[Je]=pe=L(),Le[Je]=Ce=pe.insert(Ot,J.source,0)),lt[xn]=f(pe,xn,Ve[xn]).onAdd(Ce,bt));for(xn=0,Tt=et.data().length;xn<Tt;++xn)Ht[xn]||(Pt[xn]!==bt[xn]?te.push(xn):Ct[xn]&&bt[xn]!==$e&&Ze.push(xn));return et.mask=(1<<ye)-1,he},eval(I,J){let he=J.materialize().fork(),ve=this._dims.length,Ve=0;return J.rem.length&&(this.remove(I,J,he),Ve|=(1<<ve)-1),I.modified("query")&&!I.modified("fields")&&(Ve|=this.update(I,J,he)),J.add.length&&(this.insert(I,J,he),Ve|=(1<<ve)-1),J.mod.length&&(this.modify(J,he),Ve|=(1<<ve)-1),this.value.mask=Ve,he},insert(I,J,he){let ve=J.add,Ve=this.value,ot=this._dims,lt=this._indices,et=I.fields,bt={},Pt=he.add,$e=Ve.size()+ve.length,te=ot.length,Ze=Ve.size(),ye,Le,Ce;Ve.resize($e,te),Ve.add(ve);let pe=Ve.curr(),Je=Ve.prev(),ut=Ve.all();for(ye=0;ye<te;++ye)Le=et[ye].fname,Ce=bt[Le]||(bt[Le]=lt[Le].insert(et[ye],ve,Ze)),ot[ye].onAdd(Ce,pe);for(;Ze<$e;++Ze)Je[Ze]=ut,pe[Ze]!==ut&&Pt.push(Ze)},modify(I,J){let he=J.mod,ve=this.value,Ve=ve.curr(),ot=ve.all(),lt=I.mod,et,bt,Pt;for(et=0,bt=lt.length;et<bt;++et)Pt=lt[et]._index,Ve[Pt]!==ot&&he.push(Pt)},remove(I,J,he){let ve=this._indices,Ve=this.value,ot=Ve.curr(),lt=Ve.prev(),et=Ve.all(),bt={},Pt=he.rem,$e=J.rem,te,Ze,ye,Le;for(te=0,Ze=$e.length;te<Ze;++te)ye=$e[te]._index,bt[ye]=1,lt[ye]=Le=ot[ye],ot[ye]=et,Le!==et&&Pt.push(ye);for(ye in ve)ve[ye].remove(Ze,bt);return this.reindex(J,Ze,bt),bt},reindex(I,J,he){let ve=this._indices,Ve=this.value;I.runAfter(()=>{let ot=Ve.remove(J,he);for(let lt in ve)ve[lt].reindex(ot)})},update(I,J,he){let ve=this._dims,Ve=I.query,ot=J.stamp,lt=ve.length,et=0,bt,Pt;for(he.filters=0,Pt=0;Pt<lt;++Pt)I.modified("query",Pt)&&(bt=Pt,++et);if(et===1)et=ve[bt].one,this.incrementOne(ve[bt],Ve[bt],he.add,he.rem);else for(Pt=0,et=0;Pt<lt;++Pt)!I.modified("query",Pt)||(et|=ve[Pt].one,this.incrementAll(ve[Pt],Ve[Pt],ot,he.add),he.rem=he.add);return et},incrementAll(I,J,he,ve){let Ve=this.value,ot=Ve.seen(),lt=Ve.curr(),et=Ve.prev(),bt=I.index(),Pt=I.bisect(I.range),$e=I.bisect(J),te=$e[0],Ze=$e[1],ye=Pt[0],Le=Pt[1],Ce=I.one,pe,Je,ut;if(te<ye)for(pe=te,Je=Math.min(ye,Ze);pe<Je;++pe)ut=bt[pe],ot[ut]!==he&&(et[ut]=lt[ut],ot[ut]=he,ve.push(ut)),lt[ut]^=Ce;else if(te>ye)for(pe=ye,Je=Math.min(te,Le);pe<Je;++pe)ut=bt[pe],ot[ut]!==he&&(et[ut]=lt[ut],ot[ut]=he,ve.push(ut)),lt[ut]^=Ce;if(Ze>Le)for(pe=Math.max(te,Le),Je=Ze;pe<Je;++pe)ut=bt[pe],ot[ut]!==he&&(et[ut]=lt[ut],ot[ut]=he,ve.push(ut)),lt[ut]^=Ce;else if(Ze<Le)for(pe=Math.max(ye,Ze),Je=Le;pe<Je;++pe)ut=bt[pe],ot[ut]!==he&&(et[ut]=lt[ut],ot[ut]=he,ve.push(ut)),lt[ut]^=Ce;I.range=J.slice()},incrementOne(I,J,he,ve){let Ve=this.value,ot=Ve.curr(),lt=I.index(),et=I.bisect(I.range),bt=I.bisect(J),Pt=bt[0],$e=bt[1],te=et[0],Ze=et[1],ye=I.one,Le,Ce,pe;if(Pt<te)for(Le=Pt,Ce=Math.min(te,$e);Le<Ce;++Le)pe=lt[Le],ot[pe]^=ye,he.push(pe);else if(Pt>te)for(Le=te,Ce=Math.min(Pt,Ze);Le<Ce;++Le)pe=lt[Le],ot[pe]^=ye,ve.push(pe);if($e>Ze)for(Le=Math.max(Pt,Ze),Ce=$e;Le<Ce;++Le)pe=lt[Le],ot[pe]^=ye,he.push(pe);else if($e<Ze)for(Le=Math.max(te,$e),Ce=Ze;Le<Ce;++Le)pe=lt[Le],ot[pe]^=ye,ve.push(pe);I.range=J.slice()}});function ue(I){e.Transform.call(this,null,I)}ue.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},t.inherits(ue,e.Transform,{transform(I,J){let he=~(I.ignore||0),ve=I.filter,Ve=ve.mask;if((Ve&he)===0)return J.StopPropagation;let ot=J.fork(J.ALL),lt=ve.data(),et=ve.curr(),bt=ve.prev(),Pt=$e=>et[$e]&he?null:lt[$e];return ot.filter(ot.MOD,Pt),Ve&Ve-1?(ot.filter(ot.ADD,$e=>{let te=et[$e]&he;return!te&&te^bt[$e]&he?lt[$e]:null}),ot.filter(ot.REM,$e=>{let te=et[$e]&he;return te&&!(te^(te^bt[$e]&he))?lt[$e]:null})):(ot.filter(ot.ADD,Pt),ot.filter(ot.REM,$e=>(et[$e]&he)===Ve?lt[$e]:null)),ot.filter(ot.SOURCE,$e=>Pt($e._index))}}),n.crossfilter=G,n.resolvefilter=ue,Object.defineProperty(n,"__esModule",{value:!0})})});var tV=Ae((eV,SDe)=>{m();(function(n,e){typeof eV=="object"&&typeof SDe!="undefined"?e(eV,Au()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(eV,function(n,e){"use strict";let t="RawCode",r="Literal",i="Property",s="Identifier",o="ArrayExpression",a="BinaryExpression",l="CallExpression",f="ConditionalExpression",p="LogicalExpression",_="MemberExpression",E="ObjectExpression",O="UnaryExpression";function R(w){this.type=w}R.prototype.visit=function(w){let j,ee,Ee;if(w(this))return 1;for(j=q(this),ee=0,Ee=j.length;ee<Ee;++ee)if(j[ee].visit(w))return 1};function q(w){switch(w.type){case o:return w.elements;case a:case p:return[w.left,w.right];case l:return[w.callee].concat(w.arguments);case f:return[w.test,w.consequent,w.alternate];case _:return[w.object,w.property];case E:return w.properties;case i:return[w.key,w.value];case O:return[w.argument];case s:case r:case t:default:return[]}}var z,L,B,P,G,ue=1,I=2,J=3,he=4,ve=5,Ve=6,ot=7,lt=8,et=9;z={},z[ue]="Boolean",z[I]="<end>",z[J]="Identifier",z[he]="Keyword",z[ve]="Null",z[Ve]="Numeric",z[ot]="Punctuator",z[lt]="String",z[et]="RegularExpression";var bt="ArrayExpression",Pt="BinaryExpression",$e="CallExpression",te="ConditionalExpression",Ze="Identifier",ye="Literal",Le="LogicalExpression",Ce="MemberExpression",pe="ObjectExpression",Je="Property",ut="UnaryExpression",Ht="Unexpected token %0",Ct="Unexpected number",xn="Unexpected string",Tt="Unexpected identifier",Ot="Unexpected reserved word",rn="Unexpected end of input",St="Invalid regular expression",_e="Invalid regular expression: missing /",ke="Octal literals are not allowed in strict mode.",Se="Duplicate data property in object literal not allowed in strict mode",ce="ILLEGAL",tt="Disabled.",Ie=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),re=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Ne(w,j){if(!w)throw new Error("ASSERT: "+j)}function ct(w){return w>=48&&w<=57}function _t(w){return"0123456789abcdefABCDEF".indexOf(w)>=0}function Lt(w){return"01234567".indexOf(w)>=0}function Yt(w){return w===32||w===9||w===11||w===12||w===160||w>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(w)>=0}function Gt(w){return w===10||w===13||w===8232||w===8233}function fn(w){return w===36||w===95||w>=65&&w<=90||w>=97&&w<=122||w===92||w>=128&&Ie.test(String.fromCharCode(w))}function gn(w){return w===36||w===95||w>=65&&w<=90||w>=97&&w<=122||w>=48&&w<=57||w===92||w>=128&&re.test(String.fromCharCode(w))}let yn={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function It(){for(;B<P;){let w=L.charCodeAt(B);if(Yt(w)||Gt(w))++B;else break}}function un(w){var j,ee,Ee,dt=0;for(ee=w==="u"?4:2,j=0;j<ee;++j)B<P&&_t(L[B])?(Ee=L[B++],dt=dt*16+"0123456789abcdef".indexOf(Ee.toLowerCase())):Ue({},Ht,ce);return String.fromCharCode(dt)}function Mn(){var w,j,ee,Ee;for(w=L[B],j=0,w==="}"&&Ue({},Ht,ce);B<P&&(w=L[B++],!!_t(w));)j=j*16+"0123456789abcdef".indexOf(w.toLowerCase());return(j>1114111||w!=="}")&&Ue({},Ht,ce),j<=65535?String.fromCharCode(j):(ee=(j-65536>>10)+55296,Ee=(j-65536&1023)+56320,String.fromCharCode(ee,Ee))}function tr(){var w,j;for(w=L.charCodeAt(B++),j=String.fromCharCode(w),w===92&&(L.charCodeAt(B)!==117&&Ue({},Ht,ce),++B,w=un("u"),(!w||w==="\\"||!fn(w.charCodeAt(0)))&&Ue({},Ht,ce),j=w);B<P&&(w=L.charCodeAt(B),!!gn(w));)++B,j+=String.fromCharCode(w),w===92&&(j=j.substr(0,j.length-1),L.charCodeAt(B)!==117&&Ue({},Ht,ce),++B,w=un("u"),(!w||w==="\\"||!gn(w.charCodeAt(0)))&&Ue({},Ht,ce),j+=w);return j}function Rn(){var w,j;for(w=B++;B<P;){if(j=L.charCodeAt(B),j===92)return B=w,tr();if(gn(j))++B;else break}return L.slice(w,B)}function Re(){var w,j,ee;return w=B,j=L.charCodeAt(B)===92?tr():Rn(),j.length===1?ee=J:yn.hasOwnProperty(j)?ee=he:j==="null"?ee=ve:j==="true"||j==="false"?ee=ue:ee=J,{type:ee,value:j,start:w,end:B}}function He(){var w=B,j=L.charCodeAt(B),ee,Ee=L[B],dt,Ft,Zt;switch(j){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++B,{type:ot,value:String.fromCharCode(j),start:w,end:B};default:if(ee=L.charCodeAt(B+1),ee===61)switch(j){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return B+=2,{type:ot,value:String.fromCharCode(j)+String.fromCharCode(ee),start:w,end:B};case 33:case 61:return B+=2,L.charCodeAt(B)===61&&++B,{type:ot,value:L.slice(w,B),start:w,end:B}}}if(Zt=L.substr(B,4),Zt===">>>=")return B+=4,{type:ot,value:Zt,start:w,end:B};if(Ft=Zt.substr(0,3),Ft===">>>"||Ft==="<<="||Ft===">>=")return B+=3,{type:ot,value:Ft,start:w,end:B};if(dt=Ft.substr(0,2),Ee===dt[1]&&"+-<>&|".indexOf(Ee)>=0||dt==="=>")return B+=2,{type:ot,value:dt,start:w,end:B};if(dt==="//"&&Ue({},Ht,ce),"<>=!+-*%&|^/".indexOf(Ee)>=0)return++B,{type:ot,value:Ee,start:w,end:B};Ue({},Ht,ce)}function De(w){let j="";for(;B<P&&_t(L[B]);)j+=L[B++];return j.length===0&&Ue({},Ht,ce),fn(L.charCodeAt(B))&&Ue({},Ht,ce),{type:Ve,value:parseInt("0x"+j,16),start:w,end:B}}function Bt(w){let j="0"+L[B++];for(;B<P&&Lt(L[B]);)j+=L[B++];return(fn(L.charCodeAt(B))||ct(L.charCodeAt(B)))&&Ue({},Ht,ce),{type:Ve,value:parseInt(j,8),octal:!0,start:w,end:B}}function pt(){var w,j,ee;if(ee=L[B],Ne(ct(ee.charCodeAt(0))||ee===".","Numeric literal must start with a decimal digit or a decimal point"),j=B,w="",ee!=="."){if(w=L[B++],ee=L[B],w==="0"){if(ee==="x"||ee==="X")return++B,De(j);if(Lt(ee))return Bt(j);ee&&ct(ee.charCodeAt(0))&&Ue({},Ht,ce)}for(;ct(L.charCodeAt(B));)w+=L[B++];ee=L[B]}if(ee==="."){for(w+=L[B++];ct(L.charCodeAt(B));)w+=L[B++];ee=L[B]}if(ee==="e"||ee==="E")if(w+=L[B++],ee=L[B],(ee==="+"||ee==="-")&&(w+=L[B++]),ct(L.charCodeAt(B)))for(;ct(L.charCodeAt(B));)w+=L[B++];else Ue({},Ht,ce);return fn(L.charCodeAt(B))&&Ue({},Ht,ce),{type:Ve,value:parseFloat(w),start:j,end:B}}function mt(){var w="",j,ee,Ee,dt,Ft=!1;for(j=L[B],Ne(j==="'"||j==='"',"String literal must starts with a quote"),ee=B,++B;B<P;)if(Ee=L[B++],Ee===j){j="";break}else if(Ee==="\\")if(Ee=L[B++],!Ee||!Gt(Ee.charCodeAt(0)))switch(Ee){case"u":case"x":L[B]==="{"?(++B,w+=Mn()):w+=un(Ee);break;case"n":w+=`
`;break;case"r":w+="\r";break;case"t":w+="	";break;case"b":w+="\b";break;case"f":w+="\f";break;case"v":w+="\v";break;default:Lt(Ee)?(dt="01234567".indexOf(Ee),dt!==0&&(Ft=!0),B<P&&Lt(L[B])&&(Ft=!0,dt=dt*8+"01234567".indexOf(L[B++]),"0123".indexOf(Ee)>=0&&B<P&&Lt(L[B])&&(dt=dt*8+"01234567".indexOf(L[B++]))),w+=String.fromCharCode(dt)):w+=Ee;break}else Ee==="\r"&&L[B]===`
`&&++B;else{if(Gt(Ee.charCodeAt(0)))break;w+=Ee}return j!==""&&Ue({},Ht,ce),{type:lt,value:w,octal:Ft,start:ee,end:B}}function nn(w,j){let ee=w;j.indexOf("u")>=0&&(ee=ee.replace(/\\u\{([0-9a-fA-F]+)\}/g,(Ee,dt)=>{if(parseInt(dt,16)<=1114111)return"x";Ue({},St)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(ee)}catch{Ue({},St)}try{return new RegExp(w,j)}catch{return null}}function Qt(){var w,j,ee,Ee,dt;for(w=L[B],Ne(w==="/","Regular expression literal must start with a slash"),j=L[B++],ee=!1,Ee=!1;B<P;)if(w=L[B++],j+=w,w==="\\")w=L[B++],Gt(w.charCodeAt(0))&&Ue({},_e),j+=w;else if(Gt(w.charCodeAt(0)))Ue({},_e);else if(ee)w==="]"&&(ee=!1);else if(w==="/"){Ee=!0;break}else w==="["&&(ee=!0);return Ee||Ue({},_e),dt=j.substr(1,j.length-2),{value:dt,literal:j}}function Fn(){var w,j,ee;for(j="",ee="";B<P&&(w=L[B],!!gn(w.charCodeAt(0)));)++B,w==="\\"&&B<P?Ue({},Ht,ce):(ee+=w,j+=w);return ee.search(/[^gimuy]/g)>=0&&Ue({},St,ee),{value:ee,literal:j}}function Wn(){var w,j,ee,Ee;return G=null,It(),w=B,j=Qt(),ee=Fn(),Ee=nn(j.value,ee.value),{literal:j.literal+ee.literal,value:Ee,regex:{pattern:j.value,flags:ee.value},start:w,end:B}}function Zn(w){return w.type===J||w.type===he||w.type===ue||w.type===ve}function Nn(){if(It(),B>=P)return{type:I,start:B,end:B};let w=L.charCodeAt(B);return fn(w)?Re():w===40||w===41||w===59?He():w===39||w===34?mt():w===46?ct(L.charCodeAt(B+1))?pt():He():ct(w)?pt():He()}function nr(){let w=G;return B=w.end,G=Nn(),B=w.end,w}function Ke(){let w=B;G=Nn(),B=w}function yt(w){let j=new R(bt);return j.elements=w,j}function oe(w,j,ee){let Ee=new R(w==="||"||w==="&&"?Le:Pt);return Ee.operator=w,Ee.left=j,Ee.right=ee,Ee}function je(w,j){let ee=new R($e);return ee.callee=w,ee.arguments=j,ee}function nt(w,j,ee){let Ee=new R(te);return Ee.test=w,Ee.consequent=j,Ee.alternate=ee,Ee}function Rt(w){let j=new R(Ze);return j.name=w,j}function hn(w){let j=new R(ye);return j.value=w.value,j.raw=L.slice(w.start,w.end),w.regex&&(j.raw==="//"&&(j.raw="/(?:)/"),j.regex=w.regex),j}function an(w,j,ee){let Ee=new R(Ce);return Ee.computed=w==="[",Ee.object=j,Ee.property=ee,Ee.computed||(ee.member=!0),Ee}function ft(w){let j=new R(pe);return j.properties=w,j}function ie(w,j,ee){let Ee=new R(Je);return Ee.key=j,Ee.value=ee,Ee.kind=w,Ee}function Te(w,j){let ee=new R(ut);return ee.operator=w,ee.argument=j,ee.prefix=!0,ee}function Ue(w,j){var ee,Ee=Array.prototype.slice.call(arguments,2),dt=j.replace(/%(\d)/g,(Ft,Zt)=>(Ne(Zt<Ee.length,"Message reference must be in range"),Ee[Zt]));throw ee=new Error(dt),ee.index=B,ee.description=dt,ee}function xt(w){w.type===I&&Ue(w,rn),w.type===Ve&&Ue(w,Ct),w.type===lt&&Ue(w,xn),w.type===J&&Ue(w,Tt),w.type===he&&Ue(w,Ot),Ue(w,Ht,w.value)}function Et(w){let j=nr();(j.type!==ot||j.value!==w)&&xt(j)}function Nt(w){return G.type===ot&&G.value===w}function ne(w){return G.type===he&&G.value===w}function we(){let w=[];for(B=G.start,Et("[");!Nt("]");)Nt(",")?(nr(),w.push(null)):(w.push(K()),Nt("]")||Et(","));return nr(),yt(w)}function Qe(){B=G.start;let w=nr();return w.type===lt||w.type===Ve?(w.octal&&Ue(w,ke),hn(w)):Rt(w.value)}function it(){var w,j,ee,Ee;if(B=G.start,w=G,w.type===J)return ee=Qe(),Et(":"),Ee=K(),ie("init",ee,Ee);if(w.type===I||w.type===ot)xt(w);else return j=Qe(),Et(":"),Ee=K(),ie("init",j,Ee)}function Ut(){var w=[],j,ee,Ee,dt={},Ft=String;for(B=G.start,Et("{");!Nt("}");)j=it(),j.key.type===Ze?ee=j.key.name:ee=Ft(j.key.value),Ee="$"+ee,Object.prototype.hasOwnProperty.call(dt,Ee)?Ue({},Se):dt[Ee]=!0,w.push(j),Nt("}")||Et(",");return Et("}"),ft(w)}function sn(){Et("(");let w=ae();return Et(")"),w}let Cn={if:1};function En(){var w,j,ee;if(Nt("("))return sn();if(Nt("["))return we();if(Nt("{"))return Ut();if(w=G.type,B=G.start,w===J||Cn[G.value])ee=Rt(nr().value);else if(w===lt||w===Ve)G.octal&&Ue(G,ke),ee=hn(nr());else{if(w===he)throw new Error(tt);w===ue?(j=nr(),j.value=j.value==="true",ee=hn(j)):w===ve?(j=nr(),j.value=null,ee=hn(j)):Nt("/")||Nt("/=")?(ee=hn(Wn()),Ke()):xt(nr())}return ee}function vn(){let w=[];if(Et("("),!Nt(")"))for(;B<P&&(w.push(K()),!Nt(")"));)Et(",");return Et(")"),w}function zn(){B=G.start;let w=nr();return Zn(w)||xt(w),Rt(w.value)}function Oe(){return Et("."),zn()}function ze(){Et("[");let w=ae();return Et("]"),w}function Dt(){var w,j,ee;for(w=En();;)if(Nt("."))ee=Oe(),w=an(".",w,ee);else if(Nt("("))j=vn(),w=je(w,j);else if(Nt("["))ee=ze(),w=an("[",w,ee);else break;return w}function N(){let w=Dt();if(G.type===ot&&(Nt("++")||Nt("--")))throw new Error(tt);return w}function V(){var w,j;if(G.type!==ot&&G.type!==he)j=N();else{if(Nt("++")||Nt("--"))throw new Error(tt);if(Nt("+")||Nt("-")||Nt("~")||Nt("!"))w=nr(),j=V(),j=Te(w.value,j);else{if(ne("delete")||ne("void")||ne("typeof"))throw new Error(tt);j=N()}}return j}function be(w){let j=0;if(w.type!==ot&&w.type!==he)return 0;switch(w.value){case"||":j=1;break;case"&&":j=2;break;case"|":j=3;break;case"^":j=4;break;case"&":j=5;break;case"==":case"!=":case"===":case"!==":j=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":j=7;break;case"<<":case">>":case">>>":j=8;break;case"+":case"-":j=9;break;case"*":case"/":case"%":j=11;break}return j}function xe(){var w,j,ee,Ee,dt,Ft,Zt,Xt,mn,qn;if(w=G,mn=V(),Ee=G,dt=be(Ee),dt===0)return mn;for(Ee.prec=dt,nr(),j=[w,G],Zt=V(),Ft=[mn,Ee,Zt];(dt=be(G))>0;){for(;Ft.length>2&&dt<=Ft[Ft.length-2].prec;)Zt=Ft.pop(),Xt=Ft.pop().value,mn=Ft.pop(),j.pop(),ee=oe(Xt,mn,Zt),Ft.push(ee);Ee=nr(),Ee.prec=dt,Ft.push(Ee),j.push(G),ee=V(),Ft.push(ee)}for(qn=Ft.length-1,ee=Ft[qn],j.pop();qn>1;)j.pop(),ee=oe(Ft[qn-1].value,Ft[qn-2],ee),qn-=2;return ee}function K(){var w,j,ee;return w=xe(),Nt("?")&&(nr(),j=K(),Et(":"),ee=K(),w=nt(w,j,ee)),w}function ae(){let w=K();if(Nt(","))throw new Error(tt);return w}function fe(w){L=w,B=0,P=L.length,G=null,Ke();let j=ae();if(G.type!==I)throw new Error("Unexpect token after expression.");return j}var Ge={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Mt(w){function j(Zt,Xt,mn,qn){let Un=w(Xt[0]);return mn&&(Un=mn+"("+Un+")",mn.lastIndexOf("new ",0)===0&&(Un="("+Un+")")),Un+"."+Zt+(qn<0?"":qn===0?"()":"("+Xt.slice(1).map(w).join(",")+")")}function ee(Zt,Xt,mn){return qn=>j(Zt,qn,Xt,mn)}let Ee="new Date",dt="String",Ft="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(Zt){Zt.length<3&&e.error("Missing arguments to clamp function."),Zt.length>3&&e.error("Too many arguments to clamp function.");let Xt=Zt.map(w);return"Math.max("+Xt[1]+", Math.min("+Xt[2]+","+Xt[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:Ee,date:ee("getDate",Ee,0),day:ee("getDay",Ee,0),year:ee("getFullYear",Ee,0),month:ee("getMonth",Ee,0),hours:ee("getHours",Ee,0),minutes:ee("getMinutes",Ee,0),seconds:ee("getSeconds",Ee,0),milliseconds:ee("getMilliseconds",Ee,0),time:ee("getTime",Ee,0),timezoneoffset:ee("getTimezoneOffset",Ee,0),utcdate:ee("getUTCDate",Ee,0),utcday:ee("getUTCDay",Ee,0),utcyear:ee("getUTCFullYear",Ee,0),utcmonth:ee("getUTCMonth",Ee,0),utchours:ee("getUTCHours",Ee,0),utcminutes:ee("getUTCMinutes",Ee,0),utcseconds:ee("getUTCSeconds",Ee,0),utcmilliseconds:ee("getUTCMilliseconds",Ee,0),length:ee("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:ee("toUpperCase",dt,0),lower:ee("toLowerCase",dt,0),substring:ee("substring",dt),split:ee("split",dt),trim:ee("trim",dt,0),regexp:Ft,test:ee("test",Ft),if:function(Zt){Zt.length<3&&e.error("Missing arguments to if function."),Zt.length>3&&e.error("Too many arguments to if function.");let Xt=Zt.map(w);return"("+Xt[0]+"?"+Xt[1]+":"+Xt[2]+")"}}}function At(w){let j=w&&w.length-1;return j&&(w[0]==='"'&&w[j]==='"'||w[0]==="'"&&w[j]==="'")?w.slice(1,-1):w}function dn(w){w=w||{};let j=w.allowed?e.toSet(w.allowed):{},ee=w.forbidden?e.toSet(w.forbidden):{},Ee=w.constants||Ge,dt=(w.functions||Mt)(Vn),Ft=w.globalvar,Zt=w.fieldvar,Xt=e.isFunction(Ft)?Ft:yr=>`${Ft}["${yr}"]`,mn={},qn={},Un=0;function Vn(yr){if(e.isString(yr))return yr;let Mr=Jr[yr.type];return Mr==null&&e.error("Unsupported type: "+yr.type),Mr(yr)}let Jr={Literal:yr=>yr.raw,Identifier:yr=>{let Mr=yr.name;return Un>0?Mr:e.hasOwnProperty(ee,Mr)?e.error("Illegal identifier: "+Mr):e.hasOwnProperty(Ee,Mr)?Ee[Mr]:e.hasOwnProperty(j,Mr)?Mr:(mn[Mr]=1,Xt(Mr))},MemberExpression:yr=>{let Mr=!yr.computed,xi=Vn(yr.object);Mr&&(Un+=1);let ai=Vn(yr.property);return xi===Zt&&(qn[At(ai)]=1),Mr&&(Un-=1),xi+(Mr?"."+ai:"["+ai+"]")},CallExpression:yr=>{yr.callee.type!=="Identifier"&&e.error("Illegal callee type: "+yr.callee.type);let Mr=yr.callee.name,xi=yr.arguments,ai=e.hasOwnProperty(dt,Mr)&&dt[Mr];return ai||e.error("Unrecognized function: "+Mr),e.isFunction(ai)?ai(xi):ai+"("+xi.map(Vn).join(",")+")"},ArrayExpression:yr=>"["+yr.elements.map(Vn).join(",")+"]",BinaryExpression:yr=>"("+Vn(yr.left)+" "+yr.operator+" "+Vn(yr.right)+")",UnaryExpression:yr=>"("+yr.operator+Vn(yr.argument)+")",ConditionalExpression:yr=>"("+Vn(yr.test)+"?"+Vn(yr.consequent)+":"+Vn(yr.alternate)+")",LogicalExpression:yr=>"("+Vn(yr.left)+yr.operator+Vn(yr.right)+")",ObjectExpression:yr=>"{"+yr.properties.map(Vn).join(",")+"}",Property:yr=>{Un+=1;let Mr=Vn(yr.key);return Un-=1,Mr+":"+Vn(yr.value)}};function Vr(yr){let Mr={code:Vn(yr),globals:Object.keys(mn),fields:Object.keys(qn)};return mn={},qn={},Mr}return Vr.functions=dt,Vr.constants=Ee,Vr}n.ASTNode=R,n.ArrayExpression=o,n.BinaryExpression=a,n.CallExpression=l,n.ConditionalExpression=f,n.Identifier=s,n.Literal=r,n.LogicalExpression=p,n.MemberExpression=_,n.ObjectExpression=E,n.Property=i,n.RawCode=t,n.UnaryExpression=O,n.codegenExpression=dn,n.constants=Ge,n.functions=Mt,n.parseExpression=fe,Object.defineProperty(n,"__esModule",{value:!0})})});var CDe=Ae((nV,wDe)=>{m();(function(n,e){typeof nV=="object"&&typeof wDe!="undefined"?e(nV,Au(),tV()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(nV,function(n,e,t){"use strict";function r(Je,ut){return Je==null||ut==null?NaN:Je<ut?-1:Je>ut?1:Je>=ut?0:NaN}function i(Je){let ut=Je,Ht=Je,Ct=Je;Je.length!==2&&(ut=(rn,St)=>Je(rn)-St,Ht=r,Ct=(rn,St)=>r(Je(rn),St));function xn(rn,St,_e=0,ke=rn.length){if(_e<ke){if(Ht(St,St)!==0)return ke;do{let Se=_e+ke>>>1;Ct(rn[Se],St)<0?_e=Se+1:ke=Se}while(_e<ke)}return _e}function Tt(rn,St,_e=0,ke=rn.length){if(_e<ke){if(Ht(St,St)!==0)return ke;do{let Se=_e+ke>>>1;Ct(rn[Se],St)<=0?_e=Se+1:ke=Se}while(_e<ke)}return _e}function Ot(rn,St,_e=0,ke=rn.length){let Se=xn(rn,St,_e,ke-1);return Se>_e&&ut(rn[Se-1],St)>-ut(rn[Se],St)?Se-1:Se}return{left:xn,center:Ot,right:Tt}}class s extends Set{constructor(ut,Ht=f){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ht}}),ut!=null)for(let Ct of ut)this.add(Ct)}has(ut){return super.has(o(this,ut))}add(ut){return super.add(a(this,ut))}delete(ut){return super.delete(l(this,ut))}}function o({_intern:Je,_key:ut},Ht){let Ct=ut(Ht);return Je.has(Ct)?Je.get(Ct):Ht}function a({_intern:Je,_key:ut},Ht){let Ct=ut(Ht);return Je.has(Ct)?Je.get(Ct):(Je.set(Ct,Ht),Ht)}function l({_intern:Je,_key:ut},Ht){let Ct=ut(Ht);return Je.has(Ct)&&(Ht=Je.get(Ct),Je.delete(Ct)),Ht}function f(Je){return Je!==null&&typeof Je=="object"?Je.valueOf():Je}function p(Je,...ut){Je=new s(Je),ut=ut.map(_);e:for(let Ht of Je)for(let Ct of ut)if(!Ct.has(Ht)){Je.delete(Ht);continue e}return Je}function _(Je){return Je instanceof s?Je:new s(Je)}function E(...Je){let ut=new s;for(let Ht of Je)for(let Ct of Ht)ut.add(Ct);return ut}let O="intersect",R="union",q="vlMulti",z="vlPoint",L="or",B="and",P="_vgsid_",G=e.field(P),ue="E",I="R",J="R-E",he="R-LE",ve="R-RE",Ve="index:unit";function ot(Je,ut){for(var Ht=ut.fields,Ct=ut.values,xn=Ht.length,Tt=0,Ot,rn;Tt<xn;++Tt)if(rn=Ht[Tt],rn.getter=e.field.getter||e.field(rn.field),Ot=rn.getter(Je),e.isDate(Ot)&&(Ot=e.toNumber(Ot)),e.isDate(Ct[Tt])&&(Ct[Tt]=e.toNumber(Ct[Tt])),e.isDate(Ct[Tt][0])&&(Ct[Tt]=Ct[Tt].map(e.toNumber)),rn.type===ue){if(e.isArray(Ct[Tt])?Ct[Tt].indexOf(Ot)<0:Ot!==Ct[Tt])return!1}else if(rn.type===I){if(!e.inrange(Ot,Ct[Tt]))return!1}else if(rn.type===ve){if(!e.inrange(Ot,Ct[Tt],!0,!1))return!1}else if(rn.type===J){if(!e.inrange(Ot,Ct[Tt],!1,!1))return!1}else if(rn.type===he&&!e.inrange(Ot,Ct[Tt],!1,!0))return!1;return!0}function lt(Je,ut,Ht){for(var Ct=this.context.data[Je],xn=Ct?Ct.values.value:[],Tt=Ct?Ct[Ve]&&Ct[Ve].value:void 0,Ot=Ht===O,rn=xn.length,St=0,_e,ke,Se,ce,tt;St<rn;++St)if(_e=xn[St],Tt&&Ot){if(ke=ke||{},Se=ke[ce=_e.unit]||0,Se===-1)continue;if(tt=ot(ut,_e),ke[ce]=tt?-1:++Se,tt&&Tt.size===1)return!0;if(!tt&&Se===Tt.get(ce).count)return!1}else if(tt=ot(ut,_e),Ot^tt)return tt;return rn&&Ot}let et=i(G),bt=et.left,Pt=et.right;function $e(Je,ut,Ht){let Ct=this.context.data[Je],xn=Ct?Ct.values.value:[],Tt=Ct?Ct[Ve]&&Ct[Ve].value:void 0,Ot=Ht===O,rn=G(ut),St=bt(xn,rn);if(St===xn.length||G(xn[St])!==rn)return!1;if(Tt&&Ot){if(Tt.size===1)return!0;if(Pt(xn,rn)-St<Tt.size)return!1}return!0}function te(Je,ut){return Je.map(Ht=>e.extend(ut.fields?{values:ut.fields.map(Ct=>(Ct.getter||(Ct.getter=e.field(Ct.field)))(Ht.datum))}:{[P]:G(Ht.datum)},ut))}function Ze(Je,ut,Ht,Ct){for(var xn=this.context.data[Je],Tt=xn?xn.values.value:[],Ot={},rn={},St={},_e,ke,Se,ce,tt,Ie,re,Ne,ct,_t,Lt=Tt.length,Yt=0,Gt,fn;Yt<Lt;++Yt)if(_e=Tt[Yt],ce=_e.unit,ke=_e.fields,Se=_e.values,ke&&Se){for(Gt=0,fn=ke.length;Gt<fn;++Gt)tt=ke[Gt],re=Ot[tt.field]||(Ot[tt.field]={}),Ne=re[ce]||(re[ce]=[]),St[tt.field]=ct=tt.type.charAt(0),_t=ye[`${ct}_union`],re[ce]=_t(Ne,e.array(Se[Gt]));Ht&&(Ne=rn[ce]||(rn[ce]=[]),Ne.push(e.array(Se).reduce((gn,yn,It)=>(gn[ke[It].field]=yn,gn),{})))}else tt=P,Ie=G(_e),re=Ot[tt]||(Ot[tt]={}),Ne=re[ce]||(re[ce]=[]),Ne.push(Ie),Ht&&(Ne=rn[ce]||(rn[ce]=[]),Ne.push({[P]:Ie}));if(ut=ut||R,Ot[P]?Ot[P]=ye[`${P}_${ut}`](...Object.values(Ot[P])):Object.keys(Ot).forEach(gn=>{Ot[gn]=Object.keys(Ot[gn]).map(yn=>Ot[gn][yn]).reduce((yn,It)=>yn===void 0?It:ye[`${St[gn]}_${ut}`](yn,It))}),Tt=Object.keys(rn),Ht&&Tt.length){let gn=Ct?z:q;Ot[gn]=ut===R?{[L]:Tt.reduce((yn,It)=>(yn.push(...rn[It]),yn),[])}:{[B]:Tt.map(yn=>({[L]:rn[yn]}))}}return Ot}var ye={[`${P}_union`]:E,[`${P}_intersect`]:p,E_union:function(Je,ut){if(!Je.length)return ut;for(var Ht=0,Ct=ut.length;Ht<Ct;++Ht)Je.indexOf(ut[Ht])<0&&Je.push(ut[Ht]);return Je},E_intersect:function(Je,ut){return Je.length?Je.filter(Ht=>ut.indexOf(Ht)>=0):ut},R_union:function(Je,ut){var Ht=e.toNumber(ut[0]),Ct=e.toNumber(ut[1]);return Ht>Ct&&(Ht=ut[1],Ct=ut[0]),Je.length?(Je[0]>Ht&&(Je[0]=Ht),Je[1]<Ct&&(Je[1]=Ct),Je):[Ht,Ct]},R_intersect:function(Je,ut){var Ht=e.toNumber(ut[0]),Ct=e.toNumber(ut[1]);return Ht>Ct&&(Ht=ut[1],Ct=ut[0]),Je.length?Ct<Je[0]||Je[1]<Ht?[]:(Je[0]<Ht&&(Je[0]=Ht),Je[1]>Ct&&(Je[1]=Ct),Je):[Ht,Ct]}};let Le=":",Ce="@";function pe(Je,ut,Ht,Ct){ut[0].type!==t.Literal&&e.error("First argument to selection functions must be a string literal.");let xn=ut[0].value,Tt=ut.length>=2&&e.peek(ut).value,Ot="unit",rn=Ce+Ot,St=Le+xn;Tt===O&&!e.hasOwnProperty(Ct,rn)&&(Ct[rn]=Ht.getData(xn).indataRef(Ht,Ot)),e.hasOwnProperty(Ct,St)||(Ct[St]=Ht.getData(xn).tuplesRef())}n.selectionIdTest=$e,n.selectionResolve=Ze,n.selectionTest=lt,n.selectionTuples=te,n.selectionVisitor=pe,Object.defineProperty(n,"__esModule",{value:!0})})});var iV=Ae((rV,ADe)=>{m();(function(n,e){typeof rV=="object"&&typeof ADe!="undefined"?e(rV,Au(),tV(),r0(),tE(),ZC(),CDe(),eE(),XC()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression","vega-dataflow","vega-scale","vega-scenegraph","vega-selections","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(rV,function(n,e,t,r,i,s,o,a,l){"use strict";function f(le){let at=this.context.data[le];return at?at.values.value:[]}function p(le,at,en){let Dn=this.context.data[le]["index:"+at],ir=Dn?Dn.value.get(en):void 0;return ir&&ir.count}function _(le,at){let en=this.context.dataflow,Dn=this.context.data[le],ir=Dn.input;return en.pulse(ir,en.changeset().remove(e.truthy).insert(at)),1}function E(le,at,en){if(le){let Dn=this.context.dataflow,ir=le.mark.source;Dn.pulse(ir,Dn.changeset().encode(le,at))}return en!==void 0?en:le}let O=le=>function(at,en){return this.context.dataflow.locale()[le](en)(at)},R=O("format"),q=O("timeFormat"),z=O("utcFormat"),L=O("timeParse"),B=O("utcParse"),P=new Date(2e3,0,1);function G(le,at,en){return!Number.isInteger(le)||!Number.isInteger(at)?"":(P.setYear(2e3),P.setMonth(le),P.setDate(at),q.call(this,P,en))}function ue(le){return G.call(this,le,1,"%B")}function I(le){return G.call(this,le,1,"%b")}function J(le){return G.call(this,0,2+le,"%A")}function he(le){return G.call(this,0,2+le,"%a")}let ve=":",Ve="@",ot="%",lt="$";function et(le,at,en,Dn){at[0].type!==t.Literal&&e.error("First argument to data functions must be a string literal.");let ir=at[0].value,vr=ve+ir;if(!e.hasOwnProperty(vr,Dn))try{Dn[vr]=en.getData(ir).tuplesRef()}catch{}}function bt(le,at,en,Dn){at[0].type!==t.Literal&&e.error("First argument to indata must be a string literal."),at[1].type!==t.Literal&&e.error("Second argument to indata must be a string literal.");let ir=at[0].value,vr=at[1].value,fr=Ve+vr;e.hasOwnProperty(fr,Dn)||(Dn[fr]=en.getData(ir).indataRef(en,vr))}function Pt(le,at,en,Dn){if(at[0].type===t.Literal)$e(en,Dn,at[0].value);else for(le in en.scales)$e(en,Dn,le)}function $e(le,at,en){let Dn=ot+en;if(!e.hasOwnProperty(at,Dn))try{at[Dn]=le.scaleRef(en)}catch{}}function te(le,at){let en;return e.isFunction(le)?le:e.isString(le)?(en=at.scales[le])&&en.value:void 0}function Ze(le,at,en){at.__bandwidth=ir=>ir&&ir.bandwidth?ir.bandwidth():0,en._bandwidth=Pt,en._range=Pt,en._scale=Pt;let Dn=ir=>"_["+(ir.type===t.Literal?e.stringValue(ot+ir.value):e.stringValue(ot)+"+"+le(ir))+"]";return{_bandwidth:ir=>`this.__bandwidth(${Dn(ir[0])})`,_range:ir=>`${Dn(ir[0])}.range()`,_scale:ir=>`${Dn(ir[0])}(${le(ir[1])})`}}class ye{constructor(){this._partials=new Float64Array(32),this._n=0}add(at){let en=this._partials,Dn=0;for(let ir=0;ir<this._n&&ir<32;ir++){let vr=en[ir],fr=at+vr,es=Math.abs(at)<Math.abs(vr)?at-(fr-vr):vr-(fr-at);es&&(en[Dn++]=es),at=fr}return en[Dn]=at,this._n=Dn+1,this}valueOf(){let at=this._partials,en=this._n,Dn,ir,vr,fr=0;if(en>0){for(fr=at[--en];en>0&&(Dn=fr,ir=at[--en],fr=Dn+ir,vr=ir-(fr-Dn),!vr););en>0&&(vr<0&&at[en-1]<0||vr>0&&at[en-1]>0)&&(ir=vr*2,Dn=fr+ir,ir==Dn-fr&&(fr=Dn))}return fr}}function Le(le,at,en){le=+le,at=+at,en=(ir=arguments.length)<2?(at=le,le=0,1):ir<3?1:+en;for(var Dn=-1,ir=Math.max(0,Math.ceil((at-le)/en))|0,vr=new Array(ir);++Dn<ir;)vr[Dn]=le+Dn*en;return vr}var Ce=1e-6,pe=1e-12,Je=Math.PI,ut=Je/2,Ht=Je/4,Ct=Je*2,xn=180/Je,Tt=Je/180,Ot=Math.abs,rn=Math.atan2,St=Math.cos,_e=Math.hypot,ke=Math.sin,Se=Math.sqrt;function ce(le){return le>1?ut:le<-1?-ut:Math.asin(le)}function tt(){}function Ie(le,at){le&&Ne.hasOwnProperty(le.type)&&Ne[le.type](le,at)}var re={Feature:function(le,at){Ie(le.geometry,at)},FeatureCollection:function(le,at){for(var en=le.features,Dn=-1,ir=en.length;++Dn<ir;)Ie(en[Dn].geometry,at)}},Ne={Sphere:function(le,at){at.sphere()},Point:function(le,at){le=le.coordinates,at.point(le[0],le[1],le[2])},MultiPoint:function(le,at){for(var en=le.coordinates,Dn=-1,ir=en.length;++Dn<ir;)le=en[Dn],at.point(le[0],le[1],le[2])},LineString:function(le,at){ct(le.coordinates,at,0)},MultiLineString:function(le,at){for(var en=le.coordinates,Dn=-1,ir=en.length;++Dn<ir;)ct(en[Dn],at,0)},Polygon:function(le,at){_t(le.coordinates,at)},MultiPolygon:function(le,at){for(var en=le.coordinates,Dn=-1,ir=en.length;++Dn<ir;)_t(en[Dn],at)},GeometryCollection:function(le,at){for(var en=le.geometries,Dn=-1,ir=en.length;++Dn<ir;)Ie(en[Dn],at)}};function ct(le,at,en){var Dn=-1,ir=le.length-en,vr;for(at.lineStart();++Dn<ir;)vr=le[Dn],at.point(vr[0],vr[1],vr[2]);at.lineEnd()}function _t(le,at){var en=-1,Dn=le.length;for(at.polygonStart();++en<Dn;)ct(le[en],at,1);at.polygonEnd()}function Lt(le,at){le&&re.hasOwnProperty(le.type)?re[le.type](le,at):Ie(le,at)}var Yt=new ye,Gt=new ye,fn,gn,yn,It,un,Mn={point:tt,lineStart:tt,lineEnd:tt,polygonStart:function(){Yt=new ye,Mn.lineStart=tr,Mn.lineEnd=Rn},polygonEnd:function(){var le=+Yt;Gt.add(le<0?Ct+le:le),this.lineStart=this.lineEnd=this.point=tt},sphere:function(){Gt.add(Ct)}};function tr(){Mn.point=Re}function Rn(){He(fn,gn)}function Re(le,at){Mn.point=He,fn=le,gn=at,le*=Tt,at*=Tt,yn=le,It=St(at=at/2+Ht),un=ke(at)}function He(le,at){le*=Tt,at*=Tt,at=at/2+Ht;var en=le-yn,Dn=en>=0?1:-1,ir=Dn*en,vr=St(at),fr=ke(at),es=un*fr,_s=It*vr+es*St(ir),Ns=es*Dn*ke(ir);Yt.add(rn(Ns,_s)),yn=le,It=vr,un=fr}function De(le){return Gt=new ye,Lt(le,Mn),Gt*2}function Bt(le){return[rn(le[1],le[0]),ce(le[2])]}function pt(le){var at=le[0],en=le[1],Dn=St(en);return[Dn*St(at),Dn*ke(at),ke(en)]}function mt(le,at){return[le[1]*at[2]-le[2]*at[1],le[2]*at[0]-le[0]*at[2],le[0]*at[1]-le[1]*at[0]]}function nn(le){var at=Se(le[0]*le[0]+le[1]*le[1]+le[2]*le[2]);le[0]/=at,le[1]/=at,le[2]/=at}var Qt,Fn,Wn,Zn,Nn,nr,Ke,yt,oe,je,nt,Rt={point:hn,lineStart:ft,lineEnd:ie,polygonStart:function(){Rt.point=Te,Rt.lineStart=Ue,Rt.lineEnd=xt,oe=new ye,Mn.polygonStart()},polygonEnd:function(){Mn.polygonEnd(),Rt.point=hn,Rt.lineStart=ft,Rt.lineEnd=ie,Yt<0?(Qt=-(Wn=180),Fn=-(Zn=90)):oe>Ce?Zn=90:oe<-Ce&&(Fn=-90),nt[0]=Qt,nt[1]=Wn},sphere:function(){Qt=-(Wn=180),Fn=-(Zn=90)}};function hn(le,at){je.push(nt=[Qt=le,Wn=le]),at<Fn&&(Fn=at),at>Zn&&(Zn=at)}function an(le,at){var en=pt([le*Tt,at*Tt]);if(yt){var Dn=mt(yt,en),ir=[Dn[1],-Dn[0],0],vr=mt(ir,Dn);nn(vr),vr=Bt(vr);var fr=le-Nn,es=fr>0?1:-1,_s=vr[0]*xn*es,Ns,so=Ot(fr)>180;so^(es*Nn<_s&&_s<es*le)?(Ns=vr[1]*xn,Ns>Zn&&(Zn=Ns)):(_s=(_s+360)%360-180,so^(es*Nn<_s&&_s<es*le)?(Ns=-vr[1]*xn,Ns<Fn&&(Fn=Ns)):(at<Fn&&(Fn=at),at>Zn&&(Zn=at))),so?le<Nn?Et(Qt,le)>Et(Qt,Wn)&&(Wn=le):Et(le,Wn)>Et(Qt,Wn)&&(Qt=le):Wn>=Qt?(le<Qt&&(Qt=le),le>Wn&&(Wn=le)):le>Nn?Et(Qt,le)>Et(Qt,Wn)&&(Wn=le):Et(le,Wn)>Et(Qt,Wn)&&(Qt=le)}else je.push(nt=[Qt=le,Wn=le]);at<Fn&&(Fn=at),at>Zn&&(Zn=at),yt=en,Nn=le}function ft(){Rt.point=an}function ie(){nt[0]=Qt,nt[1]=Wn,Rt.point=hn,yt=null}function Te(le,at){if(yt){var en=le-Nn;oe.add(Ot(en)>180?en+(en>0?360:-360):en)}else nr=le,Ke=at;Mn.point(le,at),an(le,at)}function Ue(){Mn.lineStart()}function xt(){Te(nr,Ke),Mn.lineEnd(),Ot(oe)>Ce&&(Qt=-(Wn=180)),nt[0]=Qt,nt[1]=Wn,yt=null}function Et(le,at){return(at-=le)<0?at+360:at}function Nt(le,at){return le[0]-at[0]}function ne(le,at){return le[0]<=le[1]?le[0]<=at&&at<=le[1]:at<le[0]||le[1]<at}function we(le){var at,en,Dn,ir,vr,fr,es;if(Zn=Wn=-(Qt=Fn=1/0),je=[],Lt(le,Rt),en=je.length){for(je.sort(Nt),at=1,Dn=je[0],vr=[Dn];at<en;++at)ir=je[at],ne(Dn,ir[0])||ne(Dn,ir[1])?(Et(Dn[0],ir[1])>Et(Dn[0],Dn[1])&&(Dn[1]=ir[1]),Et(ir[0],Dn[1])>Et(Dn[0],Dn[1])&&(Dn[0]=ir[0])):vr.push(Dn=ir);for(fr=-1/0,en=vr.length-1,at=0,Dn=vr[en];at<=en;Dn=ir,++at)ir=vr[at],(es=Et(Dn[1],ir[0]))>fr&&(fr=es,Qt=ir[0],Wn=Dn[1])}return je=nt=null,Qt===1/0||Fn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qt,Fn],[Wn,Zn]]}var Qe,it,Ut,sn,Cn,En,vn,zn,Oe,ze,Dt,N,V,be,xe,K,ae={sphere:tt,point:fe,lineStart:Mt,lineEnd:w,polygonStart:function(){ae.lineStart=j,ae.lineEnd=ee},polygonEnd:function(){ae.lineStart=Mt,ae.lineEnd=w}};function fe(le,at){le*=Tt,at*=Tt;var en=St(at);Ge(en*St(le),en*ke(le),ke(at))}function Ge(le,at,en){++Qe,Ut+=(le-Ut)/Qe,sn+=(at-sn)/Qe,Cn+=(en-Cn)/Qe}function Mt(){ae.point=At}function At(le,at){le*=Tt,at*=Tt;var en=St(at);be=en*St(le),xe=en*ke(le),K=ke(at),ae.point=dn,Ge(be,xe,K)}function dn(le,at){le*=Tt,at*=Tt;var en=St(at),Dn=en*St(le),ir=en*ke(le),vr=ke(at),fr=rn(Se((fr=xe*vr-K*ir)*fr+(fr=K*Dn-be*vr)*fr+(fr=be*ir-xe*Dn)*fr),be*Dn+xe*ir+K*vr);it+=fr,En+=fr*(be+(be=Dn)),vn+=fr*(xe+(xe=ir)),zn+=fr*(K+(K=vr)),Ge(be,xe,K)}function w(){ae.point=fe}function j(){ae.point=Ee}function ee(){dt(N,V),ae.point=fe}function Ee(le,at){N=le,V=at,le*=Tt,at*=Tt,ae.point=dt;var en=St(at);be=en*St(le),xe=en*ke(le),K=ke(at),Ge(be,xe,K)}function dt(le,at){le*=Tt,at*=Tt;var en=St(at),Dn=en*St(le),ir=en*ke(le),vr=ke(at),fr=xe*vr-K*ir,es=K*Dn-be*vr,_s=be*ir-xe*Dn,Ns=_e(fr,es,_s),so=ce(Ns),Ja=Ns&&-so/Ns;Oe.add(Ja*fr),ze.add(Ja*es),Dt.add(Ja*_s),it+=so,En+=so*(be+(be=Dn)),vn+=so*(xe+(xe=ir)),zn+=so*(K+(K=vr)),Ge(be,xe,K)}function Ft(le){Qe=it=Ut=sn=Cn=En=vn=zn=0,Oe=new ye,ze=new ye,Dt=new ye,Lt(le,ae);var at=+Oe,en=+ze,Dn=+Dt,ir=_e(at,en,Dn);return ir<pe&&(at=En,en=vn,Dn=zn,it<Ce&&(at=Ut,en=sn,Dn=Cn),ir=_e(at,en,Dn),ir<pe)?[NaN,NaN]:[rn(en,at)*xn,ce(Dn/ir)*xn]}function Zt(le,at){return function(en,Dn,ir){if(en){let vr=te(en,(ir||this).context);return vr&&vr.path[le](Dn)}else return at(Dn)}}let Xt=Zt("area",De),mn=Zt("bounds",we),qn=Zt("centroid",Ft);function Un(le){let at=this.context.group,en=!1;if(at)for(;le;){if(le===at){en=!0;break}le=le.mark.group}return en}function Vn(le,at,en){try{le[at].apply(le,["EXPRESSION"].concat([].slice.call(en)))}catch(Dn){le.warn(Dn)}return en[en.length-1]}function Jr(){return Vn(this.context.dataflow,"warn",arguments)}function Vr(){return Vn(this.context.dataflow,"info",arguments)}function yr(){return Vn(this.context.dataflow,"debug",arguments)}function Mr(le,at,en){le.prototype=at.prototype=en,en.constructor=le}function xi(le,at){var en=Object.create(le.prototype);for(var Dn in at)en[Dn]=at[Dn];return en}function ai(){}var Xi=.7,Ss=1/Xi,ts="\\s*([+-]?\\d+)\\s*",wa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xl=/^#([0-9a-f]{3,8})$/,Oc=new RegExp("^rgb\\("+[ts,ts,ts]+"\\)$"),lu=new RegExp("^rgb\\("+[pa,pa,pa]+"\\)$"),cu=new RegExp("^rgba\\("+[ts,ts,ts,wa]+"\\)$"),Ju=new RegExp("^rgba\\("+[pa,pa,pa,wa]+"\\)$"),Fu=new RegExp("^hsl\\("+[wa,pa,pa]+"\\)$"),Rc=new RegExp("^hsla\\("+[wa,pa,pa,wa]+"\\)$"),ea={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mr(ai,Kt,{copy:function(le){return Object.assign(new this.constructor,this,le)},displayable:function(){return this.rgb().displayable()},hex:Xu,formatHex:Xu,formatHsl:ef,formatRgb:Ye,toString:Ye});function Xu(){return this.rgb().formatHex()}function ef(){return io(this).formatHsl()}function Ye(){return this.rgb().formatRgb()}function Kt(le){var at,en;return le=(le+"").trim().toLowerCase(),(at=xl.exec(le))?(en=at[1].length,at=parseInt(at[1],16),en===6?Bn(at):en===3?new Xr(at>>8&15|at>>4&240,at>>4&15|at&240,(at&15)<<4|at&15,1):en===8?Yn(at>>24&255,at>>16&255,at>>8&255,(at&255)/255):en===4?Yn(at>>12&15|at>>8&240,at>>8&15|at>>4&240,at>>4&15|at&240,((at&15)<<4|at&15)/255):null):(at=Oc.exec(le))?new Xr(at[1],at[2],at[3],1):(at=lu.exec(le))?new Xr(at[1]*255/100,at[2]*255/100,at[3]*255/100,1):(at=cu.exec(le))?Yn(at[1],at[2],at[3],at[4]):(at=Ju.exec(le))?Yn(at[1]*255/100,at[2]*255/100,at[3]*255/100,at[4]):(at=Fu.exec(le))?us(at[1],at[2]/100,at[3]/100,1):(at=Rc.exec(le))?us(at[1],at[2]/100,at[3]/100,at[4]):ea.hasOwnProperty(le)?Bn(ea[le]):le==="transparent"?new Xr(NaN,NaN,NaN,0):null}function Bn(le){return new Xr(le>>16&255,le>>8&255,le&255,1)}function Yn(le,at,en,Dn){return Dn<=0&&(le=at=en=NaN),new Xr(le,at,en,Dn)}function ri(le){return le instanceof ai||(le=Kt(le)),le?(le=le.rgb(),new Xr(le.r,le.g,le.b,le.opacity)):new Xr}function Br(le,at,en,Dn){return arguments.length===1?ri(le):new Xr(le,at,en,Dn??1)}function Xr(le,at,en,Dn){this.r=+le,this.g=+at,this.b=+en,this.opacity=+Dn}Mr(Xr,Br,xi(ai,{brighter:function(le){return le=le==null?Ss:Math.pow(Ss,le),new Xr(this.r*le,this.g*le,this.b*le,this.opacity)},darker:function(le){return le=le==null?Xi:Math.pow(Xi,le),new Xr(this.r*le,this.g*le,this.b*le,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cs,formatHex:Cs,formatRgb:co,toString:co}));function Cs(){return"#"+ro(this.r)+ro(this.g)+ro(this.b)}function co(){var le=this.opacity;return le=isNaN(le)?1:Math.max(0,Math.min(1,le)),(le===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(le===1?")":", "+le+")")}function ro(le){return le=Math.max(0,Math.min(255,Math.round(le)||0)),(le<16?"0":"")+le.toString(16)}function us(le,at,en,Dn){return Dn<=0?le=at=en=NaN:en<=0||en>=1?le=at=NaN:at<=0&&(le=NaN),new hi(le,at,en,Dn)}function io(le){if(le instanceof hi)return new hi(le.h,le.s,le.l,le.opacity);if(le instanceof ai||(le=Kt(le)),!le)return new hi;if(le instanceof hi)return le;le=le.rgb();var at=le.r/255,en=le.g/255,Dn=le.b/255,ir=Math.min(at,en,Dn),vr=Math.max(at,en,Dn),fr=NaN,es=vr-ir,_s=(vr+ir)/2;return es?(at===vr?fr=(en-Dn)/es+(en<Dn)*6:en===vr?fr=(Dn-at)/es+2:fr=(at-en)/es+4,es/=_s<.5?vr+ir:2-vr-ir,fr*=60):es=_s>0&&_s<1?0:fr,new hi(fr,es,_s,le.opacity)}function fo(le,at,en,Dn){return arguments.length===1?io(le):new hi(le,at,en,Dn??1)}function hi(le,at,en,Dn){this.h=+le,this.s=+at,this.l=+en,this.opacity=+Dn}Mr(hi,fo,xi(ai,{brighter:function(le){return le=le==null?Ss:Math.pow(Ss,le),new hi(this.h,this.s,this.l*le,this.opacity)},darker:function(le){return le=le==null?Xi:Math.pow(Xi,le),new hi(this.h,this.s,this.l*le,this.opacity)},rgb:function(){var le=this.h%360+(this.h<0)*360,at=isNaN(le)||isNaN(this.s)?0:this.s,en=this.l,Dn=en+(en<.5?en:1-en)*at,ir=2*en-Dn;return new Xr(Ei(le>=240?le-240:le+120,ir,Dn),Ei(le,ir,Dn),Ei(le<120?le+240:le-120,ir,Dn),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var le=this.opacity;return le=isNaN(le)?1:Math.max(0,Math.min(1,le)),(le===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(le===1?")":", "+le+")")}}));function Ei(le,at,en){return(le<60?at+(en-at)*le/60:le<180?en:le<240?at+(en-at)*(240-le)/60:at)*255}let Wi=Math.PI/180,Jo=180/Math.PI,fa=18,da=.96422,ho=1,ls=.82521,ps=4/29,Zi=6/29,fu=3*Zi*Zi,Ms=Zi*Zi*Zi;function ma(le){if(le instanceof Ri)return new Ri(le.l,le.a,le.b,le.opacity);if(le instanceof Oo)return Ao(le);le instanceof Xr||(le=ri(le));var at=Do(le.r),en=Do(le.g),Dn=Do(le.b),ir=Vo((.2225045*at+.7168786*en+.0606169*Dn)/ho),vr,fr;return at===en&&en===Dn?vr=fr=ir:(vr=Vo((.4360747*at+.3850649*en+.1430804*Dn)/da),fr=Vo((.0139322*at+.0971045*en+.7141733*Dn)/ls)),new Ri(116*ir-16,500*(vr-ir),200*(ir-fr),le.opacity)}function oa(le,at,en,Dn){return arguments.length===1?ma(le):new Ri(le,at,en,Dn??1)}function Ri(le,at,en,Dn){this.l=+le,this.a=+at,this.b=+en,this.opacity=+Dn}Mr(Ri,oa,xi(ai,{brighter:function(le){return new Ri(this.l+fa*(le??1),this.a,this.b,this.opacity)},darker:function(le){return new Ri(this.l-fa*(le??1),this.a,this.b,this.opacity)},rgb:function(){var le=(this.l+16)/116,at=isNaN(this.a)?le:le+this.a/500,en=isNaN(this.b)?le:le-this.b/200;return at=da*vs(at),le=ho*vs(le),en=ls*vs(en),new Xr(Ii(3.1338561*at-1.6168667*le-.4906146*en),Ii(-.9787684*at+1.9161415*le+.033454*en),Ii(.0719453*at-.2289914*le+1.4052427*en),this.opacity)}}));function Vo(le){return le>Ms?Math.pow(le,1/3):le/fu+ps}function vs(le){return le>Zi?le*le*le:fu*(le-ps)}function Ii(le){return 255*(le<=.0031308?12.92*le:1.055*Math.pow(le,1/2.4)-.055)}function Do(le){return(le/=255)<=.04045?le/12.92:Math.pow((le+.055)/1.055,2.4)}function Na(le){if(le instanceof Oo)return new Oo(le.h,le.c,le.l,le.opacity);if(le instanceof Ri||(le=ma(le)),le.a===0&&le.b===0)return new Oo(NaN,0<le.l&&le.l<100?0:NaN,le.l,le.opacity);var at=Math.atan2(le.b,le.a)*Jo;return new Oo(at<0?at+360:at,Math.sqrt(le.a*le.a+le.b*le.b),le.l,le.opacity)}function Ka(le,at,en,Dn){return arguments.length===1?Na(le):new Oo(le,at,en,Dn??1)}function Oo(le,at,en,Dn){this.h=+le,this.c=+at,this.l=+en,this.opacity=+Dn}function Ao(le){if(isNaN(le.h))return new Ri(le.l,0,0,le.opacity);var at=le.h*Wi;return new Ri(le.l,Math.cos(at)*le.c,Math.sin(at)*le.c,le.opacity)}Mr(Oo,Ka,xi(ai,{brighter:function(le){return new Oo(this.h,this.c,this.l+fa*(le??1),this.opacity)},darker:function(le){return new Oo(this.h,this.c,this.l-fa*(le??1),this.opacity)},rgb:function(){return Ao(this).rgb()}}));function qa(le){let at=le/255;return at<=.03928?at/12.92:Math.pow((at+.055)/1.055,2.4)}function du(le){let at=Br(le),en=qa(at.r),Dn=qa(at.g),ir=qa(at.b);return .2126*en+.7152*Dn+.0722*ir}function Ua(le,at){let en=du(le),Dn=du(at),ir=Math.max(en,Dn),vr=Math.min(en,Dn);return(ir+.05)/(vr+.05)}function aa(){let le=[].slice.call(arguments);return le.unshift({}),e.extend(...le)}function ua(le,at){return le===at||le!==le&&at!==at?!0:e.isArray(le)?e.isArray(at)&&le.length===at.length?gl(le,at):!1:e.isObject(le)&&e.isObject(at)?$l(le,at):!1}function gl(le,at){for(let en=0,Dn=le.length;en<Dn;++en)if(!ua(le[en],at[en]))return!1;return!0}function $l(le,at){for(let en in le)if(!ua(le[en],at[en]))return!1;return!0}function ta(le){return at=>$l(le,at)}function Zu(le,at,en,Dn,ir,vr){let fr=this.context.dataflow,es=this.context.data[le],_s=es.input,Ns=fr.stamp(),so=es.changes,Ja,rc;if(fr._trigger===!1||!(_s.value.length||at||Dn))return 0;if((!so||so.stamp<Ns)&&(es.changes=so=fr.changeset(),so.stamp=Ns,fr.runAfter(()=>{es.modified=!0,fr.pulse(_s,so).run()},!0,1)),en&&(Ja=en===!0?e.truthy:e.isArray(en)||r.isTuple(en)?en:ta(en),so.remove(Ja)),at&&so.insert(at),Dn&&(Ja=ta(Dn),_s.value.some(Ja)?so.remove(Ja):so.insert(Dn)),ir)for(rc in vr)so.modify(ir,rc,vr[rc]);return 1}function ui(le){let at=le.touches,en=at[0].clientX-at[1].clientX,Dn=at[0].clientY-at[1].clientY;return Math.sqrt(en*en+Dn*Dn)}function rs(le){let at=le.touches;return Math.atan2(at[0].clientY-at[1].clientY,at[0].clientX-at[1].clientX)}let cs={};function mr(le,at){let en=cs[at]||(cs[at]=e.field(at));return e.isArray(le)?le.map(en):en(le)}function is(le){return e.isArray(le)||ArrayBuffer.isView(le)?le:null}function Me(le){return is(le)||(e.isString(le)?le:null)}function gt(le,...at){return is(le).join(...at)}function Jt(le,...at){return Me(le).indexOf(...at)}function $t(le,...at){return Me(le).lastIndexOf(...at)}function pn(le,...at){return Me(le).slice(...at)}function Ln(le,at,en){return e.isFunction(en)&&e.error("Function argument passed to replace."),String(le).replace(at,en)}function Kn(le){return is(le).slice().reverse()}function $n(le,at,en){return i.bandSpace(le||0,at||0,en||0)}function br(le,at){let en=te(le,(at||this).context);return en&&en.bandwidth?en.bandwidth():0}function Cr(le,at){let en=te(le,(at||this).context);return en?en.copy():void 0}function Gn(le,at){let en=te(le,(at||this).context);return en?en.domain():[]}function ar(le,at,en){let Dn=te(le,(en||this).context);return Dn?e.isArray(at)?(Dn.invertRange||Dn.invert)(at):(Dn.invert||Dn.invertExtent)(at):void 0}function er(le,at){let en=te(le,(at||this).context);return en&&en.range?en.range():[]}function gr(le,at,en){let Dn=te(le,(en||this).context);return Dn?Dn(at):void 0}function Rr(le,at,en,Dn,ir){le=te(le,(ir||this).context);let vr=s.Gradient(at,en),fr=le.domain(),es=fr[0],_s=e.peek(fr),Ns=e.identity;return _s-es?Ns=i.scaleFraction(le,es,_s):le=(le.interpolator?i.scale("sequential")().interpolator(le.interpolator()):i.scale("linear")().interpolate(le.interpolate()).range(le.range())).domain([es=0,_s=1]),le.ticks&&(fr=le.ticks(+Dn||15),es!==fr[0]&&fr.unshift(es),_s!==e.peek(fr)&&fr.push(_s)),fr.forEach(so=>vr.stop(Ns(so),le(so))),vr}function di(le,at,en){let Dn=te(le,(en||this).context);return function(ir){return Dn?Dn.path.context(ir)(at):""}}function ni(le){let at=null;return function(en){return en?s.pathRender(en,at=at||s.pathParse(le)):le}}let pi=le=>le.data;function ii(le,at){let en=f.call(at,le);return en.root&&en.root.lookup||{}}function qr(le,at,en){let Dn=ii(le,this),ir=Dn[at],vr=Dn[en];return ir&&vr?ir.path(vr).map(pi):void 0}function Ir(le,at){let en=ii(le,this)[at];return en?en.ancestors().map(pi):void 0}let yi=()=>typeof window!="undefined"&&window||null;function gi(){let le=yi();return le?le.screen:{}}function os(){let le=yi();return le?[le.innerWidth,le.innerHeight]:[void 0,void 0]}function xs(){let le=this.context.dataflow,at=le.container&&le.container();return at?[at.clientWidth,at.clientHeight]:[void 0,void 0]}function vi(le,at,en){if(!le)return[];let[Dn,ir]=le,vr=new s.Bounds().set(Dn[0],Dn[1],ir[0],ir[1]),fr=en||this.context.dataflow.scenegraph().root;return s.intersect(fr,vr,Ps(at))}function Ps(le){let at=null;if(le){let en=e.array(le.marktype),Dn=e.array(le.markname);at=ir=>(!en.length||en.some(vr=>ir.marktype===vr))&&(!Dn.length||Dn.some(vr=>ir.name===vr))}return at}function ss(le,at,en,Dn=5){let ir=le[le.length-1];return ir===void 0||Math.sqrt((ir[0]-at)**2+(ir[1]-en)**2)>Dn?(le.push([at,en]),[...le]):le}function xa(le){return(le??[]).reduce((at,[en,Dn],ir)=>at+=ir==0?`M ${en},${Dn} `:ir===le.length-1?" Z":`L ${en},${Dn} `,"")}function Ro(le,at,en){let{x:Dn,y:ir,mark:vr}=en,fr=new s.Bounds().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let[_s,Ns]of at)_s<fr.x1&&(fr.x1=_s),_s>fr.x2&&(fr.x2=_s),Ns<fr.y1&&(fr.y1=Ns),Ns>fr.y2&&(fr.y2=Ns);return fr.translate(Dn,ir),vi([[fr.x1,fr.y1],[fr.x2,fr.y2]],le,vr).filter(_s=>As(_s.x,_s.y,at))}function As(le,at,en){let Dn=0;for(let ir=0,vr=en.length-1;ir<en.length;vr=ir++){let[fr,es]=en[vr],[_s,Ns]=en[ir];Ns>at!=es>at&&le<(fr-_s)*(at-Ns)/(es-Ns)+_s&&Dn++}return Dn&1}let tn={random(){return a.random()},cumulativeNormal:a.cumulativeNormal,cumulativeLogNormal:a.cumulativeLogNormal,cumulativeUniform:a.cumulativeUniform,densityNormal:a.densityNormal,densityLogNormal:a.densityLogNormal,densityUniform:a.densityUniform,quantileNormal:a.quantileNormal,quantileLogNormal:a.quantileLogNormal,quantileUniform:a.quantileUniform,sampleNormal:a.sampleNormal,sampleLogNormal:a.sampleLogNormal,sampleUniform:a.sampleUniform,isArray:e.isArray,isBoolean:e.isBoolean,isDate:e.isDate,isDefined(le){return le!==void 0},isNumber:e.isNumber,isObject:e.isObject,isRegExp:e.isRegExp,isString:e.isString,isTuple:r.isTuple,isValid(le){return le!=null&&le===le},toBoolean:e.toBoolean,toDate(le){return e.toDate(le)},toNumber:e.toNumber,toString:e.toString,indexof:Jt,join:gt,lastindexof:$t,replace:Ln,reverse:Kn,slice:pn,flush:e.flush,lerp:e.lerp,merge:aa,pad:e.pad,peek:e.peek,pluck:mr,span:e.span,inrange:e.inrange,truncate:e.truncate,rgb:Br,lab:oa,hcl:Ka,hsl:fo,luminance:du,contrast:Ua,sequence:Le,format:R,utcFormat:z,utcParse:B,utcOffset:l.utcOffset,utcSequence:l.utcSequence,timeFormat:q,timeParse:L,timeOffset:l.timeOffset,timeSequence:l.timeSequence,timeUnitSpecifier:l.timeUnitSpecifier,monthFormat:ue,monthAbbrevFormat:I,dayFormat:J,dayAbbrevFormat:he,quarter:e.quarter,utcquarter:e.utcquarter,week:l.week,utcweek:l.utcweek,dayofyear:l.dayofyear,utcdayofyear:l.utcdayofyear,warn:Jr,info:Vr,debug:yr,extent(le){return e.extent(le)},inScope:Un,intersect:vi,clampRange:e.clampRange,pinchDistance:ui,pinchAngle:rs,screen:gi,containerSize:xs,windowSize:os,bandspace:$n,setdata:_,pathShape:ni,panLinear:e.panLinear,panLog:e.panLog,panPow:e.panPow,panSymlog:e.panSymlog,zoomLinear:e.zoomLinear,zoomLog:e.zoomLog,zoomPow:e.zoomPow,zoomSymlog:e.zoomSymlog,encode:E,modify:Zu,lassoAppend:ss,lassoPath:xa,intersectLasso:Ro},Jn=["view","item","group","xy","x","y"],bn="event.vega.",Yr="this.",Ti={},ns={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:le=>`_[${e.stringValue(lt+le)}]`,functions:Hi,constants:t.constants,visitors:Ti},ms=t.codegenExpression(ns);function Hi(le){let at=t.functions(le);Jn.forEach(en=>at[en]=bn+en);for(let en in tn)at[en]=Yr+en;return e.extend(at,Ze(le,tn,Ti)),at}function fs(le,at,en){return arguments.length===1?tn[le]:(tn[le]=at,en&&(Ti[le]=en),ms&&(ms.functions[le]=Yr+le),this)}fs("bandwidth",br,Pt),fs("copy",Cr,Pt),fs("domain",Gn,Pt),fs("range",er,Pt),fs("invert",ar,Pt),fs("scale",gr,Pt),fs("gradient",Rr,Pt),fs("geoArea",Xt,Pt),fs("geoBounds",mn,Pt),fs("geoCentroid",qn,Pt),fs("geoShape",di,Pt),fs("indata",p,bt),fs("data",f,et),fs("treePath",qr,et),fs("treeAncestors",Ir,et),fs("vlSelectionTest",o.selectionTest,o.selectionVisitor),fs("vlSelectionIdTest",o.selectionIdTest,o.selectionVisitor),fs("vlSelectionResolve",o.selectionResolve,o.selectionVisitor),fs("vlSelectionTuples",o.selectionTuples);function hu(le,at){let en={},Dn;try{le=e.isString(le)?le:e.stringValue(le)+"",Dn=t.parseExpression(le)}catch{e.error("Expression parse error: "+le)}Dn.visit(vr=>{if(vr.type!==t.CallExpression)return;let fr=vr.callee.name,es=ns.visitors[fr];es&&es(fr,vr.arguments,at,en)});let ir=ms(Dn);return ir.globals.forEach(vr=>{let fr=lt+vr;!e.hasOwnProperty(en,fr)&&at.getSignal(vr)&&(en[fr]=at.signalRef(vr))}),{$expr:e.extend({code:ir.code},at.options.ast?{ast:Dn}:null),$fields:ir.fields,$params:en}}n.DataPrefix=ve,n.IndexPrefix=Ve,n.ScalePrefix=ot,n.SignalPrefix=lt,n.bandspace=$n,n.bandwidth=br,n.codeGenerator=ms,n.codegenParams=ns,n.containerSize=xs,n.contrast=Ua,n.copy=Cr,n.data=f,n.dataVisitor=et,n.dayAbbrevFormat=he,n.dayFormat=J,n.debug=yr,n.domain=Gn,n.encode=E,n.expressionFunction=fs,n.format=R,n.functionContext=tn,n.geoArea=Xt,n.geoBounds=mn,n.geoCentroid=qn,n.geoShape=di,n.inScope=Un,n.indata=p,n.indataVisitor=bt,n.indexof=Jt,n.info=Vr,n.invert=ar,n.join=gt,n.lastindexof=$t,n.luminance=du,n.merge=aa,n.modify=Zu,n.monthAbbrevFormat=I,n.monthFormat=ue,n.parseExpression=hu,n.pathShape=ni,n.pinchAngle=rs,n.pinchDistance=ui,n.pluck=mr,n.range=er,n.replace=Ln,n.reverse=Kn,n.scale=gr,n.scaleGradient=Rr,n.scaleVisitor=Pt,n.screen=gi,n.setdata=_,n.slice=pn,n.timeFormat=q,n.timeParse=L,n.treeAncestors=Ir,n.treePath=qr,n.utcFormat=z,n.utcParse=B,n.warn=Jr,n.windowSize=os,Object.defineProperty(n,"__esModule",{value:!0})})});var ile=Ae((sV,TDe)=>{m();(function(n,e){typeof sV=="object"&&typeof TDe!="undefined"?e(sV,Au(),r0()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(sV,function(n,e,t){"use strict";function r(ye){let Le=this,Ce=ye.operators||[];return ye.background&&(Le.background=ye.background),ye.eventConfig&&(Le.eventConfig=ye.eventConfig),ye.locale&&(Le.locale=ye.locale),Ce.forEach(pe=>Le.parseOperator(pe)),Ce.forEach(pe=>Le.parseOperatorParameters(pe)),(ye.streams||[]).forEach(pe=>Le.parseStream(pe)),(ye.updates||[]).forEach(pe=>Le.parseUpdate(pe)),Le.resolve()}let i=e.toSet(["rule"]),s=e.toSet(["group","image","rect"]);function o(ye,Le){let Ce="";return i[Le]||(ye.x2&&(ye.x?(s[Le]&&(Ce+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),Ce+="o.width=o.x2-o.x;"):Ce+="o.x=o.x2-(o.width||0);"),ye.xc&&(Ce+="o.x=o.xc-(o.width||0)/2;"),ye.y2&&(ye.y?(s[Le]&&(Ce+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),Ce+="o.height=o.y2-o.y;"):Ce+="o.y=o.y2-(o.height||0);"),ye.yc&&(Ce+="o.y=o.yc-(o.height||0)/2;")),Ce}function a(ye){return(ye+"").toLowerCase()}function l(ye){return a(ye)==="operator"}function f(ye){return a(ye)==="collect"}function p(ye,Le,Ce){Ce[Ce.length-1]!==";"&&(Ce="return("+Ce+");");let pe=Function(...Le.concat(Ce));return ye&&ye.functions?pe.bind(ye.functions):pe}function _(ye,Le,Ce,pe){return`((u = ${ye}) < (v = ${Le}) || u == null) && v != null ? ${Ce}
  : (u > v || v == null) && u != null ? ${pe}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Ce}
  : v !== v && u === u ? ${pe} : `}var E={operator:(ye,Le)=>p(ye,["_"],Le.code),parameter:(ye,Le)=>p(ye,["datum","_"],Le.code),event:(ye,Le)=>p(ye,["event"],Le.code),handler:(ye,Le)=>{let Ce=`var datum=event.item&&event.item.datum;return ${Le.code};`;return p(ye,["_","event"],Ce)},encode:(ye,Le)=>{let{marktype:Ce,channels:pe}=Le,Je="var o=item,datum=o.datum,m=0,$;";for(let ut in pe){let Ht="o["+e.stringValue(ut)+"]";Je+=`$=${pe[ut].code};if(${Ht}!==$)${Ht}=$,m=1;`}return Je+=o(pe,Ce),Je+="return m;",p(ye,["item","_"],Je)},codegen:{get(ye){let Le=`[${ye.map(e.stringValue).join("][")}]`,Ce=Function("_",`return _${Le};`);return Ce.path=Le,Ce},comparator(ye,Le){let Ce,pe=(ut,Ht)=>{let Ct=Le[Ht],xn,Tt;return ut.path?(xn=`a${ut.path}`,Tt=`b${ut.path}`):((Ce=Ce||{})["f"+Ht]=ut,xn=`this.f${Ht}(a)`,Tt=`this.f${Ht}(b)`),_(xn,Tt,-Ct,Ct)},Je=Function("a","b","var u, v; return "+ye.map(pe).join("")+"0;");return Ce?Je.bind(Ce):Je}}};function O(ye){let Le=this;l(ye.type)||!ye.type?Le.operator(ye,ye.update?Le.operatorExpression(ye.update):null):Le.transform(ye,ye.type)}function R(ye){let Le=this;if(ye.params){let Ce=Le.get(ye.id);Ce||e.error("Invalid operator id: "+ye.id),Le.dataflow.connect(Ce,Ce.parameters(Le.parseParameters(ye.params),ye.react,ye.initonly))}}function q(ye,Le){Le=Le||{};let Ce=this;for(let pe in ye){let Je=ye[pe];Le[pe]=e.isArray(Je)?Je.map(ut=>z(ut,Ce,Le)):z(Je,Ce,Le)}return Le}function z(ye,Le,Ce){if(!ye||!e.isObject(ye))return ye;for(let pe=0,Je=L.length,ut;pe<Je;++pe)if(ut=L[pe],e.hasOwnProperty(ye,ut.key))return ut.parse(ye,Le,Ce);return ye}var L=[{key:"$ref",parse:B},{key:"$key",parse:G},{key:"$expr",parse:P},{key:"$field",parse:ue},{key:"$encode",parse:J},{key:"$compare",parse:I},{key:"$context",parse:he},{key:"$subflow",parse:ve},{key:"$tupleid",parse:Ve}];function B(ye,Le){return Le.get(ye.$ref)||e.error("Operator not defined: "+ye.$ref)}function P(ye,Le,Ce){ye.$params&&Le.parseParameters(ye.$params,Ce);let pe="e:"+ye.$expr.code+"_"+ye.$name;return Le.fn[pe]||(Le.fn[pe]=e.accessor(Le.parameterExpression(ye.$expr),ye.$fields,ye.$name))}function G(ye,Le){let Ce="k:"+ye.$key+"_"+!!ye.$flat;return Le.fn[Ce]||(Le.fn[Ce]=e.key(ye.$key,ye.$flat,Le.expr.codegen))}function ue(ye,Le){if(!ye.$field)return null;let Ce="f:"+ye.$field+"_"+ye.$name;return Le.fn[Ce]||(Le.fn[Ce]=e.field(ye.$field,ye.$name,Le.expr.codegen))}function I(ye,Le){let Ce="c:"+ye.$compare+"_"+ye.$order,pe=e.array(ye.$compare).map(Je=>Je&&Je.$tupleid?t.tupleid:Je);return Le.fn[Ce]||(Le.fn[Ce]=e.compare(pe,ye.$order,Le.expr.codegen))}function J(ye,Le){let Ce=ye.$encode,pe={};for(let Je in Ce){let ut=Ce[Je];pe[Je]=e.accessor(Le.encodeExpression(ut.$expr),ut.$fields),pe[Je].output=ut.$output}return pe}function he(ye,Le){return Le}function ve(ye,Le){let Ce=ye.$subflow;return function(pe,Je,ut){let Ht=Le.fork().parse(Ce),Ct=Ht.get(Ce.operators[0].id),xn=Ht.signals.parent;return xn&&xn.set(ut),Ct.detachSubflow=()=>Le.detach(Ht),Ct}}function Ve(){return t.tupleid}function ot(ye){var Le=this,Ce=ye.filter!=null?Le.eventExpression(ye.filter):void 0,pe=ye.stream!=null?Le.get(ye.stream):void 0,Je;ye.source?pe=Le.events(ye.source,ye.type,Ce):ye.merge&&(Je=ye.merge.map(ut=>Le.get(ut)),pe=Je[0].merge.apply(Je[0],Je.slice(1))),ye.between&&(Je=ye.between.map(ut=>Le.get(ut)),pe=pe.between(Je[0],Je[1])),ye.filter&&(pe=pe.filter(Ce)),ye.throttle!=null&&(pe=pe.throttle(+ye.throttle)),ye.debounce!=null&&(pe=pe.debounce(+ye.debounce)),pe==null&&e.error("Invalid stream definition: "+JSON.stringify(ye)),ye.consume&&pe.consume(!0),Le.stream(ye,pe)}function lt(ye){var Le=this,Ce=e.isObject(Ce=ye.source)?Ce.$ref:Ce,pe=Le.get(Ce),Je=null,ut=ye.update,Ht=void 0;pe||e.error("Source not defined: "+ye.source),Je=ye.target&&ye.target.$expr?Le.eventExpression(ye.target.$expr):Le.get(ye.target),ut&&ut.$expr&&(ut.$params&&(Ht=Le.parseParameters(ut.$params)),ut=Le.handlerExpression(ut.$expr)),Le.update(ye,pe,Je,ut,Ht)}let et={skip:!0};function bt(ye){var Le=this,Ce={};if(ye.signals){var pe=Ce.signals={};Object.keys(Le.signals).forEach(ut=>{let Ht=Le.signals[ut];ye.signals(ut,Ht)&&(pe[ut]=Ht.value)})}if(ye.data){var Je=Ce.data={};Object.keys(Le.data).forEach(ut=>{let Ht=Le.data[ut];ye.data(ut,Ht)&&(Je[ut]=Ht.input.value)})}return Le.subcontext&&ye.recurse!==!1&&(Ce.subcontext=Le.subcontext.map(ut=>ut.getState(ye))),Ce}function Pt(ye){var Le=this,Ce=Le.dataflow,pe=ye.data,Je=ye.signals;Object.keys(Je||{}).forEach(ut=>{Ce.update(Le.signals[ut],Je[ut],et)}),Object.keys(pe||{}).forEach(ut=>{Ce.pulse(Le.data[ut].input,Ce.changeset().remove(e.truthy).insert(pe[ut]))}),(ye.subcontext||[]).forEach((ut,Ht)=>{let Ct=Le.subcontext[Ht];Ct&&Ct.setState(ut)})}function $e(ye,Le,Ce,pe){return new te(ye,Le,Ce,pe)}function te(ye,Le,Ce,pe){this.dataflow=ye,this.transforms=Le,this.events=ye.events.bind(ye),this.expr=pe||E,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},Ce&&(this.functions=Object.create(Ce),this.functions.context=this)}function Ze(ye){this.dataflow=ye.dataflow,this.transforms=ye.transforms,this.events=ye.events,this.expr=ye.expr,this.signals=Object.create(ye.signals),this.scales=Object.create(ye.scales),this.nodes=Object.create(ye.nodes),this.data=Object.create(ye.data),this.fn=Object.create(ye.fn),ye.functions&&(this.functions=Object.create(ye.functions),this.functions.context=this)}te.prototype=Ze.prototype={fork(){let ye=new Ze(this);return(this.subcontext||(this.subcontext=[])).push(ye),ye},detach(ye){this.subcontext=this.subcontext.filter(Ce=>Ce!==ye);let Le=Object.keys(ye.nodes);for(let Ce of Le)ye.nodes[Ce]._targets=null;for(let Ce of Le)ye.nodes[Ce].detach();ye.nodes=null},get(ye){return this.nodes[ye]},set(ye,Le){return this.nodes[ye]=Le},add(ye,Le){let Ce=this,pe=Ce.dataflow,Je=ye.value;if(Ce.set(ye.id,Le),f(ye.type)&&Je&&(Je.$ingest?pe.ingest(Le,Je.$ingest,Je.$format):Je.$request?pe.preload(Le,Je.$request,Je.$format):pe.pulse(Le,pe.changeset().insert(Je))),ye.root&&(Ce.root=Le),ye.parent){let ut=Ce.get(ye.parent.$ref);ut?(pe.connect(ut,[Le]),Le.targets().add(ut)):(Ce.unresolved=Ce.unresolved||[]).push(()=>{ut=Ce.get(ye.parent.$ref),pe.connect(ut,[Le]),Le.targets().add(ut)})}if(ye.signal&&(Ce.signals[ye.signal]=Le),ye.scale&&(Ce.scales[ye.scale]=Le),ye.data)for(let ut in ye.data){let Ht=Ce.data[ut]||(Ce.data[ut]={});ye.data[ut].forEach(Ct=>Ht[Ct]=Le)}},resolve(){return(this.unresolved||[]).forEach(ye=>ye()),delete this.unresolved,this},operator(ye,Le){this.add(ye,this.dataflow.add(ye.value,Le))},transform(ye,Le){this.add(ye,this.dataflow.add(this.transforms[a(Le)]))},stream(ye,Le){this.set(ye.id,Le)},update(ye,Le,Ce,pe,Je){this.dataflow.on(Le,Ce,pe,Je,ye.options)},operatorExpression(ye){return this.expr.operator(this,ye)},parameterExpression(ye){return this.expr.parameter(this,ye)},eventExpression(ye){return this.expr.event(this,ye)},handlerExpression(ye){return this.expr.handler(this,ye)},encodeExpression(ye){return this.expr.encode(this,ye)},parse:r,parseOperator:O,parseOperatorParameters:R,parseParameters:q,parseStream:ot,parseUpdate:lt,getState:bt,setState:Pt},n.context=$e,Object.defineProperty(n,"__esModule",{value:!0})})});var DDe=Ae((oV,FDe)=>{m();(function(n,e){typeof oV=="object"&&typeof FDe!="undefined"?e(oV,Au(),r0(),ZC(),iV(),ile(),XR()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-scenegraph","vega-functions","vega-runtime","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(oV,function(n,e,t,r,i,s,o){"use strict";function a(K){let ae=K.container();ae&&(ae.setAttribute("role","graphics-document"),ae.setAttribute("aria-roleDescription","visualization"),l(ae,K.description()))}function l(K,ae){K&&(ae==null?K.removeAttribute("aria-label"):K.setAttribute("aria-label",ae))}function f(K){K.add(null,ae=>(K._background=ae.bg,K._resize=1,ae.bg),{bg:K._signals.background})}let p="default";function _(K){let ae=K._signals.cursor||(K._signals.cursor=K.add({user:p,item:null}));K.on(K.events("view","mousemove"),ae,(fe,Ge)=>{let Mt=ae.value,At=Mt?e.isString(Mt)?Mt:Mt.user:p,dn=Ge.item&&Ge.item.cursor||null;return Mt&&At===Mt.user&&dn==Mt.item?Mt:{user:At,item:dn}}),K.add(null,function(fe){let Ge=fe.cursor,Mt=this.value;return e.isString(Ge)||(Mt=Ge.item,Ge=Ge.user),E(K,Ge&&Ge!==p?Ge:Mt||Ge),Mt},{cursor:ae})}function E(K,ae){let fe=K.globalCursor()?typeof document!="undefined"&&document.body:K.container();if(fe)return ae==null?fe.style.removeProperty("cursor"):fe.style.cursor=ae}function O(K,ae){var fe=K._runtime.data;return e.hasOwnProperty(fe,ae)||e.error("Unrecognized data set: "+ae),fe[ae]}function R(K,ae){return arguments.length<2?O(this,K).values.value:q.call(this,K,t.changeset().remove(e.truthy).insert(ae))}function q(K,ae){t.isChangeSet(ae)||e.error("Second argument to changes must be a changeset.");let fe=O(this,K);return fe.modified=!0,this.pulse(fe.input,ae)}function z(K,ae){return q.call(this,K,t.changeset().insert(ae))}function L(K,ae){return q.call(this,K,t.changeset().remove(ae))}function B(K){var ae=K.padding();return Math.max(0,K._viewWidth+ae.left+ae.right)}function P(K){var ae=K.padding();return Math.max(0,K._viewHeight+ae.top+ae.bottom)}function G(K){var ae=K.padding(),fe=K._origin;return[ae.left+fe[0],ae.top+fe[1]]}function ue(K){var ae=G(K),fe=B(K),Ge=P(K);K._renderer.background(K.background()),K._renderer.resize(fe,Ge,ae),K._handler.origin(ae),K._resizeListeners.forEach(Mt=>{try{Mt(fe,Ge)}catch(At){K.error(At)}})}function I(K,ae,fe){var Ge=K._renderer,Mt=Ge&&Ge.canvas(),At,dn,w;return Mt&&(w=G(K),dn=ae.changedTouches?ae.changedTouches[0]:ae,At=r.point(dn,Mt),At[0]-=w[0],At[1]-=w[1]),ae.dataflow=K,ae.item=fe,ae.vega=J(K,fe,At),ae}function J(K,ae,fe){let Ge=ae?ae.mark.marktype==="group"?ae:ae.mark.group:null;function Mt(dn){var w=Ge,j;if(dn){for(j=ae;j;j=j.mark.group)if(j.mark.name===dn){w=j;break}}return w&&w.mark&&w.mark.interactive?w:{}}function At(dn){if(!dn)return fe;e.isString(dn)&&(dn=Mt(dn));let w=fe.slice();for(;dn;)w[0]-=dn.x||0,w[1]-=dn.y||0,dn=dn.mark&&dn.mark.group;return w}return{view:e.constant(K),item:e.constant(ae||{}),group:Mt,xy:At,x:dn=>At(dn)[0],y:dn=>At(dn)[1]}}let he="view",ve="timer",Ve="window",ot={trap:!1};function lt(K){let ae=e.extend({defaults:{}},K),fe=(Ge,Mt)=>{Mt.forEach(At=>{e.isArray(Ge[At])&&(Ge[At]=e.toSet(Ge[At]))})};return fe(ae.defaults,["prevent","allow"]),fe(ae,["view","window","selector"]),ae}function et(K,ae,fe,Ge){K._eventListeners.push({type:fe,sources:e.array(ae),handler:Ge})}function bt(K,ae){var fe=K._eventConfig.defaults,Ge=fe.prevent,Mt=fe.allow;return Ge===!1||Mt===!0?!1:Ge===!0||Mt===!1?!0:Ge?Ge[ae]:Mt?!Mt[ae]:K.preventDefault()}function Pt(K,ae,fe){let Ge=K._eventConfig&&K._eventConfig[ae];return Ge===!1||e.isObject(Ge)&&!Ge[fe]?(K.warn(`Blocked ${ae} ${fe} event listener.`),!1):!0}function $e(K,ae,fe){var Ge=this,Mt=new t.EventStream(fe),At=function(ee,Ee){Ge.runAsync(null,()=>{K===he&&bt(Ge,ae)&&ee.preventDefault(),Mt.receive(I(Ge,ee,Ee))})},dn;if(K===ve)Pt(Ge,"timer",ae)&&Ge.timer(At,ae);else if(K===he)Pt(Ge,"view",ae)&&Ge.addEventListener(ae,At,ot);else if(K===Ve?Pt(Ge,"window",ae)&&typeof window!="undefined"&&(dn=[window]):typeof document!="undefined"&&Pt(Ge,"selector",ae)&&(dn=document.querySelectorAll(K)),!dn)Ge.warn("Can not resolve event source: "+K);else{for(var w=0,j=dn.length;w<j;++w)dn[w].addEventListener(ae,At);et(Ge,dn,ae,At)}return Mt}function te(K){return K.item}function Ze(K){return K.item.mark.source}function ye(K){return function(ae,fe){return fe.vega.view().changeset().encode(fe.item,K)}}function Le(K,ae){return K=[K||"hover"],ae=[ae||"update",K[0]],this.on(this.events("view","mouseover",te),Ze,ye(K)),this.on(this.events("view","mouseout",te),Ze,ye(ae)),this}function Ce(){var K=this._tooltip,ae=this._timers,fe=this._eventListeners,Ge,Mt,At;for(Ge=ae.length;--Ge>=0;)ae[Ge].stop();for(Ge=fe.length;--Ge>=0;)for(At=fe[Ge],Mt=At.sources.length;--Mt>=0;)At.sources[Mt].removeEventListener(At.type,At.handler);return K&&K.call(this,this._handler,null,null,null),this}function pe(K,ae,fe){let Ge=document.createElement(K);for(let Mt in ae)Ge.setAttribute(Mt,ae[Mt]);return fe!=null&&(Ge.textContent=fe),Ge}var Je=Math.sqrt(50),ut=Math.sqrt(10),Ht=Math.sqrt(2);function Ct(K,ae,fe){var Ge=Math.abs(ae-K)/Math.max(0,fe),Mt=Math.pow(10,Math.floor(Math.log(Ge)/Math.LN10)),At=Ge/Mt;return At>=Je?Mt*=10:At>=ut?Mt*=5:At>=Ht&&(Mt*=2),ae<K?-Mt:Mt}let xn="vega-bind",Tt="vega-bind-name",Ot="vega-bind-radio";function rn(K,ae,fe){if(!ae)return;let Ge=fe.param,Mt=fe.state;return Mt||(Mt=fe.state={elements:null,active:!1,set:null,update:dn=>{dn!=K.signal(Ge.signal)&&K.runAsync(null,()=>{Mt.source=!0,K.signal(Ge.signal,dn)})}},Ge.debounce&&(Mt.update=e.debounce(Ge.debounce,Mt.update))),(Ge.input==null&&Ge.element?St:ke)(Mt,ae,Ge,K),Mt.active||(K.on(K._signals[Ge.signal],null,()=>{Mt.source?Mt.source=!1:Mt.set(K.signal(Ge.signal))}),Mt.active=!0),Mt}function St(K,ae,fe,Ge){let Mt=fe.event||"input",At=()=>K.update(ae.value);Ge.signal(fe.signal,ae.value),ae.addEventListener(Mt,At),et(Ge,ae,Mt,At),K.set=dn=>{ae.value=dn,ae.dispatchEvent(_e(Mt))}}function _e(K){return typeof Event!="undefined"?new Event(K):{type:K}}function ke(K,ae,fe,Ge){let Mt=Ge.signal(fe.signal),At=pe("div",{class:xn}),dn=fe.input==="radio"?At:At.appendChild(pe("label"));dn.appendChild(pe("span",{class:Tt},fe.name||fe.signal)),ae.appendChild(At);let w=Se;switch(fe.input){case"checkbox":w=ce;break;case"select":w=tt;break;case"radio":w=Ie;break;case"range":w=re;break}w(K,dn,fe,Mt)}function Se(K,ae,fe,Ge){let Mt=pe("input");for(let At in fe)At!=="signal"&&At!=="element"&&Mt.setAttribute(At==="input"?"type":At,fe[At]);Mt.setAttribute("name",fe.signal),Mt.value=Ge,ae.appendChild(Mt),Mt.addEventListener("input",()=>K.update(Mt.value)),K.elements=[Mt],K.set=At=>Mt.value=At}function ce(K,ae,fe,Ge){let Mt={type:"checkbox",name:fe.signal};Ge&&(Mt.checked=!0);let At=pe("input",Mt);ae.appendChild(At),At.addEventListener("change",()=>K.update(At.checked)),K.elements=[At],K.set=dn=>At.checked=!!dn||null}function tt(K,ae,fe,Ge){let Mt=pe("select",{name:fe.signal}),At=fe.labels||[];fe.options.forEach((dn,w)=>{let j={value:dn};Ne(dn,Ge)&&(j.selected=!0),Mt.appendChild(pe("option",j,(At[w]||dn)+""))}),ae.appendChild(Mt),Mt.addEventListener("change",()=>{K.update(fe.options[Mt.selectedIndex])}),K.elements=[Mt],K.set=dn=>{for(let w=0,j=fe.options.length;w<j;++w)if(Ne(fe.options[w],dn)){Mt.selectedIndex=w;return}}}function Ie(K,ae,fe,Ge){let Mt=pe("span",{class:Ot}),At=fe.labels||[];ae.appendChild(Mt),K.elements=fe.options.map((dn,w)=>{let j={type:"radio",name:fe.signal,value:dn};Ne(dn,Ge)&&(j.checked=!0);let ee=pe("input",j);ee.addEventListener("change",()=>K.update(dn));let Ee=pe("label",{},(At[w]||dn)+"");return Ee.prepend(ee),Mt.appendChild(Ee),ee}),K.set=dn=>{let w=K.elements,j=w.length;for(let ee=0;ee<j;++ee)Ne(w[ee].value,dn)&&(w[ee].checked=!0)}}function re(K,ae,fe,Ge){Ge=Ge!==void 0?Ge:(+fe.max+ +fe.min)/2;let Mt=fe.max!=null?fe.max:Math.max(100,+Ge)||100,At=fe.min||Math.min(0,Mt,+Ge)||0,dn=fe.step||Ct(At,Mt,100),w=pe("input",{type:"range",name:fe.signal,min:At,max:Mt,step:dn});w.value=Ge;let j=pe("span",{},+Ge);ae.appendChild(w),ae.appendChild(j);let ee=()=>{j.textContent=w.value,K.update(+w.value)};w.addEventListener("input",ee),w.addEventListener("change",ee),K.elements=[w],K.set=Ee=>{w.value=Ee,j.textContent=Ee}}function Ne(K,ae){return K===ae||K+""==ae+""}function ct(K,ae,fe,Ge,Mt,At){return ae=ae||new Ge(K.loader()),ae.initialize(fe,B(K),P(K),G(K),Mt,At).background(K.background())}function _t(K,ae){return ae?function(){try{ae.apply(this,arguments)}catch(fe){K.error(fe)}}:null}function Lt(K,ae,fe,Ge){let Mt=new Ge(K.loader(),_t(K,K.tooltip())).scene(K.scenegraph().root).initialize(fe,G(K),K);return ae&&ae.handlers().forEach(At=>{Mt.on(At.type,At.handler)}),Mt}function Yt(K,ae){let fe=this,Ge=fe._renderType,Mt=fe._eventConfig.bind,At=r.renderModule(Ge);K=fe._el=K?Gt(fe,K,!0):null,a(fe),At||fe.error("Unrecognized renderer type: "+Ge);let dn=At.handler||r.CanvasHandler,w=K?At.renderer:At.headless;return fe._renderer=w?ct(fe,fe._renderer,K,w):null,fe._handler=Lt(fe,fe._handler,K,dn),fe._redraw=!0,K&&Mt!=="none"&&(ae=ae?fe._elBind=Gt(fe,ae,!0):K.appendChild(pe("form",{class:"vega-bindings"})),fe._bind.forEach(j=>{j.param.element&&Mt!=="container"&&(j.element=Gt(fe,j.param.element,!!j.param.input))}),fe._bind.forEach(j=>{rn(fe,j.element||ae,j)})),fe}function Gt(K,ae,fe){if(typeof ae=="string")if(typeof document!="undefined"){if(ae=document.querySelector(ae),!ae)return K.error("Signal bind element not found: "+ae),null}else return K.error("DOM document instance not found."),null;if(ae&&fe)try{ae.textContent=""}catch(Ge){ae=null,K.error(Ge)}return ae}let fn=K=>+K||0,gn=K=>({top:K,bottom:K,left:K,right:K});function yn(K){return e.isObject(K)?{top:fn(K.top),bottom:fn(K.bottom),left:fn(K.left),right:fn(K.right)}:gn(fn(K))}async function It(K,ae,fe,Ge){let Mt=r.renderModule(ae),At=Mt&&Mt.headless;return At||e.error("Unrecognized renderer type: "+ae),await K.runAsync(),ct(K,null,null,At,fe,Ge).renderAsync(K._scenegraph.root)}async function un(K,ae){K!==r.RenderType.Canvas&&K!==r.RenderType.SVG&&K!==r.RenderType.PNG&&e.error("Unrecognized image type: "+K);let fe=await It(this,K,ae);return K===r.RenderType.SVG?Mn(fe.svg(),"image/svg+xml"):fe.canvas().toDataURL("image/png")}function Mn(K,ae){let fe=new Blob([K],{type:ae});return window.URL.createObjectURL(fe)}async function tr(K,ae){return(await It(this,r.RenderType.Canvas,K,ae)).canvas()}async function Rn(K){return(await It(this,r.RenderType.SVG,K)).svg()}function Re(K,ae,fe){return s.context(K,t.transforms,i.functionContext,fe).parse(ae)}function He(K){var ae=this._runtime.scales;return e.hasOwnProperty(ae,K)||e.error("Unrecognized scale or projection: "+K),ae[K].value}var De="width",Bt="height",pt="padding",mt={skip:!0};function nn(K,ae){var fe=K.autosize(),Ge=K.padding();return ae-(fe&&fe.contains===pt?Ge.left+Ge.right:0)}function Qt(K,ae){var fe=K.autosize(),Ge=K.padding();return ae-(fe&&fe.contains===pt?Ge.top+Ge.bottom:0)}function Fn(K){var ae=K._signals,fe=ae[De],Ge=ae[Bt],Mt=ae[pt];function At(){K._autosize=K._resize=1}K._resizeWidth=K.add(null,w=>{K._width=w.size,K._viewWidth=nn(K,w.size),At()},{size:fe}),K._resizeHeight=K.add(null,w=>{K._height=w.size,K._viewHeight=Qt(K,w.size),At()},{size:Ge});let dn=K.add(null,At,{pad:Mt});K._resizeWidth.rank=fe.rank+1,K._resizeHeight.rank=Ge.rank+1,dn.rank=Mt.rank+1}function Wn(K,ae,fe,Ge,Mt,At){this.runAfter(dn=>{let w=0;dn._autosize=0,dn.width()!==fe&&(w=1,dn.signal(De,fe,mt),dn._resizeWidth.skip(!0)),dn.height()!==Ge&&(w=1,dn.signal(Bt,Ge,mt),dn._resizeHeight.skip(!0)),dn._viewWidth!==K&&(dn._resize=1,dn._viewWidth=K),dn._viewHeight!==ae&&(dn._resize=1,dn._viewHeight=ae),(dn._origin[0]!==Mt[0]||dn._origin[1]!==Mt[1])&&(dn._resize=1,dn._origin=Mt),w&&dn.run("enter"),At&&dn.runAfter(j=>j.resize())},!1,1)}function Zn(K){return this._runtime.getState(K||{data:Nn,signals:nr,recurse:!0})}function Nn(K,ae){return ae.modified&&e.isArray(ae.input.value)&&K.indexOf("_:vega:_")}function nr(K,ae){return!(K==="parent"||ae instanceof t.transforms.proxy)}function Ke(K){return this.runAsync(null,ae=>{ae._trigger=!1,ae._runtime.setState(K)},ae=>{ae._trigger=!0}),this}var yt=0,oe=0,je=0,nt=1e3,Rt,hn,an=0,ft=0,ie=0,Te=typeof performance=="object"&&performance.now?performance:Date,Ue=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(K){setTimeout(K,17)};function xt(){return ft||(Ue(Et),ft=Te.now()+ie)}function Et(){ft=0}function Nt(){this._call=this._time=this._next=null}Nt.prototype={constructor:Nt,restart:function(K,ae,fe){if(typeof K!="function")throw new TypeError("callback is not a function");fe=(fe==null?xt():+fe)+(ae==null?0:+ae),!this._next&&hn!==this&&(hn?hn._next=this:Rt=this,hn=this),this._call=K,this._time=fe,Ut()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ut())}};function ne(){xt(),++yt;for(var K=Rt,ae;K;)(ae=ft-K._time)>=0&&K._call.call(void 0,ae),K=K._next;--yt}function we(){ft=(an=Te.now())+ie,yt=oe=0;try{ne()}finally{yt=0,it(),ft=0}}function Qe(){var K=Te.now(),ae=K-an;ae>nt&&(ie-=ae,an=K)}function it(){for(var K,ae=Rt,fe,Ge=1/0;ae;)ae._call?(Ge>ae._time&&(Ge=ae._time),K=ae,ae=ae._next):(fe=ae._next,ae._next=null,ae=K?K._next=fe:Rt=fe);hn=K,Ut(Ge)}function Ut(K){if(!yt){oe&&(oe=clearTimeout(oe));var ae=K-ft;ae>24?(K<1/0&&(oe=setTimeout(we,K-Te.now()-ie)),je&&(je=clearInterval(je))):(je||(an=Te.now(),je=setInterval(Qe,nt)),yt=1,Ue(we))}}function sn(K,ae,fe){var Ge=new Nt,Mt=ae;return ae==null?(Ge.restart(K,ae,fe),Ge):(Ge._restart=Ge.restart,Ge.restart=function(At,dn,w){dn=+dn,w=w==null?xt():+w,Ge._restart(function j(ee){ee+=Mt,Ge._restart(j,Mt+=dn,w),At(ee)},dn,w)},Ge.restart(K,ae,fe),Ge)}function Cn(K,ae){function fe(Ge){K({timestamp:Date.now(),elapsed:Ge})}this._timers.push(sn(fe,ae))}function En(K,ae,fe,Ge){let Mt=K.element();Mt&&Mt.setAttribute("title",vn(Ge))}function vn(K){return K==null?"":e.isArray(K)?Oe(K):e.isObject(K)&&!e.isDate(K)?zn(K):K+""}function zn(K){return Object.keys(K).map(ae=>{let fe=K[ae];return ae+": "+(e.isArray(fe)?Oe(fe):ze(fe))}).join(`
`)}function Oe(K){return"["+K.map(ze).join(", ")+"]"}function ze(K){return e.isArray(K)?"[\u2026]":e.isObject(K)&&!e.isDate(K)?"{\u2026}":K}function Dt(K,ae){let fe=this;if(ae=ae||{},t.Dataflow.call(fe),ae.loader&&fe.loader(ae.loader),ae.logger&&fe.logger(ae.logger),ae.logLevel!=null&&fe.logLevel(ae.logLevel),ae.locale||K.locale){let At=e.extend({},K.locale,ae.locale);fe.locale(o.locale(At.number,At.time))}fe._el=null,fe._elBind=null,fe._renderType=ae.renderer||r.RenderType.Canvas,fe._scenegraph=new r.Scenegraph;let Ge=fe._scenegraph.root;fe._renderer=null,fe._tooltip=ae.tooltip||En,fe._redraw=!0,fe._handler=new r.CanvasHandler().scene(Ge),fe._globalCursor=!1,fe._preventDefault=!1,fe._timers=[],fe._eventListeners=[],fe._resizeListeners=[],fe._eventConfig=lt(K.eventConfig),fe.globalCursor(fe._eventConfig.globalCursor);let Mt=Re(fe,K,ae.expr);fe._runtime=Mt,fe._signals=Mt.signals,fe._bind=(K.bindings||[]).map(At=>({state:null,param:e.extend({},At)})),Mt.root&&Mt.root.set(Ge),Ge.source=Mt.data.root.input,fe.pulse(Mt.data.root.input,fe.changeset().insert(Ge.items)),fe._width=fe.width(),fe._height=fe.height(),fe._viewWidth=nn(fe,fe._width),fe._viewHeight=Qt(fe,fe._height),fe._origin=[0,0],fe._resize=0,fe._autosize=1,Fn(fe),f(fe),_(fe),fe.description(K.description),ae.hover&&fe.hover(),ae.container&&fe.initialize(ae.container,ae.bind)}function N(K,ae){return e.hasOwnProperty(K._signals,ae)?K._signals[ae]:e.error("Unrecognized signal name: "+e.stringValue(ae))}function V(K,ae){let fe=(K._targets||[]).filter(Ge=>Ge._update&&Ge._update.handler===ae);return fe.length?fe[0]:null}function be(K,ae,fe,Ge){let Mt=V(fe,Ge);return Mt||(Mt=_t(K,()=>Ge(ae,fe.value)),Mt.handler=Ge,K.on(fe,null,Mt)),K}function xe(K,ae,fe){let Ge=V(ae,fe);return Ge&&ae._targets.remove(Ge),K}e.inherits(Dt,t.Dataflow,{async evaluate(K,ae,fe){if(await t.Dataflow.prototype.evaluate.call(this,K,ae),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,ue(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(Ge){this.error(Ge)}return fe&&t.asyncCallback(this,fe),this},dirty(K){this._redraw=!0,this._renderer&&this._renderer.dirty(K)},description(K){if(arguments.length){let ae=K!=null?K+"":null;return ae!==this._desc&&l(this._el,this._desc=ae),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(K,ae,fe){let Ge=N(this,K);return arguments.length===1?Ge.value:this.update(Ge,ae,fe)},width(K){return arguments.length?this.signal("width",K):this.signal("width")},height(K){return arguments.length?this.signal("height",K):this.signal("height")},padding(K){return arguments.length?this.signal("padding",yn(K)):yn(this.signal("padding"))},autosize(K){return arguments.length?this.signal("autosize",K):this.signal("autosize")},background(K){return arguments.length?this.signal("background",K):this.signal("background")},renderer(K){return arguments.length?(r.renderModule(K)||e.error("Unrecognized renderer type: "+K),K!==this._renderType&&(this._renderType=K,this._resetRenderer()),this):this._renderType},tooltip(K){return arguments.length?(K!==this._tooltip&&(this._tooltip=K,this._resetRenderer()),this):this._tooltip},loader(K){return arguments.length?(K!==this._loader&&(t.Dataflow.prototype.loader.call(this,K),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(N(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:Wn,addEventListener(K,ae,fe){let Ge=ae;return fe&&fe.trap===!1||(Ge=_t(this,ae),Ge.raw=ae),this._handler.on(K,Ge),this},removeEventListener(K,ae){for(var fe=this._handler.handlers(K),Ge=fe.length,Mt,At;--Ge>=0;)if(At=fe[Ge].type,Mt=fe[Ge].handler,K===At&&(ae===Mt||ae===Mt.raw)){this._handler.off(At,Mt);break}return this},addResizeListener(K){let ae=this._resizeListeners;return ae.indexOf(K)<0&&ae.push(K),this},removeResizeListener(K){var ae=this._resizeListeners,fe=ae.indexOf(K);return fe>=0&&ae.splice(fe,1),this},addSignalListener(K,ae){return be(this,K,N(this,K),ae)},removeSignalListener(K,ae){return xe(this,N(this,K),ae)},addDataListener(K,ae){return be(this,K,O(this,K).values,ae)},removeDataListener(K,ae){return xe(this,O(this,K).values,ae)},globalCursor(K){if(arguments.length){if(this._globalCursor!==!!K){let ae=E(this,null);this._globalCursor=!!K,ae&&E(this,ae)}return this}else return this._globalCursor},preventDefault(K){return arguments.length?(this._preventDefault=K,this):this._preventDefault},timer:Cn,events:$e,finalize:Ce,hover:Le,data:R,change:q,insert:z,remove:L,scale:He,initialize:Yt,toImageURL:un,toCanvas:tr,toSVG:Rn,getState:Zn,setState:Ke}),n.View=Dt,Object.defineProperty(n,"__esModule",{value:!0})})});var sle=Ae((aV,ODe)=>{m();(function(n,e){typeof aV=="object"&&typeof ODe!="undefined"?e(aV):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(aV,function(n){"use strict";let e="view",t="[",r="]",i="{",s="}",o=":",a=",",l="@",f=">",p=/[[\]{}]/,_={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},E,O;function R(I,J,he){return E=J||e,O=he||_,L(I.trim()).map(B)}function q(I){return O[I]}function z(I,J,he,ve,Ve){let ot=I.length,lt=0,et;for(;J<ot;++J){if(et=I[J],!lt&&et===he)return J;Ve&&Ve.indexOf(et)>=0?--lt:ve&&ve.indexOf(et)>=0&&++lt}return J}function L(I){let J=[],he=I.length,ve=0,Ve=0;for(;Ve<he;)Ve=z(I,Ve,a,t+i,r+s),J.push(I.substring(ve,Ve).trim()),ve=++Ve;if(J.length===0)throw"Empty event selector: "+I;return J}function B(I){return I[0]==="["?P(I):G(I)}function P(I){let J=I.length,he=1,ve;if(he=z(I,he,r,t,r),he===J)throw"Empty between selector: "+I;if(ve=L(I.substring(1,he)),ve.length!==2)throw"Between selector must have two elements: "+I;if(I=I.slice(he+1).trim(),I[0]!==f)throw"Expected '>' after between selector: "+I;ve=ve.map(B);let Ve=B(I.slice(1).trim());return Ve.between?{between:ve,stream:Ve}:(Ve.between=ve,Ve)}function G(I){let J={source:E},he=[],ve=[0,0],Ve=0,ot=0,lt=I.length,et=0,bt,Pt;if(I[lt-1]===s){if(et=I.lastIndexOf(i),et>=0){try{ve=ue(I.substring(et+1,lt-1))}catch{throw"Invalid throttle specification: "+I}I=I.slice(0,et).trim(),lt=I.length}else throw"Unmatched right brace: "+I;et=0}if(!lt)throw I;if(I[0]===l&&(Ve=++et),bt=z(I,et,o),bt<lt&&(he.push(I.substring(ot,bt).trim()),ot=et=++bt),et=z(I,et,t),et===lt)he.push(I.substring(ot,lt).trim());else if(he.push(I.substring(ot,et).trim()),Pt=[],ot=++et,ot===lt)throw"Unmatched left bracket: "+I;for(;et<lt;){if(et=z(I,et,r),et===lt)throw"Unmatched left bracket: "+I;if(Pt.push(I.substring(ot,et).trim()),et<lt-1&&I[++et]!==t)throw"Expected left bracket: "+I;ot=++et}if(!(lt=he.length)||p.test(he[lt-1]))throw"Invalid event selector: "+I;return lt>1?(J.type=he[1],Ve?J.markname=he[0].slice(1):q(he[0])?J.marktype=he[0]:J.source=he[0]):J.type=he[0],J.type.slice(-1)==="!"&&(J.consume=!0,J.type=J.type.slice(0,-1)),Pt!=null&&(J.filter=Pt),ve[0]&&(J.throttle=ve[0]),ve[1]&&(J.debounce=ve[1]),J}function ue(I){let J=I.split(a);if(!I.length||J.length>2)throw I;return J.map(he=>{let ve=+he;if(ve!==ve)throw I;return ve})}n.parseSelector=R,Object.defineProperty(n,"__esModule",{value:!0})})});var NDe=Ae((uV,RDe)=>{m();(function(n,e){typeof uV=="object"&&typeof RDe!="undefined"?e(uV,Au(),iV(),sle(),tE(),r0()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-functions","vega-event-selector","vega-scale","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(uV,function(n,e,t,r,i,s){"use strict";function o(k){return e.isObject(k)?k:{type:k||"pad"}}let a=k=>+k||0,l=k=>({top:k,bottom:k,left:k,right:k});function f(k){return e.isObject(k)?k.signal?k:{top:a(k.top),bottom:a(k.bottom),left:a(k.left),right:a(k.right)}:l(a(k))}let p=k=>e.isObject(k)&&!e.isArray(k)?e.extend({},k):{value:k};function _(k,Z,qe,kt){return qe!=null?(e.isObject(qe)&&!e.isArray(qe)||e.isArray(qe)&&qe.length&&e.isObject(qe[0])?k.update[Z]=qe:k[kt||"enter"][Z]={value:qe},1):0}function E(k,Z,qe){for(let kt in Z)_(k,kt,Z[kt]);for(let kt in qe)_(k,kt,qe[kt],"update")}function O(k,Z,qe){for(let kt in Z)qe&&e.hasOwnProperty(qe,kt)||(k[kt]=e.extend(k[kt]||{},Z[kt]));return k}function R(k,Z){return Z&&(Z.enter&&Z.enter[k]||Z.update&&Z.update[k])}let q="mark",z="frame",L="scope",B="axis",P="axis-domain",G="axis-grid",ue="axis-label",I="axis-tick",J="axis-title",he="legend",ve="legend-band",Ve="legend-entry",ot="legend-gradient",lt="legend-label",et="legend-symbol",bt="legend-title",Pt="title",$e="title-text",te="title-subtitle";function Ze(k,Z,qe,kt,Vt){let An={},kn={},sr,hr,Nr,rt;hr="lineBreak",Z==="text"&&Vt[hr]!=null&&!R(hr,k)&&ye(An,hr,Vt[hr]),(qe=="legend"||String(qe).startsWith("axis"))&&(qe=null),rt=qe===z?Vt.group:qe===q?e.extend({},Vt.mark,Vt[Z]):null;for(hr in rt)Nr=R(hr,k)||(hr==="fill"||hr==="stroke")&&(R("fill",k)||R("stroke",k)),Nr||ye(An,hr,rt[hr]);e.array(kt).forEach(Fi=>{let Qi=Vt.style&&Vt.style[Fi];for(let Li in Qi)R(Li,k)||ye(An,Li,Qi[Li])}),k=e.extend({},k);for(hr in An)rt=An[hr],rt.signal?(sr=sr||{})[hr]=rt:kn[hr]=rt;return k.enter=e.extend(kn,k.enter),sr&&(k.update=e.extend(sr,k.update)),k}function ye(k,Z,qe){k[Z]=qe&&qe.signal?{signal:qe.signal}:{value:qe}}let Le=k=>e.isString(k)?e.stringValue(k):k.signal?`(${k.signal})`:Ct(k);function Ce(k){if(k.gradient!=null)return ut(k);let Z=k.signal?`(${k.signal})`:k.color?Je(k.color):k.field!=null?Ct(k.field):k.value!==void 0?e.stringValue(k.value):void 0;return k.scale!=null&&(Z=Tt(k,Z)),Z===void 0&&(Z=null),k.exponent!=null&&(Z=`pow(${Z},${Ht(k.exponent)})`),k.mult!=null&&(Z+=`*${Ht(k.mult)}`),k.offset!=null&&(Z+=`+${Ht(k.offset)}`),k.round&&(Z=`round(${Z})`),Z}let pe=(k,Z,qe,kt)=>`(${k}(${[Z,qe,kt].map(Ce).join(",")})+'')`;function Je(k){return k.c?pe("hcl",k.h,k.c,k.l):k.h||k.s?pe("hsl",k.h,k.s,k.l):k.l||k.a?pe("lab",k.l,k.a,k.b):k.r||k.g||k.b?pe("rgb",k.r,k.g,k.b):null}function ut(k){let Z=[k.start,k.stop,k.count].map(qe=>qe==null?null:e.stringValue(qe));for(;Z.length&&e.peek(Z)==null;)Z.pop();return Z.unshift(Le(k.gradient)),`gradient(${Z.join(",")})`}function Ht(k){return e.isObject(k)?"("+Ce(k)+")":k}function Ct(k){return xn(e.isObject(k)?k:{datum:k})}function xn(k){let Z,qe,kt;if(k.signal)Z="datum",kt=k.signal;else if(k.group||k.parent){for(qe=Math.max(1,k.level||1),Z="item";qe-- >0;)Z+=".mark.group";k.parent?(kt=k.parent,Z+=".datum"):kt=k.group}else k.datum?(Z="datum",kt=k.datum):e.error("Invalid field reference: "+e.stringValue(k));return k.signal||(kt=e.isString(kt)?e.splitAccessPath(kt).map(e.stringValue).join("]["):xn(kt)),Z+"["+kt+"]"}function Tt(k,Z){let qe=Le(k.scale);return k.range!=null?Z=`lerp(_range(${qe}), ${+k.range})`:(Z!==void 0&&(Z=`_scale(${qe}, ${Z})`),k.band&&(Z=(Z?Z+"+":"")+`_bandwidth(${qe})`+(+k.band==1?"":"*"+Ht(k.band)),k.extra&&(Z=`(datum.extra ? _scale(${qe}, datum.extra.value) : ${Z})`)),Z==null&&(Z="0")),Z}function Ot(k){let Z="";return k.forEach(qe=>{let kt=Ce(qe);Z+=qe.test?`(${qe.test})?${kt}:`:kt}),e.peek(Z)===":"&&(Z+="null"),Z}function rn(k,Z,qe,kt,Vt,An){let kn={};An=An||{},An.encoders={$encode:kn},k=Ze(k,Z,qe,kt,Vt.config);for(let sr in k)kn[sr]=St(k[sr],Z,An,Vt);return An}function St(k,Z,qe,kt){let Vt={},An={};for(let kn in k)k[kn]!=null&&(Vt[kn]=ke(_e(k[kn]),kt,qe,An));return{$expr:{marktype:Z,channels:Vt},$fields:Object.keys(An),$output:Object.keys(k)}}function _e(k){return e.isArray(k)?Ot(k):Ce(k)}function ke(k,Z,qe,kt){let Vt=t.parseExpression(k,Z);return Vt.$fields.forEach(An=>kt[An]=1),e.extend(qe,Vt.$params),Vt.$expr}let Se="outer",ce=["value","update","init","react","bind"];function tt(k,Z){e.error(k+' for "outer" push: '+e.stringValue(Z))}function Ie(k,Z){let qe=k.name;if(k.push===Se)Z.signals[qe]||tt("No prior signal definition",qe),ce.forEach(kt=>{k[kt]!==void 0&&tt("Invalid property ",kt)});else{let kt=Z.addSignal(qe,k.value);k.react===!1&&(kt.react=!1),k.bind&&Z.addBinding(qe,k.bind)}}function re(k,Z,qe,kt){this.id=-1,this.type=k,this.value=Z,this.params=qe,kt&&(this.parent=kt)}function Ne(k,Z,qe,kt){return new re(k,Z,qe,kt)}function ct(k,Z){return Ne("operator",k,Z)}function _t(k){let Z={$ref:k.id};return k.id<0&&(k.refs=k.refs||[]).push(Z),Z}function Lt(k,Z){return Z?{$field:k,$name:Z}:{$field:k}}let Yt=Lt("key");function Gt(k,Z){return{$compare:k,$order:Z}}function fn(k,Z){let qe={$key:k};return Z&&(qe.$flat=!0),qe}let gn="ascending",yn="descending";function It(k){return e.isObject(k)?(k.order===yn?"-":"+")+un(k.op,k.field):""}function un(k,Z){return(k&&k.signal?"$"+k.signal:k||"")+(k&&Z?"_":"")+(Z&&Z.signal?"$"+Z.signal:Z||"")}let Mn="scope",tr="view";function Rn(k){return k&&k.signal}function Re(k){return k&&k.expr}function He(k){if(Rn(k))return!0;if(e.isObject(k)){for(let Z in k)if(He(k[Z]))return!0}return!1}function De(k,Z){return k??Z}function Bt(k){return k&&k.signal||k}let pt="timer";function mt(k,Z){return(k.merge?Qt:k.stream?Fn:k.type?Wn:e.error("Invalid stream specification: "+e.stringValue(k)))(k,Z)}function nn(k){return k===Mn?tr:k||tr}function Qt(k,Z){let qe=k.merge.map(Vt=>mt(Vt,Z)),kt=Zn({merge:qe},k,Z);return Z.addStream(kt).id}function Fn(k,Z){let qe=mt(k.stream,Z),kt=Zn({stream:qe},k,Z);return Z.addStream(kt).id}function Wn(k,Z){let qe;k.type===pt?(qe=Z.event(pt,k.throttle),k={between:k.between,filter:k.filter}):qe=Z.event(nn(k.source),k.type);let kt=Zn({stream:qe},k,Z);return Object.keys(kt).length===1?qe:Z.addStream(kt).id}function Zn(k,Z,qe){let kt=Z.between;return kt&&(kt.length!==2&&e.error('Stream "between" parameter must have 2 entries: '+e.stringValue(Z)),k.between=[mt(kt[0],qe),mt(kt[1],qe)]),kt=Z.filter?[].concat(Z.filter):[],(Z.marktype||Z.markname||Z.markrole)&&kt.push(Nn(Z.marktype,Z.markname,Z.markrole)),Z.source===Mn&&kt.push("inScope(event.item)"),kt.length&&(k.filter=t.parseExpression("("+kt.join(")&&(")+")",qe).$expr),(kt=Z.throttle)!=null&&(k.throttle=+kt),(kt=Z.debounce)!=null&&(k.debounce=+kt),Z.consume&&(k.consume=!0),k}function Nn(k,Z,qe){let kt="event.item";return kt+(k&&k!=="*"?"&&"+kt+".mark.marktype==='"+k+"'":"")+(qe?"&&"+kt+".mark.role==='"+qe+"'":"")+(Z?"&&"+kt+".mark.name==='"+Z+"'":"")}let nr={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Ke(k,Z,qe){let kt=k.encode,Vt={target:qe},An=k.events,kn=k.update,sr=[];An||e.error("Signal update missing events specification."),e.isString(An)&&(An=r.parseSelector(An,Z.isSubscope()?Mn:tr)),An=e.array(An).filter(hr=>hr.signal||hr.scale?(sr.push(hr),0):1),sr.length>1&&(sr=[oe(sr)]),An.length&&sr.push(An.length>1?{merge:An}:An[0]),kt!=null&&(kn&&e.error("Signal encode and update are mutually exclusive."),kn="encode(item(),"+e.stringValue(kt)+")"),Vt.update=e.isString(kn)?t.parseExpression(kn,Z):kn.expr!=null?t.parseExpression(kn.expr,Z):kn.value!=null?kn.value:kn.signal!=null?{$expr:nr,$params:{$value:Z.signalRef(kn.signal)}}:e.error("Invalid signal update specification."),k.force&&(Vt.options={force:!0}),sr.forEach(hr=>Z.addUpdate(e.extend(yt(hr,Z),Vt)))}function yt(k,Z){return{source:k.signal?Z.signalRef(k.signal):k.scale?Z.scaleRef(k.scale):mt(k,Z)}}function oe(k){return{signal:"["+k.map(Z=>Z.scale?'scale("'+Z.scale+'")':Z.signal)+"]"}}function je(k,Z){let qe=Z.getSignal(k.name),kt=k.update;k.init&&(kt?e.error("Signals can not include both init and update expressions."):(kt=k.init,qe.initonly=!0)),kt&&(kt=t.parseExpression(kt,Z),qe.update=kt.$expr,qe.params=kt.$params),k.on&&k.on.forEach(Vt=>Ke(Vt,Z,qe.id))}let nt=k=>(Z,qe,kt)=>Ne(k,qe,Z||void 0,kt),Rt=nt("aggregate"),hn=nt("axisticks"),an=nt("bound"),ft=nt("collect"),ie=nt("compare"),Te=nt("datajoin"),Ue=nt("encode"),xt=nt("expression"),Et=nt("facet"),Nt=nt("field"),ne=nt("key"),we=nt("legendentries"),Qe=nt("load"),it=nt("mark"),Ut=nt("multiextent"),sn=nt("multivalues"),Cn=nt("overlap"),En=nt("params"),vn=nt("prefacet"),zn=nt("projection"),Oe=nt("proxy"),ze=nt("relay"),Dt=nt("render"),N=nt("scale"),V=nt("sieve"),be=nt("sortitems"),xe=nt("viewlayout"),K=nt("values"),ae=0,fe={min:"min",max:"max",count:"sum"};function Ge(k,Z){let qe=k.type||"linear";i.isValidScaleType(qe)||e.error("Unrecognized scale type: "+e.stringValue(qe)),Z.addScale(k.name,{type:qe,domain:void 0})}function Mt(k,Z){let qe=Z.getScale(k.name).params,kt;qe.domain=j(k.domain,k,Z),k.range!=null&&(qe.range=Vr(k,Z,qe)),k.interpolate!=null&&Jr(k.interpolate,qe),k.nice!=null&&(qe.nice=Vn(k.nice)),k.bins!=null&&(qe.bins=Un(k.bins,Z));for(kt in k)e.hasOwnProperty(qe,kt)||kt==="name"||(qe[kt]=At(k[kt],Z))}function At(k,Z){return e.isObject(k)?k.signal?Z.signalRef(k.signal):e.error("Unsupported object: "+e.stringValue(k)):k}function dn(k,Z){return k.signal?Z.signalRef(k.signal):k.map(qe=>At(qe,Z))}function w(k){e.error("Can not find data set: "+e.stringValue(k))}function j(k,Z,qe){if(!k){(Z.domainMin!=null||Z.domainMax!=null)&&e.error("No scale domain defined for domainMin/domainMax to override.");return}return k.signal?qe.signalRef(k.signal):(e.isArray(k)?ee:k.fields?dt:Ee)(k,Z,qe)}function ee(k,Z,qe){return k.map(kt=>At(kt,qe))}function Ee(k,Z,qe){let kt=qe.getData(k.data);return kt||w(k.data),i.isDiscrete(Z.type)?kt.valuesRef(qe,k.field,Xt(k.sort,!1)):i.isQuantile(Z.type)?kt.domainRef(qe,k.field):kt.extentRef(qe,k.field)}function dt(k,Z,qe){let kt=k.data,Vt=k.fields.reduce((An,kn)=>(kn=e.isString(kn)?{data:kt,field:kn}:e.isArray(kn)||kn.signal?Ft(kn,qe):kn,An.push(kn),An),[]);return(i.isDiscrete(Z.type)?Zt:i.isQuantile(Z.type)?mn:qn)(k,qe,Vt)}function Ft(k,Z){let qe="_:vega:_"+ae++,kt=ft({});if(e.isArray(k))kt.value={$ingest:k};else if(k.signal){let Vt="setdata("+e.stringValue(qe)+","+k.signal+")";kt.params.input=Z.signalRef(Vt)}return Z.addDataPipeline(qe,[kt,V({})]),{data:qe,field:"data"}}function Zt(k,Z,qe){let kt=Xt(k.sort,!0),Vt,An,kn=qe.map(Nr=>{let rt=Z.getData(Nr.data);return rt||w(Nr.data),rt.countsRef(Z,Nr.field,kt)}),sr={groupby:Yt,pulse:kn};kt&&(Vt=kt.op||"count",An=kt.field?un(Vt,kt.field):"count",sr.ops=[fe[Vt]],sr.fields=[Z.fieldRef(An)],sr.as=[An]),Vt=Z.add(Rt(sr));let hr=Z.add(ft({pulse:_t(Vt)}));return An=Z.add(K({field:Yt,sort:Z.sortRef(kt),pulse:_t(hr)})),_t(An)}function Xt(k,Z){return k&&(!k.field&&!k.op?e.isObject(k)?k.field="key":k={field:"key"}:!k.field&&k.op!=="count"?e.error("No field provided for sort aggregate op: "+k.op):Z&&k.field&&k.op&&!fe[k.op]&&e.error("Multiple domain scales can not be sorted using "+k.op)),k}function mn(k,Z,qe){let kt=qe.map(Vt=>{let An=Z.getData(Vt.data);return An||w(Vt.data),An.domainRef(Z,Vt.field)});return _t(Z.add(sn({values:kt})))}function qn(k,Z,qe){let kt=qe.map(Vt=>{let An=Z.getData(Vt.data);return An||w(Vt.data),An.extentRef(Z,Vt.field)});return _t(Z.add(Ut({extents:kt})))}function Un(k,Z){return k.signal||e.isArray(k)?dn(k,Z):Z.objectProperty(k)}function Vn(k){return e.isObject(k)?{interval:At(k.interval),step:At(k.step)}:At(k)}function Jr(k,Z){Z.interpolate=At(k.type||k),k.gamma!=null&&(Z.interpolateGamma=At(k.gamma))}function Vr(k,Z,qe){let kt=Z.config.range,Vt=k.range;if(Vt.signal)return Z.signalRef(Vt.signal);if(e.isString(Vt)){if(kt&&e.hasOwnProperty(kt,Vt))return k=e.extend({},k,{range:kt[Vt]}),Vr(k,Z,qe);Vt==="width"?Vt=[0,{signal:"width"}]:Vt==="height"?Vt=i.isDiscrete(k.type)?[0,{signal:"height"}]:[{signal:"height"},0]:e.error("Unrecognized scale range value: "+e.stringValue(Vt))}else if(Vt.scheme){qe.scheme=e.isArray(Vt.scheme)?dn(Vt.scheme,Z):At(Vt.scheme,Z),Vt.extent&&(qe.schemeExtent=dn(Vt.extent,Z)),Vt.count&&(qe.schemeCount=At(Vt.count,Z));return}else if(Vt.step){qe.rangeStep=At(Vt.step,Z);return}else{if(i.isDiscrete(k.type)&&!e.isArray(Vt))return j(Vt,k,Z);e.isArray(Vt)||e.error("Unsupported range type: "+e.stringValue(Vt))}return Vt.map(An=>(e.isArray(An)?dn:At)(An,Z))}function yr(k,Z){let qe=Z.config.projection||{},kt={};for(let Vt in k)Vt!=="name"&&(kt[Vt]=Mr(k[Vt],Vt,Z));for(let Vt in qe)kt[Vt]==null&&(kt[Vt]=Mr(qe[Vt],Vt,Z));Z.addProjection(k.name,kt)}function Mr(k,Z,qe){return e.isArray(k)?k.map(kt=>Mr(kt,Z,qe)):e.isObject(k)?k.signal?qe.signalRef(k.signal):Z==="fit"?k:e.error("Unsupported parameter object: "+e.stringValue(k)):k}let xi="top",ai="left",Xi="right",Ss="bottom",ts="center",wa="vertical",pa="start",xl="middle",Oc="end",lu="index",cu="label",Ju="offset",Fu="perc",Rc="perc2",ea="value",Xu="guide-label",ef="guide-title",Ye="group-title",Kt="group-subtitle",Bn="symbol",Yn="gradient",ri="discrete",Br="size",fo=[Br,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],hi={name:1,style:1,interactive:1},Ei={value:0},Wi={value:1},Jo="group",fa="rect",da="rule",ho="symbol",ls="text";function ps(k){return k.type=Jo,k.interactive=k.interactive||!1,k}function Zi(k,Z){let qe=(kt,Vt)=>De(k[kt],De(Z[kt],Vt));return qe.isVertical=kt=>wa===De(k.direction,Z.direction||(kt?Z.symbolDirection:Z.gradientDirection)),qe.gradientLength=()=>De(k.gradientLength,Z.gradientLength||Z.gradientWidth),qe.gradientThickness=()=>De(k.gradientThickness,Z.gradientThickness||Z.gradientHeight),qe.entryColumns=()=>De(k.columns,De(Z.columns,+qe.isVertical(!0))),qe}function fu(k,Z){let qe=Z&&(Z.update&&Z.update[k]||Z.enter&&Z.enter[k]);return qe&&qe.signal?qe:qe?qe.value:null}function Ms(k,Z,qe){let kt=Z.config.style[qe];return kt&&kt[k]}function ma(k,Z,qe){return`item.anchor === '${pa}' ? ${k} : item.anchor === '${Oc}' ? ${Z} : ${qe}`}let oa=ma(e.stringValue(ai),e.stringValue(Xi),e.stringValue(ts));function Ri(k){let Z=k("tickBand"),qe=k("tickOffset"),kt,Vt;return Z?Z.signal?(kt={signal:`(${Z.signal}) === 'extent' ? 1 : 0.5`},Vt={signal:`(${Z.signal}) === 'extent'`},e.isObject(qe)||(qe={signal:`(${Z.signal}) === 'extent' ? 0 : ${qe}`})):Z==="extent"?(kt=1,Vt=!0,qe=0):(kt=.5,Vt=!1):(kt=k("bandPosition"),Vt=k("tickExtra")),{extra:Vt,band:kt,offset:qe}}function Vo(k,Z){return Z?k?e.isObject(k)?Object.assign({},k,{offset:Vo(k.offset,Z)}):{value:k,offset:Z}:Z:k}function vs(k,Z){return Z?(k.name=Z.name,k.style=Z.style||k.style,k.interactive=!!Z.interactive,k.encode=O(k.encode,Z,hi)):k.interactive=!1,k}function Ii(k,Z,qe,kt){let Vt=Zi(k,qe),An=Vt.isVertical(),kn=Vt.gradientThickness(),sr=Vt.gradientLength(),hr,Nr,rt,Fi,Qi;An?(Nr=[0,1],rt=[0,0],Fi=kn,Qi=sr):(Nr=[0,0],rt=[1,0],Fi=sr,Qi=kn);let Li={enter:hr={opacity:Ei,x:Ei,y:Ei,width:p(Fi),height:p(Qi)},update:e.extend({},hr,{opacity:Wi,fill:{gradient:Z,start:Nr,stop:rt}}),exit:{opacity:Ei}};return E(Li,{stroke:Vt("gradientStrokeColor"),strokeWidth:Vt("gradientStrokeWidth")},{opacity:Vt("gradientOpacity")}),vs({type:fa,role:ot,encode:Li},kt)}function Do(k,Z,qe,kt,Vt){let An=Zi(k,qe),kn=An.isVertical(),sr=An.gradientThickness(),hr=An.gradientLength(),Nr,rt,Fi,Qi,Li="";kn?(Nr="y",Fi="y2",rt="x",Qi="width",Li="1-"):(Nr="x",Fi="x2",rt="y",Qi="height");let Qr={opacity:Ei,fill:{scale:Z,field:ea}};Qr[Nr]={signal:Li+"datum."+Fu,mult:hr},Qr[rt]=Ei,Qr[Fi]={signal:Li+"datum."+Rc,mult:hr},Qr[Qi]=p(sr);let Gs={enter:Qr,update:e.extend({},Qr,{opacity:Wi}),exit:{opacity:Ei}};return E(Gs,{stroke:An("gradientStrokeColor"),strokeWidth:An("gradientStrokeWidth")},{opacity:An("gradientOpacity")}),vs({type:fa,role:ve,key:ea,from:Vt,encode:Gs},kt)}let Na=`datum.${Fu}<=0?"${ai}":datum.${Fu}>=1?"${Xi}":"${ts}"`,Ka=`datum.${Fu}<=0?"${Ss}":datum.${Fu}>=1?"${xi}":"${xl}"`;function Oo(k,Z,qe,kt){let Vt=Zi(k,Z),An=Vt.isVertical(),kn=p(Vt.gradientThickness()),sr=Vt.gradientLength(),hr=Vt("labelOverlap"),Nr,rt,Fi,Qi,Li="",Qr={enter:Nr={opacity:Ei},update:rt={opacity:Wi,text:{field:cu}},exit:{opacity:Ei}};return E(Qr,{fill:Vt("labelColor"),fillOpacity:Vt("labelOpacity"),font:Vt("labelFont"),fontSize:Vt("labelFontSize"),fontStyle:Vt("labelFontStyle"),fontWeight:Vt("labelFontWeight"),limit:De(k.labelLimit,Z.gradientLabelLimit)}),An?(Nr.align={value:"left"},Nr.baseline=rt.baseline={signal:Ka},Fi="y",Qi="x",Li="1-"):(Nr.align=rt.align={signal:Na},Nr.baseline={value:"top"},Fi="x",Qi="y"),Nr[Fi]=rt[Fi]={signal:Li+"datum."+Fu,mult:sr},Nr[Qi]=rt[Qi]=kn,kn.offset=De(k.labelOffset,Z.gradientLabelOffset)||0,hr=hr?{separation:Vt("labelSeparation"),method:hr,order:"datum."+lu}:void 0,vs({type:ls,role:lt,style:Xu,key:ea,from:kt,encode:Qr,overlap:hr},qe)}function Ao(k,Z,qe,kt,Vt){let An=Zi(k,Z),kn=qe.entries,sr=!!(kn&&kn.interactive),hr=kn?kn.name:void 0,Nr=An("clipHeight"),rt=An("symbolOffset"),Fi={data:"value"},Qi=`(${Vt}) ? datum.${Ju} : datum.${Br}`,Li=Nr?p(Nr):{field:Br},Qr=`datum.${lu}`,Gs=`max(1, ${Vt})`,Uo,ga,po,La,oc;Li.mult=.5,Uo={enter:ga={opacity:Ei,x:{signal:Qi,mult:.5,offset:rt},y:Li},update:po={opacity:Wi,x:ga.x,y:ga.y},exit:{opacity:Ei}};let Hl=null,ka=null;k.fill||(Hl=Z.symbolBaseFillColor,ka=Z.symbolBaseStrokeColor),E(Uo,{fill:An("symbolFillColor",Hl),shape:An("symbolType"),size:An("symbolSize"),stroke:An("symbolStrokeColor",ka),strokeDash:An("symbolDash"),strokeDashOffset:An("symbolDashOffset"),strokeWidth:An("symbolStrokeWidth")},{opacity:An("symbolOpacity")}),fo.forEach(af=>{k[af]&&(po[af]=ga[af]={scale:k[af],field:ea})});let ac=vs({type:ho,role:et,key:ea,from:Fi,clip:Nr?!0:void 0,encode:Uo},qe.symbols),ya=p(rt);ya.offset=An("labelOffset"),Uo={enter:ga={opacity:Ei,x:{signal:Qi,offset:ya},y:Li},update:po={opacity:Wi,text:{field:cu},x:ga.x,y:ga.y},exit:{opacity:Ei}},E(Uo,{align:An("labelAlign"),baseline:An("labelBaseline"),fill:An("labelColor"),fillOpacity:An("labelOpacity"),font:An("labelFont"),fontSize:An("labelFontSize"),fontStyle:An("labelFontStyle"),fontWeight:An("labelFontWeight"),limit:An("labelLimit")});let of=vs({type:ls,role:lt,style:Xu,key:ea,from:Fi,encode:Uo},qe.labels);return Uo={enter:{noBound:{value:!Nr},width:Ei,height:Nr?p(Nr):Ei,opacity:Ei},exit:{opacity:Ei},update:po={opacity:Wi,row:{signal:null},column:{signal:null}}},An.isVertical(!0)?(La=`ceil(item.mark.items.length / ${Gs})`,po.row.signal=`${Qr}%${La}`,po.column.signal=`floor(${Qr} / ${La})`,oc={field:["row",Qr]}):(po.row.signal=`floor(${Qr} / ${Gs})`,po.column.signal=`${Qr} % ${Gs}`,oc={field:Qr}),po.column.signal=`(${Vt})?${po.column.signal}:${Qr}`,kt={facet:{data:kt,name:"value",groupby:lu}},ps({role:L,from:kt,encode:O(Uo,kn,hi),marks:[ac,of],name:hr,interactive:sr,sort:oc})}function qa(k,Z){let qe=Zi(k,Z);return{align:qe("gridAlign"),columns:qe.entryColumns(),center:{row:!0,column:!1},padding:{row:qe("rowPadding"),column:qe("columnPadding")}}}let du='item.orient === "left"',Ua='item.orient === "right"',aa=`(${du} || ${Ua})`,ua=`datum.vgrad && ${aa}`,gl=ma('"top"','"bottom"','"middle"'),$l=ma('"right"','"left"','"center"'),ta=`datum.vgrad && ${Ua} ? (${$l}) : (${aa} && !(datum.vgrad && ${du})) ? "left" : ${oa}`,Zu=`item._anchor || (${aa} ? "middle" : "start")`,ui=`${ua} ? (${du} ? -90 : 90) : 0`,rs=`${aa} ? (datum.vgrad ? (${Ua} ? "bottom" : "top") : ${gl}) : "top"`;function cs(k,Z,qe,kt){let Vt=Zi(k,Z),An={enter:{opacity:Ei},update:{opacity:Wi,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ei}};return E(An,{orient:Vt("titleOrient"),_anchor:Vt("titleAnchor"),anchor:{signal:Zu},angle:{signal:ui},align:{signal:ta},baseline:{signal:rs},text:k.title,fill:Vt("titleColor"),fillOpacity:Vt("titleOpacity"),font:Vt("titleFont"),fontSize:Vt("titleFontSize"),fontStyle:Vt("titleFontStyle"),fontWeight:Vt("titleFontWeight"),limit:Vt("titleLimit"),lineHeight:Vt("titleLineHeight")},{align:Vt("titleAlign"),baseline:Vt("titleBaseline")}),vs({type:ls,role:bt,style:ef,from:kt,encode:An},qe)}function mr(k,Z){let qe;return e.isObject(k)&&(k.signal?qe=k.signal:k.path?qe="pathShape("+is(k.path)+")":k.sphere&&(qe="geoShape("+is(k.sphere)+', {type: "Sphere"})')),qe?Z.signalRef(qe):!!k}function is(k){return e.isObject(k)&&k.signal?k.signal:e.stringValue(k)}function Me(k){let Z=k.role||"";return!Z.indexOf("axis")||!Z.indexOf("legend")||!Z.indexOf("title")?Z:k.type===Jo?L:Z||q}function gt(k){return{marktype:k.type,name:k.name||void 0,role:k.role||Me(k),zindex:+k.zindex||void 0,aria:k.aria,description:k.description}}function Jt(k,Z){return k&&k.signal?Z.signalRef(k.signal):k!==!1}function $t(k,Z){let qe=s.definition(k.type);qe||e.error("Unrecognized transform type: "+e.stringValue(k.type));let kt=Ne(qe.type.toLowerCase(),null,pn(qe,k,Z));return k.signal&&Z.addSignal(k.signal,Z.proxy(kt)),kt.metadata=qe.metadata||{},kt}function pn(k,Z,qe){let kt={},Vt=k.params.length;for(let An=0;An<Vt;++An){let kn=k.params[An];kt[kn.name]=Ln(kn,Z,qe)}return kt}function Ln(k,Z,qe){let kt=k.type,Vt=Z[k.name];if(kt==="index")return $n(k,Z,qe);if(Vt===void 0){k.required&&e.error("Missing required "+e.stringValue(Z.type)+" parameter: "+e.stringValue(k.name));return}else{if(kt==="param")return br(k,Z,qe);if(kt==="projection")return qe.projectionRef(Z[k.name])}return k.array&&!Rn(Vt)?Vt.map(An=>Kn(k,An,qe)):Kn(k,Vt,qe)}function Kn(k,Z,qe){let kt=k.type;if(Rn(Z))return gr(kt)?e.error("Expression references can not be signals."):Rr(kt)?qe.fieldRef(Z):di(kt)?qe.compareRef(Z):qe.signalRef(Z.signal);{let Vt=k.expr||Rr(kt);return Vt&&Gn(Z)?qe.exprRef(Z.expr,Z.as):Vt&&ar(Z)?Lt(Z.field,Z.as):gr(kt)?t.parseExpression(Z,qe):er(kt)?_t(qe.getData(Z).values):Rr(kt)?Lt(Z):di(kt)?qe.compareRef(Z):Z}}function $n(k,Z,qe){return e.isString(Z.from)||e.error('Lookup "from" parameter must be a string literal.'),qe.getData(Z.from).lookupRef(qe,Z.key)}function br(k,Z,qe){let kt=Z[k.name];return k.array?(e.isArray(kt)||e.error("Expected an array of sub-parameters. Instead: "+e.stringValue(kt)),kt.map(Vt=>Cr(k,Vt,qe))):Cr(k,kt,qe)}function Cr(k,Z,qe){let kt=k.params.length,Vt;for(let kn=0;kn<kt;++kn){Vt=k.params[kn];for(let sr in Vt.key)if(Vt.key[sr]!==Z[sr]){Vt=null;break}if(Vt)break}Vt||e.error("Unsupported parameter: "+e.stringValue(Z));let An=e.extend(pn(Vt,Z,qe),Vt.key);return _t(qe.add(En(An)))}let Gn=k=>k&&k.expr,ar=k=>k&&k.field,er=k=>k==="data",gr=k=>k==="expr",Rr=k=>k==="field",di=k=>k==="compare";function ni(k,Z,qe){let kt,Vt,An,kn,sr;return k?(kt=k.facet)&&(Z||e.error("Only group marks can be faceted."),kt.field!=null?kn=sr=pi(kt,qe):(k.data?sr=_t(qe.getData(k.data).aggregate):(An=$t(e.extend({type:"aggregate",groupby:e.array(kt.groupby)},kt.aggregate),qe),An.params.key=qe.keyRef(kt.groupby),An.params.pulse=pi(kt,qe),kn=sr=_t(qe.add(An))),Vt=qe.keyRef(kt.groupby,!0))):kn=_t(qe.add(ft(null,[{}]))),kn||(kn=pi(k,qe)),{key:Vt,pulse:kn,parent:sr}}function pi(k,Z){return k.$ref?k:k.data&&k.data.$ref?k.data:_t(Z.getData(k.data).output)}function ii(k,Z,qe,kt,Vt){this.scope=k,this.input=Z,this.output=qe,this.values=kt,this.aggregate=Vt,this.index={}}ii.fromEntries=function(k,Z){let qe=Z.length,kt=Z[qe-1],Vt=Z[qe-2],An=Z[0],kn=null,sr=1;for(An&&An.type==="load"&&(An=Z[1]),k.add(Z[0]);sr<qe;++sr)Z[sr].params.pulse=_t(Z[sr-1]),k.add(Z[sr]),Z[sr].type==="aggregate"&&(kn=Z[sr]);return new ii(k,An,Vt,kt,kn)};function qr(k){return e.isString(k)?k:null}function Ir(k,Z,qe){let kt=un(qe.op,qe.field),Vt;if(Z.ops){for(let An=0,kn=Z.as.length;An<kn;++An)if(Z.as[An]===kt)return}else Z.ops=["count"],Z.fields=[null],Z.as=["count"];qe.op&&(Z.ops.push((Vt=qe.op.signal)?k.signalRef(Vt):qe.op),Z.fields.push(k.fieldRef(qe.field)),Z.as.push(kt))}function yi(k,Z,qe,kt,Vt,An,kn){let sr=Z[qe]||(Z[qe]={}),hr=It(An),Nr=qr(Vt),rt,Fi;if(Nr!=null&&(k=Z.scope,Nr=Nr+(hr?"|"+hr:""),rt=sr[Nr]),!rt){let Qi=An?{field:Yt,pulse:Z.countsRef(k,Vt,An)}:{field:k.fieldRef(Vt),pulse:_t(Z.output)};hr&&(Qi.sort=k.sortRef(An)),Fi=k.add(Ne(kt,void 0,Qi)),kn&&(Z.index[Vt]=Fi),rt=_t(Fi),Nr!=null&&(sr[Nr]=rt)}return rt}ii.prototype={countsRef(k,Z,qe){let kt=this,Vt=kt.counts||(kt.counts={}),An=qr(Z),kn,sr,hr;return An!=null&&(k=kt.scope,kn=Vt[An]),kn?qe&&qe.field&&Ir(k,kn.agg.params,qe):(hr={groupby:k.fieldRef(Z,"key"),pulse:_t(kt.output)},qe&&qe.field&&Ir(k,hr,qe),sr=k.add(Rt(hr)),kn=k.add(ft({pulse:_t(sr)})),kn={agg:sr,ref:_t(kn)},An!=null&&(Vt[An]=kn)),kn.ref},tuplesRef(){return _t(this.values)},extentRef(k,Z){return yi(k,this,"extent","extent",Z,!1)},domainRef(k,Z){return yi(k,this,"domain","values",Z,!1)},valuesRef(k,Z,qe){return yi(k,this,"vals","values",Z,qe||!0)},lookupRef(k,Z){return yi(k,this,"lookup","tupleindex",Z,!1)},indataRef(k,Z){return yi(k,this,"indata","tupleindex",Z,!0,!0)}};function gi(k,Z,qe){let kt=k.from.facet,Vt=kt.name,An=pi(kt,Z),kn;kt.name||e.error("Facet must have a name: "+e.stringValue(kt)),kt.data||e.error("Facet must reference a data set: "+e.stringValue(kt)),kt.field?kn=Z.add(vn({field:Z.fieldRef(kt.field),pulse:An})):kt.groupby?kn=Z.add(Et({key:Z.keyRef(kt.groupby),group:_t(Z.proxy(qe.parent)),pulse:An})):e.error("Facet must specify groupby or field: "+e.stringValue(kt));let sr=Z.fork(),hr=sr.add(ft()),Nr=sr.add(V({pulse:_t(hr)}));sr.addData(Vt,new ii(sr,hr,hr,Nr)),sr.addSignal("parent",null),kn.params.subflow={$subflow:sr.parse(k).toRuntime()}}function os(k,Z,qe){let kt=Z.add(vn({pulse:qe.pulse})),Vt=Z.fork();Vt.add(V()),Vt.addSignal("parent",null),kt.params.subflow={$subflow:Vt.parse(k).toRuntime()}}function xs(k,Z,qe){let kt=k.remove,Vt=k.insert,An=k.toggle,kn=k.modify,sr=k.values,hr=Z.add(ct()),Nr="if("+k.trigger+',modify("'+qe+'",'+[Vt,kt,An,kn,sr].map(Fi=>Fi??"null").join(",")+"),0)",rt=t.parseExpression(Nr,Z);hr.update=rt.$expr,hr.params=rt.$params}function vi(k,Z){let qe=Me(k),kt=k.type===Jo,Vt=k.from&&k.from.facet,An=k.overlap,kn=k.layout||qe===L||qe===z,sr,hr,Nr,rt,Fi,Qi,Li,Qr=qe===q||kn||Vt,Gs=ni(k.from,kt,Z);hr=Z.add(Te({key:Gs.key||(k.key?Lt(k.key):void 0),pulse:Gs.pulse,clean:!kt}));let Uo=_t(hr);hr=Nr=Z.add(ft({pulse:Uo})),hr=Z.add(it({markdef:gt(k),interactive:Jt(k.interactive,Z),clip:mr(k.clip,Z),context:{$context:!0},groups:Z.lookup(),parent:Z.signals.parent?Z.signalRef("parent"):null,index:Z.markpath(),pulse:_t(hr)}));let ga=_t(hr);hr=rt=Z.add(Ue(rn(k.encode,k.type,qe,k.style,Z,{mod:!1,pulse:ga}))),hr.params.parent=Z.encode(),k.transform&&k.transform.forEach(ka=>{let ac=$t(ka,Z),ya=ac.metadata;(ya.generates||ya.changes)&&e.error("Mark transforms should not generate new data."),ya.nomod||(rt.params.mod=!0),ac.params.pulse=_t(hr),Z.add(hr=ac)}),k.sort&&(hr=Z.add(be({sort:Z.compareRef(k.sort),pulse:_t(hr)})));let po=_t(hr);(Vt||kn)&&(kn=Z.add(xe({layout:Z.objectProperty(k.layout),legends:Z.legends,mark:ga,pulse:po})),Qi=_t(kn));let La=Z.add(an({mark:ga,pulse:Qi||po}));Li=_t(La),kt&&(Qr&&(sr=Z.operators,sr.pop(),kn&&sr.pop()),Z.pushState(po,Qi||Li,Uo),Vt?gi(k,Z,Gs):Qr?os(k,Z,Gs):Z.parse(k),Z.popState(),Qr&&(kn&&sr.push(kn),sr.push(La))),An&&(Li=Ps(An,Li,Z));let oc=Z.add(Dt({pulse:Li})),Hl=Z.add(V({pulse:_t(oc)},void 0,Z.parent()));k.name!=null&&(Fi=k.name,Z.addData(Fi,new ii(Z,Nr,oc,Hl)),k.on&&k.on.forEach(ka=>{(ka.insert||ka.remove||ka.toggle)&&e.error("Marks only support modify triggers."),xs(ka,Z,Fi)}))}function Ps(k,Z,qe){let kt=k.method,Vt=k.bound,An=k.separation,kn={separation:Rn(An)?qe.signalRef(An.signal):An,method:Rn(kt)?qe.signalRef(kt.signal):kt,pulse:Z};if(k.order&&(kn.sort=qe.compareRef({field:k.order})),Vt){let sr=Vt.tolerance;kn.boundTolerance=Rn(sr)?qe.signalRef(sr.signal):+sr,kn.boundScale=qe.scaleRef(Vt.scale),kn.boundOrient=Vt.orient}return _t(qe.add(Cn(kn)))}function ss(k,Z){let qe=Z.config.legend,kt=k.encode||{},Vt=Zi(k,qe),An=kt.legend||{},kn=An.name||void 0,sr=An.interactive,hr=An.style,Nr={},rt=0,Fi,Qi,Li;fo.forEach(La=>k[La]?(Nr[La]=k[La],rt=rt||k[La]):0),rt||e.error("Missing valid scale for legend.");let Qr=xa(k,Z.scaleType(rt)),Gs={title:k.title!=null,scales:Nr,type:Qr,vgrad:Qr!=="symbol"&&Vt.isVertical()},Uo=_t(Z.add(ft(null,[Gs]))),ga={enter:{x:{value:0},y:{value:0}}},po=_t(Z.add(we(Qi={type:Qr,scale:Z.scaleRef(rt),count:Z.objectProperty(Vt("tickCount")),limit:Z.property(Vt("symbolLimit")),values:Z.objectProperty(k.values),minstep:Z.property(k.tickMinStep),formatType:Z.property(k.formatType),formatSpecifier:Z.property(k.format)})));return Qr===Yn?(Li=[Ii(k,rt,qe,kt.gradient),Oo(k,qe,kt.labels,po)],Qi.count=Qi.count||Z.signalRef(`max(2,2*floor((${Bt(Vt.gradientLength())})/100))`)):Qr===ri?Li=[Do(k,rt,qe,kt.gradient,po),Oo(k,qe,kt.labels,po)]:(Fi=qa(k,qe),Li=[Ao(k,qe,kt,po,Bt(Fi.columns))],Qi.size=tn(k,Z,Li[0].marks)),Li=[ps({role:Ve,from:Uo,encode:ga,marks:Li,layout:Fi,interactive:sr})],Gs.title&&Li.push(cs(k,qe,kt.title,Uo)),vi(ps({role:he,from:Uo,encode:O(As(Vt,k,qe),An,hi),marks:Li,aria:Vt("aria"),description:Vt("description"),zindex:Vt("zindex"),name:kn,interactive:sr,style:hr}),Z)}function xa(k,Z){let qe=k.type||Bn;return!k.type&&Ro(k)===1&&(k.fill||k.stroke)&&(qe=i.isContinuous(Z)?Yn:i.isDiscretizing(Z)?ri:Bn),qe!==Yn?qe:i.isDiscretizing(Z)?ri:Yn}function Ro(k){return fo.reduce((Z,qe)=>Z+(k[qe]?1:0),0)}function As(k,Z,qe){let kt={enter:{},update:{}};return E(kt,{orient:k("orient"),offset:k("offset"),padding:k("padding"),titlePadding:k("titlePadding"),cornerRadius:k("cornerRadius"),fill:k("fillColor"),stroke:k("strokeColor"),strokeWidth:qe.strokeWidth,strokeDash:qe.strokeDash,x:k("legendX"),y:k("legendY"),format:Z.format,formatType:Z.formatType}),kt}function tn(k,Z,qe){let kt=Bt(Jn("size",k,qe)),Vt=Bt(Jn("strokeWidth",k,qe)),An=Bt(bn(qe[1].encode,Z,Xu));return t.parseExpression(`max(ceil(sqrt(${kt})+${Vt}),${An})`,Z)}function Jn(k,Z,qe){return Z[k]?`scale("${Z[k]}",datum)`:fu(k,qe[0].encode)}function bn(k,Z,qe){return fu("fontSize",k)||Ms("fontSize",Z,qe)}let Yr=`item.orient==="${ai}"?-90:item.orient==="${Xi}"?90:0`;function Ti(k,Z){k=e.isString(k)?{text:k}:k;let qe=Zi(k,Z.config.title),kt=k.encode||{},Vt=kt.group||{},An=Vt.name||void 0,kn=Vt.interactive,sr=Vt.style,hr=[],Nr={},rt=_t(Z.add(ft(null,[Nr])));return hr.push(Hi(k,qe,ns(k),rt)),k.subtitle&&hr.push(fs(k,qe,kt.subtitle,rt)),vi(ps({role:Pt,from:rt,encode:ms(qe,Vt),marks:hr,aria:qe("aria"),description:qe("description"),zindex:qe("zindex"),name:An,interactive:kn,style:sr}),Z)}function ns(k){let Z=k.encode;return Z&&Z.title||e.extend({name:k.name,interactive:k.interactive,style:k.style},Z)}function ms(k,Z){let qe={enter:{},update:{}};return E(qe,{orient:k("orient"),anchor:k("anchor"),align:{signal:oa},angle:{signal:Yr},limit:k("limit"),frame:k("frame"),offset:k("offset")||0,padding:k("subtitlePadding")}),O(qe,Z,hi)}function Hi(k,Z,qe,kt){let Vt={value:0},An=k.text,kn={enter:{opacity:Vt},update:{opacity:{value:1}},exit:{opacity:Vt}};return E(kn,{text:An,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Z("dx"),dy:Z("dy"),fill:Z("color"),font:Z("font"),fontSize:Z("fontSize"),fontStyle:Z("fontStyle"),fontWeight:Z("fontWeight"),lineHeight:Z("lineHeight")},{align:Z("align"),angle:Z("angle"),baseline:Z("baseline")}),vs({type:ls,role:$e,style:Ye,from:kt,encode:kn},qe)}function fs(k,Z,qe,kt){let Vt={value:0},An=k.subtitle,kn={enter:{opacity:Vt},update:{opacity:{value:1}},exit:{opacity:Vt}};return E(kn,{text:An,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Z("dx"),dy:Z("dy"),fill:Z("subtitleColor"),font:Z("subtitleFont"),fontSize:Z("subtitleFontSize"),fontStyle:Z("subtitleFontStyle"),fontWeight:Z("subtitleFontWeight"),lineHeight:Z("subtitleLineHeight")},{align:Z("align"),angle:Z("angle"),baseline:Z("baseline")}),vs({type:ls,role:te,style:Kt,from:kt,encode:kn},qe)}function hu(k,Z){let qe=[];k.transform&&k.transform.forEach(kt=>{qe.push($t(kt,Z))}),k.on&&k.on.forEach(kt=>{xs(kt,Z,k.name)}),Z.addDataPipeline(k.name,le(k,Z,qe))}function le(k,Z,qe){let kt=[],Vt=null,An=!1,kn=!1,sr,hr,Nr,rt,Fi;for(k.values?Rn(k.values)||He(k.format)?(kt.push(en(Z,k)),kt.push(Vt=at())):kt.push(Vt=at({$ingest:k.values,$format:k.format})):k.url?He(k.url)||He(k.format)?(kt.push(en(Z,k)),kt.push(Vt=at())):kt.push(Vt=at({$request:k.url,$format:k.format})):k.source&&(Vt=sr=e.array(k.source).map(Qi=>_t(Z.getData(Qi).output)),kt.push(null)),hr=0,Nr=qe.length;hr<Nr;++hr)rt=qe[hr],Fi=rt.metadata,!Vt&&!Fi.source&&kt.push(Vt=at()),kt.push(rt),Fi.generates&&(kn=!0),Fi.modifies&&!kn&&(An=!0),Fi.source?Vt=rt:Fi.changes&&(Vt=null);return sr&&(Nr=sr.length-1,kt[0]=ze({derive:An,pulse:Nr?sr:sr[0]}),(An||Nr)&&kt.splice(1,0,at())),Vt||kt.push(at()),kt.push(V({})),kt}function at(k){let Z=ft({},k);return Z.metadata={source:!0},Z}function en(k,Z){return Qe({url:Z.url?k.property(Z.url):void 0,async:Z.async?k.property(Z.async):void 0,values:Z.values?k.property(Z.values):void 0,format:k.objectProperty(Z.format)})}let Dn=k=>k===Ss||k===xi,ir=(k,Z,qe)=>Rn(k)?Ja(k.signal,Z,qe):k===ai||k===xi?Z:qe,vr=(k,Z,qe)=>Rn(k)?Ns(k.signal,Z,qe):Dn(k)?Z:qe,fr=(k,Z,qe)=>Rn(k)?so(k.signal,Z,qe):Dn(k)?qe:Z,es=(k,Z,qe)=>Rn(k)?rc(k.signal,Z,qe):k===xi?{value:Z}:{value:qe},_s=(k,Z,qe)=>Rn(k)?tf(k.signal,Z,qe):k===Xi?{value:Z}:{value:qe},Ns=(k,Z,qe)=>Nc(`${k} === '${xi}' || ${k} === '${Ss}'`,Z,qe),so=(k,Z,qe)=>Nc(`${k} !== '${xi}' && ${k} !== '${Ss}'`,Z,qe),Ja=(k,Z,qe)=>V0(`${k} === '${ai}' || ${k} === '${xi}'`,Z,qe),rc=(k,Z,qe)=>V0(`${k} === '${xi}'`,Z,qe),tf=(k,Z,qe)=>V0(`${k} === '${Xi}'`,Z,qe),Nc=(k,Z,qe)=>(Z=Z!=null?p(Z):Z,qe=qe!=null?p(qe):qe,o0(Z)&&o0(qe)?(Z=Z?Z.signal||e.stringValue(Z.value):null,qe=qe?qe.signal||e.stringValue(qe.value):null,{signal:`${k} ? (${Z}) : (${qe})`}):[e.extend({test:k},Z)].concat(qe||[])),o0=k=>k==null||Object.keys(k).length===1,V0=(k,Z,qe)=>({signal:`${k} ? (${nf(Z)}) : (${nf(qe)})`}),ic=(k,Z,qe,kt,Vt)=>({signal:(kt!=null?`${k} === '${ai}' ? (${nf(kt)}) : `:"")+(qe!=null?`${k} === '${Ss}' ? (${nf(qe)}) : `:"")+(Vt!=null?`${k} === '${Xi}' ? (${nf(Vt)}) : `:"")+(Z!=null?`${k} === '${xi}' ? (${nf(Z)}) : `:"")+"(null)"}),nf=k=>Rn(k)?k.signal:k==null?null:e.stringValue(k),a0=(k,Z)=>Z===0?0:Rn(k)?{signal:`(${k.signal}) * ${Z}`}:{value:k*Z},yl=(k,Z)=>{let qe=k.signal;return qe&&qe.endsWith("(null)")?{signal:qe.slice(0,-6)+Z.signal}:k};function Lc(k,Z,qe,kt){let Vt;if(Z&&e.hasOwnProperty(Z,k))return Z[k];if(e.hasOwnProperty(qe,k))return qe[k];if(k.startsWith("title")){switch(k){case"titleColor":Vt="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":Vt=k[5].toLowerCase()+k.slice(6)}return kt[ef][Vt]}else if(k.startsWith("label")){switch(k){case"labelColor":Vt="fill";break;case"labelFont":case"labelFontSize":Vt=k[5].toLowerCase()+k.slice(6)}return kt[Xu][Vt]}return null}function u0(k){let Z={};for(let qe of k)if(!!qe)for(let kt in qe)Z[kt]=1;return Object.keys(Z)}function sc(k,Z){var qe=Z.config,kt=qe.style,Vt=qe.axis,An=Z.scaleType(k.scale)==="band"&&qe.axisBand,kn=k.orient,sr,hr,Nr;if(Rn(kn)){let Fi=u0([qe.axisX,qe.axisY]),Qi=u0([qe.axisTop,qe.axisBottom,qe.axisLeft,qe.axisRight]);sr={};for(Nr of Fi)sr[Nr]=vr(kn,Lc(Nr,qe.axisX,Vt,kt),Lc(Nr,qe.axisY,Vt,kt));hr={};for(Nr of Qi)hr[Nr]=ic(kn.signal,Lc(Nr,qe.axisTop,Vt,kt),Lc(Nr,qe.axisBottom,Vt,kt),Lc(Nr,qe.axisLeft,Vt,kt),Lc(Nr,qe.axisRight,Vt,kt))}else sr=kn===xi||kn===Ss?qe.axisX:qe.axisY,hr=qe["axis"+kn[0].toUpperCase()+kn.slice(1)];return sr||hr||An?e.extend({},Vt,sr,hr,An):Vt}function zl(k,Z,qe,kt){let Vt=Zi(k,Z),An=k.orient,kn,sr,hr={enter:kn={opacity:Ei},update:sr={opacity:Wi},exit:{opacity:Ei}};E(hr,{stroke:Vt("domainColor"),strokeCap:Vt("domainCap"),strokeDash:Vt("domainDash"),strokeDashOffset:Vt("domainDashOffset"),strokeWidth:Vt("domainWidth"),strokeOpacity:Vt("domainOpacity")});let Nr=W0(k,0),rt=W0(k,1);return kn.x=sr.x=vr(An,Nr,Ei),kn.x2=sr.x2=vr(An,rt),kn.y=sr.y=fr(An,Nr,Ei),kn.y2=sr.y2=fr(An,rt),vs({type:da,role:P,from:kt,encode:hr},qe)}function W0(k,Z){return{scale:k.scale,range:Z}}function Ah(k,Z,qe,kt,Vt){let An=Zi(k,Z),kn=k.orient,sr=k.gridScale,hr=ir(kn,1,-1),Nr=Q0(k.offset,hr),rt,Fi,Qi,Li={enter:rt={opacity:Ei},update:Qi={opacity:Wi},exit:Fi={opacity:Ei}};E(Li,{stroke:An("gridColor"),strokeCap:An("gridCap"),strokeDash:An("gridDash"),strokeDashOffset:An("gridDashOffset"),strokeOpacity:An("gridOpacity"),strokeWidth:An("gridWidth")});let Qr={scale:k.scale,field:ea,band:Vt.band,extra:Vt.extra,offset:Vt.offset,round:An("tickRound")},Gs=vr(kn,{signal:"height"},{signal:"width"}),Uo=sr?{scale:sr,range:0,mult:hr,offset:Nr}:{value:0,offset:Nr},ga=sr?{scale:sr,range:1,mult:hr,offset:Nr}:e.extend(Gs,{mult:hr,offset:Nr});return rt.x=Qi.x=vr(kn,Qr,Uo),rt.y=Qi.y=fr(kn,Qr,Uo),rt.x2=Qi.x2=fr(kn,ga),rt.y2=Qi.y2=vr(kn,ga),Fi.x=vr(kn,Qr),Fi.y=fr(kn,Qr),vs({type:da,role:G,key:ea,from:kt,encode:Li},qe)}function Q0(k,Z){if(Z!==1)if(!e.isObject(k))k=Rn(Z)?{signal:`(${Z.signal}) * (${k||0})`}:Z*(k||0);else{let qe=k=e.extend({},k);for(;qe.mult!=null;)if(e.isObject(qe.mult))qe=qe.mult=e.extend({},qe.mult);else return qe.mult=Rn(Z)?{signal:`(${qe.mult}) * (${Z.signal})`}:qe.mult*Z,k;qe.mult=Z}return k}function G0(k,Z,qe,kt,Vt,An){let kn=Zi(k,Z),sr=k.orient,hr=ir(sr,-1,1),Nr,rt,Fi,Qi={enter:Nr={opacity:Ei},update:Fi={opacity:Wi},exit:rt={opacity:Ei}};E(Qi,{stroke:kn("tickColor"),strokeCap:kn("tickCap"),strokeDash:kn("tickDash"),strokeDashOffset:kn("tickDashOffset"),strokeOpacity:kn("tickOpacity"),strokeWidth:kn("tickWidth")});let Li=p(Vt);Li.mult=hr;let Qr={scale:k.scale,field:ea,band:An.band,extra:An.extra,offset:An.offset,round:kn("tickRound")};return Fi.y=Nr.y=vr(sr,Ei,Qr),Fi.y2=Nr.y2=vr(sr,Li),rt.x=vr(sr,Qr),Fi.x=Nr.x=fr(sr,Ei,Qr),Fi.x2=Nr.x2=fr(sr,Li),rt.y=fr(sr,Qr),vs({type:da,role:I,key:ea,from:kt,encode:Qi},qe)}function rf(k,Z,qe,kt,Vt){return{signal:'flush(range("'+k+'"), scale("'+k+'", datum.value), '+Z+","+qe+","+kt+","+Vt+")"}}function Y0(k,Z,qe,kt,Vt,An){let kn=Zi(k,Z),sr=k.orient,hr=k.scale,Nr=ir(sr,-1,1),rt=Bt(kn("labelFlush")),Fi=Bt(kn("labelFlushOffset")),Qi=kn("labelAlign"),Li=kn("labelBaseline"),Qr=rt===0||!!rt,Gs,Uo=p(Vt);Uo.mult=Nr,Uo.offset=p(kn("labelPadding")||0),Uo.offset.mult=Nr;let ga={scale:hr,field:ea,band:.5,offset:Vo(An.offset,kn("labelOffset"))},po=vr(sr,Qr?rf(hr,rt,'"left"','"right"','"center"'):{value:"center"},_s(sr,"left","right")),La=vr(sr,es(sr,"bottom","top"),Qr?rf(hr,rt,'"top"','"bottom"','"middle"'):{value:"middle"}),oc=rf(hr,rt,`-(${Fi})`,Fi,0);Qr=Qr&&Fi;let Hl={opacity:Ei,x:vr(sr,ga,Uo),y:fr(sr,ga,Uo)},ka={enter:Hl,update:Gs={opacity:Wi,text:{field:cu},x:Hl.x,y:Hl.y,align:po,baseline:La},exit:{opacity:Ei,x:Hl.x,y:Hl.y}};E(ka,{dx:!Qi&&Qr?vr(sr,oc):null,dy:!Li&&Qr?fr(sr,oc):null}),E(ka,{angle:kn("labelAngle"),fill:kn("labelColor"),fillOpacity:kn("labelOpacity"),font:kn("labelFont"),fontSize:kn("labelFontSize"),fontWeight:kn("labelFontWeight"),fontStyle:kn("labelFontStyle"),limit:kn("labelLimit"),lineHeight:kn("labelLineHeight")},{align:Qi,baseline:Li});let ac=kn("labelBound"),ya=kn("labelOverlap");return ya=ya||ac?{separation:kn("labelSeparation"),method:ya,order:"datum.index",bound:ac?{scale:hr,orient:sr,tolerance:ac}:null}:void 0,Gs.align!==po&&(Gs.align=yl(Gs.align,po)),Gs.baseline!==La&&(Gs.baseline=yl(Gs.baseline,La)),vs({type:ls,role:ue,style:Xu,key:ea,from:kt,encode:ka,overlap:ya},qe)}function kc(k,Z,qe,kt){let Vt=Zi(k,Z),An=k.orient,kn=ir(An,-1,1),sr,hr,Nr={enter:sr={opacity:Ei,anchor:p(Vt("titleAnchor",null)),align:{signal:oa}},update:hr=e.extend({},sr,{opacity:Wi,text:p(k.title)}),exit:{opacity:Ei}},rt={signal:`lerp(range("${k.scale}"), ${ma(0,1,.5)})`};return hr.x=vr(An,rt),hr.y=fr(An,rt),sr.angle=vr(An,Ei,a0(kn,90)),sr.baseline=vr(An,es(An,Ss,xi),{value:Ss}),hr.angle=sr.angle,hr.baseline=sr.baseline,E(Nr,{fill:Vt("titleColor"),fillOpacity:Vt("titleOpacity"),font:Vt("titleFont"),fontSize:Vt("titleFontSize"),fontStyle:Vt("titleFontStyle"),fontWeight:Vt("titleFontWeight"),limit:Vt("titleLimit"),lineHeight:Vt("titleLineHeight")},{align:Vt("titleAlign"),angle:Vt("titleAngle"),baseline:Vt("titleBaseline")}),l0(Vt,An,Nr,qe),Nr.update.align=yl(Nr.update.align,sr.align),Nr.update.angle=yl(Nr.update.angle,sr.angle),Nr.update.baseline=yl(Nr.update.baseline,sr.baseline),vs({type:ls,role:J,style:ef,from:kt,encode:Nr},qe)}function l0(k,Z,qe,kt){let Vt=(sr,hr)=>sr!=null?(qe.update[hr]=yl(p(sr),qe.update[hr]),!1):!R(hr,kt),An=Vt(k("titleX"),"x"),kn=Vt(k("titleY"),"y");qe.enter.auto=kn===An?p(kn):vr(Z,p(kn),p(An))}function c0(k,Z){let qe=sc(k,Z),kt=k.encode||{},Vt=kt.axis||{},An=Vt.name||void 0,kn=Vt.interactive,sr=Vt.style,hr=Zi(k,qe),Nr=Ri(hr),rt={scale:k.scale,ticks:!!hr("ticks"),labels:!!hr("labels"),grid:!!hr("grid"),domain:!!hr("domain"),title:k.title!=null},Fi=_t(Z.add(ft({},[rt]))),Qi=_t(Z.add(hn({scale:Z.scaleRef(k.scale),extra:Z.property(Nr.extra),count:Z.objectProperty(k.tickCount),values:Z.objectProperty(k.values),minstep:Z.property(k.tickMinStep),formatType:Z.property(k.formatType),formatSpecifier:Z.property(k.format)}))),Li=[],Qr;return rt.grid&&Li.push(Ah(k,qe,kt.grid,Qi,Nr)),rt.ticks&&(Qr=hr("tickSize"),Li.push(G0(k,qe,kt.ticks,Qi,Qr,Nr))),rt.labels&&(Qr=rt.ticks?Qr:0,Li.push(Y0(k,qe,kt.labels,Qi,Qr,Nr))),rt.domain&&Li.push(zl(k,qe,kt.domain,Fi)),rt.title&&Li.push(kc(k,qe,kt.title,Fi)),vi(ps({role:B,from:Fi,encode:O(f0(hr,k),Vt,hi),marks:Li,aria:hr("aria"),description:hr("description"),zindex:hr("zindex"),name:An,interactive:kn,style:sr}),Z)}function f0(k,Z){let qe={enter:{},update:{}};return E(qe,{orient:k("orient"),offset:k("offset")||0,position:De(Z.position,0),titlePadding:k("titlePadding"),minExtent:k("minExtent"),maxExtent:k("maxExtent"),range:{signal:`abs(span(range("${Z.scale}")))`},translate:k("translate"),format:Z.format,formatType:Z.formatType}),qe}function qo(k,Z,qe){let kt=e.array(k.signals),Vt=e.array(k.scales);return qe||kt.forEach(An=>Ie(An,Z)),e.array(k.projections).forEach(An=>yr(An,Z)),Vt.forEach(An=>Ge(An,Z)),e.array(k.data).forEach(An=>hu(An,Z)),Vt.forEach(An=>Mt(An,Z)),(qe||kt).forEach(An=>je(An,Z)),e.array(k.axes).forEach(An=>c0(An,Z)),e.array(k.marks).forEach(An=>vi(An,Z)),e.array(k.legends).forEach(An=>ss(An,Z)),k.title&&Ti(k.title,Z),Z.parseLambdas(),Z}let Xo=k=>O({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},k);function d0(k,Z){let qe=Z.config,kt=_t(Z.root=Z.add(ct())),Vt=sf(k,qe);Vt.forEach(Nr=>Ie(Nr,Z)),Z.description=k.description||qe.description,Z.eventConfig=qe.events,Z.legends=Z.objectProperty(qe.legend&&qe.legend.layout),Z.locale=qe.locale;let An=Z.add(ft()),kn=Z.add(Ue(rn(Xo(k.encode),Jo,z,k.style,Z,{pulse:_t(An)}))),sr=Z.add(xe({layout:Z.objectProperty(k.layout),legends:Z.legends,autosize:Z.signalRef("autosize"),mark:kt,pulse:_t(kn)}));Z.operators.pop(),Z.pushState(_t(kn),_t(sr),null),qo(k,Z,Vt),Z.operators.push(sr);let hr=Z.add(an({mark:kt,pulse:_t(sr)}));return hr=Z.add(Dt({pulse:_t(hr)})),hr=Z.add(V({pulse:_t(hr)})),Z.addData("root",new ii(Z,An,An,hr)),Z}function vl(k,Z){return Z&&Z.signal?{name:k,update:Z.signal}:{name:k,value:Z}}function sf(k,Z){let qe=kn=>De(k[kn],Z[kn]),kt=[vl("background",qe("background")),vl("autosize",o(qe("autosize"))),vl("padding",f(qe("padding"))),vl("width",qe("width")||0),vl("height",qe("height")||0)],Vt=kt.reduce((kn,sr)=>(kn[sr.name]=sr,kn),{}),An={};return e.array(k.signals).forEach(kn=>{e.hasOwnProperty(Vt,kn.name)?kn=e.extend(Vt[kn.name],kn):kt.push(kn),An[kn.name]=kn}),e.array(Z.signals).forEach(kn=>{!e.hasOwnProperty(An,kn.name)&&!e.hasOwnProperty(Vt,kn.name)&&kt.push(kn)}),kt}function Bd(k,Z){this.config=k||{},this.options=Z||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Du(k){this.config=k.config,this.options=k.options,this.legends=k.legends,this.field=Object.create(k.field),this.signals=Object.create(k.signals),this.lambdas=Object.create(k.lambdas),this.scales=Object.create(k.scales),this.events=Object.create(k.events),this.data=Object.create(k.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++k._nextsub[0],this._nextsub=k._nextsub,this._parent=k._parent.slice(),this._encode=k._encode.slice(),this._lookup=k._lookup.slice(),this._markpath=k._markpath}Bd.prototype=Du.prototype={parse(k){return qo(k,this)},fork(){return new Du(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(k){return this.operators.push(k),k.id=this.id(),k.refs&&(k.refs.forEach(Z=>{Z.$ref=k.id}),k.refs=null),k},proxy(k){let Z=k instanceof re?_t(k):k;return this.add(Oe({value:Z}))},addStream(k){return this.streams.push(k),k.id=this.id(),k},addUpdate(k){return this.updates.push(k),k},finish(){let k,Z;this.root&&(this.root.root=!0);for(k in this.signals)this.signals[k].signal=k;for(k in this.scales)this.scales[k].scale=k;function qe(kt,Vt,An){let kn,sr;kt&&(kn=kt.data||(kt.data={}),sr=kn[Vt]||(kn[Vt]=[]),sr.push(An))}for(k in this.data){Z=this.data[k],qe(Z.input,k,"input"),qe(Z.output,k,"output"),qe(Z.values,k,"values");for(let kt in Z.index)qe(Z.index[kt],k,"index:"+kt)}return this},pushState(k,Z,qe){this._encode.push(_t(this.add(V({pulse:k})))),this._parent.push(Z),this._lookup.push(qe?_t(this.proxy(qe)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return e.peek(this._parent)},encode(){return e.peek(this._encode)},lookup(){return e.peek(this._lookup)},markpath(){let k=this._markpath;return++k[k.length-1]},fieldRef(k,Z){if(e.isString(k))return Lt(k,Z);k.signal||e.error("Unsupported field reference: "+e.stringValue(k));let qe=k.signal,kt=this.field[qe];if(!kt){let Vt={name:this.signalRef(qe)};Z&&(Vt.as=Z),this.field[qe]=kt=_t(this.add(Nt(Vt)))}return kt},compareRef(k){let Z=!1,qe=An=>Rn(An)?(Z=!0,this.signalRef(An.signal)):Re(An)?(Z=!0,this.exprRef(An.expr)):An,kt=e.array(k.field).map(qe),Vt=e.array(k.order).map(qe);return Z?_t(this.add(ie({fields:kt,orders:Vt}))):Gt(kt,Vt)},keyRef(k,Z){let qe=!1,kt=An=>Rn(An)?(qe=!0,_t(Vt[An.signal])):An,Vt=this.signals;return k=e.array(k).map(kt),qe?_t(this.add(ne({fields:k,flat:Z}))):fn(k,Z)},sortRef(k){if(!k)return k;let Z=un(k.op,k.field),qe=k.order||gn;return qe.signal?_t(this.add(ie({fields:Z,orders:this.signalRef(qe.signal)}))):Gt(Z,qe)},event(k,Z){let qe=k+":"+Z;if(!this.events[qe]){let kt=this.id();this.streams.push({id:kt,source:k,type:Z}),this.events[qe]=kt}return this.events[qe]},hasOwnSignal(k){return e.hasOwnProperty(this.signals,k)},addSignal(k,Z){this.hasOwnSignal(k)&&e.error("Duplicate signal name: "+e.stringValue(k));let qe=Z instanceof re?Z:this.add(ct(Z));return this.signals[k]=qe},getSignal(k){return this.signals[k]||e.error("Unrecognized signal name: "+e.stringValue(k)),this.signals[k]},signalRef(k){return this.signals[k]?_t(this.signals[k]):(e.hasOwnProperty(this.lambdas,k)||(this.lambdas[k]=this.add(ct(null))),_t(this.lambdas[k]))},parseLambdas(){let k=Object.keys(this.lambdas);for(let Z=0,qe=k.length;Z<qe;++Z){let kt=k[Z],Vt=t.parseExpression(kt,this),An=this.lambdas[kt];An.params=Vt.$params,An.update=Vt.$expr}},property(k){return k&&k.signal?this.signalRef(k.signal):k},objectProperty(k){return!k||!e.isObject(k)?k:this.signalRef(k.signal||vo(k))},exprRef(k,Z){let qe={expr:t.parseExpression(k,this)};return Z&&(qe.expr.$name=Z),_t(this.add(xt(qe)))},addBinding(k,Z){this.bindings||e.error("Nested signals do not support binding: "+e.stringValue(k)),this.bindings.push(e.extend({signal:k},Z))},addScaleProj(k,Z){e.hasOwnProperty(this.scales,k)&&e.error("Duplicate scale or projection name: "+e.stringValue(k)),this.scales[k]=this.add(Z)},addScale(k,Z){this.addScaleProj(k,N(Z))},addProjection(k,Z){this.addScaleProj(k,zn(Z))},getScale(k){return this.scales[k]||e.error("Unrecognized scale name: "+e.stringValue(k)),this.scales[k]},scaleRef(k){return _t(this.getScale(k))},scaleType(k){return this.getScale(k).params.type},projectionRef(k){return this.scaleRef(k)},projectionType(k){return this.scaleType(k)},addData(k,Z){return e.hasOwnProperty(this.data,k)&&e.error("Duplicate data set name: "+e.stringValue(k)),this.data[k]=Z},getData(k){return this.data[k]||e.error("Undefined data set name: "+e.stringValue(k)),this.data[k]},addDataPipeline(k,Z){return e.hasOwnProperty(this.data,k)&&e.error("Duplicate data set name: "+e.stringValue(k)),this.addData(k,ii.fromEntries(this,Z))}};function vo(k){return(e.isArray(k)?Th:_l)(k)}function Th(k){let Z=k.length,qe="[";for(let kt=0;kt<Z;++kt){let Vt=k[kt];qe+=(kt>0?",":"")+(e.isObject(Vt)?Vt.signal||vo(Vt):e.stringValue(Vt))}return qe+"]"}function _l(k){let Z="{",qe=0,kt,Vt;for(kt in k)Vt=k[kt],Z+=(++qe>1?",":"")+e.stringValue(kt)+":"+(e.isObject(Vt)?Vt.signal||vo(Vt):e.stringValue(Vt));return Z+"}"}function ks(){let k="sans-serif",Z=30,qe=2,kt="#4c78a8",Vt="#000",An="#888",kn="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:kt},area:{fill:kt},image:null,line:{stroke:kt,strokeWidth:qe},path:{stroke:kt},rect:{fill:kt},rule:{stroke:Vt},shape:{stroke:kt},symbol:{fill:kt,size:64},text:{fill:Vt,font:k,fontSize:11},trail:{fill:kt,size:qe},style:{"guide-label":{fill:Vt,font:k,fontSize:10},"guide-title":{fill:Vt,font:k,fontSize:11,fontWeight:"bold"},"group-title":{fill:Vt,font:k,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:Vt,font:k,fontSize:12},point:{size:Z,strokeWidth:qe,shape:"circle"},circle:{size:Z,strokeWidth:qe},square:{size:Z,strokeWidth:qe,shape:"square"},cell:{fill:"transparent",stroke:kn}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:An,grid:!1,gridWidth:1,gridColor:kn,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:An,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:kn,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:An,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function bl(k,Z,qe){return e.isObject(k)||e.error("Input Vega specification must be an object."),Z=e.mergeConfig(ks(),Z,k.config),d0(k,new Bd(Z,qe)).toRuntime()}n.AxisDomainRole=P,n.AxisGridRole=G,n.AxisLabelRole=ue,n.AxisRole=B,n.AxisTickRole=I,n.AxisTitleRole=J,n.DataScope=ii,n.FrameRole=z,n.LegendEntryRole=Ve,n.LegendLabelRole=lt,n.LegendRole=he,n.LegendSymbolRole=et,n.LegendTitleRole=bt,n.MarkRole=q,n.Scope=Bd,n.ScopeRole=L,n.config=ks,n.parse=bl,n.signal=Ie,n.signalUpdates=je,n.stream=mt,Object.defineProperty(n,"__esModule",{value:!0})})});var ale=Ae(Qs=>{"use strict";m();Object.defineProperty(Qs,"__esModule",{value:!0});var ole=Au(),Id=r0(),ogt=XFe(),agt=rDe(),ugt=sDe(),lgt=uDe(),cgt=cDe(),fgt=dDe(),dgt=pDe(),hgt=xDe(),pgt=yDe(),mgt=_De(),xgt=EDe(),LDe=eE(),kDe=XC(),IDe=MH(),MDe=ZC(),e9=tE(),ggt=rle(),ygt=DDe(),eN=XR(),vgt=iV(),_gt=NDe(),bgt=ile(),PDe=tV(),Egt=sle();function Gm(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach(function(t){if(t!=="default"){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}}),e.default=n,Object.freeze(e)}var Sgt=Gm(ogt),wgt=Gm(agt),Cgt=Gm(ugt),Agt=Gm(lgt),Tgt=Gm(cgt),Fgt=Gm(fgt),Dgt=Gm(dgt),Ogt=Gm(hgt),Rgt=Gm(pgt),Ngt=Gm(mgt),Lgt=Gm(xgt),kgt="5.22.1";ole.extend(Id.transforms,Sgt,wgt,Cgt,Agt,Tgt,Dgt,Fgt,Ogt,Rgt,Ngt,Lgt);Object.defineProperty(Qs,"Dataflow",{enumerable:!0,get:function(){return Id.Dataflow}});Object.defineProperty(Qs,"EventStream",{enumerable:!0,get:function(){return Id.EventStream}});Object.defineProperty(Qs,"MultiPulse",{enumerable:!0,get:function(){return Id.MultiPulse}});Object.defineProperty(Qs,"Operator",{enumerable:!0,get:function(){return Id.Operator}});Object.defineProperty(Qs,"Parameters",{enumerable:!0,get:function(){return Id.Parameters}});Object.defineProperty(Qs,"Pulse",{enumerable:!0,get:function(){return Id.Pulse}});Object.defineProperty(Qs,"Transform",{enumerable:!0,get:function(){return Id.Transform}});Object.defineProperty(Qs,"changeset",{enumerable:!0,get:function(){return Id.changeset}});Object.defineProperty(Qs,"definition",{enumerable:!0,get:function(){return Id.definition}});Object.defineProperty(Qs,"ingest",{enumerable:!0,get:function(){return Id.ingest}});Object.defineProperty(Qs,"isTuple",{enumerable:!0,get:function(){return Id.isTuple}});Object.defineProperty(Qs,"transform",{enumerable:!0,get:function(){return Id.transform}});Object.defineProperty(Qs,"transforms",{enumerable:!0,get:function(){return Id.transforms}});Object.defineProperty(Qs,"tupleid",{enumerable:!0,get:function(){return Id.tupleid}});Object.defineProperty(Qs,"interpolate",{enumerable:!0,get:function(){return e9.interpolate}});Object.defineProperty(Qs,"interpolateColors",{enumerable:!0,get:function(){return e9.interpolateColors}});Object.defineProperty(Qs,"interpolateRange",{enumerable:!0,get:function(){return e9.interpolateRange}});Object.defineProperty(Qs,"quantizeInterpolator",{enumerable:!0,get:function(){return e9.quantizeInterpolator}});Object.defineProperty(Qs,"scale",{enumerable:!0,get:function(){return e9.scale}});Object.defineProperty(Qs,"scheme",{enumerable:!0,get:function(){return e9.scheme}});Object.defineProperty(Qs,"projection",{enumerable:!0,get:function(){return ggt.projection}});Object.defineProperty(Qs,"View",{enumerable:!0,get:function(){return ygt.View}});Object.defineProperty(Qs,"defaultLocale",{enumerable:!0,get:function(){return eN.defaultLocale}});Object.defineProperty(Qs,"formatLocale",{enumerable:!0,get:function(){return eN.numberFormatDefaultLocale}});Object.defineProperty(Qs,"locale",{enumerable:!0,get:function(){return eN.locale}});Object.defineProperty(Qs,"resetDefaultLocale",{enumerable:!0,get:function(){return eN.resetDefaultLocale}});Object.defineProperty(Qs,"timeFormatLocale",{enumerable:!0,get:function(){return eN.timeFormatDefaultLocale}});Object.defineProperty(Qs,"expressionFunction",{enumerable:!0,get:function(){return vgt.expressionFunction}});Object.defineProperty(Qs,"parse",{enumerable:!0,get:function(){return _gt.parse}});Object.defineProperty(Qs,"runtimeContext",{enumerable:!0,get:function(){return bgt.context}});Object.defineProperty(Qs,"codegenExpression",{enumerable:!0,get:function(){return PDe.codegenExpression}});Object.defineProperty(Qs,"parseExpression",{enumerable:!0,get:function(){return PDe.parseExpression}});Object.defineProperty(Qs,"parseSelector",{enumerable:!0,get:function(){return Egt.parseSelector}});Qs.version=kgt;Object.keys(ole).forEach(function(n){n!=="default"&&!Qs.hasOwnProperty(n)&&Object.defineProperty(Qs,n,{enumerable:!0,get:function(){return ole[n]}})});Object.keys(LDe).forEach(function(n){n!=="default"&&!Qs.hasOwnProperty(n)&&Object.defineProperty(Qs,n,{enumerable:!0,get:function(){return LDe[n]}})});Object.keys(kDe).forEach(function(n){n!=="default"&&!Qs.hasOwnProperty(n)&&Object.defineProperty(Qs,n,{enumerable:!0,get:function(){return kDe[n]}})});Object.keys(IDe).forEach(function(n){n!=="default"&&!Qs.hasOwnProperty(n)&&Object.defineProperty(Qs,n,{enumerable:!0,get:function(){return IDe[n]}})});Object.keys(MDe).forEach(function(n){n!=="default"&&!Qs.hasOwnProperty(n)&&Object.defineProperty(Qs,n,{enumerable:!0,get:function(){return MDe[n]}})})});var jDe=Ae((lV,BDe)=>{m();(function(n,e){typeof lV=="object"&&typeof BDe!="undefined"?e(lV,ale()):typeof define=="function"&&define.amd?define(["exports","vega"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vegaLite={},n.vega))})(lV,function(n,e){"use strict";var t="vega-lite",r='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',i="5.5.0",s=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],o="https://vega.github.io/vega-lite/",a="Vega-Lite is a concise high-level language for interactive visualization.",l=["vega","chart","visualization"],f="build/vega-lite.js",p="build/vega-lite.min.js",_="build/vega-lite.min.js",E="build/src/index",O="build/src/index.d.ts",R={vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2pdf:"./bin/vl2pdf",vl2vg:"./bin/vl2vg"},q=["bin","build","src","vega-lite*","tsconfig.json"],z={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",eslintbase:"eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"yarn run prebuild && yarn build && yarn shipit",shipit:"auto shipit"},L={type:"git",url:"https://github.com/vega/vega-lite.git"},B="BSD-3-Clause",P={url:"https://github.com/vega/vega-lite/issues"},G={"@auto-it/conventional-commits":"^10.37.6","@auto-it/first-time-contributor":"^10.37.6","@babel/core":"^7.19.1","@babel/preset-env":"^7.19.1","@babel/preset-typescript":"^7.18.6","@rollup/plugin-alias":"^4.0.0","@rollup/plugin-babel":"^6.0.0","@rollup/plugin-commonjs":"^23.0.0","@rollup/plugin-json":"^4.1.0","@types/jest":"^27.4.1","@rollup/plugin-node-resolve":"^14.1.0","@types/chai":"^4.3.3","@types/d3":"^7.4.0","@types/mkdirp":"^1.0.2","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.38.0","@typescript-eslint/parser":"^5.38.0",ajv:"^8.11.0","ajv-formats":"^2.1.1",auto:"^10.37.6",chai:"^4.3.6",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^2.2.2",d3:"^7.6.1","del-cli":"^5.0.0",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-prettier":"^4.2.1","gh-pages":"^4.0.0",jest:"^27.5.1","highlight.js":"^11.6.0","jest-dev-server":"^6.1.1",mkdirp:"^1.0.4",pako:"^2.0.4",prettier:"^2.7.1",puppeteer:"^15.0.0",rollup:"^2.79.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3","rollup-plugin-terser":"^7.0.2",serve:"^14.0.1",terser:"^5.15.0","ts-jest":"^29.0.1","ts-json-schema-generator":"^1.1.1","vega-cli":"^5.22.1",typescript:"~4.8.3","vega-datasets":"~2.5.1","vega-embed":"^6.21.0","vega-tooltip":"^0.28.0","yaml-front-matter":"^4.1.1"},ue={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.4.0","vega-event-selector":"~3.0.0","vega-expression":"~5.0.0","vega-util":"~1.17.0",yargs:"~17.6.0"},I={vega:"^5.22.0"},J={node:">=12"},he={name:t,author:r,version:i,collaborators:s,homepage:o,description:a,keywords:l,main:f,unpkg:p,jsdelivr:_,module:E,types:O,bin:R,files:q,scripts:z,repository:L,license:B,bugs:P,devDependencies:G,dependencies:ue,peerDependencies:I,engines:J},ve={exports:{}};(function(u){var c=function(){function d(on,In){return In!=null&&on instanceof In}var g;try{g=Map}catch{g=function(){}}var b;try{b=Set}catch{b=function(){}}var D;try{D=Promise}catch{D=function(){}}function M(on,In,Xn,lr,pr){typeof In=="object"&&(Xn=In.depth,lr=In.prototype,pr=In.includeNonEnumerable,In=In.circular);var kr=[],Ni=[],Ui=typeof Buffer!="undefined";typeof In=="undefined"&&(In=!0),typeof Xn=="undefined"&&(Xn=1/0);function Os(ji,na){if(ji===null)return null;if(na===0)return ji;var as,ul;if(typeof ji!="object")return ji;if(d(ji,g))as=new g;else if(d(ji,b))as=new b;else if(d(ji,D))as=new D(function(l2,m3){ji.then(function(x3){l2(Os(x3,na-1))},function(x3){m3(Os(x3,na-1))})});else if(M.__isArray(ji))as=[];else if(M.__isRegExp(ji))as=new RegExp(ji.source,qt(ji)),ji.lastIndex&&(as.lastIndex=ji.lastIndex);else if(M.__isDate(ji))as=new Date(ji.getTime());else{if(Ui&&Buffer.isBuffer(ji))return Buffer.allocUnsafe?as=Buffer.allocUnsafe(ji.length):as=new Buffer(ji.length),ji.copy(as),as;d(ji,Error)?as=Object.create(ji):typeof lr=="undefined"?(ul=Object.getPrototypeOf(ji),as=Object.create(ul)):(as=Object.create(lr),ul=lr)}if(In){var Fl=kr.indexOf(ji);if(Fl!=-1)return Ni[Fl];kr.push(ji),Ni.push(as)}d(ji,g)&&ji.forEach(function(l2,m3){var x3=Os(m3,na-1),ik=Os(l2,na-1);as.set(x3,ik)}),d(ji,b)&&ji.forEach(function(l2){var m3=Os(l2,na-1);as.add(m3)});for(var pc in ji){var ig;ul&&(ig=Object.getOwnPropertyDescriptor(ul,pc)),!(ig&&ig.set==null)&&(as[pc]=Os(ji[pc],na-1))}if(Object.getOwnPropertySymbols)for(var sg=Object.getOwnPropertySymbols(ji),pc=0;pc<sg.length;pc++){var og=sg[pc],nm=Object.getOwnPropertyDescriptor(ji,og);nm&&!nm.enumerable&&!pr||(as[og]=Os(ji[og],na-1),nm.enumerable||Object.defineProperty(as,og,{enumerable:!1}))}if(pr)for(var ag=Object.getOwnPropertyNames(ji),pc=0;pc<ag.length;pc++){var ug=ag[pc],nm=Object.getOwnPropertyDescriptor(ji,ug);nm&&nm.enumerable||(as[ug]=Os(ji[ug],na-1),Object.defineProperty(as,ug,{enumerable:!1}))}return as}return Os(on,Xn)}M.clonePrototype=function(In){if(In===null)return null;var Xn=function(){};return Xn.prototype=In,new Xn};function Q(on){return Object.prototype.toString.call(on)}M.__objToStr=Q;function se(on){return typeof on=="object"&&Q(on)==="[object Date]"}M.__isDate=se;function We(on){return typeof on=="object"&&Q(on)==="[object Array]"}M.__isArray=We;function Xe(on){return typeof on=="object"&&Q(on)==="[object RegExp]"}M.__isRegExp=Xe;function qt(on){var In="";return on.global&&(In+="g"),on.ignoreCase&&(In+="i"),on.multiline&&(In+="m"),In}return M.__getRegExpFlags=qt,M}();u.exports&&(u.exports=c)})(ve);var Ve=ve.exports,ot=function u(c,d){if(c===d)return!0;if(c&&d&&typeof c=="object"&&typeof d=="object"){if(c.constructor!==d.constructor)return!1;var g,b,D;if(Array.isArray(c)){if(g=c.length,g!=d.length)return!1;for(b=g;b--!==0;)if(!u(c[b],d[b]))return!1;return!0}if(c.constructor===RegExp)return c.source===d.source&&c.flags===d.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===d.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===d.toString();if(D=Object.keys(c),g=D.length,g!==Object.keys(d).length)return!1;for(b=g;b--!==0;)if(!Object.prototype.hasOwnProperty.call(d,D[b]))return!1;for(b=g;b--!==0;){var M=D[b];if(!u(c[M],d[M]))return!1}return!0}return c!==c&&d!==d},lt=function(u,c){c||(c={}),typeof c=="function"&&(c={cmp:c});var d=typeof c.cycles=="boolean"?c.cycles:!1,g=c.cmp&&function(D){return function(M){return function(Q,se){var We={key:Q,value:M[Q]},Xe={key:se,value:M[se]};return D(We,Xe)}}}(c.cmp),b=[];return function D(M){if(M&&M.toJSON&&typeof M.toJSON=="function"&&(M=M.toJSON()),M!==void 0){if(typeof M=="number")return isFinite(M)?""+M:"null";if(typeof M!="object")return JSON.stringify(M);var Q,se;if(Array.isArray(M)){for(se="[",Q=0;Q<M.length;Q++)Q&&(se+=","),se+=D(M[Q])||"null";return se+"]"}if(M===null)return"null";if(b.indexOf(M)!==-1){if(d)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var We=b.push(M)-1,Xe=Object.keys(M).sort(g&&g(M));for(se="",Q=0;Q<Xe.length;Q++){var qt=Xe[Q],on=D(M[qt]);!on||(se&&(se+=","),se+=JSON.stringify(qt)+":"+on)}return b.splice(We,1),"{"+se+"}"}}(u)};function et(u){return!!u.or}function bt(u){return!!u.and}function Pt(u){return!!u.not}function $e(u,c){if(Pt(u))$e(u.not,c);else if(bt(u))for(let d of u.and)$e(d,c);else if(et(u))for(let d of u.or)$e(d,c);else c(u)}function te(u,c){return Pt(u)?{not:te(u.not,c)}:bt(u)?{and:u.and.map(d=>te(d,c))}:et(u)?{or:u.or.map(d=>te(d,c))}:c(u)}let Ze=ot,ye=Ve;function Le(u){throw new Error(u)}function Ce(u,c){let d={};for(let g of c)e.hasOwnProperty(u,g)&&(d[g]=u[g]);return d}function pe(u,c){let d={...u};for(let g of c)delete d[g];return d}Set.prototype.toJSON=function(){return`Set(${[...this].map(u=>lt(u)).join(",")})`};let Je=lt;function ut(u){if(e.isNumber(u))return u;let c=e.isString(u)?u:lt(u);if(c.length<250)return c;let d=0;for(let g=0;g<c.length;g++){let b=c.charCodeAt(g);d=(d<<5)-d+b,d=d&d}return d}function Ht(u){return u===!1||u===null}function Ct(u,c){return u.includes(c)}function xn(u,c){let d=0;for(let[g,b]of u.entries())if(c(b,g,d++))return!0;return!1}function Tt(u,c){let d=0;for(let[g,b]of u.entries())if(!c(b,g,d++))return!1;return!0}function Ot(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),g=1;g<c;g++)d[g-1]=arguments[g];for(let b of d)rn(u,b??{});return u}function rn(u,c){for(let d of re(c))e.writeConfig(u,d,c[d],!0)}function St(u,c){let d=[],g={},b;for(let D of u)b=c(D),!(b in g)&&(g[b]=1,d.push(D));return d}function _e(u,c){let d=re(u),g=re(c);if(d.length!==g.length)return!1;for(let b of d)if(u[b]!==c[b])return!1;return!0}function ke(u,c){if(u.size!==c.size)return!1;for(let d of u)if(!c.has(d))return!1;return!0}function Se(u,c){for(let d of u)if(c.has(d))return!0;return!1}function ce(u){let c=new Set;for(let d of u){let b=e.splitAccessPath(d).map((M,Q)=>Q===0?M:`[${M}]`),D=b.map((M,Q)=>b.slice(0,Q+1).join(""));for(let M of D)c.add(M)}return c}function tt(u,c){return u===void 0||c===void 0?!0:Se(ce(u),ce(c))}function Ie(u){return re(u).length===0}let re=Object.keys,Ne=Object.values,ct=Object.entries;function _t(u){return u===!0||u===!1}function Lt(u){let c=u.replace(/\W/g,"_");return(u.match(/^\d+/)?"_":"")+c}function Yt(u,c){return Pt(u)?`!(${Yt(u.not,c)})`:bt(u)?`(${u.and.map(d=>Yt(d,c)).join(") && (")})`:et(u)?`(${u.or.map(d=>Yt(d,c)).join(") || (")})`:c(u)}function Gt(u,c){if(c.length===0)return!0;let d=c.shift();return d in u&&Gt(u[d],c)&&delete u[d],Ie(u)}function fn(u){return u.charAt(0).toUpperCase()+u.substr(1)}function gn(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum",d=e.splitAccessPath(u),g=[];for(let b=1;b<=d.length;b++){let D=`[${d.slice(0,b).map(e.stringValue).join("][")}]`;g.push(`${c}${D}`)}return g.join(" && ")}function yn(u){return`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum"}[${e.stringValue(e.splitAccessPath(u).join("."))}]`}function It(u){return u.replace(/(\[|\]|\.|'|")/g,"\\$1")}function un(u){return`${e.splitAccessPath(u).map(It).join("\\.")}`}function Mn(u,c,d){return u.replace(new RegExp(c.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),d)}function tr(u){return`${e.splitAccessPath(u).join(".")}`}function Rn(u){return u?e.splitAccessPath(u).length:0}function Re(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];for(let g of c)if(g!==void 0)return g}let He=42;function De(u){let c=++He;return u?String(u)+c:c}function Bt(){He=42}function pt(u){return mt(u)?u:`__${u}`}function mt(u){return u.startsWith("__")}function nn(u){if(u!==void 0)return(u%360+360)%360}function Qt(u){return e.isNumber(u)?!0:!isNaN(u)&&!isNaN(parseFloat(u))}let Fn="row",Wn="column",Zn="facet",Nn="x",nr="y",Ke="x2",yt="y2",oe="xOffset",je="yOffset",nt="radius",Rt="radius2",hn="theta",an="theta2",ft="latitude",ie="longitude",Te="latitude2",Ue="longitude2",xt="color",Et="fill",Nt="stroke",ne="shape",we="size",Qe="angle",it="opacity",Ut="fillOpacity",sn="strokeOpacity",Cn="strokeWidth",En="strokeDash",vn="text",zn="order",Oe="detail",ze="key",Dt="tooltip",N="href",V="url",be="description",xe={x:1,y:1,x2:1,y2:1},K={theta:1,theta2:1,radius:1,radius2:1};function ae(u){return u in K}let fe={longitude:1,longitude2:1,latitude:1,latitude2:1};function Ge(u){switch(u){case ft:return"y";case Te:return"y2";case ie:return"x";case Ue:return"x2"}}function Mt(u){return u in fe}let At=re(fe),dn={...xe,...K,...fe,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function w(u){return u===xt||u===Et||u===Nt}let j={row:1,column:1,facet:1},ee=re(j),Ee={...dn,...j},dt=re(Ee),{order:Ft,detail:Zt,tooltip:Xt,...mn}=Ee,{row:qn,column:Un,facet:Vn,...Jr}=mn;function Vr(u){return!!Jr[u]}function yr(u){return!!Ee[u]}let Mr=[Ke,yt,Te,Ue,an,Rt];function xi(u){return ai(u)!==u}function ai(u){switch(u){case Ke:return Nn;case yt:return nr;case Te:return ft;case Ue:return ie;case an:return hn;case Rt:return nt}return u}function Xi(u){if(ae(u))switch(u){case hn:return"startAngle";case an:return"endAngle";case nt:return"outerRadius";case Rt:return"innerRadius"}return u}function Ss(u){switch(u){case Nn:return Ke;case nr:return yt;case ft:return Te;case ie:return Ue;case hn:return an;case nt:return Rt}}function ts(u){switch(u){case Nn:case Ke:return"width";case nr:case yt:return"height"}}function wa(u){switch(u){case Nn:return"xOffset";case nr:return"yOffset";case Ke:return"x2Offset";case yt:return"y2Offset";case hn:return"thetaOffset";case nt:return"radiusOffset";case an:return"theta2Offset";case Rt:return"radius2Offset"}}function pa(u){switch(u){case Nn:return"xOffset";case nr:return"yOffset"}}function xl(u){switch(u){case"xOffset":return"x";case"yOffset":return"y"}}let Oc=re(dn),{x:lu,y:cu,x2:Ju,y2:Fu,xOffset:Rc,yOffset:ea,latitude:Xu,longitude:ef,latitude2:Ye,longitude2:Kt,theta:Bn,theta2:Yn,radius:ri,radius2:Br,...Xr}=dn,Cs=re(Xr),co={x:1,y:1},ro=re(co);function us(u){return u in co}let io={theta:1,radius:1},fo=re(io);function hi(u){return u==="width"?Nn:nr}let Ei={xOffset:1,yOffset:1};function Wi(u){return u in Ei}let{text:Jo,tooltip:fa,href:da,url:ho,description:ls,detail:ps,key:Zi,order:fu,...Ms}=Xr,ma=re(Ms);function oa(u){return!!Xr[u]}function Ri(u){switch(u){case xt:case Et:case Nt:case we:case ne:case it:case Cn:case En:return!0;case Ut:case sn:case Qe:return!1}}let Vo={...co,...io,...Ei,...Ms},vs=re(Vo);function Ii(u){return!!Vo[u]}function Do(u,c){return Ao(u)[c]}let Na={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Ka,...Oo}=Na;function Ao(u){switch(u){case xt:case Et:case Nt:case be:case Oe:case ze:case Dt:case N:case zn:case it:case Ut:case sn:case Cn:case Zn:case Fn:case Wn:return Na;case Nn:case nr:case oe:case je:case ft:case ie:return Oo;case Ke:case yt:case Te:case Ue:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case we:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case En:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ne:return{point:"always",geoshape:"always"};case vn:return{text:"always"};case Qe:return{point:"always",square:"always",text:"always"};case V:return{image:"always"};case hn:return{text:"always",arc:"always"};case nt:return{text:"always",arc:"always"};case an:case Rt:return{arc:"always"}}}function qa(u){switch(u){case Nn:case nr:case hn:case nt:case oe:case je:case we:case Qe:case Cn:case it:case Ut:case sn:case Ke:case yt:case an:case Rt:return;case Zn:case Fn:case Wn:case ne:case En:case vn:case Dt:case N:case V:case be:return"discrete";case xt:case Et:case Nt:return"flexible";case ft:case ie:case Te:case Ue:case Oe:case ze:case zn:return}}let du={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ua={count:1,min:1,max:1};function aa(u){return!!u&&!!u.argmin}function ua(u){return!!u&&!!u.argmax}function gl(u){return e.isString(u)&&!!du[u]}let $l=new Set(["count","valid","missing","distinct"]);function ta(u){return e.isString(u)&&$l.has(u)}function Zu(u){return e.isString(u)&&Ct(["min","max"],u)}let ui=new Set(["count","sum","distinct","valid","missing"]),rs=new Set(["mean","average","median","q1","q3","min","max"]);function cs(u){return e.isBoolean(u)&&(u=z4(u,void 0)),"bin"+re(u).map(c=>gt(u[c])?Lt(`_${c}_${ct(u[c])}`):Lt(`_${c}_${u[c]}`)).join("")}function mr(u){return u===!0||Me(u)&&!u.binned}function is(u){return u==="binned"||Me(u)&&u.binned===!0}function Me(u){return e.isObject(u)}function gt(u){return u==null?void 0:u.param}function Jt(u){switch(u){case Fn:case Wn:case we:case xt:case Et:case Nt:case Cn:case it:case Ut:case sn:case ne:return 6;case En:return 4;default:return 10}}function $t(u){return!!(u!=null&&u.expr)}function pn(u){let c=re(u||{}),d={};for(let g of c)d[g]=pi(u[g]);return d}function Ln(u){let{anchor:c,frame:d,offset:g,orient:b,angle:D,limit:M,color:Q,subtitleColor:se,subtitleFont:We,subtitleFontSize:Xe,subtitleFontStyle:qt,subtitleFontWeight:on,subtitleLineHeight:In,subtitlePadding:Xn,...lr}=u,pr={...lr,...Q?{fill:Q}:{}},kr={...c?{anchor:c}:{},...d?{frame:d}:{},...g?{offset:g}:{},...b?{orient:b}:{},...D!==void 0?{angle:D}:{},...M!==void 0?{limit:M}:{}},Ni={...se?{subtitleColor:se}:{},...We?{subtitleFont:We}:{},...Xe?{subtitleFontSize:Xe}:{},...qt?{subtitleFontStyle:qt}:{},...on?{subtitleFontWeight:on}:{},...In?{subtitleLineHeight:In}:{},...Xn?{subtitlePadding:Xn}:{}},Ui=Ce(u,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:pr,subtitleMarkConfig:Ui,nonMarkTitleProperties:kr,subtitle:Ni}}function Kn(u){return e.isString(u)||e.isArray(u)&&e.isString(u[0])}function $n(u){return!!(u!=null&&u.signal)}function br(u){return!!u.step}function Cr(u){return e.isArray(u)?!1:"fields"in u&&!("data"in u)}function Gn(u){return e.isArray(u)?!1:"fields"in u&&"data"in u}function ar(u){return e.isArray(u)?!1:"field"in u&&"data"in u}let gr=re({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Rr={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},di=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function ni(u){let c=e.isArray(u.condition)?u.condition.map(ii):ii(u.condition);return{...pi(u),condition:c}}function pi(u){if($t(u)){let{expr:c,...d}=u;return{signal:c,...d}}return u}function ii(u){if($t(u)){let{expr:c,...d}=u;return{signal:c,...d}}return u}function qr(u){if($t(u)){let{expr:c,...d}=u;return{signal:c,...d}}return $n(u)?u:u!==void 0?{value:u}:void 0}function Ir(u){return $n(u)?u.signal:e.stringValue(u)}function yi(u){return $n(u)?u.signal:e.stringValue(u.value)}function gi(u){return $n(u)?u.signal:u==null?null:e.stringValue(u)}function os(u,c,d){for(let g of d){let b=Ps(g,c.markDef,c.config);b!==void 0&&(u[g]=qr(b))}return u}function xs(u){return[].concat(u.type,u.style??[])}function vi(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},{vgChannel:b,ignoreVgConfig:D}=g;return b&&c[b]!==void 0?c[b]:c[u]!==void 0?c[u]:D&&(!b||b===u)?void 0:Ps(u,c,d,g)}function Ps(u,c,d){let{vgChannel:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Re(g?ss(u,c,d.style):void 0,ss(u,c,d.style),g?d[c.type][g]:void 0,d[c.type][u],g?d.mark[g]:d.mark[u])}function ss(u,c,d){return xa(u,xs(c),d)}function xa(u,c,d){c=e.array(c);let g;for(let b of c){let D=d[b];D&&D[u]!==void 0&&(g=D[u])}return g}function Ro(u,c){return e.array(u).reduce((d,g)=>(d.field.push(fi(g,c)),d.order.push(g.sort??"ascending"),d),{field:[],order:[]})}function As(u,c){let d=[...u];return c.forEach(g=>{for(let b of d)if(Ze(b,g))return;d.push(g)}),d}function tn(u,c){return Ze(u,c)||!c?u:u?[...e.array(u),...e.array(c)].join(", "):c}function Jn(u,c){let d=u.value,g=c.value;if(d==null||g===null)return{explicit:u.explicit,value:null};if((Kn(d)||$n(d))&&(Kn(g)||$n(g)))return{explicit:u.explicit,value:tn(d,g)};if(Kn(d)||$n(d))return{explicit:u.explicit,value:d};if(Kn(g)||$n(g))return{explicit:u.explicit,value:g};if(!Kn(d)&&!$n(d)&&!Kn(g)&&!$n(g))return{explicit:u.explicit,value:As(d,g)};throw new Error("It should never reach here")}function bn(u,c,d){return c in u?Object.defineProperty(u,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[c]=d,u}function Yr(u,c){var d=ns(u,c,"get");return ms(u,d)}function Ti(u,c,d){var g=ns(u,c,"set");return Hi(u,g,d),d}function ns(u,c,d){if(!c.has(u))throw new TypeError("attempted to "+d+" private field on non-instance");return c.get(u)}function ms(u,c){return c.get?c.get.call(u):c.value}function Hi(u,c,d){if(c.set)c.set.call(u,d);else{if(!c.writable)throw new TypeError("attempted to set read only private field");c.value=d}}function fs(u,c){if(c.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hu(u,c,d){fs(u,c),c.set(u,d)}function le(u){return`Invalid specification ${Je(u)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}let at='Autosize "fit" only works for single views and layered views.';function en(u){return`${u=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Dn(u){let c=u=="width"?"Width":"Height",d=u=="width"?"x":"y";return`${c} "container" only works well with autosize "fit" or "fit-${d}".`}function ir(u){return u?`Dropping "fit-${u}" because spec has discrete ${ts(u)}.`:'Dropping "fit" because spec has discrete size.'}function vr(u){return`Unknown field for ${u}. Cannot calculate view size.`}function fr(u){return`Cannot project a selection on encoding channel "${u}", which has no field.`}function es(u,c){return`Cannot project a selection on encoding channel "${u}" as it uses an aggregate function ("${c}").`}function _s(u){return`The "nearest" transform is not supported for ${u} marks.`}function Ns(u){return`Selection not supported for ${u} yet.`}function so(u){return`Cannot find a selection named "${u}".`}let Ja="Scale bindings are currently only supported for scales with unbinned, continuous domains.",rc="Legend bindings are only supported for selections over an individual field or encoding channel.";function tf(u){return`Lookups can only be performed on selection parameters. "${u}" is a variable parameter.`}function Nc(u){return`Cannot define and lookup the "${u}" selection in the same view. Try moving the lookup into a second, layered view?`}let o0="The same selection must be used to override scale domains in a layered view.",V0='Interval selections should be initialized using "x" and/or "y" keys.';function ic(u){return`Unknown repeated value "${u}".`}function nf(u){return`The "columns" property cannot be used when "${u}" has nested row/column.`}let a0="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function yl(u){return`Unrecognized parse "${u}".`}function Lc(u,c,d){return`An ancestor parsed field "${u}" as ${d} but a child wants to parse the field as ${c}.`}let u0="Attempt to add the same child twice.";function sc(u){return`Ignoring an invalid transform: ${Je(u)}.`}let zl='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function W0(u){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${u} are dropped.`}function Ah(u){let{parentProjection:c,projection:d}=u;return`Layer's shared projection ${Je(c)} is overridden by a child projection ${Je(d)}.`}let Q0="Arc marks uses theta channel rather than angle, replacing angle with theta.";function G0(u){return`${u}Offset dropped because ${u} is continuous`}function rf(u){return`There is no ${u} encoding. Replacing ${u}Offset encoding as ${u}.`}function Y0(u,c,d){return`Channel ${u} is a ${c}. Converted to {value: ${Je(d)}}.`}function kc(u){return`Invalid field type "${u}".`}function l0(u,c){return`Invalid field type "${u}" for aggregate: "${c}", using "quantitative" instead.`}function c0(u){return`Invalid aggregation operator "${u}".`}function f0(u,c){let{fill:d,stroke:g}=c;return`Dropping color ${u} as the plot also has ${d&&g?"fill and stroke":d?"fill":"stroke"}.`}function qo(u){return`Position range does not support relative band size for ${u}.`}function Xo(u,c){return`Dropping ${Je(u)} from channel "${c}" since it does not contain any data field, datum, value, or signal.`}let d0="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function vl(u,c,d){return`${u} dropped as it is incompatible with "${c}"${d?` when ${d}`:""}.`}function sf(u){return`${u} encoding has no scale, so specified scale is ignored.`}function Bd(u){return`${u}-encoding is dropped as ${u} is not a valid encoding channel.`}function Du(u){return`${u} encoding should be discrete (ordinal / nominal / binned).`}function vo(u){return`${u} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Th(u){return`Facet encoding dropped as ${u.join(" and ")} ${u.length>1?"are":"is"} also specified.`}function _l(u,c){return`Using discrete channel "${u}" to encode "${c}" field can be misleading as it does not encode ${c==="ordinal"?"order":"magnitude"}.`}function ks(u){return`The ${u} for range marks cannot be an expression`}function bl(u,c){return`Line mark is for continuous lines and thus cannot be used with ${u&&c?"x2 and y2":u?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function k(u,c){return`Specified orient "${u}" overridden with "${c}".`}function Z(u){return`Cannot use the scale property "${u}" with non-color channel.`}function qe(u){return`Cannot use the relative band size with ${u} scale.`}function kt(u){return`Using unaggregated domain with raw field has no effect (${Je(u)}).`}function Vt(u){return`Unaggregated domain not applicable for "${u}" since it produces values outside the origin domain of the source data.`}function An(u){return`Unaggregated domain is currently unsupported for log scale (${Je(u)}).`}function kn(u){return`Cannot apply size to non-oriented mark "${u}".`}function sr(u,c,d){return`Channel "${u}" does not work with "${c}" scale. We are using "${d}" scale instead.`}function hr(u,c){return`FieldDef does not work with "${u}" scale. We are using "${c}" scale instead.`}function Nr(u,c,d){return`${d}-scale's "${c}" is dropped as it does not work with ${u} scale.`}function rt(u){return`The step for "${u}" is dropped because the ${u==="width"?"x":"y"} is continuous.`}function Fi(u,c,d,g){return`Conflicting ${c.toString()} property "${u.toString()}" (${Je(d)} and ${Je(g)}). Using ${Je(d)}.`}function Qi(u,c,d,g){return`Conflicting ${c.toString()} property "${u.toString()}" (${Je(d)} and ${Je(g)}). Using the union of the two domains.`}function Li(u){return`Setting the scale to be independent for "${u}" means we also have to set the guide (axis or legend) to be independent.`}function Qr(u){return`Dropping sort property ${Je(u)} as unioned domains only support boolean or op "count", "min", and "max".`}let Gs="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",Uo="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",ga="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",po="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function La(u){return`Cannot stack "${u}" if there is already "${u}2".`}function oc(u){return`Cannot stack non-linear scale (${u}).`}function Hl(u){return`Stacking is applied even though the aggregate function is non-summative ("${u}").`}function ka(u,c){return`Invalid ${u}: ${Je(c)}.`}function ac(u){return`Dropping day from datetime ${Je(u)} as day cannot be combined with other units.`}function ya(u,c){return`${c?"extent ":""}${c&&u?"and ":""}${u?"center ":""}${c&&u?"are ":"is "}not needed when data are aggregated.`}function of(u,c,d){return`${u} is not usually used with ${c} for ${d}.`}function af(u,c){return`Continuous axis should not have customized aggregation function ${u}; ${c} already agregates the axis.`}function el(u){return`1D error band does not support ${u}.`}function uc(u){return`Channel ${u} is required for "binned" bin.`}function j1(u){return`Channel ${u} should not be used with "binned" bin.`}function Ic(u){return`Domain for ${u} is required for threshold scale.`}let Xm=e.logger(e.Warn),Vl=Xm;function Df(u){return Vl=u,Vl}function Mc(){return Vl=Xm,Vl}function jr(){Vl.warn(...arguments)}function K0(){Vl.debug(...arguments)}function J0(u){if(u&&e.isObject(u)){for(let c of lf)if(c in u)return!0}return!1}let $r=["january","february","march","april","may","june","july","august","september","october","november","december"],El=$r.map(u=>u.substr(0,3)),q1=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],cp=q1.map(u=>u.substr(0,3));function _o(u){if(Qt(u)&&(u=+u),e.isNumber(u))return u>4&&jr(ka("quarter",u)),u-1;throw new Error(ka("quarter",u))}function X0(u){if(Qt(u)&&(u=+u),e.isNumber(u))return u-1;{let c=u.toLowerCase(),d=$r.indexOf(c);if(d!==-1)return d;let g=c.substr(0,3),b=El.indexOf(g);if(b!==-1)return b;throw new Error(ka("month",u))}}function jd(u){if(Qt(u)&&(u=+u),e.isNumber(u))return u%7;{let c=u.toLowerCase(),d=q1.indexOf(c);if(d!==-1)return d;let g=c.substr(0,3),b=cp.indexOf(g);if(b!==-1)return b;throw new Error(ka("day",u))}}function Z0(u,c){let d=[];if(c&&u.day!==void 0&&re(u).length>1&&(jr(ac(u)),u=ye(u),delete u.day),u.year!==void 0?d.push(u.year):d.push(2012),u.month!==void 0){let g=c?X0(u.month):u.month;d.push(g)}else if(u.quarter!==void 0){let g=c?_o(u.quarter):u.quarter;d.push(e.isNumber(g)?g*3:`${g}*3`)}else d.push(0);if(u.date!==void 0)d.push(u.date);else if(u.day!==void 0){let g=c?jd(u.day):u.day;d.push(e.isNumber(g)?g+1:`${g}+1`)}else d.push(1);for(let g of["hours","minutes","seconds","milliseconds"]){let b=u[g];d.push(typeof b=="undefined"?0:b)}return d}function uf(u){let d=Z0(u,!0).join(", ");return u.utc?`utc(${d})`:`datetime(${d})`}function Wx(u){let d=Z0(u,!1).join(", ");return u.utc?`utc(${d})`:`datetime(${d})`}function Qx(u){let c=Z0(u,!0);return u.utc?+new Date(Date.UTC(...c)):+new Date(...c)}let Fh={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},lf=re(Fh);function tl(u){return!!Fh[u]}function qd(u){return u.startsWith("utc")}function fp(u){return u.substr(3)}let U1={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function nl(u){return lf.filter(c=>ed(u,c))}function ed(u,c){let d=u.indexOf(c);return!(d<0||d>0&&c==="seconds"&&u.charAt(d-1)==="i"||u.length>d+3&&c==="day"&&u.charAt(d+3)==="o"||d>0&&c==="year"&&u.charAt(d-1)==="f")}function Of(u,c){let{end:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{end:!1},g=gn(c),b=qd(u)?"utc":"";function D(se){return se==="quarter"?`(${b}quarter(${g})-1)`:`${b}${se}(${g})`}let M,Q={};for(let se of lf)ed(u,se)&&(Q[se]=D(se),M=se);return d&&(Q[M]+="+1"),Wx(Q)}function Sl(u){if(!u)return;let c=nl(u);return`timeUnitSpecifier(${Je(c)}, ${Je(U1)})`}function dp(u,c,d){if(!u)return;let g=Sl(u);return`${d||qd(u)?"utc":"time"}Format(${c}, ${g})`}function pu(u){if(!u)return;let c;return e.isString(u)?c={unit:u}:e.isObject(u)&&(c={...u,...u.unit?{unit:u.unit}:{}}),qd(c.unit)&&(c.utc=!0,c.unit=fp(c.unit)),c}function $1(u){let{utc:c,...d}=pu(u);return d.unit?(c?"utc":"")+re(d).map(g=>Lt(`${g==="unit"?"":`_${g}_`}${d[g]}`)).join(""):(c?"utc":"")+"timeunit"+re(d).map(g=>Lt(`_${g}_${d[g]}`)).join("")}function rl(u){return u==null?void 0:u.param}function Pc(u){return!!(u!=null&&u.field)&&u.equal!==void 0}function Dh(u){return!!(u!=null&&u.field)&&u.lt!==void 0}function Ud(u){return!!(u!=null&&u.field)&&u.lte!==void 0}function cf(u){return!!(u!=null&&u.field)&&u.gt!==void 0}function Oh(u){return!!(u!=null&&u.field)&&u.gte!==void 0}function hp(u){if(u!=null&&u.field){if(e.isArray(u.range)&&u.range.length===2)return!0;if($n(u.range))return!0}return!1}function $a(u){return!!(u!=null&&u.field)&&(e.isArray(u.oneOf)||e.isArray(u.in))}function Rh(u){return!!(u!=null&&u.field)&&u.valid!==void 0}function td(u){return $a(u)||Pc(u)||hp(u)||Dh(u)||cf(u)||Ud(u)||Oh(u)}function Ia(u,c){return gE(u,{timeUnit:c,wrapTime:!0})}function Nh(u,c){return u.map(d=>Ia(d,c))}function Ou(u){var c;let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,{field:g}=u,b=(c=pu(u.timeUnit))===null||c===void 0?void 0:c.unit,D=b?`time(${Of(b,g)})`:fi(u,{expr:"datum"});if(Pc(u))return`${D}===${Ia(u.equal,b)}`;if(Dh(u)){let M=u.lt;return`${D}<${Ia(M,b)}`}else if(cf(u)){let M=u.gt;return`${D}>${Ia(M,b)}`}else if(Ud(u)){let M=u.lte;return`${D}<=${Ia(M,b)}`}else if(Oh(u)){let M=u.gte;return`${D}>=${Ia(M,b)}`}else{if($a(u))return`indexof([${Nh(u.oneOf,b).join(",")}], ${D}) !== -1`;if(Rh(u))return Xa(D,u.valid);if(hp(u)){let{range:M}=u,Q=$n(M)?{signal:`${M.signal}[0]`}:M[0],se=$n(M)?{signal:`${M.signal}[1]`}:M[1];if(Q!==null&&se!==null&&d)return"inrange("+D+", ["+Ia(Q,b)+", "+Ia(se,b)+"])";let We=[];return Q!==null&&We.push(`${D} >= ${Ia(Q,b)}`),se!==null&&We.push(`${D} <= ${Ia(se,b)}`),We.length>0?We.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Je(u)}`)}function Xa(u){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?`isValid(${u}) && isFinite(+${u})`:`!isValid(${u}) || !isFinite(+${u})`}function Lh(u){if(td(u)&&u.timeUnit){var c;return{...u,timeUnit:(c=pu(u.timeUnit))===null||c===void 0?void 0:c.unit}}return u}let va={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function kh(u){return u==="quantitative"||u==="temporal"}function pp(u){return u==="ordinal"||u==="nominal"}let h0=va.quantitative,nd=va.ordinal,ff=va.temporal,Wl=va.nominal,Ru=va.geojson;function mp(u){if(u)switch(u=u.toLowerCase(),u){case"q":case h0:return"quantitative";case"t":case ff:return"temporal";case"o":case nd:return"ordinal";case"n":case Wl:return"nominal";case Ru:return"geojson"}}let il={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Ih={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function $d(u,c){let d=Ih[u],g=Ih[c];return d===g||d==="ordinal-position"&&g==="time"||g==="ordinal-position"&&d==="time"}let Zm={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function xp(u){return Zm[u]}let Rf=new Set(["linear","log","pow","sqrt","symlog"]),rd=new Set([...Rf,"time","utc"]);function Js(u){return Rf.has(u)}let A=new Set(["quantile","quantize","threshold"]),W=new Set([...rd,...A,"sequential","identity"]),de=new Set(["ordinal","bin-ordinal","point","band"]);function Be(u){return de.has(u)}function wt(u){return W.has(u)}function Tn(u){return rd.has(u)}function ur(u){return A.has(u)}let $i={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function Bi(u){return!e.isString(u)&&!!u.name}function oo(u){return u==null?void 0:u.param}function mu(u){return u==null?void 0:u.unionWith}function Bc(u){return e.isObject(u)&&"field"in u}let Nf={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:dE,domain:Qy,range:B4,rangeMax:Gy,rangeMin:id,scheme:Nu,...j4}=Nf,Mh=re(j4);function Ts(u,c){switch(c){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(u);case"bins":return!["point","band","identity","ordinal"].includes(u);case"round":return Tn(u)||u==="band"||u==="point";case"padding":case"rangeMin":case"rangeMax":return Tn(u)||["point","band"].includes(u);case"paddingOuter":case"align":return["point","band"].includes(u);case"paddingInner":return u==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return Tn(u);case"nice":return Tn(u)||u==="quantize"||u==="threshold";case"exponent":return u==="pow";case"base":return u==="log";case"constant":return u==="symlog";case"zero":return wt(u)&&!Ct(["log","time","utc","threshold","quantile"],u)}}function p0(u,c){switch(c){case"interpolate":case"scheme":case"domainMid":return w(u)?void 0:Z(c);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function wl(u,c){return Ct([nd,Wl],c)?u===void 0||Be(u):c===ff?Ct([il.TIME,il.UTC,void 0],u):c===h0?Js(u)||ur(u)||u===void 0:!0}function gp(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!Ii(u))return!1;switch(u){case Nn:case nr:case oe:case je:case hn:case nt:return Tn(c)||c==="band"?!0:c==="point"?!d:!1;case we:case Cn:case it:case Ut:case sn:case Qe:return Tn(c)||ur(c)||Ct(["band","point","ordinal"],c);case xt:case Et:case Nt:return c!=="band";case En:case ne:return c==="ordinal"||ur(c)}}let Lu={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},z1=Lu.arc,H1=Lu.area,Cl=Lu.bar,Yy=Lu.image,zd=Lu.line,Ph=Lu.point,Ky=Lu.rect,Lf=Lu.rule,Al=Lu.text,kf=Lu.tick,V1=Lu.trail,yp=Lu.circle,Hd=Lu.square,W1=Lu.geoshape;function df(u){return["line","area","trail"].includes(u)}function Gx(u){return["rect","bar","image","arc"].includes(u)}let Yx=new Set(re(Lu));function lc(u){return u.type}let m0=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],q4=["fill","fillOpacity"],sd=[...m0,...q4],F=re({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),H={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},Y={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},vt=re({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function x(u){return u&&u.band!=null}let T={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},$=5,X={binSpacing:1,continuousBandSize:$,timeUnitBandPosition:.5},ge={binSpacing:0,continuousBandSize:$,timeUnitBandPosition:.5},Fe={thickness:1};function st(u){return lc(u)?u.type:u}function zt(u){let{channel:c,channelDef:d,markDef:g,scale:b,config:D}=u,M=Kr(u);return Er(d)&&!ta(d.aggregate)&&b&&Tn(b.get("type"))?wn({fieldDef:d,channel:c,markDef:g,ref:M,config:D}):M}function wn(u){let{fieldDef:c,channel:d,markDef:g,ref:b,config:D}=u;return df(g.type)?b:vi("invalid",g,D)===null?[Sn(c,d),b]:b}function Sn(u,c){let d=Pn(u,!0),b=ai(c)==="y"?{field:{group:"height"}}:{value:0};return{test:d,...b}}function Pn(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Xa(e.isString(u)?u:fi(u,{expr:"datum"}),!c)}function Hn(u){let{datum:c}=u;return J0(c)?uf(c):`${Je(c)}`}function or(u,c,d,g){let b={};if(c&&(b.scale=c),Eo(u)){let{datum:D}=u;J0(D)?b.signal=uf(D):$n(D)?b.signal=D.signal:$t(D)?b.signal=D.expr:b.value=D}else b.field=fi(u,d);if(g){let{offset:D,band:M}=g;D&&(b.offset=D),M&&(b.band=M)}return b}function Or(u){let{scaleName:c,fieldOrDatumDef:d,fieldOrDatumDef2:g,offset:b,startSuffix:D,bandPosition:M=.5}=u,Q=0<M&&M<1?"datum":void 0,se=fi(d,{expr:Q,suffix:D}),We=g!==void 0?fi(g,{expr:Q}):fi(d,{suffix:"end",expr:Q}),Xe={};if(M===0||M===1){Xe.scale=c;let qt=M===0?se:We;Xe.field=qt}else{let qt=$n(M)?`${M.signal} * ${se} + (1-${M.signal}) * ${We}`:`${M} * ${se} + ${1-M} * ${We}`;Xe.signal=`scale("${c}", ${qt})`}return b&&(Xe.offset=b),Xe}function Kr(u){let{channel:c,channelDef:d,channel2Def:g,markDef:b,config:D,scaleName:M,scale:Q,stack:se,offset:We,defaultRef:Xe,bandPosition:qt}=u;if(d){if(Ls(d)){let on=Q==null?void 0:Q.get("type");if(Qd(d)){qt??=Jx({fieldDef:d,fieldDef2:g,markDef:b,config:D});let{bin:In,timeUnit:Xn,type:lr}=d;if(mr(In)||qt&&Xn&&lr===ff)return se!=null&&se.impute?or(d,M,{binSuffix:"mid"},{offset:We}):qt&&!Be(on)?Or({scaleName:M,fieldOrDatumDef:d,bandPosition:qt,offset:We}):or(d,M,H4(d,c)?{binSuffix:"range"}:{},{offset:We});if(is(In)){if(Er(g))return Or({scaleName:M,fieldOrDatumDef:d,fieldOrDatumDef2:g,bandPosition:qt,offset:We});jr(uc(c===Nn?Ke:yt))}}return or(d,M,Be(on)?{binSuffix:"range"}:{},{offset:We,band:on==="band"?qt??d.bandPosition??.5:void 0})}else if(Gd(d)){let on=d.value,In=We?{offset:We}:{};return{...Lr(c,on),...In}}}return e.isFunction(Xe)&&(Xe=Xe()),Xe&&{...Xe,...We?{offset:We}:{}}}function Lr(u,c){return Ct(["x","x2"],u)&&c==="width"?{field:{group:"width"}}:Ct(["y","y2"],u)&&c==="height"?{field:{group:"height"}}:qr(c)}function bi(u){return u&&u!=="number"&&u!=="time"}function ki(u,c,d){return`${u}(${c}${d?`, ${Je(d)}`:""})`}let Ds=" \u2013 ";function ds(u){let{fieldOrDatumDef:c,format:d,formatType:g,expr:b,normalizeStack:D,config:M}=u;if(bi(g))return gs({fieldOrDatumDef:c,format:d,formatType:g,expr:b,config:M});let Q=Xs(c,b,D),se=ol(c);if(d===void 0&&g===void 0&&M.customFormatTypes){if(se==="quantitative"){if(D&&M.normalizedNumberFormatType)return gs({fieldOrDatumDef:c,format:M.normalizedNumberFormat,formatType:M.normalizedNumberFormatType,expr:b,config:M});if(M.numberFormatType)return gs({fieldOrDatumDef:c,format:M.numberFormat,formatType:M.numberFormatType,expr:b,config:M})}if(se==="temporal"&&M.timeFormatType&&Er(c)&&c.timeUnit===void 0)return gs({fieldOrDatumDef:c,format:M.timeFormat,formatType:M.timeFormatType,expr:b,config:M})}if(r3(c)){var We,Xe;let qt=za({field:Q,timeUnit:Er(c)?(We=pu(c.timeUnit))===null||We===void 0?void 0:We.unit:void 0,format:d,formatType:M.timeFormatType,rawTimeFormat:M.timeFormat,isUTCScale:Xx(c)&&((Xe=c.scale)===null||Xe===void 0?void 0:Xe.type)===il.UTC});return qt?{signal:qt}:void 0}if(d=Ma({type:se,specifiedFormat:d,config:M,normalizeStack:D}),Er(c)&&mr(c.bin)){let qt=fi(c,{expr:b,binSuffix:"end"});return{signal:Ca(Q,qt,d,g,M)}}else return d||ol(c)==="quantitative"?{signal:`${ku(Q,d)}`}:{signal:`isValid(${Q}) ? ${Q} : ""+${Q}`}}function Xs(u,c,d){return Er(u)?d?`${fi(u,{expr:c,suffix:"end"})}-${fi(u,{expr:c,suffix:"start"})}`:fi(u,{expr:c}):Hn(u)}function gs(u){let{fieldOrDatumDef:c,format:d,formatType:g,expr:b,normalizeStack:D,config:M,field:Q}=u;if(Q??=Xs(c,b,D),Q!=="datum.value"&&Er(c)&&mr(c.bin)){let se=fi(c,{expr:b,binSuffix:"end"});return{signal:Ca(Q,se,d,g,M)}}return{signal:ki(g,Q,d)}}function Gr(u,c,d,g,b,D){if(!bi(g)&&!(d===void 0&&g===void 0&&b.customFormatTypes&&ol(u)==="quantitative"&&(b.normalizedNumberFormatType&&Zy(u)&&u.stack==="normalize"||b.numberFormatType))){if(Zy(u)&&u.stack==="normalize"&&b.normalizedNumberFormat)return Ma({type:"quantitative",config:b,normalizeStack:!0});if(r3(u)){var M;let Q=Er(u)?(M=pu(u.timeUnit))===null||M===void 0?void 0:M.unit:void 0;return Q===void 0&&b.customFormatTypes&&b.timeFormatType?void 0:Za({specifiedFormat:d,timeUnit:Q,config:b,omitTimeFormatConfig:D})}return Ma({type:c,specifiedFormat:d,config:b})}}function Ki(u,c,d){if(u&&($n(u)||u==="number"||u==="time"))return u;if(r3(c)&&d!=="time"&&d!=="utc"){var g;return Er(c)&&(g=pu(c==null?void 0:c.timeUnit))!==null&&g!==void 0&&g.utc?"utc":"time"}}function Ma(u){let{type:c,specifiedFormat:d,config:g,normalizeStack:b}=u;if(e.isString(d))return d;if(c===h0)return b?g.normalizedNumberFormat:g.numberFormat}function Za(u){let{specifiedFormat:c,timeUnit:d,config:g,omitTimeFormatConfig:b}=u;return c||(d?{signal:Sl(d)}:b?void 0:g.timeFormat)}function ku(u,c){return`format(${u}, "${c||""}")`}function bs(u,c,d,g){return bi(d)?ki(d,u,c):ku(u,(e.isString(c)?c:void 0)??g.numberFormat)}function Ca(u,c,d,g,b){if(d===void 0&&g===void 0&&b.customFormatTypes&&b.numberFormatType)return Ca(u,c,b.numberFormat,b.numberFormatType,b);let D=bs(u,d,g,b),M=bs(c,d,g,b);return`${Xa(u,!1)} ? "null" : ${D} + "${Ds}" + ${M}`}function za(u){let{field:c,timeUnit:d,format:g,formatType:b,rawTimeFormat:D,isUTCScale:M}=u;return!d||g?!d&&b?`${b}(${c}, '${g}')`:(g=e.isString(g)?g:D,`${M?"utc":"time"}Format(${c}, '${g}')`):dp(d,c,M)}let Tl="min",Vd={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function sl(u){return u in Vd}function x0(u){return!!(u!=null&&u.encoding)}function _a(u){return u&&(u.op==="count"||!!u.field)}function cc(u){return u&&e.isArray(u)}function Wd(u){return"row"in u||"column"in u}function Q1(u){return!!u&&"header"in u}function vp(u){return"facet"in u}function g0(u){return u.param}function e2(u){return u&&!e.isString(u)&&"repeat"in u}function Jy(u){let{field:c,timeUnit:d,bin:g,aggregate:b}=u;return{...d?{timeUnit:d}:{},...g?{bin:g}:{},...b?{aggregate:b}:{},field:c}}function Kx(u){return"sort"in u}function Jx(u){let{fieldDef:c,fieldDef2:d,markDef:g,config:b}=u;if(Ls(c)&&c.bandPosition!==void 0)return c.bandPosition;if(Er(c)){let{timeUnit:D,bin:M}=c;if(D&&!d)return Gx(g.type)?0:Ps("timeUnitBandPosition",g,b);if(mr(M))return .5}}function G1(u){let{channel:c,fieldDef:d,fieldDef2:g,markDef:b,config:D,scaleType:M,useVlSizeChannel:Q}=u,se=ts(c),We=vi(Q?"size":se,b,D,{vgChannel:se});if(We!==void 0)return We;if(Er(d)){let{timeUnit:In,bin:Xn}=d;if(In&&!g)return{band:Ps("timeUnitBandSize",b,D)};if(mr(Xn)&&!Be(M))return{band:1}}if(Gx(b.type)){var Xe;if(M)if(Be(M)){var qt;return((qt=D[b.type])===null||qt===void 0?void 0:qt.discreteBandSize)||{band:1}}else{var on;return(on=D[b.type])===null||on===void 0?void 0:on.continuousBandSize}return(Xe=D[b.type])===null||Xe===void 0?void 0:Xe.discreteBandSize}}function Dr(u,c,d,g){return mr(u.bin)||u.timeUnit&&Qd(u)&&u.type==="temporal"?Jx({fieldDef:u,fieldDef2:c,markDef:d,config:g})!==void 0:!1}function Bs(u){return u&&"condition"in u}function bo(u){let c=u==null?void 0:u.condition;return!!c&&!e.isArray(c)&&Er(c)}function Ur(u){let c=u==null?void 0:u.condition;return!!c&&!e.isArray(c)&&Ls(c)}function hf(u){let c=u==null?void 0:u.condition;return!!c&&(e.isArray(c)||Gd(c))}function Er(u){return u&&(!!u.field||u.aggregate==="count")}function ol(u){return u==null?void 0:u.type}function Eo(u){return u&&"datum"in u}function fc(u){return Qd(u)&&!e3(u)||Xy(u)}function Xy(u){return Eo(u)&&e.isNumber(u.datum)}function Ls(u){return Er(u)||Eo(u)}function Qd(u){return u&&("field"in u||u.aggregate==="count")&&"type"in u}function Gd(u){return u&&"value"in u&&"value"in u}function Xx(u){return u&&("scale"in u||"sort"in u)}function Zy(u){return u&&("axis"in u||"stack"in u||"impute"in u)}function mN(u){return u&&"legend"in u}function _p(u){return u&&("format"in u||"formatType"in u)}function If(u){return pe(u,["legend","axis","header","scale"])}function d9(u){return"op"in u}function fi(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=u.field,g=c.prefix,b=c.suffix,D="";if(pW(u))d=pt("count");else{let M;if(!c.nofn)if(d9(u))M=u.op;else{let{bin:Q,aggregate:se,timeUnit:We}=u;mr(Q)?(M=cs(Q),b=(c.binSuffix??"")+(c.suffix??"")):se?ua(se)?(D=`["${d}"]`,d=`argmax_${se.argmax}`):aa(se)?(D=`["${d}"]`,d=`argmin_${se.argmin}`):M=String(se):We&&(M=$1(We),b=(!["range","mid"].includes(c.binSuffix)&&c.binSuffix||"")+(c.suffix??""))}M&&(d=d?`${M}_${d}`:M)}return b&&(d=`${d}_${b}`),g&&(d=`${g}_${d}`),c.forAs?tr(d):c.expr?yn(d,c.expr)+D:un(d)+D}function e3(u){switch(u.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Er(u)&&!!u.bin;case"temporal":return!1}throw new Error(kc(u.type))}function hW(u){var c;return Xx(u)&&ur((c=u.scale)===null||c===void 0?void 0:c.type)}function pW(u){return u.aggregate==="count"}function U4(u,c){let{field:d,bin:g,timeUnit:b,aggregate:D}=u;if(D==="count")return c.countTitle;if(mr(g))return`${d} (binned)`;if(b){var M;let Q=(M=pu(b))===null||M===void 0?void 0:M.unit;if(Q)return`${d} (${nl(Q).join("-")})`}else if(D)return ua(D)?`${d} for max ${D.argmax}`:aa(D)?`${d} for min ${D.argmin}`:`${fn(D)} of ${d}`;return d}function xN(u){let{aggregate:c,bin:d,timeUnit:g,field:b}=u;if(ua(c))return`${b} for argmax(${c.argmax})`;if(aa(c))return`${b} for argmin(${c.argmin})`;let D=pu(g),M=c||(D==null?void 0:D.unit)||(D==null?void 0:D.maxbins)&&"timeunit"||mr(d)&&"bin";return M?`${M.toUpperCase()}(${b})`:b}let h9=(u,c)=>{switch(c.fieldTitle){case"plain":return u.field;case"functional":return xN(u);default:return U4(u,c)}},gN=h9;function yN(u){gN=u}function mW(){yN(h9)}function t3(u,c,d){var g;let{allowDisabling:b,includeDefault:D=!0}=d,M=(g=hE(u))===null||g===void 0?void 0:g.title;if(!Er(u))return M??u.title;let Q=u,se=D?pE(Q,c):void 0;return b?Re(M,Q.title,se):M??Q.title??se}function hE(u){if(Zy(u)&&u.axis)return u.axis;if(mN(u)&&u.legend)return u.legend;if(Q1(u)&&u.header)return u.header}function pE(u,c){return gN(u,c)}function mE(u){if(_p(u)){let{format:c,formatType:d}=u;return{format:c,formatType:d}}else{let c=hE(u)??{},{format:d,formatType:g}=c;return{format:d,formatType:g}}}function p9(u,c){var d;switch(c){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Kx(u)&&e.isArray(u.sort))return"ordinal";let{aggregate:g,bin:b,timeUnit:D}=u;if(D)return"temporal";if(b||g&&!ua(g)&&!aa(g))return"quantitative";if(Xx(u)&&(d=u.scale)!==null&&d!==void 0&&d.type)switch(Ih[u.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Bh(u){if(Er(u))return u;if(bo(u))return u.condition}function xu(u){if(Ls(u))return u;if(Ur(u))return u.condition}function xE(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e.isString(u)||e.isNumber(u)||e.isBoolean(u)){let b=e.isString(u)?"string":e.isNumber(u)?"number":"boolean";return jr(Y0(c,b,u)),{value:u}}return Ls(u)?$4(u,c,d,g):Ur(u)?{...u,condition:$4(u.condition,c,d,g)}:u}function $4(u,c,d,g){if(_p(u)){let{format:b,formatType:D,...M}=u;if(bi(D)&&!d.customFormatTypes)return jr(W0(c)),$4(M,c,d,g)}else{let b=Zy(u)?"axis":mN(u)?"legend":Q1(u)?"header":null;if(b&&u[b]){let{format:D,formatType:M,...Q}=u[b];if(bi(M)&&!d.customFormatTypes)return jr(W0(c)),$4({...u,[b]:Q},c,d,g)}}return Er(u)?n3(u,c,g):vN(u)}function vN(u){let c=u.type;if(c)return u;let{datum:d}=u;return c=e.isNumber(d)?"quantitative":e.isString(d)?"nominal":J0(d)?"temporal":void 0,{...u,type:c}}function n3(u,c){let{compositeMark:d=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{aggregate:g,timeUnit:b,bin:D,field:M}=u,Q={...u};if(!d&&g&&!gl(g)&&!ua(g)&&!aa(g)&&(jr(c0(g)),delete Q.aggregate),b&&(Q.timeUnit=pu(b)),M&&(Q.field=`${M}`),mr(D)&&(Q.bin=z4(D,c)),is(D)&&!us(c)&&jr(j1(c)),Qd(Q)){let{type:se}=Q,We=mp(se);se!==We&&(Q.type=We),se!=="quantitative"&&ta(g)&&(jr(l0(se,g)),Q.type="quantitative")}else if(!xi(c)){let se=p9(Q,c);Q.type=se}if(Qd(Q)){let{compatible:se,warning:We}=Zx(Q,c)||{};se===!1&&jr(We)}if(Kx(Q)&&e.isString(Q.sort)){let{sort:se}=Q;if(sl(se))return{...Q,sort:{encoding:se}};let We=se.substr(1);if(se.charAt(0)==="-"&&sl(We))return{...Q,sort:{encoding:We,order:"descending"}}}if(Q1(Q)){let{header:se}=Q;if(se){let{orient:We,...Xe}=se;if(We)return{...Q,header:{...Xe,labelOrient:se.labelOrient||We,titleOrient:se.titleOrient||We}}}}return Q}function z4(u,c){return e.isBoolean(u)?{maxbins:Jt(c)}:u==="binned"?{binned:!0}:!u.maxbins&&!u.step?{...u,maxbins:Jt(c)}:u}let Mf={compatible:!0};function Zx(u,c){let d=u.type;if(d==="geojson"&&c!=="shape")return{compatible:!1,warning:`Channel ${c} should not be used with a geojson data.`};switch(c){case Fn:case Wn:case Zn:return e3(u)?Mf:{compatible:!1,warning:Du(c)};case Nn:case nr:case oe:case je:case xt:case Et:case Nt:case vn:case Oe:case ze:case Dt:case N:case V:case Qe:case hn:case nt:case be:return Mf;case ie:case Ue:case ft:case Te:return d!==h0?{compatible:!1,warning:`Channel ${c} should be used with a quantitative field only, not ${u.type} field.`}:Mf;case it:case Ut:case sn:case Cn:case we:case an:case Rt:case Ke:case yt:return d==="nominal"&&!u.sort?{compatible:!1,warning:`Channel ${c} should not be used with an unsorted discrete field.`}:Mf;case ne:case En:return!e3(u)&&!hW(u)?{compatible:!1,warning:vo(c)}:Mf;case zn:return u.type==="nominal"&&!("sort"in u)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Mf}}function r3(u){let{formatType:c}=mE(u);return c==="time"||!c&&_N(u)}function _N(u){return u&&(u.type==="temporal"||Er(u)&&!!u.timeUnit)}function gE(u,c){var d;let{timeUnit:g,type:b,wrapTime:D,undefinedIfExprNotRequired:M}=c,Q=g&&((d=pu(g))===null||d===void 0?void 0:d.unit),se=Q||b==="temporal",We;return $t(u)?We=u.expr:$n(u)?We=u.signal:J0(u)?(se=!0,We=uf(u)):(e.isString(u)||e.isNumber(u))&&se&&(We=`datetime(${Je(u)})`,tl(Q)&&(e.isNumber(u)&&u<1e4||e.isString(u)&&isNaN(Date.parse(u)))&&(We=uf({[Q]:u}))),We?D&&se?`time(${We})`:We:M?void 0:Je(u)}function bN(u,c){let{type:d}=u;return c.map(g=>{let b=gE(g,{timeUnit:Er(u)?u.timeUnit:void 0,type:d,undefinedIfExprNotRequired:!0});return b!==void 0?{signal:b}:g})}function H4(u,c){return mr(u.bin)?Ii(c)&&["ordinal","nominal"].includes(u.type):(console.warn("Only call this method for binned field defs."),!1)}let EN={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function V4(u){return u==null?void 0:u.condition}let SN=["domain","grid","labels","ticks","title"],xW={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},wN={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},gW={...wN,style:1,labelExpr:1,encoding:1};function CN(u){return!!gW[u]}let m9=re({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function bp(u){return"mark"in u}class W4{constructor(c,d){this.name=c,this.run=d}hasMatchingType(c){return bp(c)?st(c.mark)===this.name:!1}}function eg(u,c){let d=u&&u[c];return d?e.isArray(d)?xn(d,g=>!!g.field):Er(d)||bo(d):!1}function AN(u,c){let d=u&&u[c];return d?e.isArray(d)?xn(d,g=>!!g.field):Er(d)||Eo(d)||Ur(d):!1}function x9(u,c){if(us(c)){let d=u[c];if((Er(d)||Eo(d))&&pp(d.type)){let g=pa(c);return AN(u,g)}}return!1}function yE(u){return xn(dt,c=>{if(eg(u,c)){let d=u[c];if(e.isArray(d))return xn(d,g=>!!g.aggregate);{let g=Bh(d);return g&&!!g.aggregate}}return!1})}function TN(u,c){let d=[],g=[],b=[],D=[],M={};return g9(u,(Q,se)=>{if(Er(Q)){let{field:We,aggregate:Xe,bin:qt,timeUnit:on,...In}=Q;if(Xe||on||qt){let Xn=hE(Q),lr=Xn==null?void 0:Xn.title,pr=fi(Q,{forAs:!0}),kr={...lr?[]:{title:t3(Q,c,{allowDisabling:!0})},...In,field:pr};if(Xe){let Ni;if(ua(Xe)?(Ni="argmax",pr=fi({op:"argmax",field:Xe.argmax},{forAs:!0}),kr.field=`${pr}.${We}`):aa(Xe)?(Ni="argmin",pr=fi({op:"argmin",field:Xe.argmin},{forAs:!0}),kr.field=`${pr}.${We}`):Xe!=="boxplot"&&Xe!=="errorbar"&&Xe!=="errorband"&&(Ni=Xe),Ni){let Ui={op:Ni,as:pr};We&&(Ui.field=We),D.push(Ui)}}else if(d.push(pr),Qd(Q)&&mr(qt)){if(g.push({bin:qt,field:We,as:pr}),d.push(fi(Q,{binSuffix:"end"})),H4(Q,se)&&d.push(fi(Q,{binSuffix:"range"})),us(se)){let Ni={field:`${pr}_end`};M[`${se}2`]=Ni}kr.bin="binned",xi(se)||(kr.type=h0)}else if(on){b.push({timeUnit:on,field:We,as:pr});let Ni=Qd(Q)&&Q.type!==ff&&"time";Ni&&(se===vn||se===Dt?kr.formatType=Ni:oa(se)?kr.legend={formatType:Ni,...kr.legend}:us(se)&&(kr.axis={formatType:Ni,...kr.axis}))}M[se]=kr}else d.push(We),M[se]=u[se]}else M[se]=u[se]}),{bins:g,timeUnits:b,aggregate:D,groupby:d,encoding:M}}function yW(u,c,d){let g=Do(c,d);if(g){if(g==="binned"){let b=u[c===Ke?Nn:nr];return!!(Er(b)&&Er(u[c])&&is(b.bin))}}else return!1;return!0}function vW(u,c,d,g){let b={};for(let D of re(u))yr(D)||jr(Bd(D));for(let D of Oc){if(!u[D])continue;let M=u[D];if(Wi(D)){let Q=xl(D),se=b[Q];if(Er(se)){if(kh(se.type)&&Er(M)){jr(G0(Q));continue}}else D=Q,jr(rf(Q))}if(D==="angle"&&c==="arc"&&!u.theta&&(jr(Q0),D=hn),!yW(u,D,c)){jr(vl(D,c));continue}if(D===we&&c==="line"){let Q=Bh(u[D]);if(Q!=null&&Q.aggregate){jr(d0);continue}}if(D===xt&&(d?"fill"in u:"stroke"in u)){jr(f0("encoding",{fill:"fill"in u,stroke:"stroke"in u}));continue}if(D===Oe||D===zn&&!e.isArray(M)&&!Gd(M)||D===Dt&&e.isArray(M))M&&(b[D]=e.array(M).reduce((Q,se)=>(Er(se)?Q.push(n3(se,D)):jr(Xo(se,D)),Q),[]));else{if(D===Dt&&M===null)b[D]=null;else if(!Er(M)&&!Eo(M)&&!Gd(M)&&!Bs(M)&&!$n(M)){jr(Xo(M,D));continue}b[D]=xE(M,D,g)}}return b}function vE(u,c){let d={};for(let g of re(u)){let b=xE(u[g],g,c,{compositeMark:!0});d[g]=b}return d}function _W(u){let c=[];for(let d of re(u))if(eg(u,d)){let g=u[d],b=e.array(g);for(let D of b)Er(D)?c.push(D):bo(D)&&c.push(D.condition)}return c}function g9(u,c,d){if(!!u)for(let g of re(u)){let b=u[g];if(e.isArray(b))for(let D of b)c.call(d,D,g);else c.call(d,b,g)}}function Yd(u,c,d,g){return u?re(u).reduce((b,D)=>{let M=u[D];return e.isArray(M)?M.reduce((Q,se)=>c.call(g,Q,se,D),b):c.call(g,b,M,D)},d):d}function FN(u,c){return re(c).reduce((d,g)=>{switch(g){case Nn:case nr:case N:case be:case V:case Ke:case yt:case oe:case je:case hn:case an:case nt:case Rt:case ft:case ie:case Te:case Ue:case vn:case ne:case Qe:case Dt:return d;case zn:if(u==="line"||u==="trail")return d;case Oe:case ze:{let b=c[g];if(e.isArray(b)||Er(b))for(let D of e.array(b))D.aggregate||d.push(fi(D,{}));return d}case we:if(u==="trail")return d;case xt:case Et:case Nt:case it:case Ut:case sn:case En:case Cn:{let b=Bh(c[g]);return b&&!b.aggregate&&d.push(fi(b,{})),d}}},[])}function bW(u){let{tooltip:c,...d}=u;if(!c)return{filteredEncoding:d};let g,b;if(e.isArray(c)){for(let D of c)D.aggregate?(g||(g=[]),g.push(D)):(b||(b=[]),b.push(D));g&&(d.tooltip=g)}else c.aggregate?d.tooltip=c:b=c;return e.isArray(b)&&b.length===1&&(b=b[0]),{customTooltipWithoutAggregatedField:b,filteredEncoding:d}}function y9(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if("tooltip"in d)return{tooltip:d.tooltip};let b=u.map(M=>{let{fieldPrefix:Q,titlePrefix:se}=M,We=g?` of ${_E(c)}`:"";return{field:Q+c.field,type:c.type,title:$n(se)?{signal:`${se}"${escape(We)}"`}:se+We}}),D=_W(d).map(If);return{tooltip:[...b,...St(D,ut)]}}function _E(u){let{title:c,field:d}=u;return Re(c,d)}function v9(u,c,d,g,b){let{scale:D,axis:M}=d;return Q=>{let{partName:se,mark:We,positionPrefix:Xe,endPositionPrefix:qt=void 0,extraEncoding:on={}}=Q,In=_E(d);return DN(u,se,b,{mark:We,encoding:{[c]:{field:`${Xe}_${d.field}`,type:d.type,...In!==void 0?{title:In}:{},...D!==void 0?{scale:D}:{},...M!==void 0?{axis:M}:{}},...e.isString(qt)?{[`${c}2`]:{field:`${qt}_${d.field}`}}:{},...g,...on}})}}function DN(u,c,d,g){let{clip:b,color:D,opacity:M}=u,Q=u.type;return u[c]||u[c]===void 0&&d[c]?[{...g,mark:{...d[c],...b?{clip:b}:{},...D?{color:D}:{},...M?{opacity:M}:{},...lc(g.mark)?g.mark:{type:g.mark},style:`${Q}-${String(c)}`,...e.isBoolean(u[c])?{}:u[c]}}]:[]}function ON(u,c,d){let{encoding:g}=u,b=c==="vertical"?"y":"x",D=g[b],M=g[`${b}2`],Q=g[`${b}Error`],se=g[`${b}Error2`];return{continuousAxisChannelDef:bE(D,d),continuousAxisChannelDef2:bE(M,d),continuousAxisChannelDefError:bE(Q,d),continuousAxisChannelDefError2:bE(se,d),continuousAxis:b}}function bE(u,c){if(u!=null&&u.aggregate){let{aggregate:d,...g}=u;return d!==c&&jr(af(d,c)),g}else return u}function EE(u,c){let{mark:d,encoding:g}=u,{x:b,y:D}=g;if(lc(d)&&d.orient)return d.orient;if(fc(b)){if(fc(D)){let M=Er(b)&&b.aggregate,Q=Er(D)&&D.aggregate;if(!M&&Q===c)return"vertical";if(!Q&&M===c)return"horizontal";if(M===c&&Q===c)throw new Error("Both x and y cannot have aggregate");return r3(D)&&!r3(b)?"horizontal":"vertical"}return"horizontal"}else{if(fc(D))return"vertical";throw new Error(`Need a valid continuous axis for ${c}s`)}}let SE="boxplot",EW=["box","median","outliers","rule","ticks"],SW=new W4(SE,NN);function RN(u){return e.isNumber(u)?"tukey":u}function NN(u,c){let{config:d}=c;u={...u,encoding:vE(u.encoding,d)};let{mark:g,encoding:b,params:D,projection:M,...Q}=u,se=lc(g)?g:{type:g};D&&jr(Ns("boxplot"));let We=se.extent??d.boxplot.extent,Xe=vi("size",se,d),qt=se.invalid,on=RN(We),{bins:In,timeUnits:Xn,transform:lr,continuousAxisChannelDef:pr,continuousAxis:kr,groupby:Ni,aggregate:Ui,encodingWithoutContinuousAxis:Os,ticksOrient:ji,boxOrient:na,customTooltipWithoutAggregatedField:as}=wW(u,We,d),{color:ul,size:Fl,...pc}=Os,ig=bBe=>v9(se,kr,pr,bBe,d.boxplot),sg=ig(pc),og=ig(Os),nm=ig({...pc,...Fl?{size:Fl}:{}}),ag=y9([{fieldPrefix:on==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:on==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],pr,Os),ug={type:"tick",color:"black",opacity:1,orient:ji,invalid:qt,aria:!1},l2=on==="min-max"?ag:y9([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],pr,Os),m3=[...sg({partName:"rule",mark:{type:"rule",invalid:qt,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:l2}),...sg({partName:"rule",mark:{type:"rule",invalid:qt,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:l2}),...sg({partName:"ticks",mark:ug,positionPrefix:"lower_whisker",extraEncoding:l2}),...sg({partName:"ticks",mark:ug,positionPrefix:"upper_whisker",extraEncoding:l2})],x3=[...on!=="tukey"?m3:[],...og({partName:"box",mark:{type:"bar",...Xe?{size:Xe}:{},orient:na,invalid:qt,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:ag}),...nm({partName:"median",mark:{type:"tick",invalid:qt,...e.isObject(d.boxplot.median)&&d.boxplot.median.color?{color:d.boxplot.median.color}:{},...Xe?{size:Xe}:{},orient:ji,aria:!1},positionPrefix:"mid_box",extraEncoding:ag})];if(on==="min-max")return{...Q,transform:(Q.transform??[]).concat(lr),layer:x3};let ik=`datum["lower_box_${pr.field}"]`,wfe=`datum["upper_box_${pr.field}"]`,Cfe=`(${wfe} - ${ik})`,Afe=`${ik} - ${We} * ${Cfe}`,Tfe=`${wfe} + ${We} * ${Cfe}`,sk=`datum["${pr.field}"]`,yBe={joinaggregate:LN(pr.field),groupby:Ni},Ffe={transform:[{filter:`(${Afe} <= ${sk}) && (${sk} <= ${Tfe})`},{aggregate:[{op:"min",field:pr.field,as:`lower_whisker_${pr.field}`},{op:"max",field:pr.field,as:`upper_whisker_${pr.field}`},{op:"min",field:`lower_box_${pr.field}`,as:`lower_box_${pr.field}`},{op:"max",field:`upper_box_${pr.field}`,as:`upper_box_${pr.field}`},...Ui],groupby:Ni}],layer:m3},{tooltip:obt,...vBe}=pc,{scale:Dfe,axis:_Be}=pr,Ofe=_E(pr),Rfe=pe(_Be,["title"]),Nfe=DN(se,"outliers",d.boxplot,{transform:[{filter:`(${sk} < ${Afe}) || (${sk} > ${Tfe})`}],mark:"point",encoding:{[kr]:{field:pr.field,type:pr.type,...Ofe!==void 0?{title:Ofe}:{},...Dfe!==void 0?{scale:Dfe}:{},...Ie(Rfe)?{}:{axis:Rfe}},...vBe,...ul?{color:ul}:{},...as?{tooltip:as}:{}}})[0],ok,Lfe=[...In,...Xn,yBe];return Nfe?ok={transform:Lfe,layer:[Nfe,Ffe]}:(ok=Ffe,ok.transform.unshift(...Lfe)),{...Q,layer:[ok,{transform:lr,layer:x3}]}}function LN(u){return[{op:"q1",field:u,as:`lower_box_${u}`},{op:"q3",field:u,as:`upper_box_${u}`}]}function wW(u,c,d){let g=EE(u,SE),{continuousAxisChannelDef:b,continuousAxis:D}=ON(u,g,SE),M=b.field,Q=RN(c),se=[...LN(M),{op:"median",field:M,as:`mid_box_${M}`},{op:"min",field:M,as:(Q==="min-max"?"lower_whisker_":"min_")+M},{op:"max",field:M,as:(Q==="min-max"?"upper_whisker_":"max_")+M}],We=Q==="min-max"||Q==="tukey"?[]:[{calculate:`datum["upper_box_${M}"] - datum["lower_box_${M}"]`,as:`iqr_${M}`},{calculate:`min(datum["upper_box_${M}"] + datum["iqr_${M}"] * ${c}, datum["max_${M}"])`,as:`upper_whisker_${M}`},{calculate:`max(datum["lower_box_${M}"] - datum["iqr_${M}"] * ${c}, datum["min_${M}"])`,as:`lower_whisker_${M}`}],{[D]:Xe,...qt}=u.encoding,{customTooltipWithoutAggregatedField:on,filteredEncoding:In}=bW(qt),{bins:Xn,timeUnits:lr,aggregate:pr,groupby:kr,encoding:Ni}=TN(In,d),Ui=g==="vertical"?"horizontal":"vertical",Os=g,ji=[...Xn,...lr,{aggregate:[...pr,...se],groupby:kr},...We];return{bins:Xn,timeUnits:lr,transform:ji,groupby:kr,aggregate:pr,continuousAxisChannelDef:b,continuousAxis:D,encodingWithoutContinuousAxis:Ni,ticksOrient:Ui,boxOrient:Os,customTooltipWithoutAggregatedField:on}}let _9="errorbar",CW=["ticks","rule"],AW=new W4(_9,kN);function kN(u,c){let{config:d}=c;u={...u,encoding:vE(u.encoding,d)};let{transform:g,continuousAxisChannelDef:b,continuousAxis:D,encodingWithoutContinuousAxis:M,ticksOrient:Q,markDef:se,outerSpec:We,tooltipEncoding:Xe}=IN(u,_9,d);delete M.size;let qt=v9(se,D,b,M,d.errorbar),on=se.thickness,In=se.size,Xn={type:"tick",orient:Q,aria:!1,...on!==void 0?{thickness:on}:{},...In!==void 0?{size:In}:{}},lr=[...qt({partName:"ticks",mark:Xn,positionPrefix:"lower",extraEncoding:Xe}),...qt({partName:"ticks",mark:Xn,positionPrefix:"upper",extraEncoding:Xe}),...qt({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...on!==void 0?{size:on}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Xe})];return{...We,transform:g,...lr.length>1?{layer:lr}:{...lr[0]}}}function TW(u,c){let{encoding:d}=u;if(FW(d))return{orient:EE(u,c),inputType:"raw"};let g=DW(d),b=OW(d),D=d.x,M=d.y;if(g){if(b)throw new Error(`${c} cannot be both type aggregated-upper-lower and aggregated-error`);let Q=d.x2,se=d.y2;if(Ls(Q)&&Ls(se))throw new Error(`${c} cannot have both x2 and y2`);if(Ls(Q)){if(fc(D))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${c}`)}else if(Ls(se)){if(fc(M))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${c}`)}throw new Error("No ranged axis")}else{let Q=d.xError,se=d.xError2,We=d.yError,Xe=d.yError2;if(Ls(se)&&!Ls(Q))throw new Error(`${c} cannot have xError2 without xError`);if(Ls(Xe)&&!Ls(We))throw new Error(`${c} cannot have yError2 without yError`);if(Ls(Q)&&Ls(We))throw new Error(`${c} cannot have both xError and yError with both are quantiative`);if(Ls(Q)){if(fc(D))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Ls(We)){if(fc(M))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function FW(u){return(Ls(u.x)||Ls(u.y))&&!Ls(u.x2)&&!Ls(u.y2)&&!Ls(u.xError)&&!Ls(u.xError2)&&!Ls(u.yError)&&!Ls(u.yError2)}function DW(u){return Ls(u.x2)||Ls(u.y2)}function OW(u){return Ls(u.xError)||Ls(u.xError2)||Ls(u.yError)||Ls(u.yError2)}function IN(u,c,d){let{mark:g,encoding:b,params:D,projection:M,...Q}=u,se=lc(g)?g:{type:g};D&&jr(Ns(c));let{orient:We,inputType:Xe}=TW(u,c),{continuousAxisChannelDef:qt,continuousAxisChannelDef2:on,continuousAxisChannelDefError:In,continuousAxisChannelDefError2:Xn,continuousAxis:lr}=ON(u,We,c),{errorBarSpecificAggregate:pr,postAggregateCalculates:kr,tooltipSummary:Ni,tooltipTitleWithFieldName:Ui}=RW(se,qt,on,In,Xn,Xe,c,d),{[lr]:Os,[lr==="x"?"x2":"y2"]:ji,[lr==="x"?"xError":"yError"]:na,[lr==="x"?"xError2":"yError2"]:as,...ul}=b,{bins:Fl,timeUnits:pc,aggregate:ig,groupby:sg,encoding:og}=TN(ul,d),nm=[...ig,...pr],ag=Xe!=="raw"?[]:sg,ug=y9(Ni,qt,og,Ui);return{transform:[...Q.transform??[],...Fl,...pc,...nm.length===0?[]:[{aggregate:nm,groupby:ag}],...kr],groupby:ag,continuousAxisChannelDef:qt,continuousAxis:lr,encodingWithoutContinuousAxis:og,ticksOrient:We==="vertical"?"horizontal":"vertical",markDef:se,outerSpec:Q,tooltipEncoding:ug}}function RW(u,c,d,g,b,D,M,Q){let se=[],We=[],Xe=c.field,qt,on=!1;if(D==="raw"){let In=u.center?u.center:u.extent?u.extent==="iqr"?"median":"mean":Q.errorbar.center,Xn=u.extent?u.extent:In==="mean"?"stderr":"iqr";if(In==="median"!=(Xn==="iqr")&&jr(of(In,Xn,M)),Xn==="stderr"||Xn==="stdev")se=[{op:Xn,field:Xe,as:`extent_${Xe}`},{op:In,field:Xe,as:`center_${Xe}`}],We=[{calculate:`datum["center_${Xe}"] + datum["extent_${Xe}"]`,as:`upper_${Xe}`},{calculate:`datum["center_${Xe}"] - datum["extent_${Xe}"]`,as:`lower_${Xe}`}],qt=[{fieldPrefix:"center_",titlePrefix:fn(In)},{fieldPrefix:"upper_",titlePrefix:MN(In,Xn,"+")},{fieldPrefix:"lower_",titlePrefix:MN(In,Xn,"-")}],on=!0;else{let lr,pr,kr;Xn==="ci"?(lr="mean",pr="ci0",kr="ci1"):(lr="median",pr="q1",kr="q3"),se=[{op:pr,field:Xe,as:`lower_${Xe}`},{op:kr,field:Xe,as:`upper_${Xe}`},{op:lr,field:Xe,as:`center_${Xe}`}],qt=[{fieldPrefix:"upper_",titlePrefix:t3({field:Xe,aggregate:kr,type:"quantitative"},Q,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:t3({field:Xe,aggregate:pr,type:"quantitative"},Q,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:t3({field:Xe,aggregate:lr,type:"quantitative"},Q,{allowDisabling:!1})}]}}else{(u.center||u.extent)&&jr(ya(u.center,u.extent)),D==="aggregated-upper-lower"?(qt=[],We=[{calculate:`datum["${d.field}"]`,as:`upper_${Xe}`},{calculate:`datum["${Xe}"]`,as:`lower_${Xe}`}]):D==="aggregated-error"&&(qt=[{fieldPrefix:"",titlePrefix:Xe}],We=[{calculate:`datum["${Xe}"] + datum["${g.field}"]`,as:`upper_${Xe}`}],b?We.push({calculate:`datum["${Xe}"] + datum["${b.field}"]`,as:`lower_${Xe}`}):We.push({calculate:`datum["${Xe}"] - datum["${g.field}"]`,as:`lower_${Xe}`}));for(let In of We)qt.push({fieldPrefix:In.as.substring(0,6),titlePrefix:Mn(Mn(In.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:We,errorBarSpecificAggregate:se,tooltipSummary:qt,tooltipTitleWithFieldName:on}}function MN(u,c,d){return`${fn(u)} ${d} ${c}`}let b9="errorband",NW=["band","borders"],E9=new W4(b9,S9);function S9(u,c){let{config:d}=c;u={...u,encoding:vE(u.encoding,d)};let{transform:g,continuousAxisChannelDef:b,continuousAxis:D,encodingWithoutContinuousAxis:M,markDef:Q,outerSpec:se,tooltipEncoding:We}=IN(u,b9,d),Xe=Q,qt=v9(Xe,D,b,M,d.errorband),on=u.encoding.x!==void 0&&u.encoding.y!==void 0,In={type:on?"area":"rect"},Xn={type:on?"line":"rule"},lr={...Xe.interpolate?{interpolate:Xe.interpolate}:{},...Xe.tension&&Xe.interpolate?{tension:Xe.tension}:{}};return on?(In={...In,...lr,ariaRoleDescription:"errorband"},Xn={...Xn,...lr,aria:!1}):Xe.interpolate?jr(el("interpolate")):Xe.tension&&jr(el("tension")),{...se,transform:g,layer:[...qt({partName:"band",mark:In,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:We}),...qt({partName:"borders",mark:Xn,positionPrefix:"lower",extraEncoding:We}),...qt({partName:"borders",mark:Xn,positionPrefix:"upper",extraEncoding:We})]}}let PN={};function w9(u,c,d){let g=new W4(u,c);PN[u]={normalizer:g,parts:d}}function LW(){return re(PN)}w9(SE,NN,EW),w9(_9,kN,CW),w9(b9,S9,NW);let kW=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],BN={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},jN={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},IW=re(BN),MW=re(jN),qN=re({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Q4=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],BW={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},jW={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Ep="_vgsid_",qW={point:{on:"click",fields:[Ep],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function C9(u){return u==="legend"||!!(u!=null&&u.legend)}function A9(u){return C9(u)&&e.isObject(u)}function T9(u){return!!(u!=null&&u.select)}function UN(u){let c=[];for(let d of u||[]){if(T9(d))continue;let{expr:g,bind:b,...D}=d;if(b&&g){let M={...D,bind:b,init:g};c.push(M)}else{let M={...D,...g?{update:g}:{},...b?{bind:b}:{}};c.push(M)}}return c}function UW(u){return wE(u)||D9(u)||F9(u)}function F9(u){return"concat"in u}function wE(u){return"vconcat"in u}function D9(u){return"hconcat"in u}function $N(u){let{step:c,offsetIsDiscrete:d}=u;return d?c.for??"offset":"position"}function Sp(u){return e.isObject(u)&&u.step!==void 0}function zN(u){return u.view||u.width||u.height}let HN=20,VN=re({align:1,bounds:1,center:1,columns:1,spacing:1});function zW(u,c,d){let g=d[c],b={},{spacing:D,columns:M}=g;D!==void 0&&(b.spacing=D),M!==void 0&&(vp(u)&&!Wd(u.facet)||F9(u))&&(b.columns=M),wE(u)&&(b.columns=1);for(let Q of VN)if(u[Q]!==void 0)if(Q==="spacing"){let se=u[Q];b[Q]=e.isNumber(se)?se:{row:se.row??D,column:se.column??D}}else b[Q]=u[Q];return b}function O9(u,c){return u[c]??u[c==="width"?"continuousWidth":"continuousHeight"]}function CE(u,c){let d=AE(u,c);return Sp(d)?d.step:G4}function AE(u,c){let d=u[c]??u[c==="width"?"discreteWidth":"discreteHeight"];return Re(d,{step:u.step})}let G4=20,HW={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:G4},mark:Y,arc:{},area:{},bar:X,circle:{},geoshape:{},image:{},line:{},point:{},rect:ge,rule:{color:"black"},square:{},text:{color:"black"},tick:Fe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:$i,projection:{},legend:BW,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:qW,style:{},title:{},facet:{spacing:HN},concat:{spacing:HN},normalizedNumberFormat:".0%"},Y1=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],WN={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},QN={blue:Y1[0],orange:Y1[1],red:Y1[2],teal:Y1[3],green:Y1[4],yellow:Y1[5],purple:Y1[6],pink:Y1[7],brown:Y1[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function VW(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{signals:[{name:"color",value:e.isObject(u)?{...QN,...u}:QN}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function WW(u){return{signals:[{name:"fontSize",value:e.isObject(u)?{...WN,...u}:WN}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function QW(u){return{text:{font:u},style:{"guide-label":{font:u},"guide-title":{font:u},"group-title":{font:u},"group-subtitle":{font:u}}}}function GN(u){let c=re(u||{}),d={};for(let g of c){let b=u[g];d[g]=V4(b)?ni(b):pi(b)}return d}function GW(u){let c=re(u),d={};for(let g of c)d[g]=GN(u[g]);return d}let YW=[...vt,...m9,...qN,"background","padding","legend","lineBreak","scale","style","title","view"];function Y4(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{color:c,font:d,fontSize:g,selection:b,...D}=u,M=e.mergeConfig({},ye(HW),d?QW(d):{},c?VW(c):{},g?WW(g):{},D||{});b&&e.writeConfig(M,"selection",b,!0);let Q=pe(M,YW);for(let se of["background","lineBreak","padding"])M[se]&&(Q[se]=pi(M[se]));for(let se of vt)M[se]&&(Q[se]=pn(M[se]));for(let se of m9)M[se]&&(Q[se]=GN(M[se]));for(let se of qN)M[se]&&(Q[se]=pn(M[se]));return M.legend&&(Q.legend=pn(M.legend)),M.scale&&(Q.scale=pn(M.scale)),M.style&&(Q.style=GW(M.style)),M.title&&(Q.title=pn(M.title)),M.view&&(Q.view=pn(M.view)),Q}let KW=new Set(["view",...Yx]),YN=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],KN={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...H};function R9(u){u=ye(u);for(let c of YN)delete u[c];if(u.axis)for(let c in u.axis)V4(u.axis[c])&&delete u.axis[c];if(u.legend)for(let c of kW)delete u.legend[c];if(u.mark){for(let c of F)delete u.mark[c];u.mark.tooltip&&e.isObject(u.mark.tooltip)&&delete u.mark.tooltip}u.params&&(u.signals=(u.signals||[]).concat(UN(u.params)),delete u.params);for(let c of KW){for(let g of F)delete u[c][g];let d=KN[c];if(d)for(let g of d)delete u[c][g];XN(u,c)}for(let c of LW())delete u[c];JN(u);for(let c in u)e.isObject(u[c])&&Ie(u[c])&&delete u[c];return Ie(u)?void 0:u}function JN(u){let{titleMarkConfig:c,subtitleMarkConfig:d,subtitle:g}=Ln(u.title);Ie(c)||(u.style["group-title"]={...u.style["group-title"],...c}),Ie(d)||(u.style["group-subtitle"]={...u.style["group-subtitle"],...d}),Ie(g)?delete u.title:u.title=g}function XN(u,c,d,g){let b=g?u[c][g]:u[c];c==="view"&&(d="cell");let D={...b,...u.style[d??c]};Ie(D)||(u.style[d??c]=D),g||delete u[c]}function K4(u){return"layer"in u}function ZN(u){return"repeat"in u}function JW(u){return!e.isArray(u.repeat)&&u.repeat.layer}class N9{map(c,d){return vp(c)?this.mapFacet(c,d):ZN(c)?this.mapRepeat(c,d):D9(c)?this.mapHConcat(c,d):wE(c)?this.mapVConcat(c,d):F9(c)?this.mapConcat(c,d):this.mapLayerOrUnit(c,d)}mapLayerOrUnit(c,d){if(K4(c))return this.mapLayer(c,d);if(bp(c))return this.mapUnit(c,d);throw new Error(le(c))}mapLayer(c,d){return{...c,layer:c.layer.map(g=>this.mapLayerOrUnit(g,d))}}mapHConcat(c,d){return{...c,hconcat:c.hconcat.map(g=>this.map(g,d))}}mapVConcat(c,d){return{...c,vconcat:c.vconcat.map(g=>this.map(g,d))}}mapConcat(c,d){let{concat:g,...b}=c;return{...b,concat:g.map(D=>this.map(D,d))}}mapFacet(c,d){return{...c,spec:this.map(c.spec,d)}}mapRepeat(c,d){return{...c,spec:this.map(c.spec,d)}}}let XW={zero:1,center:1,normalize:1};function TE(u){return u in XW}let FE=new Set([z1,Cl,H1,Lf,Ph,yp,Hd,zd,Al,kf]),ZW=new Set([Cl,H1,z1]);function i3(u){return Er(u)&&ol(u)==="quantitative"&&!u.bin}function DE(u,c){let d=c==="x"?"y":"radius",g=u[c],b=u[d];if(Er(g)&&Er(b))if(i3(g)&&i3(b)){if(g.stack)return c;if(b.stack)return d;let Q=Er(g)&&!!g.aggregate,se=Er(b)&&!!b.aggregate;if(Q!==se)return Q?c:d;{var D,M;let We=(D=g.scale)===null||D===void 0?void 0:D.type,Xe=(M=b.scale)===null||M===void 0?void 0:M.type;if(We&&We!=="linear")return d;if(Xe&&Xe!=="linear")return c}}else{if(i3(g))return c;if(i3(b))return d}else{if(i3(g))return c;if(i3(b))return d}}function eL(u){switch(u){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function tL(u,c){var d,g;let b=lc(u)?u.type:u;if(!FE.has(b))return null;let D=DE(c,"x")||DE(c,"theta");if(!D)return null;let M=c[D],Q=Er(M)?fi(M,{}):void 0,se=eL(D),We=[],Xe=new Set;if(c[se]){let In=c[se],Xn=Er(In)?fi(In,{}):void 0;Xn&&Xn!==Q&&(We.push(se),Xe.add(Xn));let lr=se==="x"?"xOffset":"yOffset",pr=c[lr],kr=Er(pr)?fi(pr,{}):void 0;kr&&kr!==Q&&(We.push(lr),Xe.add(kr))}let qt=Cs.reduce((In,Xn)=>{if(Xn!=="tooltip"&&eg(c,Xn)){let lr=c[Xn];for(let pr of e.array(lr)){let kr=Bh(pr);if(kr.aggregate)continue;let Ni=fi(kr,{});(!Ni||!Xe.has(Ni))&&In.push({channel:Xn,fieldDef:kr})}}return In},[]),on;return M.stack!==void 0?e.isBoolean(M.stack)?on=M.stack?"zero":null:on=M.stack:ZW.has(b)&&(on="zero"),!on||!TE(on)||yE(c)&&qt.length===0?null:M!=null&&(d=M.scale)!==null&&d!==void 0&&d.type&&(M==null||(g=M.scale)===null||g===void 0?void 0:g.type)!==il.LINEAR?(jr(oc(M.scale.type)),null):Ls(c[Ss(D)])?(M.stack!==void 0&&jr(La(D)),null):(Er(M)&&M.aggregate&&!ui.has(M.aggregate)&&jr(Hl(M.aggregate)),{groupbyChannels:We,groupbyFields:Xe,fieldChannel:D,impute:M.impute===null?!1:df(b),stackBy:qt,offset:on})}function eQ(u){let{point:c,line:d,...g}=u;return re(g).length>1?g:g.type}function tQ(u){for(let c of["line","area","rule","trail"])u[c]&&(u={...u,[c]:pe(u[c],["point","line"])});return u}function L9(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0;return u.point==="transparent"?{opacity:0}:u.point?e.isObject(u.point)?u.point:{}:u.point!==void 0?null:c.point||d.shape?e.isObject(c.point)?c.point:{}:void 0}function nL(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.line?u.line===!0?{}:u.line:u.line!==void 0?null:c.line?c.line===!0?{}:c.line:void 0}class nQ{constructor(){bn(this,"name","path-overlay")}hasMatchingType(c,d){if(bp(c)){let{mark:g,encoding:b}=c,D=lc(g)?g:{type:g};switch(D.type){case"line":case"rule":case"trail":return!!L9(D,d[D.type],b);case"area":return!!L9(D,d[D.type],b)||!!nL(D,d[D.type])}}return!1}run(c,d,g){let{config:b}=d,{params:D,projection:M,mark:Q,encoding:se,...We}=c,Xe=vE(se,b),qt=lc(Q)?Q:{type:Q},on=L9(qt,b[qt.type],Xe),In=qt.type==="area"&&nL(qt,b[qt.type]),Xn=[{...D?{params:D}:{},mark:eQ({...qt.type==="area"&&qt.opacity===void 0&&qt.fillOpacity===void 0?{opacity:.7}:{},...qt}),encoding:pe(Xe,["shape"])}],lr=tL(qt,Xe),pr=Xe;if(lr){let{fieldChannel:kr,offset:Ni}=lr;pr={...Xe,[kr]:{...Xe[kr],...Ni?{stack:Ni}:{}}}}return pr=pe(pr,["y2","x2"]),In&&Xn.push({...M?{projection:M}:{},mark:{type:"line",...Ce(qt,["clip","interpolate","tension","tooltip"]),...In},encoding:pr}),on&&Xn.push({...M?{projection:M}:{},mark:{type:"point",opacity:1,filled:!0,...Ce(qt,["clip","tooltip"]),...on},encoding:pr}),g({...We,layer:Xn},{...d,config:tQ(b)})}}function rQ(u,c){return c?Wd(u)?Kd(u,c):rL(u,c):u}function k9(u,c){return c?Kd(u,c):u}function I9(u,c,d){let g=c[u];if(e2(g)){if(g.repeat in d)return{...c,[u]:d[g.repeat]};jr(ic(g.repeat));return}return c}function rL(u,c){if(u=I9("field",u,c),u!==void 0){if(u===null)return null;if(Kx(u)&&_a(u.sort)){let d=I9("field",u.sort,c);u={...u,...d?{sort:d}:{}}}return u}}function iL(u,c){if(Er(u))return rL(u,c);{let d=I9("datum",u,c);return d!==u&&!d.type&&(d.type="nominal"),d}}function sL(u,c){if(Ls(u)){let d=iL(u,c);if(d)return d;if(Bs(u))return{condition:u.condition}}else{if(Ur(u)){let d=iL(u.condition,c);if(d)return{...u,condition:d};{let{condition:g,...b}=u;return b}}return u}}function Kd(u,c){let d={};for(let g in u)if(e.hasOwnProperty(u,g)){let b=u[g];if(e.isArray(b))d[g]=b.map(D=>sL(D,c)).filter(D=>D);else{let D=sL(b,c);D!==void 0&&(d[g]=D)}}return d}class iQ{constructor(){bn(this,"name","RuleForRangedLine")}hasMatchingType(c){if(bp(c)){let{encoding:d,mark:g}=c;if(g==="line"||lc(g)&&g.type==="line")for(let b of Mr){let D=ai(b),M=d[D];if(d[b]&&(Er(M)&&!is(M.bin)||Eo(M)))return!0}}return!1}run(c,d,g){let{encoding:b,mark:D}=c;return jr(bl(!!b.x2,!!b.y2)),g({...c,mark:e.isObject(D)?{...D,type:"rule"}:"rule"},d)}}class sQ extends N9{constructor(){super(...arguments);bn(this,"nonFacetUnitNormalizers",[SW,AW,E9,new nQ,new iQ])}map(c,d){if(bp(c)){let g=eg(c.encoding,Fn),b=eg(c.encoding,Wn),D=eg(c.encoding,Zn);if(g||b||D)return this.mapFacetedUnit(c,d)}return super.map(c,d)}mapUnit(c,d){let{parentEncoding:g,parentProjection:b}=d,D=k9(c.encoding,d.repeater),M={...c,...D?{encoding:D}:{}};if(g||b)return this.mapUnitWithParentEncodingOrProjection(M,d);let Q=this.mapLayerOrUnit.bind(this);for(let se of this.nonFacetUnitNormalizers)if(se.hasMatchingType(M,d.config))return se.run(M,d,Q);return M}mapRepeat(c,d){return JW(c)?this.mapLayerRepeat(c,d):this.mapNonLayerRepeat(c,d)}mapLayerRepeat(c,d){let{repeat:g,spec:b,...D}=c,{row:M,column:Q,layer:se}=g,{repeater:We={},repeaterPrefix:Xe=""}=d;return M||Q?this.mapRepeat({...c,repeat:{...M?{row:M}:{},...Q?{column:Q}:{}},spec:{repeat:{layer:se},spec:b}},d):{...D,layer:se.map(qt=>{let on={...We,layer:qt},In=`${(b.name||"")+Xe}child__layer_${Lt(qt)}`,Xn=this.mapLayerOrUnit(b,{...d,repeater:on,repeaterPrefix:In});return Xn.name=In,Xn})}}mapNonLayerRepeat(c,d){let{repeat:g,spec:b,data:D,...M}=c;!e.isArray(g)&&c.columns&&(c=pe(c,["columns"]),jr(nf("repeat")));let Q=[],{repeater:se={},repeaterPrefix:We=""}=d,Xe=!e.isArray(g)&&g.row||[se?se.row:null],qt=!e.isArray(g)&&g.column||[se?se.column:null],on=e.isArray(g)&&g||[se?se.repeat:null];for(let Xn of on)for(let lr of Xe)for(let pr of qt){let kr={repeat:Xn,row:lr,column:pr,layer:se.layer},Ni=(b.name||"")+We+"child__"+(e.isArray(g)?`${Lt(Xn)}`:(g.row?`row_${Lt(lr)}`:"")+(g.column?`column_${Lt(pr)}`:"")),Ui=this.map(b,{...d,repeater:kr,repeaterPrefix:Ni});Ui.name=Ni,Q.push(pe(Ui,["data"]))}let In=e.isArray(g)?c.columns:g.column?g.column.length:1;return{data:b.data??D,align:"all",...M,columns:In,concat:Q}}mapFacet(c,d){let{facet:g}=c;return Wd(g)&&c.columns&&(c=pe(c,["columns"]),jr(nf("facet"))),super.mapFacet(c,d)}mapUnitWithParentEncodingOrProjection(c,d){let{encoding:g,projection:b}=c,{parentEncoding:D,parentProjection:M,config:Q}=d,se=js({parentProjection:M,projection:b}),We=t2({parentEncoding:D,encoding:k9(g,d.repeater)});return this.mapUnit({...c,...se?{projection:se}:{},...We?{encoding:We}:{}},{config:Q})}mapFacetedUnit(c,d){let{row:g,column:b,facet:D,...M}=c.encoding,{mark:Q,width:se,projection:We,height:Xe,view:qt,params:on,encoding:In,...Xn}=c,{facetMapping:lr,layout:pr}=this.getFacetMappingAndLayout({row:g,column:b,facet:D},d),kr=k9(M,d.repeater);return this.mapFacet({...Xn,...pr,facet:lr,spec:{...se?{width:se}:{},...Xe?{height:Xe}:{},...qt?{view:qt}:{},...We?{projection:We}:{},mark:Q,encoding:kr,...on?{params:on}:{}}},d)}getFacetMappingAndLayout(c,d){let{row:g,column:b,facet:D}=c;if(g||b){D&&jr(Th([...g?[Fn]:[],...b?[Wn]:[]]));let M={},Q={};for(let se of[Fn,Wn]){let We=c[se];if(We){let{align:Xe,center:qt,spacing:on,columns:In,...Xn}=We;M[se]=Xn;for(let lr of["align","center","spacing"])We[lr]!==void 0&&(Q[lr]??={},Q[lr][se]=We[lr])}}return{facetMapping:M,layout:Q}}else{let{align:M,center:Q,spacing:se,columns:We,...Xe}=D;return{facetMapping:rQ(Xe,d.repeater),layout:{...M?{align:M}:{},...Q?{center:Q}:{},...se?{spacing:se}:{},...We?{columns:We}:{}}}}}mapLayer(c,d){let{parentEncoding:g,parentProjection:b,...D}=d,{encoding:M,projection:Q,...se}=c,We={...D,parentEncoding:t2({parentEncoding:g,encoding:M,layer:!0}),parentProjection:js({parentProjection:b,projection:Q})};return super.mapLayer(se,We)}}function t2(u){let{parentEncoding:c,encoding:d={},layer:g}=u,b={};if(c){let D=new Set([...re(c),...re(d)]);for(let M of D){let Q=d[M],se=c[M];if(Ls(Q)){let We={...se,...Q};b[M]=We}else Ur(Q)?b[M]={...Q,condition:{...se,...Q.condition}}:Q||Q===null?b[M]=Q:(g||Gd(se)||$n(se)||Ls(se)||e.isArray(se))&&(b[M]=se)}}else b=d;return!b||Ie(b)?void 0:b}function js(u){let{parentProjection:c,projection:d}=u;return c&&d&&jr(Ah({parentProjection:c,projection:d})),d??c}function M9(u){return"filter"in u}function y0(u){return(u==null?void 0:u.stop)!==void 0}function Iu(u){return"lookup"in u}function oQ(u){return"data"in u}function n2(u){return"param"in u}function aQ(u){return"pivot"in u}function uQ(u){return"density"in u}function lQ(u){return"quantile"in u}function cQ(u){return"regression"in u}function fQ(u){return"loess"in u}function P9(u){return"sample"in u}function dQ(u){return"window"in u}function K1(u){return"joinaggregate"in u}function oL(u){return"flatten"in u}function OE(u){return"calculate"in u}function eu(u){return"bin"in u}function Mu(u){return"impute"in u}function aL(u){return"timeUnit"in u}function hQ(u){return"aggregate"in u}function pQ(u){return"stack"in u}function mQ(u){return"fold"in u}function xQ(u){return u.map(c=>M9(c)?{filter:te(c.filter,Lh)}:c)}class gQ extends N9{map(c,d){return d.emptySelections??={},d.selectionPredicates??={},c=uL(c,d),super.map(c,d)}mapLayerOrUnit(c,d){if(c=uL(c,d),c.encoding){let g={};for(let[b,D]of ct(c.encoding))g[b]=B9(D,d);c={...c,encoding:g}}return super.mapLayerOrUnit(c,d)}mapUnit(c,d){let{selection:g,...b}=c;return g?{...b,params:ct(g).map(D=>{let[M,Q]=D,{init:se,bind:We,empty:Xe,...qt}=Q;qt.type==="single"?(qt.type="point",qt.toggle=!1):qt.type==="multi"&&(qt.type="point"),d.emptySelections[M]=Xe!=="none";for(let on of Ne(d.selectionPredicates[M]??{}))on.empty=Xe!=="none";return{name:M,value:se,select:qt,bind:We}})}:c}}function uL(u,c){let{transform:d,...g}=u;if(d){let b=d.map(D=>{if(M9(D))return{filter:J4(D,c)};if(eu(D)&&Me(D.bin))return{...D,bin:s3(D.bin)};if(Iu(D)){let{selection:M,...Q}=D.from;return M?{...D,from:{param:M,...Q}}:D}return D});return{...g,transform:b}}return u}function B9(u,c){var d,g;let b=ye(u);if(Er(b)&&Me(b.bin)&&(b.bin=s3(b.bin)),Xx(b)&&(d=b.scale)!==null&&d!==void 0&&(g=d.domain)!==null&&g!==void 0&&g.selection){let{selection:D,...M}=b.scale.domain;b.scale.domain={...M,...D?{param:D}:{}}}if(Bs(b))if(e.isArray(b.condition))b.condition=b.condition.map(D=>{let{selection:M,param:Q,test:se,...We}=D;return Q?D:{...We,test:J4(D,c)}});else{let{selection:D,param:M,test:Q,...se}=B9(b.condition,c);b.condition=M?b.condition:{...se,test:J4(b.condition,c)}}return b}function s3(u){let c=u.extent;if(c!=null&&c.selection){let{selection:d,...g}=c;return{...u,extent:{...g,param:d}}}return u}function J4(u,c){let d=g=>te(g,b=>{let D=c.emptySelections[b]??!0,M={param:b,empty:D};return c.selectionPredicates[b]??=[],c.selectionPredicates[b].push(M),M});return u.selection?d(u.selection):te(u.test||u.filter,g=>g.selection?d(g.selection):g)}class j9 extends N9{map(c,d){let g=d.selections??[];if(c.params&&!bp(c)){let b=[];for(let D of c.params)T9(D)?g.push(D):b.push(D);c.params=b}return d.selections=g,super.map(c,q9(c,d))}mapUnit(c,d){let g=d.selections;if(!g||!g.length)return c;let b=(d.path??[]).concat(c.name),D=[];for(let M of g)if(!M.views||!M.views.length)D.push(M);else for(let Q of M.views)(e.isString(Q)&&(Q===c.name||b.indexOf(Q)>=0)||e.isArray(Q)&&Q.map(se=>b.indexOf(se)).every((se,We,Xe)=>se!==-1&&(We===0||se>Xe[We-1])))&&D.push(M);return D.length&&(c.params=D),c}}for(let u of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){let c=j9.prototype[u];j9.prototype[u]=function(d,g){return c.call(this,d,q9(d,g))}}function q9(u,c){return u.name?{...c,path:(c.path??[]).concat(u.name)}:c}function X4(u,c){c===void 0&&(c=Y4(u.config));let d=vQ(u,c),{width:g,height:b}=u,D=_Q(d,{width:g,height:b,autosize:u.autosize},c);return{...d,...D?{autosize:D}:{}}}let od=new sQ,o3=new gQ,yQ=new j9;function vQ(u){let d={config:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}};return yQ.map(od.map(o3.map(u,d),d),d)}function lL(u){return e.isString(u)?{type:u}:u??{}}function _Q(u,c,d){let{width:g,height:b}=c,D=bp(u)||K4(u),M={};D?g=="container"&&b=="container"?(M.type="fit",M.contains="padding"):g=="container"?(M.type="fit-x",M.contains="padding"):b=="container"&&(M.type="fit-y",M.contains="padding"):(g=="container"&&(jr(en("width")),g=void 0),b=="container"&&(jr(en("height")),b=void 0));let Q={type:"pad",...M,...d?lL(d.autosize):{},...lL(u.autosize)};if(Q.type==="fit"&&!D&&(jr(at),Q.type="pad"),g=="container"&&!(Q.type=="fit"||Q.type=="fit-x")&&jr(Dn("width")),b=="container"&&!(Q.type=="fit"||Q.type=="fit-y")&&jr(Dn("height")),!Ze(Q,{type:"pad"}))return Q}function bQ(u){return u==="fit"||u==="fit-x"||u==="fit-y"}function cL(u){return u?`fit-${hi(u)}`:"fit"}let J1=["background","padding"];function Zs(u,c){let d={};for(let g of J1)u&&u[g]!==void 0&&(d[g]=pi(u[g]));return c&&(d.params=u.params),d}class wp{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.explicit=c,this.implicit=d}clone(){return new wp(ye(this.explicit),ye(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(c){return Re(this.explicit[c],this.implicit[c])}getWithExplicit(c){return this.explicit[c]!==void 0?{explicit:!0,value:this.explicit[c]}:this.implicit[c]!==void 0?{explicit:!1,value:this.implicit[c]}:{explicit:!1,value:void 0}}setWithExplicit(c,d){let{value:g,explicit:b}=d;g!==void 0&&this.set(c,g,b)}set(c,d,g){return delete this[g?"implicit":"explicit"][c],this[g?"explicit":"implicit"][c]=d,this}copyKeyFromSplit(c,d){let{explicit:g,implicit:b}=d;g[c]!==void 0?this.set(c,g[c],!0):b[c]!==void 0&&this.set(c,b[c],!1)}copyKeyFromObject(c,d){d[c]!==void 0&&this.set(c,d[c],!0)}copyAll(c){for(let d of re(c.combine())){let g=c.getWithExplicit(d);this.setWithExplicit(d,g)}}}function al(u){return{explicit:!0,value:u}}function v0(u){return{explicit:!1,value:u}}function fL(u){return(c,d,g,b)=>{let D=u(c.value,d.value);return D>0?c:D<0?d:Wo(c,d,g,b)}}function Wo(u,c,d,g){return u.explicit&&c.explicit&&jr(Fi(d,g,u.value,c.value)),u}function r2(u,c,d,g){let b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Wo;return u===void 0||u.value===void 0?c:u.explicit&&!c.explicit?u:c.explicit&&!u.explicit?c:Ze(u.value,c.value)?u:b(u,c,d,g)}class dL extends wp{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super(c,d);this.explicit=c,this.implicit=d,this.parseNothing=g}clone(){let c=super.clone();return c.parseNothing=this.parseNothing,c}}function X1(u){return"url"in u}function Z4(u){return"values"in u}function hL(u){return"name"in u&&!X1(u)&&!Z4(u)&&!i2(u)}function i2(u){return u&&(pL(u)||mL(u)||U9(u))}function pL(u){return"sequence"in u}function mL(u){return"sphere"in u}function U9(u){return"graticule"in u}let Pa;(function(u){u[u.Raw=0]="Raw",u[u.Main=1]="Main",u[u.Row=2]="Row",u[u.Column=3]="Column",u[u.Lookup=4]="Lookup"})(Pa||(Pa={}));function tg(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.identity;if(e.isArray(u)){let g=u.map(b=>tg(b,c,d));return c?`[${g.join(", ")}]`:g}else if(J0(u))return d(c?uf(u):Qx(u));return c?d(Je(u)):u}function EQ(u,c){for(let d of Ne(u.component.selection??{})){let g=d.name,b=`${g}${a2}, ${d.resolve==="global"?"true":`{unit: ${f3(u)}}`}`;for(let D of c3)!D.defined(d)||(D.signals&&(c=D.signals(u,d,c)),D.modifyExpr&&(b=D.modifyExpr(u,d,b)));c.push({name:g+K9,on:[{events:{signal:d.name+a2},update:`modify(${e.stringValue(d.name+ng)}, ${b})`}]})}return e_(c)}function SQ(u,c){if(u.component.selection&&re(u.component.selection).length){let d=e.stringValue(u.getName("cell"));c.unshift({name:"facet",value:{},on:[{events:e.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${d}).datum`}]})}return e_(c)}function wQ(u,c){let d=!1;for(let g of Ne(u.component.selection??{})){let b=g.name,D=e.stringValue(b+ng);if(c.filter(Q=>Q.name===b).length===0){let Q=g.resolve==="global"?"union":g.resolve,se=g.type==="point"?", true, true)":")";c.push({name:g.name,update:`${kL}(${D}, ${e.stringValue(Q)}${se}`})}d=!0;for(let Q of c3)Q.defined(g)&&Q.topLevelSignals&&(c=Q.topLevelSignals(u,g,c))}return d&&c.filter(b=>b.name==="unit").length===0&&c.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),e_(c)}function CQ(u,c){let d=[...c],g=f3(u,{escape:!1});for(let b of Ne(u.component.selection??{})){let D={name:b.name+ng};if(b.project.hasSelectionId&&(D.transform=[{type:"collect",sort:{field:Ep}}]),b.init){let Q=b.project.items.map(se=>{let{signals:We,...Xe}=se;return Xe});D.values=b.project.hasSelectionId?b.init.map(se=>({unit:g,[Ep]:tg(se,!1)[0]})):b.init.map(se=>({unit:g,fields:Q,values:tg(se,!1)}))}d.filter(Q=>Q.name===b.name+ng).length||d.push(D)}return d}function xL(u,c){for(let d of Ne(u.component.selection??{}))for(let g of c3)g.defined(d)&&g.marks&&(c=g.marks(u,d,c));return c}function $9(u,c){for(let d of u.children)hc(d)&&(c=xL(d,c));return c}function AQ(u,c,d,g){let b=BL(u,c.param,c);return{signal:wt(d.get("type"))&&e.isArray(g)&&g[0]>g[1]?`isValid(${b}) && reverse(${b})`:b}}function e_(u){return u.map(c=>(c.on&&!c.on.length&&delete c.on,c))}class ba{constructor(c,d){this.debugName=d,bn(this,"_children",[]),bn(this,"_parent",null),bn(this,"_hash",void 0),c&&(this.parent=c)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(c){this._parent=c,c&&c.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(c,d){if(this._children.includes(c)){jr(u0);return}d!==void 0?this._children.splice(d,0,c):this._children.push(c)}removeChild(c){let d=this._children.indexOf(c);return this._children.splice(d,1),d}remove(){let c=this._parent.removeChild(this);for(let d of this._children)d._parent=this._parent,this._parent.addChild(d,c++)}insertAsParentOf(c){let d=c.parent;d.removeChild(this),this.parent=d,c.parent=this}swapWithParent(){let c=this._parent,d=c.parent;for(let b of this._children)b.parent=c;this._children=[],c.removeChild(this);let g=c.parent.removeChild(c);this._parent=d,d.addChild(this,g),c.parent=this}}class Pf extends ba{clone(){let c=new this.constructor;return c.debugName=`clone_${this.debugName}`,c._source=this._source,c._name=`clone_${this._name}`,c.type=this.type,c.refCounts=this.refCounts,c.refCounts[c._name]=0,c}constructor(c,d,g,b){super(c,d);this.type=g,this.refCounts=b,bn(this,"_source",void 0),bn(this,"_name",void 0),this._source=this._name=d,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${De()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(c){this._source=c}}class Cp extends ba{clone(){return new Cp(null,ye(this.formula))}constructor(c,d){super(c);this.formula=d}static makeFromEncoding(c,d){let g=d.reduceFieldDef((b,D)=>{let{field:M,timeUnit:Q}=D;if(Q){let se=fi(D,{forAs:!0});b[ut({as:se,field:M,timeUnit:Q})]={as:se,field:M,timeUnit:Q}}return b},{});return Ie(g)?null:new Cp(c,g)}static makeFromTransform(c,d){let{timeUnit:g,...b}={...d},D=pu(g),M={...b,timeUnit:D};return new Cp(c,{[ut(M)]:M})}merge(c){this.formula={...this.formula};for(let d in c.formula)this.formula[d]||(this.formula[d]=c.formula[d]);for(let d of c.children)c.removeChild(d),d.parent=this;c.remove()}removeFormulas(c){let d={};for(let[g,b]of ct(this.formula))c.has(b.as)||(d[g]=b);this.formula=d}producedFields(){return new Set(Ne(this.formula).map(c=>c.as))}dependentFields(){return new Set(Ne(this.formula).map(c=>c.field))}hash(){return`TimeUnit ${ut(this.formula)}`}assemble(){let c=[];for(let d of Ne(this.formula)){let{field:g,as:b,timeUnit:D}=d,{unit:M,utc:Q,...se}=pu(D);c.push({field:un(g),type:"timeunit",...M?{units:nl(M)}:{},...Q?{timezone:"utc"}:{},...se,as:[b,`${b}_end`]})}return c}}let Pu="_tuple_fields";class _0{constructor(){bn(this,"hasChannel",void 0),bn(this,"hasField",void 0),bn(this,"hasSelectionId",void 0),bn(this,"timeUnit",void 0),bn(this,"items",void 0);for(var c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];this.items=d,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}let TQ={defined:()=>!0,parse:(u,c,d)=>{let g=c.name,b=c.project??=new _0,D={},M={},Q=new Set,se=(Xn,lr)=>{let pr=lr==="visual"?Xn.channel:Xn.field,kr=Lt(`${g}_${pr}`);for(let Ni=1;Q.has(kr);Ni++)kr=Lt(`${g}_${pr}_${Ni}`);return Q.add(kr),{[lr]:kr}},We=c.type,Xe=u.config.selection[We],qt=d.value!==void 0?e.array(d.value):null,{fields:on,encodings:In}=e.isObject(d.select)?d.select:{};if(!on&&!In&&qt){for(let Xn of qt)if(!!e.isObject(Xn))for(let lr of re(Xn))Vr(lr)?(In||(In=[])).push(lr):We==="interval"?(jr(V0),In=Xe.encodings):(on||(on=[])).push(lr)}!on&&!In&&(In=Xe.encodings,"fields"in Xe&&(on=Xe.fields));for(let Xn of In??[]){let lr=u.fieldDef(Xn);if(lr){let pr=lr.field;if(lr.aggregate){jr(es(Xn,lr.aggregate));continue}else if(!pr){jr(fr(Xn));continue}if(lr.timeUnit){pr=u.vgField(Xn);let kr={timeUnit:lr.timeUnit,as:pr,field:lr.field};M[ut(kr)]=kr}if(!D[pr]){let kr="E";if(We==="interval"){let Ui=u.getScaleComponent(Xn).get("type");wt(Ui)&&(kr="R")}else lr.bin&&(kr="R-RE");let Ni={field:pr,channel:Xn,type:kr};Ni.signals={...se(Ni,"data"),...se(Ni,"visual")},b.items.push(D[pr]=Ni),b.hasField[pr]=b.hasChannel[Xn]=D[pr],b.hasSelectionId=b.hasSelectionId||pr===Ep}}else jr(fr(Xn))}for(let Xn of on??[]){if(b.hasField[Xn])continue;let lr={type:"E",field:Xn};lr.signals={...se(lr,"data")},b.items.push(lr),b.hasField[Xn]=lr,b.hasSelectionId=b.hasSelectionId||Xn===Ep}qt&&(c.init=qt.map(Xn=>b.items.map(lr=>e.isObject(Xn)?Xn[lr.channel]!==void 0?Xn[lr.channel]:Xn[lr.field]:Xn))),Ie(M)||(b.timeUnit=new Cp(null,M))},signals:(u,c,d)=>{let g=c.name+Pu;return d.filter(D=>D.name===g).length>0||c.project.hasSelectionId?d:d.concat({name:g,value:c.project.items.map(D=>{let{signals:M,hasLegend:Q,...se}=D;return se.field=un(se.field),se})})}},s2={defined:u=>u.type==="interval"&&u.resolve==="global"&&u.bind&&u.bind==="scales",parse:(u,c)=>{let d=c.scales=[];for(let g of c.project.items){let b=g.channel;if(!Ii(b))continue;let D=u.getScaleComponent(b),M=D?D.get("type"):void 0;if(!D||!wt(M)){jr(Ja);continue}D.set("selectionExtent",{param:c.name,field:g.field},!0),d.push(g)}},topLevelSignals:(u,c,d)=>{let g=c.scales.filter(M=>d.filter(Q=>Q.name===M.signals.data).length===0);if(!u.parent||H9(u)||g.length===0)return d;let b=d.filter(M=>M.name===c.name)[0],D=b.update;if(D.indexOf(kL)>=0)b.update=`{${g.map(M=>`${e.stringValue(un(M.field))}: ${M.signals.data}`).join(", ")}}`;else{for(let M of g){let Q=`${e.stringValue(un(M.field))}: ${M.signals.data}`;D.includes(Q)||(D=`${D.substring(0,D.length-1)}, ${Q}}`)}b.update=D}return d.concat(g.map(M=>({name:M.signals.data})))},signals:(u,c,d)=>{if(u.parent&&!H9(u))for(let g of c.scales){let b=d.filter(D=>D.name===g.signals.data)[0];b.push="outer",delete b.value,delete b.update}return d}};function z9(u,c){return`domain(${e.stringValue(u.scaleName(c))})`}function H9(u){return u.parent&&$E(u.parent)&&!u.parent.parent}let a3="_brush",V9="_scale_trigger",FQ={defined:u=>u.type==="interval",signals:(u,c,d)=>{let g=c.name,b=g+Pu,D=s2.defined(c),M=c.init?c.init[0]:null,Q=[],se=[];if(c.translate&&!D){let Xe=`!event.item || event.item.mark.name !== ${e.stringValue(g+a3)}`;yL(c,(qt,on)=>{let In=e.array(on.between[0].filter??=[]);return In.includes(Xe)||In.push(Xe),qt})}c.project.items.forEach((Xe,qt)=>{let on=Xe.channel;if(on!==Nn&&on!==nr){jr("Interval selections only support x and y encoding channels.");return}let In=M?M[qt]:null,Xn=gL(u,c,Xe,In),lr=Xe.signals.data,pr=Xe.signals.visual,kr=e.stringValue(u.scaleName(on)),Ni=u.getScaleComponent(on).get("type"),Ui=wt(Ni)?"+":"";d.push(...Xn),Q.push(lr),se.push({scaleName:u.scaleName(on),expr:`(!isArray(${lr}) || (${Ui}invert(${kr}, ${pr})[0] === ${Ui}${lr}[0] && ${Ui}invert(${kr}, ${pr})[1] === ${Ui}${lr}[1]))`})}),!D&&se.length&&d.push({name:g+V9,value:{},on:[{events:se.map(Xe=>({scale:Xe.scaleName})),update:`${se.map(Xe=>Xe.expr).join(" && ")} ? ${g+V9} : {}`}]});let We=`unit: ${f3(u)}, fields: ${b}, values`;return d.concat({name:g+a2,...M?{init:`{${We}: ${tg(M)}}`}:{},...Q.length?{on:[{events:[{signal:Q.join(" || ")}],update:`${Q.join(" && ")} ? {${We}: [${Q}]} : null`}]}:{}})},marks:(u,c,d)=>{let g=c.name,{x:b,y:D}=c.project.hasChannel,M=b==null?void 0:b.signals.visual,Q=D==null?void 0:D.signals.visual,se=`data(${e.stringValue(c.name+ng)})`;if(s2.defined(c)||!b&&!D)return d;let We={x:b!==void 0?{signal:`${M}[0]`}:{value:0},y:D!==void 0?{signal:`${Q}[0]`}:{value:0},x2:b!==void 0?{signal:`${M}[1]`}:{field:{group:"width"}},y2:D!==void 0?{signal:`${Q}[1]`}:{field:{group:"height"}}};if(c.resolve==="global")for(let lr of re(We))We[lr]=[{test:`${se}.length && ${se}[0].unit === ${f3(u)}`,...We[lr]},{value:0}];let{fill:Xe,fillOpacity:qt,cursor:on,...In}=c.mark,Xn=re(In).reduce((lr,pr)=>(lr[pr]=[{test:[b!==void 0&&`${M}[0] !== ${M}[1]`,D!==void 0&&`${Q}[0] !== ${Q}[1]`].filter(kr=>kr).join(" && "),value:In[pr]},{value:null}],lr),{});return[{name:`${g+a3}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:Xe},fillOpacity:{value:qt}},update:We}},...d,{name:g+a3,type:"rect",clip:!0,encode:{enter:{...on?{cursor:{value:on}}:{},fill:{value:"transparent"}},update:{...We,...Xn}}}]}};function gL(u,c,d,g){let b=d.channel,D=d.signals.visual,M=d.signals.data,Q=s2.defined(c),se=e.stringValue(u.scaleName(b)),We=u.getScaleComponent(b),Xe=We?We.get("type"):void 0,qt=lr=>`scale(${se}, ${lr})`,on=u.getSizeSignalRef(b===Nn?"width":"height").signal,In=`${b}(unit)`,Xn=yL(c,(lr,pr)=>[...lr,{events:pr.between[0],update:`[${In}, ${In}]`},{events:pr,update:`[${D}[0], clamp(${In}, 0, ${on})]`}]);return Xn.push({events:{signal:c.name+V9},update:wt(Xe)?`[${qt(`${M}[0]`)}, ${qt(`${M}[1]`)}]`:"[0, 0]"}),Q?[{name:M,on:[]}]:[{name:D,...g?{init:tg(g,!0,qt)}:{value:[]},on:Xn},{name:M,...g?{init:tg(g)}:{},on:[{events:{signal:D},update:`${D}[0] === ${D}[1] ? null : invert(${se}, ${D})`}]}]}function yL(u,c){return u.events.reduce((d,g)=>g.between?c(d,g):(jr(`${g} is not an ordered event stream for interval selections.`),d),[])}let DQ={defined:u=>u.type==="point",signals:(u,c,d)=>{let g=c.name,b=g+Pu,D=c.project,M="(item().isVoronoi ? datum.datum : datum)",Q=Ne(u.component.selection??{}).reduce((qt,on)=>on.type==="interval"?qt.concat(on.name+a3):qt,[]).map(qt=>`indexof(item().mark.name, '${qt}') < 0`).join(" && "),se=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${Q?` && ${Q}`:""}`,We=`unit: ${f3(u)}, `;if(c.project.hasSelectionId)We+=`${Ep}: ${M}[${e.stringValue(Ep)}]`;else{let qt=D.items.map(on=>{let In=u.fieldDef(on.channel);return In!=null&&In.bin?`[${M}[${e.stringValue(u.vgField(on.channel,{}))}], ${M}[${e.stringValue(u.vgField(on.channel,{binSuffix:"end"}))}]]`:`${M}[${e.stringValue(on.field)}]`}).join(", ");We+=`fields: ${b}, values: [${qt}]`}let Xe=c.events;return d.concat([{name:g+a2,on:Xe?[{events:Xe,update:`${se} ? {${We}} : null`,force:!0}]:[]}])}};function u3(u,c,d,g){let b=Bs(c)&&c.condition,D=g(c);if(b){let Q=e.array(b).map(se=>{let We=g(se);if(g0(se)){let{param:Xe,empty:qt}=se;return{test:BE(u,{param:Xe,empty:qt}),...We}}else return{test:jE(u,se.test),...We}});return{[d]:[...Q,...D!==void 0?[D]:[]]}}else return D!==void 0?{[d]:D}:{}}function RE(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"text",d=u.encoding[c];return u3(u,d,c,g=>t_(g,u.config))}function t_(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"datum";if(u){if(Gd(u))return qr(u.value);if(Ls(u)){let{format:g,formatType:b}=mE(u);return ds({fieldOrDatumDef:u,format:g,formatType:b,expr:d,config:c})}}}function vL(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{encoding:d,markDef:g,config:b,stack:D}=u,M=d.tooltip;if(e.isArray(M))return{tooltip:bL({tooltip:M},D,b,c)};{let Q=c.reactiveGeom?"datum.datum":"datum";return u3(u,M,"tooltip",se=>{let We=t_(se,b,Q);if(We)return We;if(se===null)return;let Xe=vi("tooltip",g,b);if(Xe===!0&&(Xe={content:"encoding"}),e.isString(Xe))return{value:Xe};if(e.isObject(Xe))return $n(Xe)?Xe:Xe.content==="encoding"?bL(d,D,b,c):{signal:Q}})}}function _L(u,c,d){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b={},D=g?"datum.datum":"datum",M=[];function Q(We,Xe){let qt=ai(Xe),on=Qd(We)?We:{...We,type:u[qt].type},In=on.title||pE(on,d),Xn=e.array(In).join(", "),lr;if(us(Xe)){let pr=Xe==="x"?"x2":"y2",kr=Bh(u[pr]);if(is(on.bin)&&kr){let Ni=fi(on,{expr:D}),Ui=fi(kr,{expr:D}),{format:Os,formatType:ji}=mE(on);lr=Ca(Ni,Ui,Os,ji,d),b[pr]=!0}}if((us(Xe)||Xe===hn||Xe===nt)&&c&&c.fieldChannel===Xe&&c.offset==="normalize"){let{format:pr,formatType:kr}=mE(on);lr=ds({fieldOrDatumDef:on,format:pr,formatType:kr,expr:D,config:d,normalizeStack:!0}).signal}lr??=t_(on,d,D).signal,M.push({channel:Xe,key:Xn,value:lr})}g9(u,(We,Xe)=>{Er(We)?Q(We,Xe):bo(We)&&Q(We.condition,Xe)});let se={};for(let{channel:We,key:Xe,value:qt}of M)!b[We]&&!se[Xe]&&(se[Xe]=qt);return se}function bL(u,c,d){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=_L(u,c,d,{reactiveGeom:g}),D=ct(b).map(M=>{let[Q,se]=M;return`"${Q}": ${se}`});return D.length>0?{signal:`{${D.join(", ")}}`}:void 0}function OQ(u){let{markDef:c,config:d}=u,g=vi("aria",c,d);return g===!1?{}:{...g?{aria:g}:{},...l3(u),...RQ(u)}}function l3(u){let{mark:c,markDef:d,config:g}=u;if(g.aria===!1)return{};let b=vi("ariaRoleDescription",d,g);return b!=null?{ariaRoleDescription:{value:b}}:c in Rr?{}:{ariaRoleDescription:{value:c}}}function RQ(u){let{encoding:c,markDef:d,config:g,stack:b}=u,D=c.description;if(D)return u3(u,D,"description",se=>t_(se,u.config));let M=vi("description",d,g);if(M!=null)return{description:qr(M)};if(g.aria===!1)return{};let Q=_L(c,b,g);if(!Ie(Q))return{description:{signal:ct(Q).map((se,We)=>{let[Xe,qt]=se;return`"${We>0?"; ":""}${Xe}: " + (${qt})`}).join(" + ")}}}function dc(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{markDef:g,encoding:b,config:D}=c,{vgChannel:M}=d,{defaultRef:Q,defaultValue:se}=d;Q===void 0&&(se??=vi(u,g,D,{vgChannel:M,ignoreVgConfig:!0}),se!==void 0&&(Q=qr(se)));let We=b[u];return u3(c,We,M??u,Xe=>Kr({channel:u,channelDef:Xe,markDef:g,config:D,scaleName:c.scaleName(u),scale:c.getScaleComponent(u),stack:null,defaultRef:Q}))}function EL(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{filled:void 0},{markDef:d,encoding:g,config:b}=u,{type:D}=d,M=c.filled??vi("filled",d,b),Q=Ct(["bar","point","circle","square","geoshape"],D)?"transparent":void 0,se=vi(M===!0?"color":void 0,d,b,{vgChannel:"fill"})??b.mark[M===!0&&"color"]??Q,We=vi(M===!1?"color":void 0,d,b,{vgChannel:"stroke"})??b.mark[M===!1&&"color"],Xe=M?"fill":"stroke",qt={...se?{fill:qr(se)}:{},...We?{stroke:qr(We)}:{}};return d.color&&(M?d.fill:d.stroke)&&jr(f0("property",{fill:"fill"in d,stroke:"stroke"in d})),{...qt,...dc("color",u,{vgChannel:Xe,defaultValue:M?se:We}),...dc("fill",u,{defaultValue:g.fill?se:void 0}),...dc("stroke",u,{defaultValue:g.stroke?We:void 0})}}function NQ(u){let{encoding:c,mark:d}=u,g=c.order;return!df(d)&&Gd(g)?u3(u,g,"zindex",b=>qr(b.value)):{}}function n_(u){let{channel:c,markDef:d,encoding:g={},model:b,bandPosition:D}=u,M=`${c}Offset`,Q=d[M],se=g[M];if((M==="xOffset"||M==="yOffset")&&se){let Xe=Kr({channel:M,channelDef:se,markDef:d,config:b==null?void 0:b.config,scaleName:b.scaleName(M),scale:b.getScaleComponent(M),stack:null,defaultRef:qr(Q),bandPosition:D});return{offsetType:"encoding",offset:Xe}}let We=d[M];return We?{offsetType:"visual",offset:We}:{}}function jc(u,c,d){let{defaultPos:g,vgChannel:b}=d,{encoding:D,markDef:M,config:Q,stack:se}=c,We=D[u],Xe=D[Ss(u)],qt=c.scaleName(u),on=c.getScaleComponent(u),{offset:In,offsetType:Xn}=n_({channel:u,markDef:M,encoding:D,model:c,bandPosition:.5}),lr=W9({model:c,defaultPos:g,channel:u,scaleName:qt,scale:on}),pr=!We&&us(u)&&(D.latitude||D.longitude)?{field:c.getName(u)}:SL({channel:u,channelDef:We,channel2Def:Xe,markDef:M,config:Q,scaleName:qt,scale:on,stack:se,offset:In,defaultRef:lr,bandPosition:Xn==="encoding"?0:void 0});return pr?{[b||u]:pr}:void 0}function SL(u){let{channel:c,channelDef:d,scaleName:g,stack:b,offset:D,markDef:M}=u;if(Ls(d)&&b&&c===b.fieldChannel){if(Er(d)){let Q=d.bandPosition;if(Q===void 0&&M.type==="text"&&(c==="radius"||c==="theta")&&(Q=.5),Q!==void 0)return Or({scaleName:g,fieldOrDatumDef:d,startSuffix:"start",bandPosition:Q,offset:D})}return or(d,g,{suffix:"end"},{offset:D})}return zt(u)}function W9(u){let{model:c,defaultPos:d,channel:g,scaleName:b,scale:D}=u,{markDef:M,config:Q}=c;return()=>{let se=ai(g),We=Xi(g),Xe=vi(g,M,Q,{vgChannel:We});if(Xe!==void 0)return Lr(g,Xe);switch(d){case"zeroOrMin":case"zeroOrMax":if(b){let qt=D.get("type");if(!Ct([il.LOG,il.TIME,il.UTC],qt)){if(D.domainDefinitelyIncludesZero())return{scale:b,value:0}}}if(d==="zeroOrMin")return se==="y"?{field:{group:"height"}}:{value:0};switch(se){case"radius":return{signal:`min(${c.width.signal},${c.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...c[ts(g)],mult:.5}}}}let LQ={left:"x",center:"xc",right:"x2"},kQ={top:"y",middle:"yc",bottom:"y2"};function wL(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle";if(u==="radius"||u==="theta")return Xi(u);let b=u==="x"?"align":"baseline",D=vi(b,c,d),M;return $n(D)?(jr(ks(b)),M=void 0):M=D,u==="x"?LQ[M||(g==="top"?"left":"center")]:kQ[M||g]}function NE(u,c,d){let{defaultPos:g,defaultPos2:b,range:D}=d;return D?CL(u,c,{defaultPos:g,defaultPos2:b}):jc(u,c,{defaultPos:g})}function CL(u,c,d){let{defaultPos:g,defaultPos2:b}=d,{markDef:D,config:M}=c,Q=Ss(u),se=ts(u),We=IQ(c,b,Q),Xe=We[se]?wL(u,D,M):Xi(u);return{...jc(u,c,{defaultPos:g,vgChannel:Xe}),...We}}function IQ(u,c,d){let{encoding:g,mark:b,markDef:D,stack:M,config:Q}=u,se=ai(d),We=ts(d),Xe=Xi(d),qt=g[se],on=u.scaleName(se),In=u.getScaleComponent(se),{offset:Xn}=d in g||d in D?n_({channel:d,markDef:D,encoding:g,model:u}):n_({channel:se,markDef:D,encoding:g,model:u});if(!qt&&(d==="x2"||d==="y2")&&(g.latitude||g.longitude)){let pr=ts(d),kr=u.markDef[pr];return kr!=null?{[pr]:{value:kr}}:{[Xe]:{field:u.getName(d)}}}let lr=MQ({channel:d,channelDef:qt,channel2Def:g[d],markDef:D,config:Q,scaleName:on,scale:In,stack:M,offset:Xn,defaultRef:void 0});return lr!==void 0?{[Xe]:lr}:LE(d,D)||LE(d,{[d]:ss(d,D,Q.style),[We]:ss(We,D,Q.style)})||LE(d,Q[b])||LE(d,Q.mark)||{[Xe]:W9({model:u,defaultPos:c,channel:d,scaleName:on,scale:In})()}}function MQ(u){let{channel:c,channelDef:d,channel2Def:g,markDef:b,config:D,scaleName:M,scale:Q,stack:se,offset:We,defaultRef:Xe}=u;return Ls(d)&&se&&c.charAt(0)===se.fieldChannel.charAt(0)?or(d,M,{suffix:"start"},{offset:We}):zt({channel:c,channelDef:g,scaleName:M,scale:Q,stack:se,markDef:b,config:D,offset:We,defaultRef:Xe})}function LE(u,c){let d=ts(u),g=Xi(u);if(c[g]!==void 0)return{[g]:Lr(u,c[g])};if(c[u]!==void 0)return{[g]:Lr(u,c[u])};if(c[d]){let b=c[d];if(x(b))jr(qo(d));else return{[d]:Lr(u,b)}}}function o2(u,c){let{config:d,encoding:g,markDef:b}=u,D=b.type,M=Ss(c),Q=ts(c),se=g[c],We=g[M],Xe=u.getScaleComponent(c),qt=Xe?Xe.get("type"):void 0,on=b.orient,In=g[Q]??g.size??vi("size",b,d,{vgChannel:Q}),Xn=D==="bar"&&(c==="x"?on==="vertical":on==="horizontal");return Er(se)&&(mr(se.bin)||is(se.bin)||se.timeUnit&&!We)&&!(In&&!x(In))&&!Be(qt)?jQ({fieldDef:se,fieldDef2:We,channel:c,model:u}):(Ls(se)&&Be(qt)||Xn)&&!We?BQ(se,c,u):CL(c,u,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function PQ(u,c,d,g,b){if(x(b))if(d){let M=d.get("type");if(M==="band"){let Q=`bandwidth('${c}')`;return b.band!==1&&(Q=`${b.band} * ${Q}`),{signal:`max(0.25, ${Q})`}}else b.band!==1&&(jr(qe(M)),b=void 0)}else return{mult:b.band,field:{group:u}};else{if($n(b))return b;if(b)return{value:b}}if(d){let M=d.get("range");if(br(M)&&e.isNumber(M.step))return{value:M.step-2}}return{value:CE(g.view,u)-2}}function BQ(u,c,d){let{markDef:g,encoding:b,config:D,stack:M}=d,Q=g.orient,se=d.scaleName(c),We=d.getScaleComponent(c),Xe=ts(c),qt=Ss(c),on=wa(c),In=d.scaleName(on),Xn=Q==="horizontal"&&c==="y"||Q==="vertical"&&c==="x",lr;(b.size||g.size)&&(Xn?lr=dc("size",d,{vgChannel:Xe,defaultRef:qr(g.size)}):jr(kn(g.type)));let pr=!!lr,kr=G1({channel:c,fieldDef:u,markDef:g,config:D,scaleType:We==null?void 0:We.get("type"),useVlSizeChannel:Xn});lr=lr||{[Xe]:PQ(Xe,In||se,We,D,kr)};let Ni=(We==null?void 0:We.get("type"))==="band"&&x(kr)&&!pr?"top":"middle",Ui=wL(c,g,D,Ni),Os=Ui==="xc"||Ui==="yc",{offset:ji,offsetType:na}=n_({channel:c,markDef:g,encoding:b,model:d,bandPosition:Os?.5:0}),as=zt({channel:c,channelDef:u,markDef:g,config:D,scaleName:se,scale:We,stack:M,offset:ji,defaultRef:W9({model:d,defaultPos:"mid",channel:c,scaleName:se,scale:We}),bandPosition:Os?na==="encoding"?0:.5:$n(kr)?{signal:`(1-${kr})/2`}:x(kr)?(1-kr.band)/2:0});if(Xe)return{[Ui]:as,...lr};{let ul=Xi(qt),Fl=lr[Xe],pc=ji?{...Fl,offset:ji}:Fl;return{[Ui]:as,[ul]:e.isArray(as)?[as[0],{...as[1],offset:pc}]:{...as,offset:pc}}}}function r_(u,c,d,g,b){if(ae(u))return 0;let D=u==="x"||u==="y2"?-c/2:c/2;if($n(d)||$n(b)||$n(g)){let M=gi(d),Q=gi(b),se=gi(g),We=se?`${se} + `:"",Xe=M?`(${M} ? -1 : 1) * `:"",qt=Q?`(${Q} + ${D})`:D;return{signal:We+Xe+qt}}else return b=b||0,g+(d?-b-D:+b+D)}function jQ(u){var c;let{fieldDef:d,fieldDef2:g,channel:b,model:D}=u,{config:M,markDef:Q,encoding:se}=D,We=D.getScaleComponent(b),Xe=D.scaleName(b),qt=We?We.get("type"):void 0,on=We.get("reverse"),In=G1({channel:b,fieldDef:d,markDef:Q,config:M,scaleType:qt}),Xn=(c=D.component.axes[b])===null||c===void 0?void 0:c[0],lr=(Xn==null?void 0:Xn.get("translate"))??.5,pr=us(b)?vi("binSpacing",Q,M)??0:0,kr=Ss(b),Ni=Xi(b),Ui=Xi(kr),{offset:Os}=n_({channel:b,markDef:Q,encoding:se,model:D,bandPosition:0}),ji=$n(In)?{signal:`(1-${In.signal})/2`}:x(In)?(1-In.band)/2:.5;if(mr(d.bin)||d.timeUnit)return{[Ui]:AL({fieldDef:d,scaleName:Xe,bandPosition:ji,offset:r_(kr,pr,on,lr,Os)}),[Ni]:AL({fieldDef:d,scaleName:Xe,bandPosition:$n(ji)?{signal:`1-${ji.signal}`}:1-ji,offset:r_(b,pr,on,lr,Os)})};if(is(d.bin)){let na=or(d,Xe,{},{offset:r_(kr,pr,on,lr,Os)});if(Er(g))return{[Ui]:na,[Ni]:or(g,Xe,{},{offset:r_(b,pr,on,lr,Os)})};if(Me(d.bin)&&d.bin.step)return{[Ui]:na,[Ni]:{signal:`scale("${Xe}", ${fi(d,{expr:"datum"})} + ${d.bin.step})`,offset:r_(b,pr,on,lr,Os)}}}jr(uc(kr))}function AL(u){let{fieldDef:c,scaleName:d,bandPosition:g,offset:b}=u;return Or({scaleName:d,fieldOrDatumDef:c,bandPosition:g,offset:b})}let qQ=new Set(["aria","width","height"]);function Jd(u,c){let{fill:d=void 0,stroke:g=void 0}=c.color==="include"?EL(u):{};return{...UQ(u.markDef,c),...TL(u,"fill",d),...TL(u,"stroke",g),...dc("opacity",u),...dc("fillOpacity",u),...dc("strokeOpacity",u),...dc("strokeWidth",u),...dc("strokeDash",u),...NQ(u),...vL(u),...RE(u,"href"),...OQ(u)}}function TL(u,c,d){let{config:g,mark:b,markDef:D}=u;if(vi("invalid",D,g)==="hide"&&d&&!df(b)){let Q=$Q(u,{invalid:!0,channels:vs});if(Q)return{[c]:[{test:Q,value:null},...e.array(d)]}}return d?{[c]:d}:{}}function UQ(u,c){return gr.reduce((d,g)=>(!qQ.has(g)&&u[g]!==void 0&&c[g]!=="ignore"&&(d[g]=qr(u[g])),d),{})}function $Q(u,c){let{invalid:d=!1,channels:g}=c,b=g.reduce((M,Q)=>{let se=u.getScaleComponent(Q);if(se){let We=se.get("type"),Xe=u.vgField(Q,{expr:"datum"});Xe&&wt(We)&&(M[Xe]=!0)}return M},{}),D=re(b);if(D.length>0){let M=d?"||":"&&";return D.map(Q=>Pn(Q,d)).join(` ${M} `)}}function Q9(u){let{config:c,markDef:d}=u;if(vi("invalid",d,c)){let b=zQ(u,{channels:ro});if(b)return{defined:{signal:b}}}return{}}function zQ(u,c){let{invalid:d=!1,channels:g}=c,b=g.reduce((M,Q)=>{let se=u.getScaleComponent(Q);if(se){var We;let Xe=se.get("type"),qt=u.vgField(Q,{expr:"datum",binSuffix:(We=u.stack)!==null&&We!==void 0&&We.impute?"mid":void 0});qt&&wt(Xe)&&(M[qt]=!0)}return M},{}),D=re(b);if(D.length>0){let M=d?"||":"&&";return D.map(Q=>Pn(Q,d)).join(` ${M} `)}}function FL(u,c){if(c!==void 0)return{[u]:qr(c)}}let G9="voronoi",DL={defined:u=>u.type==="point"&&u.nearest,parse:(u,c)=>{if(c.events)for(let d of c.events)d.markname=u.getName(G9)},marks:(u,c,d)=>{let{x:g,y:b}=c.project.hasChannel,D=u.mark;if(df(D))return jr(_s(D)),d;let M={name:u.getName(G9),type:"path",interactive:!0,from:{data:u.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...vL(u,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:g||!b?"datum.datum.x || 0":"0"},y:{expr:b||!g?"datum.datum.y || 0":"0"},size:[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]}]},Q=0,se=!1;return d.forEach((We,Xe)=>{let qt=We.name??"";qt===u.component.mark[0].name?Q=Xe:qt.indexOf(G9)>=0&&(se=!0)}),se||d.splice(Q+1,0,M),d}},kE={defined:u=>u.type==="point"&&u.resolve==="global"&&u.bind&&u.bind!=="scales"&&!C9(u.bind),parse:(u,c,d)=>IL(c,d),topLevelSignals:(u,c,d)=>{let g=c.name,b=c.project,D=c.bind,M=c.init&&c.init[0],Q=DL.defined(c)?"(item().isVoronoi ? datum.datum : datum)":"datum";return b.items.forEach((se,We)=>{let Xe=Lt(`${g}_${se.field}`);d.filter(on=>on.name===Xe).length||d.unshift({name:Xe,...M?{init:tg(M[We])}:{value:null},on:c.events?[{events:c.events,update:`datum && item().mark.marktype !== 'group' ? ${Q}[${e.stringValue(se.field)}] : null`}]:[],bind:D[se.field]??D[se.channel]??D})}),d},signals:(u,c,d)=>{let g=c.name,b=c.project,D=d.filter(We=>We.name===g+a2)[0],M=g+Pu,Q=b.items.map(We=>Lt(`${g}_${We.field}`)),se=Q.map(We=>`${We} !== null`).join(" && ");return Q.length&&(D.update=`${se} ? {fields: ${M}, values: [${Q.join(", ")}]} : null`),delete D.value,delete D.on,d}},i_="_toggle",Y9={defined:u=>u.type==="point"&&!!u.toggle,signals:(u,c,d)=>d.concat({name:c.name+i_,value:!1,on:[{events:c.events,update:c.toggle}]}),modifyExpr:(u,c)=>{let d=c.name+a2,g=c.name+i_;return`${g} ? null : ${d}, `+(c.resolve==="global"?`${g} ? null : true, `:`${g} ? null : {unit: ${f3(u)}}, `)+`${g} ? ${d} : null`}},HQ={defined:u=>u.clear!==void 0&&u.clear!==!1,parse:(u,c)=>{c.clear&&(c.clear=e.isString(c.clear)?e.parseSelector(c.clear,"view"):c.clear)},topLevelSignals:(u,c,d)=>{if(kE.defined(c))for(let g of c.project.items){let b=d.findIndex(D=>D.name===Lt(`${c.name}_${g.field}`));b!==-1&&d[b].on.push({events:c.clear,update:"null"})}return d},signals:(u,c,d)=>{function g(b,D){b!==-1&&d[b].on&&d[b].on.push({events:c.clear,update:D})}if(c.type==="interval")for(let b of c.project.items){let D=d.findIndex(M=>M.name===b.signals.visual);if(g(D,"[0, 0]"),D===-1){let M=d.findIndex(Q=>Q.name===b.signals.data);g(M,"null")}}else{let b=d.findIndex(D=>D.name===c.name+a2);g(b,"null"),Y9.defined(c)&&(b=d.findIndex(D=>D.name===c.name+i_),g(b,"false"))}return d}},OL={defined:u=>{let c=u.resolve==="global"&&u.bind&&C9(u.bind),d=u.project.items.length===1&&u.project.items[0].field!==Ep;return c&&!d&&jr(rc),c&&d},parse:(u,c,d)=>{let g=ye(d);if(g.select=e.isString(g.select)?{type:g.select,toggle:c.toggle}:{...g.select,toggle:c.toggle},IL(c,g),e.isObject(d.select)&&(d.select.on||d.select.clear)){let M='event.item && indexof(event.item.mark.role, "legend") < 0';for(let Q of c.events)Q.filter=e.array(Q.filter??[]),Q.filter.includes(M)||Q.filter.push(M)}let b=A9(c.bind)?c.bind.legend:"click",D=e.isString(b)?e.parseSelector(b,"view"):e.array(b);c.bind={legend:{merge:D}}},topLevelSignals:(u,c,d)=>{let g=c.name,b=A9(c.bind)&&c.bind.legend,D=M=>Q=>{let se=ye(Q);return se.markname=M,se};for(let M of c.project.items){if(!M.hasLegend)continue;let Q=`${Lt(M.field)}_legend`,se=`${g}_${Q}`;if(d.filter(Xe=>Xe.name===se).length===0){let Xe=b.merge.map(D(`${Q}_symbols`)).concat(b.merge.map(D(`${Q}_labels`))).concat(b.merge.map(D(`${Q}_entries`)));d.unshift({name:se,...c.init?{}:{value:null},on:[{events:Xe,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:b.merge,update:`!event.item || !datum ? null : ${se}`,force:!0}]})}}return d},signals:(u,c,d)=>{let g=c.name,b=c.project,D=d.find(on=>on.name===g+a2),M=g+Pu,Q=b.items.filter(on=>on.hasLegend).map(on=>Lt(`${g}_${Lt(on.field)}_legend`)),We=`${Q.map(on=>`${on} !== null`).join(" && ")} ? {fields: ${M}, values: [${Q.join(", ")}]} : null`;c.events&&Q.length>0?D.on.push({events:Q.map(on=>({signal:on})),update:We}):Q.length>0&&(D.update=We,delete D.value,delete D.on);let Xe=d.find(on=>on.name===g+i_),qt=A9(c.bind)&&c.bind.legend;return Xe&&(c.events?Xe.on.push({...Xe.on[0],events:qt}):Xe.on[0].events=qt),d}};function VQ(u,c,d){var g;let b=(g=u.fieldDef(c))===null||g===void 0?void 0:g.field;for(let D of Ne(u.component.selection??{})){let M=D.project.hasField[b]??D.project.hasChannel[c];if(M&&OL.defined(D)){let Q=d.get("selections")??[];Q.push(D.name),d.set("selections",Q,!1),M.hasLegend=!0}}}let IE="_translate_anchor",RL="_translate_delta",WQ={defined:u=>u.type==="interval"&&u.translate,signals:(u,c,d)=>{let g=c.name,b=s2.defined(c),D=g+IE,{x:M,y:Q}=c.project.hasChannel,se=e.parseSelector(c.translate,"scope");return b||(se=se.map(We=>(We.between[0].markname=g+a3,We))),d.push({name:D,value:{},on:[{events:se.map(We=>We.between[0]),update:"{x: x(unit), y: y(unit)"+(M!==void 0?`, extent_x: ${b?z9(u,Nn):`slice(${M.signals.visual})`}`:"")+(Q!==void 0?`, extent_y: ${b?z9(u,nr):`slice(${Q.signals.visual})`}`:"")+"}"}]},{name:g+RL,value:{},on:[{events:se,update:`{x: ${D}.x - x(unit), y: ${D}.y - y(unit)}`}]}),M!==void 0&&NL(u,c,M,"width",d),Q!==void 0&&NL(u,c,Q,"height",d),d}};function NL(u,c,d,g,b){let D=c.name,M=D+IE,Q=D+RL,se=d.channel,We=s2.defined(c),Xe=b.filter(ji=>ji.name===d.signals[We?"data":"visual"])[0],qt=u.getSizeSignalRef(g).signal,on=u.getScaleComponent(se),In=on.get("type"),Xn=on.get("reverse"),lr=We?se===Nn?Xn?"":"-":Xn?"-":"":"",pr=`${M}.extent_${se}`,kr=`${lr}${Q}.${se} / ${We?`${qt}`:`span(${pr})`}`,Ni=We?In==="log"?"panLog":In==="symlog"?"panSymlog":In==="pow"?"panPow":"panLinear":"panLinear",Ui=We?In==="pow"?`, ${on.get("exponent")??1}`:In==="symlog"?`, ${on.get("constant")??1}`:"":"",Os=`${Ni}(${pr}, ${kr}${Ui})`;Xe.on.push({events:{signal:Q},update:We?Os:`clampRange(${Os}, 0, ${qt})`})}let Bf="_zoom_anchor",ME="_zoom_delta",QQ={defined:u=>u.type==="interval"&&u.zoom,signals:(u,c,d)=>{let g=c.name,b=s2.defined(c),D=g+ME,{x:M,y:Q}=c.project.hasChannel,se=e.stringValue(u.scaleName(Nn)),We=e.stringValue(u.scaleName(nr)),Xe=e.parseSelector(c.zoom,"scope");return b||(Xe=Xe.map(qt=>(qt.markname=g+a3,qt))),d.push({name:g+Bf,on:[{events:Xe,update:b?"{"+[se?`x: invert(${se}, x(unit))`:"",We?`y: invert(${We}, y(unit))`:""].filter(qt=>!!qt).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:D,on:[{events:Xe,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),M!==void 0&&LL(u,c,M,"width",d),Q!==void 0&&LL(u,c,Q,"height",d),d}};function LL(u,c,d,g,b){let D=c.name,M=d.channel,Q=s2.defined(c),se=b.filter(Ni=>Ni.name===d.signals[Q?"data":"visual"])[0],We=u.getSizeSignalRef(g).signal,Xe=u.getScaleComponent(M),qt=Xe.get("type"),on=Q?z9(u,M):se.name,In=D+ME,Xn=`${D}${Bf}.${M}`,lr=Q?qt==="log"?"zoomLog":qt==="symlog"?"zoomSymlog":qt==="pow"?"zoomPow":"zoomLinear":"zoomLinear",pr=Q?qt==="pow"?`, ${Xe.get("exponent")??1}`:qt==="symlog"?`, ${Xe.get("constant")??1}`:"":"",kr=`${lr}(${on}, ${Xn}, ${In}${pr})`;se.on.push({events:{signal:In},update:Q?kr:`clampRange(${kr}, 0, ${We})`})}let ng="_store",a2="_tuple",K9="_modify",kL="vlSelectionResolve",c3=[DQ,FQ,TQ,Y9,kE,s2,OL,HQ,WQ,QQ,DL];function GQ(u){let c=u.parent;for(;c&&!tm(c);)c=c.parent;return c}function f3(u){let{escape:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{escape:!0},d=c?e.stringValue(u.name):u.name,g=GQ(u);if(g){let{facet:b}=g;for(let D of ee)b[D]&&(d+=` + '__facet_${D}_' + (facet[${e.stringValue(g.vgField(D))}])`)}return d}function J9(u){return Ne(u.component.selection??{}).reduce((c,d)=>c||d.project.hasSelectionId,!1)}function IL(u,c){(e.isString(c.select)||!c.select.on)&&delete u.events,(e.isString(c.select)||!c.select.clear)&&delete u.clear,(e.isString(c.select)||!c.select.toggle)&&delete u.toggle}function PE(u){let c=[];return u.type==="Identifier"?[u.name]:u.type==="Literal"?[u.value]:(u.type==="MemberExpression"&&(c.push(...PE(u.object)),c.push(...PE(u.property))),c)}function ML(u){return u.object.type==="MemberExpression"?ML(u.object):u.object.name==="datum"}function PL(u){let c=e.parseExpression(u),d=new Set;return c.visit(g=>{g.type==="MemberExpression"&&ML(g)&&d.add(PE(g).slice(1).join("."))}),d}class d3 extends ba{clone(){return new d3(null,this.model,ye(this.filter))}constructor(c,d,g){super(c);this.model=d,this.filter=g,bn(this,"expr",void 0),bn(this,"_dependentFields",void 0),this.expr=jE(this.model,this.filter,this),this._dependentFields=PL(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function X9(u,c){let d={},g=u.config.selection;if(!c||!c.length)return d;for(let b of c){let D=Lt(b.name),M=b.select,Q=e.isString(M)?M:M.type,se=e.isObject(M)?ye(M):{type:Q},We=g[Q];for(let qt in We)qt==="fields"||qt==="encodings"||(qt==="mark"&&(se[qt]={...We[qt],...se[qt]}),(se[qt]===void 0||se[qt]===!0)&&(se[qt]=We[qt]??se[qt]));let Xe=d[D]={...se,name:D,type:Q,init:b.value,bind:b.bind,events:e.isString(se.on)?e.parseSelector(se.on,"scope"):e.array(ye(se.on))};for(let qt of c3)qt.defined(Xe)&&qt.parse&&qt.parse(u,Xe,b)}return d}function BE(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"datum",b=e.isString(c)?c:c.param,D=Lt(b),M=e.stringValue(D+ng),Q;try{Q=u.getSelectionComponent(D,b)}catch{return`!!${D}`}if(Q.project.timeUnit){let on=d??u.component.data.raw,In=Q.project.timeUnit.clone();on.parent?In.insertAsParentOf(on):on.parent=In}let se=Q.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",We=Q.resolve==="global"?")":`, ${e.stringValue(Q.resolve)})`,Xe=`${se}${M}, ${g}${We}`,qt=`length(data(${M}))`;return c.empty===!1?`${qt} && ${Xe}`:`!${qt} || ${Xe}`}function BL(u,c,d){let g=Lt(c),b=d.encoding,D=d.field,M;try{M=u.getSelectionComponent(g,c)}catch{return g}if(!b&&!D)D=M.project.items[0].field,M.project.items.length>1&&jr(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${e.stringValue(D)}.`);else if(b&&!D){let Q=M.project.items.filter(se=>se.channel===b);!Q.length||Q.length>1?(D=M.project.items[0].field,jr((Q.length?"Multiple ":"No ")+`matching ${e.stringValue(b)} encoding found for selection ${e.stringValue(d.param)}. Using "field": ${e.stringValue(D)}.`)):D=Q[0].field}return`${M.name}[${e.stringValue(un(D))}]`}function YQ(u,c){for(let[d,g]of ct(u.component.selection??{})){let b=u.getName(`lookup_${d}`);u.component.data.outputNodes[b]=g.materialized=new Pf(new d3(c,u,{param:d}),b,Pa.Lookup,u.component.data.outputNodeRefCounts)}}function jE(u,c,d){return Yt(c,g=>e.isString(g)?g:rl(g)?BE(u,g,d):Ou(g))}function KQ(u,c){if(!!u)return e.isArray(u)&&!Kn(u)?u.map(d=>pE(d,c)).join(", "):u}function Z9(u,c,d,g){u.encode??={},u.encode[c]??={},u.encode[c].update??={},u.encode[c].update[d]=g}function s_(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{header:!1},{disable:b,orient:D,scale:M,labelExpr:Q,title:se,zindex:We,...Xe}=u.combine();if(!b){for(let In in Xe){let Xn=xW[In],lr=Xe[In];if(Xn&&Xn!==c&&Xn!=="both")delete Xe[In];else if(V4(lr)){let{condition:pr,...kr}=lr,Ni=e.array(pr),Ui=EN[In];if(Ui){let{vgProp:Os,part:ji}=Ui,na=[...Ni.map(as=>{let{test:ul,...Fl}=as;return{test:jE(null,ul),...Fl}}),kr];Z9(Xe,ji,Os,na),delete Xe[In]}else if(Ui===null){let Os={signal:Ni.map(ji=>{let{test:na,...as}=ji;return`${jE(null,na)} ? ${yi(as)} : `}).join("")+yi(kr)};Xe[In]=Os}}else if($n(lr)){let pr=EN[In];if(pr){let{vgProp:kr,part:Ni}=pr;Z9(Xe,Ni,kr,lr),delete Xe[In]}}Ct(["labelAlign","labelBaseline"],In)&&Xe[In]===null&&delete Xe[In]}if(c==="grid"){if(!Xe.grid)return;if(Xe.encode){let{grid:In}=Xe.encode;Xe.encode={...In?{grid:In}:{}},Ie(Xe.encode)&&delete Xe.encode}return{scale:M,orient:D,...Xe,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Re(We,0)}}else{if(!g.header&&u.mainExtracted)return;if(Q!==void 0){var qt,on;let Xn=Q;(qt=Xe.encode)!==null&&qt!==void 0&&(on=qt.labels)!==null&&on!==void 0&&on.update&&$n(Xe.encode.labels.update.text)&&(Xn=Mn(Q,"datum.label",Xe.encode.labels.update.text.signal)),Z9(Xe,"labels","text",{signal:Xn})}if(Xe.labelAlign===null&&delete Xe.labelAlign,Xe.encode){for(let Xn of SN)u.hasAxisPart(Xn)||delete Xe.encode[Xn];Ie(Xe.encode)&&delete Xe.encode}let In=KQ(se,d);return{scale:M,orient:D,grid:!1,...In?{title:In}:{},...Xe,...d.aria===!1?{aria:!1}:{},zindex:Re(We,0)}}}}function jL(u){let{axes:c}=u.component,d=[];for(let g of ro)if(c[g]){for(let b of c[g])if(!b.get("disable")&&!b.get("gridScale")){let D=g==="x"?"height":"width",M=u.getSizeSignalRef(D).signal;D!==M&&d.push({name:D,update:M})}}return d}function JQ(u,c){let{x:d=[],y:g=[]}=u;return[...d.map(b=>s_(b,"grid",c)),...g.map(b=>s_(b,"grid",c)),...d.map(b=>s_(b,"main",c)),...g.map(b=>s_(b,"main",c))].filter(b=>b)}function qL(u,c,d,g){return Object.assign.apply(null,[{},...u.map(b=>{if(b==="axisOrient"){let D=d==="x"?"bottom":"left",M=c[d==="x"?"axisBottom":"axisLeft"]||{},Q=c[d==="x"?"axisTop":"axisRight"]||{},se=new Set([...re(M),...re(Q)]),We={};for(let Xe of se.values())We[Xe]={signal:`${g.signal} === "${D}" ? ${gi(M[Xe])} : ${gi(Q[Xe])}`};return We}return c[b]})])}function XQ(u,c,d,g){let b=c==="band"?["axisDiscrete","axisBand"]:c==="point"?["axisDiscrete","axisPoint"]:Js(c)?["axisQuantitative"]:c==="time"||c==="utc"?["axisTemporal"]:[],D=u==="x"?"axisX":"axisY",M=$n(d)?"axisOrient":`axis${fn(d)}`,Q=[...b,...b.map(We=>D+We.substr(4))],se=["axis",M,D];return{vlOnlyAxisConfig:qL(Q,g,u,d),vgAxisConfig:qL(se,g,u,d),axisConfigStyle:ZQ([...se,...Q],g)}}function ZQ(u,c){let d=[{}];for(let b of u){var g;let D=(g=c[b])===null||g===void 0?void 0:g.style;if(D){D=e.array(D);for(let M of D)d.push(c.style[M])}}return Object.assign.apply(null,d)}function eA(u,c,d){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=xa(u,d,c);if(b!==void 0)return{configFrom:"style",configValue:b};for(let M of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var D;if(((D=g[M])===null||D===void 0?void 0:D[u])!==void 0)return{configFrom:M,configValue:g[M][u]}}return{}}let UL={scale:u=>{let{model:c,channel:d}=u;return c.scaleName(d)},format:u=>{let{fieldOrDatumDef:c,config:d,axis:g}=u,{format:b,formatType:D}=g;return Gr(c,c.type,b,D,d,!0)},formatType:u=>{let{axis:c,fieldOrDatumDef:d,scaleType:g}=u,{formatType:b}=c;return Ki(b,d,g)},grid:u=>{let{fieldOrDatumDef:c,axis:d,scaleType:g}=u;return d.grid??eG(g,c)},gridScale:u=>{let{model:c,channel:d}=u;return tG(c,d)},labelAlign:u=>{let{axis:c,labelAngle:d,orient:g,channel:b}=u;return c.labelAlign||zL(d,g,b)},labelAngle:u=>{let{labelAngle:c}=u;return c},labelBaseline:u=>{let{axis:c,labelAngle:d,orient:g,channel:b}=u;return c.labelBaseline||$L(d,g,b)},labelFlush:u=>{let{axis:c,fieldOrDatumDef:d,channel:g}=u;return c.labelFlush??rG(d.type,g)},labelOverlap:u=>{let{axis:c,fieldOrDatumDef:d,scaleType:g}=u;return c.labelOverlap??iG(d.type,g,Er(d)&&!!d.timeUnit,Er(d)?d.sort:void 0)},orient:u=>{let{orient:c}=u;return c},tickCount:u=>{let{channel:c,model:d,axis:g,fieldOrDatumDef:b,scaleType:D}=u,M=c==="x"?"width":c==="y"?"height":void 0,Q=M?d.getSizeSignalRef(M):void 0;return g.tickCount??S({fieldOrDatumDef:b,scaleType:D,size:Q,values:g.values})},title:u=>{let{axis:c,model:d,channel:g}=u;if(c.title!==void 0)return c.title;let b=U(d,g);if(b!==void 0)return b;let D=d.typedFieldDef(g),M=g==="x"?"x2":"y2",Q=d.fieldDef(M);return As(D?[Jy(D)]:[],Er(Q)?[Jy(Q)]:[])},values:u=>{let{axis:c,fieldOrDatumDef:d}=u;return me(c,d)},zindex:u=>{let{axis:c,fieldOrDatumDef:d,mark:g}=u;return c.zindex??ht(g,d)}};function eG(u,c){return!Be(u)&&Er(c)&&!mr(c==null?void 0:c.bin)&&!is(c==null?void 0:c.bin)}function tG(u,c){let d=c==="x"?"y":"x";if(u.getScaleComponent(d))return u.scaleName(d)}function nG(u,c,d,g,b){let D=c==null?void 0:c.labelAngle;if(D!==void 0)return $n(D)?D:nn(D);{let{configValue:M}=eA("labelAngle",g,c==null?void 0:c.style,b);return M!==void 0?nn(M):d===Nn&&Ct([Wl,nd],u.type)&&!(Er(u)&&u.timeUnit)?270:void 0}}function tA(u){return`(((${u.signal} % 360) + 360) % 360)`}function $L(u,c,d,g){if(u!==void 0)if(d==="x"){if($n(u)){let b=tA(u),D=$n(c)?`(${c.signal} === "top")`:c==="top";return{signal:`(45 < ${b} && ${b} < 135) || (225 < ${b} && ${b} < 315) ? "middle" :(${b} <= 45 || 315 <= ${b}) === ${D} ? "bottom" : "top"`}}if(45<u&&u<135||225<u&&u<315)return"middle";if($n(c)){let b=u<=45||315<=u?"===":"!==";return{signal:`${c.signal} ${b} "top" ? "bottom" : "top"`}}return(u<=45||315<=u)==(c==="top")?"bottom":"top"}else{if($n(u)){let b=tA(u),D=$n(c)?`(${c.signal} === "left")`:c==="left";return{signal:`${b} <= 45 || 315 <= ${b} || (135 <= ${b} && ${b} <= 225) ? ${g?'"middle"':"null"} : (45 <= ${b} && ${b} <= 135) === ${D} ? "top" : "bottom"`}}if(u<=45||315<=u||135<=u&&u<=225)return g?"middle":null;if($n(c)){let b=45<=u&&u<=135?"===":"!==";return{signal:`${c.signal} ${b} "left" ? "top" : "bottom"`}}return(45<=u&&u<=135)==(c==="left")?"top":"bottom"}}function zL(u,c,d){if(u===void 0)return;let g=d==="x",b=g?0:90,D=g?"bottom":"left";if($n(u)){let M=tA(u),Q=$n(c)?`(${c.signal} === "${D}")`:c===D;return{signal:`(${b?`(${M} + 90)`:M} % 180 === 0) ? ${g?null:'"center"'} :(${b} < ${M} && ${M} < ${180+b}) === ${Q} ? "left" : "right"`}}if((u+b)%180===0)return g?null:"center";if($n(c)){let M=b<u&&u<180+b?"===":"!==";return{signal:`${`${c.signal} ${M} "${D}"`} ? "left" : "right"`}}return(b<u&&u<180+b)==(c===D)?"left":"right"}function rG(u,c){if(c==="x"&&Ct(["quantitative","temporal"],u))return!0}function iG(u,c,d,g){if(d&&!e.isObject(g)||u!=="nominal"&&u!=="ordinal")return c==="log"||c==="symlog"?"greedy":!0}function h(u){return u==="x"?"bottom":"left"}function S(u){let{fieldOrDatumDef:c,scaleType:d,size:g,values:b}=u;if(!b&&!Be(d)&&d!=="log"){if(Er(c)){var D;if(mr(c.bin))return{signal:`ceil(${g.signal}/10)`};if(c.timeUnit&&Ct(["month","hours","day","quarter"],(D=pu(c.timeUnit))===null||D===void 0?void 0:D.unit))return}return{signal:`ceil(${g.signal}/40)`}}}function U(u,c){let d=c==="x"?"x2":"y2",g=u.fieldDef(c),b=u.fieldDef(d),D=g?g.title:void 0,M=b?b.title:void 0;if(D&&M)return tn(D,M);if(D)return D;if(M)return M;if(D!==void 0)return D;if(M!==void 0)return M}function me(u,c){let d=u.values;if(e.isArray(d))return bN(c,d);if($n(d))return d}function ht(u,c){return u==="rect"&&e3(c)?1:0}class Wt extends ba{clone(){return new Wt(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d,bn(this,"_dependentFields",void 0),this._dependentFields=PL(this.transform.calculate)}static parseAllForSortIndex(c,d){return d.forEachFieldDef((g,b)=>{if(!!Xx(g)&&cc(g.sort)){let{field:D,timeUnit:M}=g,Q=g.sort,se=Q.map((We,Xe)=>`${Ou({field:D,timeUnit:M,equal:We})} ? ${Xe} : `).join("")+Q.length;c=new Wt(c,{calculate:se,as:_n(g,b,{forAs:!0})})}}),c}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${ut(this.transform)}`}}function _n(u,c,d){return fi(u,{prefix:c,suffix:"sort_index",...d??{}})}function On(u,c){return Ct(["top","bottom"],c)?"column":Ct(["left","right"],c)||u==="row"?"row":"column"}function Qn(u,c,d,g){let b=g==="row"?d.headerRow:g==="column"?d.headerColumn:d.headerFacet;return Re((c||{})[u],b[u],d.header[u])}function Sr(u,c,d,g){let b={};for(let D of u){let M=Qn(D,c||{},d,g);M!==void 0&&(b[D]=M)}return b}let Tr=["row","column"],Pr=["header","footer"];function wi(u,c){let d=u.component.layoutHeaders[c].title,g=u.config?u.config:void 0,b=u.component.layoutHeaders[c].facetFieldDef?u.component.layoutHeaders[c].facetFieldDef:void 0,{titleAnchor:D,titleAngle:M,titleOrient:Q}=Sr(["titleAnchor","titleAngle","titleOrient"],b.header,g,c),se=On(c,Q),We=nn(M);return{name:`${c}-title`,type:"group",role:`${se}-title`,title:{text:d,...c==="row"?{orient:"left"}:{},style:"guide-title",...ys(We,se),...Ji(se,We,D),...Bu(g,b,c,IW,BN)}}}function Ji(u,c){switch(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"middle"){case"start":return{align:"left"};case"end":return{align:"right"}}let g=zL(c,u==="row"?"left":"top",u==="row"?"y":"x");return g?{align:g}:{}}function ys(u,c){let d=$L(u,c==="row"?"left":"top",c==="row"?"y":"x",!0);return d?{baseline:d}:{}}function mo(u,c){let d=u.component.layoutHeaders[c],g=[];for(let b of Pr)if(d[b])for(let D of d[b]){let M=Io(u,c,b,d,D);M!=null&&g.push(M)}return g}function Es(u,c){let{sort:d}=u;return _a(d)?{field:fi(d,{expr:"datum"}),order:d.order??"ascending"}:e.isArray(d)?{field:_n(u,c,{expr:"datum"}),order:"ascending"}:{field:fi(u,{expr:"datum"}),order:d??"ascending"}}function So(u,c,d){let{format:g,formatType:b,labelAngle:D,labelAnchor:M,labelOrient:Q,labelExpr:se}=Sr(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],u.header,d,c),We=ds({fieldOrDatumDef:u,format:g,formatType:b,expr:"parent",config:d}).signal,Xe=On(c,Q);return{text:{signal:se?Mn(Mn(se,"datum.label",We),"datum.value",fi(u,{expr:"parent"})):We},...c==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...ys(D,Xe),...Ji(Xe,D,M),...Bu(d,u,c,MW,jN)}}function Io(u,c,d,g,b){if(b){let D=null,{facetFieldDef:M}=g,Q=u.config?u.config:void 0;if(M&&b.labels){let{labelOrient:qt}=Sr(["labelOrient"],M.header,Q,c);(c==="row"&&!Ct(["top","bottom"],qt)||c==="column"&&!Ct(["left","right"],qt))&&(D=So(M,c,Q))}let se=tm(u)&&!Wd(u.facet),We=b.axes,Xe=(We==null?void 0:We.length)>0;if(D||Xe){let qt=c==="row"?"height":"width";return{name:u.getName(`${c}_${d}`),type:"group",role:`${c}-${d}`,...g.facetFieldDef?{from:{data:u.getName(`${c}_domain`)},sort:Es(M,c)}:{},...Xe&&se?{from:{data:u.getName(`facet_domain_${c}`)}}:{},...D?{title:D}:{},...b.sizeSignal?{encode:{update:{[qt]:b.sizeSignal}}}:{},...Xe?{axes:We}:{}}}}return null}let ad={column:{start:0,end:1},row:{start:1,end:0}};function jf(u,c){return ad[c][u]}function ud(u,c){let d={};for(let g of ee){let b=u[g];if(b!=null&&b.facetFieldDef){let{titleAnchor:D,titleOrient:M}=Sr(["titleAnchor","titleOrient"],b.facetFieldDef.header,c,g),Q=On(g,M),se=jf(D,Q);se!==void 0&&(d[Q]=se)}}return Ie(d)?void 0:d}function Bu(u,c,d,g,b){let D={};for(let M of g){if(!b[M])continue;let Q=Qn(M,c==null?void 0:c.header,u,d);Q!==void 0&&(D[b[M]]=Q)}return D}function ld(u){return[...Xd(u,"width"),...Xd(u,"height"),...Xd(u,"childWidth"),...Xd(u,"childHeight")]}function Xd(u,c){let d=c==="width"?"x":"y",g=u.component.layoutSize.get(c);if(!g||g==="merged")return[];let b=u.getSizeSignalRef(c).signal;if(g==="step"){let D=u.getScaleComponent(d);if(D){let M=D.get("type"),Q=D.get("range");if(Be(M)&&br(Q)){let se=u.scaleName(d);return tm(u.parent)&&u.parent.component.resolve.scale[d]==="independent"?[nA(se,Q)]:[nA(se,Q),{name:b,update:Oce(se,D,`domain('${se}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(g=="container"){let D=b.endsWith("width"),M=D?"containerSize()[0]":"containerSize()[1]",Q=O9(u.config.view,D?"width":"height"),se=`isFinite(${M}) ? ${M} : ${Q}`;return[{name:b,init:se,on:[{update:se,events:"window:resize"}]}]}else return[{name:b,value:g}]}function nA(u,c){let d=`${u}_step`;return $n(c.step)?{name:d,update:c.step.signal}:{name:d,value:c.step}}function Oce(u,c,d){let g=c.get("type"),b=c.get("padding"),D=Re(c.get("paddingOuter"),b),M=c.get("paddingInner");return M=g==="band"?M!==void 0?M:b:1,`bandspace(${d}, ${gi(M)}, ${gi(D)}) * ${u}_step`}function Rce(u){return u==="childWidth"?"width":u==="childHeight"?"height":u}function Nce(u,c){return re(u).reduce((d,g)=>{let b=u[g];return{...d,...u3(c,b,g,D=>qr(D.value))}},{})}function Lce(u,c){if(tm(c))return u==="theta"?"independent":"shared";if($E(c))return"shared";if(vG(c))return us(u)||u==="theta"||u==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function sG(u,c){let d=u.scale[c],g=us(c)?"axis":"legend";return d==="independent"?(u[g][c]==="shared"&&jr(Li(c)),"independent"):u[g][c]||"shared"}let IIe={...jW,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},kce=re(IIe);class MIe extends wp{}let Ice={symbols:PIe,gradient:BIe,labels:jIe,entries:qIe};function PIe(u,c){let{fieldOrDatumDef:d,model:g,channel:b,legendCmpt:D,legendType:M}=c;if(M!=="symbol")return;let{markDef:Q,encoding:se,config:We,mark:Xe}=g,qt=Q.filled&&Xe!=="trail",on={...os({},g,sd),...EL(g,{filled:qt})},In=D.get("symbolOpacity")??We.legend.symbolOpacity,Xn=D.get("symbolFillColor")??We.legend.symbolFillColor,lr=D.get("symbolStrokeColor")??We.legend.symbolStrokeColor,pr=In===void 0?Mce(se.opacity)??Q.opacity:void 0;if(on.fill){if(b==="fill"||qt&&b===xt)delete on.fill;else if(on.fill.field)Xn?delete on.fill:(on.fill=qr(We.legend.symbolBaseFillColor??"black"),on.fillOpacity=qr(pr??1));else if(e.isArray(on.fill)){let kr=oG(se.fill??se.color)??Q.fill??(qt&&Q.color);kr&&(on.fill=qr(kr))}}if(on.stroke){if(b==="stroke"||!qt&&b===xt)delete on.stroke;else if(on.stroke.field||lr)delete on.stroke;else if(e.isArray(on.stroke)){let kr=Re(oG(se.stroke||se.color),Q.stroke,qt?Q.color:void 0);kr&&(on.stroke={value:kr})}}if(b!==it){let kr=Er(d)&&Bce(g,D,d);kr?on.opacity=[{test:kr,...qr(pr??1)},qr(We.legend.unselectedOpacity)]:pr&&(on.opacity=qr(pr))}return on={...on,...u},Ie(on)?void 0:on}function BIe(u,c){let{model:d,legendType:g,legendCmpt:b}=c;if(g!=="gradient")return;let{config:D,markDef:M,encoding:Q}=d,se={},Xe=(b.get("gradientOpacity")??D.legend.gradientOpacity)===void 0?Mce(Q.opacity)||M.opacity:void 0;return Xe&&(se.opacity=qr(Xe)),se={...se,...u},Ie(se)?void 0:se}function jIe(u,c){let{fieldOrDatumDef:d,model:g,channel:b,legendCmpt:D}=c,M=g.legend(b)||{},Q=g.config,se=Er(d)?Bce(g,D,d):void 0,We=se?[{test:se,value:1},{value:Q.legend.unselectedOpacity}]:void 0,{format:Xe,formatType:qt}=M,on;bi(qt)?on=gs({fieldOrDatumDef:d,field:"datum.value",format:Xe,formatType:qt,config:Q}):Xe===void 0&&qt===void 0&&Q.customFormatTypes&&(d.type==="quantitative"&&Q.numberFormatType?on=gs({fieldOrDatumDef:d,field:"datum.value",format:Q.numberFormat,formatType:Q.numberFormatType,config:Q}):d.type==="temporal"&&Q.timeFormatType&&Er(d)&&d.timeUnit===void 0&&(on=gs({fieldOrDatumDef:d,field:"datum.value",format:Q.timeFormat,formatType:Q.timeFormatType,config:Q})));let In={...We?{opacity:We}:{},...on?{text:on}:{},...u};return Ie(In)?void 0:In}function qIe(u,c){let{legendCmpt:d}=c,g=d.get("selections");return g!=null&&g.length?{...u,fill:{value:"transparent"}}:u}function Mce(u){return Pce(u,(c,d)=>Math.max(c,d.value))}function oG(u){return Pce(u,(c,d)=>Re(c,d.value))}function Pce(u,c){if(hf(u))return e.array(u.condition).reduce(c,u.value);if(Gd(u))return u.value}function Bce(u,c,d){let g=c.get("selections");if(!(g!=null&&g.length))return;let b=e.stringValue(d.field);return g.map(D=>`(!length(data(${e.stringValue(Lt(D)+ng)})) || (${D}[${b}] && indexof(${D}[${b}], datum.value) >= 0))`).join(" || ")}let jce={direction:u=>{let{direction:c}=u;return c},format:u=>{let{fieldOrDatumDef:c,legend:d,config:g}=u,{format:b,formatType:D}=d;return Gr(c,c.type,b,D,g,!1)},formatType:u=>{let{legend:c,fieldOrDatumDef:d,scaleType:g}=u,{formatType:b}=c;return Ki(b,d,g)},gradientLength:u=>{let{legend:c,legendConfig:d}=u;return c.gradientLength??d.gradientLength??QIe(u)},labelOverlap:u=>{let{legend:c,legendConfig:d,scaleType:g}=u;return c.labelOverlap??d.labelOverlap??GIe(g)},symbolType:u=>{let{legend:c,markDef:d,channel:g,encoding:b}=u;return c.symbolType??$Ie(d.type,g,b.shape,d.shape)},title:u=>{let{fieldOrDatumDef:c,config:d}=u;return t3(c,d,{allowDisabling:!0})},type:u=>{let{legendType:c,scaleType:d,channel:g}=u;if(w(g)&&Tn(d)){if(c==="gradient")return}else if(c==="symbol")return;return c},values:u=>{let{fieldOrDatumDef:c,legend:d}=u;return UIe(d,c)}};function UIe(u,c){let d=u.values;if(e.isArray(d))return bN(c,d);if($n(d))return d}function $Ie(u,c,d,g){if(c!=="shape"){let b=oG(d)??g;if(b)return b}switch(u){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function zIe(u){let{legend:c}=u;return Re(c.type,HIe(u))}function HIe(u){let{channel:c,timeUnit:d,scaleType:g}=u;if(w(c)){if(Ct(["quarter","month","day"],d))return"symbol";if(Tn(g))return"gradient"}return"symbol"}function VIe(u){let{legendConfig:c,legendType:d,orient:g,legend:b}=u;return b.direction??c[d?"gradientDirection":"symbolDirection"]??WIe(g,d)}function WIe(u,c){switch(u){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return c==="gradient"?"horizontal":void 0}}function QIe(u){let{legendConfig:c,model:d,direction:g,orient:b,scaleType:D}=u,{gradientHorizontalMaxLength:M,gradientHorizontalMinLength:Q,gradientVerticalMaxLength:se,gradientVerticalMinLength:We}=c;if(Tn(D))return g==="horizontal"?b==="top"||b==="bottom"?qce(d,"width",Q,M):Q:qce(d,"height",We,se)}function qce(u,c,d,g){return{signal:`clamp(${u.getSizeSignalRef(c).signal}, ${d}, ${g})`}}function GIe(u){if(Ct(["quantile","threshold","log","symlog"],u))return"greedy"}function Uce(u){let c=hc(u)?YIe(u):ZIe(u);return u.component.legends=c,c}function YIe(u){let{encoding:c}=u,d={};for(let g of[xt,...Q4]){let b=xu(c[g]);!b||!u.getScaleComponent(g)||g===ne&&Er(b)&&b.type===Ru||(d[g]=XIe(u,g))}return d}function KIe(u,c){let d=u.scaleName(c);if(u.mark==="trail"){if(c==="color")return{stroke:d};if(c==="size")return{strokeWidth:d}}return c==="color"?u.markDef.filled?{fill:d}:{stroke:d}:{[c]:d}}function JIe(u,c,d,g){switch(c){case"disable":return d!==void 0;case"values":return!!(d!=null&&d.values);case"title":if(c==="title"&&u===(g==null?void 0:g.title))return!0}return u===(d||{})[c]}function XIe(u,c){var d,g;let b=u.legend(c),{markDef:D,encoding:M,config:Q}=u,se=Q.legend,We=new MIe({},KIe(u,c));VQ(u,c,We);let Xe=b!==void 0?!b:se.disable;if(We.set("disable",Xe,b!==void 0),Xe)return We;b=b||{};let qt=u.getScaleComponent(c).get("type"),on=xu(M[c]),In=Er(on)?(d=pu(on.timeUnit))===null||d===void 0?void 0:d.unit:void 0,Xn=b.orient||Q.legend.orient||"right",lr=zIe({legend:b,channel:c,timeUnit:In,scaleType:qt}),pr=VIe({legend:b,legendType:lr,orient:Xn,legendConfig:se}),kr={legend:b,channel:c,model:u,markDef:D,encoding:M,fieldOrDatumDef:on,legendConfig:se,config:Q,scaleType:qt,orient:Xn,legendType:lr,direction:pr};for(let as of kce){if(lr==="gradient"&&as.startsWith("symbol")||lr==="symbol"&&as.startsWith("gradient"))continue;let ul=as in jce?jce[as](kr):b[as];if(ul!==void 0){let Fl=JIe(ul,as,b,u.fieldDef(c));(Fl||Q.legend[as]===void 0)&&We.set(as,ul,Fl)}}let Ni=((g=b)===null||g===void 0?void 0:g.encoding)??{},Ui=We.get("selections"),Os={},ji={fieldOrDatumDef:on,model:u,channel:c,legendCmpt:We,legendType:lr};for(let as of["labels","legend","title","symbols","gradient","entries"]){let ul=Nce(Ni[as]??{},u),Fl=as in Ice?Ice[as](ul,ji):ul;Fl!==void 0&&!Ie(Fl)&&(Os[as]={...Ui!=null&&Ui.length&&Er(on)?{name:`${Lt(on.field)}_legend_${as}`}:{},...Ui!=null&&Ui.length?{interactive:!!Ui}:{},update:Fl})}if(!Ie(Os)){var na;We.set("encode",Os,!!((na=b)!==null&&na!==void 0&&na.encoding))}return We}function ZIe(u){let{legends:c,resolve:d}=u.component;for(let g of u.children){Uce(g);for(let b of re(g.component.legends))d.legend[b]=sG(u.component.resolve,b),d.legend[b]==="shared"&&(c[b]=$ce(c[b],g.component.legends[b]),c[b]||(d.legend[b]="independent",delete c[b]))}for(let g of re(c))for(let b of u.children)!b.component.legends[g]||d.legend[g]==="shared"&&delete b.component.legends[g];return c}function $ce(u,c){if(!u)return c.clone();let d=u.getWithExplicit("orient"),g=c.getWithExplicit("orient");if(d.explicit&&g.explicit&&d.value!==g.value)return;let b=!1;for(let We of kce){let Xe=r2(u.getWithExplicit(We),c.getWithExplicit(We),We,"legend",(qt,on)=>{switch(We){case"symbolType":return eMe(qt,on);case"title":return Jn(qt,on);case"type":return b=!0,v0("symbol")}return Wo(qt,on,We,"legend")});u.setWithExplicit(We,Xe)}if(b){var D,M,Q,se;(D=u.implicit)!==null&&D!==void 0&&(M=D.encode)!==null&&M!==void 0&&M.gradient&&Gt(u.implicit,["encode","gradient"]),(Q=u.explicit)!==null&&Q!==void 0&&(se=Q.encode)!==null&&se!==void 0&&se.gradient&&Gt(u.explicit,["encode","gradient"])}return u}function eMe(u,c){return c.value==="circle"?c:u}function tMe(u,c,d,g){u.encode??={},u.encode[c]??={},u.encode[c].update??={},u.encode[c].update[d]=g}function zce(u){let c=u.component.legends,d={};for(let b of re(c)){let D=u.getScaleComponent(b),M=Je(D.get("domains"));if(d[M])for(let Q of d[M])$ce(Q,c[b])||d[M].push(c[b]);else d[M]=[c[b].clone()]}return Ne(d).flat().map(b=>nMe(b,u.config)).filter(b=>b!==void 0)}function nMe(u,c){var d;let{disable:g,labelExpr:b,selections:D,...M}=u.combine();if(!g){if(c.aria===!1&&M.aria==null&&(M.aria=!1),(d=M.encode)!==null&&d!==void 0&&d.symbols){let We=M.encode.symbols.update;We.fill&&We.fill.value!=="transparent"&&!We.stroke&&!M.stroke&&(We.stroke={value:"transparent"});for(let Xe of Q4)M[Xe]&&delete We[Xe]}if(M.title||delete M.title,b!==void 0){var Q,se;let We=b;(Q=M.encode)!==null&&Q!==void 0&&(se=Q.labels)!==null&&se!==void 0&&se.update&&$n(M.encode.labels.update.text)&&(We=Mn(b,"datum.label",M.encode.labels.update.text.signal)),tMe(M,"labels","text",{signal:We})}return M}}function rMe(u){return $E(u)||vG(u)?iMe(u):Hce(u)}function iMe(u){return u.children.reduce((c,d)=>c.concat(d.assembleProjections()),Hce(u))}function Hce(u){let c=u.component.projection;if(!c||c.merged)return[];let d=c.combine(),{name:g}=d;if(c.data){let b={signal:`[${c.size.map(M=>M.signal).join(", ")}]`},D=c.data.reduce((M,Q)=>{let se=$n(Q)?Q.signal:`data('${u.lookupDataSource(Q)}')`;return Ct(M,se)||M.push(se),M},[]);if(D.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:g,size:b,fit:{signal:D.length>1?`[${D.join(", ")}]`:D[0]},...d}]}else return[{name:g,translate:{signal:"[width / 2, height / 2]"},...d}]}let sMe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Vce extends wp{constructor(c,d,g,b){super({...d},{name:c});this.specifiedProjection=d,this.size=g,this.data=b,bn(this,"merged",!1)}get isFit(){return!!this.data}}function Wce(u){u.component.projection=hc(u)?oMe(u):lMe(u)}function oMe(u){if(u.hasProjection){let c=pn(u.specifiedProjection),d=!(c&&(c.scale!=null||c.translate!=null)),g=d?[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]:void 0,b=d?aMe(u):void 0,D=new Vce(u.projectionName(!0),{...pn(u.config.projection)??{},...c??{}},g,b);return D.get("type")||D.set("type","equalEarth",!1),D}}function aMe(u){let c=[],{encoding:d}=u;for(let g of[[ie,ft],[Ue,Te]])(xu(d[g[0]])||xu(d[g[1]]))&&c.push({signal:u.getName(`geojson_${c.length}`)});return u.channelHasField(ne)&&u.typedFieldDef(ne).type===Ru&&c.push({signal:u.getName(`geojson_${c.length}`)}),c.length===0&&c.push(u.requestDataName(Pa.Main)),c}function uMe(u,c){let d=Tt(sMe,b=>!!(!e.hasOwnProperty(u.explicit,b)&&!e.hasOwnProperty(c.explicit,b)||e.hasOwnProperty(u.explicit,b)&&e.hasOwnProperty(c.explicit,b)&&Ze(u.get(b),c.get(b))));if(Ze(u.size,c.size)){if(d)return u;if(Ze(u.explicit,{}))return c;if(Ze(c.explicit,{}))return u}return null}function lMe(u){if(u.children.length===0)return;let c;for(let g of u.children)Wce(g);let d=Tt(u.children,g=>{let b=g.component.projection;if(b)if(c){let D=uMe(c,b);return D&&(c=D),!!D}else return c=b,!0;else return!0});if(c&&d){let g=u.projectionName(!0),b=new Vce(g,c.specifiedProjection,c.size,ye(c.data));for(let D of u.children){let M=D.component.projection;M&&(M.isFit&&b.data.push(...D.component.projection.data),D.renameProjection(M.get("name"),g),M.merged=!0)}return b}}function cMe(u,c,d,g){if(H4(c,d)){let b=hc(u)?u.axis(d)??u.legend(d)??{}:{},D=fi(c,{expr:"datum"}),M=fi(c,{expr:"datum",binSuffix:"end"});return{formulaAs:fi(c,{binSuffix:"range",forAs:!0}),formula:Ca(D,M,b.format,b.formatType,g)}}return{}}function Qce(u,c){return`${cs(u)}_${c}`}function fMe(u,c){return{signal:u.getName(`${c}_bins`),extentSignal:u.getName(`${c}_extent`)}}function aG(u,c,d){let g=z4(d,void 0)??{},b=Qce(g,c);return u.getName(`${b}_bins`)}function dMe(u){return"as"in u}function Gce(u,c,d){let g,b;dMe(u)?g=e.isString(u.as)?[u.as,`${u.as}_end`]:[u.as[0],u.as[1]]:g=[fi(u,{forAs:!0}),fi(u,{binSuffix:"end",forAs:!0})];let D={...z4(c,void 0)},M=Qce(D,u.field),{signal:Q,extentSignal:se}=fMe(d,M);if(gt(D.extent)){let Xe=D.extent;b=BL(d,Xe.param,Xe),delete D.extent}let We={bin:D,field:u.field,as:[g],...Q?{signal:Q}:{},...se?{extentSignal:se}:{},...b?{span:b}:{}};return{key:M,binComponent:We}}class u2 extends ba{clone(){return new u2(null,ye(this.bins))}constructor(c,d){super(c);this.bins=d}static makeFromEncoding(c,d){let g=d.reduceFieldDef((b,D,M)=>{if(Qd(D)&&mr(D.bin)){let{key:Q,binComponent:se}=Gce(D,D.bin,d);b[Q]={...se,...b[Q],...cMe(d,D,M,d.config)}}return b},{});return Ie(g)?null:new u2(c,g)}static makeFromTransform(c,d,g){let{key:b,binComponent:D}=Gce(d,d.bin,g);return new u2(c,{[b]:D})}merge(c,d){for(let g of re(c.bins))g in this.bins?(d(c.bins[g].signal,this.bins[g].signal),this.bins[g].as=St([...this.bins[g].as,...c.bins[g].as],ut)):this.bins[g]=c.bins[g];for(let g of c.children)c.removeChild(g),g.parent=this;c.remove()}producedFields(){return new Set(Ne(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(Ne(this.bins).map(c=>c.field))}hash(){return`Bin ${ut(this.bins)}`}assemble(){return Ne(this.bins).flatMap(c=>{let d=[],[g,...b]=c.as,{extent:D,...M}=c.bin,Q={type:"bin",field:un(c.field),as:g,signal:c.signal,...gt(D)?{extent:null}:{extent:D},...c.span?{span:{signal:`span(${c.span})`}}:{},...M};!D&&c.extentSignal&&(d.push({type:"extent",field:un(c.field),signal:c.extentSignal}),Q.extent={signal:c.extentSignal}),d.push(Q);for(let se of b)for(let We=0;We<2;We++)d.push({type:"formula",expr:fi({field:g[We]},{expr:"datum"}),as:se[We]});return c.formula&&d.push({type:"formula",expr:c.formula,as:c.formulaAs}),d})}}function hMe(u,c,d,g){var b;let D=hc(g)?g.encoding[Ss(c)]:void 0;if(Qd(d)&&hc(g)&&Dr(d,D,g.markDef,g.config))u.add(fi(d,{})),u.add(fi(d,{suffix:"end"})),d.bin&&H4(d,c)&&u.add(fi(d,{binSuffix:"range"}));else if(Mt(c)){let M=Ge(c);u.add(g.getName(M))}else u.add(fi(d));return Xx(d)&&Bc((b=d.scale)===null||b===void 0?void 0:b.range)&&u.add(d.scale.range.field),u}function pMe(u,c){for(let d of re(c)){let g=c[d];for(let b of re(g))d in u?u[d][b]=new Set([...u[d][b]??[],...g[b]]):u[d]={[b]:g[b]}}}class Z1 extends ba{clone(){return new Z1(null,new Set(this.dimensions),ye(this.measures))}constructor(c,d,g){super(c);this.dimensions=d,this.measures=g}get groupBy(){return this.dimensions}static makeFromEncoding(c,d){let g=!1;d.forEachFieldDef(M=>{M.aggregate&&(g=!0)});let b={},D=new Set;return!g||(d.forEachFieldDef((M,Q)=>{let{aggregate:se,field:We}=M;if(se)if(se==="count")b["*"]??={},b["*"].count=new Set([fi(M,{forAs:!0})]);else{if(aa(se)||ua(se)){let Xe=aa(se)?"argmin":"argmax",qt=se[Xe];b[qt]??={},b[qt][Xe]=new Set([fi({op:Xe,field:qt},{forAs:!0})])}else b[We]??={},b[We][se]=new Set([fi(M,{forAs:!0})]);Ii(Q)&&d.scaleDomain(Q)==="unaggregated"&&(b[We]??={},b[We].min=new Set([fi({field:We,aggregate:"min"},{forAs:!0})]),b[We].max=new Set([fi({field:We,aggregate:"max"},{forAs:!0})]))}else hMe(D,Q,M,d)}),D.size+re(b).length===0)?null:new Z1(c,D,b)}static makeFromTransform(c,d){let g=new Set,b={};for(let D of d.aggregate){let{op:M,field:Q,as:se}=D;M&&(M==="count"?(b["*"]??={},b["*"].count=new Set([se||fi(D,{forAs:!0})])):(b[Q]??={},b[Q][M]=new Set([se||fi(D,{forAs:!0})])))}for(let D of d.groupby??[])g.add(D);return g.size+re(b).length===0?null:new Z1(c,g,b)}merge(c){return ke(this.dimensions,c.dimensions)?(pMe(this.measures,c.measures),!0):(K0("different dimensions, cannot merge"),!1)}addDimensions(c){c.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...re(this.measures)])}producedFields(){let c=new Set;for(let d of re(this.measures))for(let g of re(this.measures[d])){let b=this.measures[d][g];b.size===0?c.add(`${g}_${d}`):b.forEach(c.add,c)}return c}hash(){return`Aggregate ${ut({dimensions:this.dimensions,measures:this.measures})}`}assemble(){let c=[],d=[],g=[];for(let D of re(this.measures))for(let M of re(this.measures[D]))for(let Q of this.measures[D][M])g.push(Q),c.push(M),d.push(D==="*"?null:un(D));return{type:"aggregate",groupby:[...this.dimensions].map(un),ops:c,fields:d,as:g}}}class qE extends ba{constructor(c,d,g,b){super(c);this.model=d,this.name=g,this.data=b,bn(this,"column",void 0),bn(this,"row",void 0),bn(this,"facet",void 0),bn(this,"childModel",void 0);for(let D of ee){let M=d.facet[D];if(M){let{bin:Q,sort:se}=M;this[D]={name:d.getName(`${D}_domain`),fields:[fi(M),...mr(Q)?[fi(M,{binSuffix:"end"})]:[]],..._a(se)?{sortField:se}:e.isArray(se)?{sortIndexField:_n(M,D)}:{}}}}this.childModel=d.child}hash(){let c="Facet";for(let d of ee)this[d]&&(c+=` ${d.charAt(0)}:${ut(this[d])}`);return c}get fields(){let c=[];for(let g of ee){var d;(d=this[g])!==null&&d!==void 0&&d.fields&&c.push(...this[g].fields)}return c}dependentFields(){let c=new Set(this.fields);for(let d of ee)this[d]&&(this[d].sortField&&c.add(this[d].sortField.field),this[d].sortIndexField&&c.add(this[d].sortIndexField));return c}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){let c={};for(let d of ro){let g=this.childModel.component.scales[d];if(g&&!g.merged){let b=g.get("type"),D=g.get("range");if(Be(b)&&br(D)){let M=WL(this.childModel,d),Q=gG(M);Q?c[d]=Q:jr(vr(d))}}}return c}assembleRowColumnHeaderData(c,d,g){let b={row:"y",column:"x",facet:void 0}[c],D=[],M=[],Q=[];b&&g&&g[b]&&(d?(D.push(`distinct_${g[b]}`),M.push("max")):(D.push(g[b]),M.push("distinct")),Q.push(`distinct_${g[b]}`));let{sortField:se,sortIndexField:We}=this[c];if(se){let{op:Xe=Tl,field:qt}=se;D.push(qt),M.push(Xe),Q.push(fi(se,{forAs:!0}))}else We&&(D.push(We),M.push("max"),Q.push(We));return{name:this[c].name,source:d??this.data,transform:[{type:"aggregate",groupby:this[c].fields,...D.length?{fields:D,ops:M,as:Q}:{}}]}}assembleFacetHeaderData(c){let{columns:d}=this.model.layout,{layoutHeaders:g}=this.model.component,b=[],D={};for(let We of Tr){for(let Xe of Pr){let qt=(g[We]&&g[We][Xe])??[];for(let on of qt){var M;if(((M=on.axes)===null||M===void 0?void 0:M.length)>0){D[We]=!0;break}}}if(D[We]){let Xe=`length(data("${this.facet.name}"))`,qt=We==="row"?d?{signal:`ceil(${Xe} / ${d})`}:1:d?{signal:`min(${Xe}, ${d})`}:{signal:Xe};b.push({name:`${this.facet.name}_${We}`,transform:[{type:"sequence",start:0,stop:qt}]})}}let{row:Q,column:se}=D;return(Q||se)&&b.unshift(this.assembleRowColumnHeaderData("facet",null,c)),b}assemble(){let c=[],d=null,g=this.getChildIndependentFieldsWithStep(),{column:b,row:D,facet:M}=this;if(b&&D&&(g.x||g.y)){d=`cross_${this.column.name}_${this.row.name}`;let Q=[].concat(g.x??[],g.y??[]),se=Q.map(()=>"distinct");c.push({name:d,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Q,ops:se}]})}for(let Q of[Wn,Fn])this[Q]&&c.push(this.assembleRowColumnHeaderData(Q,d,g));if(M){let Q=this.assembleFacetHeaderData(g);Q&&c.push(...Q)}return c}}function Yce(u){return u.startsWith("'")&&u.endsWith("'")||u.startsWith('"')&&u.endsWith('"')?u.slice(1,-1):u}function mMe(u,c){let d=gn(u);if(c==="number")return`toNumber(${d})`;if(c==="boolean")return`toBoolean(${d})`;if(c==="string")return`toString(${d})`;if(c==="date")return`toDate(${d})`;if(c==="flatten")return d;if(c.startsWith("date:")){let g=Yce(c.slice(5,c.length));return`timeParse(${d},'${g}')`}else if(c.startsWith("utc:")){let g=Yce(c.slice(4,c.length));return`utcParse(${d},'${g}')`}else return jr(yl(c)),null}function xMe(u){let c={};return $e(u.filter,d=>{if(td(d)){let g=null;Pc(d)?g=pi(d.equal):Ud(d)?g=pi(d.lte):Dh(d)?g=pi(d.lt):cf(d)?g=pi(d.gt):Oh(d)?g=pi(d.gte):hp(d)?g=d.range[0]:$a(d)&&(g=(d.oneOf??d.in)[0]),g&&(J0(g)?c[d.field]="date":e.isNumber(g)?c[d.field]="number":e.isString(g)&&(c[d.field]="string")),d.timeUnit&&(c[d.field]="date")}}),c}function gMe(u){let c={};function d(g){r3(g)?c[g.field]="date":g.type==="quantitative"&&Zu(g.aggregate)?c[g.field]="number":Rn(g.field)>1?g.field in c||(c[g.field]="flatten"):Xx(g)&&_a(g.sort)&&Rn(g.sort.field)>1&&(g.sort.field in c||(c[g.sort.field]="flatten"))}if((hc(u)||tm(u))&&u.forEachFieldDef((g,b)=>{if(Qd(g))d(g);else{let D=ai(b),M=u.fieldDef(D);d({...g,type:M.type})}}),hc(u)){let{mark:g,markDef:b,encoding:D}=u;if(df(g)&&!u.encoding.order){let M=b.orient==="horizontal"?"y":"x",Q=D[M];Er(Q)&&Q.type==="quantitative"&&!(Q.field in c)&&(c[Q.field]="number")}}return c}function yMe(u){let c={};if(hc(u)&&u.component.selection)for(let d of re(u.component.selection)){let g=u.component.selection[d];for(let b of g.project.items)!b.channel&&Rn(b.field)>1&&(c[b.field]="flatten")}return c}class b0 extends ba{clone(){return new b0(null,ye(this._parse))}constructor(c,d){super(c);bn(this,"_parse",void 0),this._parse=d}hash(){return`Parse ${ut(this._parse)}`}static makeExplicit(c,d,g){var b;let D={},M=d.data;return!i2(M)&&M!==null&&M!==void 0&&(b=M.format)!==null&&b!==void 0&&b.parse&&(D=M.format.parse),this.makeWithAncestors(c,D,{},g)}static makeWithAncestors(c,d,g,b){for(let Q of re(g)){let se=b.getWithExplicit(Q);se.value!==void 0&&(se.explicit||se.value===g[Q]||se.value==="derived"||g[Q]==="flatten"?delete g[Q]:jr(Lc(Q,g[Q],se.value)))}for(let Q of re(d)){let se=b.get(Q);se!==void 0&&(se===d[Q]?delete d[Q]:jr(Lc(Q,d[Q],se)))}let D=new wp(d,g);b.copyAll(D);let M={};for(let Q of re(D.combine())){let se=D.get(Q);se!==null&&(M[Q]=se)}return re(M).length===0||b.parseNothing?null:new b0(c,M)}get parse(){return this._parse}merge(c){this._parse={...this._parse,...c.parse},c.remove()}assembleFormatParse(){let c={};for(let d of re(this._parse)){let g=this._parse[d];Rn(d)===1&&(c[d]=g)}return c}producedFields(){return new Set(re(this._parse))}dependentFields(){return new Set(re(this._parse))}assembleTransforms(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return re(this._parse).filter(d=>c?Rn(d)>1:!0).map(d=>{let g=mMe(d,this._parse[d]);return g?{type:"formula",expr:g,as:tr(d)}:null}).filter(d=>d!==null)}}class h3 extends ba{clone(){return new h3(null)}constructor(c){super(c)}dependentFields(){return new Set}producedFields(){return new Set([Ep])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Ep}}}class rA extends ba{clone(){return new rA(null,this.params)}constructor(c,d){super(c);this.params=d}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${ut(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class iA extends ba{clone(){return new iA(null,this.params)}constructor(c,d){super(c);this.params=d}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${ut(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class o_ extends ba{constructor(c){super(null);bn(this,"_data",void 0),bn(this,"_name",void 0),bn(this,"_generator",void 0),c??={name:"source"};let d;if(i2(c)||(d=c.format?{...pe(c.format,["parse"])}:{}),Z4(c))this._data={values:c.values};else if(X1(c)){if(this._data={url:c.url},!d.type){let g=/(?:\.([^.]+))?$/.exec(c.url)[1];Ct(["json","csv","tsv","dsv","topojson"],g)||(g="json"),d.type=g}}else mL(c)?this._data={values:[{type:"Sphere"}]}:(hL(c)||i2(c))&&(this._data={});this._generator=i2(c),c.name&&(this._name=c.name),d&&!Ie(d)&&(this._data.format=d)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(c){this._name=c}set parent(c){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function uG(u){return u instanceof o_||u instanceof rA||u instanceof iA}var HL=new WeakMap;class lG{constructor(){hu(this,HL,{writable:!0,value:void 0}),Ti(this,HL,!1)}setModified(){Ti(this,HL,!0)}get modifiedFlag(){return Yr(this,HL)}}class a_ extends lG{getNodeDepths(c,d,g){g.set(c,d);for(let b of c.children)this.getNodeDepths(b,d+1,g);return g}optimize(c){let g=[...this.getNodeDepths(c,0,new Map).entries()].sort((b,D)=>D[1]-b[1]);for(let b of g)this.run(b[0]);return this.modifiedFlag}}class cG extends lG{optimize(c){this.run(c);for(let d of c.children)this.optimize(d);return this.modifiedFlag}}class vMe extends cG{mergeNodes(c,d){let g=d.shift();for(let b of d)c.removeChild(b),b.parent=g,b.remove()}run(c){let d=c.children.map(b=>b.hash()),g={};for(let b=0;b<d.length;b++)g[d[b]]===void 0?g[d[b]]=[c.children[b]]:g[d[b]].push(c.children[b]);for(let b of re(g))g[b].length>1&&(this.setModified(),this.mergeNodes(c,g[b]))}}class _Me extends cG{constructor(c){super();bn(this,"requiresSelectionId",void 0),this.requiresSelectionId=c&&J9(c)}run(c){c instanceof h3&&(this.requiresSelectionId&&(uG(c.parent)||c.parent instanceof Z1||c.parent instanceof b0)||(this.setModified(),c.remove()))}}class bMe extends lG{optimize(c){return this.run(c,new Set),this.modifiedFlag}run(c,d){let g=new Set;c instanceof Cp&&(g=c.producedFields(),Se(g,d)&&(this.setModified(),c.removeFormulas(d),c.producedFields.length===0&&c.remove()));for(let b of c.children)this.run(b,new Set([...d,...g]))}}class EMe extends cG{constructor(){super()}run(c){c instanceof Pf&&!c.isRequired()&&(this.setModified(),c.remove())}}class SMe extends a_{run(c){if(!uG(c)&&!(c.numChildren()>1)){for(let d of c.children)if(d instanceof b0)if(c instanceof b0)this.setModified(),c.merge(d);else{if(tt(c.producedFields(),d.dependentFields()))continue;this.setModified(),d.swapWithParent()}}}}class wMe extends a_{run(c){let d=[...c.children],g=c.children.filter(b=>b instanceof b0);if(c.numChildren()>1&&g.length>=1){let b={},D=new Set;for(let M of g){let Q=M.parse;for(let se of re(Q))se in b?b[se]!==Q[se]&&D.add(se):b[se]=Q[se]}for(let M of D)delete b[M];if(!Ie(b)){this.setModified();let M=new b0(c,b);for(let Q of d){if(Q instanceof b0)for(let se of re(b))delete Q.parse[se];c.removeChild(Q),Q.parent=M,Q instanceof b0&&re(Q.parse).length===0&&Q.remove()}}}}}class CMe extends a_{run(c){c instanceof Pf||c.numChildren()>0||c instanceof qE||c instanceof o_||(this.setModified(),c.remove())}}class AMe extends a_{run(c){let d=c.children.filter(b=>b instanceof Cp),g=d.pop();for(let b of d)this.setModified(),g.merge(b)}}class TMe extends a_{run(c){let d=c.children.filter(b=>b instanceof Z1),g={};for(let b of d){let D=ut(b.groupBy);D in g||(g[D]=[]),g[D].push(b)}for(let b of re(g)){let D=g[b];if(D.length>1){let M=D.pop();for(let Q of D)M.merge(Q)&&(c.removeChild(Q),Q.parent=M,Q.remove(),this.setModified())}}}}class FMe extends a_{constructor(c){super();this.model=c}run(c){let d=!(uG(c)||c instanceof d3||c instanceof b0||c instanceof h3),g=[],b=[];for(let D of c.children)D instanceof u2&&(d&&!tt(c.producedFields(),D.dependentFields())?g.push(D):b.push(D));if(g.length>0){let D=g.pop();for(let M of g)D.merge(M,this.model.renameSignal.bind(this.model));this.setModified(),c instanceof u2?c.merge(D,this.model.renameSignal.bind(this.model)):D.swapWithParent()}if(b.length>1){let D=b.pop();for(let M of b)D.merge(M,this.model.renameSignal.bind(this.model));this.setModified()}}}class DMe extends a_{run(c){let d=[...c.children];if(!xn(d,M=>M instanceof Pf)||c.numChildren()<=1)return;let b=[],D;for(let M of d)if(M instanceof Pf){let Q=M;for(;Q.numChildren()===1;){let[se]=Q.children;if(se instanceof Pf)Q=se;else break}b.push(...Q.children),D?(c.removeChild(M),M.parent=D.parent,D.parent.removeChild(D),D.parent=Q,this.setModified()):D=Q}else b.push(M);if(b.length){this.setModified();for(let M of b)M.parent.removeChild(M),M.parent=D}}}class u_ extends ba{clone(){return new u_(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d}addDimensions(c){this.transform.groupby=St(this.transform.groupby.concat(c),d=>d)}dependentFields(){let c=new Set;return this.transform.groupby&&this.transform.groupby.forEach(c.add,c),this.transform.joinaggregate.map(d=>d.field).filter(d=>d!==void 0).forEach(c.add,c),c}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(c){return c.as??fi(c)}hash(){return`JoinAggregateTransform ${ut(this.transform)}`}assemble(){let c=[],d=[],g=[];for(let D of this.transform.joinaggregate)d.push(D.op),g.push(this.getDefaultName(D)),c.push(D.field===void 0?null:D.field);let b=this.transform.groupby;return{type:"joinaggregate",as:g,ops:d,fields:c,...b!==void 0?{groupby:b}:{}}}}function OMe(u){return u.stack.stackBy.reduce((c,d)=>{let g=d.fieldDef,b=fi(g);return b&&c.push(b),c},[])}function RMe(u){return e.isArray(u)&&u.every(c=>e.isString(c))&&u.length>1}class rg extends ba{clone(){return new rg(null,ye(this._stack))}constructor(c,d){super(c);bn(this,"_stack",void 0),this._stack=d}static makeFromTransform(c,d){let{stack:g,groupby:b,as:D,offset:M="zero"}=d,Q=[],se=[];if(d.sort!==void 0)for(let qt of d.sort)Q.push(qt.field),se.push(Re(qt.order,"ascending"));let We={field:Q,order:se},Xe;return RMe(D)?Xe=D:e.isString(D)?Xe=[D,`${D}_end`]:Xe=[`${d.stack}_start`,`${d.stack}_end`],new rg(c,{dimensionFieldDefs:[],stackField:g,groupby:b,offset:M,sort:We,facetby:[],as:Xe})}static makeFromEncoding(c,d){let g=d.stack,{encoding:b}=d;if(!g)return null;let{groupbyChannels:D,fieldChannel:M,offset:Q,impute:se}=g,We=D.map(In=>{let Xn=b[In];return Bh(Xn)}).filter(In=>!!In),Xe=OMe(d),qt=d.encoding.order,on;return e.isArray(qt)||Er(qt)?on=Ro(qt):on=Xe.reduce((In,Xn)=>(In.field.push(Xn),In.order.push(M==="y"?"descending":"ascending"),In),{field:[],order:[]}),new rg(c,{dimensionFieldDefs:We,stackField:d.vgField(M),facetby:[],stackby:Xe,sort:on,offset:Q,impute:se,as:[d.vgField(M,{suffix:"start",forAs:!0}),d.vgField(M,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(c){this._stack.facetby.push(...c)}dependentFields(){let c=new Set;return c.add(this._stack.stackField),this.getGroupbyFields().forEach(c.add,c),this._stack.facetby.forEach(c.add,c),this._stack.sort.field.forEach(c.add,c),c}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${ut(this._stack)}`}getGroupbyFields(){let{dimensionFieldDefs:c,impute:d,groupby:g}=this._stack;return c.length>0?c.map(b=>b.bin?d?[fi(b,{binSuffix:"mid"})]:[fi(b,{}),fi(b,{binSuffix:"end"})]:[fi(b)]).flat():g??[]}assemble(){let c=[],{facetby:d,dimensionFieldDefs:g,stackField:b,stackby:D,sort:M,offset:Q,impute:se,as:We}=this._stack;if(se)for(let Xe of g){let{bandPosition:qt=.5,bin:on}=Xe;if(on){let In=fi(Xe,{expr:"datum"}),Xn=fi(Xe,{expr:"datum",binSuffix:"end"});c.push({type:"formula",expr:`${qt}*${In}+${1-qt}*${Xn}`,as:fi(Xe,{binSuffix:"mid",forAs:!0})})}c.push({type:"impute",field:b,groupby:[...D,...d],key:fi(Xe,{binSuffix:"mid"}),method:"value",value:0})}return c.push({type:"stack",groupby:[...this.getGroupbyFields(),...d],field:b,sort:M,as:We,offset:Q}),c}}class UE extends ba{clone(){return new UE(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d}addDimensions(c){this.transform.groupby=St(this.transform.groupby.concat(c),d=>d)}dependentFields(){let c=new Set;return(this.transform.groupby??[]).forEach(c.add,c),(this.transform.sort??[]).forEach(d=>c.add(d.field)),this.transform.window.map(d=>d.field).filter(d=>d!==void 0).forEach(c.add,c),c}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(c){return c.as??fi(c)}hash(){return`WindowTransform ${ut(this.transform)}`}assemble(){let c=[],d=[],g=[],b=[];for(let qt of this.transform.window)d.push(qt.op),g.push(this.getDefaultName(qt)),b.push(qt.param===void 0?null:qt.param),c.push(qt.field===void 0?null:qt.field);let D=this.transform.frame,M=this.transform.groupby;if(D&&D[0]===null&&D[1]===null&&d.every(qt=>gl(qt)))return{type:"joinaggregate",as:g,ops:d,fields:c,...M!==void 0?{groupby:M}:{}};let Q=[],se=[];if(this.transform.sort!==void 0)for(let qt of this.transform.sort)Q.push(qt.field),se.push(qt.order??"ascending");let We={field:Q,order:se},Xe=this.transform.ignorePeers;return{type:"window",params:b,as:g,ops:d,fields:c,sort:We,...Xe!==void 0?{ignorePeers:Xe}:{},...M!==void 0?{groupby:M}:{},...D!==void 0?{frame:D}:{}}}}function NMe(u){function c(d){if(!(d instanceof qE)){let g=d.clone();if(g instanceof Pf){let b=dG+g.getSource();g.setSource(b),u.model.component.data.outputNodes[b]=g}else(g instanceof Z1||g instanceof rg||g instanceof UE||g instanceof u_)&&g.addDimensions(u.fields);for(let b of d.children.flatMap(c))b.parent=g;return[g]}return d.children.flatMap(c)}return c}function fG(u){if(u instanceof qE)if(u.numChildren()===1&&!(u.children[0]instanceof Pf)){let c=u.children[0];(c instanceof Z1||c instanceof rg||c instanceof UE||c instanceof u_)&&c.addDimensions(u.fields),c.swapWithParent(),fG(u)}else{let c=u.model.component.data.main;Kce(c);let d=NMe(u),g=u.children.map(d).flat();for(let b of g)b.parent=c}else u.children.map(fG)}function Kce(u){if(u instanceof Pf&&u.type===Pa.Main&&u.numChildren()===1){let c=u.children[0];c instanceof qE||(c.swapWithParent(),Kce(u))}}let dG="scale_",VL=5;function hG(u){for(let c of u){for(let d of c.children)if(d.parent!==c)return!1;if(!hG(c.children))return!1}return!0}function em(u,c){let d=!1;for(let g of c)d=u.optimize(g)||d;return d}function Jce(u,c,d){let g=u.sources,b=!1;return b=em(new EMe,g)||b,b=em(new _Me(c),g)||b,g=g.filter(D=>D.numChildren()>0),b=em(new CMe,g)||b,g=g.filter(D=>D.numChildren()>0),d||(b=em(new SMe,g)||b,b=em(new FMe(c),g)||b,b=em(new bMe,g)||b,b=em(new wMe,g)||b,b=em(new TMe,g)||b,b=em(new AMe,g)||b,b=em(new vMe,g)||b,b=em(new DMe,g)||b),u.sources=g,b}function LMe(u,c){hG(u.sources);let d=0,g=0;for(let b=0;b<VL&&Jce(u,c,!0);b++)d++;u.sources.map(fG);for(let b=0;b<VL&&Jce(u,c,!1);b++)g++;hG(u.sources),Math.max(d,g)===VL&&jr(`Maximum optimization runs(${VL}) reached.`)}class Zd{constructor(c){bn(this,"signal",void 0),Object.defineProperty(this,"signal",{enumerable:!0,get:c})}static fromName(c,d){return new Zd(()=>c(d))}}function Xce(u){hc(u)?kMe(u):IMe(u)}function kMe(u){let c=u.component.scales;for(let d of re(c)){let g=PMe(u,d);if(c[d].setWithExplicit("domains",g),jMe(u,d),u.component.data.isFaceted){let D=u;for(;!tm(D)&&D.parent;)D=D.parent;if(D.component.resolve.scale[d]==="shared")for(let Q of g.value)ar(Q)&&(Q.data=dG+Q.data.replace(dG,""))}}}function IMe(u){for(let d of u.children)Xce(d);let c=u.component.scales;for(let d of re(c)){let g,b=null;for(let D of u.children){let M=D.component.scales[d];if(M){g===void 0?g=M.getWithExplicit("domains"):g=r2(g,M.getWithExplicit("domains"),"domains","scale",xG);let Q=M.get("selectionExtent");b&&Q&&b.param!==Q.param&&jr(o0),b=Q}}c[d].setWithExplicit("domains",g),b&&c[d].set("selectionExtent",b,!0)}}function MMe(u,c,d,g){if(u==="unaggregated"){let{valid:b,reason:D}=Zce(c,d);if(!b){jr(D);return}}else if(u===void 0&&g.useUnaggregatedDomain){let{valid:b}=Zce(c,d);if(b)return"unaggregated"}return u}function PMe(u,c){let d=u.getScaleComponent(c).get("type"),{encoding:g}=u,b=MMe(u.scaleDomain(c),u.typedFieldDef(c),d,u.config.scale);return b!==u.scaleDomain(c)&&(u.specifiedScales[c]={...u.specifiedScales[c],domain:b}),c==="x"&&xu(g.x2)?xu(g.x)?r2(p3(d,b,u,"x"),p3(d,b,u,"x2"),"domain","scale",xG):p3(d,b,u,"x2"):c==="y"&&xu(g.y2)?xu(g.y)?r2(p3(d,b,u,"y"),p3(d,b,u,"y2"),"domain","scale",xG):p3(d,b,u,"y2"):p3(d,b,u,c)}function BMe(u,c,d){return u.map(g=>({signal:`{data: ${gE(g,{timeUnit:d,type:c})}}`}))}function pG(u,c,d){var g;let b=(g=pu(d))===null||g===void 0?void 0:g.unit;return c==="temporal"||b?BMe(u,c,b):[u]}function p3(u,c,d,g){let{encoding:b}=d,D=xu(b[g]),{type:M}=D,Q=D.timeUnit;if(mu(c)){let qt=p3(u,void 0,d,g),on=pG(c.unionWith,M,Q);return al([...on,...qt.value])}else{if($n(c))return al([c]);if(c&&c!=="unaggregated"&&!oo(c))return al(pG(c,M,Q))}let se=d.stack;if(se&&g===se.fieldChannel){if(se.offset==="normalize")return v0([[0,1]]);let qt=d.requestDataName(Pa.Main);return v0([{data:qt,field:d.vgField(g,{suffix:"start"})},{data:qt,field:d.vgField(g,{suffix:"end"})}])}let We=Ii(g)&&Er(D)?qMe(d,g,u):void 0;if(Eo(D)){let qt=pG([D.datum],M,Q);return v0(qt)}let Xe=D;if(c==="unaggregated"){let qt=d.requestDataName(Pa.Main),{field:on}=D;return v0([{data:qt,field:fi({field:on,aggregate:"min"})},{data:qt,field:fi({field:on,aggregate:"max"})}])}else if(mr(Xe.bin)){if(Be(u))return v0(u==="bin-ordinal"?[]:[{data:_t(We)?d.requestDataName(Pa.Main):d.requestDataName(Pa.Raw),field:d.vgField(g,H4(Xe,g)?{binSuffix:"range"}:{}),sort:We===!0||!e.isObject(We)?{field:d.vgField(g,{}),op:"min"}:We}]);{let{bin:qt}=Xe;if(mr(qt)){let on=aG(d,Xe.field,qt);return v0([new Zd(()=>{let In=d.getSignalName(on);return`[${In}.start, ${In}.stop]`})])}else return v0([{data:d.requestDataName(Pa.Main),field:d.vgField(g,{})}])}}else if(Xe.timeUnit&&Ct(["time","utc"],u)&&Dr(Xe,hc(d)?d.encoding[Ss(g)]:void 0,d.markDef,d.config)){let qt=d.requestDataName(Pa.Main);return v0([{data:qt,field:d.vgField(g)},{data:qt,field:d.vgField(g,{suffix:"end"})}])}else return v0(We?[{data:_t(We)?d.requestDataName(Pa.Main):d.requestDataName(Pa.Raw),field:d.vgField(g),sort:We}]:[{data:d.requestDataName(Pa.Main),field:d.vgField(g)}])}function mG(u,c){let{op:d,field:g,order:b}=u;return{op:d??(c?"sum":Tl),...g?{field:un(g)}:{},...b?{order:b}:{}}}function jMe(u,c){var d;let g=u.component.scales[c],b=u.specifiedScales[c].domain,D=(d=u.fieldDef(c))===null||d===void 0?void 0:d.bin,M=oo(b)&&b,Q=Me(D)&&gt(D.extent)&&D.extent;(M||Q)&&g.set("selectionExtent",M??Q,!0)}function qMe(u,c,d){if(!Be(d))return;let g=u.fieldDef(c),b=g.sort;if(cc(b))return{op:"min",field:_n(g,c),order:"ascending"};let{stack:D}=u,M=D?new Set([...D.groupbyFields,...D.stackBy.map(Q=>Q.fieldDef.field)]):void 0;if(_a(b)){let Q=D&&!M.has(b.field);return mG(b,Q)}else if(x0(b)){let{encoding:Q,order:se}=b,We=u.fieldDef(Q),{aggregate:Xe,field:qt}=We,on=D&&!M.has(qt);if(aa(Xe)||ua(Xe))return mG({field:fi(We),order:se},on);if(gl(Xe)||!Xe)return mG({op:Xe,field:qt,order:se},on)}else{if(b==="descending")return{op:"min",field:u.vgField(c),order:"descending"};if(Ct(["ascending",void 0],b))return!0}}function Zce(u,c){let{aggregate:d,type:g}=u;return d?e.isString(d)&&!rs.has(d)?{valid:!1,reason:Vt(d)}:g==="quantitative"&&c==="log"?{valid:!1,reason:An(u)}:{valid:!0}:{valid:!1,reason:kt(u)}}function xG(u,c,d,g){return u.explicit&&c.explicit&&jr(Qi(d,g,u.value,c.value)),{explicit:u.explicit,value:[...u.value,...c.value]}}function UMe(u){let c=St(u.map(M=>{if(ar(M)){let{sort:Q,...se}=M;return se}return M}),ut),d=St(u.map(M=>{if(ar(M)){let Q=M.sort;return Q!==void 0&&!_t(Q)&&("op"in Q&&Q.op==="count"&&delete Q.field,Q.order==="ascending"&&delete Q.order),Q}}).filter(M=>M!==void 0),ut);if(c.length===0)return;if(c.length===1){let M=u[0];if(ar(M)&&d.length>0){let Q=d[0];if(d.length>1)jr(Gs),Q=!0;else if(e.isObject(Q)&&"field"in Q){let se=Q.field;M.field===se&&(Q=Q.order?{order:Q.order}:!0)}return{...M,sort:Q}}return M}let g=St(d.map(M=>_t(M)||!("op"in M)||e.isString(M.op)&&M.op in Ua?M:(jr(Qr(M)),!0)),ut),b;g.length===1?b=g[0]:g.length>1&&(jr(Gs),b=!0);let D=St(u.map(M=>ar(M)?M.data:null),M=>M);return D.length===1&&D[0]!==null?{data:D[0],fields:c.map(Q=>Q.field),...b?{sort:b}:{}}:{fields:c,...b?{sort:b}:{}}}function gG(u){if(ar(u)&&e.isString(u.field))return u.field;if(Cr(u)){let c;for(let d of u.fields)if(ar(d)&&e.isString(d.field)){if(!c)c=d.field;else if(c!==d.field)return jr(Uo),c}return jr(ga),c}else if(Gn(u)){jr(po);let c=u.fields[0];return e.isString(c)?c:void 0}}function WL(u,c){let g=u.component.scales[c].get("domains").map(b=>(ar(b)&&(b.data=u.lookupDataSource(b.data)),b));return UMe(g)}function efe(u){return $E(u)||vG(u)?u.children.reduce((c,d)=>c.concat(efe(d)),tfe(u)):tfe(u)}function tfe(u){return re(u.component.scales).reduce((c,d)=>{let g=u.component.scales[d];if(g.merged)return c;let b=g.combine(),{name:D,type:M,selectionExtent:Q,domains:se,range:We,reverse:Xe,...qt}=b,on=$Me(b.range,D,d,u),In=WL(u,d),Xn=Q?AQ(u,Q,g,In):null;return c.push({name:D,type:M,...In?{domain:In}:{},...Xn?{domainRaw:Xn}:{},range:on,...Xe!==void 0?{reverse:Xe}:{},...qt}),c},[])}function $Me(u,c,d,g){if(us(d)){if(br(u))return{step:{signal:`${c}_step`}}}else if(e.isObject(u)&&ar(u))return{...u,data:g.lookupDataSource(u.data)};return u}class nfe extends wp{constructor(c,d){super({},{name:c});bn(this,"merged",!1),this.setWithExplicit("type",d)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:xn(this.get("domains"),c=>e.isArray(c)&&c.length===2&&c[0]<=0&&c[1]>=0)}}let zMe=["range","scheme"];function HMe(u){let c=u.component.scales;for(let d of vs){let g=c[d];if(!g)continue;let b=VMe(d,u);g.setWithExplicit("range",b)}}function rfe(u,c){let d=u.fieldDef(c);if(d!=null&&d.bin){let{bin:g,field:b}=d,D=ts(c),M=u.getName(D);if(e.isObject(g)&&g.binned&&g.step!==void 0)return new Zd(()=>{let Q=u.scaleName(c),se=`(domain("${Q}")[1] - domain("${Q}")[0]) / ${g.step}`;return`${u.getSignalName(M)} / (${se})`});if(mr(g)){let Q=aG(u,b,g);return new Zd(()=>{let se=u.getSignalName(Q),We=`(${se}.stop - ${se}.start) / ${se}.step`;return`${u.getSignalName(M)} / (${We})`})}}}function VMe(u,c){let d=c.specifiedScales[u],{size:g}=c,D=c.getScaleComponent(u).get("type");for(let qt of zMe)if(d[qt]!==void 0){let on=Ts(D,qt),In=p0(u,qt);if(!on)jr(Nr(D,qt,u));else if(In)jr(In);else switch(qt){case"range":{let Xn=d.range;if(e.isArray(Xn)){if(us(u))return al(Xn.map(lr=>{if(lr==="width"||lr==="height"){let pr=c.getName(lr),kr=c.getSignalName.bind(c);return Zd.fromName(kr,pr)}return lr}))}else if(e.isObject(Xn))return al({data:c.requestDataName(Pa.Main),field:Xn.field,sort:{op:"min",field:c.vgField(u)}});return al(Xn)}case"scheme":return al(WMe(d[qt]))}}let M=u===Nn||u==="xOffset"?"width":"height",Q=g[M];if(Sp(Q)){if(us(u))if(Be(D)){let qt=ife(Q,c,u);if(qt)return al({step:qt})}else jr(rt(M));else if(Wi(u)){let qt=u===oe?"x":"y";if(c.getScaleComponent(qt).get("type")==="band"){let Xn=sfe(Q,D);if(Xn)return al(Xn)}}}let{rangeMin:se,rangeMax:We}=d,Xe=QMe(u,c);return(se!==void 0||We!==void 0)&&Ts(D,"rangeMin")&&e.isArray(Xe)&&Xe.length===2?al([se??Xe[0],We??Xe[1]]):v0(Xe)}function WMe(u){return Bi(u)?{scheme:u.name,...pe(u,["name"])}:{scheme:u}}function QMe(u,c){let{size:d,config:g,mark:b,encoding:D}=c,M=c.getSignalName.bind(c),{type:Q}=xu(D[u]),We=c.getScaleComponent(u).get("type"),{domain:Xe,domainMid:qt}=c.specifiedScales[u];switch(u){case Nn:case nr:{if(Ct(["point","band"],We)){let Xn=ofe(u,d,g.view);if(Sp(Xn))return{step:ife(Xn,c,u)}}let on=ts(u),In=c.getName(on);return u===nr&&wt(We)?[Zd.fromName(M,In),0]:[0,Zd.fromName(M,In)]}case oe:case je:return GMe(u,c,We);case we:{let on=c.component.scales[u].get("zero"),In=afe(b,on,g),Xn=JMe(b,d,c,g);return ur(We)?KMe(In,Xn,YMe(We,g,Xe,u)):[In,Xn]}case hn:return[0,Math.PI*2];case Qe:return[0,360];case nt:return[0,new Zd(()=>{let on=c.getSignalName("width"),In=c.getSignalName("height");return`min(${on},${In})/2`})];case Cn:return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case En:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ne:return"symbol";case xt:case Et:case Nt:return We==="ordinal"?Q==="nominal"?"category":"ordinal":qt!==void 0?"diverging":b==="rect"||b==="geoshape"?"heatmap":"ramp";case it:case Ut:case sn:return[g.scale.minOpacity,g.scale.maxOpacity]}}function ife(u,c,d){let{encoding:g}=c,b=c.getScaleComponent(d),D=pa(d),M=g[D];if($N({step:u,offsetIsDiscrete:Ls(M)&&pp(M.type)})==="offset"&&AN(g,D)){let se=c.getScaleComponent(D),Xe=`domain('${c.scaleName(D)}').length`;if(se.get("type")==="band"){let on=se.get("paddingInner")??se.get("padding")??0,In=se.get("paddingOuter")??se.get("padding")??0;Xe=`bandspace(${Xe}, ${on}, ${In})`}let qt=b.get("paddingInner")??b.get("padding");return{signal:`${u.step} * ${Xe} / (1-${Ir(qt)})`}}else return u.step}function sfe(u,c){if($N({step:u,offsetIsDiscrete:Be(c)})==="offset")return{step:u.step}}function GMe(u,c,d){let g=u===oe?"x":"y",D=c.getScaleComponent(g).get("type"),M=c.scaleName(g);if(D==="band"){let Q=ofe(g,c.size,c.config.view);if(Sp(Q)){let se=sfe(Q,d);if(se)return se}return[0,{signal:`bandwidth('${M}')`}]}else return Le(`Cannot use ${u} scale if ${g} scale is not discrete.`)}function ofe(u,c,d){let g=u===Nn?"width":"height",b=c[g];return b||AE(d,g)}function YMe(u,c,d,g){switch(u){case"quantile":return c.scale.quantileCount;case"quantize":return c.scale.quantizeCount;case"threshold":return d!==void 0&&e.isArray(d)?d.length+1:(jr(Ic(g)),3)}}function KMe(u,c,d){let g=()=>{let b=gi(c),D=gi(u),M=`(${b} - ${D}) / (${d} - 1)`;return`sequence(${D}, ${b} + ${M}, ${M})`};return $n(c)?new Zd(g):{signal:g()}}function afe(u,c,d){if(c)return $n(c)?{signal:`${c.signal} ? 0 : ${afe(u,!1,d)}`}:0;switch(u){case"bar":case"tick":return d.scale.minBandSize;case"line":case"trail":case"rule":return d.scale.minStrokeWidth;case"text":return d.scale.minFontSize;case"point":case"square":case"circle":return d.scale.minSize}throw new Error(vl("size",u))}let ufe=.95;function JMe(u,c,d,g){let b={x:rfe(d,"x"),y:rfe(d,"y")};switch(u){case"bar":case"tick":{if(g.scale.maxBandSize!==void 0)return g.scale.maxBandSize;let D=lfe(c,b,g.view);return e.isNumber(D)?D-1:new Zd(()=>`${D.signal} - 1`)}case"line":case"trail":case"rule":return g.scale.maxStrokeWidth;case"text":return g.scale.maxFontSize;case"point":case"square":case"circle":{if(g.scale.maxSize)return g.scale.maxSize;let D=lfe(c,b,g.view);return e.isNumber(D)?Math.pow(ufe*D,2):new Zd(()=>`pow(${ufe} * ${D.signal}, 2)`)}}throw new Error(vl("size",u))}function lfe(u,c,d){let g=Sp(u.width)?u.width.step:CE(d,"width"),b=Sp(u.height)?u.height.step:CE(d,"height");return c.x||c.y?new Zd(()=>`min(${[c.x?c.x.signal:g,c.y?c.y.signal:b].join(", ")})`):Math.min(g,b)}function cfe(u,c){hc(u)?XMe(u,c):hfe(u,c)}function XMe(u,c){let d=u.component.scales,{config:g,encoding:b,markDef:D,specifiedScales:M}=u;for(let Q of re(d)){let se=M[Q],We=d[Q],Xe=u.getScaleComponent(Q),qt=xu(b[Q]),on=se[c],In=Xe.get("type"),Xn=Xe.get("padding"),lr=Xe.get("paddingInner"),pr=Ts(In,c),kr=p0(Q,c);if(on!==void 0&&(pr?kr&&jr(kr):jr(Nr(In,c,Q))),pr&&kr===void 0)if(on!==void 0){let Ni=qt.timeUnit,Ui=qt.type;switch(c){case"domainMax":case"domainMin":J0(se[c])||Ui==="temporal"||Ni?We.set(c,{signal:gE(se[c],{type:Ui,timeUnit:Ni})},!0):We.set(c,se[c],!0);break;default:We.copyKeyFromObject(c,se)}}else{let Ni=c in ffe?ffe[c]({model:u,channel:Q,fieldOrDatumDef:qt,scaleType:In,scalePadding:Xn,scalePaddingInner:lr,domain:se.domain,domainMin:se.domainMin,domainMax:se.domainMax,markDef:D,config:g,hasNestedOffsetScale:x9(b,Q),hasSecondaryRangeChannel:!!b[Ss(Q)]}):g.scale[c];Ni!==void 0&&We.set(c,Ni,!1)}}}let ffe={bins:u=>{let{model:c,fieldOrDatumDef:d}=u;return Er(d)?ZMe(c,d):void 0},interpolate:u=>{let{channel:c,fieldOrDatumDef:d}=u;return ePe(c,d.type)},nice:u=>{let{scaleType:c,channel:d,domain:g,domainMin:b,domainMax:D,fieldOrDatumDef:M}=u;return tPe(c,d,g,b,D,M)},padding:u=>{let{channel:c,scaleType:d,fieldOrDatumDef:g,markDef:b,config:D}=u;return nPe(c,d,D.scale,g,b,D.bar)},paddingInner:u=>{let{scalePadding:c,channel:d,markDef:g,scaleType:b,config:D,hasNestedOffsetScale:M}=u;return rPe(c,d,g.type,b,D.scale,M)},paddingOuter:u=>{let{scalePadding:c,channel:d,scaleType:g,scalePaddingInner:b,config:D,hasNestedOffsetScale:M}=u;return iPe(c,d,g,b,D.scale,M)},reverse:u=>{let{fieldOrDatumDef:c,scaleType:d,channel:g,config:b}=u,D=Er(c)?c.sort:void 0;return sPe(d,D,g,b.scale)},zero:u=>{let{channel:c,fieldOrDatumDef:d,domain:g,markDef:b,scaleType:D,config:M,hasSecondaryRangeChannel:Q}=u;return oPe(c,d,g,b,D,M.scale,Q)}};function dfe(u){hc(u)?HMe(u):hfe(u,"range")}function hfe(u,c){let d=u.component.scales;for(let g of u.children)c==="range"?dfe(g):cfe(g,c);for(let g of re(d)){let b;for(let D of u.children){let M=D.component.scales[g];if(M){let Q=M.getWithExplicit(c);b=r2(b,Q,c,"scale",fL((se,We)=>{switch(c){case"range":return se.step&&We.step?se.step-We.step:0}return 0}))}}d[g].setWithExplicit(c,b)}}function ZMe(u,c){let d=c.bin;if(mr(d)){let g=aG(u,c.field,d);return new Zd(()=>u.getSignalName(g))}else if(is(d)&&Me(d)&&d.step!==void 0)return{step:d.step}}function ePe(u,c){if(Ct([xt,Et,Nt],u)&&c!=="nominal")return"hcl"}function tPe(u,c,d,g,b,D){var M;if(!((M=Bh(D))!==null&&M!==void 0&&M.bin||e.isArray(d)||b!=null||g!=null||Ct([il.TIME,il.UTC],u)))return us(c)?!0:void 0}function nPe(u,c,d,g,b,D){if(us(u)){if(Tn(c)){if(d.continuousPadding!==void 0)return d.continuousPadding;let{type:M,orient:Q}=b;if(M==="bar"&&!(Er(g)&&(g.bin||g.timeUnit))&&(Q==="vertical"&&u==="x"||Q==="horizontal"&&u==="y"))return D.continuousBandSize}if(c===il.POINT)return d.pointPadding}}function rPe(u,c,d,g,b){let D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(us(c)){let{bandPaddingInner:M,barBandPaddingInner:Q,rectBandPaddingInner:se,bandWithNestedOffsetPaddingInner:We}=b;return D?We:Re(M,d==="bar"?Q:se)}else if(Wi(c)&&g===il.BAND)return b.offsetBandPaddingInner}}function iPe(u,c,d,g,b){let D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(us(c)){let{bandPaddingOuter:M,bandWithNestedOffsetPaddingOuter:Q}=b;if(D)return Q;if(d===il.BAND)return Re(M,$n(g)?{signal:`${g.signal}/2`}:g/2)}else if(Wi(c)){if(d===il.POINT)return .5;if(d===il.BAND)return b.offsetBandPaddingOuter}}}function sPe(u,c,d,g){if(d==="x"&&g.xReverse!==void 0)return wt(u)&&c==="descending"?$n(g.xReverse)?{signal:`!${g.xReverse.signal}`}:!g.xReverse:g.xReverse;if(wt(u)&&c==="descending")return!0}function oPe(u,c,d,g,b,D,M){if(!!d&&d!=="unaggregated"&&wt(b)){if(e.isArray(d)){let se=d[0],We=d[d.length-1];if(se<=0&&We>=0)return!0}return!1}if(u==="size"&&c.type==="quantitative"&&!ur(b))return!0;if(!(Er(c)&&c.bin)&&Ct([...ro,...fo],u)){let{orient:se,type:We}=g;return Ct(["bar","area","line","trail"],We)&&(se==="horizontal"&&u==="y"||se==="vertical"&&u==="x")?!1:Ct(["bar","area"],We)&&!M?!0:D==null?void 0:D.zero}return!1}function aPe(u,c,d,g){let b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,D=uPe(c,d,g,b),{type:M}=u;return Ii(c)?M!==void 0?gp(c,M)?Er(d)&&!wl(M,d.type)?(jr(hr(M,D)),D):M:(jr(sr(c,M,D)),D):D:null}function uPe(u,c,d,g){switch(c.type){case"nominal":case"ordinal":{var b;if(w(u)||qa(u)==="discrete")return u==="shape"&&c.type==="ordinal"&&jr(_l(u,"ordinal")),"ordinal";if(us(u)||Wi(u)){if(Ct(["rect","bar","image","rule"],d.type)||g)return"band"}else if(d.type==="arc"&&u in io)return"band";let D=d[ts(u)];return x(D)||Zy(c)&&(b=c.axis)!==null&&b!==void 0&&b.tickBand?"band":"point"}case"temporal":return w(u)?"time":qa(u)==="discrete"?(jr(_l(u,"temporal")),"ordinal"):Er(c)&&c.timeUnit&&pu(c.timeUnit).utc?"utc":"time";case"quantitative":return w(u)?Er(c)&&mr(c.bin)?"bin-ordinal":"linear":qa(u)==="discrete"?(jr(_l(u,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(kc(c.type))}function lPe(u){let{ignoreRange:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pfe(u),Xce(u);for(let d of Mh)cfe(u,d);c||dfe(u)}function pfe(u){hc(u)?u.component.scales=cPe(u):u.component.scales=dPe(u)}function cPe(u){let{encoding:c,mark:d,markDef:g}=u,b={};for(let D of vs){let M=xu(c[D]);if(M&&d===W1&&D===ne&&M.type===Ru)continue;let Q=M&&M.scale;if(Wi(D)){let se=xl(D);if(!x9(c,se)){Q&&jr(sf(D));continue}}if(M&&Q!==null&&Q!==!1){Q??={};let se=x9(c,D),We=aPe(Q,D,M,g,se);b[D]=new nfe(u.scaleName(`${D}`,!0),{value:We,explicit:Q.type===We})}}return b}let fPe=fL((u,c)=>xp(u)-xp(c));function dPe(u){let c=u.component.scales={},d={},g=u.component.resolve;for(let b of u.children){pfe(b);for(let D of re(b.component.scales))if(g.scale[D]??=Lce(D,u),g.scale[D]==="shared"){let M=d[D],Q=b.component.scales[D].getWithExplicit("type");M?$d(M.value,Q.value)?d[D]=r2(M,Q,"type","scale",fPe):(g.scale[D]="independent",delete d[D]):d[D]=Q}}for(let b of re(d)){let D=u.scaleName(b,!0),M=d[b];c[b]=new nfe(D,M);for(let Q of u.children){let se=Q.component.scales[b];se&&(Q.renameScale(se.get("name"),D),se.merged=!0)}}return c}class yG{constructor(){bn(this,"nameMap",void 0),this.nameMap={}}rename(c,d){this.nameMap[c]=d}has(c){return this.nameMap[c]!==void 0}get(c){for(;this.nameMap[c]&&c!==this.nameMap[c];)c=this.nameMap[c];return c}}function hc(u){return(u==null?void 0:u.type)==="unit"}function tm(u){return(u==null?void 0:u.type)==="facet"}function vG(u){return(u==null?void 0:u.type)==="concat"}function $E(u){return(u==null?void 0:u.type)==="layer"}class _G{constructor(c,d,g,b,D,M,Q){this.type=d,this.parent=g,this.config=D,bn(this,"name",void 0),bn(this,"size",void 0),bn(this,"title",void 0),bn(this,"description",void 0),bn(this,"data",void 0),bn(this,"transforms",void 0),bn(this,"layout",void 0),bn(this,"scaleNameMap",void 0),bn(this,"projectionNameMap",void 0),bn(this,"signalNameMap",void 0),bn(this,"component",void 0),bn(this,"view",void 0),bn(this,"children",void 0),bn(this,"correctDataNames",se=>{var We,Xe,qt;return(We=se.from)!==null&&We!==void 0&&We.data&&(se.from.data=this.lookupDataSource(se.from.data)),(Xe=se.from)!==null&&Xe!==void 0&&(qt=Xe.facet)!==null&&qt!==void 0&&qt.data&&(se.from.facet.data=this.lookupDataSource(se.from.facet.data)),se}),this.parent=g,this.config=D,this.view=pn(Q),this.name=c.name??b,this.title=Kn(c.title)?{text:c.title}:c.title?pn(c.title):void 0,this.scaleNameMap=g?g.scaleNameMap:new yG,this.projectionNameMap=g?g.projectionNameMap:new yG,this.signalNameMap=g?g.signalNameMap:new yG,this.data=c.data,this.description=c.description,this.transforms=xQ(c.transform??[]),this.layout=d==="layer"||d==="unit"?{}:zW(c,d,D),this.component={data:{sources:g?g.component.data.sources:[],outputNodes:g?g.component.data.outputNodes:{},outputNodeRefCounts:g?g.component.data.outputNodeRefCounts:{},isFaceted:vp(c)||(g==null?void 0:g.component.data.isFaceted)&&c.data===void 0},layoutSize:new wp,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...M?ye(M):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){lPe(this)}parseProjection(){Wce(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Uce(this)}assembleEncodeFromView(c){let{style:d,...g}=c,b={};for(let D of re(g)){let M=g[D];M!==void 0&&(b[D]=qr(M))}return b}assembleGroupEncodeEntry(c){let d={};return this.view&&(d=this.assembleEncodeFromView(this.view)),!c&&(this.description&&(d.description=qr(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...d??{}}:Ie(d)?void 0:d}assembleLayout(){if(!this.layout)return;let{spacing:c,...d}=this.layout,{component:g,config:b}=this,D=ud(g.layoutHeaders,b);return{padding:c,...this.assembleDefaultLayout(),...d,...D?{titleBand:D}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){let{layoutHeaders:c}=this.component,d=[];for(let g of ee)c[g].title&&d.push(wi(this,g));for(let g of Tr)d=d.concat(mo(this,g));return d}assembleAxes(){return JQ(this.component.axes,this.config)}assembleLegends(){return zce(this)}assembleProjections(){return rMe(this)}assembleTitle(){let{encoding:c,...d}=this.title??{},g={...Ln(this.config.title).nonMarkTitleProperties,...d,...c?{encode:{update:c}}:{}};if(g.text)return Ct(["unit","layer"],this.type)?Ct(["middle",void 0],g.anchor)&&(g.frame??="group"):g.anchor??="start",Ie(g)?void 0:g}assembleGroup(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d={};c=c.concat(this.assembleSignals()),c.length>0&&(d.signals=c);let g=this.assembleLayout();g&&(d.layout=g),d.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());let b=!this.parent||tm(this.parent)?efe(this):[];b.length>0&&(d.scales=b);let D=this.assembleAxes();D.length>0&&(d.axes=D);let M=this.assembleLegends();return M.length>0&&(d.legends=M),d}getName(c){return Lt((this.name?`${this.name}_`:"")+c)}getDataName(c){return this.getName(Pa[c].toLowerCase())}requestDataName(c){let d=this.getDataName(c),g=this.component.data.outputNodeRefCounts;return g[d]=(g[d]||0)+1,d}getSizeSignalRef(c){if(tm(this.parent)){let d=Rce(c),g=hi(d),b=this.component.scales[g];if(b&&!b.merged){let D=b.get("type"),M=b.get("range");if(Be(D)&&br(M)){let Q=b.get("name"),se=WL(this,g),We=gG(se);if(We){let Xe=fi({aggregate:"distinct",field:We},{expr:"datum"});return{signal:Oce(Q,b,Xe)}}else return jr(vr(g)),null}}}return{signal:this.signalNameMap.get(this.getName(c))}}lookupDataSource(c){let d=this.component.data.outputNodes[c];return d?d.getSource():c}getSignalName(c){return this.signalNameMap.get(c)}renameSignal(c,d){this.signalNameMap.rename(c,d)}renameScale(c,d){this.scaleNameMap.rename(c,d)}renameProjection(c,d){this.projectionNameMap.rename(c,d)}scaleName(c,d){if(d)return this.getName(c);if(yr(c)&&Ii(c)&&this.component.scales[c]||this.scaleNameMap.has(this.getName(c)))return this.scaleNameMap.get(this.getName(c))}projectionName(c){if(c)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(c){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");let d=this.component.scales[c];return d&&!d.merged?d:this.parent?this.parent.getScaleComponent(c):void 0}getSelectionComponent(c,d){let g=this.component.selection[c];if(!g&&this.parent&&(g=this.parent.getSelectionComponent(c,d)),!g)throw new Error(so(d));return g}hasAxisOrientSignalRef(){var c,d;return((c=this.component.axes.x)===null||c===void 0?void 0:c.some(g=>g.hasOrientSignalRef()))||((d=this.component.axes.y)===null||d===void 0?void 0:d.some(g=>g.hasOrientSignalRef()))}}class mfe extends _G{vgField(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=this.fieldDef(c);if(!!g)return fi(g,d)}reduceFieldDef(c,d){return Yd(this.getMapping(),(g,b,D)=>{let M=Bh(b);return M?c(g,M,D):g},d)}forEachFieldDef(c,d){g9(this.getMapping(),(g,b)=>{let D=Bh(g);D&&c(D,b)},d)}}class QL extends ba{clone(){return new QL(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=ye(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"value",g[1]??"density"],d.groupby&&d.minsteps==null&&d.maxsteps==null&&d.steps==null&&(this.transform.steps=200)}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${ut(this.transform)}`}assemble(){let{density:c,...d}=this.transform;return{type:"kde",field:c,...d}}}class sA extends ba{clone(){return new sA(null,{...this.filter})}constructor(c,d){super(c);this.filter=d}static make(c,d){let{config:g,mark:b,markDef:D}=d;if(vi("invalid",D,g)!=="filter")return null;let Q=d.reduceFieldDef((se,We,Xe)=>{let qt=Ii(Xe)&&d.getScaleComponent(Xe);if(qt){let on=qt.get("type");wt(on)&&We.aggregate!=="count"&&!df(b)&&(se[We.field]=We)}return se},{});return re(Q).length?new sA(c,Q):null}dependentFields(){return new Set(re(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${ut(this.filter)}`}assemble(){let c=re(this.filter).reduce((d,g)=>{let b=this.filter[g],D=fi(b,{expr:"datum"});return b!==null&&(b.type==="temporal"?d.push(`(isDate(${D}) || (isValid(${D}) && isFinite(+${D})))`):b.type==="quantitative"&&(d.push(`isValid(${D})`),d.push(`isFinite(+${D})`))),d},[]);return c.length>0?{type:"filter",expr:c.join(" && ")}:null}}class GL extends ba{clone(){return new GL(this.parent,ye(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=ye(d);let{flatten:g,as:b=[]}=this.transform;this.transform.as=g.map((D,M)=>b[M]??D)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${ut(this.transform)}`}assemble(){let{flatten:c,as:d}=this.transform;return{type:"flatten",fields:c,as:d}}}class YL extends ba{clone(){return new YL(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=ye(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"key",g[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${ut(this.transform)}`}assemble(){let{fold:c,as:d}=this.transform;return{type:"fold",fields:c,as:d}}}class zE extends ba{clone(){return new zE(null,ye(this.fields),this.geojson,this.signal)}static parseAll(c,d){if(d.component.projection&&!d.component.projection.isFit)return c;let g=0;for(let b of[[ie,ft],[Ue,Te]]){let D=b.map(M=>{let Q=xu(d.encoding[M]);return Er(Q)?Q.field:Eo(Q)?{expr:`${Q.datum}`}:Gd(Q)?{expr:`${Q.value}`}:void 0});(D[0]||D[1])&&(c=new zE(c,D,null,d.getName(`geojson_${g++}`)))}if(d.channelHasField(ne)){let b=d.typedFieldDef(ne);b.type===Ru&&(c=new zE(c,null,b.field,d.getName(`geojson_${g++}`)))}return c}constructor(c,d,g,b){super(c);this.fields=d,this.geojson=g,this.signal=b}dependentFields(){let c=(this.fields??[]).filter(e.isString);return new Set([...this.geojson?[this.geojson]:[],...c])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${ut(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class oA extends ba{clone(){return new oA(null,this.projection,ye(this.fields),ye(this.as))}constructor(c,d,g,b){super(c);this.projection=d,this.fields=g,this.as=b}static parseAll(c,d){if(!d.projectionName())return c;for(let g of[[ie,ft],[Ue,Te]]){let b=g.map(M=>{let Q=xu(d.encoding[M]);return Er(Q)?Q.field:Eo(Q)?{expr:`${Q.datum}`}:Gd(Q)?{expr:`${Q.value}`}:void 0}),D=g[0]===Ue?"2":"";(b[0]||b[1])&&(c=new oA(c,d.projectionName(),b,[d.getName(`x${D}`),d.getName(`y${D}`)]))}return c}dependentFields(){return new Set(this.fields.filter(e.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${ut(this.fields)} ${ut(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class l_ extends ba{clone(){return new l_(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(c){let{start:d=0,stop:g,step:b}=c;return{signal:`sequence(${[d,g,...b?[b]:[]].join(",")})`}}static makeFromTransform(c,d){return new l_(c,d)}static makeFromEncoding(c,d){let g=d.encoding,b=g.x,D=g.y;if(Er(b)&&Er(D)){let M=b.impute?b:D.impute?D:void 0;if(M===void 0)return;let Q=b.impute?D:D.impute?b:void 0,{method:se,value:We,frame:Xe,keyvals:qt}=M.impute,on=FN(d.mark,g);return new l_(c,{impute:M.field,key:Q.field,...se?{method:se}:{},...We!==void 0?{value:We}:{},...Xe?{frame:Xe}:{},...qt!==void 0?{keyvals:qt}:{},...on.length?{groupby:on}:{}})}return null}hash(){return`Impute ${ut(this.transform)}`}assemble(){let{impute:c,key:d,keyvals:g,method:b,groupby:D,value:M,frame:Q=[null,null]}=this.transform,se={type:"impute",field:c,key:d,...g?{keyvals:y0(g)?this.processSequence(g):g}:{},method:"value",...D?{groupby:D}:{},value:!b||b==="value"?M:null};if(b&&b!=="value"){let We={type:"window",as:[`imputed_${c}_value`],ops:[b],fields:[c],frame:Q,ignorePeers:!1,...D?{groupby:D}:{}},Xe={type:"formula",expr:`datum.${c} === null ? datum.imputed_${c}_value : datum.${c}`,as:c};return[se,We,Xe]}else return[se]}}class KL extends ba{clone(){return new KL(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=ye(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??d.on,g[1]??d.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${ut(this.transform)}`}assemble(){let{loess:c,on:d,...g}=this.transform;return{type:"loess",x:d,y:c,...g}}}class aA extends ba{clone(){return new aA(null,ye(this.transform),this.secondary)}constructor(c,d,g){super(c);this.transform=d,this.secondary=g}static make(c,d,g,b){let D=d.component.data.sources,{from:M}=g,Q=null;if(oQ(M)){let se=vfe(M.data,D);se||(se=new o_(M.data),D.push(se));let We=d.getName(`lookup_${b}`);Q=new Pf(se,We,Pa.Lookup,d.component.data.outputNodeRefCounts),d.component.data.outputNodes[We]=Q}else if(n2(M)){let se=M.param;g={as:se,...g};let We;try{We=d.getSelectionComponent(Lt(se),se)}catch{throw new Error(tf(se))}if(Q=We.materialized,!Q)throw new Error(Nc(se))}return new aA(c,g,Q.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?e.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${ut({transform:this.transform,secondary:this.secondary})}`}assemble(){let c;if(this.transform.from.fields)c={values:this.transform.from.fields,...this.transform.as?{as:e.array(this.transform.as)}:{}};else{let d=this.transform.as;e.isString(d)||(jr(zl),d="_lookup"),c={as:[d]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...c,...this.transform.default?{default:this.transform.default}:{}}}}class JL extends ba{clone(){return new JL(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=ye(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"prob",g[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${ut(this.transform)}`}assemble(){let{quantile:c,...d}=this.transform;return{type:"quantile",field:c,...d}}}class XL extends ba{clone(){return new XL(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d,this.transform=ye(d);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??d.on,g[1]??d.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${ut(this.transform)}`}assemble(){let{regression:c,on:d,...g}=this.transform;return{type:"regression",x:d,y:c,...g}}}class ZL extends ba{clone(){return new ZL(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d}addDimensions(c){this.transform.groupby=St((this.transform.groupby??[]).concat(c),d=>d)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${ut(this.transform)}`}assemble(){let{pivot:c,value:d,groupby:g,limit:b,op:D}=this.transform;return{type:"pivot",field:c,value:d,...b!==void 0?{limit:b}:{},...D!==void 0?{op:D}:{},...g!==void 0?{groupby:g}:{}}}}class ek extends ba{clone(){return new ek(null,ye(this.transform))}constructor(c,d){super(c);this.transform=d}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${ut(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function xfe(u){let c=0;function d(g,b){if(g instanceof o_&&!g.isGenerator&&!X1(g.data)&&(u.push(b),b={name:null,source:b.name,transform:[]}),g instanceof b0&&(g.parent instanceof o_&&!b.source?(b.format={...b.format??{},parse:g.assembleFormatParse()},b.transform.push(...g.assembleTransforms(!0))):b.transform.push(...g.assembleTransforms())),g instanceof qE){b.name||(b.name=`data_${c++}`),!b.source||b.transform.length>0?(u.push(b),g.data=b.name):g.data=b.source,u.push(...g.assemble());return}switch((g instanceof rA||g instanceof iA||g instanceof sA||g instanceof d3||g instanceof Wt||g instanceof oA||g instanceof Z1||g instanceof aA||g instanceof UE||g instanceof u_||g instanceof YL||g instanceof GL||g instanceof QL||g instanceof KL||g instanceof JL||g instanceof XL||g instanceof h3||g instanceof ek||g instanceof ZL)&&b.transform.push(g.assemble()),(g instanceof u2||g instanceof Cp||g instanceof l_||g instanceof rg||g instanceof zE)&&b.transform.push(...g.assemble()),g instanceof Pf&&(b.source&&b.transform.length===0?g.setSource(b.source):g.parent instanceof Pf?g.setSource(b.name):(b.name||(b.name=`data_${c++}`),g.setSource(b.name),g.numChildren()===1&&(u.push(b),b={name:null,source:b.name,transform:[]}))),g.numChildren()){case 0:g instanceof Pf&&(!b.source||b.transform.length>0)&&u.push(b);break;case 1:d(g.children[0],b);break;default:{b.name||(b.name=`data_${c++}`);let D=b.name;!b.source||b.transform.length>0?u.push(b):D=b.source;for(let M of g.children)d(M,{name:null,source:D,transform:[]});break}}}return d}function hPe(u){let c=[],d=xfe(c);for(let g of u.children)d(g,{source:u.name,name:null,transform:[]});return c}function pPe(u,c){let d=[],g=xfe(d),b=0;for(let M of u.sources){M.hasName()||(M.dataName=`source_${b++}`);let Q=M.assemble();g(M,Q)}for(let M of d)M.transform.length===0&&delete M.transform;let D=0;for(let[M,Q]of d.entries())(Q.transform??[]).length===0&&!Q.source&&d.splice(D++,0,d.splice(M,1)[0]);for(let M of d)for(let Q of M.transform??[])Q.type==="lookup"&&(Q.from=u.outputNodes[Q.from].getSource());for(let M of d)M.name in c&&(M.values=c[M.name]);return d}function mPe(u){return u==="top"||u==="left"||$n(u)?"header":"footer"}function xPe(u){for(let c of ee)gPe(u,c);yfe(u,"x"),yfe(u,"y")}function gPe(u,c){let{facet:d,config:g,child:b,component:D}=u;if(u.channelHasField(c)){var M;let Q=d[c],se=Qn("title",null,g,c),We=t3(Q,g,{allowDisabling:!0,includeDefault:se===void 0||!!se});b.component.layoutHeaders[c].title&&(We=e.isArray(We)?We.join(", "):We,We+=` / ${b.component.layoutHeaders[c].title}`,b.component.layoutHeaders[c].title=null);let Xe=Qn("labelOrient",Q.header,g,c),qt=Q.header!==null?Re((M=Q.header)===null||M===void 0?void 0:M.labels,g.header.labels,!0):!1,on=Ct(["bottom","right"],Xe)?"footer":"header";D.layoutHeaders[c]={title:Q.header!==null?We:null,facetFieldDef:Q,[on]:c==="facet"?[]:[gfe(u,c,qt)]}}}function gfe(u,c,d){let g=c==="row"?"height":"width";return{labels:d,sizeSignal:u.child.component.layoutSize.get(g)?u.child.getSizeSignalRef(g):void 0,axes:[]}}function yfe(u,c){let{child:d}=u;if(d.component.axes[c]){let{layoutHeaders:g,resolve:b}=u.component;if(b.axis[c]=sG(b,c),b.axis[c]==="shared"){let D=c==="x"?"column":"row",M=g[D];for(let Q of d.component.axes[c]){let se=mPe(Q.get("orient"));M[se]??=[gfe(u,D,!1)];let We=s_(Q,"main",u.config,{header:!0});We&&M[se][0].axes.push(We),Q.mainExtracted=!0}}}}function yPe(u){bG(u),tk(u,"width"),tk(u,"height")}function vPe(u){bG(u);let c=u.layout.columns===1?"width":"childWidth",d=u.layout.columns===void 0?"height":"childHeight";tk(u,c),tk(u,d)}function bG(u){for(let c of u.children)c.parseLayoutSize()}function tk(u,c){let d=Rce(c),g=hi(d),b=u.component.resolve,D=u.component.layoutSize,M;for(let Q of u.children){let se=Q.component.layoutSize.getWithExplicit(d),We=b.scale[g]??Lce(g,u);if(We==="independent"&&se.value==="step"){M=void 0;break}if(M){if(We==="independent"&&M.value!==se.value){M=void 0;break}M=r2(M,se,d,"")}else M=se}if(M){for(let Q of u.children)u.renameSignal(Q.getName(d),u.getName(c)),Q.component.layoutSize.set(d,"merged",!1);D.setWithExplicit(c,M)}else D.setWithExplicit(c,{explicit:!1,value:void 0})}function _Pe(u){let{size:c,component:d}=u;for(let g of ro){let b=ts(g);if(c[b]){let D=c[b];d.layoutSize.set(b,Sp(D)?"step":D,!0)}else{let D=bPe(u,b);d.layoutSize.set(b,D,!1)}}}function bPe(u,c){let d=c==="width"?"x":"y",g=u.config,b=u.getScaleComponent(d);if(b){let D=b.get("type"),M=b.get("range");if(Be(D)){let Q=AE(g.view,c);return br(M)||Sp(Q)?"step":Q}else return O9(g.view,c)}else{if(u.hasProjection||u.mark==="arc")return O9(g.view,c);{let D=AE(g.view,c);return Sp(D)?D.step:D}}}function EG(u,c,d){return fi(c,{suffix:`by_${fi(u)}`,...d??{}})}class uA extends mfe{constructor(c,d,g,b){super(c,"facet",d,g,b,c.resolve);bn(this,"facet",void 0),bn(this,"child",void 0),bn(this,"children",void 0),this.child=TG(c.spec,this,this.getName("child"),void 0,b),this.children=[this.child],this.facet=this.initFacet(c.facet)}initFacet(c){if(!Wd(c))return{facet:this.initFacetFieldDef(c,"facet")};let d=re(c),g={};for(let b of d){if(![Fn,Wn].includes(b)){jr(vl(b,"facet"));break}let D=c[b];if(D.field===void 0){jr(Xo(D,b));break}g[b]=this.initFacetFieldDef(D,b)}return g}initFacetFieldDef(c,d){let g=n3(c,d);return g.header?g.header=pn(g.header):g.header===null&&(g.header=null),g}channelHasField(c){return!!this.facet[c]}fieldDef(c){return this.facet[c]}parseData(){this.component.data=nk(this),this.child.parseData()}parseLayoutSize(){bG(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),xPe(this)}assembleSelectionTopLevelSignals(c){return this.child.assembleSelectionTopLevelSignals(c)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(c){return this.child.assembleSelectionData(c)}getHeaderLayoutMixins(){let c={};for(let d of ee)for(let g of Pr){let b=this.component.layoutHeaders[d],D=b[g],{facetFieldDef:M}=b;if(M){let Q=Qn("titleOrient",M.header,this.config,d);if(["right","bottom"].includes(Q)){let se=On(d,Q);c.titleAnchor??={},c.titleAnchor[se]="end"}}if(D!=null&&D[0]){let Q=d==="row"?"height":"width",se=g==="header"?"headerBand":"footerBand";d!=="facet"&&!this.child.component.layoutSize.get(Q)&&(c[se]??={},c[se][d]=.5),b.title&&(c.offset??={},c.offset[d==="row"?"rowTitle":"columnTitle"]=10)}}return c}assembleDefaultLayout(){let{column:c,row:d}=this.facet,g=c?this.columnDistinctSignal():d?1:void 0,b="all";return(!d&&this.component.resolve.scale.x==="independent"||!c&&this.component.resolve.scale.y==="independent")&&(b="none"),{...this.getHeaderLayoutMixins(),...g?{columns:g}:{},bounds:"full",align:b}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof uA))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(c){return this.parent&&this.parent instanceof uA?{...this.channelHasField("column")?{encode:{update:{columns:{field:fi(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(c)}:super.assembleGroup(c)}getCardinalityAggregateForChild(){let c=[],d=[],g=[];if(this.child instanceof uA){if(this.child.channelHasField("column")){let b=fi(this.child.facet.column);c.push(b),d.push("distinct"),g.push(`distinct_${b}`)}}else for(let b of ro){let D=this.child.component.scales[b];if(D&&!D.merged){let M=D.get("type"),Q=D.get("range");if(Be(M)&&br(Q)){let se=WL(this.child,b),We=gG(se);We?(c.push(We),d.push("distinct"),g.push(`distinct_${We}`)):jr(vr(b))}}}return{fields:c,ops:d,as:g}}assembleFacet(){let{name:c,data:d}=this.component.data.facetRoot,{row:g,column:b}=this.facet,{fields:D,ops:M,as:Q}=this.getCardinalityAggregateForChild(),se=[];for(let Xe of ee){let qt=this.facet[Xe];if(qt){se.push(fi(qt));let{bin:on,sort:In}=qt;if(mr(on)&&se.push(fi(qt,{binSuffix:"end"})),_a(In)){let{field:Xn,op:lr=Tl}=In,pr=EG(qt,In);g&&b?(D.push(pr),M.push("max"),Q.push(pr)):(D.push(Xn),M.push(lr),Q.push(pr))}else if(e.isArray(In)){let Xn=_n(qt,Xe);D.push(Xn),M.push("max"),Q.push(Xn)}}}let We=!!g&&!!b;return{name:c,data:d,groupby:se,...We||D.length>0?{aggregate:{...We?{cross:We}:{},...D.length?{fields:D,ops:M,as:Q}:{}}}:{}}}facetSortFields(c){let{facet:d}=this,g=d[c];return g?_a(g.sort)?[EG(g,g.sort,{expr:"datum"})]:e.isArray(g.sort)?[_n(g,c,{expr:"datum"})]:[fi(g,{expr:"datum"})]:[]}facetSortOrder(c){let{facet:d}=this,g=d[c];if(g){let{sort:b}=g;return[(_a(b)?b.order:!e.isArray(b)&&b)||"ascending"]}return[]}assembleLabelTitle(){let{facet:c,config:d}=this;if(c.facet)return So(c.facet,"facet",d);let g={row:["top","bottom"],column:["left","right"]};for(let D of Tr)if(c[D]){var b;let M=Qn("labelOrient",(b=c[D])===null||b===void 0?void 0:b.header,d,D);if(g[D].includes(M))return So(c[D],D,d)}}assembleMarks(){let{child:c}=this,d=this.component.data.facetRoot,g=hPe(d),b=c.assembleGroupEncodeEntry(!1),D=this.assembleLabelTitle()||c.assembleTitle(),M=c.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...D?{title:D}:{},...M?{style:M}:{},from:{facet:this.assembleFacet()},sort:{field:ee.map(se=>this.facetSortFields(se)).flat(),order:ee.map(se=>this.facetSortOrder(se)).flat()},...g.length>0?{data:g}:{},...b?{encode:{update:b}}:{},...c.assembleGroup(SQ(this,[]))}]}getMapping(){return this.facet}}function EPe(u,c){let{row:d,column:g}=c;if(d&&g){let b=null;for(let D of[d,g])if(_a(D.sort)){let{field:M,op:Q=Tl}=D.sort;u=b=new u_(u,{joinaggregate:[{op:Q,field:M,as:EG(D,D.sort,{forAs:!0})}],groupby:[fi(D)]})}return b}return null}function vfe(u,c){for(let M of c){var d,g,b,D;let Q=M.data;if(u.name&&M.hasName()&&u.name!==M.dataName)continue;let se=(d=u.format)===null||d===void 0?void 0:d.mesh,We=(g=Q.format)===null||g===void 0?void 0:g.feature;if(se&&We)continue;let Xe=(b=u.format)===null||b===void 0?void 0:b.feature;if((Xe||We)&&Xe!==We)continue;let qt=(D=Q.format)===null||D===void 0?void 0:D.mesh;if(!((se||qt)&&se!==qt)){if(Z4(u)&&Z4(Q)){if(Ze(u.values,Q.values))return M}else if(X1(u)&&X1(Q)){if(u.url===Q.url)return M}else if(hL(u)&&u.name===M.dataName)return M}}return null}function SPe(u,c){if(u.data||!u.parent){if(u.data===null){let g=new o_({values:[]});return c.push(g),g}let d=vfe(u.data,c);if(d)return i2(u.data)||(d.data.format=Ot({},u.data.format,d.data.format)),!d.hasName()&&u.data.name&&(d.dataName=u.data.name),d;{let g=new o_(u.data);return c.push(g),g}}else return u.parent.component.data.facetRoot?u.parent.component.data.facetRoot:u.parent.component.data.main}function wPe(u,c,d){let g=0;for(let b of c.transforms){let D,M;if(OE(b))M=u=new Wt(u,b),D="derived";else if(M9(b)){let Q=xMe(b);M=u=b0.makeWithAncestors(u,{},Q,d)??u,u=new d3(u,c,b.filter)}else if(eu(b))M=u=u2.makeFromTransform(u,b,c),D="number";else if(aL(b))D="date",d.getWithExplicit(b.field).value===void 0&&(u=new b0(u,{[b.field]:D}),d.set(b.field,D,!1)),M=u=Cp.makeFromTransform(u,b);else if(hQ(b))M=u=Z1.makeFromTransform(u,b),D="number",J9(c)&&(u=new h3(u));else if(Iu(b))M=u=aA.make(u,c,b,g++),D="derived";else if(dQ(b))M=u=new UE(u,b),D="number";else if(K1(b))M=u=new u_(u,b),D="number";else if(pQ(b))M=u=rg.makeFromTransform(u,b),D="derived";else if(mQ(b))M=u=new YL(u,b),D="derived";else if(oL(b))M=u=new GL(u,b),D="derived";else if(aQ(b))M=u=new ZL(u,b),D="derived";else if(P9(b))u=new ek(u,b);else if(Mu(b))M=u=l_.makeFromTransform(u,b),D="derived";else if(uQ(b))M=u=new QL(u,b),D="derived";else if(lQ(b))M=u=new JL(u,b),D="derived";else if(cQ(b))M=u=new XL(u,b),D="derived";else if(fQ(b))M=u=new KL(u,b),D="derived";else{jr(sc(b));continue}if(M&&D!==void 0)for(let Q of M.producedFields()??[])d.set(Q,D,!1)}return u}function nk(u){var c;let d=SPe(u,u.component.data.sources),{outputNodes:g,outputNodeRefCounts:b}=u.component.data,D=u.data,Q=!(D&&(i2(D)||X1(D)||Z4(D)))&&u.parent?u.parent.component.data.ancestorParse.clone():new dL;i2(D)?(pL(D)?d=new iA(d,D.sequence):U9(D)&&(d=new rA(d,D.graticule)),Q.parseNothing=!0):(D==null||(c=D.format)===null||c===void 0?void 0:c.parse)===null&&(Q.parseNothing=!0),d=b0.makeExplicit(d,u,Q)??d,d=new h3(d);let se=u.parent&&$E(u.parent);(hc(u)||tm(u))&&se&&(d=u2.makeFromEncoding(d,u)??d),u.transforms.length>0&&(d=wPe(d,u,Q));let We=yMe(u),Xe=gMe(u);d=b0.makeWithAncestors(d,{},{...We,...Xe},Q)??d,hc(u)&&(d=zE.parseAll(d,u),d=oA.parseAll(d,u)),(hc(u)||tm(u))&&(se||(d=u2.makeFromEncoding(d,u)??d),d=Cp.makeFromEncoding(d,u)??d,d=Wt.parseAllForSortIndex(d,u));let qt=u.getDataName(Pa.Raw),on=new Pf(d,qt,Pa.Raw,b);if(g[qt]=on,d=on,hc(u)){let pr=Z1.makeFromEncoding(d,u);pr&&(d=pr,J9(u)&&(d=new h3(d))),d=l_.makeFromEncoding(d,u)??d,d=rg.makeFromEncoding(d,u)??d}hc(u)&&(d=sA.make(d,u)??d);let In=u.getDataName(Pa.Main),Xn=new Pf(d,In,Pa.Main,b);g[In]=Xn,d=Xn,hc(u)&&YQ(u,Xn);let lr=null;if(tm(u)){let pr=u.getName("facet");d=EPe(d,u.facet)??d,lr=new qE(d,u,pr,Xn.getSource()),g[pr]=lr}return{...u.component.data,outputNodes:g,outputNodeRefCounts:b,raw:on,main:Xn,facetRoot:lr,ancestorParse:Q}}class CPe extends _G{constructor(c,d,g,b){var D,M,Q,se;super(c,"concat",d,g,b,c.resolve);bn(this,"children",void 0),(((D=c.resolve)===null||D===void 0||(M=D.axis)===null||M===void 0?void 0:M.x)==="shared"||((Q=c.resolve)===null||Q===void 0||(se=Q.axis)===null||se===void 0?void 0:se.y)==="shared")&&jr(a0),this.children=this.getChildren(c).map((We,Xe)=>TG(We,this,this.getName(`concat_${Xe}`),void 0,b))}parseData(){this.component.data=nk(this);for(let c of this.children)c.parseData()}parseSelections(){this.component.selection={};for(let c of this.children){c.parseSelections();for(let d of re(c.component.selection))this.component.selection[d]=c.component.selection[d]}}parseMarkGroup(){for(let c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){for(let c of this.children)c.parseAxesAndHeaders()}getChildren(c){return wE(c)?c.vconcat:D9(c)?c.hconcat:c.concat}parseLayoutSize(){vPe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(c){return this.children.reduce((d,g)=>g.assembleSelectionTopLevelSignals(d),c)}assembleSignals(){return this.children.forEach(c=>c.assembleSignals()),[]}assembleLayoutSignals(){let c=ld(this);for(let d of this.children)c.push(...d.assembleLayoutSignals());return c}assembleSelectionData(c){return this.children.reduce((d,g)=>g.assembleSelectionData(d),c)}assembleMarks(){return this.children.map(c=>{let d=c.assembleTitle(),g=c.assembleGroupStyle(),b=c.assembleGroupEncodeEntry(!1);return{type:"group",name:c.getName("group"),...d?{title:d}:{},...g?{style:g}:{},...b?{encode:{update:b}}:{},...c.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){let c=this.layout.columns;return{...c!=null?{columns:c}:{},bounds:"full",align:"each"}}}function APe(u){return u===!1||u===null}let TPe={disable:1,gridScale:1,scale:1,...wN,labelExpr:1,encode:1},_fe=re(TPe);class SG extends wp{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super();this.explicit=c,this.implicit=d,this.mainExtracted=g}clone(){return new SG(ye(this.explicit),ye(this.implicit),this.mainExtracted)}hasAxisPart(c){return c==="axis"?!0:c==="grid"||c==="title"?!!this.get(c):!APe(this.get(c))}hasOrientSignalRef(){return $n(this.explicit.orient)}}function FPe(u,c,d){let{encoding:g,config:b}=u,D=xu(g[c])??xu(g[Ss(c)]),M=u.axis(c)||{},{format:Q,formatType:se}=M;if(bi(se))return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:Q,formatType:se,config:b}),...d};if(Q===void 0&&se===void 0&&b.customFormatTypes){if(ol(D)==="quantitative"){if(Zy(D)&&D.stack==="normalize"&&b.normalizedNumberFormatType)return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:b.normalizedNumberFormat,formatType:b.normalizedNumberFormatType,config:b}),...d};if(b.numberFormatType)return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:b.numberFormat,formatType:b.numberFormatType,config:b}),...d}}if(ol(D)==="temporal"&&b.timeFormatType&&Er(D)&&!D.timeUnit)return{text:gs({fieldOrDatumDef:D,field:"datum.value",format:b.timeFormat,formatType:b.timeFormatType,config:b}),...d}}return d}function DPe(u){return ro.reduce((c,d)=>(u.component.scales[d]&&(c[d]=[MPe(d,u)]),c),{})}let OPe={bottom:"top",top:"bottom",left:"right",right:"left"};function RPe(u){let{axes:c,resolve:d}=u.component,g={top:0,bottom:0,right:0,left:0};for(let b of u.children){b.parseAxesAndHeaders();for(let D of re(b.component.axes))d.axis[D]=sG(u.component.resolve,D),d.axis[D]==="shared"&&(c[D]=NPe(c[D],b.component.axes[D]),c[D]||(d.axis[D]="independent",delete c[D]))}for(let b of ro){for(let D of u.children)if(!!D.component.axes[b]){if(d.axis[b]==="independent"){c[b]=(c[b]??[]).concat(D.component.axes[b]);for(let M of D.component.axes[b]){let{value:Q,explicit:se}=M.getWithExplicit("orient");if(!$n(Q)){if(g[Q]>0&&!se){let We=OPe[Q];g[Q]>g[We]&&M.set("orient",We,!1)}g[Q]++}}}delete D.component.axes[b]}if(d.axis[b]==="independent"&&c[b]&&c[b].length>1)for(let D of c[b])!!D.get("grid")&&!D.explicit.grid&&(D.implicit.grid=!1)}}function NPe(u,c){if(u){if(u.length!==c.length)return;let d=u.length;for(let g=0;g<d;g++){let b=u[g],D=c[g];if(!!b!=!!D)return;if(b&&D){let M=b.getWithExplicit("orient"),Q=D.getWithExplicit("orient");if(M.explicit&&Q.explicit&&M.value!==Q.value)return;u[g]=LPe(b,D)}}}else return c.map(d=>d.clone());return u}function LPe(u,c){for(let d of _fe){let g=r2(u.getWithExplicit(d),c.getWithExplicit(d),d,"axis",(b,D)=>{switch(d){case"title":return Jn(b,D);case"gridScale":return{explicit:b.explicit,value:Re(b.value,D.value)}}return Wo(b,D,d,"axis")});u.setWithExplicit(d,g)}return u}function kPe(u,c,d,g,b){if(c==="disable")return d!==void 0;switch(d=d||{},c){case"titleAngle":case"labelAngle":return u===($n(d.labelAngle)?d.labelAngle:nn(d.labelAngle));case"values":return!!d.values;case"encode":return!!d.encoding||!!d.labelAngle;case"title":if(u===U(g,b))return!0}return u===d[c]}let IPe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function MPe(u,c){var d,g,b,D;let M=c.axis(u),Q=new SG,se=xu(c.encoding[u]),{mark:We,config:Xe}=c,qt=((d=M)===null||d===void 0?void 0:d.orient)||((g=Xe[u==="x"?"axisX":"axisY"])===null||g===void 0?void 0:g.orient)||((b=Xe.axis)===null||b===void 0?void 0:b.orient)||h(u),on=c.getScaleComponent(u).get("type"),In=XQ(u,on,qt,c.config),Xn=M!==void 0?!M:eA("disable",Xe.style,(D=M)===null||D===void 0?void 0:D.style,In).configValue;if(Q.set("disable",Xn,M!==void 0),Xn)return Q;M=M||{};let lr=nG(se,M,u,Xe.style,In),pr={fieldOrDatumDef:se,axis:M,channel:u,model:c,scaleType:on,orient:qt,labelAngle:lr,mark:We,config:Xe};for(let Ui of _fe){let Os=Ui in UL?UL[Ui](pr):CN(Ui)?M[Ui]:void 0,ji=Os!==void 0,na=kPe(Os,Ui,M,c,u);if(ji&&na)Q.set(Ui,Os,na);else{let{configValue:as=void 0,configFrom:ul=void 0}=CN(Ui)&&Ui!=="values"?eA(Ui,Xe.style,M.style,In):{},Fl=as!==void 0;ji&&!Fl?Q.set(Ui,Os,na):(ul!=="vgAxisConfig"||IPe.has(Ui)&&Fl||V4(as)||$n(as))&&Q.set(Ui,as,!1)}}let kr=M.encoding??{},Ni=SN.reduce((Ui,Os)=>{if(!Q.hasAxisPart(Os))return Ui;let ji=Nce(kr[Os]??{},c),na=Os==="labels"?FPe(c,u,ji):ji;return na!==void 0&&!Ie(na)&&(Ui[Os]={update:na}),Ui},{});return Ie(Ni)||Q.set("encode",Ni,!!M.encoding||M.labelAngle!==void 0),Q}function PPe(u){let{encoding:c,size:d}=u;for(let g of ro){let b=ts(g);Sp(d[b])&&fc(c[g])&&(delete d[b],jr(rt(b)))}return d}function BPe(u,c,d){let g=pn(u),b=vi("orient",g,d);if(g.orient=$Pe(g.type,c,b),b!==void 0&&b!==g.orient&&jr(k(g.orient,b)),g.type==="bar"&&g.orient){let Q=vi("cornerRadiusEnd",g,d);if(Q!==void 0){let se=g.orient==="horizontal"&&c.x2||g.orient==="vertical"&&c.y2?["cornerRadius"]:T[g.orient];for(let We of se)g[We]=Q;g.cornerRadiusEnd!==void 0&&delete g.cornerRadiusEnd}}return vi("opacity",g,d)===void 0&&(g.opacity=qPe(g.type,c)),vi("cursor",g,d)===void 0&&(g.cursor=jPe(g,c,d)),g}function jPe(u,c,d){return c.href||u.href||vi("href",u,d)?"pointer":u.cursor}function qPe(u,c){if(Ct([Ph,kf,yp,Hd],u)&&!yE(c))return .7}function UPe(u,c,d){let{graticule:g}=d;if(g)return!1;let b=Ps("filled",u,c),D=u.type;return Re(b,D!==Ph&&D!==zd&&D!==Lf)}function $Pe(u,c,d){switch(u){case Ph:case yp:case Hd:case Al:case Ky:case Yy:return}let{x:g,y:b,x2:D,y2:M}=c;switch(u){case Cl:if(Er(g)&&(is(g.bin)||Er(b)&&b.aggregate&&!g.aggregate))return"vertical";if(Er(b)&&(is(b.bin)||Er(g)&&g.aggregate&&!b.aggregate))return"horizontal";if(M||D){if(d)return d;if(!D)return(Er(g)&&g.type===h0&&!mr(g.bin)||Xy(g))&&Er(b)&&is(b.bin)?"horizontal":"vertical";if(!M)return(Er(b)&&b.type===h0&&!mr(b.bin)||Xy(b))&&Er(g)&&is(g.bin)?"vertical":"horizontal"}case Lf:if(D&&!(Er(g)&&is(g.bin))&&M&&!(Er(b)&&is(b.bin)))return;case H1:if(M)return Er(b)&&is(b.bin)?"horizontal":"vertical";if(D)return Er(g)&&is(g.bin)?"vertical":"horizontal";if(u===Lf){if(g&&!b)return"vertical";if(b&&!g)return"horizontal"}case zd:case kf:{let Q=fc(g),se=fc(b);if(d)return d;if(Q&&!se)return u!=="tick"?"horizontal":"vertical";if(!Q&&se)return u!=="tick"?"vertical":"horizontal";if(Q&&se){let We=g,Xe=b,qt=We.type===ff,on=Xe.type===ff;return qt&&!on?u!=="tick"?"vertical":"horizontal":!qt&&on?u!=="tick"?"horizontal":"vertical":!We.aggregate&&Xe.aggregate?u!=="tick"?"vertical":"horizontal":We.aggregate&&!Xe.aggregate&&u!=="tick"?"horizontal":"vertical"}else return}}return"vertical"}let zPe={vgMark:"arc",encodeEntry:u=>({...Jd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...jc("x",u,{defaultPos:"mid"}),...jc("y",u,{defaultPos:"mid"}),...o2(u,"radius"),...o2(u,"theta")})},HPe={vgMark:"area",encodeEntry:u=>({...Jd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...NE("x",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="horizontal"}),...NE("y",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="vertical"}),...Q9(u)})},VPe={vgMark:"rect",encodeEntry:u=>({...Jd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...o2(u,"x"),...o2(u,"y")})},WPe={vgMark:"shape",encodeEntry:u=>({...Jd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:u=>{let{encoding:c}=u,d=c.shape;return[{type:"geoshape",projection:u.projectionName(),...d&&Er(d)&&d.type===Ru?{field:fi(d,{expr:"datum"})}:{}}]}},QPe={vgMark:"image",encodeEntry:u=>({...Jd(u,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...o2(u,"x"),...o2(u,"y"),...RE(u,"url")})},GPe={vgMark:"line",encodeEntry:u=>({...Jd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...jc("x",u,{defaultPos:"mid"}),...jc("y",u,{defaultPos:"mid"}),...dc("size",u,{vgChannel:"strokeWidth"}),...Q9(u)})},YPe={vgMark:"trail",encodeEntry:u=>({...Jd(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...jc("x",u,{defaultPos:"mid"}),...jc("y",u,{defaultPos:"mid"}),...dc("size",u),...Q9(u)})};function wG(u,c){let{config:d}=u;return{...Jd(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...jc("x",u,{defaultPos:"mid"}),...jc("y",u,{defaultPos:"mid"}),...dc("size",u),...dc("angle",u),...KPe(u,d,c)}}function KPe(u,c,d){return d?{shape:{value:d}}:dc("shape",u)}let JPe={vgMark:"symbol",encodeEntry:u=>wG(u)},XPe={vgMark:"symbol",encodeEntry:u=>wG(u,"circle")},ZPe={vgMark:"symbol",encodeEntry:u=>wG(u,"square")},eBe={vgMark:"rect",encodeEntry:u=>({...Jd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...o2(u,"x"),...o2(u,"y")})},tBe={vgMark:"rule",encodeEntry:u=>{let{markDef:c}=u,d=c.orient;return!u.encoding.x&&!u.encoding.y&&!u.encoding.latitude&&!u.encoding.longitude?{}:{...Jd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...NE("x",u,{defaultPos:d==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:d!=="vertical"}),...NE("y",u,{defaultPos:d==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:d!=="horizontal"}),...dc("size",u,{vgChannel:"strokeWidth"})}}},nBe={vgMark:"text",encodeEntry:u=>{let{config:c,encoding:d}=u;return{...Jd(u,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...jc("x",u,{defaultPos:"mid"}),...jc("y",u,{defaultPos:"mid"}),...RE(u),...dc("size",u,{vgChannel:"fontSize"}),...dc("angle",u),...FL("align",rBe(u.markDef,d,c)),...FL("baseline",iBe(u.markDef,d,c)),...jc("radius",u,{defaultPos:null}),...jc("theta",u,{defaultPos:null})}}};function rBe(u,c,d){if(vi("align",u,d)===void 0)return"center"}function iBe(u,c,d){if(vi("baseline",u,d)===void 0)return"middle"}let sBe={vgMark:"rect",encodeEntry:u=>{let{config:c,markDef:d}=u,g=d.orient,b=g==="horizontal"?"width":"height",D=g==="horizontal"?"height":"width";return{...Jd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...jc("x",u,{defaultPos:"mid",vgChannel:"xc"}),...jc("y",u,{defaultPos:"mid",vgChannel:"yc"}),...dc("size",u,{defaultValue:oBe(u),vgChannel:b}),[D]:qr(vi("thickness",d,c))}}};function oBe(u){let{config:c,markDef:d}=u,{orient:g}=d,b=g==="horizontal"?"width":"height",D=u.getScaleComponent(g==="horizontal"?"x":"y"),M=vi("size",d,c,{vgChannel:b})??c.tick.bandSize;if(M!==void 0)return M;{let Q=D?D.get("range"):void 0;return Q&&br(Q)&&e.isNumber(Q.step)?Q.step*3/4:CE(c.view,b)*3/4}}let rk={arc:zPe,area:HPe,bar:VPe,circle:XPe,geoshape:WPe,image:QPe,line:GPe,point:JPe,rect:eBe,rule:tBe,square:ZPe,text:nBe,tick:sBe,trail:YPe};function aBe(u){if(Ct([zd,H1,V1],u.mark)){let c=FN(u.mark,u.encoding);if(c.length>0)return uBe(u,c)}else if(u.mark===Cl){let c=di.some(d=>vi(d,u.markDef,u.config));if(u.stack&&!u.fieldDef("size")&&c)return lBe(u)}return CG(u)}let bfe="faceted_path_";function uBe(u,c){return[{name:u.getName("pathgroup"),type:"group",from:{facet:{name:bfe+u.requestDataName(Pa.Main),data:u.requestDataName(Pa.Main),groupby:c}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:CG(u,{fromPrefix:bfe})}]}let Efe="stack_group_";function lBe(u){var c;let[d]=CG(u,{fromPrefix:Efe}),g=u.scaleName(u.stack.fieldChannel),b=function(){let Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return u.vgField(u.stack.fieldChannel,Xe)},D=(Xe,qt)=>{let on=[b({prefix:"min",suffix:"start",expr:qt}),b({prefix:"max",suffix:"start",expr:qt}),b({prefix:"min",suffix:"end",expr:qt}),b({prefix:"max",suffix:"end",expr:qt})];return`${Xe}(${on.map(In=>`scale('${g}',${In})`).join(",")})`},M,Q;u.stack.fieldChannel==="x"?(M={...Ce(d.encode.update,["y","yc","y2","height",...di]),x:{signal:D("min","datum")},x2:{signal:D("max","datum")},clip:{value:!0}},Q={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},d.encode.update={...pe(d.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(M={...Ce(d.encode.update,["x","xc","x2","width"]),y:{signal:D("min","datum")},y2:{signal:D("max","datum")},clip:{value:!0}},Q={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},d.encode.update={...pe(d.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(let Xe of di){let qt=Ps(Xe,u.markDef,u.config);d.encode.update[Xe]?(M[Xe]=d.encode.update[Xe],delete d.encode.update[Xe]):qt&&(M[Xe]=qr(qt)),qt&&(d.encode.update[Xe]={value:0})}let se=[];if(((c=u.stack.groupbyChannels)===null||c===void 0?void 0:c.length)>0)for(let Xe of u.stack.groupbyChannels){let qt=u.fieldDef(Xe),on=fi(qt);on&&se.push(on),(qt!=null&&qt.bin||qt!=null&&qt.timeUnit)&&se.push(fi(qt,{binSuffix:"end"}))}return M=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((Xe,qt)=>{if(d.encode.update[qt])return{...Xe,[qt]:d.encode.update[qt]};{let on=Ps(qt,u.markDef,u.config);return on!==void 0?{...Xe,[qt]:qr(on)}:Xe}},M),M.stroke&&(M.strokeForeground={value:!0},M.strokeOffset={value:0}),[{type:"group",from:{facet:{data:u.requestDataName(Pa.Main),name:Efe+u.requestDataName(Pa.Main),groupby:se,aggregate:{fields:[b({suffix:"start"}),b({suffix:"start"}),b({suffix:"end"}),b({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:M},marks:[{type:"group",encode:{update:Q},marks:[d]}]}]}function cBe(u){let{encoding:c,stack:d,mark:g,markDef:b,config:D}=u,M=c.order;if(!(!e.isArray(M)&&Gd(M)&&Ht(M.value)||!M&&Ht(vi("order",b,D)))){if((e.isArray(M)||Er(M))&&!d)return Ro(M,{expr:"datum"});if(df(g)){let se=b.orient==="horizontal"?"y":"x",We=c[se];if(Er(We)){let Xe=We.sort;if(e.isArray(Xe))return{field:fi(We,{prefix:se,suffix:"sort_index",expr:"datum"})};if(_a(Xe))return{field:fi({aggregate:yE(u.encoding)?Xe.op:void 0,field:Xe.field},{expr:"datum"})};if(x0(Xe)){let qt=u.fieldDef(Xe.encoding);return{field:fi(qt,{expr:"datum"}),order:Xe.order}}else{if(Xe===null)return;var Q;return{field:fi(We,{binSuffix:(Q=u.stack)!==null&&Q!==void 0&&Q.impute?"mid":void 0,expr:"datum"})}}}return}}}function CG(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromPrefix:""},{mark:d,markDef:g,encoding:b,config:D}=u,M=Re(g.clip,fBe(u),dBe(u)),Q=xs(g),se=b.key,We=cBe(u),Xe=hBe(u),qt=vi("aria",g,D),on=rk[d].postEncodingTransform?rk[d].postEncodingTransform(u):null;return[{name:u.getName("marks"),type:rk[d].vgMark,...M?{clip:!0}:{},...Q?{style:Q}:{},...se?{key:se.field}:{},...We?{sort:We}:{},...Xe||{},...qt===!1?{aria:qt}:{},from:{data:c.fromPrefix+u.requestDataName(Pa.Main)},encode:{update:rk[d].encodeEntry(u)},...on?{transform:on}:{}}]}function fBe(u){let c=u.getScaleComponent("x"),d=u.getScaleComponent("y");return c!=null&&c.get("selectionExtent")||d!=null&&d.get("selectionExtent")?!0:void 0}function dBe(u){let c=u.component.projection;return c&&!c.isFit?!0:void 0}function hBe(u){if(!u.component.selection)return null;let c=re(u.component.selection).length,d=c,g=u.parent;for(;g&&d===0;)d=re(g.component.selection).length,g=g.parent;return d?{interactive:c>0||!!u.encoding.tooltip}:null}class Sfe extends mfe{constructor(c,d,g){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},D=arguments.length>4?arguments[4]:void 0;super(c,"unit",d,g,D,void 0,zN(c)?c.view:void 0);bn(this,"markDef",void 0),bn(this,"encoding",void 0),bn(this,"specifiedScales",{}),bn(this,"stack",void 0),bn(this,"specifiedAxes",{}),bn(this,"specifiedLegends",{}),bn(this,"specifiedProjection",{}),bn(this,"selection",[]),bn(this,"children",[]);let M=lc(c.mark)?{...c.mark}:{type:c.mark},Q=M.type;M.filled===void 0&&(M.filled=UPe(M,D,{graticule:c.data&&U9(c.data)}));let se=this.encoding=vW(c.encoding||{},Q,M.filled,D);this.markDef=BPe(M,se,D),this.size=PPe({encoding:se,size:zN(c)?{...b,...c.width?{width:c.width}:{},...c.height?{height:c.height}:{}}:b}),this.stack=tL(Q,se),this.specifiedScales=this.initScales(Q,se),this.specifiedAxes=this.initAxes(se),this.specifiedLegends=this.initLegends(se),this.specifiedProjection=c.projection,this.selection=(c.params??[]).filter(We=>T9(We))}get hasProjection(){let{encoding:c}=this,d=this.mark===W1,g=c&&At.some(b=>Ls(c[b]));return d||g}scaleDomain(c){let d=this.specifiedScales[c];return d?d.domain:void 0}axis(c){return this.specifiedAxes[c]}legend(c){return this.specifiedLegends[c]}initScales(c,d){return vs.reduce((g,b)=>{let D=xu(d[b]);return D&&(g[b]=this.initScale(D.scale??{})),g},{})}initScale(c){let{domain:d,range:g}=c,b=pn(c);return e.isArray(d)&&(b.domain=d.map(pi)),e.isArray(g)&&(b.range=g.map(pi)),b}initAxes(c){return ro.reduce((d,g)=>{let b=c[g];if(Ls(b)||g===Nn&&Ls(c.x2)||g===nr&&Ls(c.y2)){let D=Ls(b)?b.axis:void 0;d[g]=D&&this.initAxis({...D})}return d},{})}initAxis(c){let d=re(c),g={};for(let b of d){let D=c[b];g[b]=V4(D)?ni(D):pi(D)}return g}initLegends(c){return ma.reduce((d,g)=>{let b=xu(c[g]);if(b&&Ri(g)){let D=b.legend;d[g]=D&&pn(D)}return d},{})}parseData(){this.component.data=nk(this)}parseLayoutSize(){_Pe(this)}parseSelections(){this.component.selection=X9(this,this.selection)}parseMarkGroup(){this.component.mark=aBe(this)}parseAxesAndHeaders(){this.component.axes=DPe(this)}assembleSelectionTopLevelSignals(c){return wQ(this,c)}assembleSignals(){return[...jL(this),...EQ(this,[])]}assembleSelectionData(c){return CQ(this,c)}assembleLayout(){return null}assembleLayoutSignals(){return ld(this)}assembleMarks(){let c=this.component.mark??[];return(!this.parent||!$E(this.parent))&&(c=xL(this,c)),c.map(this.correctDataNames)}assembleGroupStyle(){let{style:c}=this.view||{};if(c!==void 0)return c;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(c){return eg(this.encoding,c)}fieldDef(c){let d=this.encoding[c];return Bh(d)}typedFieldDef(c){let d=this.fieldDef(c);return Qd(d)?d:null}}class AG extends _G{constructor(c,d,g,b,D){super(c,"layer",d,g,D,c.resolve,c.view);bn(this,"children",void 0);let M={...b,...c.width?{width:c.width}:{},...c.height?{height:c.height}:{}};this.children=c.layer.map((Q,se)=>{if(K4(Q))return new AG(Q,this,this.getName(`layer_${se}`),M,D);if(bp(Q))return new Sfe(Q,this,this.getName(`layer_${se}`),M,D);throw new Error(le(Q))})}parseData(){this.component.data=nk(this);for(let c of this.children)c.parseData()}parseLayoutSize(){yPe(this)}parseSelections(){this.component.selection={};for(let c of this.children){c.parseSelections();for(let d of re(c.component.selection))this.component.selection[d]=c.component.selection[d]}}parseMarkGroup(){for(let c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){RPe(this)}assembleSelectionTopLevelSignals(c){return this.children.reduce((d,g)=>g.assembleSelectionTopLevelSignals(d),c)}assembleSignals(){return this.children.reduce((c,d)=>c.concat(d.assembleSignals()),jL(this))}assembleLayoutSignals(){return this.children.reduce((c,d)=>c.concat(d.assembleLayoutSignals()),ld(this))}assembleSelectionData(c){return this.children.reduce((d,g)=>g.assembleSelectionData(d),c)}assembleGroupStyle(){let c=new Set;for(let g of this.children)for(let b of e.array(g.assembleGroupStyle()))c.add(b);let d=Array.from(c);return d.length>1?d:d.length===1?d[0]:void 0}assembleTitle(){let c=super.assembleTitle();if(c)return c;for(let d of this.children)if(c=d.assembleTitle(),c)return c}assembleLayout(){return null}assembleMarks(){return $9(this,this.children.flatMap(c=>c.assembleMarks()))}assembleLegends(){return this.children.reduce((c,d)=>c.concat(d.assembleLegends()),zce(this))}}function TG(u,c,d,g,b){if(vp(u))return new uA(u,c,d,b);if(K4(u))return new AG(u,c,d,g,b);if(bp(u))return new Sfe(u,c,d,g,b);if(UW(u))return new CPe(u,c,d,b);throw new Error(le(u))}function pBe(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.logger&&Df(c.logger),c.fieldTitle&&yN(c.fieldTitle);try{let d=Y4(e.mergeConfig(c.config,u.config)),g=X4(u,d),b=TG(g,null,"",void 0,d);return b.parse(),LMe(b.component.data,b),{spec:xBe(b,mBe(u,g.autosize,d,b),u.datasets,u.usermeta),normalized:g}}finally{c.logger&&Mc(),c.fieldTitle&&mW()}}function mBe(u,c,d,g){let b=g.component.layoutSize.get("width"),D=g.component.layoutSize.get("height");if(c===void 0?(c={type:"pad"},g.hasAxisOrientSignalRef()&&(c.resize=!0)):e.isString(c)&&(c={type:c}),b&&D&&bQ(c.type)){if(b==="step"&&D==="step")jr(ir()),c.type="pad";else if(b==="step"||D==="step"){let M=b==="step"?"width":"height";jr(ir(hi(M)));let Q=M==="width"?"height":"width";c.type=cL(Q)}}return{...re(c).length===1&&c.type?c.type==="pad"?{}:{autosize:c.type}:{autosize:c},...Zs(d,!1),...Zs(u,!0)}}function xBe(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3?arguments[3]:void 0,b=u.config?R9(u.config):void 0,D=[].concat(u.assembleSelectionData([]),pPe(u.component.data,d)),M=u.assembleProjections(),Q=u.assembleTitle(),se=u.assembleGroupStyle(),We=u.assembleGroupEncodeEntry(!0),Xe=u.assembleLayoutSignals();Xe=Xe.filter(In=>(In.name==="width"||In.name==="height")&&In.value!==void 0?(c[In.name]=+In.value,!1):!0);let{params:qt,...on}=c;return{$schema:"https://vega.github.io/schema/vega/v5.json",...u.description?{description:u.description}:{},...on,...Q?{title:Q}:{},...se?{style:se}:{},...We?{encode:{update:We}}:{},data:D,...M.length>0?{projections:M}:{},...u.assembleGroup([...Xe,...u.assembleSelectionTopLevelSignals([]),...UN(qt)]),...b?{config:b}:{},...g?{usermeta:g}:{}}}let gBe=he.version;n.accessPathDepth=Rn,n.accessPathWithDatum=gn,n.compile=pBe,n.contains=Ct,n.deepEqual=Ze,n.deleteNestedProperty=Gt,n.duplicate=ye,n.entries=ct,n.every=Tt,n.fieldIntersection=tt,n.flatAccessWithDatum=yn,n.getFirstDefined=Re,n.hasIntersection=Se,n.hash=ut,n.internalField=pt,n.isBoolean=_t,n.isEmpty=Ie,n.isEqual=_e,n.isInternalField=mt,n.isNullOrFalse=Ht,n.isNumeric=Qt,n.keys=re,n.logicalExpr=Yt,n.mergeDeep=Ot,n.never=Le,n.normalize=X4,n.normalizeAngle=nn,n.omit=pe,n.pick=Ce,n.prefixGenerator=ce,n.removePathFromField=tr,n.replaceAll=Mn,n.replacePathInField=un,n.resetIdCounter=Bt,n.setEqual=ke,n.some=xn,n.stringify=Je,n.titleCase=fn,n.unique=St,n.uniqueId=De,n.vals=Ne,n.varName=Lt,n.version=gBe,Object.defineProperty(n,"__esModule",{value:!0})})});var t9=Ae(Hx=>{"use strict";m();var Igt=Hx&&Hx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Mgt=Hx&&Hx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),qDe=Hx&&Hx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Igt(e,n,t);return Mgt(e,n),e};Object.defineProperty(Hx,"__esModule",{value:!0});Hx.HTMLChartRenderer=void 0;var Pgt=qDe(jDe()),UDe=qDe(ale()),$De=class{constructor(e,t,r={}){this.document=e,this.styleDefaults=t,this.size=r.size||this.styleDefaults.size||"medium"}mapData(e){let t=[];for(let r of e){let i={};for(let s of e.field.intrinsicFields)i[s.name]=this.getDataValue(r.cell(s));t.push(i)}return t}getSize(){return this.size==="large"?{height:350,width:500}:{height:175,width:250}}async render(e){if(!e.isArray())throw new Error("Invalid type for chart renderer");let t=this.getVegaLiteSpec(e),r=Pgt.compile(t,{logger:{level(o){return o!==void 0?this:0},info(){return this},error(){return this},warn(){return this},debug(){return this}}}).spec,i=new UDe.View(UDe.parse(r),{renderer:"none"});i.logger().level(-1);let s=this.document.createElement("div");return s.innerHTML=await i.toSVG(),s}};Hx.HTMLChartRenderer=$De});var z0=Ae(wh=>{"use strict";m();Object.defineProperty(wh,"__esModule",{value:!0});wh.createDrillIcon=wh.createNullElement=wh.createErrorElement=wh.yieldTask=wh.timeToString=wh.getColorScale=void 0;var up=w1();function Bgt(n,e,t=!1){if(n!==void 0)switch(n){case"ordinal":return{range:["#C2D5EE","#1A73E8"]};case"temporal":case"quantitative":return e?t?{range:["#6BA4EE","#EEA361"]}:{range:["#1A73E8","#E8710A"]}:{range:["#C2D5EE","#1A73E8"]};case"nominal":return t?{range:["#6BA4EE","#66CEDC","#EC72B8","#EEA361","#F9C85B","#AACD85","#B87CED","#ACB0B3"]}:{range:["#1A73E8","#12B5CB","#E52592","#E8710A","#F9AB00","#7CB342","#9334E6","#80868B"]}}}wh.getColorScale=Bgt;function Tu(n,e){return n.toString().padStart(e,"0")}function jgt(n,e){switch(e){case up.TimestampTimeframe.Year:case up.DateTimeframe.Year:return`${Tu(n.getUTCFullYear(),4)}`;case up.TimestampTimeframe.Quarter:case up.DateTimeframe.Quarter:{let t=Tu(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`${t}-Q${r}`}case up.TimestampTimeframe.Month:case up.DateTimeframe.Month:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2);return`${t}-${r}`}case up.TimestampTimeframe.Week:case up.DateTimeframe.Week:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2),i=Tu(n.getUTCDate(),2);return`WK${t}-${r}-${i}`}case up.DateTimeframe.Day:case up.TimestampTimeframe.Day:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2),i=Tu(n.getUTCDate(),2);return`${t}-${r}-${i}`}case up.TimestampTimeframe.Hour:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2),i=Tu(n.getUTCDate(),2),s=Tu(n.getUTCHours(),2);return`${t}-${r}-${i} ${s}:00 for 1 hour`}case up.TimestampTimeframe.Minute:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2),i=Tu(n.getUTCDate(),2),s=Tu(n.getUTCHours(),2),o=Tu(n.getUTCMinutes(),2);return`${t}-${r}-${i} ${s}:${o}`}case up.TimestampTimeframe.Second:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2),i=Tu(n.getUTCDate(),2),s=Tu(n.getUTCHours(),2),o=Tu(n.getUTCMinutes(),2),a=Tu(n.getUTCSeconds(),2);return`${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}wh.timeToString=jgt;async function qgt(){return new Promise(n=>{setTimeout(n,0)})}wh.yieldTask=qgt;function Ugt(n,e){let t=n.createElement("span");return t.classList.add("error"),t.appendChild(n.createTextNode(typeof e=="string"?e:e.message)),t}wh.createErrorElement=Ugt;function $gt(n){let e=n.createElement("span");return e.appendChild(n.createTextNode("\u2205")),e.classList.add("value-null"),e}wh.createNullElement=$gt;function zgt(n){let e=n.createElement("div");e.style.borderRadius="20px",e.style.backgroundColor="var(--malloy-border-color, #efefef)",e.style.width="27px",e.style.height="14px",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.gap="2px";for(let t=0;t<3;t++){let r=n.createElement("div");r.style.backgroundColor="var(--malloy-title-color, rgb(181 181 181))",r.style.borderRadius="5px",r.style.width="4px",r.style.height="4px",e.appendChild(r)}return e}wh.createDrillIcon=zgt});var mle=Ae(Zc=>{"use strict";m();Object.defineProperty(Zc,"__esModule",{value:!0});Zc.HTMLVegaSpecRenderer=Zc.isDataContainer=Zc.vegaSpecs=Zc.DEFAULT_SPEC=void 0;var Hgt=t9(),Vgt=$F(),Ym=z0();Zc.DEFAULT_SPEC={$schema:"https://vega.github.io/schema/vega-lite/v5.json",config:{params:[{name:"defaultFont",value:"var(--malloy-font-family, 'Roboto')"},{name:"titleColor",value:"var(--malloy-title-color, #505050)"},{name:"labelColor",value:"var(--malloy-label-color, #505050)"}],background:void 0,color:{expr:"titleColor"},header:{labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500},text:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},mark:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},title:{font:{expr:"defaultFont"},subtitleFont:{expr:"defaultFont"},fontWeight:500},axis:{labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12},legend:{titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12,labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"}}}};var ule={height:80,width:150},zDe={width:150},Wgt={height:{step:13}},lle={...zDe,...Wgt},cle={...zDe},fle={height:150,width:200},HDe={},Km={...Zc.DEFAULT_SPEC,encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar",color:"#aec7e8"},encoding:{x:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"}}}]},tN={...Zc.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},Qgt={...tN,encoding:{...tN.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Ym.getColorScale)("quantitative",!0,!0)}}},Ggt={...tN,encoding:{...tN.encoding,color:{field:"#{3}",scale:(0,Ym.getColorScale)("nominal",!0,!0)}}},dle={...Km,layer:[{...Km.layer[0],encoding:{...Km.layer[0].encoding,color:{field:"#{3}",scale:(0,Ym.getColorScale)("nominal",!0,!0)}}},Km.layer[1]]},hle={...Km,layer:[{...Km.layer[0],encoding:{...Km.layer[0].encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Ym.getColorScale)("quantitative",!0,!0)}}},Km.layer[1]]},N4={...Zc.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},cV={...N4,encoding:{...N4.encoding,color:{field:"#{3}",type:"nominal",scale:(0,Ym.getColorScale)("nominal",!0)}}},fV={...N4,encoding:{...N4.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Ym.getColorScale)("quantitative",!0)}}};Zc.vegaSpecs={bar_SM:Km,bar_SM_small:{...Km,...lle},bar_SM_medium:{...Km,...cle},bar_SM_large:tN,bar_SMS:dle,bar_SMS_small:{...dle,...lle},bar_SMS_medium:{...dle,...cle},bar_SMS_large:Ggt,bar_SMM:hle,bar_SMM_small:{...hle,...lle},bar_SMM_medium:{...hle,...cle},bar_SMM_large:Qgt,bar_NM:N4,bar_NM_small:{...N4,...ule},bar_NM_medium:{...N4,...fle},bar_NM_large:{...N4},bar_NMS:cV,bar_NMS_small:{...cV,...ule},bar_NMS_medium:{...cV,...fle},bar_NMS_large:{...cV,...HDe},bar_NMM:fV,bar_NMM_small:{...fV,...ule},bar_NMM_medium:{...fV,...fle},bar_NMM_large:{...fV,...HDe},bar_SSMMM:{...Zc.DEFAULT_SPEC,repeat:["#{3}","#{4}","#{5}"],spec:{description:"A simple bar chart with embedded data.",encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar"},encoding:{x:{field:{repeat:"repeat"},type:"quantitative",sort:null},color:{field:"#{2}",scale:(0,Ym.getColorScale)("nominal",!0,!0)}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"},detail:{aggregate:"count"}}}]}},bubble_NNM:{...Zc.DEFAULT_SPEC,data:[],mark:"circle",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},size:{field:"#{3}",type:"quantitative"},color:{value:"#4285F4"}}},heat_NNM:{...Zc.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,Ym.getColorScale)("quantitative",!1)}}},heat_SNM:{...Zc.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"nominal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,Ym.getColorScale)("quantitative",!1)}}},stacked_line_STM:{...Zc.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{2}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{3}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,Ym.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"}}},grid_line_SSTM:{...Zc.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{3}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{4}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,Ym.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"},column:{field:"#{2}",type:"nominal"}}}};function ple(n){return Array.isArray(n)||n!==null&&typeof n=="object"}Zc.isDataContainer=ple;var VDe=class extends Hgt.HTMLChartRenderer{constructor(e,t,r){super(e,t);this.spec=r}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for vega chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for vega chart.")}translateField(e,t){let r=t.match(/#\{(?<fieldnum>\d+)\}/);return r&&r.groups?e.intrinsicFields[parseInt(r.groups.fieldnum)-1].name:t}translateFields(e,t){if(Array.isArray(e))for(let r of e)ple(r)&&this.translateFields(r,t);else if(e&&typeof e=="object")for(let[r,i]of Object.entries(e))if(r==="field"&&typeof i=="string")e[r]=this.translateField(t,i);else if(r==="repeat"&&Array.isArray(i))for(let s of i.keys()){let o=i[s];typeof o=="string"&&(i[s]=this.translateField(t,o))}else ple(i)&&this.translateFields(i,t)}getVegaLiteSpec(e){if(e.isNull()||!e.isArray())throw new Error("Expected struct value not to be null.");let t=(0,Vgt.cloneDeep)(this.spec);this.translateFields(t,e.field);let r={values:this.mapData(e)};return t.data=r,t}};Zc.HTMLVegaSpecRenderer=VDe});var hV=Ae(dV=>{"use strict";m();Object.defineProperty(dV,"__esModule",{value:!0});dV.HTMLCartesianChartRenderer=void 0;var Ygt=t9(),Kgt=z0(),Jgt=mle(),WDe=class extends Ygt.HTMLChartRenderer{getVegaLiteSpec(e){let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=this.getDataType(r),f=this.getDataType(i),p=s?this.getDataType(s):void 0,_=o?this.getDataType(o):void 0,E=a?this.getDataType(a):void 0,O=this.getMark(),R=s!==void 0?{field:s.name,type:p,axis:{title:s.name},scale:(0,Kgt.getColorScale)(p,O==="bar")}:{value:"#4285F4"},q=o?{field:o.name,type:_,axis:{title:o.name}}:void 0,z=a?{field:a.name,type:E,axis:{title:a.name}}:void 0,L=l==="nominal"?null:void 0,B=f==="nominal"?null:void 0,P={field:r.name,type:l,sort:L,axis:{title:r.name}},G={field:i.name,type:f,sort:B,axis:{title:i.name}};return{...Jgt.DEFAULT_SPEC,...this.getSize(),data:{values:this.mapData(e)},mark:O,encoding:{x:P,y:G,size:q,color:R,shape:z},background:"transparent"}}};dV.HTMLCartesianChartRenderer=WDe});var GDe=Ae(pV=>{"use strict";m();Object.defineProperty(pV,"__esModule",{value:!0});pV.HTMLBarChartRenderer=void 0;var Xgt=hV(),QDe=class extends Xgt.HTMLCartesianChartRenderer{getMark(){return"bar"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for bar chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for bar chart.")}};pV.HTMLBarChartRenderer=QDe});var nE=Ae(mV=>{"use strict";m();Object.defineProperty(mV,"__esModule",{value:!0});mV.HTMLTextRenderer=void 0;var Zgt=z0(),YDe=class{constructor(e){this.document=e}getText(e){return`${e.value}`}async render(e){let t=this.getText(e);if(t===null)return(0,Zgt.createNullElement)(this.document);let r=this.document.createElement("span");return r.appendChild(this.document.createTextNode(t)),r}};mV.HTMLTextRenderer=YDe});var JDe=Ae(xV=>{"use strict";m();Object.defineProperty(xV,"__esModule",{value:!0});xV.HTMLBooleanRenderer=void 0;var eyt=nE(),KDe=class extends eyt.HTMLTextRenderer{getText(e){return e.isNull()?null:`${e.boolean.value}`}};xV.HTMLBooleanRenderer=KDe});var ZDe=Ae(gV=>{"use strict";m();Object.defineProperty(gV,"__esModule",{value:!0});gV.HTMLJSONRenderer=void 0;var tyt=z0(),XDe=class{constructor(e){this.document=e}async render(e){!e.isArray()&&!e.isRecord()&&(0,tyt.createErrorElement)(this.document,"Invalid data for chart renderer.");let t=this.document.createElement("pre");return t.appendChild(this.document.createTextNode(JSON.stringify(e.value,void 0,2))),t}};gV.HTMLJSONRenderer=XDe});var tOe=Ae(yV=>{"use strict";m();Object.defineProperty(yV,"__esModule",{value:!0});yV.HTMLBytesRenderer=void 0;var nyt=nE(),eOe=class extends nyt.HTMLTextRenderer{getText(e){return e.isNull()?null:e.bytes.value.toString("base64")}};yV.HTMLBytesRenderer=eOe});var rOe=Ae(vV=>{"use strict";m();Object.defineProperty(vV,"__esModule",{value:!0});vV.HTMLCurrencyRenderer=void 0;var ryt=nE(),nOe=class extends ryt.HTMLTextRenderer{getText(e){if(e.isNull())return null;let t="$",r=e.number.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${t}${r}`}};vV.HTMLCurrencyRenderer=nOe});var bV=Ae(_V=>{"use strict";m();Object.defineProperty(_V,"__esModule",{value:!0});_V.HTMLNumberRenderer=void 0;var iyt=nE(),iOe=class extends iyt.HTMLTextRenderer{getNumber(e){return e.isNull()?null:e.number.value}getText(e){let t=this.getNumber(e);return t===null?t:t.toLocaleString()}};_V.HTMLNumberRenderer=iOe});var oOe=Ae(EV=>{"use strict";m();Object.defineProperty(EV,"__esModule",{value:!0});EV.HTMLPercentRenderer=void 0;var syt=bV(),sOe=class extends syt.HTMLNumberRenderer{getText(e){let t=this.getNumber(e);return t===null?t:(t*100).toLocaleString("en",{maximumFractionDigits:2})+"%"}};EV.HTMLPercentRenderer=sOe});var gle=Ae(n9=>{"use strict";m();Object.defineProperty(n9,"__esModule",{value:!0});n9.getDrillQuery=n9.getDrillFilters=void 0;var xle=w1(),oyt=z0();function ayt(n){return`'${n.replace("'","\\'")}'`}function uyt(n,e,t){let r=t===xle.TimestampTimeframe.Minute?xle.TimestampTimeframe.Second:t||xle.TimestampTimeframe.Second,i="@"+(0,oyt.timeToString)(e,r);return{key:n,value:i}}function lyt(n){let e=[];for(let t of n.field.filters||[])t.aggregate||e.push({key:t.code,value:void 0});return e}function cyt(n){let e=[],t=n.field.intrinsicFields.filter(r=>r.isAtomicField()&&r.sourceWasDimension());for(let r of t){let i=n.cell(r),s=r.isAtomicField()||r.isQueryField()?r.expression:void 0;s&&!i.isArray()&&(i.isNull()?e.push({key:s,value:"null"}):i.isString()?e.push({key:s,value:ayt(i.value)}):i.isNumber()||i.isBoolean()?e.push({key:s,value:i.value.toString()}):(i.isTimestamp()||i.isDate())&&e.push(uyt(s,i.value,i.field.timeframe)))}return e}function aOe(n){return n.isRecord()?cyt(n):lyt(n)}function uOe(n){let e=[],t=n;for(;t.parent;)e.push(...aOe(t)),t=t.parent;e.push(...aOe(t));let r=t.field.parentExplore,i=[];for(let{key:o,value:a}of e)a!==void 0?i.push(`${o}: ${a}`):i.push(o);return{formattedFilters:i.filter((o,a)=>i.find((l,f)=>l===o&&a<f)===void 0),source:r}}n9.getDrillFilters=uOe;function fyt(n){let{formattedFilters:e,source:t}=uOe(n),r=`query: ${(t==null?void 0:t.name)||'"unable to compute source"'} `;return e.length&&(r+=`{ 
  where: 
    ${e.join(`,
    `)}
  
}
`),{drillQuery:r+"-> ",drillFilters:e}}n9.getDrillQuery=fyt});var cOe=Ae(SV=>{"use strict";m();Object.defineProperty(SV,"__esModule",{value:!0});SV.RenderTree=void 0;var lOe=class{constructor(e,t){this.document=e,this.options=t}};SV.RenderTree=lOe});var nN=Ae(wV=>{"use strict";m();Object.defineProperty(wV,"__esModule",{value:!0});wV.ContainerRenderer=void 0;var dyt=cOe(),hyt=yle(),fOe=class extends dyt.RenderTree{constructor(){super(...arguments);this.childRenderers={}}makeChildRenderers(e,t,r){let i={};e.intrinsicFields.forEach(s=>{i[s.name]=(0,hyt.makeRenderer)(s,t,r,this.childrenStyleDefaults)}),this.childRenderers=i}static make(e,t,r,i){let s=new e(t,{isDrillingEnabled:i.isDrillingEnabled,onDrill:i.onDrill});return s.makeChildRenderers(r,t,i),s}};wV.ContainerRenderer=fOe});var mOe=Ae(AV=>{"use strict";m();Object.defineProperty(AV,"__esModule",{value:!0});AV.HTMLDashboardRenderer=void 0;var pyt=gle(),myt=nN(),xyt=nE(),vle=z0(),CV=class extends myt.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArrayOrRecord())return(0,vle.createErrorElement)(this.document,"Invalid data for dashboard renderer.");let t=e.field.intrinsicFields,r=t.filter(o=>o.isAtomicField()&&o.sourceWasDimension()),i=t.filter(o=>!o.isAtomicField()||o.sourceWasMeasureLike()),s=this.document.createElement("div");for(let o of e){let a=this.document.createElement("div");a.classList.add("dimensions"),a.style.display="flex",a.style.flexWrap="wrap";let l=this.document.createElement("div");l.style.position="relative";for(let _ of r){let O=await this.childRenderers[_.name].render(o.cell(_)),R=this.document.createElement("div");R.style.cssText=Eyt;let q=this.document.createElement("div");q.style.cssText=Syt,q.appendChild(this.document.createTextNode(_.name));let z=this.document.createElement("div");z.style.cssText=_le,z.appendChild(O),R.appendChild(q),R.appendChild(z),a.appendChild(R)}if(r.length>0){let _=this.document.createElement("div");_.classList.add("row-separator-outer"),_.style.cssText=gyt;let E=this.document.createElement("div");E.style.cssText=_yt,_.appendChild(E),a.appendChild(_)}let f=this.document.createElement("div");f.style.cssText=byt;for(let _ of i){let E=this.childRenderers[_.name];await(0,vle.yieldTask)();let O=await E.render(o.cell(_));if(E instanceof CV)f.appendChild(O);else if(E instanceof xyt.HTMLTextRenderer){let R=this.document.createElement("div");R.style.cssText=hOe;let q=this.document.createElement("div");q.style.cssText=pOe,q.appendChild(this.document.createTextNode(_.name));let z=this.document.createElement("div");z.style.cssText=_le;let L=this.document.createElement("div");L.style.cssText=wyt,L.appendChild(O),z.appendChild(L),R.appendChild(q),R.appendChild(z),f.appendChild(R)}else{let R=this.document.createElement("div");R.style.cssText=hOe;let q=this.document.createElement("div");q.style.cssText=pOe,q.appendChild(this.document.createTextNode(_.name));let z=this.document.createElement("div");z.style.cssText=_le;let L=this.document.createElement("div");L.style.cssText=Cyt,L.appendChild(O),z.appendChild(L),R.appendChild(q),R.appendChild(z),f.appendChild(R)}}if(l.appendChild(a),r.length>0&&this.options.isDrillingEnabled){let _=this.document.createElement("span"),E=(0,vle.createDrillIcon)(this.document);_.appendChild(E),_.style.cssText="padding: 8px; vertical-align: top; width: 25px; cursor: pointer; position: absolute; top: 5px; right: 5px;",_.onclick=()=>{if(this.options.onDrill){let{drillQuery:O,drillFilters:R}=(0,pyt.getDrillQuery)(o);this.options.onDrill(O,E,R)}},l.appendChild(_)}let p=this.document.createElement("div");if(p.classList.add("dashboard-outer"),p.style.cssText=yyt,r.length>0){let _=this.document.createElement("div");_.style.cssText=vyt,p.appendChild(_)}p.appendChild(f),l.appendChild(p),s.appendChild(l)}return s}};AV.HTMLDashboardRenderer=CV;var gyt=`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex: 1 0 auto;
`,yyt=`
  display: flex;
  flex-direction: row;
  font-size: 11px;
`,dOe=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
`,vyt=`
  ${dOe}
  min-height: 100%;
  min-width: 11px;
  margin: 6px;
  border-radius: 4px;
`,_yt=`
  ${dOe}
  min-height: 11px;
  max-height: 11px;
  margin: 6px;
  flex: 1 0 auto;
  border-radius: 4px;
`,byt=`
  display: flex;
  flex-wrap: wrap;
`,Eyt=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  margin: 6px;
  border-radius: 5px;
  padding: 10px;
  box-shadow: 0 1px 5px 0 var(--malloy-border-color, #f3f3f3);
`,hOe=`
  margin: 6px;
  border-radius: 5px;
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  padding: 10px;
  flex: 1 0 auto;
  box-shadow: 0 1px 5px 0 var(--malloy-tile-background-color, #f3f3f3);
  max-width: calc(100% - 11px);
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,Syt=`
  font-size: 12px;
  font-weight: 500;
  color: var(--malloy-title-color, #505050);
  margin-bottom: 5px;
  font-family: var(--malloy-font-family, "Roboto");
`,pOe=`
  font-size: 11px;
  font-family: var(--malloy-font-family, "Roboto");
  font-weight: 500;
  color: #var(--malloy-title-color, #505050);
`,wyt=`
  font-size: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 5px;
`,_le=`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
`,Cyt=`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`});var yOe=Ae(TV=>{"use strict";m();Object.defineProperty(TV,"__esModule",{value:!0});TV.HTMLImageRenderer=void 0;var xOe=z0(),gOe=class{constructor(e){this.document=e}async render(e){if(!e.isString())return(0,xOe.createErrorElement)(this.document,"Invalid field for Image renderer");if(e.isNull())return(0,xOe.createNullElement)(this.document);let t=this.document.createElement("img");return t.src=e.value,t}};TV.HTMLImageRenderer=gOe});var bOe=Ae(FV=>{"use strict";m();Object.defineProperty(FV,"__esModule",{value:!0});FV.HTMLDateRenderer=void 0;var vOe=w1(),ble=z0(),_Oe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,ble.createNullElement)(this.document);if(!e.isDate()&&!e.isTimestamp())return(0,ble.createErrorElement)(this.document,"Invalid field for date renderer");let t=e.field.timeframe||(e.isTimestamp()?vOe.TimestampTimeframe.Second:vOe.DateTimeframe.Day),r=(0,ble.timeToString)(e.value,t),i=this.document.createElement("span");return i.appendChild(this.document.createTextNode(r)),i}};FV.HTMLDateRenderer=_Oe});var SOe=Ae(DV=>{"use strict";m();Object.defineProperty(DV,"__esModule",{value:!0});DV.HTMLLineChartRenderer=void 0;var Ayt=hV(),EOe=class extends Ayt.HTMLCartesianChartRenderer{getMark(){return"line"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for line chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for line chart.")}};DV.HTMLLineChartRenderer=EOe});var AOe=Ae(OV=>{"use strict";m();Object.defineProperty(OV,"__esModule",{value:!0});OV.HTMLLinkRenderer=void 0;var wOe=z0(),COe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,wOe.createNullElement)(this.document);if(!e.isString())return(0,wOe.createErrorElement)(this.document,"Invalid type for link renderer.");let t=document.createElement("a");return t.href=e.value,t.target="_blank",t.appendChild(this.document.createTextNode(e.value.replace(/\//g,"/\u200C"))),t}};OV.HTMLLinkRenderer=COe});var Ele=Ae(RV=>{"use strict";m();Object.defineProperty(RV,"__esModule",{value:!0});RV.HTMLListRenderer=void 0;var Tyt=nN(),TOe=z0(),FOe=class extends Tyt.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"small"}}getValueField(e){return e.intrinsicFields[0]}getDetailField(e){}async render(e){if(!e.isArray())return(0,TOe.createErrorElement)(this.document,"Invalid data for chart renderer.");if(e.rowCount===0)return this.document.createElement("span");let t=this.getValueField(e.field),r=this.getDetailField(e.field),i=this.document.createElement("span"),s=!0;for(let o of e){s||i.appendChild(this.document.createTextNode(", ")),s=!1;let l=await this.childRenderers[t.name].render(o.cell(t));if(i.appendChild(l),r){let f=this.childRenderers[r.name];await(0,TOe.yieldTask)();let p=await f.render(o.cell(r));i.appendChild(this.document.createTextNode("(")),i.appendChild(p),i.appendChild(this.document.createTextNode(")"))}}return i}};RV.HTMLListRenderer=FOe});var OOe=Ae(NV=>{"use strict";m();Object.defineProperty(NV,"__esModule",{value:!0});NV.HTMLListDetailRenderer=void 0;var Fyt=Ele(),DOe=class extends Fyt.HTMLListRenderer{getDetailField(e){return e.intrinsicFields[1]}};NV.HTMLListDetailRenderer=DOe});var LV=Ae((yVt,Dyt)=>{Dyt.exports={type:"Topology",bbox:[-179.14733999999999,-14.552548999999999,179.77847,71.352561],transform:{scale:[.003589293992939929,.0008590596905969058],translate:[-179.14733999999999,-14.552548999999999]},objects:{states:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[1,2,3,4,5]]],id:"01",properties:{name:"Alabama"}},{type:"MultiPolygon",arcs:[[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]]],id:"02",properties:{name:"Alaska"}},{type:"Polygon",arcs:[[143,144,145,146,147]],id:"04",properties:{name:"Arizona"}},{type:"Polygon",arcs:[[148,149,150,151,152,153]],id:"08",properties:{name:"Colorado"}},{type:"MultiPolygon",arcs:[[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[163,164,-4]]],id:"12",properties:{name:"Florida"}},{type:"Polygon",arcs:[[165,166,167,168,-164,-3]],id:"13",properties:{name:"Georgia"}},{type:"Polygon",arcs:[[169,170,171,172,173]],id:"18",properties:{name:"Indiana"}},{type:"Polygon",arcs:[[174,175,176,-151]],id:"20",properties:{name:"Kansas"}},{type:"MultiPolygon",arcs:[[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[184,185]]],id:"23",properties:{name:"Maine"}},{type:"MultiPolygon",arcs:[[[186]],[[187]],[[188,189,190,191,192,193,194,195]]],id:"25",properties:{name:"Massachusetts"}},{type:"Polygon",arcs:[[196,197,198,199,200]],id:"27",properties:{name:"Minnesota"}},{type:"Polygon",arcs:[[201,202,203,204,205,206,207,208]],id:"34",properties:{name:"New Jersey"}},{type:"MultiPolygon",arcs:[[[209]],[[210]],[[211,212,213,-167,214]]],id:"37",properties:{name:"North Carolina"}},{type:"Polygon",arcs:[[215,-201,216,217]],id:"38",properties:{name:"North Dakota"}},{type:"Polygon",arcs:[[-152,-177,218,219,220,221]],id:"40",properties:{name:"Oklahoma"}},{type:"Polygon",arcs:[[222,223,-204,224,225,226,227]],id:"42",properties:{name:"Pennsylvania"}},{type:"Polygon",arcs:[[228,-217,-200,229,230,231]],id:"46",properties:{name:"South Dakota"}},{type:"Polygon",arcs:[[-221,232,233,234,235,236,237]],id:"48",properties:{name:"Texas"}},{type:"Polygon",arcs:[[-232,238,-149,239,240,241]],id:"56",properties:{name:"Wyoming"}},{type:"Polygon",arcs:[[-195,242,243,244]],id:"09",properties:{name:"Connecticut"}},{type:"Polygon",arcs:[[245,246,247,248,249,250,251,-219,-176,252]],id:"29",properties:{name:"Missouri"}},{type:"Polygon",arcs:[[253,-227,254,255,256]],id:"54",properties:{name:"West Virginia"}},{type:"Polygon",arcs:[[257,258,259,-174,260,-247]],id:"17",properties:{name:"Illinois"}},{type:"Polygon",arcs:[[-153,-222,-238,261,-147]],id:"35",properties:{name:"New Mexico"}},{type:"Polygon",arcs:[[-252,262,263,264,-235,233,-233,-220]],id:"05",properties:{name:"Arkansas"}},{type:"MultiPolygon",arcs:[[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[273,274,275,-144,276]]],id:"06",properties:{name:"California"}},{type:"MultiPolygon",arcs:[[[-209,277]],[[-225,-203,278,279]]],id:"10",properties:{name:"Delaware"}},{type:"Polygon",arcs:[[280,281]],id:"11",properties:{name:"District of Columbia"}},{type:"MultiPolygon",arcs:[[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]]],id:"15",properties:{name:"Hawaii"}},{type:"Polygon",arcs:[[-199,290,-258,-246,291,-230]],id:"19",properties:{name:"Iowa"}},{type:"MultiPolygon",arcs:[[[-261,-173,292,-257,293,294,-248]],[[295,-250]]],id:"21",properties:{name:"Kentucky"}},{type:"MultiPolygon",arcs:[[[296,297]],[[298]],[[299]],[[-226,-280,300,301,302,303,-281,304,-255]]],id:"24",properties:{name:"Maryland"}},{type:"MultiPolygon",arcs:[[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[314,315,-171]],[[316]],[[317,318,319,320,321,322]]],id:"26",properties:{name:"Michigan"}},{type:"MultiPolygon",arcs:[[[323]],[[324]],[[325]],[[326]],[[-264,327,-6,328,329]]],id:"28",properties:{name:"Mississippi"}},{type:"Polygon",arcs:[[330,-218,-229,-242,331]],id:"30",properties:{name:"Montana"}},{type:"Polygon",arcs:[[332,-185,333,-190,334]],id:"33",properties:{name:"New Hampshire"}},{type:"MultiPolygon",arcs:[[[335]],[[336]],[[337]],[[338,-207]],[[339]],[[340]],[[341,342,-196,-245,343,-205,-224]]],id:"36",properties:{name:"New York"}},{type:"MultiPolygon",arcs:[[[344]],[[345]],[[-316,346,-228,-254,-293,-172]]],id:"39",properties:{name:"Ohio"}},{type:"Polygon",arcs:[[347,348,349,274,-275,-274,350]],id:"41",properties:{name:"Oregon"}},{type:"Polygon",arcs:[[-251,-296,-249,-295,351,-215,-166,-2,-328,-263]],id:"47",properties:{name:"Tennessee"}},{type:"Polygon",arcs:[[352,-240,-154,-146,353]],id:"49",properties:{name:"Utah"}},{type:"MultiPolygon",arcs:[[[354]],[[-302,355]],[[356,-297]],[[-256,-305,-282,-304,357,-212,-352,-294]]],id:"51",properties:{name:"Virginia"}},{type:"MultiPolygon",arcs:[[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[368,-348,369]]],id:"53",properties:{name:"Washington"}},{type:"MultiPolygon",arcs:[[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[380,-323,321,-321,319,-319,381,-259,-291,-198]]],id:"55",properties:{name:"Wisconsin"}},{type:"MultiPolygon",arcs:[[[382]],[[383]],[[384]]],id:"60",properties:{name:"American Samoa"}},{type:"MultiPolygon",arcs:[[[385]]],id:"66",properties:{name:"Guam"}},{type:"MultiPolygon",arcs:[[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]]],id:"69",properties:{name:"Commonwealth of the Northern Mariana Islands"}},{type:"Polygon",arcs:[[-231,-292,-253,-175,-150,-239]],id:"31",properties:{name:"Nebraska"}},{type:"Polygon",arcs:[[-214,394,-168]],id:"45",properties:{name:"South Carolina"}},{type:"MultiPolygon",arcs:[[[395]],[[396]],[[397]],[[398]],[[399]]],id:"72",properties:{name:"Puerto Rico"}},{type:"MultiPolygon",arcs:[[[400]],[[401]],[[402]]],id:"78",properties:{name:"United States Virgin Islands"}},{type:"Polygon",arcs:[[-369,403,-332,-241,-353,404,-349]],id:"16",properties:{name:"Idaho"}},{type:"Polygon",arcs:[[-275,-350,-405,-354,-145,-276]],id:"32",properties:{name:"Nevada"}},{type:"Polygon",arcs:[[405,-335,-189,-343]],id:"50",properties:{name:"Vermont"}},{type:"MultiPolygon",arcs:[[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[-265,-330,413,-236]]],id:"22",properties:{name:"Louisiana"}},{type:"MultiPolygon",arcs:[[[-192,414]],[[415]],[[416]],[[417]],[[-243,-194,418]]],id:"44",properties:{name:"Rhode Island"}}]},nation:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[164,4,328,413,236,261,147,276,350,369,403,330,215,196,380,317,381,259,169,314,346,222,341,405,332,185,333,190,414,192,418,243,343,205,338,207,277,201,278,300,355,302,357,212,394,168]],[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]],[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[186]],[[187]],[[209]],[[210]],[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]],[[297,356]],[[298]],[[299]],[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[316]],[[323]],[[324]],[[325]],[[326]],[[335]],[[336]],[[337]],[[339]],[[340]],[[344]],[[345]],[[354]],[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[382]],[[383]],[[384]],[[385]],[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]],[[395]],[[396]],[[397]],[[398]],[[399]],[[400]],[[401]],[[402]],[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[415]],[[416]],[[417]]]}]}},arcs:[[[25302,52136],[56,31],[1,25],[14,-40],[-9,-28],[-10,16],[-18,-2],[-20,-17],[-14,15]],[[25338,57677],[0,15],[150,-6],[63,0],[160,-13],[93,-2],[37,2],[159,-4],[61,-5]],[[26061,57664],[15,-321],[23,-443],[18,-379],[13,-294],[15,-311],[33,-713],[9,-32],[-4,-36],[13,-45],[5,-149],[10,-72],[17,-69],[3,-82],[9,-36],[-10,-117],[18,-28],[12,-40],[-10,-52],[-11,0],[2,-24],[-14,-21],[-13,-52],[3,-56],[-2,-86],[-7,-86],[-14,-72],[-3,-45],[6,-124],[-2,-44],[19,-87],[3,-120],[-7,-57],[2,-43],[-8,-80],[1,-79],[-7,-21],[5,-51],[-3,-54],[20,-91],[7,-64],[2,-61]],[[26229,53027],[-67,0],[-71,-5],[-110,-4],[-174,0],[-135,7],[-166,-2],[3,-38],[-13,-115],[2,-23],[23,-79],[3,-41],[36,-80],[3,-69],[-15,-102],[3,-55],[20,-51],[-18,-35],[-8,-82],[-9,-15],[7,-24],[-15,-26]],[[25528,52188],[-38,-35],[-40,-24],[-56,-4],[18,41],[12,-26],[35,27],[3,34],[-15,48],[-7,43],[-20,47],[-7,90],[9,74],[-3,76],[-7,48],[-20,32],[-15,-46],[2,-38],[-9,-57],[1,-41],[-6,-32],[-1,-144],[-8,-66],[-15,-4],[1,36],[-20,40],[-15,-16],[-5,23],[-18,-22]],[[25284,52292],[-3,222],[-3,357],[-6,423],[-10,773],[9,283],[21,710],[5,212],[33,1120],[6,160],[19,643],[12,362],[-16,35],[-13,85]],[[8053,88108],[6,38],[18,-11],[-20,-43],[-4,16]],[[7905,86007],[29,90],[15,-17],[-1,-46],[-28,-74],[-15,19],[0,28]],[[7695,85792],[26,-14],[-3,-36],[-23,50]],[[7642,85774],[22,-17],[-7,-33],[-14,14],[-1,36]],[[7602,85813],[20,-2],[-5,-34],[-15,36]],[[7594,84711],[8,45],[20,-13],[-8,-73],[-15,-17],[-5,58]],[[7543,85532],[12,28],[21,-40],[-33,-2],[0,14]],[[7540,87187],[29,79],[8,112],[31,-29],[-28,-64],[-9,-49],[5,-24],[-36,-25]],[[7464,85521],[14,55],[18,-28],[23,-4],[-33,-33],[-22,10]],[[7385,86976],[17,6],[5,-88],[-22,82]],[[7168,84530],[29,89],[15,6],[26,-66],[5,20],[-21,65],[6,54],[9,10],[27,-25],[21,19],[-29,54],[16,56],[29,-31],[15,4],[-14,56],[12,17],[20,-20],[14,45],[-18,6],[-13,33],[20,3],[22,67],[34,18],[-12,35],[-3,68],[27,66],[7,-31],[53,51],[7,-7],[-12,-118],[-13,-18],[-26,-103],[5,-84],[36,11],[2,69],[22,-9],[21,-71],[20,48],[12,-33],[-17,-117],[9,-22],[9,72],[27,47],[7,-25],[-3,-115],[-30,-89],[-32,23],[-11,81],[-21,-26],[13,-99],[-22,-20],[-39,13],[-16,-54],[-8,36],[2,74],[-10,2],[-9,-114],[-8,-24],[-31,-17],[2,-37],[-16,-22],[-45,-13],[-86,76],[-21,-13],[-15,29]],[[7129,86075],[41,28],[18,-43],[-5,-48],[-13,-16],[-29,-3],[-16,59],[4,23]],[[6962,82933],[31,45],[8,-48],[-37,-9],[-2,12]],[[6905,82759],[20,62],[19,20],[11,-11],[25,17],[5,-40],[19,-37],[36,16],[-2,-37],[-19,-31],[-46,-6],[-32,-13],[-32,25],[-4,35]],[[6789,83718],[20,17],[4,76],[18,75],[25,34],[5,44],[15,-8],[34,70],[33,36],[39,-15],[29,1],[0,-112],[26,-57],[4,45],[17,53],[-18,48],[6,25],[53,-14],[-3,35],[-52,44],[-19,-4],[-1,127],[31,61],[29,29],[20,-12],[22,-56],[6,-133],[15,13],[9,77],[-5,55],[35,-38],[7,47],[-37,36],[-21,58],[7,44],[17,-6],[51,-87],[9,4],[30,-41],[11,10],[-31,75],[-20,34],[-7,44],[17,0],[30,-58],[29,12],[41,-29],[7,49],[36,15],[-8,-63],[-39,-106],[-7,-83],[19,-36],[0,95],[16,43],[16,-49],[5,46],[17,32],[5,41],[14,10],[10,-31],[22,72],[17,8],[-4,-45],[28,-16],[-11,-38],[-11,20],[-18,-15],[19,-36],[-5,-49],[19,22],[11,-51],[27,1],[-24,-53],[-16,33],[-24,2],[-15,-48],[16,-9],[-8,-53],[26,-8],[-26,-89],[23,17],[13,47],[5,-35],[47,-4],[-3,-41],[-36,-78],[-13,-110],[-38,13],[-2,39],[-10,-41],[-23,42],[-17,-6],[-23,49],[-15,-13],[-24,19],[-8,-46],[27,1],[15,-17],[45,-87],[-8,-70],[-23,-52],[-11,36],[-19,-50],[-19,30],[-6,38],[-21,18],[-20,-12],[-17,-37],[29,2],[20,-49],[-38,-53],[-34,12],[-4,-20],[25,-34],[14,13],[35,1],[22,-43],[-11,-28],[-24,-8],[-34,-33],[-8,11],[-19,-29],[3,-49],[-27,-50],[-13,20],[7,34],[-23,50],[7,47],[27,62],[-8,24],[-15,-21],[-34,-105],[-3,-24],[-22,32],[-22,-10],[-5,-35],[26,-6],[10,-63],[-16,-61],[-25,-20],[1,-70],[-25,-41],[-12,13],[-23,-82],[-19,-30],[-18,21],[-31,-20],[22,116],[11,11],[26,71],[24,31],[-2,37],[-33,-23],[3,52],[22,102],[29,52],[-7,30],[-15,-45],[-34,-61],[-26,-112],[-24,-59],[-14,-11],[-5,-44],[-19,-30],[-4,84],[-26,58],[-33,27],[3,100],[-4,106],[-13,83],[-11,32],[-23,20],[-27,5],[14,30],[-15,37],[5,23]],[[6782,82633],[27,101],[51,97],[21,-4],[16,-54],[-12,-23],[-55,-73],[-29,-79],[-19,35]],[[6519,81925],[26,41],[5,38],[13,22],[8,-32],[-6,-43],[5,-68],[-7,-33],[-36,13],[-8,62]],[[6240,82171],[5,47],[14,25],[13,-59],[-13,-63],[-19,50]],[[6225,82357],[9,35],[3,-82],[-10,-1],[-2,48]],[[6080,82757],[21,48],[48,-3],[25,-54],[-35,23],[-16,-26],[-43,-6],[0,18]],[[5919,82533],[19,25],[11,-57],[-9,-11],[-21,43]],[[5642,81925],[8,64],[19,12],[27,-58],[-8,-18],[-21,37],[-25,-37]],[[5573,81984],[16,-49],[-27,12],[11,37]],[[5524,80844],[-1,36],[13,24],[20,-25],[-9,-59],[-19,-15],[-4,39]],[[5506,81836],[8,67],[10,10],[11,-62],[-29,-15]],[[5485,80904],[12,85],[-11,46],[31,-2],[4,-99],[-27,-38],[-9,8]],[[5445,80747],[10,13],[16,-42],[-1,-34],[-23,-4],[-2,67]],[[5429,81185],[17,-21],[5,49],[17,46],[5,-22],[-8,-58],[9,-13],[1,-44],[-10,-61],[13,-30],[-7,-19],[-17,22],[-2,-21],[-20,8],[-3,164]],[[5385,80755],[21,25],[11,-30],[-20,-26],[-12,31]],[[5377,81028],[9,39],[23,41],[5,-36],[-23,-38],[-9,-58],[-5,52]],[[5303,81352],[14,11],[5,-42],[-19,31]],[[5265,80882],[33,98],[15,27],[-5,18],[-22,0],[-4,76],[22,50],[27,-44],[-1,38],[-13,52],[30,-13],[18,114],[12,-23],[-2,-43],[-9,-2],[-5,-75],[12,-18],[0,33],[13,1],[-4,-60],[-11,-37],[-22,12],[-1,-45],[-28,-71],[-18,-24],[-31,-141],[-6,77]],[[5246,85264],[5,41],[14,-83],[-7,-25],[-12,67]],[[5238,81460],[22,42],[36,-14],[-1,-78],[-50,12],[-7,38]],[[5213,85252],[8,77],[5,-57],[-13,-20]],[[5096,81334],[16,74],[25,25],[18,-23],[-2,-46],[10,5],[12,47],[15,-32],[26,-26],[26,25],[7,-66],[-9,-60],[-14,40],[-22,3],[-14,23],[-3,40],[-10,-12],[0,-69],[11,-20],[11,-87],[-11,-60],[-36,35],[-10,59],[-18,-18],[-18,-90],[4,58],[-10,43],[0,104],[-4,28]],[[5033,85142],[7,131],[39,52],[21,6],[39,76],[5,-2],[-55,-273],[-22,-32],[-32,-4],[-2,46]],[[4937,81216],[27,3],[-4,-71],[-26,47],[3,21]],[[4863,81217],[10,31],[36,8],[-9,-51],[-37,-10],[0,22]],[[4804,81100],[4,51],[17,20],[25,-19],[12,-29],[35,-42],[6,-41],[-30,44],[-23,-57],[-28,74],[-11,-38],[-7,37]],[[4656,80881],[30,66],[26,-27],[0,-83],[-11,-53],[-13,-21],[-27,58],[-5,60]],[[4587,90956],[19,44],[21,16],[24,-17],[22,6],[9,-37],[-1,-50],[-75,-13],[-18,19],[-1,32]],[[4545,80324],[1,51],[68,-54],[19,-39],[26,0],[18,-28],[-20,-23],[-10,-33],[-22,40],[-17,-9],[-31,37],[-18,-29],[-22,57],[8,30]],[[4451,81463],[14,-1],[-5,-38],[-9,39]],[[3979,80040],[12,22],[16,-18],[-21,-37],[-7,33]],[[3880,79918],[22,34],[33,-11],[24,18],[5,-24],[-9,-45],[-26,-13],[-47,27],[-2,14]],[[3807,79887],[60,24],[9,-35],[-15,-32],[-13,37],[-34,-4],[-7,10]],[[3781,79848],[17,29],[7,-36],[-18,-14],[-6,21]],[[3751,80090],[13,56],[14,-15],[18,18],[12,-21],[-22,-33],[13,-48],[30,0],[1,-41],[-23,3],[-18,-79],[-23,24],[-2,78],[16,35],[-9,20],[-16,-21],[-4,24]],[[3635,79967],[5,36],[28,54],[30,-6],[3,-58],[20,6],[14,-15],[8,-44],[13,13],[-2,-41],[-26,-36],[-12,11],[-18,-45],[-6,28],[-25,1],[-17,-20],[-18,91],[3,25]],[[3608,79782],[7,15],[27,-33],[-32,-11],[-2,29]],[[3261,87028],[35,25],[57,0],[22,-20],[23,10],[9,-24],[21,10],[10,30],[-8,38],[34,68],[37,-11],[0,37],[25,46],[33,-40],[24,32],[23,9],[15,54],[19,-132],[27,-10],[29,34],[29,-20],[27,-40],[-12,-65],[11,-44],[-11,-40],[13,-11],[4,-65],[-13,-38],[21,-54],[2,-58],[21,10],[-11,-34],[2,-48],[-71,-21],[-6,-34],[-20,19],[-26,-18],[-28,-58],[8,-64],[-26,-8],[-23,71],[-38,47],[-57,-4],[-14,35],[-28,18],[-27,58],[-35,42],[-40,19],[-32,72],[-25,10],[-2,70],[-28,97]],[[3147,79003],[17,23],[22,53],[25,5],[37,40],[9,27],[28,-21],[14,19],[8,44],[22,-19],[3,72],[24,-11],[-17,106],[20,32],[8,-16],[15,18],[-18,35],[4,39],[17,23],[29,-1],[9,-68],[15,7],[-7,50],[13,31],[-53,47],[-14,-21],[-32,81],[0,46],[31,92],[42,50],[36,32],[6,-15],[23,13],[16,-63],[-16,-42],[7,-35],[17,-18],[14,53],[6,-33],[15,29],[-1,41],[18,63],[15,-58],[11,26],[20,-62],[-8,-56],[-23,-13],[-24,-70],[-40,-70],[2,-39],[34,54],[58,64],[4,22],[22,22],[7,-19],[-5,-72],[-16,-51],[-26,-34],[-6,-23],[-45,-51],[-30,-20],[12,-46],[-16,-1],[-4,-61],[-16,17],[-7,-70],[-20,25],[-4,-76],[-36,-13],[-22,30],[-10,-31],[-12,23],[-21,-37],[-6,11],[-44,-73],[-3,-31],[-23,4],[-16,-23],[-13,-60],[-28,23],[-9,-45],[-49,40],[-15,36]],[[3070,93368],[7,34],[34,50],[123,108],[63,74],[48,74],[45,56],[42,64],[84,105],[55,56],[146,167],[172,154],[133,90],[87,45],[135,15],[52,-11],[34,-31],[-41,-11],[7,-38],[-10,-71],[-31,-77],[1,-70],[12,-56],[-21,-59],[-49,-33],[-4,-20],[49,7],[42,-151],[40,-3],[36,32],[42,-1],[49,-30],[47,21],[69,15],[32,-58],[50,21],[18,-34],[52,32],[18,26],[84,-65],[18,59],[26,44],[37,150],[18,26],[40,-9],[8,-39],[32,-12],[31,27],[26,0],[-32,110],[-71,55],[-45,24],[-48,-1],[-60,-60],[13,112],[-3,83],[-62,114],[-22,91],[-26,35],[-59,14],[-8,56],[-32,90],[7,50],[27,18],[10,43],[16,-37],[24,28],[27,-89],[36,-91],[24,-10],[-19,-101],[3,-55],[28,-50],[57,-123],[53,-68],[39,18],[30,28],[9,49],[-45,2],[-10,45],[-56,70],[-53,112],[10,52],[0,60],[14,23],[1,57],[33,93],[30,-32],[22,3],[1,28],[-38,55],[-25,-8],[-28,57],[-87,-29],[-32,-37],[-34,0],[-39,-19],[-34,17],[-20,43],[-17,-16],[-21,23],[-4,-51],[-36,39],[-91,42],[-54,31],[-48,15],[-22,30],[1,98],[-22,163],[-52,216],[-20,58],[-36,62],[-91,101],[-145,228],[-21,24],[-51,87],[-50,49],[-54,37],[-51,23],[-29,35],[-19,70],[-54,84],[-45,40],[-81,41],[-42,-6],[37,40],[92,59],[20,46],[3,57],[19,76],[11,236],[-8,117],[179,-31],[68,6],[144,42],[79,28],[77,15],[77,63],[41,65],[29,30],[53,87],[81,192],[21,92],[7,79],[-2,186],[39,233],[84,183],[65,179],[37,77],[129,162],[96,-35],[69,-3],[68,40],[64,53],[93,104],[74,108],[44,86],[114,188],[33,31],[99,63],[7,-47],[55,-44],[82,-12],[68,15],[13,24],[32,-3],[61,17],[73,51],[74,85],[71,121],[36,88],[86,185],[68,76],[12,-68],[47,-38],[39,-2],[39,-20],[16,-82],[27,41],[99,-49],[15,-98],[-54,-71],[-35,-63],[-41,-4],[12,-146],[81,-15],[44,59],[-7,76],[16,8],[31,67],[23,12],[19,-48],[4,63],[-27,43],[35,55],[21,-47],[-3,65],[15,22],[71,-74],[45,-66],[13,-42],[-11,-33],[1,-109],[9,-49],[61,10],[35,-37],[16,-40],[48,62],[30,75],[112,0],[69,42],[53,-11],[40,-34],[84,-2],[61,-32],[45,-35],[9,-34],[-26,-11],[-26,-83],[-26,-30],[14,-93],[25,5],[19,-24],[45,-6],[10,-28],[69,-20],[33,9],[-17,-43],[9,-25],[-53,-26],[-8,-24],[20,-25],[89,6],[72,-41],[14,-33],[28,5],[44,86],[57,15],[24,-18],[10,34],[40,7],[29,-27],[15,-59],[42,27],[38,8],[58,83],[13,-22],[45,20],[21,-15],[34,26],[12,-30],[66,-8],[62,-72],[28,-1],[19,-24],[26,31],[24,-8],[37,-73],[0,-45],[35,-19],[41,51],[1,-63],[26,57],[81,-77],[14,-67],[24,-23],[49,1],[43,-15],[29,36],[23,-73],[48,-10],[29,45],[43,-12],[62,12],[66,-10],[49,-38],[50,-3],[17,28],[65,-95],[28,-8],[32,-54],[45,-16],[20,-30],[45,-12],[17,-26],[27,32],[66,-20],[45,77],[48,6],[9,20],[84,49],[18,24],[86,30],[42,-25],[48,32],[9,-18],[79,-73],[53,-37],[70,-80],[26,-67],[37,-11],[87,-97],[68,-40],[52,-62],[27,-47],[61,-13],[58,-45],[0,-9012],[2,-971],[-1,-889],[130,-95],[17,100],[135,-145],[81,180],[170,20],[1,-39],[-33,-272],[47,-112],[66,-76],[26,-22],[11,-116],[29,-80],[266,-580],[30,-299],[-8,-93],[22,4],[51,108],[111,158],[11,23],[68,8],[32,139],[-2,209],[30,-19],[18,19],[19,71],[-1,39],[-32,47],[45,48],[68,28],[131,158],[62,-115],[28,-88],[11,-2],[24,-70],[0,-104],[-12,-24],[1,-37],[16,-47],[-5,-42],[18,-76],[73,-38],[5,-66],[32,-73],[24,0],[29,-108],[-6,-69],[26,-20],[-6,-46],[22,-71],[114,-152],[32,-119],[46,-120],[50,-110],[-23,-49],[33,-134],[47,-140],[28,-176],[57,-182],[32,-161],[30,-111],[25,-123],[53,-180],[32,-155],[-33,-140],[89,-52],[-21,-205],[71,-81],[-8,-61],[11,-57],[7,-119],[71,14],[33,-77],[82,-115],[23,-48],[85,-47],[44,-115],[44,-33],[11,-116],[23,-15],[27,-36],[40,23],[28,-143],[-3,-90],[-20,-107],[-18,-67],[1,-60],[10,-38],[-5,-118],[12,-104],[11,-46],[6,-133],[12,-63],[-32,-100],[-24,-122],[-1,-33],[-20,-90],[-23,-77],[-37,-97],[-27,-55],[-19,-14],[3,-46],[-19,-23],[-12,40],[-1,56],[-13,24],[-1,-44],[-12,-22],[-18,18],[-13,52],[-4,108],[3,57],[-17,33],[8,103],[-9,6],[-16,56],[-6,64],[30,63],[17,63],[15,-8],[-3,75],[-11,82],[14,122],[-9,190],[-10,67],[-43,164],[-22,55],[-12,48],[-7,-34],[23,-62],[25,-85],[7,-72],[22,-90],[10,-131],[-16,-43],[-2,-79],[7,-92],[11,-62],[-9,-28],[-11,96],[-8,12],[3,-70],[-4,-74],[-36,-102],[-14,-5],[-24,49],[19,73],[11,73],[-3,38],[-25,-10],[10,-72],[-8,-42],[-33,-56],[-7,1],[-23,108],[-11,-45],[-25,54],[-17,18],[-12,50],[-28,68],[0,76],[31,31],[22,51],[-20,47],[7,75],[-9,39],[23,44],[3,24],[-18,1],[-3,74],[7,43],[-41,-17],[6,-45],[11,-16],[-1,-37],[-13,-85],[-1,-60],[-19,-73],[-18,13],[7,-93],[-10,-43],[-24,52],[-25,22],[-9,30],[-12,132],[-16,70],[21,-29],[7,75],[27,37],[12,147],[-8,102],[10,57],[6,-21],[12,42],[7,92],[-21,-11],[-4,-58],[-19,-30],[-21,-61],[13,-113],[-8,-42],[-33,3],[-12,-43],[3,-30],[-17,-14],[-7,34],[4,67],[-19,23],[-12,128],[-32,-17],[0,-48],[-28,118],[-3,123],[8,25],[25,1],[7,66],[13,49],[30,12],[16,-72],[7,63],[-15,168],[9,3],[30,-45],[4,-59],[11,-32],[6,23],[-9,77],[-22,35],[-19,48],[-3,53],[-11,13],[-12,-25],[-10,49],[-23,32],[-5,57],[12,23],[-4,64],[-22,28],[-37,66],[-13,69],[-15,33],[-13,79],[29,43],[-11,58],[-18,-47],[-19,18],[-2,-27],[-23,58],[-31,8],[-11,56],[-27,-28],[-54,76],[-8,75],[15,73],[18,-22],[33,4],[9,48],[-22,3],[-32,36],[2,35],[-18,125],[13,81],[-24,-10],[-15,19],[-16,53],[7,103],[20,2],[16,-36],[33,-24],[63,-89],[5,15],[-25,58],[-20,19],[-66,130],[-3,95],[-17,-15],[-2,-65],[-20,3],[-39,166],[-55,147],[-11,140],[9,65],[-2,52],[27,41],[-13,100],[-8,-2],[-9,-85],[-20,-30],[0,-42],[12,-22],[-13,-57],[-10,10],[-22,-20],[-25,11],[-36,34],[-7,-15],[-35,36],[-40,174],[-4,110],[-42,140],[-13,79],[19,1],[-11,174],[-19,-56],[1,-58],[-35,132],[-8,177],[-8,92],[-21,135],[-32,116],[-36,37],[-5,-16],[28,-38],[4,-41],[17,-39],[20,-131],[-15,11],[-34,140],[-22,36],[-22,10],[41,-92],[13,-85],[17,-29],[-7,-97],[9,-88],[13,-23],[-5,-24],[27,-124],[3,-55],[25,-139],[2,-32],[-14,11],[27,-204],[9,-85],[1,-69],[-12,8],[-1,-61],[12,-64],[-29,23],[-19,32],[-14,-4],[-18,43],[-15,66],[-10,84],[-22,-16],[-33,50],[-27,-37],[-50,-19],[3,81],[-25,16],[-4,19],[30,39],[-10,69],[5,53],[-28,109],[0,36],[-22,84],[13,24],[-2,90],[-19,64],[-12,10],[15,-131],[-12,-125],[-27,-5],[-42,70],[-26,30],[-15,150],[-11,-68],[-13,-22],[-44,54],[-14,-20],[-10,50],[-12,-18],[-3,-54],[45,-35],[7,7],[45,-44],[33,-66],[30,-104],[-11,-44],[-24,-44],[6,-11],[33,44],[7,30],[27,1],[7,-105],[26,-78],[16,-157],[-19,-44],[-43,-32],[-11,10],[9,47],[-18,16],[-12,-17],[7,-39],[-10,-37],[-43,22],[-11,-23],[5,-60],[-8,-35],[-29,5],[-8,78],[-36,35],[3,15],[-28,74],[-17,19],[-29,-19],[-35,70],[-16,15],[-56,107],[-51,75],[-2,50],[-30,70],[-37,64],[-5,28],[4,75],[-15,48],[-55,121],[-30,47],[-96,89],[-36,71],[-43,66],[-98,104],[-42,49],[-91,144],[-30,39],[5,29],[31,89],[24,-14],[-9,-27],[24,3],[0,43],[21,70],[-22,7],[2,77],[-14,116],[7,35],[22,41],[-5,34],[16,30],[-13,56],[-19,-51],[-2,-59],[-25,-21],[-21,-72],[-1,-49],[-107,-100],[-12,-28],[-28,-28],[-95,22],[-67,36],[-26,32],[-123,125],[-17,56],[18,-10],[34,24],[11,71],[-33,131],[3,42],[-20,-17],[-31,44],[6,-50],[45,-120],[-10,-21],[-54,-51],[-39,0],[-49,55],[-61,24],[-32,23],[-81,40],[-45,11],[-59,-4],[-63,-33],[-77,-12],[-80,-28],[-54,-48],[-39,39],[-45,-26],[-64,-120],[-46,-115],[6,65],[36,103],[62,117],[46,2],[-16,66],[-49,48],[-8,25],[-10,-82],[-26,84],[-26,30],[-17,-9],[-16,27],[-71,19],[9,28],[38,23],[-42,33],[-19,-6],[-2,25],[37,156],[-15,15],[-13,-36],[-29,-22],[-1,-57],[-20,-66],[-39,12],[-70,97],[1,31],[-26,36],[-39,26],[-41,-35],[-22,27],[13,29],[31,32],[25,74],[-14,10],[-18,-49],[-79,-93],[-29,-23],[-38,5],[1,-54],[60,27],[11,-24],[2,-53],[-17,2],[-28,-37],[-18,6],[-41,-38],[-41,-77],[-12,2],[-12,48],[47,77],[-37,-12],[-17,11],[-1,54],[23,83],[13,27],[18,2],[20,-31],[24,17],[22,41],[38,13],[57,58],[42,20],[-9,25],[-19,-2],[1,71],[-11,-49],[-19,-20],[1,30],[25,65],[1,21],[-33,-58],[-45,-47],[-19,-3],[-4,30],[63,112],[-6,38],[-29,-60],[-38,-14],[-12,26],[-15,-49],[-20,-14],[-54,13],[-10,58],[27,19],[11,-9],[18,25],[40,16],[29,28],[23,65],[-25,2],[-14,-46],[-23,-19],[-45,-2],[-18,68],[-12,3],[-17,-69],[-21,-8],[-4,59],[16,26],[17,-6],[-11,44],[-3,55],[13,34],[26,114],[96,6],[-7,38],[-91,-5],[-21,-63],[-27,-26],[-21,-77],[-31,-48],[-23,12],[20,36],[-10,113],[-12,53],[18,30],[-22,10],[-14,-23],[-1,-51],[12,-63],[-14,-63],[1,-41],[-13,-15],[-26,48],[-2,-67],[-27,-45],[-21,22],[0,52],[-11,19],[-7,-73],[-9,15],[4,129],[9,62],[-15,11],[-17,-130],[9,-111],[-4,-29],[-19,-9],[1,49],[-27,34],[-7,-46],[16,-65],[-13,-8],[-38,16],[-34,-48],[-28,9],[-5,31],[14,95],[42,151],[1,53],[49,123],[16,81],[-6,18],[-73,-211],[-1,-35],[-18,-58],[-8,8],[-8,69],[-12,-1],[-3,-81],[-11,-54],[-18,-42],[-3,-64],[-16,-68],[-21,27],[-7,-44],[24,-28],[-5,-91],[10,-8],[19,85],[37,6],[11,-22],[4,-91],[-14,-45],[-31,-32],[-22,-76],[1,-63],[21,20],[17,75],[30,44],[30,-89],[0,-44],[10,-43],[-23,-192],[-26,0],[-9,52],[-19,9],[1,-36],[-27,-44],[0,-17],[28,14],[23,-27],[61,-124],[26,-85],[-15,-77],[-13,-26],[-34,-35],[-17,16],[-14,-18],[-29,-6],[9,51],[-26,67],[9,60],[-17,63],[-16,-126],[0,-62],[-12,-41],[-19,69],[-9,-8],[-7,-59],[-18,-33],[-34,50],[-29,-40],[-15,52],[-27,-21],[-22,5],[-9,28],[24,74],[-9,14],[-27,-38],[-29,-175],[-30,-42],[-9,18],[14,55],[13,84],[-15,172],[-16,5],[-5,-28],[1,-81],[13,-53],[-10,-4],[-10,-72],[-17,11],[-8,-20],[-5,-68],[-11,-17],[4,-47],[25,-31],[-6,-74],[-27,32],[-12,127],[8,37],[-11,78],[-17,6],[6,-52],[-8,-49],[5,-196],[-5,-64],[-27,74],[-1,43],[-16,28],[-34,31],[3,-40],[24,-36],[-1,-63],[-69,-158],[-32,-91],[0,-36],[-16,-10],[-9,-86],[-12,2],[-3,70],[34,211],[0,29],[-26,-65],[-19,-111],[-12,11],[-9,142],[-13,-52],[-11,2],[16,-62],[-5,-80],[-39,0],[-8,-61],[-18,-24],[-22,-55],[7,-43],[-15,-41],[-16,-10],[0,54],[-16,36],[-13,-45],[-1,-53],[-22,-17],[-24,31],[-9,-23],[-21,38],[-7,43],[-12,-36],[-21,-27],[6,-35],[-20,0],[-5,-39],[-41,-7],[-6,76],[-22,-14],[-21,22],[3,22],[-21,8],[-3,70],[8,36],[16,18],[5,71],[32,31],[9,-11],[29,51],[33,3],[0,45],[33,21],[34,62],[31,-9],[-11,69],[22,26],[3,32],[37,102],[-13,15],[-24,-22],[-60,-109],[-30,-20],[-18,-39],[-39,16],[-43,67],[-15,40],[-5,46],[18,117],[13,45],[15,133],[27,79],[17,33],[35,99],[11,98],[0,71],[23,32],[5,156],[4,27],[-18,44],[-22,163],[39,35],[5,27],[63,27],[89,164],[92,118],[51,-161],[41,-16],[13,-27],[34,112],[30,8],[36,-45],[19,10],[63,-48],[65,-20],[30,-55],[-1,27],[-22,63],[-29,36],[-38,-14],[-51,63],[-24,-1],[-40,42],[-25,68],[-39,66],[-29,28],[18,55],[24,9],[31,124],[23,18],[8,60],[46,27],[30,45],[-32,50],[-20,4],[-43,-64],[-11,-49],[-19,-14],[-12,-70],[0,-70],[-18,-31],[-25,19],[-36,7],[-74,-17],[-26,43],[-28,16],[-14,-52],[-87,-84],[-39,-154],[-36,-12],[-19,-31],[-33,2],[-39,-63],[-48,-109],[-1,-29],[26,-124],[-2,-23],[-38,25],[-19,-18],[-30,-52],[-21,-92],[-27,-29],[-32,-74],[-6,-73],[8,-34],[19,-24],[-40,-56],[-9,-67],[-13,-4],[-28,-70],[-19,-7],[-9,28],[-25,-11],[4,-68],[16,-13],[-3,-30],[25,-42],[8,-35],[-12,-73],[-19,-47],[-7,-62],[-25,-21],[-4,-22],[-39,-2],[-15,12],[-40,-31],[-18,3],[-19,-60],[23,16],[15,-20],[15,30],[19,1],[7,-50],[-16,-116],[-19,-16],[-26,-51],[-28,37],[5,-34],[-13,-18],[-18,18],[7,35],[2,75],[-22,71],[3,-119],[-9,-55],[-18,-15],[-13,25],[-6,-35],[16,-28],[-9,-53],[-49,-10],[17,-93],[-8,-32],[-27,-21],[-10,8],[-24,-45],[-12,13],[-36,-37],[5,-26],[20,-18],[-23,-32],[-7,-43],[2,-61],[-12,-44],[-24,-35],[24,-26],[-6,-59],[10,-60],[27,63],[59,-23],[16,22],[12,-22],[15,25],[22,-78],[19,-27],[19,13],[23,-34],[18,-53],[8,-53],[15,-22],[-28,-14],[-14,-118],[-12,-39],[-30,-25],[-11,-55],[-24,-33],[-48,0],[-15,-17],[-4,-94],[-12,-33],[-27,1],[-5,-20],[10,-79],[11,-32],[-27,-36],[-20,15],[-2,-45],[20,-46],[-11,-81],[-21,-30],[-6,-33],[9,-24],[-23,0],[-14,-52],[-26,66],[-9,-7],[5,-57],[-4,-40],[-21,-3],[-12,-43],[-17,16],[0,27],[-20,-1],[-4,-39],[-22,-24],[-23,31],[-28,-17],[-35,-69],[15,-52],[-9,-51],[-40,-44],[-28,-2],[1,-53],[14,-25],[-6,-40],[-20,-16],[-36,59],[-10,30],[-20,-20],[-5,-63],[1,-69],[-26,-27],[-3,-97],[-65,-7],[-21,24],[-2,-74],[8,-71],[-20,0],[-12,37],[-21,3],[-4,-39],[-32,-27],[-39,-92],[-15,-12],[-5,-44],[13,-11],[47,64],[4,-50],[-6,-53],[-15,-7],[0,-31],[18,-38],[-10,-38],[-18,-26],[-2,-49],[-26,-44],[-8,-32],[2,-42],[-32,14],[-31,-28],[-4,-70],[-12,-12],[-19,75],[-8,-53],[-27,-42],[-11,-53],[-24,-6],[5,-50],[-17,-27],[-25,43],[-24,67],[-22,-16],[0,-51],[11,-5],[1,-36],[-29,-10],[-13,-67],[6,-32],[18,-6],[5,-52],[-36,-4],[-24,-15],[-17,77],[-51,-38],[-18,-51],[-16,-3],[-9,-49],[19,-1],[27,25],[20,-17],[6,-54],[-16,-47],[-43,44],[-23,11],[-5,-70],[-33,6],[-23,21],[-20,-33],[-27,-88],[2,-44],[47,-20],[32,-36],[-3,-29],[-32,-42],[1,-23],[18,-4],[25,31],[16,-7],[-55,-78],[-23,-63],[1,-52],[-13,50],[-10,-17],[16,-66],[-6,-50],[-7,39],[-10,-2],[-2,-53],[-25,80],[0,95],[-19,-60],[8,-73],[-4,-67],[-24,-6],[3,58],[-35,1],[-16,-80],[-25,-9],[-75,-43],[-29,-22],[-7,-22],[-3,-74],[-17,46],[5,80],[-23,-19],[10,-30],[1,-104],[-16,-71],[6,-46],[-24,-81],[-32,-30],[2,52],[24,4],[-1,40],[-10,4],[2,111],[18,72],[-29,39],[-28,12],[-13,-18],[3,-45],[-12,-21],[-13,22],[-25,-13],[-9,-82],[-35,-74],[-26,-20],[-37,28],[-6,-29],[11,-44],[-20,-81],[1,-31],[-21,-37],[-12,105],[-10,13],[-14,-37],[-11,14],[-18,-31],[31,-13],[-2,-68],[-32,-10],[-16,25],[5,39],[-13,24],[-22,-22],[-19,-90],[-61,-85],[-26,2],[-11,29],[-26,-29],[-13,4],[10,156],[29,96],[1,46],[-15,16],[-31,-2],[-24,-29],[-24,-101],[4,-129],[-40,-140],[-7,-12],[-14,-85],[-21,36],[-19,-12],[13,-65],[10,-17],[1,-56],[-25,-38],[-19,33],[0,45],[-16,15],[-13,-60],[10,-49],[-17,-47],[-14,27],[-32,-8],[-16,18],[-14,74],[32,6],[-21,47],[-8,104],[-21,56],[-11,7],[-16,-33],[-10,-65],[7,-27],[14,0],[18,-70],[-11,-46],[14,-95],[0,-52],[-22,30],[-20,-19],[3,-26],[-17,-30],[-18,-7],[-22,28],[-16,59],[4,36],[-13,56],[-21,37],[-31,-25],[-10,-56],[49,-85],[4,-31],[-50,-111],[-24,-21],[-20,-33],[16,-56],[27,2],[9,24],[22,-50],[13,-83],[-26,6],[8,34],[-17,6],[-10,-28],[-16,22],[-17,62],[-25,-39],[2,-69],[-18,-1],[-28,-50],[-23,18],[-37,10],[-45,-5],[-34,-14],[-41,-40],[-29,-71],[-4,-69],[-29,-53],[-51,-33],[-29,3],[-28,28],[-9,30],[-9,74],[-10,30],[-1,55],[8,29],[44,41],[14,25],[23,110],[19,110],[-1,29],[22,54],[14,13],[25,-46],[38,39],[25,49],[25,0],[37,81],[34,20],[36,-14],[31,5],[1,-37],[28,-72],[9,-61],[-5,-50],[27,24],[-8,52],[2,37],[30,-30],[-15,42],[2,77],[-10,109],[32,46],[26,21],[42,-15],[21,14],[10,69],[-16,4],[4,28],[18,10],[7,38],[18,-4],[26,99],[3,-32],[15,-20],[21,48],[-5,83],[-20,-9],[27,68],[64,206],[33,52],[23,62],[19,13],[27,42],[25,68],[27,14],[35,39],[37,20],[89,70],[30,-9],[10,18],[45,5],[10,-10],[-20,-27],[-1,-47],[14,-2],[-3,-49],[-29,-18],[-3,-85],[38,-98],[11,22],[27,-39],[4,19],[-29,53],[-3,85],[-6,32],[26,-28],[57,3],[7,-86],[23,7],[26,-36],[7,22],[-14,40],[27,15],[-56,89],[-32,36],[1,58],[-16,-7],[39,166],[15,123],[11,56],[23,44],[36,96],[18,13],[40,74],[30,81],[82,96],[41,74],[35,39],[68,106],[17,42],[29,-68],[19,-14],[31,19],[8,59],[-13,47],[-2,46],[15,122],[29,108],[41,130],[24,62],[22,37],[40,41],[21,52],[22,87],[14,15],[26,62],[30,25],[8,-74],[18,-15],[4,41],[-10,105],[-23,-2],[-6,34],[2,95],[9,59],[25,409],[14,42],[38,16],[12,53],[-20,-9],[-34,77],[-3,62],[9,97],[20,106],[27,33],[29,101],[49,102],[4,57],[19,93],[-5,45],[13,33],[-3,43],[13,38],[-20,0],[-11,-32],[0,-38],[-21,-53],[-28,-31],[-38,-27],[-21,-31],[-29,-22],[-5,-21],[-41,-28],[-44,-61],[-79,-73],[-26,5],[-28,53],[-5,73],[-20,49],[-40,38],[2,46],[11,17],[9,167],[-12,-3],[-25,-101],[-41,-54],[-6,-58],[5,-58],[-8,-37],[-14,-12],[-3,-32],[9,-80],[16,-91],[19,-76],[-26,-87],[-28,-21],[-42,32],[-39,161],[-47,208],[-26,73],[-23,42],[-31,13],[16,65],[-16,44],[-25,-9],[-6,-87],[-15,7],[1,-65],[-29,-30],[-24,79],[3,26],[-19,19],[-11,-30],[-16,6],[-1,59],[-22,-18],[-25,61],[18,47],[-17,89],[-44,-52],[-46,-72],[-31,-62],[-20,-95],[-13,57],[-36,-33],[-94,-124],[-10,-41],[0,-49],[-41,-38],[-8,-26],[-22,-10],[-15,-44],[-20,-15],[-4,55],[-29,45],[-54,-20],[-29,33],[49,47],[15,-39],[18,12],[5,50],[25,77],[3,60],[-8,85],[1,81],[-16,74],[5,21],[-16,20],[-29,97],[-20,139],[29,128],[21,23],[24,79],[24,26],[-15,77],[-18,44],[-15,64],[-10,107],[-50,162],[-3,74],[-25,67],[-10,63],[-30,85],[-10,44],[-22,9],[-11,-37],[-2,-74],[6,-37],[-8,-56],[-12,-21],[-27,-10],[-18,21],[-19,-54],[-36,-29],[-50,-68],[-73,-48],[-88,-28],[-75,10],[-51,38],[-13,32],[-13,99],[23,18],[-18,69],[-54,62],[-32,108],[-5,34],[-33,51],[-18,62],[-42,8],[-31,42],[-47,110],[23,32],[24,55],[-2,36],[-24,6],[-38,-54],[-48,10],[-16,51],[11,32],[32,1],[57,128],[10,-4],[17,45],[-16,34],[-4,41],[32,24],[-27,7],[5,70],[27,78],[-17,3],[-18,-48],[-40,42],[-6,40],[22,49],[27,-6],[19,23],[0,45],[-17,-21],[-30,32],[-16,54],[2,23],[-20,7],[-13,35],[-10,-14],[-12,-99],[-14,-6],[-38,16],[-10,21],[-10,66],[1,129],[-11,19],[-43,10],[-18,37],[-10,98],[42,44],[6,38],[-17,46],[-30,31],[-45,-27],[0,-46],[-21,23],[-9,88],[8,147],[6,11],[-2,-107],[92,47],[0,19],[-35,20],[-20,28],[-24,82],[2,18],[36,19],[55,-8],[33,25],[-29,134],[-4,46],[3,84],[21,77],[101,278],[4,29],[27,77],[29,61],[5,70],[18,67],[21,34],[19,-4],[9,23],[-11,115],[26,188],[18,70],[38,61],[-18,24],[4,22],[58,133],[60,46],[48,11],[42,-45],[43,-11],[32,-84],[24,-6],[6,-26],[54,-88],[73,24],[61,124],[4,47],[44,29],[63,172],[23,89],[23,39],[-9,58],[14,5],[28,-28],[22,-5],[13,-77],[52,0],[45,20],[26,-20],[77,28],[48,38],[9,51],[56,128],[38,135],[0,71],[-12,81],[-23,95],[-17,121],[-1,118],[-5,52],[-71,157],[-9,32],[-41,28],[-27,1],[10,97],[27,33],[14,-25],[35,-20],[51,7],[-10,45],[31,10],[41,81],[2,114],[-42,122],[-47,68],[-25,48],[-1,-32],[-27,-48],[-20,-86],[-42,-30],[-42,42],[-59,-93],[-81,-34],[-18,-71],[-85,-103],[-21,-70],[-5,-99],[-44,-70],[-4,93],[-15,110],[-23,50],[-28,-3],[4,34],[-32,46],[-9,36],[-38,-60],[16,-45],[21,-7],[16,-39],[24,11],[2,-48],[-22,-81],[-19,-11],[-22,82],[-55,76],[-41,33],[-64,13],[-41,-27],[-27,12],[-52,3],[-45,-22],[-108,-112],[-58,-17],[-111,74],[-94,45],[-47,14],[-88,40],[-49,79],[-20,96],[1,74],[20,36],[-6,64],[-28,63],[-45,56],[-1,59],[-46,64],[-10,56],[39,-33],[33,3],[9,27],[24,15],[16,32],[-3,55],[35,61],[-38,63],[-19,9],[-29,-16],[-39,15],[-64,52],[-104,21],[-49,52],[-38,63],[-55,60],[-46,30],[-15,93]],[[2812,78476],[27,27],[-1,59],[18,0],[10,36],[0,57],[21,33],[5,57],[-10,16],[11,87],[46,106],[16,-26],[27,16],[28,-3],[-9,65],[-12,5],[9,77],[-6,26],[18,76],[40,67],[54,37],[29,-53],[31,1],[2,-23],[-21,-74],[5,-60],[-55,-95],[-65,-72],[-19,-66],[-1,-36],[-28,-81],[-15,-58],[-25,-10],[-28,-71],[-15,-17],[-4,-51],[-15,21],[-27,-49],[-54,-69],[13,45]],[[2752,78371],[29,49],[-1,-45],[-26,-25],[-2,21]],[[2615,78610],[4,50],[19,16],[4,-44],[-9,-45],[-12,-8],[-6,31]],[[2607,82847],[50,-13],[29,5],[10,-14],[-27,-68],[-23,4],[-9,46],[-20,10],[-10,30]],[[2611,78728],[8,-39],[-15,13],[7,26]],[[2547,78457],[17,17],[23,-3],[-2,19],[27,23],[19,-10],[10,-25],[-17,-105],[-30,50],[-25,-29],[-19,14],[-3,49]],[[2517,78521],[8,26],[23,-16],[1,-31],[-14,-31],[-13,16],[-5,36]],[[2497,78313],[4,72],[33,-18],[-7,-57],[-30,3]],[[2431,83489],[9,43],[22,15],[12,-10],[29,22],[-2,-56],[-32,-62],[-5,31],[-33,17]],[[2316,78170],[5,42],[40,72],[31,-27],[1,-27],[-13,-58],[-19,2],[-17,-26],[-15,-48],[-15,21],[2,49]],[[2228,78152],[9,-32],[-16,2],[7,30]],[[2183,78046],[17,42],[16,-37],[-12,-55],[-19,-1],[-2,51]],[[2036,90914],[2,37],[25,87],[-3,75],[8,18],[-5,57],[21,3],[8,-42],[-4,-48],[12,-34],[64,-57],[77,-48],[55,-20],[58,87],[58,58],[58,-14],[29,-69],[23,-15],[15,-104],[-2,-38],[53,-56],[56,-14],[22,-32],[9,-35],[36,-20],[88,-20],[14,6],[102,-55],[-27,-131],[-22,-43],[-51,35],[-43,-1],[-50,-29],[-44,-89],[-10,-61],[1,-53],[-20,-46],[-30,22],[3,24],[-26,119],[-32,62],[-50,60],[-39,-5],[-11,69],[-17,55],[-54,80],[-86,69],[-65,11],[-47,-44],[-18,-58],[-36,-34],[-28,33],[-49,36],[-24,83],[-7,56],[3,73]],[[1818,77819],[15,59],[33,49],[12,-2],[27,-39],[-1,-41],[-28,-51],[-32,-27],[-22,-1],[-4,53]],[[1695,87369],[6,69],[25,52],[11,-3],[-4,-58],[12,-54],[33,-70],[48,-63],[22,-14],[25,13],[57,-94],[-21,-19],[-9,37],[-51,8],[-26,-17],[-33,46],[-58,136],[-37,31]],[[1687,87598],[8,-5],[5,-84],[-20,42],[7,47]],[[1421,77626],[35,0],[33,-31],[9,30],[14,-2],[33,27],[25,-1],[-6,-28],[10,-29],[8,15],[31,-24],[23,16],[10,-11],[32,11],[5,-12],[41,-7],[-25,-23],[-16,6],[-14,-22],[-44,-1],[-22,-35],[-8,16],[-16,-19],[-19,4],[-18,25],[-52,3],[-9,-15],[-29,19],[-10,49],[-11,-1],[-10,40]],[[1064,77503],[55,37],[11,-28],[25,50],[3,-22],[19,38],[5,29],[18,-29],[27,8],[8,34],[6,-24],[35,37],[1,42],[44,10],[-13,41],[43,-5],[13,34],[-1,36],[-32,7],[-23,29],[5,26],[21,-16],[12,36],[-2,39],[38,46],[33,-32],[22,-76],[1,-31],[-21,-85],[-34,8],[-4,-43],[33,-79],[-3,-24],[-15,21],[-17,-10],[-4,-27],[-16,-4],[-20,23],[-19,-95],[-25,31],[-64,-55],[-13,29],[-29,12],[-23,-6],[-13,-35],[-22,-8],[-33,6],[-32,25]],[[1013,77451],[17,17],[7,-29],[-22,-4],[-2,16]],[[1005,77685],[16,-19],[-11,-12],[-5,31]],[[949,77433],[5,9],[40,-3],[1,-26],[-19,3],[-22,-24],[-5,41]],[[890,77452],[11,14],[28,-1],[15,-90],[-16,5],[-17,49],[-21,23]],[[821,77563],[14,45],[26,-9],[23,-80],[-20,-38],[15,-56],[-13,-34],[-18,-2],[-18,22],[3,57],[-7,2],[-8,77],[3,16]],[[811,77269],[5,56],[12,10],[10,-27],[19,10],[-12,22],[34,30],[10,-23],[-2,-55],[-23,0],[13,-52],[-29,29],[2,-40],[-12,12],[-5,-39],[-7,45],[-15,22]],[[601,77040],[11,67],[15,16],[7,36],[-13,66],[4,27],[32,7],[7,59],[-13,69],[10,45],[15,4],[18,-20],[19,59],[9,-14],[3,-74],[-20,-29],[-2,-50],[13,-20],[19,4],[31,26],[30,5],[7,-64],[-7,-88],[-15,-12],[-36,18],[-13,-52],[-18,-12],[-13,-41],[-23,31],[-6,-25],[6,-48],[-11,17],[-13,-26],[-4,55],[-14,29],[-19,-108],[-14,11],[-2,32]],[[469,77371],[13,9],[2,-26],[-14,-17],[-1,34]],[[402,77131],[18,33],[24,-17],[26,34],[50,39],[21,43],[2,128],[12,16],[16,-10],[15,-44],[-26,-98],[5,-86],[-7,-38],[-33,-31],[-36,61],[-27,-33],[-40,-10],[-1,-43],[-10,5],[-9,51]],[[257,77332],[8,29],[29,17],[39,-5],[11,-42],[-2,-30],[19,-32],[15,17],[18,-17],[33,34],[-10,-40],[-41,-32],[-12,-71],[4,-31],[-12,-31],[-8,16],[-9,-44],[8,-57],[-8,-5],[-9,56],[-14,-24],[-16,48],[-13,8],[4,28],[41,25],[-3,64],[-20,1],[-13,34],[-39,66],[0,18]],[[130,77016],[32,-12],[-3,-18],[-27,7],[-2,23]],[[81,76979],[27,-17],[7,-23],[-25,5],[-9,35]],[[77,77233],[14,52],[20,-35],[0,-61],[-19,-10],[-15,54]],[[43,76751],[8,25],[10,-22],[5,-50],[-12,-2],[-10,-32],[-1,81]],[[3,76640],[12,18],[6,-59],[-18,-25],[0,66]],[[99917,77451],[12,-2],[12,35],[26,14],[31,-61],[-9,-68],[-24,-42],[-12,-5],[-25,29],[-11,29],[0,71]],[[99678,77049],[5,24],[26,-29],[19,3],[27,-24],[4,-31],[24,-42],[27,-78],[25,-26],[11,-57],[44,-11],[21,-33],[-18,-19],[-9,14],[-29,-16],[-15,41],[-41,72],[-30,101],[-30,43],[-17,-8],[-22,25],[-22,51]],[[99628,77446],[9,11],[20,-16],[11,-33],[-14,-49],[-10,-4],[-16,91]],[[99570,77271],[19,-7],[21,-67],[-22,15],[-18,59]],[[99530,77510],[7,22],[17,-22],[3,-34],[-17,-20],[-10,54]],[[99282,77351],[24,27],[15,50],[39,26],[6,63],[16,96],[11,18],[20,-52],[-12,-32],[-8,-57],[-20,-53],[21,-18],[0,-35],[-13,-10],[-42,17],[-17,-31],[-4,-70],[-11,2],[-25,40],[0,19]],[[98911,77903],[26,-13],[-18,-27],[-8,40]],[[98408,78327],[22,-8],[3,-26],[-24,15],[-1,19]],[[98376,78346],[14,-8],[0,-29],[-14,37]],[[98352,78374],[20,-27],[-12,-2],[-8,29]],[[98210,77943],[6,31],[19,27],[23,-6],[26,67],[41,5],[-17,-40],[-5,-37],[10,-104],[-21,0],[-17,52],[-35,-19],[-30,24]],[[97960,78551],[47,86],[33,11],[100,-20],[29,-63],[24,-15],[35,-94],[2,-18],[-35,-8],[-21,38],[-17,-71],[-9,-13],[-38,15],[-26,-41],[-27,32],[-12,40],[-3,63],[-32,56],[-35,-24],[-15,26]],[[13347,81071],[9,23],[10,-28],[-5,-52],[-16,34],[2,23]],[[13279,80906],[61,56],[7,-80],[13,-14],[-20,-68],[-24,-1],[-33,63],[-4,44]],[[13241,80901],[26,65],[8,-25],[-26,-58],[-8,18]],[[13234,81005],[16,62],[-2,43],[13,20],[-14,43],[-2,70],[5,39],[11,9],[19,-32],[5,-35],[13,-7],[17,-40],[0,-165],[-9,-34],[-27,-2],[-13,32],[-23,-36],[-9,33]],[[13172,81388],[4,66],[6,1],[52,-135],[-12,-28],[-1,-68],[-15,-111],[-23,74],[-9,113],[-2,88]],[[12999,82714],[4,48],[9,-30],[-13,-18]],[[12979,82569],[2,29],[21,40],[21,-38],[-1,-22],[-24,-37],[-19,28]],[[12954,82690],[20,33],[17,52],[-5,-50],[-18,-75],[-14,40]],[[12888,80934],[18,6],[-4,-53],[-14,47]],[[12850,82395],[7,53],[10,-24],[22,-97],[10,-68],[-13,-15],[-21,61],[-9,4],[-6,86]],[[12838,82543],[18,86],[21,30],[30,-20],[24,22],[28,-42],[4,-36],[-18,-53],[6,-82],[-16,-19],[-44,-22],[-23,65],[-24,29],[-6,42]],[[12768,81460],[21,27],[-2,-46],[-16,-11],[-3,30]],[[12700,80811],[9,0],[10,-128],[-15,29],[-4,99]],[[12674,81692],[9,23],[1,61],[20,-30],[1,-32],[-22,-72],[-9,50]],[[12659,81749],[12,9],[-1,-36],[-11,27]],[[12637,81497],[8,92],[8,25],[32,-9],[10,-16],[-2,-35],[-16,-42],[8,-16],[20,40],[5,43],[13,-19],[19,68],[19,-2],[16,-39],[-5,-60],[-15,-35],[-19,15],[-13,-35],[17,-22],[-2,-37],[-22,-21],[-22,-50],[-9,-97],[-23,78],[17,61],[-1,78],[-29,51],[-14,-16]],[[12629,82086],[11,22],[24,102],[28,10],[11,20],[-22,13],[-1,47],[15,-22],[9,34],[-36,62],[14,29],[-10,86],[23,49],[45,-24],[71,-17],[24,-82],[11,-73],[-5,-69],[14,-6],[13,-68],[17,-48],[17,5],[57,-119],[12,-52],[33,-111],[3,-126],[29,-29],[8,-82],[8,-32],[31,-50],[13,-58],[-10,-6],[-19,46],[-75,98],[-3,-31],[-23,-74],[11,-8],[14,47],[8,-19],[23,10],[5,-37],[20,-13],[10,-29],[-38,-14],[8,-36],[32,21],[14,-52],[16,-14],[11,-87],[8,-9],[-12,-49],[-20,9],[2,-32],[22,-22],[11,8],[3,46],[14,36],[9,-21],[5,-91],[-15,-34],[4,-36],[-22,-94],[-29,-40],[18,-23],[27,59],[15,-10],[0,-203],[7,-72],[-20,-105],[-37,-9],[-26,48],[-14,-19],[-17,38],[-1,37],[-38,-2],[17,53],[27,-10],[1,39],[-19,42],[-19,13],[-35,78],[9,38],[10,115],[-15,9],[-11,-58],[7,101],[8,28],[-11,39],[-5,-55],[-27,-21],[14,-103],[-18,-58],[-47,56],[-4,35],[17,58],[-18,100],[-20,-5],[-10,50],[-21,3],[12,-78],[18,-65],[6,-72],[-7,-36],[15,-17],[20,-145],[24,-26],[-4,58],[24,18],[28,-65],[4,-124],[-14,-16],[-18,74],[-7,-7],[23,-170],[-29,0],[-26,32],[-2,60],[-20,40],[-49,177],[-10,22],[-2,84],[-12,10],[-8,61],[29,8],[-27,33],[3,119],[-33,-28],[-10,26],[-18,-19],[-9,42],[6,84],[33,30],[11,-63],[17,20],[-13,29],[6,39],[14,20],[14,-14],[22,44],[-29,96],[14,12],[-16,32],[4,66],[-24,-21],[-49,87],[-4,28],[16,-1],[-9,50],[3,35],[-27,18],[6,-57],[-10,-13],[-32,39],[-16,58],[12,52],[28,14],[37,-54],[28,35],[-17,67],[-18,16],[-12,-20],[-9,17],[8,30],[-2,42],[7,63],[-5,16],[-13,-47],[-27,-65],[-22,-33],[-23,38],[-5,45]],[[12611,83642],[15,25],[14,-33],[-27,-31],[-2,39]],[[12594,82026],[14,28],[11,-6],[4,-52],[-8,-48],[-10,3],[-11,75]],[[12476,82024],[28,22],[1,-43],[31,33],[8,75],[7,-2],[-9,-101],[-22,-24],[-20,-56],[-18,17],[8,30],[-14,49]],[[12463,83115],[17,52],[16,17],[7,33],[33,-1],[1,26],[28,-40],[11,-83],[18,-54],[31,-2],[9,-21],[10,26],[-29,44],[-13,80],[-2,55],[-35,79],[11,53],[34,26],[51,-37],[25,-9],[47,-44],[31,-20],[7,14],[57,-11],[30,-74],[14,-82],[3,-56],[9,-23],[23,-11],[16,-48],[5,-46],[33,-52],[9,-64],[15,-34],[-31,-38],[-20,-42],[-26,-24],[-16,16],[-31,4],[-43,24],[5,-48],[-23,-51],[-40,25],[-19,29],[-12,-47],[-15,-20],[-25,-2],[-17,15],[-3,87],[-11,32],[-30,-64],[13,-29],[-2,-90],[-23,-3],[-2,-31],[10,-51],[-11,-51],[-2,-62],[-17,-50],[4,-39],[-9,-64],[-10,-11],[-25,15],[-14,-103],[-15,19],[-12,52],[-7,63],[-1,109],[-10,87],[2,75],[14,48],[-3,57],[15,101],[-12,28],[-22,-1],[5,77],[-20,56],[-8,75],[2,43],[-5,91]],[[12311,84926],[43,-96],[7,-47],[14,-9],[8,-130],[19,1],[21,38],[11,-23],[20,-2],[21,-29],[54,13],[-3,-89],[25,-75],[2,-52],[21,-52],[14,-87],[17,-55],[2,-142],[21,-60],[4,-65],[-9,-2],[-5,47],[-38,120],[-10,115],[-19,37],[-9,53],[-21,0],[26,-101],[4,-34],[-13,-23],[35,-121],[23,-49],[-2,-62],[24,-113],[-19,6],[15,-102],[0,-27],[-25,-62],[-20,26],[-17,-1],[4,-34],[-21,-104],[-38,-83],[-24,-25],[-2,-33],[-31,-65],[-29,3],[-9,89],[-4,135],[21,80],[15,23],[-16,31],[-1,69],[14,6],[12,-39],[6,23],[-40,141],[-1,58],[-18,60],[-5,82],[-11,43],[8,125],[-12,81],[-3,95],[-11,91],[4,44],[-20,93],[-17,45],[-9,77],[-6,101],[3,42]],[[12292,85061],[35,-45],[27,-125],[-10,-5],[-22,115],[-23,19],[-7,41]],[[12202,85643],[15,-71],[0,-46],[-10,29],[-5,88]],[[12106,83714],[16,11],[1,26],[28,65],[-4,68],[36,64],[18,-12],[25,-85],[15,10],[18,-58],[23,-24],[38,4],[22,-14],[12,-79],[-2,-49],[-20,35],[-19,-2],[-1,-22],[21,-25],[11,-46],[29,-278],[-1,-71],[12,-56],[0,-58],[18,-142],[5,-107],[-5,-112],[-11,1],[8,-81],[3,-240],[-9,-111],[-11,6],[-28,70],[-10,86],[-21,59],[-40,212],[4,48],[22,23],[-18,30],[-26,-31],[-14,88],[-11,-15],[-17,42],[-12,55],[2,34],[-14,-22],[-10,24],[-30,2],[-19,96],[19,3],[10,-29],[10,13],[-3,105],[19,53],[6,38],[-39,86],[24,63],[-4,22],[14,35],[4,53],[-33,16],[-21,-28],[-14,79],[-26,72]],[[12097,84881],[16,18],[19,-7],[16,-52],[-29,-6],[-22,47]],[[12062,83572],[4,48],[-3,66],[25,9],[34,-62],[15,-74],[12,-19],[17,30],[23,-10],[-16,-82],[-24,-14],[-27,-161],[-12,6],[-40,-30],[-9,8],[3,102],[25,47],[1,50],[-22,4],[2,29],[-13,31],[5,22]],[[11978,85151],[9,14],[7,-59],[-16,45]],[[11978,84786],[30,41],[3,-53],[-16,-19],[-17,31]],[[11861,84371],[5,174],[16,33],[8,-9],[29,60],[3,51],[-12,92],[32,-2],[0,-54],[12,-60],[28,61],[29,-6],[17,-20],[17,49],[36,50],[14,-55],[41,-30],[25,-53],[-12,-78],[-31,-76],[4,-49],[12,-5],[8,60],[32,108],[15,12],[34,-55],[46,-10],[11,-32],[29,-16],[15,-79],[-4,-67],[-22,-44],[-37,49],[-10,-8],[12,-40],[18,-18],[33,-75],[-21,-29],[-25,-2],[4,-28],[21,-13],[23,24],[7,-95],[14,-69],[12,-143],[-14,-42],[-42,-11],[-17,12],[-44,95],[-65,99],[-27,50],[-22,-26],[-9,29],[-4,-32],[30,-55],[22,-8],[-21,-31],[6,-25],[0,-72],[-9,-50],[-31,-87],[-51,47],[-1,38],[-42,85],[-20,90],[-12,-38],[-19,43],[-10,79],[4,25],[-18,86],[2,24],[-16,57],[-26,30],[-7,49],[-25,36]],[[9331,87212],[28,-14],[12,-44],[-27,-9],[-13,67]],[[9232,87245],[16,14],[58,-26],[-3,-31],[-21,-10],[-50,53]],[[8867,87809],[26,35],[27,3],[15,-16],[-18,-53],[-50,31]],[[8817,87545],[4,86],[28,16],[21,-89],[-11,-44],[-37,-10],[-5,41]],[[8816,87079],[2,14],[43,47],[1,-36],[-40,-59],[-6,34]],[[8698,86532],[8,21],[3,71],[23,12],[-3,42],[21,54],[16,7],[-3,41],[30,34],[9,30],[43,75],[22,118],[27,44],[-3,40],[10,71],[27,34],[4,-43],[24,2],[-17,-51],[9,-17],[24,28],[8,-22],[-11,-37],[-62,-118],[-49,-129],[-8,-80],[-33,-60],[30,-57],[-19,-42],[-23,-8],[-22,15],[-17,-57],[-9,6],[-45,-47],[-14,23]],[[8692,87068],[44,270],[11,-41],[12,13],[-4,66],[44,84],[0,-54],[-12,-32],[-3,-82],[-20,-37],[20,-42],[-24,-97],[2,-46],[-17,-104],[-24,45],[-3,25],[-25,7],[-1,25]],[[8672,87628],[15,31],[17,-19],[17,-48],[-24,-45],[-25,81]],[[17950,55027],[5,31],[24,-13],[25,26],[-2,40],[18,63],[1,79],[-15,136],[-16,8],[-7,-13],[-13,25],[-3,-17],[-14,68],[7,67],[2,142],[-15,41],[9,65],[-8,51],[19,9],[28,138],[9,24],[-4,46],[4,110],[8,12],[-2,74],[-7,64],[1,51],[6,6],[-2,55],[-7,20],[28,116],[0,69],[8,28],[23,29],[10,40],[17,21],[1,19],[25,65],[-1,49],[-11,54],[-14,19],[-31,100],[-13,7],[2,58],[-26,239],[-23,63],[-7,69],[-16,57],[1,147]],[[17974,57684],[6,95],[-10,22],[21,43],[0,72],[-9,178],[-6,65],[-11,47],[-4,58],[6,36],[0,103],[-9,38],[3,39],[-7,31],[3,51],[-5,59],[4,56],[9,24],[-10,31],[-12,97],[4,43],[-7,80],[25,31],[9,29],[5,-14],[12,25],[17,-1],[2,-25],[24,19],[13,-3],[18,-71],[-2,-28],[21,-51],[24,11],[24,183],[5,15],[1,230],[-2,272],[0,437]],[[18136,60011],[200,0],[222,0],[313,1],[97,1],[160,2],[6,-7],[235,0],[162,1]],[[19531,60009],[0,-1691],[-1,-237],[1,-30],[0,-925],[-1,-608],[1,-145],[-1,-113],[0,-2847]],[[19530,53413],[-64,2],[-201,-1],[-128,-1],[-172,0],[-359,476],[-212,269],[-102,136],[-368,471],[5,66],[-5,17],[1,60],[8,16],[17,103]],[[19530,64667],[242,0],[154,2],[327,0],[66,-5],[137,-1],[242,1],[7,2],[217,2]],[[20922,64668],[282,1],[135,0],[140,0],[0,-1163]],[[21479,63506],[1,-381],[0,-434],[1,-193],[0,-1270],[1,-137],[0,-1089]],[[21482,60002],[-183,3],[-22,5],[-62,1]],[[21215,60011],[-204,-3],[-169,-5],[-184,0],[-34,2],[-301,-1],[-186,-2],[-2,9],[-152,-1],[-230,-1],[-222,0]],[[19531,60009],[0,583],[1,36],[0,738],[-5,129],[0,517],[2,216],[0,1857],[1,46],[0,536]],[[27414,45876],[14,60],[5,-33],[-14,-44],[-5,17]],[[27386,45813],[9,39],[11,4],[-5,-33],[-15,-10]],[[27310,45701],[52,90],[6,-30],[-45,-80],[-13,20]],[[27118,45540],[19,106],[20,46],[25,43],[3,23],[36,66],[38,-67],[4,-52],[14,-43],[-4,-11],[-40,-48],[-3,27],[-27,-5],[-3,-24],[-46,-73],[-36,-15],[0,27]],[[27062,45510],[39,24],[-10,-43],[-17,-14],[-13,8],[1,25]],[[27020,45533],[6,35],[12,-10],[-5,-41],[-13,16]],[[26992,48019],[5,-18],[19,-211],[8,-28],[17,-26],[7,17],[14,-21],[-14,-31],[-9,-1],[-21,50],[-7,28],[-13,115],[-6,76],[0,50]],[[26806,45614],[15,13],[4,-23],[-20,-10],[1,20]],[[26322,51623],[29,47],[0,-29],[-16,-37],[-11,-6],[-2,25]],[[26229,53027],[6,-79],[11,-52],[2,-83],[6,-75],[14,-48],[136,-25],[261,-56],[206,-51],[135,-34],[-5,-14],[2,-57],[7,-26],[-3,-71],[11,-76],[37,13],[0,75],[6,47],[3,119],[-12,91],[4,60],[-1,49],[8,16],[-4,24],[12,-8],[9,59],[15,-7],[7,-33],[17,-3],[18,-28],[7,-25],[33,-19],[17,-18],[14,15],[13,-19]],[[27221,52688],[4,-13],[-4,-113],[3,-92],[-4,-22],[10,-25],[4,-95],[1,-113],[23,-389],[13,-129],[0,-51],[28,-302],[32,-288],[29,-229],[65,-412],[38,-200],[4,-63],[10,-83],[-18,-57],[-4,-54],[-1,-87],[5,-130],[6,-96],[16,-145],[35,-269],[15,-166],[5,-84],[5,-29],[11,-140],[17,-152],[9,-66],[6,-94],[13,-109],[17,-258],[-1,-235],[-7,-175],[-5,-210],[-3,-37],[-8,-286],[0,-169],[-3,-80],[-7,-81],[0,-44],[-6,23],[3,51],[-5,20],[-16,-25],[-10,-102],[-6,-17],[-1,-64],[-8,-40],[-2,-78],[5,-33],[-2,-46],[6,-16],[-8,-53],[-8,-13],[-1,-49],[21,39],[25,194],[7,41],[0,-41],[-8,-83],[-34,-222],[-9,-82],[-25,-93],[-34,-139],[-24,-66],[-3,12],[34,122],[14,40],[7,53],[3,81],[5,32],[-6,23],[-9,-11],[-7,26],[-6,-18],[-34,-22],[-14,-41],[-9,-6],[-18,45],[-18,-13],[-7,-41],[-27,-18],[-23,-6],[-17,52],[-8,68],[2,79],[6,60],[6,-3],[-2,49],[-12,97],[-11,47],[2,34],[-8,62],[-11,32],[-5,85],[-6,18],[-11,-15],[-9,101],[-24,31],[-1,16],[-21,38],[-21,55],[-11,-13],[-8,-39],[-16,126],[-15,148],[-5,173],[-7,109],[-7,57],[-28,113],[-11,9],[-1,52],[-12,23],[0,-64],[-14,-11],[-1,66],[-8,113],[-12,51],[3,24],[13,-3],[9,-39],[11,159],[-2,86],[-8,14],[0,40],[8,10],[-4,31],[-12,-4],[-5,-33],[-11,-11],[8,-148],[-9,-20],[-20,-11],[-5,-50],[0,75],[-6,50],[-17,94],[-26,177],[-9,94],[-19,140],[-27,149],[-14,56],[-4,58],[-10,61],[10,-19],[1,-30],[15,30],[10,72],[12,28],[13,98],[13,34],[-2,23],[14,26],[11,84],[-5,75],[-22,21],[5,-113],[-22,30],[6,34],[-1,65],[-5,39],[-38,71],[1,-65],[-11,-28],[11,-37],[16,-6],[11,-110],[-10,-42],[0,-62],[-4,-27],[-21,-6],[-3,-32],[7,-38],[-9,-30],[-4,40],[2,83],[-14,85],[-9,26],[-8,58],[6,182],[-5,66],[-4,164],[9,1],[0,-93],[4,-89],[9,-7],[-4,153],[9,37],[1,41],[8,44],[0,38],[7,50],[0,39],[9,47],[1,91],[5,83],[-6,66],[2,56],[-13,29],[4,42],[-9,109],[12,64],[-21,110],[3,31],[-8,55],[-10,3],[5,33],[-1,49],[-7,13],[-47,23],[-9,-51],[-7,-4],[-9,100],[3,45],[-14,32],[-12,9],[-2,63],[-7,58],[-11,45],[-15,6],[-5,44],[-24,48],[0,111],[-4,67],[-12,7],[-10,38],[-13,17],[-13,61],[0,42],[-9,35],[-5,51],[-14,44],[-28,62],[-40,72],[-26,75],[-11,-2],[-26,-33],[-31,29],[-1,-35],[-26,-69],[9,-99],[-3,-28],[-10,-7],[-15,15],[-5,26],[-24,-22],[-31,-73],[-65,-132],[-6,2],[7,44],[-10,12],[-7,-39],[-15,-41],[-36,1],[13,-49],[2,-38],[16,-22],[30,53],[29,40],[27,84],[3,-13],[-24,-82],[-28,-43],[-35,-66],[-12,-14],[-10,33],[-16,22],[-23,51],[-19,7],[-17,-28],[-13,94],[-5,119],[8,42],[0,-105],[6,-91],[7,-22],[10,39],[1,97],[-17,105],[-18,60],[-17,13],[-15,40],[-16,71],[-27,47],[-22,69],[-41,95],[-47,76],[-58,70],[-31,20],[-62,18],[-33,-5],[-47,-25],[-65,-49],[-32,-15],[-7,10],[-63,-51]],[[26061,57664],[39,-2],[136,6],[183,1]],[[26419,57669],[196,-2],[-1,6],[143,10]],[[26757,57683],[-3,-72],[-31,-68],[-26,-105],[1,-36],[-8,-26],[3,-64],[30,-82],[17,-7],[23,-104],[23,-51],[28,16],[8,-12],[8,-64],[3,-64],[12,-30],[3,-50],[11,-52],[0,-51],[7,-68],[12,-24],[8,-67],[14,-48],[11,-101],[9,-1],[19,-72],[29,-52],[29,-98],[4,-61],[9,-41],[1,-40],[13,-38],[12,-2],[17,-37],[18,-93],[15,-26],[4,-24],[-7,-43],[4,-39],[-4,-32],[28,-82],[-4,-30],[13,-42],[11,5],[-2,-41],[8,-45],[27,-55],[9,1],[16,-58],[19,-43],[-5,-67],[12,-64],[2,-49],[9,-15],[0,-85],[4,-32],[-5,-45],[6,-8],[4,-48],[-5,-41],[12,-48],[25,-26],[0,-23],[23,-81],[-4,-34],[15,-105],[4,4],[6,-76],[-10,-44],[11,-67],[-4,-26],[5,-62],[21,-34],[11,17],[22,-71],[9,-4]],[[27376,54230],[12,-12],[-5,-64],[-14,-29],[-10,15],[-6,-48],[10,-8],[-16,-60],[-21,23],[-3,-56],[11,-11],[-9,-59],[-17,-54],[-17,13],[-3,-16],[12,-33],[8,5],[-1,-84],[-7,-62],[-28,-26],[0,-22],[17,10],[6,-24],[-23,-131],[-6,-91],[7,-13],[-5,-30],[-5,-97],[-13,-22],[-8,-59],[-9,-3],[0,-71],[-7,-69],[-7,2],[-12,-44],[13,-24],[11,24],[1,-81],[-16,-161],[5,-70]],[[25527,65491],[15,-41],[12,20],[7,-15],[-6,-40],[27,-23],[29,1],[28,25],[52,75],[31,59]],[[25722,65552],[90,-1],[198,-1],[187,1],[87,1],[0,-75]],[[26284,65477],[1,-242],[0,-1380],[-3,-437],[0,-441],[-2,-278],[0,-238]],[[26280,62461],[-19,-45],[-2,-20],[16,-71],[2,-31],[-11,-38],[3,-37],[17,-7],[4,-25],[-13,-46],[6,-44],[-22,3],[-16,-23],[-9,5],[-35,-63],[-14,-39],[-19,10],[-10,43],[-26,-7],[-16,7],[-12,-33],[4,-125],[6,-71],[-16,-40],[-7,-44],[-30,-34],[-19,-161],[-19,-39],[-14,24],[-10,-13],[-6,-63],[-16,-72],[1,-87],[-5,-70],[-8,-24],[-23,-18],[-4,-36],[-13,58],[-22,1],[-26,55],[-1,94],[-21,67],[-8,-2],[1,-34],[13,-12],[-1,-25],[-13,-2],[-8,-29],[-8,23],[-9,-29],[9,-17],[-6,-42],[-18,-9],[-2,-94],[5,-38],[-23,-9],[-2,-63],[-11,-29],[-7,24],[5,51],[-10,10],[-10,-25],[-10,22],[-12,89],[-17,-2],[-14,-52],[-29,-27],[-10,-30],[-5,-97],[-7,-27],[-11,-3],[-8,62],[-18,13],[-22,57],[-22,44],[-20,6],[-14,-37],[-14,19],[-6,49],[-8,6],[-7,-66],[11,-64],[-13,-40],[-11,3],[3,56],[-5,30],[-42,-31],[-11,52],[-9,4],[-10,-40],[10,-91],[-12,-47],[-23,32]],[[25386,60941],[-11,2],[-4,34],[12,-9],[-16,92],[24,-8],[-15,29],[15,67],[1,60],[-8,26],[19,19],[2,38],[-12,-19],[22,73],[-14,60],[-4,59],[9,-10],[9,68],[5,-35],[7,41],[8,-33],[13,102],[8,9],[13,84],[-2,38],[24,42],[0,66],[9,83],[7,32],[14,12],[14,76],[-1,42],[-15,94],[11,111],[-18,40],[1,79],[-16,55],[-3,73],[19,60],[-9,50],[2,60],[6,32],[13,9],[0,347],[-1,0],[0,397],[1,12],[0,294],[1,247],[0,1196],[1,254]],[[21479,63506],[257,-1],[104,0],[263,-1],[273,1],[163,0],[279,-1],[263,-1],[144,0],[133,0]],[[23358,63503],[16,-60],[13,-11],[1,-43],[13,6],[5,-36],[26,-14],[8,41],[24,-13],[-4,-28],[7,-33],[11,-11],[-4,-42],[-9,-1],[3,-36],[12,16],[-1,-49],[-10,-6],[-13,24],[-5,-75],[-15,-19],[-7,-41],[2,-41],[-17,-24],[1,-48],[15,-41],[1,-29],[16,-31],[12,-61],[14,0],[5,-21],[-9,-25],[6,-79],[18,-52],[-3,-28],[15,-13],[5,-31],[14,-11],[9,16],[5,-31],[20,-3],[-5,-41],[0,-444],[-1,-120],[0,-696],[-1,-52],[0,-779],[-1,-97],[0,-281]],[[23550,60009],[-249,1],[-196,-1],[-169,0],[-218,0],[-208,-1],[-258,2],[-103,0],[-154,3],[-149,-4],[-209,-4],[-155,-3]],[[30863,68384],[14,7],[-7,-35],[-7,28]],[[30827,68345],[7,83],[6,-34],[19,-55],[-15,-45],[-5,34],[-12,17]],[[30819,68560],[3,42],[11,-71],[-14,29]],[[30732,68434],[14,2],[3,-41],[-17,39]],[[30712,67988],[8,37],[1,-75],[-9,38]],[[30703,68290],[8,41],[25,45],[11,-50],[-9,-8],[14,-78],[-11,-39],[-18,-13],[-12,24],[5,25],[-3,50],[-10,3]],[[30697,68452],[13,68],[2,64],[9,25],[6,-26],[-9,-35],[1,-36],[-8,-70],[-10,-29],[-4,39]],[[30213,67064],[-35,81],[0,69],[6,42],[-41,128],[-9,53],[8,101],[-4,10],[6,88],[-6,23],[-5,313],[0,89],[-11,861],[-15,757]],[[30107,69679],[21,15],[0,33],[25,-41],[-1,-38],[7,-43],[11,-15],[13,85],[2,86],[-6,28],[12,36],[8,-3],[12,-44],[21,-9],[1,39],[-24,83],[-1,32],[22,107],[14,27],[11,43],[8,-1],[15,41],[24,38],[-9,71],[21,66],[23,45],[5,56],[-7,28],[-14,0],[0,66],[10,38],[-8,14],[15,51],[5,46],[-15,44],[16,115],[8,18],[-1,37],[17,32],[14,59],[11,8],[17,324],[215,890],[13,-3],[27,-38],[11,4],[-3,-58],[1,-141],[4,-18],[37,-73],[25,43],[26,30],[28,2],[11,52],[30,11],[25,-12],[0,62],[16,23],[25,-6],[23,-36],[4,-32],[33,-68],[36,-132],[0,-15],[28,-51],[0,-545],[3,-693],[-1,-71],[9,-30],[-15,-39],[14,-70],[-15,-34],[1,-136],[23,-18],[3,20],[10,-57],[19,-28],[30,-23],[14,19],[8,-62],[1,-56],[-13,8],[-11,-22],[7,-68],[16,-63],[-9,-73],[-10,-41],[23,-116],[0,-23],[18,-40],[13,28],[1,46],[18,-30],[19,-3],[13,-56],[6,-51],[-8,-14],[10,-32],[12,-98],[15,-38],[1,-118],[-12,-50],[-10,2],[-4,-32],[-32,-113],[-24,-25],[4,-22],[-15,-8],[6,42],[-4,85],[-27,-30],[12,-58],[-12,-43],[-11,13],[-13,-58],[-13,18],[-10,-12],[2,-35],[16,-40],[-22,-57],[-13,46],[-6,57],[-13,-10],[-3,-38],[-8,3],[-7,59],[-7,-62],[-9,-14],[-8,-74],[-7,19],[-6,-48],[-4,42],[-20,-51],[-5,27],[-12,-92],[-16,39],[0,36],[-10,-21],[-11,9],[2,-66],[-16,-71],[11,-33],[-35,-16],[-23,32],[-16,107],[6,29],[22,27],[-9,45],[-13,-35],[2,44],[-10,-3],[1,-68],[-5,0],[0,64],[-24,-56],[5,-35],[-6,-43],[14,-67],[-3,-45],[-23,-77],[9,-11],[-12,-31],[11,-56],[-5,-69],[-16,-10],[-3,85],[6,4],[-3,55],[-17,45],[-4,64],[15,51],[-19,40],[6,26],[-10,10],[-18,-21],[1,113],[11,44],[1,50],[-7,14],[-7,-46],[-14,-40],[-11,33],[-7,-32],[-15,-4],[14,-81],[-3,-48],[-12,-23],[-10,-71],[-4,-72],[-13,-78],[19,-30],[-13,-28],[10,-57],[-10,-38],[-27,4],[-13,-72],[-15,-1],[-2,-58],[-11,-9],[0,52],[7,37],[-9,15],[-3,-30],[-12,-13],[5,65],[-18,-9],[1,-52],[-16,-37],[-5,-50],[-12,51],[-2,-47],[-15,-32],[-12,26],[-3,-66],[-13,51],[-13,-92],[-23,-27],[-5,-19],[-5,83],[-16,5],[-15,-42],[-5,-39],[-20,4],[-7,-49],[-20,4],[-10,-49],[-3,-50],[5,-29],[-8,-32],[-13,29],[-22,-31],[-9,-46],[6,-67],[-8,-43],[-10,-15],[3,-33],[-14,-24],[-14,4],[-10,-25],[-11,-98],[5,-19],[-14,-80],[1,-22],[-14,-74],[-9,-13]],[[30332,65028],[13,-24],[29,5],[18,17],[12,70],[16,-105],[-1,-30],[-10,-16],[-33,4],[-41,60],[-3,19]],[[30177,65078],[18,0],[19,90],[27,60],[11,-15],[7,-70],[15,-27],[10,40],[-1,-84],[-41,1],[-31,-9],[-18,-47],[-16,61]],[[29500,66699],[224,-22]],[[29724,66677],[199,-23],[126,-12],[10,46],[21,1],[-1,62],[15,36],[19,-18],[9,62],[36,32],[15,-30],[8,13]],[[30181,66846],[2,-72],[9,-136],[25,-47],[12,42],[14,-34],[-16,-90],[-23,-7],[-38,-35],[12,-50],[-18,-50],[-7,9],[-5,-59],[-4,41],[-11,-53],[11,-74],[-13,10],[-5,-28],[8,-26],[-5,-27],[14,-14],[6,36],[14,8],[9,-47],[24,-28],[12,-42],[2,-46],[21,-93],[-1,-50],[-7,-39],[-12,-5],[3,-24],[21,-51],[12,8],[8,-24],[8,-83],[-5,-50],[13,-48],[23,-35],[34,-12],[9,-23],[19,44],[19,8],[27,33],[6,25],[-1,79],[-6,61],[-13,-31],[0,97],[-5,55],[-15,34],[-9,-7],[-5,-39],[-11,59],[13,11],[21,-18],[23,-58],[18,-123],[9,-119],[2,-137],[-15,-129],[-2,-44],[-7,9],[12,112],[-7,23],[-26,-5],[-43,-40],[-30,8],[-7,-28],[-17,-7],[-15,-62],[-33,-10],[-34,-66],[-16,-47],[-21,-28],[-23,-15],[6,26],[35,34],[16,47],[24,49],[5,40],[-2,117],[6,41],[-26,26],[0,-59],[-7,14],[-4,-50],[-14,3],[2,-32],[-31,-11],[-7,-49],[2,-44],[-6,-29],[-25,-23],[-12,17],[-10,-14]],[[30097,65246],[-3,189],[-18,18]],[[30076,65453],[-8,41]],[[30068,65494],[-10,48],[-19,33],[-5,56],[2,81],[-12,-6],[0,147],[-116,-13]],[[29908,65840],[-1,18],[-202,13],[-22,-4],[-42,6],[-3,-39],[-14,-6],[1,45],[-54,3],[-118,14],[-15,-1]],[[29438,65889],[-6,42],[34,395],[34,373]],[[22823,73980],[83,-1],[266,0],[229,-1],[0,449],[27,-37],[28,20],[29,-53],[8,-35],[14,-202],[7,-25],[18,-251],[-6,-69],[4,-54],[14,-43],[29,-45],[24,-12],[8,19],[44,-11],[11,-58],[61,-7],[48,-21],[8,-66],[-3,-49],[6,-12],[42,2],[5,15],[22,-2],[23,20],[-1,48],[33,46],[39,18],[9,-22],[53,0],[72,-98],[26,4],[1,-49],[-19,-7],[-4,-37],[16,-31],[41,13],[15,-54],[-6,-34],[6,-49],[24,-127],[25,27],[-8,84],[13,45],[15,-11],[42,16],[16,-44],[-2,-65],[17,-41],[14,9],[9,-36],[41,-9],[5,-67],[-4,-31],[20,-21],[23,13],[-3,-75],[22,28],[14,-22],[19,24],[34,17],[46,113],[17,13],[13,32],[25,30],[14,-13],[0,-67],[17,-17],[-6,-26],[10,-48],[16,-3],[35,29],[6,-29],[25,15],[26,-18],[19,13],[48,8],[29,-28],[9,-66],[34,-53],[15,35],[20,9],[13,-20],[23,6],[11,-18],[25,22],[-27,-56],[-10,20],[-4,-34],[-17,-15],[-26,-58],[-37,-34],[-14,-37],[-52,-44],[-48,-54],[-15,-6],[-42,-45],[-4,-14],[-51,-77],[-37,-79],[-72,-183],[-17,-69],[-55,-178],[-26,-72],[-26,-41],[-26,-88],[-11,-11],[-28,-83],[-10,-10],[-61,-134],[-9,-25],[8,-50],[14,-46]],[[24276,71309],[-21,50],[-14,-11],[-3,-29],[-16,-14],[9,-19],[-11,-43],[-22,16],[0,-685],[-10,-10],[-6,-59],[-24,7],[-10,-56],[-14,13],[-8,-38],[-25,-23],[-20,-47],[-20,-148],[-22,-49],[-7,-114],[1,-53],[21,-21],[10,9],[14,-32],[-1,-31],[23,-85],[-1,-50],[-15,-47],[1,-29],[-17,-49],[2,-91],[-4,-32],[6,-91],[-16,-58],[11,-34],[-2,-65],[6,-41],[-7,-42],[3,-75],[-12,-80],[5,-36],[16,-27],[31,-87],[-1,-24],[14,-16],[9,-44],[50,-9],[12,-17],[10,-78],[14,-38],[50,-51],[22,-39],[14,-40],[0,-53],[8,-15],[5,-84],[17,-45],[27,-41],[3,-29],[36,-90],[39,-29],[15,-55],[30,-136],[9,-75],[-8,-113],[2,-71],[10,-37],[-4,-44],[8,-53]],[[24498,67577],[-204,0],[-224,0],[-116,-1],[-223,0],[-180,1],[-313,0],[-199,0]],[[23039,67577],[0,1215],[1,101],[-1,302],[0,479],[-10,65],[-36,59],[-18,4],[-14,55],[-9,73],[-26,98],[5,46],[25,62],[22,39],[12,63],[14,46],[4,128]],[[23008,70412],[-4,106],[6,37],[-11,188],[-1,129],[-13,27],[-20,98],[-5,49],[-4,119],[-11,57],[-2,39],[5,68],[-6,112],[5,17],[6,117],[-6,-11],[-11,51],[1,171],[-5,92],[-2,114],[3,50],[-7,103],[1,217],[-5,3],[-7,89],[-11,92],[-8,17],[-11,101],[-3,58],[-11,34],[-5,121],[-16,101],[-3,110],[7,53],[-8,93],[3,52],[-1,107],[-7,59],[7,76],[9,24],[3,62],[-15,80],[-8,124],[-6,24],[-11,98],[3,40]],[[28860,63072],[14,65]],[[28874,63137],[9,32],[5,61],[12,42]],[[28900,63272],[17,44],[38,25],[25,45],[0,69],[16,25],[7,33],[34,72],[18,15],[12,51],[10,-8],[17,39],[-14,71],[-20,41],[-7,52],[-21,54],[-7,68],[-25,19],[-4,45],[2,95],[-10,37],[-17,-5],[-9,14],[-2,83],[7,30],[-8,22],[9,100],[11,-5],[23,113],[-24,120],[13,48],[18,29],[16,56],[-4,24],[17,35],[11,49],[14,124],[22,69],[16,13]],[[29101,65083],[88,-173],[132,-246],[3,-19],[-20,-187],[-12,-65],[-4,-65],[-6,-22]],[[29282,64306],[-7,-34]],[[29275,64272],[-37,-35],[-4,-84],[-9,-16],[-3,-50]],[[29222,64087],[0,-43],[19,-28],[16,18],[24,-44],[14,-9],[4,44],[4,-90],[-3,-107],[-14,-182],[-13,-247],[-5,-173],[-40,-241],[-11,-48],[-9,-9],[3,-32],[-10,-55],[-20,-63],[-1,-19],[-31,-55],[-32,-108],[-21,-118],[-22,-149],[-20,-60],[-19,-14],[-11,14],[6,88],[15,97],[3,69],[-21,37],[-18,4],[-6,25],[-18,-3],[-7,-36],[-9,24],[-2,47],[-18,37],[-3,30],[-10,-12],[-15,68],[-7,-8],[-18,58],[-10,56],[-19,25],[6,140],[-12,29]],[[28861,63044],[-1,28]],[[28814,58772],[18,-19],[12,-74],[1,-47],[-15,9],[2,45],[-18,86]],[[28734,57762],[8,60],[8,0],[47,86],[15,12],[14,33],[12,2],[16,35],[13,10],[5,74],[11,252],[0,54],[-8,95],[-6,105],[3,-2],[11,-106],[5,-95],[-3,-136],[-15,-286],[-24,-8],[-50,-64],[-43,-78],[-19,-43]],[[27156,59531],[84,-16],[55,-3],[95,-15],[37,4],[114,-21],[48,-2],[170,-2],[279,0],[74,4],[264,0],[106,-1],[0,10],[31,-2],[120,0],[142,0]],[[28775,59487],[2,-58],[17,-245],[16,-158],[23,-156],[35,-271],[-9,14],[-18,146],[-14,80],[-13,11],[-9,174],[-16,155],[-8,23],[3,39],[-5,89],[-10,30],[-4,48],[-25,13],[-1,40],[-13,-20],[6,-61],[16,-48],[11,10],[0,-67],[15,-135],[9,-61],[-1,-26],[11,-75],[0,-47],[-19,64],[1,37],[-13,61],[-3,38],[-12,12],[6,-38],[-3,-28],[14,-39],[-31,25],[-32,118],[-15,12],[19,-97],[10,-17],[6,-52],[-9,-23],[-24,-14],[-21,71],[7,-63],[10,-27],[-7,-14],[-31,45],[-13,5],[-5,29],[-18,24],[23,-73],[21,-23],[-7,-19],[-24,-8],[-13,-62],[-16,-22],[-17,1],[-8,31],[-20,12],[-12,121],[0,61],[12,78],[-5,13],[-14,-76],[-2,-76],[8,-94],[11,-77],[-5,-42],[8,-34],[40,10],[37,47],[9,-49],[13,6],[13,30],[26,24],[32,-1],[14,-41],[0,-43],[-14,-78],[3,-55],[2,-164],[9,5],[7,115],[3,150],[14,40],[-6,33],[14,20],[25,-21],[16,-94],[7,-65],[-4,-52],[7,-98],[-8,-25],[4,-54],[-13,-54],[-17,-10],[-6,18],[-10,-16],[-6,-40],[-10,-9],[-3,-43],[-7,-11],[-7,-71],[-13,-15],[-3,-46],[-17,-25],[-3,-24],[-26,25],[-29,-4],[-26,18],[-5,25],[-10,-14],[-15,45],[-13,115],[31,3],[5,45],[-28,-25],[-12,11],[-9,-33],[9,-57],[6,-86],[-7,0],[-29,47],[-14,-10],[-20,34],[-31,30],[-23,48],[-1,-29],[17,-61],[21,-5],[63,-102],[46,-28],[8,-31],[1,-40],[-7,-56],[-13,-54],[1,-28],[-9,-53],[-15,-42],[-50,-112],[-50,112],[1,-65],[24,-55],[36,-43],[36,80],[13,2],[27,30],[4,62],[11,-14],[3,-66],[8,-31],[18,-5],[-9,75],[20,-29],[2,-85],[-17,-75],[-18,-13],[0,-34],[-11,-20],[-14,-84],[-7,-71],[-17,20],[1,80],[-10,19],[1,-82],[-16,-7],[42,-64],[23,123],[33,120],[24,75],[47,176],[8,-21],[-28,-83],[-26,-96],[-22,-62],[-21,-78],[-18,-82],[-21,-115],[-3,-32],[-4,67],[-35,55],[-39,1],[-60,-38],[-29,-33],[-20,-32],[-32,-81],[-39,-75],[-26,-63],[-37,-113],[-14,-55],[-25,-128],[-14,-111],[-10,-112],[-9,-69],[-4,-69],[-13,7],[-3,34],[-21,21],[-23,9],[-28,-2],[-30,-12],[-35,-42],[-8,-17]],[[28030,56345],[-93,330],[-104,362],[-31,116],[-88,302],[-61,1],[-74,7],[-178,10],[4,135],[-42,199],[-30,-73],[-5,21],[7,48],[-2,53],[-55,13],[-105,16],[-188,29],[-23,-20],[-5,39],[-12,-52],[-7,9],[-20,-27],[-6,5],[-29,-47],[-28,-60],[-7,21],[-91,-99]],[[26419,57669],[9,275],[22,48],[3,-26],[28,4],[22,63],[-5,57],[9,25],[-4,44],[17,62],[13,15],[8,48],[16,8],[15,45],[80,7],[11,50],[22,32],[5,26],[10,-7],[16,48],[4,35],[16,4],[8,40],[21,29],[24,-18],[26,115],[-3,63],[10,30],[15,-36],[20,98],[33,70],[10,-40],[-5,-70],[15,-20],[28,62],[15,93],[15,35],[17,21],[12,-5],[9,33],[19,-12],[4,-50],[15,0],[14,28],[33,200],[21,53],[11,12],[8,-23],[17,0],[-10,74],[7,65],[6,12],[-4,80],[9,60]],[[20923,73979],[188,-1],[322,0],[212,0],[92,0],[193,1],[160,-1],[135,0],[141,1],[256,1],[201,0]],[[23008,70412],[-210,-1],[-186,1],[-119,1],[-252,4],[-192,2],[-179,2],[-253,1],[-123,0],[-292,1],[-173,0],[-105,0]],[[20924,70423],[0,2828],[-1,17],[0,711]],[[23550,60009],[0,-581]],[[23550,59428],[6,-130],[7,-206],[6,-127],[14,-355],[4,-82],[15,-387],[-2,-319],[-3,-261],[-1,-235],[-2,-170],[-2,-417],[-5,-642]],[[23587,56097],[-9,-25],[-19,73],[-16,-13],[-1,23],[-17,-1],[-18,79],[-15,-16],[-12,5],[-21,78],[-7,58],[-22,2],[-23,85],[-27,28],[-7,-68],[-11,-32],[-13,-7],[-34,4],[0,15],[-21,-7],[-7,61],[-10,3],[-24,-52],[-20,3],[1,-45],[-13,9],[-9,-31],[-29,61],[-1,-30],[-30,-29],[-15,13],[1,-20],[-14,8],[-8,-90],[-14,-14],[-19,19],[-7,-81],[-12,-3],[-1,22],[-17,79],[-21,-6],[-8,57],[-11,-4],[-16,30],[12,58],[-25,16],[-8,-86],[-18,-9],[-4,42],[-13,14],[-6,-33],[-9,25],[-6,95],[-5,11],[-14,-27],[-6,15],[3,-73],[-16,-57],[-13,19],[11,-42],[-13,-22],[3,-64],[-11,-31],[-11,14],[-12,94],[10,30],[-2,66],[-9,28],[-10,-19],[-2,-42],[-13,19],[-9,-7],[-11,-64],[-20,5],[-5,30],[1,63],[-12,19],[-16,-27],[-11,25],[3,41],[-19,42],[-9,-3],[-12,-58],[-29,-92],[-12,-9],[-16,34],[-9,3],[4,65],[-5,-1],[7,60],[-7,20],[-13,-14],[-19,11],[-10,91],[8,35],[-4,50],[-17,-47],[-20,22],[-15,0],[-19,28],[-11,-40],[-3,-44],[-20,-26],[-24,96],[-21,23],[-12,-37],[-21,4],[-13,26],[-13,3],[-17,24],[-19,46],[-16,-27],[-9,15],[-12,-11],[-2,20],[-18,-3],[-5,140],[-18,56],[4,22],[-16,5],[-18,57],[-4,-92],[-12,-4],[-22,47],[-17,2],[-6,-49],[-30,15],[-24,78],[-37,143],[-20,-19],[0,2257],[-123,0],[-179,0],[-150,0],[-175,1],[-210,0]],[[21214,59429],[1,119],[0,463]],[[27478,65805],[48,61],[45,74],[9,24],[10,60],[13,3],[3,-28],[36,72],[47,74]],[[27689,66145],[0,-314],[1,-2],[247,-1],[77,3],[167,-2],[243,1],[105,3],[111,-4],[169,-1],[107,2],[14,-59],[5,4],[8,-100],[15,4],[27,-34],[10,-49],[-8,-32],[14,-21],[2,-159],[-8,-12],[25,-113],[1,-34],[11,5],[15,-33],[-2,-18],[25,3],[3,-22],[16,8],[-1,-30],[13,-55]],[[28900,63272],[-23,37],[-22,6],[-24,-20],[-15,-34],[-20,-82]],[[28796,63179],[-217,-1],[-118,-1],[-151,0],[-236,3],[-305,-2]],[[27769,63178],[-167,0],[-124,0],[0,1068]],[[27478,64246],[0,1559]],[[20920,69320],[5,4],[0,872],[-1,227]],[[23039,67577],[-40,0],[5,-22],[-7,-37],[22,-64],[-1,-110],[-14,-5],[8,-52],[-3,-31],[24,-3],[2,-83],[9,-35],[-7,-66],[-14,-16],[5,-56],[-8,-28],[6,-21],[-12,-46],[0,-80],[-11,-16],[-3,-52],[-11,-26],[1,-76],[15,-27],[17,-60],[10,-87],[-4,-45],[13,-31]],[[23041,66402],[-17,-7],[-5,30],[-24,-5],[-7,53],[-21,66],[7,52],[-11,16],[-21,3],[-1,40],[-28,35],[-12,-17],[-8,48],[-43,13],[-5,28],[-18,20],[-1,38],[-25,25],[-15,-14],[-15,13],[-7,-23],[-18,14],[-16,-13],[-16,11],[-18,-17],[-25,9],[-20,21],[-8,-11],[-9,-74],[-12,-29],[-19,-9],[-31,69],[-36,62],[-58,85],[-9,59],[-112,0],[-186,-1],[-153,1],[-214,-1],[-206,-2],[-62,4],[-178,0],[-143,1],[-293,1]],[[20922,66996],[0,345],[-1,8],[0,1828],[-1,143]],[[23587,56097],[8,8],[0,-54],[11,-25],[9,6],[-2,-36],[10,-9],[5,27],[8,-18],[3,29],[21,-27],[11,46],[12,-17],[5,-30],[6,21],[16,-22]],[[23710,55996],[0,0]],[[23710,55996],[1,-11],[0,-608]],[[23711,55377],[0,-1196],[8,-12],[11,-72],[18,-31],[9,-83],[15,-55],[-2,-34],[8,-56],[-7,-42],[3,-45],[-7,-28],[6,-51],[9,-32],[13,-6],[3,-35],[-6,-27],[14,-36],[-1,-32],[8,-15],[3,-49],[-6,-53],[12,-47],[6,2],[6,-113],[19,12],[-6,-102],[8,-31],[2,-54],[-13,-21],[-1,-33],[12,-55],[-9,-22],[-3,-38],[4,-63],[-9,-33],[-9,-63],[-3,-73],[-12,-25],[-2,-68],[-14,-30],[-3,-40],[7,-24],[5,-91],[-13,-51],[-6,-74],[16,-52],[1,-53],[-5,-39],[9,-79],[-12,-70],[9,-19],[-11,-51],[-14,-39],[-7,-78],[-13,-74],[-17,-45],[-2,-25],[9,-30],[17,-94]],[[23768,51502],[0,-14],[-46,3],[-37,-40],[-128,-208],[-28,-61],[-10,-54],[-15,7],[22,71],[9,47],[13,-1],[9,19],[8,46],[9,-16],[11,8],[-15,55],[-54,-54],[-8,26],[17,90],[4,80],[0,74],[-12,5],[-5,23],[-17,-29],[-10,-41],[-4,-50],[-15,-24],[-6,46],[-18,-45],[-2,-35],[9,-32],[-10,-50],[10,-55],[20,-17],[-6,-54],[11,-20],[2,-78],[-2,-67],[-8,-31],[-9,10],[-19,-71],[-22,-65],[-3,26],[-13,-8],[-2,-88],[6,-26],[13,44],[26,65],[3,19],[32,99],[15,23],[0,45],[26,-15],[-20,-61],[-62,-153],[-24,-69],[-4,-25],[-32,-91],[-40,-143],[-15,-8],[-69,-146],[-35,-80],[-53,-89],[-61,-112],[-34,-87],[-13,-42],[-15,-74],[-53,-111],[-24,-68],[-47,-155],[-32,-143],[-11,-83],[-14,-59],[-33,-221],[-24,-197],[-11,-127],[-10,-192],[-2,-108],[1,-103],[8,-205],[14,-207],[12,-134],[16,-229],[11,-260],[-7,47],[-5,147],[-12,189],[-11,152],[-24,16],[18,27],[-9,83],[-6,87],[-9,88],[-3,106],[1,138],[-1,122],[11,276],[16,180],[19,148],[14,70],[10,87],[8,35],[-2,47],[13,86],[18,38],[9,45],[18,127],[28,58],[8,53],[16,2],[35,105],[23,49],[24,23],[-4,43],[9,29],[-9,16],[-16,-41],[-20,-35],[-11,-40],[-17,-5],[-6,40],[0,60],[-18,12],[-6,-31],[0,-84],[-5,-25],[6,-41],[-4,-36],[-20,-56],[-17,-61],[-8,-1],[-18,30],[-3,43],[-32,-61],[-17,-67],[21,-22],[24,57],[8,-74],[-7,-23],[-38,-223],[-12,-2],[-6,55],[-21,-10],[-4,18],[-32,-11],[-11,12],[-6,-38],[12,-32],[15,-1],[11,17],[-4,-64],[7,-48],[15,-34],[17,-18],[-19,-146],[-13,-185],[-12,-106],[-20,-27],[-7,-27],[-11,18],[14,21],[3,59],[-8,3],[-6,-31],[-29,-75],[4,-32],[24,-16],[25,38],[8,2],[-5,-116],[3,-4],[-4,-202],[-6,-207],[-4,-3],[10,-230],[8,-65],[1,-84],[9,-1],[23,-215],[5,-29],[-9,-47],[4,-34],[-1,-62],[8,-72],[20,-11],[1,-35],[12,18],[2,-127],[-23,7],[-13,-8],[0,-19],[-21,-12],[-6,-99],[-20,11],[-7,40],[-15,3],[-6,55],[-11,4],[-18,98],[-31,12],[-11,33],[-17,-9],[-7,16],[-23,-17],[-4,18],[-13,-1],[-3,-29],[-10,31],[-20,-14],[-8,22],[-6,-22],[-14,20],[-8,30],[3,25],[-16,1],[-3,44],[-15,-1],[-21,75],[-9,-11],[-25,48],[-19,-22],[-13,35],[-15,69],[-10,8],[-2,33],[-8,12],[-18,-15],[-21,47],[-12,-3],[-8,20],[-12,-19],[-9,44],[6,50],[-10,56],[-11,13],[-3,98],[-6,42],[-3,79],[-8,25],[-1,49],[-7,64],[-17,43],[2,31],[-13,26],[-7,37],[5,20],[-11,46],[-9,7],[-1,52],[6,31],[-3,66],[4,29],[-4,86],[-16,25],[1,37],[-12,11],[9,30],[5,86],[-3,31],[4,60],[-13,10],[5,76],[-12,58],[-7,-14],[-7,46],[-9,-18],[-9,39],[-10,-6],[-18,90],[-9,11],[-3,38],[-8,-9],[-10,38],[0,50],[-7,26],[3,41],[-13,48],[2,47],[-17,16],[-7,81],[-10,23],[-8,70],[-35,53],[-4,53],[-7,-2],[-13,59],[2,38],[-17,100],[3,47],[-9,39],[9,29],[-12,11],[-9,47],[4,39],[-14,28],[1,33],[-15,28],[-4,51],[2,41],[-8,26],[-4,73],[-6,1],[-9,88],[-8,1],[-6,47],[1,76],[-7,106],[-18,46],[-10,40],[3,14],[-9,71],[-23,41],[-2,30],[-17,46],[-18,25],[-13,84],[0,21],[-26,21],[-6,44],[-23,7],[3,57],[-2,65],[-5,5],[-6,-67],[-6,27],[2,53],[-17,27],[-13,108],[-8,-4],[-9,32],[-13,-25],[-7,44],[-8,-27],[-37,-13],[-19,31],[-6,-8],[-15,22],[-22,-14],[-12,24],[-17,-7],[-4,-22],[-26,21],[-11,50],[-13,-3],[-20,40],[-14,-18],[-10,-111],[-34,19],[-9,-37],[-7,11],[-22,-32],[-7,10],[-8,-54],[2,-23],[-13,-40],[0,-50],[-7,0],[-2,-59],[-11,-30],[1,-33],[-7,-58],[2,-52],[-5,-48],[-10,-5],[-3,-72],[-5,-37],[10,-22],[-5,-38],[-18,-38],[-10,8],[-7,-67],[-17,-43],[-7,-36],[-4,-84],[-14,-8],[-17,15],[-15,-11],[-14,46],[-27,24],[-27,111],[-24,33],[-10,-8],[-22,38],[-18,77],[-13,24],[-39,21],[-17,28],[-19,61],[-11,12],[-19,81],[0,24],[-14,47],[-21,7],[-12,27],[-5,34],[-30,78],[-9,43],[-7,110],[-12,56],[-7,60],[-13,63],[0,59],[-7,57],[6,72],[-3,54],[2,55],[-7,68],[-11,30],[-3,44],[-13,39],[-1,30],[-13,34],[2,33],[-13,177],[-7,40],[-12,4],[-11,91],[-15,0],[-14,66],[-12,10],[-3,24],[-15,34],[-12,-4],[-7,28],[-31,39],[0,39],[-44,118],[-13,107],[-12,37],[-18,26],[-9,33],[-9,2],[-2,36],[-24,106],[-20,35],[-4,54],[-14,32],[-21,7],[-35,78],[-11,88],[-10,24],[-6,68],[-13,89],[-9,41],[-19,38],[-11,-19],[-11,41]],[[20232,53938],[-5,28],[-16,20],[1,23],[-10,25],[-3,38],[7,18],[1,101],[331,0],[250,-1],[226,0],[183,1],[0,1212],[2,254],[0,149],[2,417],[2,232],[0,1518],[1,434],[0,809],[-1,213],[11,0]],[[20922,66996],[0,-2328]],[[19530,64667],[-136,-2],[-143,-1],[-52,-3],[-133,1],[-93,2],[0,442],[1,219],[-1,508]],[[18973,65833],[0,676],[1,163],[0,1090],[-1,26],[0,516],[-1,267],[1,140]],[[18973,68711],[-2,175],[-1,282],[1,156],[75,2],[22,-12],[85,2],[11,8],[45,-5],[25,8],[87,-2],[194,5],[11,-7],[221,0],[316,0],[14,-4],[144,-2],[178,-1],[23,7],[132,0],[251,-2],[115,-1]],[[29908,65840],[0,-107],[3,-222],[0,-150],[-3,-209],[-12,-8],[3,-76],[-8,-29]],[[29891,65039],[-7,19],[-17,2],[-21,-24],[-18,3],[-13,-24],[-16,28],[-6,-37],[-49,-35],[-3,20],[-15,0],[-27,-33],[-6,21],[-26,1],[-7,-26],[-18,23],[-40,-27],[-3,60],[-9,-17],[-19,-82],[-12,0],[-22,-73],[-13,23],[-24,-58],[-7,13],[-23,-28],[5,-22],[-10,-32],[-29,-11],[-22,-54],[-9,15],[-15,-35]],[[29390,64649],[1,33],[-20,102],[68,130],[-19,97],[4,161],[5,295],[9,422]],[[23231,64184],[167,-9],[159,-8],[156,3],[130,8],[62,0],[197,12],[152,13],[101,14],[12,-38],[1,-33],[18,-14],[-1,-36],[16,-57],[10,-2],[1,-56],[11,-31],[19,-7]],[[24442,63943],[-8,-18],[-17,-144],[-2,-71],[6,-165],[14,-99],[7,-28],[-8,-66],[5,-38],[15,-34],[4,-28],[-3,-61],[26,-77],[15,-57],[11,-14],[10,-69],[13,-8],[11,-76],[16,-54],[59,-137],[20,-90],[3,-90],[8,-78],[-9,-36],[11,-85],[3,-65],[22,-69],[11,7],[11,32],[9,66],[19,4],[27,-45],[16,-5],[38,-82],[-2,-60],[-12,-29],[-13,-59],[10,-92],[-2,-37],[-22,-96],[-6,-99],[-17,-68],[-7,-52],[-1,-78],[5,-70],[18,-50],[20,-89],[25,-37],[11,-54],[8,0],[17,-60],[16,7],[3,-27],[-12,-24],[6,-50],[20,-5],[10,31],[13,-28],[1,-29],[15,-12],[23,-70],[-2,-40],[14,-3],[9,-42],[19,-24],[0,-57],[11,-68],[-13,-8],[2,-50],[26,-161],[-4,-62],[-15,-12],[-8,-56],[17,-53],[-1,-47],[13,-87],[11,-46],[-1,-53],[24,-56],[10,27],[-15,45],[14,12],[17,-56],[8,-53],[11,14]],[[25079,59990],[9,-21],[-5,-90],[-6,-46],[-10,-9],[-1,-38],[17,-37],[-3,-28],[-16,3],[-4,-44],[11,-58],[-8,-29],[-7,-71],[-13,-18],[-18,78],[-13,-13],[-13,-142]],[[24999,59427],[-8,-40],[-13,7],[2,31]],[[24980,59425],[6,38],[-5,49],[-21,2],[-4,-30],[9,-58]],[[24965,59426],[6,-22],[-7,-64],[10,-59],[-5,-37],[-24,-1],[0,-37],[21,-39],[1,-27],[-15,-15],[-30,16],[-3,-21],[28,-74],[1,-61],[-22,-40],[-3,-75],[-12,-23]],[[24911,58847],[-179,-6],[16,110],[23,58],[0,23],[15,53],[16,28],[3,43],[9,7],[5,133],[-22,44],[3,15],[-5,71],[-349,-1],[-323,1],[-141,0],[-222,1],[-210,1]],[[23358,63503],[-31,56],[8,79],[-24,76],[-2,77],[-20,19],[1,32],[-18,26],[-12,110],[1,39],[-11,34],[-1,40],[13,42],[-11,18],[-1,-33],[-20,3],[1,63]],[[26900,61666],[18,-20],[35,40],[23,11],[5,49],[3,98],[12,28],[16,-7],[6,30],[-3,101],[-10,105],[21,52],[0,67],[14,88],[12,27],[6,37],[13,-40],[11,-1],[12,-79],[-8,-40],[11,-20],[9,22],[3,42],[9,20],[9,-25],[4,111],[-10,29],[-3,43],[19,19],[-3,96],[8,41],[10,12],[3,55],[31,-7],[3,83],[25,76],[17,-19],[6,-52],[11,3],[21,47],[17,8],[11,54],[11,8],[8,48],[16,57],[30,89],[16,9],[4,83],[10,26],[-11,50],[12,48],[0,57],[10,23],[-4,60],[13,-11],[-2,52],[7,20],[0,122],[9,30],[0,58],[10,48],[5,61],[10,23],[5,65],[-3,95],[4,71],[-9,84],[-11,44],[9,50],[14,-1],[18,27]],[[27769,63178],[-3,-600],[10,7],[33,103],[12,-1],[10,67],[31,60],[13,75],[11,-2],[28,-36],[11,54],[38,158],[13,-10],[-13,-14],[13,-18],[2,-26],[20,-34],[17,1],[7,-18],[28,-4],[14,38],[-7,49],[13,-1],[-11,32],[14,-11],[9,37],[19,-23],[28,87],[24,-20],[17,-49],[8,-40],[18,20],[17,-23],[14,4],[0,-37],[-16,-15],[12,-69],[19,-41],[-2,-33],[9,-12],[5,-43],[-6,-63],[10,-14]],[[28258,62713],[-9,-45],[-21,-175],[-78,209],[-66,179],[-4,-62],[5,-28],[-6,-36],[7,-11],[-23,-106],[6,-15],[-11,-54],[10,-36],[-16,-62],[-7,-7],[-24,-88],[6,-16],[-14,-63],[-7,21],[-15,-66],[-10,-24],[0,36],[-23,-71],[-20,-130],[-35,101],[-9,-69],[-17,-82],[-1,-71],[-8,1],[-10,-57],[-15,-138],[-28,-94],[-46,53],[-17,109],[-31,47],[-14,-121],[3,-65],[-12,-60],[-22,-87],[6,-44],[-12,-21],[-25,-81],[-7,-56],[6,-29],[-8,-30],[-6,-60],[-10,-51],[-18,-51],[-30,-104],[-21,-112],[2,-36],[-12,-39],[4,-41],[17,-34],[-12,-40],[-18,-34],[-1,-32],[13,-4],[-4,-29],[-49,-99],[-10,68],[-12,-9],[-19,-47],[-41,-71],[-4,26],[-21,38],[-7,-51],[9,-43],[-19,-47],[-17,-5],[-37,-27],[-31,-51],[-27,75],[-11,45],[-8,-21],[-8,-55],[-23,-17],[-2,-30],[-13,-29],[-34,-7],[-19,48],[0,24],[-12,25],[-18,3],[-7,52],[-14,31],[-2,90],[-15,22],[-1,33],[18,34],[-11,29]],[[27075,60636],[-14,-4],[-28,30],[-3,37],[-8,1],[-7,40],[-9,-2],[-7,42],[-15,11],[-13,134],[-10,19],[-13,61],[1,34],[-15,19],[-8,39],[11,55],[-15,22],[-9,80],[-10,45],[-15,37],[0,38],[8,0],[3,55],[-4,20],[11,33],[1,58],[-8,36],[1,90]],[[24442,63943],[12,16],[-2,50],[4,90],[-11,35],[13,69],[31,43],[18,-1],[18,41],[1,61],[6,49],[1,67],[10,27],[14,66],[11,19],[6,106],[-1,98],[-13,75],[-13,6],[-20,85],[11,77],[2,74],[6,55],[19,21],[13,-15],[23,40],[31,-6],[24,17],[16,56],[10,13],[26,-1],[18,57],[16,21],[-1,66],[9,59],[0,52],[9,29],[28,49],[-1,41],[8,72],[-3,58],[7,61],[-7,37],[1,89],[-13,41],[-47,73],[-15,74],[3,60],[-16,63],[-22,37],[-2,26],[-22,35],[0,47]],[[24658,66423],[45,-2],[227,-2],[51,-5],[194,-11],[41,4],[152,1],[82,-5]],[[25450,66403],[-2,-124],[-8,-97],[10,-109],[21,-117],[12,-37],[3,-54],[13,-139],[4,-75],[14,-93],[8,-20],[2,-47]],[[25386,60941],[-8,-66],[-17,-35],[-11,-56],[7,-105],[20,-68],[-6,-50],[-48,-19],[-12,-11],[-18,-52],[-14,26],[-18,-44],[-2,-55],[-9,-65],[2,-25],[17,-65],[7,-66],[-10,-89],[-15,-10],[-13,13],[-19,52],[-35,40],[-14,39],[-31,42],[-19,5],[-13,-21],[-13,-42],[-9,-65],[-16,-52],[-4,-55],[14,-52]],[[20232,53938],[-214,0],[-254,0],[0,-524],[-234,-1]],[[24911,58847],[4,-38],[18,-49],[0,-45],[-24,23],[-9,-49],[20,-36],[-11,-33],[-11,-1],[-9,-52],[-17,-22],[-9,21],[-15,-41],[6,-68],[9,-17],[12,23],[3,-38],[-26,-42],[1,-53],[9,-10],[-3,-40],[-22,56],[-9,-9],[-5,-58],[9,-42],[-11,-75],[-8,88],[-23,-67],[-3,-46],[12,-6],[2,43],[15,-35],[-9,-47],[0,-45],[-16,-10],[4,-47],[15,-7],[6,-29],[-12,-43],[15,-58],[-10,-25],[-12,21],[-9,-26],[-9,-100],[-25,13],[-3,-49]],[[24751,57677],[17,-55],[0,-45],[-18,-44],[-31,-44],[-4,59],[-11,2],[-2,-29],[8,-44],[-5,-25],[6,-72],[-14,-19],[-5,34],[2,57],[-10,-27],[2,-35],[-7,-14],[6,-40],[20,-2],[2,-31],[-14,-50],[-11,18],[1,49],[-10,-21],[0,-64],[12,-61],[1,-27],[-13,-51],[6,-83],[-25,-57],[0,-63],[-10,1],[3,54],[-19,-1],[-5,-27],[8,-45],[-7,-30],[-19,-15],[-4,-71],[-16,43],[-9,-29],[14,-43],[20,1],[2,-25],[-13,-28],[-16,33],[-12,-32],[9,-51],[11,3],[3,-24],[-8,-61],[-24,-6],[7,-45],[-11,-16],[-5,43],[-16,-23],[-3,-29],[22,-34],[-18,-78],[7,-55],[16,-26],[-10,-34],[-8,18],[-24,-2],[-1,-59],[10,-26],[13,14],[8,-50],[-12,-18],[-16,22],[-7,35],[-17,-16],[-2,-28],[25,-51],[2,-33],[-28,-41],[13,-63],[-14,-80],[18,16],[-1,51],[14,-27],[-4,-54],[-17,-10],[-3,-19],[10,-24],[17,14],[10,73],[5,-32],[-23,-90],[0,-64],[12,-68],[3,42],[10,13],[2,-23],[-13,-52],[2,-75],[-3,-23],[-14,-8],[-11,14],[-5,-39],[23,-62],[-13,-59]],[[24512,55359],[-219,4],[-154,5],[-157,7],[-86,0],[-185,2]],[[16868,55911],[16,-5],[28,-53],[21,-22],[1,-25],[16,-61],[-5,-43],[-13,25],[-26,7],[-6,35],[0,74],[-20,16],[-12,52]],[[16867,55390],[9,4],[22,-117],[40,-130],[-10,4],[-11,-22],[-17,44],[-13,72],[-14,119],[-6,26]],[[16741,55926],[8,7],[1,-41],[-11,7],[2,27]],[[16637,56552],[8,-17],[11,14],[0,-30],[-17,-4],[-9,21],[7,16]],[[16596,55679],[14,7],[20,-35],[8,-31],[-13,-15],[-20,21],[-9,53]],[[16501,56608],[18,-7],[13,-22],[15,5],[19,-43],[19,-4],[7,39],[20,-20],[-11,-43],[-28,-11],[-17,-31],[-42,24],[-1,61],[-12,52]],[[16410,56520],[22,8],[9,21],[13,-8],[13,19],[0,-48],[18,-13],[1,-48],[-41,-54],[-16,37],[-19,86]],[[16354,56562],[16,17],[6,28],[6,-35],[13,-26],[-21,-6],[-20,22]],[[15305,65829],[155,-4],[9,6],[77,-1],[56,12],[28,-8],[115,2],[37,5],[95,-1],[45,-5],[154,-8],[114,-4],[197,0],[92,2]],[[16479,65825],[0,-1]],[[16479,65824],[0,-1448],[1,-34],[0,-756],[-1,-393],[-1,-13],[0,-457],[-1,-122],[2,-263],[26,-77],[115,-330],[114,-336],[63,-182],[99,-298],[125,-377],[62,-186],[127,-394],[313,-989],[234,-759],[70,-234],[147,-492]],[[17950,55027],[-416,-126],[-254,-89],[-3,98],[-9,62],[-8,20],[-14,-23],[-3,66],[1,71],[-8,41],[9,61],[-9,161],[-13,127],[-9,54],[-40,193],[-25,61],[-10,51],[-15,37],[-9,-2],[-19,95],[-26,59],[-14,15],[-20,57],[-25,88],[-24,39],[-2,-47],[-21,-23],[-18,14],[-10,25],[-15,6],[-4,38],[9,34],[1,43],[-14,116],[-11,64],[-17,50],[-35,1],[-22,-8],[-16,-36],[-14,38],[-28,16],[-37,59],[-12,2],[-24,53],[-17,141],[-10,10],[-17,53],[-4,-3],[-20,65],[-21,25],[-6,20],[-32,4],[-16,-24],[-18,25],[-22,-10],[-37,60],[-23,0],[-15,15],[-44,-7],[-48,-22],[-1,31],[-13,66],[-16,30],[-12,-4],[-6,32],[13,143],[-11,60],[8,119],[-17,54],[9,115],[1,140],[-18,56],[-14,7],[-3,-21],[-27,55],[-11,48],[10,131],[-2,50],[-11,53],[-27,14],[-27,102],[-18,101],[-24,25],[-17,66],[-5,81],[-16,47],[-7,37],[-14,35],[-6,99],[-5,35],[-20,29],[-15,104],[-25,94],[-33,64],[-11,45],[-8,80],[1,42],[-11,101],[2,92],[-11,16],[10,74],[18,-38],[9,30],[7,61],[8,141],[-21,149],[-12,43],[-10,11],[-9,-28],[-37,2],[-28,68],[-22,102],[-14,18],[-2,31],[-17,60],[-4,62],[5,129],[-12,89],[-2,52],[-12,14],[-6,33],[-1,64],[5,27],[2,77],[-6,134],[14,28],[16,8],[6,-24],[7,-88],[-9,-9],[11,-107],[-2,-27],[27,-23],[27,-80],[8,5],[14,-63],[12,3],[-6,40],[-12,19],[-10,87],[-7,109],[-21,54],[-2,46],[-22,26],[9,74],[-7,68],[-15,-1],[-14,68],[8,-9],[9,26],[0,40],[19,-2],[10,39],[-10,71],[-26,44],[-13,-30],[-14,-6],[2,-47],[-5,-46],[15,-51],[-12,-25],[-4,-44],[19,-56],[-7,-14],[-11,29],[7,-71],[-15,-16],[-9,38],[-26,61],[-13,-12],[-23,67],[-10,53],[-17,33],[-16,8],[-20,-33],[14,127],[3,48],[-12,92],[7,20],[-16,70],[-11,-10],[-1,67],[-17,106],[-20,51],[-14,19],[-22,64],[-37,176],[-14,29],[-8,41],[-31,90],[-24,116],[14,78],[-1,42],[-14,126],[-16,123],[-7,105],[3,99],[13,132],[-5,52],[0,65],[-14,92],[-4,108],[-16,36],[-6,55],[-35,133],[-7,6],[0,43],[-8,43],[-22,32],[-49,151],[4,63],[-4,70],[-13,74],[9,98],[14,109],[42,265],[11,95],[7,119],[-12,37],[-1,97],[4,2],[11,99],[12,244],[-5,126],[-15,128],[-8,96],[-9,-4],[-17,54],[10,74],[5,110],[-3,67]],[[28861,63044],[-1,28]],[[28874,63137],[-6,7],[-22,-81],[2,-39],[11,-31],[1,-49],[-8,-28],[0,-41],[14,-52],[7,-58],[21,-62],[10,-68],[3,-58],[-5,-35],[2,-126],[16,-48],[7,-43],[2,-74],[34,-137],[16,-29],[10,24],[4,-36],[5,-129],[4,-244]],[[29002,61700],[-105,1],[-74,9],[-2,72],[-25,1311],[0,86]],[[28426,62262],[21,70],[37,-118],[-36,-118]],[[28448,62096],[0,93],[-22,73]],[[6433,39922],[2,44],[19,76],[12,7],[13,93],[16,52],[3,58],[-17,94],[-4,45],[-1,105],[8,37],[18,-9],[18,-32],[3,-32],[22,-44],[15,-47],[12,6],[25,-32],[39,-77],[13,-19],[22,-61],[16,-57],[17,-76],[-3,-47],[1,-90],[8,-10],[16,12],[7,-57],[-1,-57],[22,-82],[22,-39],[5,-21],[-4,-44],[-13,-51],[-17,-47],[-14,-56],[-23,-38],[-20,-47],[-20,-18],[-16,15],[-9,-9],[-18,-66],[-16,-25],[-13,-48],[-14,-16],[-12,-59],[1,-33],[-8,-37],[-5,-59],[-20,-63],[-15,61],[-22,52],[-22,29],[-10,95],[5,113],[4,151],[-10,106],[1,46],[-9,12],[-5,114],[-7,66],[-9,8],[-8,108]],[[6254,41293],[5,69],[11,56],[14,6],[13,-33],[10,-78],[10,-50],[24,29],[18,35],[26,-21],[0,-16],[17,-51],[10,-15],[5,-40],[31,-37],[5,-32],[0,-52],[-8,-43],[-13,-40],[-6,3],[-17,-36],[-14,10],[-30,-53],[-21,-9],[-17,26],[-7,210],[-7,20],[-14,-24],[-26,50],[-13,58],[-6,58]],[[6253,40841],[7,29],[28,57],[10,-30],[-4,-44],[5,-17],[-13,-19],[-5,15],[-18,-23],[-10,32]],[[6153,41274],[7,27],[13,5],[26,-19],[17,-60],[8,-51],[-9,-65],[-19,-29],[-17,-5],[-7,60],[-3,73],[-14,32],[-2,32]],[[6084,41504],[6,52],[9,29],[-2,58],[17,-2],[3,-14],[54,-29],[10,34],[4,-42],[22,-13],[27,18],[17,-25],[-8,-55],[-18,-51],[-20,-21],[-35,32],[-26,31],[-15,-14],[-29,-5],[-16,17]],[[5814,42059],[43,9],[13,49],[4,35],[13,48],[14,15],[6,-27],[6,-70],[20,-84],[4,-52],[-4,-15],[3,-47],[18,-55],[3,57],[12,-2],[-4,-64],[8,-24],[-1,-29],[17,-70],[-12,-37],[-11,18],[-21,-29],[-6,26],[-17,31],[-25,11],[-30,-20],[-7,4],[-7,84],[-11,34],[-1,31],[-14,67],[0,61],[-13,45]],[[5394,42585],[1,40],[11,38],[4,49],[33,72],[8,26],[23,-18],[3,25],[16,-11],[8,14],[15,-20],[10,-37],[5,-45],[0,-46],[-11,-63],[1,-106],[-4,-28],[-28,-78],[-8,15],[-36,12],[-18,71],[-24,29],[-9,61]],[[5266,42374],[4,43],[12,44],[19,45],[2,38],[11,9],[2,-31],[-5,-57],[2,-36],[-20,-28],[-16,-97],[-12,30],[1,40]],[[24498,67577],[-5,-52],[10,-50],[-1,-74],[27,-41],[13,-76],[-18,-60],[-6,-52],[-9,-24],[1,-108],[8,-88],[0,-68],[12,-25],[13,-169],[33,-64],[47,-37],[17,-20],[18,-109],[0,-37]],[[23231,64184],[4,28],[-10,56],[-13,16],[-15,58],[2,37],[13,35],[-4,83],[10,51],[-7,27],[2,66],[-9,20],[1,42],[-7,30],[5,27],[-5,93],[12,17],[-24,24],[4,37],[-5,63],[13,41],[-20,27],[7,29],[-1,116],[-20,10],[2,77],[-9,1],[-2,-37],[-15,28],[3,56],[-11,39],[7,39],[-8,41],[11,18],[-6,54],[8,20],[3,46],[-12,23],[-1,38],[-14,61],[6,11],[3,66],[-16,6],[1,30],[-15,11],[5,16],[-15,25],[1,83],[-22,56],[-3,48],[10,25],[-14,103],[-11,29],[0,76],[9,44],[-4,44],[-14,8]],[[26280,62461],[18,48],[7,-2],[15,-54],[21,-28],[14,29],[14,-3],[8,29],[8,-8],[4,-69],[29,-32],[10,-84],[16,-83],[0,-66],[5,-26],[40,-41],[33,19],[29,-46],[3,-34],[15,-26],[5,-50],[28,-29],[14,66],[26,22],[15,-32],[28,-20],[11,-24],[5,-43],[13,24],[30,-1],[10,53],[18,34],[9,39],[15,0],[21,32],[7,-33],[-3,-44],[9,-111],[13,-37],[21,-6],[21,-79],[13,-35],[2,-44]],[[27075,60636],[-108,-317],[-37,-39],[-22,-41],[-19,-49],[-25,-45],[0,-86],[-16,-39],[-12,-2],[-12,-33],[3,-59],[-6,-45],[-25,-36],[-29,-4],[-16,-80],[-2,-50],[-16,-4],[-33,-35],[-39,-52],[-21,2],[-33,-49],[-8,-27]],[[26599,59546],[-4,-21],[-83,8],[-79,2],[-76,5],[-83,11],[-51,16],[-74,9],[-55,-14],[-96,8],[-56,10],[-83,22],[-49,4],[-16,-22],[-7,22],[-146,-12],[-92,-2],[-114,-8],[1,35],[-61,17],[10,-147],[-6,-64],[-137,6],[-126,0],[-84,6],[-33,-10]],[[24980,59425],[-15,1]],[[28739,61120],[-14,0]],[[28725,61120],[-1,72],[8,28],[11,-40],[-4,-60]],[[28711,61320],[2,79],[11,13],[7,-30],[5,-118],[-15,21],[4,27],[-14,8]],[[28627,62072],[5,20],[5,-46],[-10,26]],[[29002,61700],[-1,-43],[-9,-105],[-5,-15],[-20,-211],[-18,-120]],[[28949,61206],[-107,-38],[-6,-55],[-6,4]],[[28830,61117],[-13,30],[-19,-4],[-22,-64],[-9,-1],[-1,67],[7,70],[17,28],[-17,2],[2,45],[11,40],[-21,9],[-12,-33],[-4,28],[5,58],[26,27],[-6,39],[-9,-13],[-4,36],[15,112],[-15,-24],[-7,-47],[0,-60],[-8,-1],[-11,77],[11,9],[-1,53],[-8,10],[-4,-49],[-9,-33],[6,-27],[-9,-62],[-4,29],[-17,-23],[-9,12],[-16,83],[-9,13],[2,43],[-24,151],[20,14],[5,39],[-8,-7],[-9,51],[8,40],[12,22],[6,-25],[12,26],[1,-36],[22,-9],[13,-39],[4,10],[-16,69],[-17,14],[-8,42],[-7,-3],[-16,77],[-5,-28],[-12,20],[-1,-59],[-7,8],[3,101],[18,92],[14,-45],[8,10],[-3,124],[-8,17],[-17,-47],[-12,4],[1,-48],[-12,-17],[4,104],[16,101],[7,-51],[21,-11],[11,31],[-6,54],[11,55],[-16,-9],[-3,-52],[4,-31],[-12,17],[3,63],[-6,59],[-7,14],[16,136],[12,42],[-2,24],[14,25],[7,37],[30,-6],[-11,24],[18,70],[-10,6],[12,122],[-35,-24],[-6,-48],[12,-24],[4,-32],[-12,-14],[-34,-97],[-7,31],[7,54],[-8,28],[0,-44],[-9,-51],[8,-34],[-7,-46],[-6,96],[-15,14],[6,-103],[-8,8],[-6,-42],[12,-22],[-21,-44],[-7,-28],[-13,8],[-2,26],[-22,46],[3,-46],[9,-13],[2,-41],[27,-54],[2,-67],[-5,-25],[13,-48],[-23,-45],[7,-37],[-3,-40],[-9,4],[-7,-55],[6,-53],[-17,-58],[9,-50],[-2,-54],[6,-73],[-2,-89],[7,-65],[22,-80],[8,-62],[-9,-45],[-14,7],[9,-42],[9,22],[8,-14],[-7,-47],[4,-48],[18,-92],[-5,-22],[5,-97],[-9,19],[-11,58],[-8,4],[-5,64],[-8,-9],[-2,-57],[-7,38],[-8,-3],[-5,48],[-12,45],[-23,23],[-35,3],[-8,129],[-8,13],[-4,-31],[10,-68],[-2,-22],[-22,43],[-2,34],[-13,31],[-12,114],[-20,-44],[-33,-56],[-12,27],[-7,115],[11,82],[15,57],[20,30],[-5,10]],[[28423,61914],[-1,45],[7,27],[18,25],[1,85]],[[28426,62262],[-9,37],[-20,6],[-8,17],[1,48],[-26,42],[-34,15],[-6,39],[-10,13],[1,58],[9,18],[7,49],[-23,43],[-6,45],[-15,-1],[-16,25],[-13,-3]],[[26327,70327],[8,17],[9,-60],[65,-63],[-17,-58],[-23,18],[-14,61],[-28,85]],[[26120,70229],[5,40],[7,-20],[-12,-20]],[[26084,70289],[21,-39],[-4,-36],[-19,38],[2,37]],[[26055,70019],[7,48],[3,69],[6,15],[1,57],[18,-7],[-1,-85],[4,-83],[-19,-44],[-19,30]],[[26035,70180],[13,8],[-5,-54],[-7,1],[-1,45]],[[25984,69839],[13,-17],[1,-59],[-14,76]],[[25933,69486],[6,23],[19,-25],[-6,-96],[-17,52],[-2,46]],[[25908,69335],[11,44],[6,-47],[-17,3]],[[25759,70041],[20,-64],[-8,-22],[-4,36],[-14,43],[6,7]],[[25722,65552],[30,68],[27,87],[37,261],[34,146],[19,134],[10,99],[10,176],[-1,58],[6,87],[-1,163],[-6,182],[-11,120],[-35,230],[-11,94],[-12,138],[-17,119],[0,48],[22,102],[7,50],[1,77],[-9,134],[-14,90],[4,32],[20,51],[24,151],[21,112],[4,124],[9,134],[-11,112],[1,33],[27,43],[20,15],[6,93],[-2,74],[10,36],[13,-18],[16,80],[18,-35],[17,13],[8,32],[9,86],[10,16],[15,94],[11,47],[9,-7],[12,35],[3,-39],[-19,-32],[-3,-42],[12,-81],[-23,-81],[13,19],[0,-74],[-6,-7],[-8,-84],[7,-95],[8,-2],[19,145],[3,98],[13,20],[-8,-158],[-15,-44],[-6,-67],[14,-14],[8,65],[7,13],[22,135],[5,78],[-1,56],[4,82],[-6,85],[5,94],[17,49],[10,3],[18,48],[18,16],[25,-7],[26,14],[12,20],[-1,33],[-33,17],[-14,47],[-8,114],[16,75],[13,14],[20,69],[-2,31],[-18,27],[60,-15],[7,49],[61,-102],[26,-58],[13,20],[11,-16],[13,10],[32,-34],[24,-85],[3,-57],[17,-27],[33,4],[8,-9],[29,-77],[23,-7],[34,-71],[29,6],[21,-78],[11,-25],[-9,-27],[15,-96],[11,-30],[14,-133],[-20,21],[-16,34],[-15,-41],[4,-110],[12,-44],[21,-26],[5,-59],[1,-98],[7,-37],[-4,-71],[-8,-67],[2,-65],[-5,-111],[-1,-121],[-12,-15],[-14,-64],[-24,2],[-8,-30],[-8,-108],[-4,-115],[-19,-5],[-8,-19],[0,-49],[-42,-6],[-13,-35],[-9,-76],[-5,-124],[-8,-42],[13,-91],[16,-32],[9,33],[5,-38],[20,-21],[13,-38],[10,16],[28,120],[14,0],[7,25],[-7,51],[9,44],[9,87],[4,-50],[19,31],[5,29],[-21,31],[24,-3],[11,24],[5,41],[23,10],[34,28],[9,45],[31,30],[11,-30],[23,-25],[15,-39],[17,-123],[10,-37],[7,-97],[5,-208],[17,-178],[4,-247],[10,-143],[18,-110],[2,-48],[-11,-46],[-7,-145],[4,-47],[-12,-113],[-4,-67],[-18,-66],[-15,4],[-12,-42],[1,66],[-9,27],[10,16],[15,62],[-14,26],[-15,-5],[-19,-34],[-7,-32],[9,-27],[2,-45],[-15,4],[-11,-52],[1,-84],[-7,-77],[-17,-53],[-30,-25],[-18,-97],[2,-127],[-3,-44],[-15,-25],[-1,-70],[-16,-39],[-6,-39],[-13,-4],[-7,-65],[-11,-11],[-17,-72],[5,-79],[-8,-9]],[[26661,65520],[-86,-11],[-167,-20],[-124,-12]],[[25045,72671],[21,69],[95,141],[7,-2],[43,98],[31,42],[6,-11],[28,29],[-1,-28],[-12,-16],[-30,-80],[0,-30],[-25,-55],[-51,-53],[-42,-66],[2,-20],[23,0],[-59,-73],[-18,3],[-18,52]],[[24721,71146],[19,40],[12,3],[39,49],[38,34],[31,77],[19,64],[16,27],[33,17],[15,-17],[29,27],[22,-3],[52,75],[30,94],[22,5],[29,23],[10,39],[5,51],[25,65],[14,16],[30,82],[23,23],[21,56],[11,54],[20,52],[58,85],[56,25],[50,-7],[23,-39],[1,-45],[-11,5],[-17,-24],[-19,13],[-21,-10],[5,-47],[-32,-57],[-30,-95],[-19,-20],[-5,-74],[-7,9],[-7,-52],[-14,-26],[-5,-67],[-12,-48],[-9,-6],[-12,-164],[6,-52],[-9,-35],[11,3],[20,87],[3,44],[7,-13],[29,80],[28,43],[-12,-55],[-12,-24],[-15,-77],[30,84],[26,18],[14,-13],[37,1],[15,-30],[8,8],[17,-35],[8,-39],[15,11],[22,-63],[3,-61],[17,-49],[6,-47],[14,-49],[19,-15],[-2,-79],[11,-28],[26,-15],[42,10],[25,43],[11,-8],[14,-72],[12,-27],[19,-4],[8,46],[16,-7],[9,-38],[4,69],[-7,53],[16,20],[7,-32],[-6,-56],[17,-26],[26,72],[40,62],[59,110],[11,-21],[61,42],[46,-16],[35,-3],[30,7],[62,85],[24,12],[30,-7],[32,14],[-22,-84],[-2,-135],[2,-45],[-8,-19],[9,-51],[16,-8],[9,16],[6,-26],[15,3],[17,-28],[34,49],[13,-4],[11,-46],[-1,-35],[25,28],[7,-7],[10,65],[19,24],[23,-19],[11,9],[8,39],[27,-5],[5,-30],[-10,-100],[7,-120],[1,-95],[-29,-2],[-8,-65],[15,-12],[5,21],[15,-4],[8,-38],[19,-19],[-13,-40],[24,-75],[12,-1],[20,-45],[8,38],[14,-35],[8,26],[-16,100],[14,-15],[41,13],[12,-15],[14,-91],[16,-31],[-10,-64],[-14,-20],[-27,39],[-31,-16],[-31,42],[-11,-12],[-27,1],[-27,23],[-60,-26],[-13,-28],[-37,69],[-15,48],[-13,-7],[-13,30],[-10,-41],[2,-51],[-15,-32],[1,-45],[9,-63],[-12,-20],[-24,42],[-3,31],[-21,37],[-5,30],[-22,64],[-38,46],[-13,-7],[-33,49],[-18,-5],[-13,23],[-5,-20],[-19,11],[-25,-75],[-17,-73],[-9,-8],[-32,23],[-23,-15],[-8,-22],[2,-34],[-23,37],[-21,17],[-24,-14],[-10,11],[-23,-24],[-13,-42],[-2,-63],[-9,-72],[-14,4],[-7,-39],[-22,-15],[-6,-46],[-13,-3],[0,-45],[-12,-9],[4,-61],[-20,32],[-9,40],[12,27],[1,34],[11,31],[1,40],[13,-4],[15,87],[-3,43],[-12,10],[-18,-75],[-38,24],[3,-51],[-13,-47],[-5,-56],[-30,-31],[-5,-27],[-6,39],[3,55],[-4,67],[-8,32],[-10,-19],[-5,-120],[3,-12],[-31,-55],[-26,-129],[-17,-146],[-19,-65],[-20,-112],[-41,-174],[6,-33]],[[25508,69434],[-19,14],[-8,47],[-13,28],[-2,29],[15,118],[11,48],[-2,34],[-11,25],[-16,-47],[-27,-10]],[[25436,69720],[0,0]],[[25436,69720],[-7,47],[7,24],[-3,38],[13,34],[6,40],[-3,47],[8,69],[-14,75],[12,13],[-8,44],[-13,18],[-6,33],[-24,4],[-9,43],[-21,-18],[-18,45],[17,52],[-7,21],[0,47],[-40,48],[-14,-14],[-24,47],[-12,-15],[-21,21],[-2,25],[-27,-2],[-3,-32],[-14,0],[-4,29],[-17,16],[-12,-13],[-86,142],[-287,231],[1,27],[-28,167],[-27,16],[-10,24]],[[24739,71113],[0,0]],[[24739,71113],[-12,-6],[-6,39]],[[25252,52115],[30,-13],[-14,-20],[-12,9],[-4,24]],[[25179,52148],[16,13],[30,-29],[6,-15],[-24,5],[-28,26]],[[25119,52114],[15,7],[15,31],[-4,-29],[-21,-27],[-5,18]],[[25071,52140],[21,-1],[8,13],[-5,-43],[-10,-7],[-17,26],[3,12]],[[24751,57677],[229,-2],[156,1],[202,1]],[[25284,52292],[-4,-32],[-7,15],[-10,-40],[-18,27],[-13,-15],[-5,30],[-18,7],[-18,-23],[-23,49],[-2,-28],[-21,38],[-22,-3],[-31,-27],[-28,-42],[-30,-33],[4,54],[-10,30],[-14,-27],[9,-17],[1,-40],[-25,-57],[-8,-80],[-9,10],[-13,-16]],[[24969,52072],[-12,0],[-13,50],[-4,66],[0,69],[-15,77],[0,54],[-10,43],[-11,19],[-4,39],[-10,34],[-4,95],[-8,14],[10,88],[-4,36],[7,25],[9,125],[7,19],[-1,45],[7,22],[-7,36],[-165,-2],[-134,-1],[-226,0],[13,21],[7,58],[-16,50],[-1,28],[10,46],[-3,41],[-12,30],[1,38],[18,-7],[17,20],[2,43],[-12,37],[-1,45],[-7,16],[9,39],[4,-50],[8,-29],[9,7],[0,29],[-13,75],[-1,74],[20,18],[12,35],[-4,32],[-18,-13],[-9,30],[5,38],[10,-28],[18,0],[1,106],[11,35],[23,5],[4,18],[-29,11],[7,94],[12,11],[2,-43],[7,-17],[5,28],[-6,21],[24,78],[-2,50],[7,25],[19,14],[0,50],[-19,26],[5,25],[13,-39],[5,36],[12,22],[9,69],[-15,24],[2,-62],[-32,11],[2,79],[27,20],[7,27],[14,-31],[5,42],[-2,53],[12,-8],[16,79],[-4,18],[-6,-40],[-23,17],[0,58],[8,20],[-8,35],[-10,-20],[-23,49],[3,58],[5,1],[17,-48],[10,7],[-5,26],[-21,50],[14,31],[8,37],[-7,37],[-6,-46],[-20,-26],[-6,14],[-3,52],[9,38],[16,33],[2,27],[-31,30],[1,71],[5,37],[21,52],[2,39],[-9,72],[-11,-4],[1,-67],[-14,-26],[-9,22],[3,48],[10,50]],[[17580,73980],[234,-2],[232,3],[190,-5],[190,2],[348,-2],[211,0],[232,2],[328,0],[141,0],[292,0],[227,1],[143,-1],[294,0],[114,0],[167,1]],[[18973,68711],[-21,23],[-6,49],[-24,59],[2,43],[-28,117],[-17,36],[-8,-52],[-20,-3],[5,-33],[-16,-98],[15,-64],[-32,26],[-9,-16],[-24,13],[-3,-19],[-30,-40],[-13,63],[-22,-8],[-13,-25],[-10,13],[-21,-30],[-8,22],[-14,-8],[-12,35],[-16,7],[-9,-35],[-9,0],[-2,-61],[-8,-45],[-24,38],[-8,-20],[-11,24],[-33,2],[-17,22],[-17,-23],[-15,-72],[6,-53],[-9,-22],[-11,44],[-18,24],[-15,40],[-6,53],[5,34],[-21,81],[9,48],[-5,50],[-18,109],[-32,58],[-26,-44],[-4,40],[-28,53],[-11,97],[14,13],[2,55],[-4,61],[-19,39],[2,26],[-17,15],[-7,73],[-24,73],[-1,35],[-14,54],[2,70],[-8,19],[-6,57],[6,30],[-1,46],[-19,0],[7,95],[-15,25],[-12,-2],[2,26],[-10,44],[-15,26],[-9,-13],[2,-41],[-15,-35],[-19,-82],[-19,-26],[-13,12],[-3,-58],[-24,-42],[-5,36],[-14,22],[-13,60],[-25,0],[4,53],[-8,36],[18,37],[1,48],[-19,74],[18,89],[25,1],[7,44],[-13,54],[6,49],[-19,27],[-4,54],[9,58],[-17,33],[2,49],[19,7],[-1,79],[-6,30],[13,24],[1,116],[13,65],[-7,69],[12,3],[10,123],[-3,58],[-8,10],[-26,-23],[-4,-21],[-22,15],[-19,-5],[-8,39],[6,39],[-7,30],[-14,9],[-4,-30],[-15,-21],[-6,17],[6,55],[-34,58],[-16,59],[4,71],[-20,60],[-13,-1],[-6,60],[-19,82],[-17,54],[-12,13],[-5,37],[-11,7],[2,38],[-9,41],[-24,10],[-32,45],[-7,54],[-47,87],[-11,-2],[12,36],[22,8],[3,22],[-16,7],[-5,57],[-11,5],[2,34],[13,32],[-12,55],[2,63],[-13,24],[-7,47],[-8,-6],[-8,88],[-15,21],[-39,152],[-1,279],[1,109],[0,804]],[[29991,69339],[3,68],[18,64],[-3,15],[11,74],[-13,36],[18,11],[4,26],[22,42],[15,-61],[28,-5],[13,70]],[[30213,67064],[-30,-174],[-2,-44]],[[29724,66677],[-9,53],[-6,-10],[-12,102],[9,73],[1,57],[13,10],[8,45],[-6,52],[9,33],[-5,65],[4,138],[12,64],[-6,60],[10,135],[-5,35],[5,74],[15,33],[6,109],[9,44],[19,43],[6,44],[-1,64],[19,67],[0,85],[12,44],[12,69],[0,47],[-10,68],[6,57],[-6,34],[10,61],[35,32],[10,-13],[16,21],[5,52],[24,14],[14,39],[7,45],[16,22],[-6,59],[11,13],[2,73],[-10,38],[-11,102],[15,52],[4,64],[18,75],[-13,89],[11,30]],[[29842,64964],[3,18],[27,22],[-21,-43],[-9,3]],[[29812,64781],[5,20],[11,-16],[0,-50],[-6,35],[-10,11]],[[29792,64880],[16,16],[-12,-43],[-4,27]],[[29275,64272],[5,-67],[-9,-39],[-38,-78],[-11,-1]],[[28633,68013],[16,50],[-5,-45],[-11,-5]],[[28611,68032],[12,40],[9,-5],[-21,-35]],[[27689,66145],[33,53],[53,111],[29,91],[30,50],[26,25],[11,70],[13,36],[4,52],[36,56],[19,54],[-4,80],[-13,40],[2,43],[-7,37],[-23,35],[1,92],[-18,15],[9,77],[-5,125],[-3,13],[28,22],[38,42],[56,47],[40,20],[33,2],[38,-9],[36,8],[86,-42],[23,-19],[15,-47],[23,-46],[12,-10],[40,49],[35,1],[43,12],[21,-19],[23,-1],[14,25],[30,20],[18,40],[9,1],[19,80],[30,64],[10,8],[19,54],[14,5],[20,-15],[17,19],[9,53],[2,87],[-9,180],[-20,40],[11,50],[14,11],[2,-33],[21,41],[-3,43],[-19,47],[-22,-15],[5,29],[-15,51],[-15,1],[1,80],[16,115],[19,5],[23,42],[0,48],[18,22],[27,55],[9,-5],[16,29],[25,75],[4,46],[12,51],[41,121],[31,100],[56,141],[-1,12],[68,109],[26,62],[18,0],[22,37],[27,-29],[19,10],[91,-8],[53,-1],[107,14],[24,-1],[93,10]],[[29478,69336],[1,-109],[-7,-30],[-4,-63],[13,-57],[-10,-55],[-2,-92],[-4,-31],[4,-70],[19,-88],[4,-69],[-12,-80],[7,-114],[-4,-36],[-19,-63],[-5,-89],[-8,-79],[9,-27],[-1,-103],[10,-67],[-5,-64],[12,-57],[-16,-97],[-7,-114],[10,-26],[7,66],[19,0],[2,-53],[13,-29],[-2,-343],[-6,-422],[0,-74],[-4,-37],[8,-65]],[[29390,64649],[-7,-42],[-21,-42],[-2,-79],[-13,2],[9,-60],[18,87],[11,-15],[10,42],[21,27],[18,2],[4,33],[22,-30],[2,41],[9,-28],[20,-8],[18,-23],[23,28],[2,43],[17,8],[10,-12],[75,3],[39,20],[14,18],[30,63],[9,40],[12,13],[13,50],[21,21],[12,-2],[-18,-52],[-9,-6],[15,-31],[5,-44],[17,-12],[11,25],[16,-72],[15,17],[23,48],[2,28],[17,11],[12,-12],[-5,-21],[-67,-94],[-78,-123],[-50,-62],[-81,-93],[-53,-78],[-43,-41],[-27,-12],[-6,15],[-64,-60],[-61,10],[-46,-55],[3,38],[-23,-2],[3,25],[-11,39],[7,35],[-8,36]],[[26861,65369],[16,17],[-2,-36],[-14,19]],[[26831,65420],[6,90],[11,-35],[-3,-35],[-14,-42],[0,22]],[[26661,65520],[1,-26],[21,-28],[13,17],[37,-82],[25,-20],[11,-21],[18,-66],[19,-29],[18,23],[2,50],[7,13],[14,-55],[19,2],[-1,-37],[29,-96],[16,-33],[22,-21],[41,57],[22,4],[17,35],[51,60],[37,-38],[19,15],[20,-9],[29,61],[29,86],[8,10],[16,58],[44,102],[10,1],[67,108],[30,17],[24,34],[65,69],[17,24]],[[15490,70789],[21,10],[13,-45],[-1,-55],[17,-42],[25,-1],[32,51],[14,-4],[59,-119],[7,-61],[18,-81],[1,-57],[7,-52],[-3,-67],[10,-88],[-4,-41],[3,-50],[33,-54],[46,-35],[11,-19],[17,14],[13,-32],[18,-5],[23,39],[23,7],[54,83],[12,45],[15,16],[21,-15],[29,12],[28,26],[19,-30],[17,-9],[18,14],[34,-40],[9,-75],[14,4],[19,50],[34,4],[13,-16],[11,34],[47,51],[15,35],[21,-9],[21,-51],[22,6],[34,26],[20,5],[11,42],[28,27],[29,46],[46,27],[37,10],[13,57],[14,23],[24,-22],[64,39],[17,-14],[19,6],[28,42],[11,36],[163,1],[250,-3],[164,-3]],[[17338,70482],[16,-107],[11,-27],[16,-75],[18,5],[10,-47],[19,-2],[16,-48],[0,-53],[13,-49],[7,-54],[-24,-108],[-1,-55],[-10,-23],[-24,-150],[1,-36],[-9,-51],[-7,-116],[-13,-40],[-6,-53],[-14,-44],[-3,-51],[7,-58],[-9,-68],[-18,-76],[0,-21],[-32,-49],[-14,-93],[-8,-97],[-10,-66],[-18,-48],[3,-66],[-8,-36],[15,-69],[-8,-56],[13,-35],[19,25],[16,-59],[20,12],[2,-53],[18,-17],[1,-31],[-10,-62],[-12,-17],[1,-42],[11,-32],[-1,-43],[-12,-81],[0,-54],[-11,-11],[-2,-59],[0,-2105]],[[17307,65831],[-166,-2],[-273,-5],[-26,-3],[-143,2],[-220,2]],[[15305,65829],[-21,55],[-15,55],[-7,69],[2,33],[-14,81],[2,32],[-7,63],[-2,126],[13,147],[-7,107],[-17,87],[-11,2],[-11,123],[15,90],[12,96],[6,83],[0,52],[9,80],[6,99],[-6,42],[17,53],[8,43],[16,132],[15,193],[15,283],[7,225],[4,188],[-2,8],[10,197],[-1,69],[7,184],[0,92],[-5,39],[8,91],[12,227],[8,117],[4,157],[-3,66],[3,109],[-4,69],[5,24],[5,176],[-1,76],[-11,41],[6,87],[-2,83],[-7,45],[16,36],[1,109],[-19,193],[27,-79],[14,-14],[-3,38],[23,10],[7,17],[11,-28],[12,31],[15,0],[20,51]],[[26599,59546],[33,-4],[78,1],[5,-5],[157,-1],[61,3],[151,-2],[3,26],[77,-5],[-8,-28]],[[18139,65823],[61,-6],[262,13],[192,2],[5,-5],[196,3],[118,3]],[[18136,60011],[0,880],[1,11],[-1,272],[1,173],[-1,298],[1,318],[0,1661],[1,149],[0,628],[1,266],[0,1156]],[[28738,60998],[7,-15],[-7,-27],[0,42]],[[28949,61206],[-16,-79],[-15,-98],[-8,-27],[-5,21],[-15,-7],[-19,-78],[-12,-70],[-11,-126],[1,-64],[-23,-128],[7,-14],[-18,-91],[-12,-79],[-9,-11],[1,-57],[-11,-86],[-18,-64],[-16,2],[4,-35],[-9,-5],[-1,84],[-10,55],[-4,61],[2,70],[9,59],[3,89],[10,105],[4,76],[16,79],[18,110],[-4,34],[21,17],[15,65],[1,28],[-20,21],[25,54]],[[28739,61120],[-11,-44],[-3,44]],[[28423,61914],[-20,-21],[-13,21],[0,-52],[-18,-113],[-4,-52],[2,-76],[15,-59],[29,15],[6,26],[15,0],[12,38],[9,-30],[-6,-74],[19,-64],[0,-49],[35,-59],[25,-2],[7,-28],[6,21],[24,-9],[4,-44],[16,-39],[8,-59],[13,-15],[15,-54],[20,-23],[30,-68],[-5,-65],[-15,-24],[-2,-107],[4,-29],[-11,-46],[13,-23],[-19,-30],[-31,64],[-11,-27],[-7,25],[0,41],[-13,81],[-19,32],[-8,35],[-12,12],[-21,103],[-11,11],[-4,45],[-13,30],[-2,-30],[28,-89],[20,-114],[15,-24],[1,-25],[16,-14],[10,-96],[11,-53],[30,-4],[7,-36],[31,-24],[-14,-29],[-1,-37],[13,-8],[4,22],[8,-41],[5,-110],[-8,-90],[-18,63],[-21,45],[-9,-42],[11,-39],[7,-55],[9,-14],[-22,-24],[-18,-4],[6,-39],[22,11],[-2,-76],[14,12],[4,-31],[12,-20],[6,-49],[-9,-97],[-4,15],[-16,-18],[-15,-34],[-10,68],[-29,61],[-14,45],[4,48],[-13,71],[-22,-9],[-8,-25],[-10,46],[-18,11],[-4,23],[-21,-35],[11,-33],[12,8],[18,-13],[15,-55],[9,-2],[8,58],[8,-119],[1,-67],[22,-19],[25,-82],[1,-65],[27,4],[9,27],[1,-33],[9,-11],[-3,86],[17,6],[13,-29],[35,-36],[17,27],[11,-11],[8,-128],[12,-140],[9,-71],[7,-94]],[[15775,72069],[4,105],[10,72],[12,-52],[-2,-58],[19,-32],[-18,-27],[-5,-26],[-18,-12],[-2,30]],[[15740,73454],[0,40],[20,-41],[-17,-26],[-3,27]],[[15720,73667],[6,14],[26,-115],[-18,42],[-14,59]],[[15715,73495],[8,29],[12,-47],[-15,-33],[-5,51]],[[15707,73080],[13,89],[14,59],[2,55],[16,11],[7,-19],[0,-49],[19,-38],[3,-26],[-15,-19],[-17,15],[-1,-29],[-13,-34],[-14,-7],[3,-24],[23,10],[11,-42],[8,-84],[-4,-14],[10,-100],[8,27],[-5,67],[10,-3],[16,-57],[16,-13],[7,-94],[-8,-58],[-14,13],[-12,86],[-21,-25],[2,30],[-19,44],[3,93],[-5,56],[-18,-4],[-3,30],[-22,54]],[[15649,73739],[11,-4],[34,-53],[-8,-8],[-22,20],[-15,45]],[[15623,73630],[17,26],[2,-33],[-19,7]],[[15618,73982],[15,0],[4,-29],[-17,-2],[-2,31]],[[15586,73509],[7,30],[20,1],[2,-29],[15,-33],[17,-9],[-18,69],[37,108],[12,-2],[37,-58],[-19,-50],[11,-66],[-2,-62],[-11,-25],[4,-69],[-20,-12],[-15,50],[-9,-12],[-22,11],[-31,62],[-6,76],[-9,20]],[[15577,73617],[18,-10],[18,-54],[-30,41],[-6,23]],[[17306,73978],[-1,-290],[0,-441],[-2,-286],[0,-702],[1,-52],[0,-1247],[-7,-48],[20,-76],[8,-54],[0,-63],[12,-40],[-17,-93],[7,-11],[11,-93]],[[15490,70789],[-34,9],[-3,34],[-12,6],[-10,-31],[-13,10],[-19,-51],[-9,7],[-21,74],[-10,8],[-7,-47],[-10,-10],[6,139],[1,124],[-4,165],[13,-61],[-2,-100],[4,-137],[17,0],[1,37],[-10,40],[0,61],[12,-37],[14,83],[-19,116],[11,42],[25,53],[-17,37],[-6,-27],[-18,-2],[4,-23],[-16,4],[-20,44],[-1,55],[-11,130],[8,8],[6,-52],[11,31],[52,63],[-10,27],[-34,23],[-2,45],[-27,14],[-8,-24],[8,-90],[-16,-21],[3,38],[-4,206],[-14,176],[-24,80],[-9,207],[-5,77],[-15,162],[-14,36],[-4,55],[-14,23],[-5,31],[-19,29],[-12,110],[-8,101],[1,53],[-11,56],[12,58],[9,138],[-19,46],[3,22],[17,1],[40,-55],[32,-64],[10,-1],[25,-39],[6,12],[41,-55],[-1,-20],[35,-41],[56,-11],[21,13],[31,-37],[9,19],[10,-18],[24,7],[12,-32],[41,2],[32,71],[-3,-24],[22,-42],[7,-45],[17,17],[17,-5],[-3,-32],[14,-20],[1,-59],[10,6],[3,53],[-14,34],[0,40],[12,28],[21,10],[3,-31],[-15,-34],[10,-50],[7,6],[2,48],[10,14],[8,-100],[-15,-10],[11,-42],[8,-78],[13,-21],[-8,-25],[-16,2],[2,-42],[-17,-36],[-9,-113],[-14,-9],[11,113],[-6,17],[-19,-101],[-4,-53],[-21,-70],[-38,-183],[-13,-119],[12,8],[23,-13],[12,27],[21,17],[3,38],[-44,-62],[-17,27],[42,226],[31,74],[29,28],[3,73],[16,73],[31,68],[-9,97],[22,-40],[14,-187],[-22,0],[3,-40],[11,-14],[-4,-56],[7,-19],[0,-53],[-14,-38],[-1,-38],[15,-16],[-10,-48],[-6,-87],[4,-21],[-10,-57],[7,-49],[-15,-79],[-27,78],[8,96],[-16,-42],[-6,-63],[30,-83],[-10,-16],[1,-48],[-11,-26],[-16,46],[-20,105],[12,37],[1,61],[-7,25],[0,-51],[-12,-57],[7,-72],[-6,-48],[13,14],[11,-66],[27,-22],[11,37],[0,33],[13,16],[8,79],[10,53],[-2,30],[25,-58],[10,25],[-4,36],[27,34],[0,50],[-8,58],[-8,11],[6,35],[-10,40],[-7,71],[22,38],[-24,58],[16,82],[-6,91],[15,46],[9,119],[22,25],[-1,69],[-14,23],[-23,86],[1,74],[-10,49],[-15,4],[3,-24],[-11,-28],[10,-67],[18,-50],[1,-35],[-26,85],[-12,4],[-7,58],[2,77],[18,24],[16,-22],[10,42],[-10,45],[-28,45],[-13,48],[1,39],[-29,-33],[-7,33],[4,45],[-13,-17],[3,39],[24,28],[13,-15],[9,-49],[19,7],[-10,108],[17,6],[5,34],[-21,66],[-5,66],[8,44],[-13,30],[-17,-6],[-11,-41],[9,-44],[-19,40],[8,57],[-10,25],[-9,-14],[-1,65],[-21,54],[11,21],[-5,36],[-13,16],[16,54],[184,0],[97,-6],[145,5],[143,-2],[190,0],[169,0],[165,1],[178,0],[325,-2]],[[25685,69733],[6,80],[31,-17],[-23,-128],[-14,65]],[[25568,69555],[12,14],[2,-63],[-14,23],[0,26]],[[24707,71654],[8,83],[12,4],[-5,-75],[-15,-12]],[[24691,71507],[21,33],[-14,-47],[-7,14]],[[24655,71564],[5,21],[30,29],[5,-13],[-11,-48],[-24,-11],[-5,22]],[[24625,71464],[3,27],[20,41],[1,-19],[-24,-49]],[[24631,71609],[14,-54],[-13,-3],[-8,37],[7,20]],[[24621,71679],[35,36],[11,-55],[14,34],[2,-44],[-16,-9],[-17,-49],[-11,42],[-16,20],[-2,25]],[[24616,71401],[17,18],[32,86],[14,-32],[-30,-33],[5,-35],[-17,-4],[-20,-37],[-1,37]],[[24563,71635],[15,17],[-1,-44],[-14,27]],[[24276,71309],[20,-30],[34,11],[49,52],[19,27],[18,0],[48,70],[25,27],[6,26],[17,-22],[7,33],[25,10],[22,70],[14,-12],[14,35],[10,-4],[24,-81],[-14,-76],[-24,-78],[9,-73],[-16,-35],[-11,-77],[13,-16],[42,73],[5,54],[42,-108],[13,-22],[9,10],[25,-27]],[[25508,69434],[-10,-58],[-1,-80],[-37,-13],[-21,-40],[3,-47],[-11,-59],[-9,-15],[-11,-83],[-12,-42],[-7,-104],[3,-25],[-13,-50],[20,-42],[12,7],[7,53],[26,64],[10,3],[15,63],[0,36],[31,133],[26,36],[11,-7],[11,34],[15,-32],[-6,46],[12,97],[27,109],[7,100],[12,-5],[21,32],[1,59],[17,60],[22,-3],[-2,-87],[-16,-5],[-2,-142],[-12,-40],[-8,4],[-5,-53],[-14,-52],[5,-43],[-13,-39],[4,-26],[-18,-33],[-13,-62],[-8,-87],[-17,-107],[-9,-26],[-9,-62],[-21,-268],[9,-94],[-2,-71],[-12,-41],[-23,-46],[-3,-62],[-8,-37],[-14,-162],[2,-82],[8,-50],[-2,-102],[-21,-118],[-7,-136],[-20,-107],[-9,-156],[8,-76],[-5,-38],[8,-85],[-7,-57],[14,-62],[0,-85],[6,-63],[16,-59],[-4,-89],[-11,-107],[6,-145]],[[2682,386],[26,11],[1,-51],[-9,8],[-8,-28],[-10,60]],[[2636,452],[21,8],[-4,-21],[-13,-12],[-4,25]],[[2313,271],[13,35],[16,2],[19,68],[4,-20],[27,2],[4,-44],[-7,13],[-29,-30],[-23,-89],[-11,47],[-13,16]],[[90204,32599],[5,15],[34,16],[21,137],[6,65],[7,-11],[7,-43],[14,-11],[-10,-88],[-32,-109],[-9,-44],[-2,-111],[-12,-56],[-18,30],[-7,101],[8,50],[-12,59]],[[90597,35570],[10,43],[4,-16],[-8,-45],[-6,18]],[[90537,37432],[5,20],[1,-49],[-6,29]],[[90507,37973],[14,53],[0,59],[11,0],[0,-66],[-9,-13],[-10,-55],[-6,22]],[[90501,34555],[4,28],[2,101],[9,-12],[20,67],[5,-22],[-14,-80],[4,-63],[-13,7],[0,-73],[-12,18],[-5,29]],[[90487,38800],[6,39],[11,-28],[-1,-51],[-8,-23],[-7,25],[-1,38]],[[90486,35993],[20,2],[3,-36],[-19,-8],[-4,42]],[[90472,34420],[4,45],[13,54],[5,-54],[-4,-24],[7,-40],[-2,-61],[-9,-29],[-14,109]],[[90343,33382],[11,51],[21,35],[15,-9],[-2,-35],[-12,-13],[-8,-39],[-11,-6],[-5,23],[-9,-7]],[[28030,56345],[-13,-8],[-36,-51],[-27,-66],[-35,-121],[-18,-79],[-7,-45],[-16,-58],[-14,-93],[-13,-174],[3,-55],[-7,-48],[-14,-47],[-23,-41],[-9,-97],[-17,10],[-17,-16],[-11,39],[-16,-33],[-10,-63],[3,-31],[8,10],[0,-33],[-15,-20],[-18,-45],[-9,-52],[-34,-59],[-10,38],[-11,-7],[-1,-32],[17,-22],[-5,-59],[-25,-52],[-7,-40],[-10,5],[-24,-22],[-17,-59],[-6,18],[-36,-90],[-8,21],[-15,-28],[-2,30],[-13,-1],[-4,-42],[15,-83],[-7,-74],[-32,-62],[-19,-20],[-2,41],[-19,40],[-11,-22],[-2,-31],[12,-15],[14,-59],[-15,-65],[-25,-59],[-9,0],[-17,-67],[5,-21]],[[31708,38299],[11,-21],[12,13],[9,-36],[-17,-36],[-12,19],[-3,61]],[[31642,38028],[49,54],[35,-32],[-18,-26],[-21,-7],[-11,-24],[-8,12],[-17,-17],[-9,40]],[[31637,38350],[7,-14],[0,-44],[-7,58]],[[31170,38320],[15,18],[17,49],[-4,63],[7,32],[14,12],[20,-6],[17,-25],[50,2],[20,-22],[24,26],[18,-5],[25,-25],[8,20],[28,0],[27,-20],[16,1],[7,-19],[6,24],[37,-35],[4,19],[18,-18],[6,7],[31,-33],[14,-49],[7,13],[5,-27],[10,-6],[14,22],[-5,-40],[3,-84],[13,-30],[-7,-43],[-11,19],[3,-28],[-10,2],[-7,-32],[-13,1],[-11,-59],[-7,-83],[-8,-6],[-1,-44],[-25,-46],[-15,-9],[-12,12],[-7,-27],[-10,13],[-21,-43],[-10,9],[-9,-29],[-8,9],[-18,66],[-12,-10],[-7,-34],[-21,60],[-8,0],[-25,-33],[-14,24],[-12,-19],[-25,47],[-7,-39],[-14,-27],[-21,-3],[-12,-18],[-8,41],[-21,8],[-11,-32],[-19,19],[-12,-12],[1,53],[10,31],[-11,12],[3,65],[5,15],[1,75],[7,31],[-10,101],[-13,21],[-9,78]],[[30985,38023],[20,12],[5,-43],[-15,-38],[-12,32],[2,37]],[[31858,38286],[13,39],[11,-4],[15,-28],[-13,-4],[1,-49],[-9,20],[-13,-5],[-5,31]],[[31828,37522],[7,36],[-4,40],[7,30],[10,-13],[8,22],[17,3],[6,-29],[39,5],[2,-18],[-32,-48],[-41,-30],[-19,2]],[[31779,38288],[6,50],[10,-23],[12,26],[19,-21],[33,6],[-2,-23],[-14,-4],[9,-42],[-16,-11],[-15,23],[-7,-20],[-12,49],[-23,-10]],[[17306,73978],[171,1],[103,1]],[[18139,65823],[-119,3],[-36,-2],[-58,9],[-63,-7],[-79,0],[-293,0],[-184,5]],[[29478,69336],[71,5],[115,0],[40,-9],[62,-5],[57,2],[168,10]],[[25149,51924],[13,-63],[5,-76],[-3,-101],[-10,-105],[-4,3],[8,90],[4,100],[-1,46],[-12,106]],[[25020,51931],[11,38],[32,81],[2,-14],[-13,-63],[2,-28],[13,-33],[-15,-50],[-3,47],[-10,-10],[-17,10],[-2,22]],[[24941,51321],[17,10],[-9,-42],[-8,32]],[[24732,50824],[7,27],[13,-65],[-8,-14],[-12,52]],[[24681,50807],[39,-33],[-19,-8],[-20,41]],[[24628,50763],[25,19],[2,-17],[-26,-20],[-1,18]],[[24275,51386],[10,27],[12,-5],[3,26],[22,-6],[23,-61],[9,7],[6,-29],[-15,-36],[-1,-40],[-14,-19],[-59,115],[4,21]],[[24969,52072],[-17,-35],[-8,7],[-17,-56],[-2,-38],[-12,-15],[3,-40],[-28,17],[-11,-45],[5,-68],[18,-10],[13,25],[-4,-59],[8,-34],[15,-19],[13,11],[6,29],[5,101],[-2,13],[24,54],[3,44],[18,-34],[13,6],[0,-21],[-17,-34],[0,-34],[15,-17],[3,-61],[15,14],[11,82],[16,-25],[-4,-55],[-13,0],[-12,-44],[22,2],[-3,-29],[-31,-22],[13,-66],[11,22],[-7,-59],[-9,26],[-14,11],[-12,-55],[-1,-99],[-9,-5],[-6,86],[-11,1],[-2,-66],[13,-58],[-13,33],[-14,5],[-8,-17],[-15,6],[18,-39],[0,-32],[-23,49],[0,-25],[12,-32],[-12,-14],[1,-34],[11,-36],[20,-11],[-1,-22],[12,-24],[-1,-34],[7,-46],[9,30],[5,-21],[22,-2],[16,-34],[3,30],[20,-91],[11,44],[24,-111],[0,-59],[6,-13],[18,28],[7,-41],[-24,-15],[-2,-33],[16,-3],[-8,-52],[-11,24],[-12,-96],[2,-44],[-21,36],[-2,55],[-8,16],[-31,-138],[-15,-41],[7,67],[9,29],[5,48],[9,21],[0,54],[9,23],[-1,51],[-10,24],[-4,-62],[-16,-29],[-12,29],[-14,77],[-34,43],[-10,45],[-56,33],[-12,-14],[-48,-143],[-46,-115],[-7,10],[4,41],[-12,16],[-2,41],[6,3],[-12,100],[-11,27],[-9,-1],[1,-28],[-8,-36],[2,76],[-10,56],[-13,-64],[-14,14],[-7,-22],[-7,31],[-6,-27],[10,-63],[-12,4],[-7,-27],[-4,-54],[-8,7],[-5,-57],[-8,12],[-19,-33],[-6,-76],[-16,16],[5,21],[-13,67],[-18,57],[-11,-13],[-26,21],[-10,33],[-25,12],[-16,25],[-16,60],[12,14],[7,58],[8,-12],[12,-52],[7,22],[-1,-68],[15,-17],[-4,104],[-23,64],[0,42],[-11,7],[-9,-41],[-13,-13],[2,41],[-10,-7],[3,39],[9,28],[-10,40],[-29,-50],[-10,80],[-10,-8],[-6,118],[-26,1],[6,33],[1,85],[-32,16],[-13,-10],[-20,-38],[-7,57],[8,41],[8,-3],[-2,46],[-16,8],[-14,-22],[-9,20],[-2,-40],[-24,-36],[-14,-34],[-6,32],[-18,-16],[0,-32],[9,-30],[18,-8],[-9,-30],[8,-63],[20,21],[5,-18],[-13,-14],[6,-20],[-32,-6],[-26,-49],[-20,-9],[-82,63],[-35,42],[-57,101],[-23,32],[-41,40],[-33,5],[-14,-14],[-36,7],[-58,-25],[-17,-13],[-26,-53]],[[30097,65246],[-20,-46],[-6,102],[2,64],[-10,22],[2,-159],[-17,2],[-2,-35],[-10,-7],[-1,55],[16,95],[8,68],[17,46]],[[30029,65436],[5,7],[11,-52],[-5,-7],[-11,52]],[[30019,65203],[6,51],[-4,23],[5,57],[4,-20],[0,-85],[-11,-26]],[[29960,64853],[11,80],[5,-14],[1,-76],[-17,10]],[[30068,65494],[-3,-45],[-14,-41],[-6,42],[4,35],[-19,54],[-8,40],[5,-129],[-22,17],[12,-39],[1,-75],[-12,-11],[8,-53],[0,-72],[-10,-45],[-8,-73],[-12,6],[-27,-18],[-27,-34],[-38,-30],[-1,16]]]}});var LOe=Ae(r9=>{"use strict";m();var Oyt=r9&&r9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(r9,"__esModule",{value:!0});r9.HTMLPointMapRenderer=void 0;var Ryt=w1(),Nyt=Oyt(LV()),Lyt=t9(),ROe=z0(),NOe=class extends Lyt.HTMLChartRenderer{getDataValue(e){if(e.isNumber()||e.isString())return e.value;if(e.isTimestamp()||e.isDate())return(0,ROe.timeToString)(e.value,e.field.timeframe||Ryt.TimestampTimeframe.Second);throw new Error("Invalid field type for point map chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for point map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=s?this.getDataType(s):void 0,f=o?this.getDataType(o):void 0,p=a?this.getDataType(a):void 0,_=s!==void 0?{field:s.name,type:l,axis:{title:s.name},scale:(0,ROe.getColorScale)(l,!1)}:void 0,E=o?{field:o.name,type:f,axis:{title:o.name}}:{value:5},O=a?{field:a.name,type:p,axis:{title:a.name}}:{value:"circle"};return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:Nyt.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{mark:"point",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},size:E,color:_,shape:O}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-Roboto"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};r9.HTMLPointMapRenderer=NOe});var IOe=Ae(kV=>{"use strict";m();Object.defineProperty(kV,"__esModule",{value:!0});kV.HTMLScatterChartRenderer=void 0;var kyt=hV(),kOe=class extends kyt.HTMLCartesianChartRenderer{getMark(){return"point"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for scatter chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for scatter chart.")}};kV.HTMLScatterChartRenderer=kOe});var POe=Ae(i9=>{"use strict";m();var Iyt=i9&&i9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(i9,"__esModule",{value:!0});i9.HTMLSegmentMapRenderer=void 0;var Myt=Iyt(LV()),Pyt=t9(),Byt=z0(),MOe=class extends Pyt.HTMLChartRenderer{getDataValue(e){if(e.isNull()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for segment map.")}getDataType(e){if(e.isAtomicField()){if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for segment map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=a?this.getDataType(a):void 0,f=a!==void 0?{field:a.name,type:l,axis:{title:a.name},scale:(0,Byt.getColorScale)(l,!1)}:void 0;return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:Myt.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"lightgray",stroke:"white"}},{mark:"line",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},latitude2:{field:s.name,type:"quantitative"},longitude2:{field:o.name,type:"quantitative"},color:f}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};i9.HTMLSegmentMapRenderer=MOe});var BOe=Ae(IV=>{"use strict";m();Object.defineProperty(IV,"__esModule",{value:!0});IV.STATE_CODES=void 0;IV.STATE_CODES={AL:"01",Alabama:"01",AK:"02",Alaska:"02",AZ:"04",Arizona:"04",AR:"05",Arkansas:"05",CA:"06",California:"06",CO:"08",Colorado:"08",CT:"09",Connecticut:"09",DE:"10",Delaware:"10",DC:"11","District of Columbia":"11",FL:"12",Florida:"12",GA:"13",Georgia:"13",HI:"15",Hawaii:"12",ID:"16",Idaho:"16",IL:"17",Illinois:"17",IN:"18",Indiana:"18",IA:"19",Iowa:"19",KS:"20",Kansas:"20",KY:"21",Kentucky:"21",LA:"22",Louisiana:"22",ME:"23",Maine:"23",MD:"24",Maryland:"24",MA:"25",Massachusetts:"25",MI:"26",Michigan:"26",MN:"27",Minnesota:"27",MS:"28",Mississippi:"28",MO:"29",Missouri:"29",MT:"30",Montana:"30",NE:"31",Nebraska:"31",NV:"32",Nevada:"32",NH:"33","New Hampshire":"33",NJ:"34","New Jersey":"34",NM:"35","New Mexico":"35",NY:"36","New York":"36",NC:"37","North Carolina":"37",ND:"38","North Dakota":"38",OH:"39",Ohio:"39",OK:"40",Oklahoma:"40",OR:"41",Oregon:"41",PA:"42",Pennsylvania:"42",RI:"44","Rhode Island":"44",SC:"45","South Carolina":"45",SD:"46","South Dakota":"46",TN:"47",Tennessee:"47",TX:"48",Texas:"48",UT:"49",Utah:"49",VT:"50",Vermont:"50",VA:"51",Virginia:"51",WA:"53",Washington:"53",WV:"54","West Virginia":"54",WI:"55",Wisconsin:"55",WY:"56",Wyoming:"56",PR:"72","Puerto Rico":"72",VI:"78",AS:"60",MP:"69",GU:"66"}});var UOe=Ae(s9=>{"use strict";m();var jyt=s9&&s9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(s9,"__esModule",{value:!0});s9.HTMLShapeMapRenderer=void 0;var jOe=jyt(LV()),qyt=t9(),Uyt=BOe(),$yt=z0(),qOe=class extends qyt.HTMLChartRenderer{getRegionField(e){return e.intrinsicFields[0]}getColorField(e){return e.intrinsicFields[1]}getDataValue(e){if(e.isNumber())return e.value;if(e.isString())if(e.field===this.getRegionField(e.field.parentExplore)){let t=Uyt.STATE_CODES[e.value];return t===void 0?void 0:t}else return e.value;else{if(e.isNull())return;throw new Error("Invalid field type for shape map.")}}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"nominal";if(e.isString())return e===this.getRegionField(e.parentExplore)?"quantitative":"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for shape map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");if(!e.isArray())throw new Error("Invalid data for shape map");let t=this.getRegionField(e.field),r=this.getColorField(e.field),i=r?this.getDataType(r):void 0,s=r!==void 0?{field:r.name,type:i,axis:{title:r.name},scale:(0,$yt.getColorScale)(i,!1)}:void 0,o=this.mapData(e).filter(a=>a[t.name]!==void 0);return{...this.getSize(),data:{values:o},projection:{type:"albersUsa"},layer:[{data:{values:jOe.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{transform:[{lookup:t.name,from:{data:{values:jOe.default,format:{type:"topojson",feature:"states"}},key:"id"},as:"geo"}],mark:"geoshape",encoding:{shape:{field:"geo",type:"geojson"},color:s}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};s9.HTMLShapeMapRenderer=qOe});var HOe=Ae(PV=>{"use strict";m();Object.defineProperty(PV,"__esModule",{value:!0});PV.HTMLTableRenderer=void 0;var zyt=gle(),Hyt=nN(),$Oe=bV(),zOe=z0(),MV=class extends Hyt.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArray()&&!e.isRecord())throw new Error("Invalid type for Table Renderer");let t=this.document.createElement("tr");if(e.field.intrinsicFields.forEach(o=>{let a=o.name,f=this.childRenderers[a]instanceof $Oe.HTMLNumberRenderer,p=this.document.createElement("th");p.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        text-align: ${f?"right":"left"};
      `,p.innerHTML=a.replace(/_/g,"_&#8203;"),t.appendChild(p)}),this.options.isDrillingEnabled){let o=this.document.createElement("th");o.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        width: 25px;
      `,t.appendChild(o)}let r=this.document.createElement("tbody");for(let o of e){let a=this.document.createElement("tr");for(let l of e.field.intrinsicFields){let f=this.childRenderers[l.name],p=f instanceof $Oe.HTMLNumberRenderer;await(0,zOe.yieldTask)();let _=await f.render(o.cell(l)),E=this.document.createElement("td");E.style.cssText=`
          padding: ${f instanceof MV?"0":"8px"};
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          ${p?"text-align: right;":""}
        `,E.appendChild(_),a.appendChild(E)}if(this.options.isDrillingEnabled){let l=this.document.createElement("td"),f=(0,zOe.createDrillIcon)(this.document);l.appendChild(f),l.style.cssText=`
          padding: 8px;
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          width: 25px;
          cursor: pointer
        `,l.onclick=()=>{if(this.options.onDrill){let{drillQuery:p,drillFilters:_}=(0,zyt.getDrillQuery)(o);this.options.onDrill(p,f,_)}},a.appendChild(l)}r.appendChild(a)}let i=this.document.createElement("table");i.style.cssText=`
      border: 1px solid var(--malloy-border-color, #eaeaea);
      vertical-align: top;
      border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
      border-collapse: collapse;
      width: 100%;
    `;let s=this.document.createElement("thead");return s.appendChild(t),i.appendChild(s),i.appendChild(r),i}};PV.HTMLTableRenderer=MV});var yle=Ae(L4=>{"use strict";m();Object.defineProperty(L4,"__esModule",{value:!0});L4.makeRenderer=L4.JSONView=L4.HTMLView=void 0;var BV=w1(),VOe=GDe(),Vyt=JDe(),WOe=ZDe(),Wyt=tOe(),Qyt=rOe(),Gyt=oOe(),Yyt=mOe(),Kyt=yOe(),Jyt=bOe(),Xyt=SOe(),Zyt=AOe(),e3t=Ele(),t3t=OOe(),n3t=bV(),r3t=LOe(),i3t=IOe(),s3t=POe(),o3t=UOe(),a3t=HOe(),u3t=nE(),QOe=mle(),jV=nN(),qV=z0(),GOe=class{constructor(e){this.document=e}async render(e,t){let r=KOe(e.field,this.document,t,{size:"large"});try{return await r.render(e)}catch(i){return i instanceof Error?(0,qV.createErrorElement)(this.document,i):(0,qV.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};L4.HTMLView=GOe;var YOe=class{constructor(e){this.document=e}async render(e){let t=new WOe.HTMLJSONRenderer(this.document);try{return await t.render(e)}catch(r){return r instanceof Error?(0,qV.createErrorElement)(this.document,r):(0,qV.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};L4.JSONView=YOe;function l3t(n,e){let t=e[n.name];if(!t)for(let r of n.sourceClasses)t||(t=e[r]);return t}function UV(n){if(n.isExplore())return n;throw new Error(`${n.name} does not contain fields and cannot be rendered this way`)}function KOe(n,e,t,r){let i=l3t(n,t.dataStyles)||{};if(i.renderer==="shape_map"||n.name.endsWith("_shape_map"))return new o3t.HTMLShapeMapRenderer(e,r,i);if(i.renderer==="point_map"||n.name.endsWith("_point_map"))return new r3t.HTMLPointMapRenderer(e,r);if(i.renderer==="image"||n.name.endsWith("_image"))return new Kyt.HTMLImageRenderer(e);if(i.renderer==="segment_map"||n.name.endsWith("_segment_map"))return new s3t.HTMLSegmentMapRenderer(e,r,i);if(i.renderer==="dashboard"||n.name.endsWith("_dashboard"))return jV.ContainerRenderer.make(Yyt.HTMLDashboardRenderer,e,UV(n),t);if(i.renderer==="json"||n.name.endsWith("_json"))return new WOe.HTMLJSONRenderer(e);if(i.renderer==="line_chart"||n.name.endsWith("_line_chart"))return new Xyt.HTMLLineChartRenderer(e,r,i);if(i.renderer==="scatter_chart"||n.name.endsWith("_scatter_chart"))return new i3t.HTMLScatterChartRenderer(e,r);if(i.renderer==="bar_chart")return new VOe.HTMLBarChartRenderer(e,r,i);if(n.name.endsWith("_bar_chart"))return new VOe.HTMLBarChartRenderer(e,r,{});if(i.renderer==="vega"){let s=i.spec;if(s)return new QOe.HTMLVegaSpecRenderer(e,r,s);if(i.spec_name){let o=t.dataStyles[i.spec_name];if(o!==void 0&&o.renderer==="vega"){if(o.spec)return new QOe.HTMLVegaSpecRenderer(e,r,o.spec);throw new Error(`No spec defined on ${i.spec_name}`)}else throw new Error(`No Vega renderer named ${i.spec_name}`)}else throw new Error(`No top level vega spec defined for ${n.name}`)}else return i.renderer==="time"||n.hasParentExplore()&&n.isAtomicField()&&(n.type===BV.AtomicFieldType.Date||n.type===BV.AtomicFieldType.Timestamp)?new Jyt.HTMLDateRenderer(e):i.renderer==="currency"?new Qyt.HTMLCurrencyRenderer(e):i.renderer==="percent"?new Gyt.HTMLPercentRenderer(e):i.renderer==="number"||n.hasParentExplore()&&n.isAtomicField()&&n.type===BV.AtomicFieldType.Number?new n3t.HTMLNumberRenderer(e):i.renderer==="bytes"?new Wyt.HTMLBytesRenderer(e):i.renderer==="boolean"||n.hasParentExplore()&&n.isAtomicField()&&n.type===BV.AtomicFieldType.Boolean?new Vyt.HTMLBooleanRenderer(e):i.renderer==="link"||n.name.endsWith("_url")?new Zyt.HTMLLinkRenderer(e):i.renderer==="list"||n.name.endsWith("_list")?jV.ContainerRenderer.make(e3t.HTMLListRenderer,e,UV(n),t):i.renderer==="list_detail"||n.name.endsWith("_list_detail")?jV.ContainerRenderer.make(t3t.HTMLListDetailRenderer,e,UV(n),t):i.renderer==="table"||!n.hasParentExplore()||n.isExploreField()?jV.ContainerRenderer.make(a3t.HTMLTableRenderer,e,UV(n),t):new u3t.HTMLTextRenderer(e)}L4.makeRenderer=KOe});var XOe=Ae(o9=>{"use strict";m();Object.defineProperty(o9,"__esModule",{value:!0});o9.JSONView=o9.HTMLView=void 0;var JOe=yle();Object.defineProperty(o9,"HTMLView",{enumerable:!0,get:function(){return JOe.HTMLView}});Object.defineProperty(o9,"JSONView",{enumerable:!0,get:function(){return JOe.JSONView}})});var aRe=Ae((BWt,oRe)=>{m();oRe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var xRe=Ae((jWt,mRe)=>{"use strict";m();var HV=Object.prototype.hasOwnProperty,uRe=Object.prototype.toString,lRe=Object.defineProperty,cRe=Object.getOwnPropertyDescriptor,fRe=function(e){return typeof Array.isArray=="function"?Array.isArray(e):uRe.call(e)==="[object Array]"},dRe=function(e){if(!e||uRe.call(e)!=="[object Object]")return!1;var t=HV.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&HV.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return typeof i=="undefined"||HV.call(e,i)},hRe=function(e,t){lRe&&t.name==="__proto__"?lRe(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},pRe=function(e,t){if(t==="__proto__")if(HV.call(e,t)){if(cRe)return cRe(e,t).value}else return;return e[t]};mRe.exports=function n(){var e,t,r,i,s,o,a=arguments[0],l=1,f=arguments.length,p=!1;for(typeof a=="boolean"&&(p=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<f;++l)if(e=arguments[l],e!=null)for(t in e)r=pRe(a,t),i=pRe(e,t),a!==i&&(p&&i&&(dRe(i)||(s=fRe(i)))?(s?(s=!1,o=r&&fRe(r)?r:[]):o=r&&dRe(r)?r:{},hRe(a,{name:t,newValue:n(p,o,i)})):typeof i!="undefined"&&hRe(a,{name:t,newValue:i}));return a}});var vRe=Ae(($Wt,yRe)=>{m();yRe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var cNe=Ae((SKt,lNe)=>{"use strict";m();var uvt={}.hasOwnProperty;lNe.exports=uvt});var dNe=Ae((wKt,fNe)=>{"use strict";m();var lvt=[].splice;fNe.exports=lvt});var pNe=Ae((CKt,hNe)=>{"use strict";m();var rce=dNe();function cvt(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),rce.apply(n,o);else for(t&&rce.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),rce.apply(n,o),s+=1e4,e+=1e4}hNe.exports=cvt});var xNe=Ae((AKt,mNe)=>{"use strict";m();function fvt(n){return n==null?[]:"length"in n?n:[n]}mNe.exports=fvt});var vNe=Ae((TKt,yNe)=>{"use strict";m();var gNe=cNe(),dvt=pNe(),hvt=xNe();function pvt(n){for(var e={},t=-1;++t<n.length;)mvt(e,n[t]);return e}function mvt(n,e){var t,r,i,s;for(t in e){r=gNe.call(n,t)?n[t]:n[t]={},i=e[t];for(s in i)r[s]=xvt(hvt(i[s]),gNe.call(r,s)?r[s]:[])}}function xvt(n,e){for(var t=-1,r=[];++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);return dvt(e,0,0,r),e}yNe.exports=pvt});var bNe=Ae((FKt,_Ne)=>{"use strict";m();var gvt=String.fromCharCode;_Ne.exports=gvt});var fN=Ae((DKt,ENe)=>{"use strict";m();var yvt=bNe();function vvt(n){return e;function e(t){return n.test(yvt(t))}}ENe.exports=vvt});var wNe=Ae((OKt,SNe)=>{"use strict";m();var _vt=fN(),bvt=_vt(/[A-Za-z]/);SNe.exports=bvt});var ANe=Ae((RKt,CNe)=>{"use strict";m();var Evt=fN(),Svt=Evt(/[\dA-Za-z]/);CNe.exports=Svt});var FNe=Ae((NKt,TNe)=>{"use strict";m();function wvt(n){return n<32||n===127}TNe.exports=wvt});var ONe=Ae((LKt,DNe)=>{"use strict";m();function Cvt(n){return n<-2}DNe.exports=Cvt});var NNe=Ae((kKt,RNe)=>{"use strict";m();var Avt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;RNe.exports=Avt});var kNe=Ae((IKt,LNe)=>{"use strict";m();var Tvt=NNe(),Fvt=fN(),Dvt=Fvt(Tvt);LNe.exports=Dvt});var MNe=Ae((MKt,INe)=>{"use strict";m();var Ovt=fN(),Rvt=Ovt(/\s/);INe.exports=Rvt});var XNe=Ae(JNe=>{m();var PNe=wNe(),BNe=ANe(),jNe=FNe(),Nvt=ONe(),qNe=kNe(),UNe=MNe(),Lvt={tokenize:Pvt,partial:!0},$Ne={tokenize:Bvt,partial:!0},zNe={tokenize:jvt,partial:!0},c9={tokenize:Uvt,partial:!0},HNe={tokenize:qvt,partial:!0},VNe={tokenize:Ivt,previous:YNe},WNe={tokenize:Mvt,previous:sce},Vy={tokenize:kvt,previous:KNe},Vx={};JNe.text=Vx;var aE=48;for(;aE<123;)Vx[aE]=Vy,aE++,aE===58?aE=65:aE===91&&(aE=97);Vx[43]=Vy;Vx[45]=Vy;Vx[46]=Vy;Vx[95]=Vy;Vx[72]=[Vy,WNe];Vx[104]=[Vy,WNe];Vx[87]=[Vy,VNe];Vx[119]=[Vy,VNe];function kvt(n,e,t){var r=this,i;return s;function s(E){return!GNe(E)||!KNe(r.previous)||oce(r.events)?t(E):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),o(E))}function o(E){return GNe(E)?(n.consume(E),o):E===64?(n.consume(E),a):t(E)}function a(E){return E===46?n.check(c9,_,l)(E):E===45||E===95?n.check(c9,t,f)(E):BNe(E)?(n.consume(E),a):_(E)}function l(E){return n.consume(E),i=!0,a}function f(E){return n.consume(E),p}function p(E){return E===46?n.check(c9,t,l)(E):a(E)}function _(E){return i?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(E)):t(E)}}function Ivt(n,e,t){var r=this;return i;function i(o){return o!==87&&o-32!==87||!YNe(r.previous)||oce(r.events)?t(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(Lvt,n.attempt($Ne,n.attempt(zNe,s),t),t)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(o)}}function Mvt(n,e,t){var r=this;return i;function i(R){return R!==72&&R-32!==72||!sce(r.previous)||oce(r.events)?t(R):(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),n.consume(R),s)}function s(R){return R===84||R-32===84?(n.consume(R),o):t(R)}function o(R){return R===84||R-32===84?(n.consume(R),a):t(R)}function a(R){return R===80||R-32===80?(n.consume(R),l):t(R)}function l(R){return R===83||R-32===83?(n.consume(R),f):f(R)}function f(R){return R===58?(n.consume(R),p):t(R)}function p(R){return R===47?(n.consume(R),_):t(R)}function _(R){return R===47?(n.consume(R),E):t(R)}function E(R){return jNe(R)||UNe(R)||qNe(R)?t(R):n.attempt($Ne,n.attempt(zNe,O),t)(R)}function O(R){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(R)}}function Pvt(n,e,t){return r;function r(l){return n.consume(l),i}function i(l){return l===87||l-32===87?(n.consume(l),s):t(l)}function s(l){return l===87||l-32===87?(n.consume(l),o):t(l)}function o(l){return l===46?(n.consume(l),a):t(l)}function a(l){return l===null||Nvt(l)?t(l):e(l)}}function Bvt(n,e,t){var r,i;return s;function s(l){return l===38?n.check(HNe,a,o)(l):l===46||l===95?n.check(c9,a,o)(l):jNe(l)||UNe(l)||l!==45&&qNe(l)?a(l):(n.consume(l),s)}function o(l){return l===46?(i=r,r=void 0,n.consume(l),s):(l===95&&(r=!0),n.consume(l),s)}function a(l){return!i&&!r?e(l):t(l)}}function jvt(n,e){var t=0;return r;function r(o){return o===38?n.check(HNe,e,i)(o):(o===40&&t++,o===41?n.check(c9,s,i)(o):ice(o)?e(o):QNe(o)?n.check(c9,e,i)(o):(n.consume(o),r))}function i(o){return n.consume(o),r}function s(o){return t--,t<0?e(o):i(o)}}function qvt(n,e,t){return r;function r(o){return n.consume(o),i}function i(o){return PNe(o)?(n.consume(o),i):o===59?(n.consume(o),s):t(o)}function s(o){return ice(o)?e(o):t(o)}}function Uvt(n,e,t){return r;function r(s){return n.consume(s),i}function i(s){return QNe(s)?(n.consume(s),i):ice(s)?e(s):t(s)}}function QNe(n){return n===33||n===34||n===39||n===41||n===42||n===44||n===46||n===58||n===59||n===60||n===63||n===95||n===126}function ice(n){return n===null||n<0||n===32||n===60}function GNe(n){return n===43||n===45||n===46||n===95||BNe(n)}function YNe(n){return n===null||n<0||n===32||n===40||n===42||n===95||n===126}function sce(n){return n===null||!PNe(n)}function KNe(n){return n!==47&&sce(n)}function oce(n){for(var e=n.length;e--;)if((n[e][1].type==="labelLink"||n[e][1].type==="labelImage")&&!n[e][1]._balanced)return!0}});var eLe=Ae((BKt,ZNe)=>{m();ZNe.exports=XNe()});var nLe=Ae((jKt,tLe)=>{"use strict";m();function $vt(n){return n<0||n===32}tLe.exports=$vt});var iLe=Ae((qKt,rLe)=>{"use strict";m();var zvt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;rLe.exports=zvt});var oLe=Ae((UKt,sLe)=>{"use strict";m();var Hvt=String.fromCharCode;sLe.exports=Hvt});var ace=Ae(($Kt,aLe)=>{"use strict";m();var Vvt=oLe();function Wvt(n){return e;function e(t){return n.test(Vvt(t))}}aLe.exports=Wvt});var lLe=Ae((zKt,uLe)=>{"use strict";m();var Qvt=iLe(),Gvt=ace(),Yvt=Gvt(Qvt);uLe.exports=Yvt});var fLe=Ae((HKt,cLe)=>{"use strict";m();var Kvt=ace(),Jvt=Kvt(/\s/);cLe.exports=Jvt});var hLe=Ae((VKt,dLe)=>{"use strict";m();var Xvt=nLe(),Zvt=lLe(),e4t=fLe();function t4t(n){if(n===null||Xvt(n)||e4t(n))return 1;if(Zvt(n))return 2}dLe.exports=t4t});var mLe=Ae((WKt,pLe)=>{"use strict";m();var n4t=[].splice;pLe.exports=n4t});var gLe=Ae((QKt,xLe)=>{"use strict";m();var uce=mLe();function r4t(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),uce.apply(n,o);else for(t&&uce.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),uce.apply(n,o),s+=1e4,e+=1e4}xLe.exports=r4t});var vLe=Ae((GKt,yLe)=>{"use strict";m();function i4t(n,e,t){for(var r=[],i=-1,s;++i<n.length;)s=n[i].resolveAll,s&&r.indexOf(s)<0&&(e=s(e,t),r.push(s));return e}yLe.exports=i4t});var bLe=Ae((YKt,_Le)=>{"use strict";m();var s4t=Object.assign;_Le.exports=s4t});var SLe=Ae((KKt,ELe)=>{"use strict";m();var o4t=bLe();function a4t(n){return o4t({},n)}ELe.exports=a4t});var ALe=Ae((JKt,CLe)=>{m();CLe.exports=l4t;var wLe=hLe(),lce=gLe(),u4t=vLe(),nW=SLe();function l4t(n){var e=n||{},t=e.singleTilde,r={tokenize:o,resolveAll:i};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:r}};function i(a,l){for(var f=-1,p,_,E,O;++f<a.length;)if(a[f][0]==="enter"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._close){for(E=f;E--;)if(a[E][0]==="exit"&&a[E][1].type==="strikethroughSequenceTemporary"&&a[E][1]._open&&a[f][1].end.offset-a[f][1].start.offset===a[E][1].end.offset-a[E][1].start.offset){a[f][1].type="strikethroughSequence",a[E][1].type="strikethroughSequence",p={type:"strikethrough",start:nW(a[E][1].start),end:nW(a[f][1].end)},_={type:"strikethroughText",start:nW(a[E][1].end),end:nW(a[f][1].start)},O=[["enter",p,l],["enter",a[E][1],l],["exit",a[E][1],l],["enter",_,l]],lce(O,O.length,0,u4t(l.parser.constructs.insideSpan.null,a.slice(E+1,f),l)),lce(O,O.length,0,[["exit",_,l],["enter",a[f][1],l],["exit",a[f][1],l],["exit",p,l]]),lce(a,E-1,f-E+3,O),f=E+O.length-2;break}}return s(a)}function s(a){for(var l=-1,f=a.length;++l<f;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,l,f){var p=this.previous,_=this.events,E=0;return O;function O(q){return q!==126||p===126&&_[_.length-1][1].type!=="characterEscape"?f(q):(a.enter("strikethroughSequenceTemporary"),R(q))}function R(q){var z=wLe(p),L,B;return q===126?E>1?f(q):(a.consume(q),E++,R):E<2&&!t?f(q):(L=a.exit("strikethroughSequenceTemporary"),B=wLe(q),L._open=!B||B===2&&z,L._close=!z||z===2&&B,l(q))}}}});var FLe=Ae((XKt,TLe)=>{"use strict";m();function c4t(n){return n===-2||n===-1||n===32}TLe.exports=c4t});var RLe=Ae((ZKt,OLe)=>{"use strict";m();var DLe=FLe();function f4t(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(l){return DLe(l)?(n.enter(t),a(l)):e(l)}function a(l){return DLe(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}OLe.exports=f4t});var kLe=Ae(LLe=>{m();LLe.flow={null:{tokenize:p4t,resolve:h4t,interruptible:!0}};var cce=RLe(),d4t={tokenize:m4t,partial:!0},NLe={tokenize:x4t,partial:!0};function h4t(n,e){for(var t=n.length,r=-1,i,s,o,a,l,f,p,_,E,O;++r<t;)i=n[r][1],a&&(i.type==="temporaryTableCellContent"&&(_=_||r,E=r),(i.type==="tableCellDivider"||i.type==="tableRow")&&E&&(f={type:"tableContent",start:n[_][1].start,end:n[E][1].end},p={type:"chunkText",start:f.start,end:f.end,contentType:"text"},n.splice(_,E-_+1,["enter",f,e],["enter",p,e],["exit",p,e],["exit",f,e]),r-=E-_-3,t=n.length,_=void 0,E=void 0)),n[r][0]==="exit"&&O&&O+1<r&&(i.type==="tableCellDivider"||i.type==="tableRow"&&(O+3<r||n[O][1].type!=="whitespace"))&&(l={type:o?"tableDelimiter":s?"tableHeader":"tableData",start:n[O][1].start,end:n[r][1].end},n.splice(r+(i.type==="tableCellDivider"?1:0),0,["exit",l,e]),n.splice(O,0,["enter",l,e]),r+=2,t=n.length,O=r+1),i.type==="tableRow"&&(a=n[r][0]==="enter",a&&(O=r+1)),i.type==="tableDelimiterRow"&&(o=n[r][0]==="enter",o&&(O=r+1)),i.type==="tableHead"&&(s=n[r][0]==="enter");return n}function p4t(n,e,t){var r=[],i=0,s,o;return a;function a(te){return te===null||te===-5||te===-4||te===-3?t(te):(n.enter("table")._align=r,n.enter("tableHead"),n.enter("tableRow"),te===124?l(te):(i++,n.enter("temporaryTableCellContent"),_(te)))}function l(te){return n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),s=!0,f}function f(te){return te===null||te===-5||te===-4||te===-3?O(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),p):(s&&(s=void 0,i++),te===124?l(te):(n.enter("temporaryTableCellContent"),_(te)))}function p(te){return te===-2||te===-1||te===32?(n.consume(te),p):(n.exit("whitespace"),f(te))}function _(te){return te===null||te<0||te===32||te===124?(n.exit("temporaryTableCellContent"),f(te)):(n.consume(te),te===92?E:_)}function E(te){return te===92||te===124?(n.consume(te),_):_(te)}function O(te){return te===null?t(te):(n.exit("tableRow"),n.exit("tableHead"),n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),n.check(d4t,t,cce(n,R,"linePrefix",4)))}function R(te){return te===null||te<0||te===32?t(te):(n.enter("tableDelimiterRow"),q(te))}function q(te){return te===null||te===-5||te===-4||te===-3?G(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),z):te===45?(n.enter("tableDelimiterFiller"),n.consume(te),o=!0,r.push(null),L):te===58?(n.enter("tableDelimiterAlignment"),n.consume(te),n.exit("tableDelimiterAlignment"),r.push("left"),B):te===124?(n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),q):t(te)}function z(te){return te===-2||te===-1||te===32?(n.consume(te),z):(n.exit("whitespace"),q(te))}function L(te){return te===45?(n.consume(te),L):(n.exit("tableDelimiterFiller"),te===58?(n.enter("tableDelimiterAlignment"),n.consume(te),n.exit("tableDelimiterAlignment"),r[r.length-1]=r[r.length-1]==="left"?"center":"right",P):q(te))}function B(te){return te===45?(n.enter("tableDelimiterFiller"),n.consume(te),o=!0,L):t(te)}function P(te){return te===null||te===-5||te===-4||te===-3?G(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),z):te===124?(n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),q):t(te)}function G(te){return n.exit("tableDelimiterRow"),!o||i!==r.length?t(te):te===null?ue(te):n.check(NLe,ue,I)(te)}function ue(te){return n.exit("table"),e(te)}function I(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),cce(n,J,"linePrefix",4)}function J(te){return n.enter("tableBody"),he(te)}function he(te){return n.enter("tableRow"),te===124?ve(te):(n.enter("temporaryTableCellContent"),lt(te))}function ve(te){return n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),Ve}function Ve(te){return te===null||te===-5||te===-4||te===-3?bt(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),ot):te===124?ve(te):(n.enter("temporaryTableCellContent"),lt(te))}function ot(te){return te===-2||te===-1||te===32?(n.consume(te),ot):(n.exit("whitespace"),Ve(te))}function lt(te){return te===null||te<0||te===32||te===124?(n.exit("temporaryTableCellContent"),Ve(te)):(n.consume(te),te===92?et:lt)}function et(te){return te===92||te===124?(n.consume(te),lt):lt(te)}function bt(te){return n.exit("tableRow"),te===null?Pt(te):n.check(NLe,Pt,$e)(te)}function Pt(te){return n.exit("tableBody"),ue(te)}function $e(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),cce(n,he,"linePrefix",4)}}function m4t(n,e,t){return r;function r(o){return o!==45?t(o):(n.enter("setextUnderline"),i(o))}function i(o){return o===45?(n.consume(o),i):s(o)}function s(o){return o===-2||o===-1||o===32?(n.consume(o),s):o===null||o===-5||o===-4||o===-3?e(o):t(o)}}function x4t(n,e,t){var r=0;return i;function i(o){return n.enter("check"),n.consume(o),s}function s(o){return o===-1||o===32?(n.consume(o),r++,r===4?e:s):o===null||o<0?e(o):t(o)}}});var MLe=Ae((tJt,ILe)=>{m();ILe.exports=kLe()});var BLe=Ae((nJt,PLe)=>{"use strict";m();function g4t(n){return n<0||n===32}PLe.exports=g4t});var qLe=Ae((rJt,jLe)=>{"use strict";m();function y4t(n){return n===-2||n===-1||n===32}jLe.exports=y4t});var zLe=Ae((iJt,$Le)=>{"use strict";m();var ULe=qLe();function v4t(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(l){return ULe(l)?(n.enter(t),a(l)):e(l)}function a(l){return ULe(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}$Le.exports=v4t});var VLe=Ae((sJt,HLe)=>{"use strict";m();function _4t(n){for(var e=-1,t=0;++e<n.length;)t+=typeof n[e]=="string"?n[e].length:1;return t}HLe.exports=_4t});var QLe=Ae((oJt,WLe)=>{"use strict";m();var b4t=VLe();function E4t(n,e){var t=n[n.length-1];return!t||t[1].type!==e?0:b4t(t[2].sliceStream(t[1]))}WLe.exports=E4t});var YLe=Ae(GLe=>{m();var S4t=BLe(),w4t=zLe(),C4t=QLe(),A4t={tokenize:T4t};GLe.text={91:A4t};function T4t(n,e,t){var r=this;return i;function i(a){return a!==91||r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(a):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),s)}function s(a){return a===-2||a===32?(n.enter("taskListCheckValueUnchecked"),n.consume(a),n.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(n.enter("taskListCheckValueChecked"),n.consume(a),n.exit("taskListCheckValueChecked"),o):t(a)}function o(a){return a===93?(n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),n.check({tokenize:F4t},e,t)):t(a)}}function F4t(n,e,t){var r=this;return w4t(n,i,"whitespace");function i(s){return C4t(r.events,"whitespace")&&s!==null&&!S4t(s)?e(s):t(s)}}});var JLe=Ae((uJt,KLe)=>{m();KLe.exports=YLe()});var ZLe=Ae((lJt,XLe)=>{m();var D4t=vNe(),O4t=eLe(),R4t=ALe(),N4t=MLe(),L4t=JLe();XLe.exports=k4t;function k4t(n){return D4t([O4t,R4t(n),N4t,L4t])}});var tke=Ae((cJt,eke)=>{m();eke.exports=ZLe()});var rke=Ae((fJt,nke)=>{"use strict";m();nke.exports=I4t;function I4t(n,e){var t=String(n),r=0,i;if(typeof e!="string")throw new Error("Expected character");for(i=t.indexOf(e);i!==-1;)r++,i=t.indexOf(e,i+e.length);return r}});var fce=Ae((dJt,ske)=>{"use strict";m();ske.exports=ike;function ike(n){if(n==null)return j4t;if(typeof n=="string")return B4t(n);if(typeof n=="object")return"length"in n?P4t(n):M4t(n);if(typeof n=="function")return n;throw new Error("Expected function, string, or object as test")}function M4t(n){return e;function e(t){var r;for(r in n)if(t[r]!==n[r])return!1;return!0}}function P4t(n){for(var e=[],t=-1;++t<n.length;)e[t]=ike(n[t]);return r;function r(){for(var i=-1;++i<e.length;)if(e[i].apply(this,arguments))return!0;return!1}}function B4t(n){return e;function e(t){return Boolean(t&&t.type===n)}}function j4t(){return!0}});var ake=Ae((hJt,oke)=>{m();oke.exports=q4t;function q4t(n){return n}});var fke=Ae((pJt,cke)=>{"use strict";m();cke.exports=rW;var U4t=fce(),$4t=ake(),uke=!0,lke="skip",dce=!1;rW.CONTINUE=uke;rW.SKIP=lke;rW.EXIT=dce;function rW(n,e,t,r){var i,s;typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),s=U4t(e),i=r?-1:1,o(n,null,[])();function o(a,l,f){var p=typeof a=="object"&&a!==null?a:{},_;return typeof p.type=="string"&&(_=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0,E.displayName="node ("+$4t(p.type+(_?"<"+_+">":""))+")"),E;function E(){var O=f.concat(a),R=[],q,z;if((!e||s(a,l,f[f.length-1]||null))&&(R=z4t(t(a,f)),R[0]===dce))return R;if(a.children&&R[0]!==lke)for(z=(r?a.children.length:-1)+i;z>-1&&z<a.children.length;){if(q=o(a.children[z],z,O)(),q[0]===dce)return q;z=typeof q[1]=="number"?q[1]:z+i}return R}}}function z4t(n){return n!==null&&typeof n=="object"&&"length"in n?n:typeof n=="number"?[uke,n]:[n]}});var hke=Ae((mJt,dke)=>{"use strict";m();dke.exports=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var yke=Ae((xJt,gke)=>{"use strict";m();gke.exports=G4t;var H4t=fke(),V4t=fce(),W4t=hke(),Q4t=[].splice;function G4t(n,e,t,r){var i,s;return typeof e=="string"||e&&typeof e.exec=="function"?s=[[e,t]]:(s=e,r=t),i=r||{},pke(n,i,o(Y4t(s))),n;function o(a){var l=a[0];return f;function f(p,_){var E=l[0],O=l[1],R=[],q=0,z=_.children.indexOf(p),L,B,P,G;for(E.lastIndex=0,B=E.exec(p.value);B&&(L=B.index,G=O.apply(null,[].concat(B,{index:B.index,input:B.input})),G!==!1&&(q!==L&&R.push({type:"text",value:p.value.slice(q,L)}),typeof G=="string"&&G.length>0&&(G={type:"text",value:G}),G&&(R=[].concat(R,G)),q=L+B[0].length),!!E.global);)B=E.exec(p.value);if(L===void 0?(R=[p],z--):(q<p.value.length&&R.push({type:"text",value:p.value.slice(q)}),R.unshift(z,1),Q4t.apply(_.children,R)),a.length>1)for(P=o(a.slice(1)),L=-1;++L<R.length;)p=R[L],p.type==="text"?P(p,_):pke(p,i,P);return z+R.length+1}}}function pke(n,e,t){var r=V4t(e.ignore||[]),i=[];return H4t(n,"text",s),i;function s(o,a){for(var l=-1,f,p;++l<a.length;){if(f=a[l],r(f,p?p.children.indexOf(f):void 0,p))return;p=f}return t(o,p)}}function Y4t(n){var e=[],t,r;if(typeof n!="object")throw new Error("Expected array or object as schema");if("length"in n)for(r=-1;++r<n.length;)e.push([mke(n[r][0]),xke(n[r][1])]);else for(t in n)e.push([mke(t),xke(n[t])]);return e}function mke(n){return typeof n=="string"?new RegExp(W4t(n),"g"):n}function xke(n){return typeof n=="function"?n:e;function e(){return n}}});var _ke=Ae((gJt,vke)=>{"use strict";m();var K4t=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;vke.exports=K4t});var Eke=Ae((yJt,bke)=>{"use strict";m();var J4t=String.fromCharCode;bke.exports=J4t});var hce=Ae((vJt,Ske)=>{"use strict";m();var X4t=Eke();function Z4t(n){return e;function e(t){return n.test(X4t(t))}}Ske.exports=Z4t});var Cke=Ae((_Jt,wke)=>{"use strict";m();var e_t=_ke(),t_t=hce(),n_t=t_t(e_t);wke.exports=n_t});var Tke=Ae((bJt,Ake)=>{"use strict";m();var r_t=hce(),i_t=r_t(/\s/);Ake.exports=i_t});var Oke=Ae(iW=>{m();var Fke=rke(),s_t=yke(),o_t=Cke(),a_t=Tke();iW.transforms=[h_t];iW.enter={literalAutolink:u_t,literalAutolinkEmail:pce,literalAutolinkHttp:pce,literalAutolinkWww:pce};iW.exit={literalAutolink:d_t,literalAutolinkEmail:f_t,literalAutolinkHttp:l_t,literalAutolinkWww:c_t};function u_t(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function pce(n){this.config.enter.autolinkProtocol.call(this,n)}function l_t(n){this.config.exit.autolinkProtocol.call(this,n)}function c_t(n){this.config.exit.data.call(this,n),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(n)}function f_t(n){this.config.exit.autolinkEmail.call(this,n)}function d_t(n){this.exit(n)}function h_t(n){s_t(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/i,p_t],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/,m_t]],{ignore:["link","linkReference"]})}function p_t(n,e,t,r,i){var s="",o,a;return!Dke(i)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!x_t(t))||(o=g_t(t+r),!o[0])?!1:(a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]},o[1]&&(a=[a,{type:"text",value:o[1]}]),a)}function m_t(n,e,t,r){return!Dke(r,!0)||/[_-]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function x_t(n){var e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function g_t(n){var e=/[!"&'),.:;<>?\]}]+$/.exec(n),t,r,i;if(e)for(n=n.slice(0,e.index),e=e[0],t=e.indexOf(")"),r=Fke(n,"("),i=Fke(n,")");t!==-1&&r>i;)n+=e.slice(0,t+1),e=e.slice(t+1),t=e.indexOf(")"),i++;return[n,e]}function Dke(n,e){var t=n.input.charCodeAt(n.index-1);return(t!==t||a_t(t)||o_t(t))&&(!e||t!==47)}});var Rke=Ae(sW=>{m();sW.canContainEols=["delete"];sW.enter={strikethrough:y_t};sW.exit={strikethrough:v_t};function y_t(n){this.enter({type:"delete",children:[]},n)}function v_t(n){this.exit(n)}});var Lke=Ae(xce=>{m();xce.enter={table:__t,tableData:Nke,tableHeader:Nke,tableRow:E_t};xce.exit={codeText:S_t,table:b_t,tableData:mce,tableHeader:mce,tableRow:mce};function __t(n){this.enter({type:"table",align:n._align,children:[]},n),this.setData("inTable",!0)}function b_t(n){this.exit(n),this.setData("inTable")}function E_t(n){this.enter({type:"tableRow",children:[]},n)}function mce(n){this.exit(n)}function Nke(n){this.enter({type:"tableCell",children:[]},n)}function S_t(n){var e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,w_t)),this.stack[this.stack.length-1].value=e,this.exit(n)}function w_t(n,e){return e==="|"?e:n}});var Mke=Ae(Ike=>{m();Ike.exit={taskListCheckValueChecked:kke,taskListCheckValueUnchecked:kke,paragraph:C_t};function kke(n){this.stack[this.stack.length-2].checked=n.type==="taskListCheckValueChecked"}function C_t(n){var e=this.stack[this.stack.length-2],t=this.stack[this.stack.length-1],r=e.children,i=t.children[0],s=-1,o;if(e&&e.type==="listItem"&&typeof e.checked=="boolean"&&i&&i.type==="text"){for(;++s<r.length;)if(r[s].type==="paragraph"){o=r[s];break}o===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}this.exit(n)}});var Bke=Ae((AJt,Pke)=>{m();var A_t=Oke(),T_t=Rke(),F_t=Lke(),D_t=Mke(),O_t={}.hasOwnProperty;Pke.exports=R_t([A_t,T_t,F_t,D_t]);function R_t(n){for(var e={transforms:[],canContainEols:[]},t=n.length,r=-1;++r<t;)N_t(e,n[r]);return e}function N_t(n,e){var t,r,i;for(t in e)r=O_t.call(n,t)?n[t]:n[t]={},i=e[t],t==="canContainEols"||t==="transforms"?n[t]=[].concat(r,i):Object.assign(r,i)}});var qke=Ae(jke=>{m();var gce="phrasing",yce=["autolink","link","image","label"];jke.unsafe=[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:gce,notInConstruct:yce},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:gce,notInConstruct:yce},{character:":",before:"[ps]",after:"\\/",inConstruct:gce,notInConstruct:yce}]});var $ke=Ae((FJt,Uke)=>{m();Uke.exports=L_t;function L_t(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,l,f;++s<r.length;)f=r[s],s+1<r.length?(l=e.handle.handlers[r[s+1].type],l&&l.peek&&(l=l.peek),a=l?l(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&f.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(f,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var Hke=Ae(vce=>{m();var k_t=$ke();vce.unsafe=[{character:"~",inConstruct:"phrasing"}];vce.handlers={delete:zke};zke.peek=I_t;function zke(n,e,t){var r=t.enter("emphasis"),i=k_t(n,t,{before:"~",after:"~"});return r(),"~~"+i+"~~"}function I_t(){return"~"}});var Wke=Ae((OJt,Vke)=>{m();Vke.exports=M_t;function M_t(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,l,f;++s<r.length;)f=r[s],s+1<r.length?(l=e.handle.handlers[r[s+1].type],l&&l.peek&&(l=l.peek),a=l?l(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&f.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(f,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var Gke=Ae((RJt,Qke)=>{m();Qke.exports=P_t;function P_t(n){var e,t;return n._compiled||(e=n.before?"(?:"+n.before+")":"",t=n.after?"(?:"+n.after+")":"",n.atBreak&&(e="[\\r\\n][\\t ]*"+e),n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(t||""),"g")),n._compiled}});var Jke=Ae((NJt,Kke)=>{m();Kke.exports=Yke;Yke.peek=j_t;var B_t=Gke();function Yke(n,e,t){for(var r=n.value||"",i="`",s=-1,o,a,l,f;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/[ \r\n`]/.test(r.charAt(0))||/[ \r\n`]/.test(r.charAt(r.length-1)))&&(r=" "+r+" ");++s<t.unsafe.length;)if(o=t.unsafe[s],!!o.atBreak)for(a=B_t(o);l=a.exec(r);)f=l.index,r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(l.index+1);return i+r+i}function j_t(){return"`"}});var oW=Ae((LJt,Xke)=>{"use strict";m();var Wy="",_ce;Xke.exports=q_t;function q_t(n,e){if(typeof n!="string")throw new TypeError("expected a string");if(e===1)return n;if(e===2)return n+n;var t=n.length*e;if(_ce!==n||typeof _ce=="undefined")_ce=n,Wy="";else if(Wy.length>=t)return Wy.substr(0,t);for(;t>Wy.length&&e>1;)e&1&&(Wy+=n),e>>=1,n+=n;return Wy+=n,Wy=Wy.substr(0,t),Wy}});var rIe=Ae((kJt,nIe)=>{"use strict";m();var f9=oW();nIe.exports=Q_t;var U_t=/ +$/,uE=" ",$_t=`
`,z_t="-",aW=":",Zke="|",eIe=0,H_t=67,V_t=76,W_t=82,uW=99,bce=108,lW=114;function Q_t(n,e){for(var t=e||{},r=t.padding!==!1,i=t.delimiterStart!==!1,s=t.delimiterEnd!==!1,o=(t.align||[]).concat(),a=t.alignDelimiters!==!1,l=[],f=t.stringLength||Y_t,p=-1,_=n.length,E=[],O=[],R=[],q=[],z=[],L=0,B,P,G,ue,I,J,he,ve,Ve,ot,lt;++p<_;){for(B=n[p],P=-1,G=B.length,R=[],q=[],G>L&&(L=G);++P<G;)J=G_t(B[P]),a===!0&&(I=f(J),q[P]=I,ue=z[P],(ue===void 0||I>ue)&&(z[P]=I)),R.push(J);E[p]=R,O[p]=q}if(P=-1,G=L,typeof o=="object"&&"length"in o)for(;++P<G;)l[P]=tIe(o[P]);else for(lt=tIe(o);++P<G;)l[P]=lt;for(P=-1,G=L,R=[],q=[];++P<G;)lt=l[P],Ve="",ot="",lt===bce?Ve=aW:lt===lW?ot=aW:lt===uW&&(Ve=aW,ot=aW),I=a?Math.max(1,z[P]-Ve.length-ot.length):1,J=Ve+f9(z_t,I)+ot,a===!0&&(I=Ve.length+I+ot.length,I>z[P]&&(z[P]=I),q[P]=I),R[P]=J;for(E.splice(1,0,R),O.splice(1,0,q),p=-1,_=E.length,he=[];++p<_;){for(R=E[p],q=O[p],P=-1,G=L,ve=[];++P<G;)J=R[P]||"",Ve="",ot="",a===!0&&(I=z[P]-(q[P]||0),lt=l[P],lt===lW?Ve=f9(uE,I):lt===uW?I%2===0?(Ve=f9(uE,I/2),ot=Ve):(Ve=f9(uE,I/2+.5),ot=f9(uE,I/2-.5)):ot=f9(uE,I)),i===!0&&P===0&&ve.push(Zke),r===!0&&!(a===!1&&J==="")&&(i===!0||P!==0)&&ve.push(uE),a===!0&&ve.push(Ve),ve.push(J),a===!0&&ve.push(ot),r===!0&&ve.push(uE),(s===!0||P!==G-1)&&ve.push(Zke);ve=ve.join(""),s===!1&&(ve=ve.replace(U_t,"")),he.push(ve)}return he.join($_t)}function G_t(n){return n==null?"":String(n)}function Y_t(n){return n.length}function tIe(n){var e=typeof n=="string"?n.charCodeAt(0):eIe;return e===V_t||e===bce?bce:e===W_t||e===lW?lW:e===H_t||e===uW?uW:eIe}});var sIe=Ae((IJt,iIe)=>{m();var K_t=Wke(),J_t=Jke(),X_t=rIe();iIe.exports=Z_t;function Z_t(n){var e=n||{},t=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:o,tableRow:a,tableCell:l,inlineCode:E}};function o(O,R,q){return f(p(O,q),O.align)}function a(O,R,q){var z=_(O,q),L=f([z]);return L.slice(0,L.indexOf(`
`))}function l(O,R,q){var z=q.enter("tableCell"),L=K_t(O,q,{before:s,after:s});return z(),L}function f(O,R){return X_t(O,{align:R,alignDelimiters:r,padding:t,stringLength:i})}function p(O,R){for(var q=O.children,z=-1,L=q.length,B=[],P=R.enter("table");++z<L;)B[z]=_(q[z],R);return P(),B}function _(O,R){for(var q=O.children,z=-1,L=q.length,B=[],P=R.enter("tableRow");++z<L;)B[z]=l(q[z],O,R);return P(),B}function E(O,R,q){var z=J_t(O,R,q);return q.stack.indexOf("tableCell")!==-1&&(z=z.replace(/\|/g,"\\$&")),z}}});var aIe=Ae((MJt,oIe)=>{m();oIe.exports=e6t;function e6t(n){var e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}});var lIe=Ae((PJt,uIe)=>{m();uIe.exports=t6t;function t6t(n){var e=n.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}});var fIe=Ae((BJt,cIe)=>{m();cIe.exports=r6t;var n6t=oW();function r6t(n,e){for(var t=n.children||[],r=[],i=-1,s;++i<t.length;)s=t[i],r.push(e.handle(s,n,e,{before:`
`,after:`
`})),i+1<t.length&&r.push(o(s,t[i+1]));return r.join("");function o(a,l){for(var f=-1,p;++f<e.join.length&&(p=e.join[f](a,l,n,e),!(p===!0||p===1));){if(typeof p=="number")return n6t(`
`,1+Number(p));if(p===!1)return`

<!---->

`}return`

`}}});var hIe=Ae((jJt,dIe)=>{m();dIe.exports=s6t;var i6t=/\r?\n|\r/g;function s6t(n,e){for(var t=[],r=0,i=0,s;s=i6t.exec(n);)o(n.slice(r,s.index)),t.push(s[0]),r=s.index+s[0].length,i++;return o(n.slice(r)),t.join("");function o(a){t.push(e(a,i,!a))}}});var xIe=Ae((qJt,mIe)=>{m();mIe.exports=c6t;var pIe=oW(),o6t=aIe(),a6t=lIe(),u6t=fIe(),l6t=hIe();function c6t(n,e,t){var r=o6t(t),i=a6t(t),s,o,a;return e&&e.ordered&&(r=(e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+"."),s=r.length+1,(i==="tab"||i==="mixed"&&(e&&e.spread||n.spread))&&(s=Math.ceil(s/4)*4),a=t.enter("listItem"),o=l6t(u6t(n,t),l),a(),o;function l(f,p,_){return p?(_?"":pIe(" ",s))+f:(_?r:r+pIe(" ",s-r.length))+f}}});var gIe=Ae(Ece=>{m();var f6t=xIe();Ece.unsafe=[{atBreak:!0,character:"-",after:"[:|-]"}];Ece.handlers={listItem:d6t};function d6t(n,e,t){var r=f6t(n,e,t),i=n.children[0];return typeof n.checked=="boolean"&&i&&i.type==="paragraph"&&(r=r.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,s)),r;function s(o){return o+"["+(n.checked?"x":" ")+"] "}}});var _Ie=Ae(($Jt,vIe)=>{m();vIe.exports=yIe;function yIe(n,e){var t=-1,r;if(e.extensions)for(;++t<e.extensions.length;)yIe(n,e.extensions[t]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?n[r]=n[r].concat(e[r]||[]):r==="handlers"?n[r]=Object.assign(n[r],e[r]||{}):n.options[r]=e[r]);return n}});var EIe=Ae((zJt,bIe)=>{m();var h6t=qke(),p6t=Hke(),m6t=sIe(),x6t=gIe(),g6t=_Ie();bIe.exports=y6t;function y6t(n){var e=g6t({handlers:{},join:[],unsafe:[],options:{}},{extensions:[h6t,p6t,m6t(n),x6t]});return Object.assign(e.options,{handlers:e.handlers,join:e.join,unsafe:e.unsafe})}});var CIe=Ae((HJt,wIe)=>{"use strict";m();var v6t=tke(),_6t=Bke(),b6t=EIe(),SIe;wIe.exports=E6t;function E6t(n){var e=this.data();!SIe&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(SIe=!0,console.warn("[remark-gfm] Warning: please upgrade to remark 13 to use this plugin")),t("micromarkExtensions",v6t(n)),t("fromMarkdownExtensions",_6t),t("toMarkdownExtensions",b6t(n));function t(r,i){e[r]?e[r].push(i):e[r]=[i]}}});m();var fE=dr(Fr()),kIe=dr(SI());m();var jqe=n=>{n&&n instanceof Function&&Promise.resolve().then(()=>(ope(),spe)).then(({getCLS:e,getFID:t,getFCP:r,getLCP:i,getTTFB:s})=>{e(n),t(n),r(n),i(n),s(n)})},ape=jqe;m();m();m();m();m();m();function dT(n,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dT(n,e)}function Uh(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,dT(n,e)}m();var kp=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}();m();m();function Us(){return Us=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Us.apply(this,arguments)}var C_=typeof window=="undefined";function ll(){}function upe(n,e){return typeof n=="function"?n(e):n}function hT(n){return typeof n=="number"&&n>=0&&n!==1/0}function pT(n){return Array.isArray(n)?n:[n]}function TI(n,e){return Math.max(n+(e||0)-Date.now(),0)}function S7(n,e,t){return gT(n)?typeof e=="function"?Us({},t,{queryKey:n,queryFn:e}):Us({},e,{queryKey:n}):n}function lpe(n,e,t){return gT(n)?typeof e=="function"?Us({},t,{mutationKey:n,mutationFn:e}):Us({},e,{mutationKey:n}):typeof n=="function"?Us({},e,{mutationFn:n}):Us({},n)}function g2(n,e,t){return gT(n)?[Us({},e,{queryKey:n}),t]:[n||{},e]}function qqe(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function KK(n,e){var t=n.active,r=n.exact,i=n.fetching,s=n.inactive,o=n.predicate,a=n.queryKey,l=n.stale;if(gT(a)){if(r){if(e.queryHash!==mT(a,e.options))return!1}else if(!xT(e.queryKey,a))return!1}var f=qqe(t,s);if(f==="none")return!1;if(f!=="all"){var p=e.isActive();if(f==="active"&&!p||f==="inactive"&&p)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function JK(n,e){var t=n.exact,r=n.fetching,i=n.predicate,s=n.mutationKey;if(gT(s)){if(!e.options.mutationKey)return!1;if(t){if(q3(e.options.mutationKey)!==q3(s))return!1}else if(!xT(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function mT(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||q3;return t(n)}function q3(n){var e=pT(n);return Uqe(e)}function Uqe(n){return JSON.stringify(n,function(e,t){return XK(t)?Object.keys(t).sort().reduce(function(r,i){return r[i]=t[i],r},{}):t})}function xT(n,e){return cpe(pT(n),pT(e))}function cpe(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!cpe(n[t],e[t])}):!1}function w7(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||XK(n)&&XK(e)){for(var r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,o=t?[]:{},a=0,l=0;l<s;l++){var f=t?l:i[l];o[f]=w7(n[f],e[f]),o[f]===n[f]&&a++}return r===s&&a===r?n:o}return e}function fpe(n,e){if(n&&!e||e&&!n)return!1;for(var t in n)if(n[t]!==e[t])return!1;return!0}function XK(n){if(!dpe(n))return!1;var e=n.constructor;if(typeof e=="undefined")return!0;var t=e.prototype;return!(!dpe(t)||!t.hasOwnProperty("isPrototypeOf"))}function dpe(n){return Object.prototype.toString.call(n)==="[object Object]"}function gT(n){return typeof n=="string"||Array.isArray(n)}function hpe(n){return new Promise(function(e){setTimeout(e,n)})}function ZK(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function FI(){if(typeof AbortController=="function")return new AbortController}var $qe=function(n){Uh(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!C_&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},t.setFocused=function(i){this.focused=i,i&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(i){i()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(kp),U3=new $qe;m();var zqe=function(n){Uh(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!C_&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},t.setOnline=function(i){this.online=i,i&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(i){i()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},e}(kp),C7=new zqe;function Hqe(n){return Math.min(1e3*Math.pow(2,n),3e4)}function yT(n){return typeof(n==null?void 0:n.cancel)=="function"}var ppe=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function A7(n){return n instanceof ppe}var DI=function(e){var t=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(E){return i==null?void 0:i(E)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(E,O){o=E,a=O});var l=function(O){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(O),s==null||s(),o(O))},f=function(O){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(O),s==null||s(),a(O))},p=function(){return new Promise(function(O){s=O,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},_=function E(){if(!t.isResolved){var O;try{O=e.fn()}catch(R){O=Promise.reject(R)}i=function(q){if(!t.isResolved&&(f(new ppe(q)),t.abort==null||t.abort(),yT(O)))try{O.cancel()}catch{}},t.isTransportCancelable=yT(O),Promise.resolve(O).then(l).catch(function(R){var q,z;if(!t.isResolved){var L=(q=e.retry)!=null?q:3,B=(z=e.retryDelay)!=null?z:Hqe,P=typeof B=="function"?B(t.failureCount,R):B,G=L===!0||typeof L=="number"&&t.failureCount<L||typeof L=="function"&&L(t.failureCount,R);if(r||!G){f(R);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,R),hpe(P).then(function(){if(!U3.isFocused()||!C7.isOnline())return p()}).then(function(){r?f(R):E()})}})}};_()};m();m();m();var Vqe=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):ZK(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&ZK(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),Qo=new Vqe;m();var mpe=console;function A_(){return mpe}function eJ(n){mpe=n}var xpe=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(r){var i;this.options=Us({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),hT(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,l=upe(r,a);return((s=(o=this.options).isDataEqual)==null?void 0:s.call(o,a,l))?l=a:this.options.structuralSharing!==!1&&(l=w7(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(ll).catch(ll):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!TI(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i==null?void 0:i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var f;return(f=this.retryer)==null||f.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var p=this.observers.find(function(B){return B.options.queryFn});p&&this.setOptions(p.options)}var _=pT(this.queryKey),E=FI(),O={queryKey:_,pageParam:void 0,meta:this.meta};Object.defineProperty(O,"signal",{enumerable:!0,get:function(){if(E)return s.abortSignalConsumed=!0,E.signal}});var R=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(O)):Promise.reject("Missing queryFn")},q={fetchOptions:i,options:this.options,queryKey:_,state:this.state,fetchFn:R,meta:this.meta};if((o=this.options.behavior)==null?void 0:o.onFetch){var z;(z=this.options.behavior)==null||z.onFetch(q)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=q.fetchOptions)==null?void 0:a.meta)){var L;this.dispatch({type:"fetch",meta:(L=q.fetchOptions)==null?void 0:L.meta})}return this.retryer=new DI({fn:q.fetchFn,abort:E==null||(l=E.abort)==null?void 0:l.bind(E),onSuccess:function(P){s.setData(P),s.cache.config.onSuccess==null||s.cache.config.onSuccess(P,s),s.cacheTime===0&&s.optionalRemove()},onError:function(P){A7(P)&&P.silent||s.dispatch({type:"error",error:P}),A7(P)||(s.cache.config.onError==null||s.cache.config.onError(P,s),A_().error(P)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:q.options.retry,retryDelay:q.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Qo.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData!="undefined",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i!="undefined";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return Us({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Us({},r,{isPaused:!0});case"continue":return Us({},r,{isPaused:!1});case"fetch":return Us({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Us({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return A7(a)&&a.revert&&this.revertState?Us({},this.revertState):Us({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Us({},r,{isInvalidated:!0});case"setState":return Us({},r,i.state);default:return r}},n}();var gpe=function(n){Uh(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var t=e.prototype;return t.build=function(i,s,o){var a,l=s.queryKey,f=(a=s.queryHash)!=null?a:mT(l,s),p=this.get(f);return p||(p=new xpe({cache:this,queryKey:l,queryHash:f,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(p)),p},t.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},t.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},t.clear=function(){var i=this;Qo.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},t.get=function(i){return this.queriesMap[i]},t.getAll=function(){return this.queries},t.find=function(i,s){var o=g2(i,s),a=o[0];return typeof a.exact=="undefined"&&(a.exact=!0),this.queries.find(function(l){return KK(a,l)})},t.findAll=function(i,s){var o=g2(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return KK(a,l)}):this.queries},t.notify=function(i){var s=this;Qo.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){var i=this;Qo.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},t.onOnline=function(){var i=this;Qo.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(kp);m();m();m();var ype=function(){function n(t){this.options=Us({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||tJ(),this.meta=t.meta}var e=n.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(ll).catch(ll)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),A_().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new DI({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=Wqe(this.state,r),Qo.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},n}();function tJ(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Wqe(n,e){switch(e.type){case"failed":return Us({},n,{failureCount:n.failureCount+1});case"pause":return Us({},n,{isPaused:!0});case"continue":return Us({},n,{isPaused:!1});case"loading":return Us({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Us({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Us({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return Us({},n,e.state);default:return n}}var vpe=function(n){Uh(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var t=e.prototype;return t.build=function(i,s,o){var a=new ype({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},t.add=function(i){this.mutations.push(i),this.notify(i)},t.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},t.clear=function(){var i=this;Qo.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},t.getAll=function(){return this.mutations},t.find=function(i){return typeof i.exact=="undefined"&&(i.exact=!0),this.mutations.find(function(s){return JK(i,s)})},t.findAll=function(i){return this.mutations.filter(function(s){return JK(i,s)})},t.notify=function(i){var s=this;Qo.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Qo.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(ll)})},Promise.resolve())})},e}(kp);m();function _pe(){return{onFetch:function(e){e.fetchFn=function(){var t,r,i,s,o,a,l=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,f=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,p=f==null?void 0:f.pageParam,_=(f==null?void 0:f.direction)==="forward",E=(f==null?void 0:f.direction)==="backward",O=((o=e.state.data)==null?void 0:o.pages)||[],R=((a=e.state.data)==null?void 0:a.pageParams)||[],q=FI(),z=q==null?void 0:q.signal,L=R,B=!1,P=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},G=function(bt,Pt,$e,te){return L=te?[Pt].concat(L):[].concat(L,[Pt]),te?[$e].concat(bt):[].concat(bt,[$e])},ue=function(bt,Pt,$e,te){if(B)return Promise.reject("Cancelled");if(typeof $e=="undefined"&&!Pt&&bt.length)return Promise.resolve(bt);var Ze={queryKey:e.queryKey,signal:z,pageParam:$e,meta:e.meta},ye=P(Ze),Le=Promise.resolve(ye).then(function(pe){return G(bt,$e,pe,te)});if(yT(ye)){var Ce=Le;Ce.cancel=ye.cancel}return Le},I;if(!O.length)I=ue([]);else if(_){var J=typeof p!="undefined",he=J?p:bpe(e.options,O);I=ue(O,J,he)}else if(E){var ve=typeof p!="undefined",Ve=ve?p:Qqe(e.options,O);I=ue(O,ve,Ve,!0)}else(function(){L=[];var et=typeof e.options.getNextPageParam=="undefined",bt=l&&O[0]?l(O[0],0,O):!0;I=bt?ue([],et,R[0]):Promise.resolve(G([],R[0],O[0]));for(var Pt=function(Ze){I=I.then(function(ye){var Le=l&&O[Ze]?l(O[Ze],Ze,O):!0;if(Le){var Ce=et?R[Ze]:bpe(e.options,ye);return ue(ye,et,Ce)}return Promise.resolve(G(ye,R[Ze],O[Ze]))})},$e=1;$e<O.length;$e++)Pt($e)})();var ot=I.then(function(et){return{pages:et,pageParams:L}}),lt=ot;return lt.cancel=function(){B=!0,q==null||q.abort(),yT(I)&&I.cancel()},ot}}}}function bpe(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function Qqe(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var nJ=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new gpe,this.mutationCache=t.mutationCache||new vpe,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=U3.subscribe(function(){U3.isFocused()&&C7.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=C7.subscribe(function(){U3.isFocused()&&C7.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=g2(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(Us({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=S7(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return Qo.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=g2(r,i),o=s[0],a=this.queryCache;Qo.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,s){var o=this,a=g2(r,i,s),l=a[0],f=a[1],p=this.queryCache,_=Us({},l,{active:!0});return Qo.batch(function(){return p.findAll(l).forEach(function(E){E.reset()}),o.refetchQueries(_,f)})},e.cancelQueries=function(r,i,s){var o=this,a=g2(r,i,s),l=a[0],f=a[1],p=f===void 0?{}:f;typeof p.revert=="undefined"&&(p.revert=!0);var _=Qo.batch(function(){return o.queryCache.findAll(l).map(function(E){return E.cancel(p)})});return Promise.all(_).then(ll).catch(ll)},e.invalidateQueries=function(r,i,s){var o,a,l,f=this,p=g2(r,i,s),_=p[0],E=p[1],O=Us({},_,{active:(o=(a=_.refetchActive)!=null?a:_.active)!=null?o:!0,inactive:(l=_.refetchInactive)!=null?l:!1});return Qo.batch(function(){return f.queryCache.findAll(_).forEach(function(R){R.invalidate()}),f.refetchQueries(O,E)})},e.refetchQueries=function(r,i,s){var o=this,a=g2(r,i,s),l=a[0],f=a[1],p=Qo.batch(function(){return o.queryCache.findAll(l).map(function(E){return E.fetch(void 0,Us({},f,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),_=Promise.all(p).then(ll);return(f==null?void 0:f.throwOnError)||(_=_.catch(ll)),_},e.fetchQuery=function(r,i,s){var o=S7(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry=="undefined"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(ll).catch(ll)},e.fetchInfiniteQuery=function(r,i,s){var o=S7(r,i,s);return o.behavior=_pe(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(ll).catch(ll)},e.cancelMutations=function(){var r=this,i=Qo.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(ll).catch(ll)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return q3(r)===q3(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return xT(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return q3(r)===q3(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return xT(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r==null?void 0:r._defaulted)return r;var i=Us({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=mT(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return(r==null?void 0:r._defaulted)?r:Us({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}();m();var rJ=function(n){Uh(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var t=e.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Epe(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return iJ(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return iJ(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&Spe(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var f=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||f!==this.currentRefetchInterval)&&this.updateRefetchInterval(f)},t.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(i,s){var o=this,a={},l=function(p){o.trackedProps.includes(p)||o.trackedProps.push(p)};return Object.keys(i).forEach(function(f){Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:function(){return l(f),i[f]}})}),(s.useErrorBoundary||s.suspense)&&l("error"),a},t.getNextResult=function(i){var s=this;return new Promise(function(o,a){var l=s.subscribe(function(f){f.isFetching||(l(),f.isError&&(i==null?void 0:i.throwOnError)?a(f.error):o(f))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(i){return this.fetch(Us({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},t.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},t.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},t.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return(i==null?void 0:i.throwOnError)||(s=s.catch(ll)),s},t.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(C_||this.currentResult.isStale||!hT(this.options.staleTime))){var s=TI(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},t.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},t.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(C_||this.options.enabled===!1||!hT(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||U3.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(i,s){var o=this.currentQuery,a=this.options,l=this.currentResult,f=this.currentResultState,p=this.currentResultOptions,_=i!==o,E=_?i.state:this.currentQueryInitialState,O=_?this.currentResult:this.previousQueryResult,R=i.state,q=R.dataUpdatedAt,z=R.error,L=R.errorUpdatedAt,B=R.isFetching,P=R.status,G=!1,ue=!1,I;if(s.optimisticResults){var J=this.hasListeners(),he=!J&&Epe(i,s),ve=J&&Spe(i,o,s,a);(he||ve)&&(B=!0,q||(P="loading"))}if(s.keepPreviousData&&!R.dataUpdateCount&&(O==null?void 0:O.isSuccess)&&P!=="error")I=O.data,q=O.dataUpdatedAt,P=O.status,G=!0;else if(s.select&&typeof R.data!="undefined")if(l&&R.data===(f==null?void 0:f.data)&&s.select===this.selectFn)I=this.selectResult;else try{this.selectFn=s.select,I=s.select(R.data),s.structuralSharing!==!1&&(I=w7(l==null?void 0:l.data,I)),this.selectResult=I,this.selectError=null}catch(lt){A_().error(lt),this.selectError=lt}else I=R.data;if(typeof s.placeholderData!="undefined"&&typeof I=="undefined"&&(P==="loading"||P==="idle")){var Ve;if((l==null?void 0:l.isPlaceholderData)&&s.placeholderData===(p==null?void 0:p.placeholderData))Ve=l.data;else if(Ve=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof Ve!="undefined")try{Ve=s.select(Ve),s.structuralSharing!==!1&&(Ve=w7(l==null?void 0:l.data,Ve)),this.selectError=null}catch(lt){A_().error(lt),this.selectError=lt}typeof Ve!="undefined"&&(P="success",I=Ve,ue=!0)}this.selectError&&(z=this.selectError,I=this.selectResult,L=Date.now(),P="error");var ot={status:P,isLoading:P==="loading",isSuccess:P==="success",isError:P==="error",isIdle:P==="idle",data:I,dataUpdatedAt:q,error:z,errorUpdatedAt:L,failureCount:R.fetchFailureCount,errorUpdateCount:R.errorUpdateCount,isFetched:R.dataUpdateCount>0||R.errorUpdateCount>0,isFetchedAfterMount:R.dataUpdateCount>E.dataUpdateCount||R.errorUpdateCount>E.errorUpdateCount,isFetching:B,isRefetching:B&&P!=="loading",isLoadingError:P==="error"&&R.dataUpdatedAt===0,isPlaceholderData:ue,isPreviousData:G,isRefetchError:P==="error"&&R.dataUpdatedAt!==0,isStale:sJ(i,s),refetch:this.refetch,remove:this.remove};return ot},t.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var f=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(p){var _=p,E=i[_]!==s[_],O=f==null?void 0:f.some(function(q){return q===p}),R=l==null?void 0:l.some(function(q){return q===p});return E&&!R&&(!f||O)})},t.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!fpe(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(Us({},o,i))}},t.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},t.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!A7(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},t.notify=function(i){var s=this;Qo.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(kp);function Gqe(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Epe(n,e){return Gqe(n,e)||n.state.dataUpdatedAt>0&&iJ(n,e,e.refetchOnMount)}function iJ(n,e,t){if(e.enabled!==!1){var r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&sJ(n,e)}return!1}function Spe(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&sJ(n,t)}function sJ(n,e){return n.isStaleByTime(e.staleTime)}m();var wpe=function(n){Uh(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var t=e.prototype;return t.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},t.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},t.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},t.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},t.getCurrentResult=function(){return this.currentResult},t.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},t.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Us({},this.options,{variables:typeof i!="undefined"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},t.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:tJ(),s=Us({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},t.notify=function(i){var s=this;Qo.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(kp);m();m();m();var Cpe=dr(SI()),Ape=Cpe.default.unstable_batchedUpdates;Qo.setBatchNotifyFunction(Ape);m();m();var Tpe=console;eJ(Tpe);m();var $3=dr(Fr()),Fpe=$3.default.createContext(void 0),Dpe=$3.default.createContext(!1);function Ope(n){return n&&typeof window!="undefined"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Fpe),window.ReactQueryClientContext):Fpe}var vT=function(){var e=$3.default.useContext(Ope($3.default.useContext(Dpe)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},oJ=function(e){var t=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;$3.default.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=Ope(i);return $3.default.createElement(Dpe.Provider,{value:i},$3.default.createElement(o.Provider,{value:t},s))};m();var aJ=dr(Fr());function Yqe(){var n=!1;return{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}}}var Kqe=aJ.default.createContext(Yqe()),Rpe=function(){return aJ.default.useContext(Kqe)};m();var T7=dr(Fr());m();function OI(n,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!n}function uJ(n,e,t){var r=T7.default.useRef(!1),i=T7.default.useState(0),s=i[1],o=lpe(n,e,t),a=vT(),l=T7.default.useRef();l.current?l.current.setOptions(o):l.current=new wpe(a,o);var f=l.current.getCurrentResult();T7.default.useEffect(function(){r.current=!0;var _=l.current.subscribe(Qo.batchCalls(function(){r.current&&s(function(E){return E+1})}));return function(){r.current=!1,_()}},[]);var p=T7.default.useCallback(function(_,E){l.current.mutate(_,E).catch(ll)},[]);if(f.error&&OI(void 0,l.current.options.useErrorBoundary,[f.error]))throw f.error;return Us({},f,{mutate:p,mutateAsync:f.mutate})}m();m();var F7=dr(Fr());function Npe(n,e){var t=F7.default.useRef(!1),r=F7.default.useState(0),i=r[1],s=vT(),o=Rpe(),a=s.defaultQueryObserverOptions(n);a.optimisticResults=!0,a.onError&&(a.onError=Qo.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Qo.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Qo.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=F7.default.useState(function(){return new e(s,a)}),f=l[0],p=f.getOptimisticResult(a);if(F7.default.useEffect(function(){t.current=!0,o.clearReset();var _=f.subscribe(Qo.batchCalls(function(){t.current&&i(function(E){return E+1})}));return f.updateResult(),function(){t.current=!1,_()}},[o,f]),F7.default.useEffect(function(){f.setOptions(a,{listeners:!1})},[a,f]),a.suspense&&p.isLoading)throw f.fetchOptimistic(a).then(function(_){var E=_.data;a.onSuccess==null||a.onSuccess(E),a.onSettled==null||a.onSettled(E,null)}).catch(function(_){o.clearReset(),a.onError==null||a.onError(_),a.onSettled==null||a.onSettled(void 0,_)});if(p.isError&&!o.isReset()&&!p.isFetching&&OI(a.suspense,a.useErrorBoundary,[p.error,f.getCurrentQuery()]))throw p.error;return a.notifyOnChangeProps==="tracked"&&(p=f.trackResult(p,a)),p}function gg(n,e,t){var r=S7(n,e,t);return Npe(r,rJ)}m();var dd=dr(Fr());m();m();function cl(){return cl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cl.apply(this,arguments)}var Rl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Rl||(Rl={}));var Lpe="popstate";function kpe(n){n===void 0&&(n={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=$h(i.location.hash.substr(1));return T_("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,f=l.indexOf("#");a=f===-1?l:l.slice(0,f)}return a+"#"+(typeof s=="string"?s:ih(s))}function r(i,s){Jqe(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Zqe(e,t,r,n)}function Jqe(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xqe(){return Math.random().toString(36).substr(2,8)}function Ipe(n){return{usr:n.state,key:n.key}}function T_(n,e,t,r){return t===void 0&&(t=null),cl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?$h(e):e,{state:t,key:e&&e.key||r||Xqe()})}function ih(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $h(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function _T(n){let e=typeof window!="undefined"&&typeof window.location!="undefined"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",t=typeof n=="string"?n:ih(n);return new URL(t,e)}function Zqe(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Rl.Pop,l=null;function f(){a=Rl.Pop,l&&l({action:a,location:E.location})}function p(O,R){a=Rl.Push;let q=T_(E.location,O,R);t&&t(q,O);let z=Ipe(q),L=E.createHref(q);try{o.pushState(z,"",L)}catch{i.location.assign(L)}s&&l&&l({action:a,location:E.location})}function _(O,R){a=Rl.Replace;let q=T_(E.location,O,R);t&&t(q,O);let z=Ipe(q),L=E.createHref(q);o.replaceState(z,"",L),s&&l&&l({action:a,location:E.location})}let E={get action(){return a},get location(){return n(i,o)},listen(O){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Lpe,f),l=O,()=>{i.removeEventListener(Lpe,f),l=null}},createHref(O){return e(i,O)},encodeLocation(O){let R=_T(ih(O));return cl({},O,{pathname:R.pathname,search:R.search,hash:R.hash})},push:p,replace:_,go(O){return o.go(O)}};return E}var zf;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(zf||(zf={}));function eUe(n){return n.index===!0}function Mpe(n,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),n.map((r,i)=>{let s=[...e,i],o=typeof r.id=="string"?r.id:s.join("-");return No(r.index!==!0||!r.children,"Cannot specify children on an index route"),No(!t.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),t.add(o),eUe(r)?cl({},r,{id:o}):cl({},r,{id:o,children:r.children?Mpe(r.children,s,t):void 0})})}function z3(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?$h(e):e,i=lJ(r.pathname||"/",t);if(i==null)return null;let s=Ppe(n);tUe(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=cUe(s[a],dUe(i));return o}function Ppe(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(No(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=om([r,o.relativePath]),l=t.concat(o);i.children&&i.children.length>0&&(No(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),Ppe(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:uUe(a,i.index),routesMeta:l})}),e}function tUe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lUe(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var nUe=/^:\w+$/,rUe=3,iUe=2,sUe=1,oUe=10,aUe=-2,Bpe=n=>n==="*";function uUe(n,e){let t=n.split("/"),r=t.length;return t.some(Bpe)&&(r+=aUe),e&&(r+=iUe),t.filter(i=>!Bpe(i)).reduce((i,s)=>i+(nUe.test(s)?rUe:s===""?sUe:oUe),r)}function lUe(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function cUe(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=RI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},f);if(!p)return null;Object.assign(r,p.params);let _=a.route;s.push({params:r,pathname:om([i,p.pathname]),pathnameBase:mUe(om([i,p.pathnameBase])),route:_}),p.pathnameBase!=="/"&&(i=om([i,p.pathnameBase]))}return s}function RI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=fUe(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((f,p,_)=>{if(p==="*"){let E=a[_]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}return f[p]=hUe(a[_]||"",p),f},{}),pathname:s,pathnameBase:o,pattern:n}}function fUe(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),cJ(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dUe(n){try{return decodeURI(n)}catch(e){return cJ(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function hUe(n,e){try{return decodeURIComponent(n)}catch(t){return cJ(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function lJ(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function No(n,e){if(n===!1||n===null||typeof n=="undefined")throw new Error(e)}function cJ(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function fJ(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?$h(n):n;return{pathname:t?t.startsWith("/")?t:pUe(t,e):e,search:xUe(r),hash:gUe(i)}}function pUe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function dJ(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function NI(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=$h(n):(i=cl({},n),No(!i.pathname||!i.pathname.includes("?"),dJ("?","pathname","search",i)),No(!i.pathname||!i.pathname.includes("#"),dJ("#","pathname","hash",i)),No(!i.search||!i.search.includes("#"),dJ("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let _=e.length-1;if(o.startsWith("..")){let E=o.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}a=_>=0?e[_]:"/"}let l=fJ(i,a),f=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(f||p)&&(l.pathname+="/"),l}var om=n=>n.join("/").replace(/\/\/+/g,"/"),mUe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xUe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gUe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;var D7=class extends Error{},jpe=class{constructor(e){this.pendingKeys=new Set,this.subscriber=void 0,No(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let t;this.abortPromise=new Promise((i,s)=>t=s),this.controller=new AbortController;let r=()=>t(new D7("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((i,s)=>{let[o,a]=s;return Object.assign(i,{[o]:this.trackPromise(o,a)})},{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let r=Promise.race([t,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,t,r,i){if(this.controller.signal.aborted&&r instanceof D7)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();let s=this.subscriber;return r?(Object.defineProperty(e,"_error",{get:()=>r}),s&&s(!1),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),s&&s(!1),i)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach((t,r)=>this.pendingKeys.delete(r));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),t=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return t}get done(){return this.pendingKeys.size===0}get unwrappedData(){return No(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[r,i]=t;return Object.assign(e,{[r]:vUe(i)})},{})}};function yUe(n){return n instanceof Promise&&n._tracked===!0}function vUe(n){if(!yUe(n))return n;if(n._error)throw n._error;return n._data}var F_=class{constructor(e,t,r){this.status=e,this.statusText=t||"",this.data=r}};function ET(n){return n instanceof F_}var hJ={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},_Ue={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},bUe=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",EUe=!bUe;function pJ(n){No(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=Mpe(n.routes),t=null,r=new Set,i=null,s=null,o=null,a=!1,l=z3(e,n.history.location,n.basename),f=null;if(l==null){let{matches:re,route:Ne,error:ct}=Wpe(e);l=re,f={[Ne.id]:ct}}let p=!l.some(re=>re.route.loader)||n.hydrationData!=null,_,E={historyAction:n.history.action,location:n.history.location,matches:l,initialized:p,navigation:hJ,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||f,fetchers:new Map},O=Rl.Pop,R=!1,q,z=!1,L=!1,B=[],P=[],G=new Map,ue=0,I=-1,J=new Map,he=new Set,ve=new Map,Ve=new Map;function ot(){return t=n.history.listen(re=>{let{action:Ne,location:ct}=re;return Ze(Ne,ct)}),E.initialized||Ze(Rl.Pop,E.location),_}function lt(){t&&t(),r.clear(),q&&q.abort(),E.fetchers.forEach((re,Ne)=>Ot(Ne))}function et(re){return r.add(re),()=>r.delete(re)}function bt(re){E=cl({},E,re),r.forEach(Ne=>Ne(E))}function Pt(re,Ne){var ct;let _t=E.actionData!=null&&E.navigation.formMethod!=null&&E.navigation.state==="loading"&&((ct=E.navigation.formAction)==null?void 0:ct.split("?")[0])===re.pathname,Lt=Ne.loaderData?{loaderData:xJ(E.loaderData,Ne.loaderData,Ne.matches||[])}:{};bt(cl({},_t?{}:{actionData:null},Ne,Lt,{historyAction:O,location:re,initialized:!0,navigation:hJ,revalidation:"idle",restoreScrollPosition:E.navigation.formData?!1:Ie(re,Ne.matches||E.matches),preventScrollReset:R})),z||O===Rl.Pop||(O===Rl.Push?n.history.push(re,re.state):O===Rl.Replace&&n.history.replace(re,re.state)),O=Rl.Pop,R=!1,z=!1,L=!1,B=[],P=[]}async function $e(re,Ne){if(typeof re=="number"){n.history.go(re);return}let{path:ct,submission:_t,error:Lt}=qpe(re,Ne),Yt=T_(E.location,ct,Ne&&Ne.state);Yt=n.history.encodeLocation(Yt);let Gt=(Ne&&Ne.replace)===!0||_t!=null?Rl.Replace:Rl.Push,fn=Ne&&"preventScrollReset"in Ne?Ne.preventScrollReset===!0:void 0;return await Ze(Gt,Yt,{submission:_t,pendingError:Lt,preventScrollReset:fn,replace:Ne&&Ne.replace})}function te(){if(xn(),bt({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){Ze(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}Ze(O||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function Ze(re,Ne,ct){q&&q.abort(),q=null,O=re,z=(ct&&ct.startUninterruptedRevalidation)===!0,tt(E.location,E.matches),R=(ct&&ct.preventScrollReset)===!0;let _t=ct&&ct.overrideNavigation,Lt=z3(e,Ne,n.basename);if(!Lt){let{matches:un,route:Mn,error:tr}=Wpe(e);Se(),Pt(Ne,{matches:un,loaderData:{},errors:{[Mn.id]:tr}});return}if(FUe(E.location,Ne)){Pt(Ne,{matches:Lt});return}q=new AbortController;let Yt=wT(Ne,q.signal,ct&&ct.submission),Gt,fn;if(ct&&ct.pendingError)fn={[O7(Lt).route.id]:ct.pendingError};else if(ct&&ct.submission){let un=await ye(Yt,Ne,ct.submission,Lt,{replace:ct.replace});if(un.shortCircuited)return;Gt=un.pendingActionData,fn=un.pendingActionError,_t=cl({state:"loading",location:Ne},ct.submission)}let{shortCircuited:gn,loaderData:yn,errors:It}=await Le(Yt,Ne,Lt,_t,ct&&ct.submission,ct&&ct.replace,Gt,fn);gn||(q=null,Pt(Ne,{matches:Lt,loaderData:yn,errors:It}))}async function ye(re,Ne,ct,_t,Lt){xn();let Yt=cl({state:"submitting",location:Ne},ct);bt({navigation:Yt});let Gt,fn=e1e(_t,Ne);if(!fn.route.action)Gt=Qpe(Ne);else if(Gt=await ST("action",re,fn,_t,_.basename),re.signal.aborted)return{shortCircuited:!0};if(R7(Gt)){let gn=cl({state:"loading",location:T_(E.location,Gt.location)},ct);return await Ht(Gt,gn,Lt&&Lt.replace),{shortCircuited:!0}}if(CT(Gt)){let gn=O7(_t,fn.route.id);return(Lt&&Lt.replace)!==!0&&(O=Rl.Push),{pendingActionError:{[gn.route.id]:Gt.error}}}if(D_(Gt))throw new Error("defer() is not supported in actions");return{pendingActionData:{[fn.route.id]:Gt.data}}}async function Le(re,Ne,ct,_t,Lt,Yt,Gt,fn){let gn=_t;gn||(gn={state:"loading",location:Ne,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[yn,It]=Upe(E,ct,Lt,Ne,L,B,P,Gt,fn,ve);if(Se(Bt=>!(ct&&ct.some(pt=>pt.route.id===Bt))||yn&&yn.some(pt=>pt.route.id===Bt)),yn.length===0&&It.length===0)return Pt(Ne,{matches:ct,loaderData:xJ(E.loaderData,{},ct),errors:fn||null,actionData:Gt||null}),{shortCircuited:!0};z||(It.forEach(Bt=>{let[pt]=Bt,mt=E.fetchers.get(pt),nn={state:"loading",data:mt&&mt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(pt,nn)}),bt(cl({navigation:gn,actionData:Gt||E.actionData||null},It.length>0?{fetchers:new Map(E.fetchers)}:{}))),I=++ue,It.forEach(Bt=>{let[pt]=Bt;return G.set(pt,q)});let{results:un,loaderResults:Mn,fetcherResults:tr}=await Ct(E.matches,ct,yn,It,re);if(re.signal.aborted)return{shortCircuited:!0};It.forEach(Bt=>{let[pt]=Bt;return G.delete(pt)});let Rn=Gpe(un);if(Rn){let Bt=mJ(E,Rn);return await Ht(Rn,Bt,Yt),{shortCircuited:!0}}let{loaderData:Re,errors:He}=Vpe(E,ct,yn,Mn,fn,It,tr,Ve);Ve.forEach((Bt,pt)=>{Bt.subscribe(mt=>{(mt||Bt.done)&&Ve.delete(pt)})}),_e();let De=ke(I);return cl({loaderData:Re,errors:He},De||It.length>0?{fetchers:new Map(E.fetchers)}:{})}function Ce(re){return E.fetchers.get(re)||_Ue}function pe(re,Ne,ct,_t){if(EUe)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G.has(re)&&rn(re);let Lt=z3(e,ct,n.basename);if(!Lt){Tt(re,Ne,new F_(404,"Not Found",null));return}let{path:Yt,submission:Gt}=qpe(ct,_t,!0),fn=e1e(Lt,Yt);if(Gt){Je(re,Ne,Yt,fn,Lt,Gt);return}ve.set(re,[Yt,fn,Lt]),ut(re,Ne,Yt,fn,Lt)}async function Je(re,Ne,ct,_t,Lt,Yt){if(xn(),ve.delete(re),!_t.route.action){let{error:Nn}=Qpe(ct);Tt(re,Ne,Nn);return}let Gt=E.fetchers.get(re),fn=cl({state:"submitting"},Yt,{data:Gt&&Gt.data});E.fetchers.set(re,fn),bt({fetchers:new Map(E.fetchers)});let gn=new AbortController,yn=wT(ct,gn.signal,Yt);G.set(re,gn);let It=await ST("action",yn,_t,Lt,_.basename);if(yn.signal.aborted){G.get(re)===gn&&G.delete(re);return}if(R7(It)){G.delete(re),he.add(re);let Nn=cl({state:"loading"},Yt,{data:void 0});E.fetchers.set(re,Nn),bt({fetchers:new Map(E.fetchers)});let nr=cl({state:"loading",location:T_(E.location,It.location)},Yt);await Ht(It,nr);return}if(CT(It)){Tt(re,Ne,It.error);return}D_(It)&&No(!1,"defer() is not supported in actions");let un=E.navigation.location||E.location,Mn=wT(un,gn.signal),tr=E.navigation.state!=="idle"?z3(e,E.navigation.location,n.basename):E.matches;No(tr,"Didn't find any matches after fetcher action");let Rn=++ue;J.set(re,Rn);let Re=cl({state:"loading",data:It.data},Yt);E.fetchers.set(re,Re);let[He,De]=Upe(E,tr,Yt,un,L,B,P,{[_t.route.id]:It.data},void 0,ve);De.filter(Nn=>{let[nr]=Nn;return nr!==re}).forEach(Nn=>{let[nr]=Nn,Ke=E.fetchers.get(nr),yt={state:"loading",data:Ke&&Ke.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(nr,yt),G.set(nr,gn)}),bt({fetchers:new Map(E.fetchers)});let{results:Bt,loaderResults:pt,fetcherResults:mt}=await Ct(E.matches,tr,He,De,Mn);if(gn.signal.aborted)return;J.delete(re),G.delete(re),De.forEach(Nn=>{let[nr]=Nn;return G.delete(nr)});let nn=Gpe(Bt);if(nn){let Nn=mJ(E,nn);await Ht(nn,Nn);return}let{loaderData:Qt,errors:Fn}=Vpe(E,E.matches,He,pt,void 0,De,mt,Ve),Wn={state:"idle",data:It.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(re,Wn);let Zn=ke(Rn);E.navigation.state==="loading"&&Rn>I?(No(O,"Expected pending action"),q&&q.abort(),Pt(E.navigation.location,{matches:tr,loaderData:Qt,errors:Fn,fetchers:new Map(E.fetchers)})):(bt(cl({errors:Fn,loaderData:xJ(E.loaderData,Qt,tr)},Zn?{fetchers:new Map(E.fetchers)}:{})),L=!1)}async function ut(re,Ne,ct,_t,Lt){let Yt=E.fetchers.get(re),Gt={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:Yt&&Yt.data};E.fetchers.set(re,Gt),bt({fetchers:new Map(E.fetchers)});let fn=new AbortController,gn=wT(ct,fn.signal);G.set(re,fn);let yn=await ST("loader",gn,_t,Lt,_.basename);if(D_(yn)&&(yn=await Jpe(yn,gn.signal,!0)||yn),G.get(re)===fn&&G.delete(re),gn.signal.aborted)return;if(R7(yn)){let un=mJ(E,yn);await Ht(yn,un);return}if(CT(yn)){let un=O7(E.matches,Ne);E.fetchers.delete(re),bt({fetchers:new Map(E.fetchers),errors:{[un.route.id]:yn.error}});return}No(!D_(yn),"Unhandled fetcher deferred data");let It={state:"idle",data:yn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(re,It),bt({fetchers:new Map(E.fetchers)})}async function Ht(re,Ne,ct){re.revalidate&&(L=!0),No(Ne.location,"Expected a location on the redirect navigation"),q=null;let _t=ct===!0?Rl.Replace:Rl.Push;await Ze(_t,Ne.location,{overrideNavigation:Ne})}async function Ct(re,Ne,ct,_t,Lt){let Yt=await Promise.all([...ct.map(gn=>ST("loader",Lt,gn,Ne,_.basename)),..._t.map(gn=>{let[,yn,It,un]=gn;return ST("loader",wT(yn,Lt.signal),It,un,_.basename)})]),Gt=Yt.slice(0,ct.length),fn=Yt.slice(ct.length);return await Promise.all([Kpe(re,ct,Gt,Lt.signal,!1,E.loaderData),Kpe(re,_t.map(gn=>{let[,,yn]=gn;return yn}),fn,Lt.signal,!0)]),{results:Yt,loaderResults:Gt,fetcherResults:fn}}function xn(){L=!0,B.push(...Se()),ve.forEach((re,Ne)=>{G.has(Ne)&&(P.push(Ne),rn(Ne))})}function Tt(re,Ne,ct){let _t=O7(E.matches,Ne);Ot(re),bt({errors:{[_t.route.id]:ct},fetchers:new Map(E.fetchers)})}function Ot(re){G.has(re)&&rn(re),ve.delete(re),J.delete(re),he.delete(re),E.fetchers.delete(re)}function rn(re){let Ne=G.get(re);No(Ne,"Expected fetch controller: "+re),Ne.abort(),G.delete(re)}function St(re){for(let Ne of re){let ct=Ce(Ne),_t={state:"idle",data:ct.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(Ne,_t)}}function _e(){let re=[];for(let Ne of he){let ct=E.fetchers.get(Ne);No(ct,"Expected fetcher: "+Ne),ct.state==="loading"&&(he.delete(Ne),re.push(Ne))}St(re)}function ke(re){let Ne=[];for(let[ct,_t]of J)if(_t<re){let Lt=E.fetchers.get(ct);No(Lt,"Expected fetcher: "+ct),Lt.state==="loading"&&(rn(ct),J.delete(ct),Ne.push(ct))}return St(Ne),Ne.length>0}function Se(re){let Ne=[];return Ve.forEach((ct,_t)=>{(!re||re(_t))&&(ct.cancel(),Ne.push(_t),Ve.delete(_t))}),Ne}function ce(re,Ne,ct){if(i=re,o=Ne,s=ct||(_t=>_t.key),!a&&E.navigation===hJ){a=!0;let _t=Ie(E.location,E.matches);_t!=null&&bt({restoreScrollPosition:_t})}return()=>{i=null,o=null,s=null}}function tt(re,Ne){if(i&&s&&o){let ct=Ne.map(Lt=>Zpe(Lt,E.loaderData)),_t=s(re,ct)||re.key;i[_t]=o()}}function Ie(re,Ne){if(i&&s&&o){let ct=Ne.map(Yt=>Zpe(Yt,E.loaderData)),_t=s(re,ct)||re.key,Lt=i[_t];if(typeof Lt=="number")return Lt}return null}return _={get basename(){return n.basename},get state(){return E},get routes(){return e},initialize:ot,subscribe:et,enableScrollRestoration:ce,navigate:$e,fetch:pe,revalidate:te,createHref:re=>n.history.createHref(re),getFetcher:Ce,deleteFetcher:Ot,dispose:lt,_internalFetchControllers:G,_internalActiveDeferreds:Ve},_}var SUe=new Set(["POST","PUT","PATCH","DELETE"]),C7t=new Set(["GET","HEAD",...SUe]);function qpe(n,e,t){t===void 0&&(t=!1);let r=typeof n=="string"?n:ih(n);if(!e||!("formMethod"in e)&&!("formData"in e))return{path:r};if(e.formMethod!=null&&e.formMethod!=="get")return{path:r,submission:{formMethod:e.formMethod,formAction:Ype(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData}};if(!e.formData)return{path:r};let i=$h(r);try{let s=Hpe(e.formData);t&&i.search&&Xpe(i.search)&&s.append("index",""),i.search="?"+s}catch{return{path:r,error:new F_(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:ih(i)}}function mJ(n,e){let{formMethod:t,formAction:r,formEncType:i,formData:s}=n.navigation;return{state:"loading",location:T_(n.location,e.location),formMethod:t||void 0,formAction:r||void 0,formEncType:i||void 0,formData:s||void 0}}function wUe(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function Upe(n,e,t,r,i,s,o,a,l,f){let p=l?Object.values(l)[0]:a?Object.values(a)[0]:null,_=l?Object.keys(l)[0]:void 0,O=wUe(e,_).filter((q,z)=>q.route.loader!=null&&(CUe(n.loaderData,n.matches[z],q)||s.some(L=>L===q.route.id)||zpe(n.location,n.matches[z],t,r,q,i,p))),R=[];return f&&f.forEach((q,z)=>{let[L,B,P]=q;o.includes(z)?R.push([z,L,B,P]):i&&zpe(L,B,t,L,B,i,p)&&R.push([z,L,B,P])}),[O,R]}function CUe(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function $pe(n,e){let t=n.route.path;return n.pathname!==e.pathname||t&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function zpe(n,e,t,r,i,s,o){let a=_T(n),l=e.params,f=_T(r),p=i.params,_=$pe(e,i)||a.toString()===f.toString()||a.search!==f.search||s;if(i.route.shouldRevalidate){let E=i.route.shouldRevalidate(cl({currentUrl:a,currentParams:l,nextUrl:f,nextParams:p},t,{actionResult:o,defaultShouldRevalidate:_}));if(typeof E=="boolean")return E}return _}async function ST(n,e,t,r,i,s,o){s===void 0&&(s=!1),o===void 0&&(o=!1);let a,l,f,p=new Promise((E,O)=>f=O),_=()=>f();e.signal.addEventListener("abort",_);try{let E=t.route[n];No(E,"Could not find the "+n+' to run on the "'+t.route.id+'" route'),l=await Promise.race([E({request:e,params:t.params}),p])}catch(E){a=zf.error,l=E}finally{e.signal.removeEventListener("abort",_)}if(l instanceof Response){let E=l.status;if(E>=300&&E<=399){let q=l.headers.get("Location");No(q,"Redirects returned/thrown from loaders/actions must have a Location header");let z=r.slice(0,r.indexOf(t)+1),L=bT(z).map(G=>G.pathnameBase),B=_T(e.url).pathname,P=NI(q,L,B);if(No(ih(P),"Unable to resolve redirect location: "+l.headers.get("Location")),i){let G=P.pathname;P.pathname=G==="/"?i:om([i,G])}if(q=ih(P),s)throw l.headers.set("Location",q),l;return{type:zf.redirect,status:E,location:q,revalidate:l.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:a||zf.data,response:l};let O,R=l.headers.get("Content-Type");return R&&R.startsWith("application/json")?O=await l.json():O=await l.text(),a===zf.error?{type:a,error:new F_(E,l.statusText,O),headers:l.headers}:{type:zf.data,data:O,statusCode:l.status,headers:l.headers}}return a===zf.error?{type:a,error:l}:l instanceof jpe?{type:zf.deferred,deferredData:l}:{type:zf.data,data:l}}function wT(n,e,t){let r=_T(Ype(n)).toString(),i={signal:e};if(t){let{formMethod:s,formEncType:o,formData:a}=t;i.method=s.toUpperCase(),i.body=o==="application/x-www-form-urlencoded"?Hpe(a):a}return new Request(r,i)}function Hpe(n){let e=new URLSearchParams;for(let[t,r]of n.entries())No(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(t,r);return e}function AUe(n,e,t,r,i){let s={},o=null,a,l=!1,f={};return t.forEach((p,_)=>{let E=e[_].route.id;if(No(!R7(p),"Cannot handle redirect results in processLoaderData"),CT(p)){let O=O7(n,E),R=p.error;r&&(R=Object.values(r)[0],r=void 0),o=Object.assign(o||{},{[O.route.id]:R}),l||(l=!0,a=ET(p.error)?p.error.status:500),p.headers&&(f[E]=p.headers)}else D_(p)?(i&&i.set(E,p.deferredData),s[E]=p.deferredData.data):(s[E]=p.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(f[E]=p.headers))}),r&&(o=r),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:f}}function Vpe(n,e,t,r,i,s,o,a){let{loaderData:l,errors:f}=AUe(e,t,r,i,a);for(let p=0;p<s.length;p++){let[_,,E]=s[p];No(o!==void 0&&o[p]!==void 0,"Did not find corresponding fetcher result");let O=o[p];if(CT(O)){let R=O7(n.matches,E.route.id);f&&f[R.route.id]||(f=cl({},f,{[R.route.id]:O.error})),n.fetchers.delete(_)}else{if(R7(O))throw new Error("Unhandled fetcher revalidation redirect");if(D_(O))throw new Error("Unhandled fetcher deferred data");{let R={state:"idle",data:O.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};n.fetchers.set(_,R)}}}return{loaderData:l,errors:f}}function xJ(n,e,t){let r=cl({},e);return t.forEach(i=>{let s=i.route.id;e[s]===void 0&&n[s]!==void 0&&(r[s]=n[s])}),r}function O7(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function TUe(n,e,t){let r=n.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-"+e+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r,error:new F_(e,t,null)}}function Wpe(n){return TUe(n,404,"Not Found")}function Qpe(n){let e=typeof n=="string"?n:ih(n);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+e+"]")),{type:zf.error,error:new F_(405,"Method Not Allowed","")}}function Gpe(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(R7(t))return t}}function Ype(n){let e=typeof n=="string"?$h(n):n;return ih(cl({},e,{hash:""}))}function FUe(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash!==e.hash}function D_(n){return n.type===zf.deferred}function CT(n){return n.type===zf.error}function R7(n){return(n&&n.type)===zf.redirect}async function Kpe(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o],f=n.find(_=>_.route.id===l.route.id),p=f!=null&&!$pe(f,l)&&(s&&s[l.route.id])!==void 0;D_(a)&&(i||p)&&await Jpe(a,r,i).then(_=>{_&&(t[o]=_||t[o])})}}async function Jpe(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:zf.data,data:n.deferredData.unwrappedData}}catch(i){return{type:zf.error,error:i}}return{type:zf.data,data:n.deferredData.data}}}function Xpe(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Zpe(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function e1e(n,e){let t=typeof e=="string"?$h(e).search:e.search;if(n[n.length-1].route.index&&Xpe(t||""))return n[n.length-1];let r=bT(n);return r[r.length-1]}var Mi=dr(Fr());function LI(){return LI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},LI.apply(this,arguments)}function LUe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var kUe=typeof Object.is=="function"?Object.is:LUe,{useState:IUe,useEffect:MUe,useLayoutEffect:PUe,useDebugValue:BUe}=Mi;function jUe(n,e,t){let r=e(),[{inst:i},s]=IUe({inst:{value:r,getSnapshot:e}});return PUe(()=>{i.value=r,i.getSnapshot=e,gJ(i)&&s({inst:i})},[n,r,e]),MUe(()=>(gJ(i)&&s({inst:i}),n(()=>{gJ(i)&&s({inst:i})})),[n]),BUe(r),r}function gJ(n){let e=n.getSnapshot,t=n.value;try{let r=e();return!kUe(t,r)}catch{return!0}}function qUe(n,e,t){return e()}var UUe=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",$Ue=!UUe,zUe=$Ue?qUe:jUe,HUe="useSyncExternalStore"in Mi?(n=>n.useSyncExternalStore)(Mi):zUe,t1e=Mi.createContext(null),kI=Mi.createContext(null),AT=Mi.createContext(null);var TT=Mi.createContext(null),FT=Mi.createContext(null),H3=Mi.createContext({outlet:null,matches:[]}),n1e=Mi.createContext(null);function yJ(n,e){let{relative:t}=e===void 0?{}:e;N7()||No(!1);let{basename:r,navigator:i}=Mi.useContext(TT),{hash:s,pathname:o,search:a}=II(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:om([r,o])),i.createHref({pathname:l,search:a,hash:s})}function N7(){return Mi.useContext(FT)!=null}function O_(){return N7()||No(!1),Mi.useContext(FT).location}function V3(){N7()||No(!1);let{basename:n,navigator:e}=Mi.useContext(TT),{matches:t}=Mi.useContext(H3),{pathname:r}=O_(),i=JSON.stringify(bT(t).map(a=>a.pathnameBase)),s=Mi.useRef(!1);return Mi.useEffect(()=>{s.current=!0}),Mi.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let f=NI(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(f.pathname=f.pathname==="/"?n:om([n,f.pathname])),(l.replace?e.replace:e.push)(f,l.state,l)},[n,e,i,r])}function vJ(){let{matches:n}=Mi.useContext(H3),e=n[n.length-1];return e?e.params:{}}function II(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=Mi.useContext(H3),{pathname:i}=O_(),s=JSON.stringify(bT(r).map(o=>o.pathnameBase));return Mi.useMemo(()=>NI(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function r1e(n,e){N7()||No(!1);let t=Mi.useContext(AT),{matches:r}=Mi.useContext(H3),i=r[r.length-1],s=i?i.params:{},o=i?i.pathname:"/",a=i?i.pathnameBase:"/",l=i&&i.route,f=O_(),p;if(e){var _;let z=typeof e=="string"?$h(e):e;a==="/"||((_=z.pathname)==null?void 0:_.startsWith(a))||No(!1),p=z}else p=f;let E=p.pathname||"/",O=a==="/"?E:E.slice(a.length)||"/",R=z3(n,{pathname:O}),q=QUe(R&&R.map(z=>Object.assign({},z,{params:Object.assign({},s,z.params),pathname:om([a,z.pathname]),pathnameBase:z.pathnameBase==="/"?a:om([a,z.pathnameBase])})),r,t||void 0);return e&&q?Mi.createElement(FT.Provider,{value:{location:LI({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Rl.Pop}},q):q}function VUe(){let n=o1e(),e=ET(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return Mi.createElement(Mi.Fragment,null,Mi.createElement("h2",null,"Unhandled Thrown Error!"),Mi.createElement("h3",{style:{fontStyle:"italic"}},e),t?Mi.createElement("pre",{style:i},t):null,Mi.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),Mi.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xA0",Mi.createElement("code",{style:s},"errorElement")," props on\xA0",Mi.createElement("code",{style:s},"<Route>")))}var i1e=class extends Mi.Component{constructor(e){super(e);this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Mi.createElement(n1e.Provider,{value:this.state.error,children:this.props.component}):this.props.children}};function WUe(n){let{routeContext:e,match:t,children:r}=n,i=Mi.useContext(t1e);return i&&t.route.errorElement&&(i._deepestRenderedBoundaryId=t.route.id),Mi.createElement(H3.Provider,{value:e},r)}function QUe(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||No(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,f=t?o.route.errorElement||Mi.createElement(VUe,null):null,p=()=>Mi.createElement(WUe,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))}},l?f:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?Mi.createElement(i1e,{location:t.location,component:f,error:l,children:p()}):p()},null)}var s1e;(function(n){n.UseRevalidator="useRevalidator"})(s1e||(s1e={}));var _J;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(_J||(_J={}));function GUe(n){let e=Mi.useContext(AT);return e||No(!1),e}function o1e(){var n;let e=Mi.useContext(n1e),t=GUe(_J.UseRouteError),r=Mi.useContext(H3),i=r.matches[r.matches.length-1];return e||(r||No(!1),i.route.id||No(!1),(n=t.errors)==null?void 0:n[i.route.id])}function bJ(n){let{fallbackElement:e,router:t}=n,r=HUe(t.subscribe,()=>t.state,()=>t.state),i=Mi.useMemo(()=>({createHref:t.createHref,go:o=>t.navigate(o),push:(o,a,l)=>t.navigate(o,{state:a,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,a,l)=>t.navigate(o,{replace:!0,state:a,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[t]),s=t.basename||"/";return Mi.createElement(kI.Provider,{value:{router:t,navigator:i,static:!1,basename:s}},Mi.createElement(AT.Provider,{value:r},Mi.createElement(EJ,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:i},t.state.initialized?Mi.createElement(u1e,null):e)))}function a1e(n){No(!1)}function EJ(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Rl.Pop,navigator:s,static:o=!1}=n;N7()&&No(!1);let a=e.replace(/^\/*/,"/"),l=Mi.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=$h(r));let{pathname:f="/",search:p="",hash:_="",state:E=null,key:O="default"}=r,R=Mi.useMemo(()=>{let q=lJ(f,a);return q==null?null:{pathname:q,search:p,hash:_,state:E,key:O}},[a,f,p,_,E,O]);return R==null?null:Mi.createElement(TT.Provider,{value:l},Mi.createElement(FT.Provider,{children:t,value:{location:R,navigationType:i}}))}function u1e(n){let{children:e,location:t}=n,r=Mi.useContext(kI),i=r&&!e?r.router.routes:DT(e);return r1e(i,t)}var l1e;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(l1e||(l1e={}));var O7t=new Promise(()=>{});function DT(n,e){e===void 0&&(e=[]);let t=[];return Mi.Children.forEach(n,(r,i)=>{if(!Mi.isValidElement(r))return;if(r.type===Mi.Fragment){t.push.apply(t,DT(r.props.children,e));return}r.type!==a1e&&No(!1),!r.props.index||!r.props.children||No(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=DT(r.props.children,s)),t.push(o)}),t}function MI(n){return n.map(e=>{let t=LI({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=MI(t.children)),t})}function SJ(){return SJ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SJ.apply(this,arguments)}function JUe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function XUe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZUe(n,e){return n.button===0&&(!e||e==="_self")&&!XUe(n)}function wJ(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function e$e(n,e){let t=wJ(n);for(let r of e.keys())t.has(r)||e.getAll(r).forEach(i=>{t.append(r,i)});return t}var t$e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function c1e(n,e){var t;return pJ({basename:e==null?void 0:e.basename,history:kpe({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||((t=window)==null?void 0:t.__staticRouterHydrationData),routes:MI(n)}).initialize()}var f1e=dd.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:f,preventScrollReset:p}=e,_=JUe(e,t$e),E=yJ(f,{relative:i}),O=n$e(f,{replace:o,state:a,target:l,preventScrollReset:p,relative:i});function R(q){r&&r(q),q.defaultPrevented||O(q)}return dd.createElement("a",SJ({},_,{href:E,onClick:s?r:R,ref:t,target:l}))});var d1e;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(d1e||(d1e={}));var h1e;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(h1e||(h1e={}));function n$e(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=V3(),l=O_(),f=II(n,{relative:o});return dd.useCallback(p=>{if(ZUe(p,t)){p.preventDefault();let _=r!==void 0?r:ih(l)===ih(f);a(n,{replace:_,state:i,preventScrollReset:s,relative:o})}},[l,a,f,r,i,t,n,s,o])}function p1e(n){let e=dd.useRef(wJ(n)),t=O_(),r=dd.useMemo(()=>e$e(t.search,e.current),[t.search]),i=V3(),s=dd.useCallback((o,a)=>{let l=wJ(typeof o=="function"?o(r):o);i("?"+l,a)},[i,r]);return[r,s]}m();m();m();var hN=dr(Fr());m();var rM=dr(y1e()),qu=dr(Fr()),q1e=dr(_1e());m();function s$e(n){function e(pe,Je,ut,Ht,Ct){for(var xn=0,Tt=0,Ot=0,rn=0,St,_e,ke=0,Se=0,ce,tt=ce=St=0,Ie=0,re=0,Ne=0,ct=0,_t=ut.length,Lt=_t-1,Yt,Gt="",fn="",gn="",yn="",It;Ie<_t;){if(_e=ut.charCodeAt(Ie),Ie===Lt&&Tt+rn+Ot+xn!==0&&(Tt!==0&&(_e=Tt===47?10:47),rn=Ot=xn=0,_t++,Lt++),Tt+rn+Ot+xn===0){if(Ie===Lt&&(0<re&&(Gt=Gt.replace(E,"")),0<Gt.trim().length)){switch(_e){case 32:case 9:case 59:case 13:case 10:break;default:Gt+=ut.charAt(Ie)}_e=59}switch(_e){case 123:for(Gt=Gt.trim(),St=Gt.charCodeAt(0),ce=1,ct=++Ie;Ie<_t;){switch(_e=ut.charCodeAt(Ie)){case 123:ce++;break;case 125:ce--;break;case 47:switch(_e=ut.charCodeAt(Ie+1)){case 42:case 47:e:{for(tt=Ie+1;tt<Lt;++tt)switch(ut.charCodeAt(tt)){case 47:if(_e===42&&ut.charCodeAt(tt-1)===42&&Ie+2!==tt){Ie=tt+1;break e}break;case 10:if(_e===47){Ie=tt+1;break e}}Ie=tt}}break;case 91:_e++;case 40:_e++;case 34:case 39:for(;Ie++<Lt&&ut.charCodeAt(Ie)!==_e;);}if(ce===0)break;Ie++}switch(ce=ut.substring(ct,Ie),St===0&&(St=(Gt=Gt.replace(_,"").trim()).charCodeAt(0)),St){case 64:switch(0<re&&(Gt=Gt.replace(E,"")),_e=Gt.charCodeAt(1),_e){case 100:case 109:case 115:case 45:re=Je;break;default:re=$e}if(ce=e(Je,re,ce,_e,Ct+1),ct=ce.length,0<Ze&&(re=t($e,Gt,Ne),It=a(3,ce,re,Je,et,lt,ct,_e,Ct,Ht),Gt=re.join(""),It!==void 0&&(ct=(ce=It.trim()).length)===0&&(_e=0,ce="")),0<ct)switch(_e){case 115:Gt=Gt.replace(I,o);case 100:case 109:case 45:ce=Gt+"{"+ce+"}";break;case 107:Gt=Gt.replace(B,"$1 $2"),ce=Gt+"{"+ce+"}",ce=Pt===1||Pt===2&&s("@"+ce,3)?"@-webkit-"+ce+"@"+ce:"@"+ce;break;default:ce=Gt+ce,Ht===112&&(ce=(fn+=ce,""))}else ce="";break;default:ce=e(Je,t(Je,Gt,Ne),ce,Ht,Ct+1)}gn+=ce,ce=Ne=re=tt=St=0,Gt="",_e=ut.charCodeAt(++Ie);break;case 125:case 59:if(Gt=(0<re?Gt.replace(E,""):Gt).trim(),1<(ct=Gt.length))switch(tt===0&&(St=Gt.charCodeAt(0),St===45||96<St&&123>St)&&(ct=(Gt=Gt.replace(" ",":")).length),0<Ze&&(It=a(1,Gt,Je,pe,et,lt,fn.length,Ht,Ct,Ht))!==void 0&&(ct=(Gt=It.trim()).length)===0&&(Gt="\0\0"),St=Gt.charCodeAt(0),_e=Gt.charCodeAt(1),St){case 0:break;case 64:if(_e===105||_e===99){yn+=Gt+ut.charAt(Ie);break}default:Gt.charCodeAt(ct-1)!==58&&(fn+=i(Gt,St,_e,Gt.charCodeAt(2)))}Ne=re=tt=St=0,Gt="",_e=ut.charCodeAt(++Ie)}}switch(_e){case 13:case 10:Tt===47?Tt=0:1+St===0&&Ht!==107&&0<Gt.length&&(re=1,Gt+="\0"),0<Ze*Le&&a(0,Gt,Je,pe,et,lt,fn.length,Ht,Ct,Ht),lt=1,et++;break;case 59:case 125:if(Tt+rn+Ot+xn===0){lt++;break}default:switch(lt++,Yt=ut.charAt(Ie),_e){case 9:case 32:if(rn+xn+Tt===0)switch(ke){case 44:case 58:case 9:case 32:Yt="";break;default:_e!==32&&(Yt=" ")}break;case 0:Yt="\\0";break;case 12:Yt="\\f";break;case 11:Yt="\\v";break;case 38:rn+Tt+xn===0&&(re=Ne=1,Yt="\f"+Yt);break;case 108:if(rn+Tt+xn+bt===0&&0<tt)switch(Ie-tt){case 2:ke===112&&ut.charCodeAt(Ie-3)===58&&(bt=ke);case 8:Se===111&&(bt=Se)}break;case 58:rn+Tt+xn===0&&(tt=Ie);break;case 44:Tt+Ot+rn+xn===0&&(re=1,Yt+="\r");break;case 34:case 39:Tt===0&&(rn=rn===_e?0:rn===0?_e:rn);break;case 91:rn+Tt+Ot===0&&xn++;break;case 93:rn+Tt+Ot===0&&xn--;break;case 41:rn+Tt+xn===0&&Ot--;break;case 40:if(rn+Tt+xn===0){if(St===0)switch(2*ke+3*Se){case 533:break;default:St=1}Ot++}break;case 64:Tt+Ot+rn+xn+tt+ce===0&&(ce=1);break;case 42:case 47:if(!(0<rn+xn+Ot))switch(Tt){case 0:switch(2*_e+3*ut.charCodeAt(Ie+1)){case 235:Tt=47;break;case 220:ct=Ie,Tt=42}break;case 42:_e===47&&ke===42&&ct+2!==Ie&&(ut.charCodeAt(ct+2)===33&&(fn+=ut.substring(ct,Ie+1)),Yt="",Tt=0)}}Tt===0&&(Gt+=Yt)}Se=ke,ke=_e,Ie++}if(ct=fn.length,0<ct){if(re=Je,0<Ze&&(It=a(2,fn,re,pe,et,lt,ct,Ht,Ct,Ht),It!==void 0&&(fn=It).length===0))return yn+fn+gn;if(fn=re.join(",")+"{"+fn+"}",Pt*bt!==0){switch(Pt!==2||s(fn,2)||(bt=0),bt){case 111:fn=fn.replace(G,":-moz-$1")+fn;break;case 112:fn=fn.replace(P,"::-webkit-input-$1")+fn.replace(P,"::-moz-$1")+fn.replace(P,":-ms-input-$1")+fn}bt=0}}return yn+fn+gn}function t(pe,Je,ut){var Ht=Je.trim().split(z);Je=Ht;var Ct=Ht.length,xn=pe.length;switch(xn){case 0:case 1:var Tt=0;for(pe=xn===0?"":pe[0]+" ";Tt<Ct;++Tt)Je[Tt]=r(pe,Je[Tt],ut).trim();break;default:var Ot=Tt=0;for(Je=[];Tt<Ct;++Tt)for(var rn=0;rn<xn;++rn)Je[Ot++]=r(pe[rn]+" ",Ht[Tt],ut).trim()}return Je}function r(pe,Je,ut){var Ht=Je.charCodeAt(0);switch(33>Ht&&(Ht=(Je=Je.trim()).charCodeAt(0)),Ht){case 38:return Je.replace(L,"$1"+pe.trim());case 58:return pe.trim()+Je.replace(L,"$1"+pe.trim());default:if(0<1*ut&&0<Je.indexOf("\f"))return Je.replace(L,(pe.charCodeAt(0)===58?"":"$1")+pe.trim())}return pe+Je}function i(pe,Je,ut,Ht){var Ct=pe+";",xn=2*Je+3*ut+4*Ht;if(xn===944){pe=Ct.indexOf(":",9)+1;var Tt=Ct.substring(pe,Ct.length-1).trim();return Tt=Ct.substring(0,pe).trim()+Tt+";",Pt===1||Pt===2&&s(Tt,1)?"-webkit-"+Tt+Tt:Tt}if(Pt===0||Pt===2&&!s(Ct,1))return Ct;switch(xn){case 1015:return Ct.charCodeAt(10)===97?"-webkit-"+Ct+Ct:Ct;case 951:return Ct.charCodeAt(3)===116?"-webkit-"+Ct+Ct:Ct;case 963:return Ct.charCodeAt(5)===110?"-webkit-"+Ct+Ct:Ct;case 1009:if(Ct.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Ct+Ct;case 978:return"-webkit-"+Ct+"-moz-"+Ct+Ct;case 1019:case 983:return"-webkit-"+Ct+"-moz-"+Ct+"-ms-"+Ct+Ct;case 883:if(Ct.charCodeAt(8)===45)return"-webkit-"+Ct+Ct;if(0<Ct.indexOf("image-set(",11))return Ct.replace(ot,"$1-webkit-$2")+Ct;break;case 932:if(Ct.charCodeAt(4)===45)switch(Ct.charCodeAt(5)){case 103:return"-webkit-box-"+Ct.replace("-grow","")+"-webkit-"+Ct+"-ms-"+Ct.replace("grow","positive")+Ct;case 115:return"-webkit-"+Ct+"-ms-"+Ct.replace("shrink","negative")+Ct;case 98:return"-webkit-"+Ct+"-ms-"+Ct.replace("basis","preferred-size")+Ct}return"-webkit-"+Ct+"-ms-"+Ct+Ct;case 964:return"-webkit-"+Ct+"-ms-flex-"+Ct+Ct;case 1023:if(Ct.charCodeAt(8)!==99)break;return Tt=Ct.substring(Ct.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Tt+"-webkit-"+Ct+"-ms-flex-pack"+Tt+Ct;case 1005:return R.test(Ct)?Ct.replace(O,":-webkit-")+Ct.replace(O,":-moz-")+Ct:Ct;case 1e3:switch(Tt=Ct.substring(13).trim(),Je=Tt.indexOf("-")+1,Tt.charCodeAt(0)+Tt.charCodeAt(Je)){case 226:Tt=Ct.replace(ue,"tb");break;case 232:Tt=Ct.replace(ue,"tb-rl");break;case 220:Tt=Ct.replace(ue,"lr");break;default:return Ct}return"-webkit-"+Ct+"-ms-"+Tt+Ct;case 1017:if(Ct.indexOf("sticky",9)===-1)break;case 975:switch(Je=(Ct=pe).length-10,Tt=(Ct.charCodeAt(Je)===33?Ct.substring(0,Je):Ct).substring(pe.indexOf(":",7)+1).trim(),xn=Tt.charCodeAt(0)+(Tt.charCodeAt(7)|0)){case 203:if(111>Tt.charCodeAt(8))break;case 115:Ct=Ct.replace(Tt,"-webkit-"+Tt)+";"+Ct;break;case 207:case 102:Ct=Ct.replace(Tt,"-webkit-"+(102<xn?"inline-":"")+"box")+";"+Ct.replace(Tt,"-webkit-"+Tt)+";"+Ct.replace(Tt,"-ms-"+Tt+"box")+";"+Ct}return Ct+";";case 938:if(Ct.charCodeAt(5)===45)switch(Ct.charCodeAt(6)){case 105:return Tt=Ct.replace("-items",""),"-webkit-"+Ct+"-webkit-box-"+Tt+"-ms-flex-"+Tt+Ct;case 115:return"-webkit-"+Ct+"-ms-flex-item-"+Ct.replace(he,"")+Ct;default:return"-webkit-"+Ct+"-ms-flex-line-pack"+Ct.replace("align-content","").replace(he,"")+Ct}break;case 973:case 989:if(Ct.charCodeAt(3)!==45||Ct.charCodeAt(4)===122)break;case 931:case 953:if(Ve.test(pe)===!0)return(Tt=pe.substring(pe.indexOf(":")+1)).charCodeAt(0)===115?i(pe.replace("stretch","fill-available"),Je,ut,Ht).replace(":fill-available",":stretch"):Ct.replace(Tt,"-webkit-"+Tt)+Ct.replace(Tt,"-moz-"+Tt.replace("fill-",""))+Ct;break;case 962:if(Ct="-webkit-"+Ct+(Ct.charCodeAt(5)===102?"-ms-"+Ct:"")+Ct,ut+Ht===211&&Ct.charCodeAt(13)===105&&0<Ct.indexOf("transform",10))return Ct.substring(0,Ct.indexOf(";",27)+1).replace(q,"$1-webkit-$2")+Ct}return Ct}function s(pe,Je){var ut=pe.indexOf(Je===1?":":"{"),Ht=pe.substring(0,Je!==3?ut:10);return ut=pe.substring(ut+1,pe.length-1),ye(Je!==2?Ht:Ht.replace(ve,"$1"),ut,Je)}function o(pe,Je){var ut=i(Je,Je.charCodeAt(0),Je.charCodeAt(1),Je.charCodeAt(2));return ut!==Je+";"?ut.replace(J," or ($1)").substring(4):"("+Je+")"}function a(pe,Je,ut,Ht,Ct,xn,Tt,Ot,rn,St){for(var _e=0,ke=Je,Se;_e<Ze;++_e)switch(Se=te[_e].call(p,pe,ke,ut,Ht,Ct,xn,Tt,Ot,rn,St)){case void 0:case!1:case!0:case null:break;default:ke=Se}if(ke!==Je)return ke}function l(pe){switch(pe){case void 0:case null:Ze=te.length=0;break;default:if(typeof pe=="function")te[Ze++]=pe;else if(typeof pe=="object")for(var Je=0,ut=pe.length;Je<ut;++Je)l(pe[Je]);else Le=!!pe|0}return l}function f(pe){return pe=pe.prefix,pe!==void 0&&(ye=null,pe?typeof pe!="function"?Pt=1:(Pt=2,ye=pe):Pt=0),f}function p(pe,Je){var ut=pe;if(33>ut.charCodeAt(0)&&(ut=ut.trim()),Ce=ut,ut=[Ce],0<Ze){var Ht=a(-1,Je,ut,ut,et,lt,0,0,0,0);Ht!==void 0&&typeof Ht=="string"&&(Je=Ht)}var Ct=e($e,ut,Je,0,0);return 0<Ze&&(Ht=a(-2,Ct,ut,ut,et,lt,Ct.length,0,0,0),Ht!==void 0&&(Ct=Ht)),Ce="",bt=0,lt=et=1,Ct}var _=/^\0+/g,E=/[\0\r\f]/g,O=/: */g,R=/zoo|gra/,q=/([,: ])(transform)/g,z=/,\r+?/g,L=/([\t\r\n ])*\f?&/g,B=/@(k\w+)\s*(\S*)\s*/,P=/::(place)/g,G=/:(read-only)/g,ue=/[svh]\w+-[tblr]{2}/,I=/\(\s*(.*)\s*\)/g,J=/([\s\S]*?);/g,he=/-self|flex-/g,ve=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Ve=/stretch|:\s*\w+\-(?:conte|avail)/,ot=/([^-])(image-set\()/,lt=1,et=1,bt=0,Pt=1,$e=[],te=[],Ze=0,ye=null,Le=0,Ce="";return p.use=l,p.set=f,n!==void 0&&f(n),p}var b1e=s$e;m();var o$e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},E1e=o$e;var kJ=dr(F1e()),U1e=dr(j1e());function y2(){return(y2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var $1e=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},IJ=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!(0,rM.typeOf)(n)},iM=Object.freeze([]),W3=Object.freeze({});function OT(n){return typeof n=="function"}function z1e(n){return n.displayName||n.name||"Component"}function MJ(n){return n&&typeof n.styledComponentId=="string"}var Q3=typeof process!="undefined"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled";var PJ=typeof window!="undefined"&&"HTMLElement"in window,C$e=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1);function yg(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var A$e=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&yg(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),f=0,p=r.length;f<p;f++)this.tag.insertRule(l,r[f])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),sM=new Map,oM=new Map,RT=1,aM=function(n){if(sM.has(n))return sM.get(n);for(;oM.has(RT);)RT++;var e=RT++;return sM.set(n,e),oM.set(e,n),e},T$e=function(n){return oM.get(n)},F$e=function(n,e){e>=RT&&(RT=e+1),sM.set(n,e),oM.set(e,n)},D$e="style["+Q3+'][data-styled-version="5.3.6"]',O$e=new RegExp("^"+Q3+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),R$e=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},N$e=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(O$e);if(a){var l=0|parseInt(a[1],10),f=a[2];l!==0&&(F$e(f,l),R$e(n,f,a[3]),n.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},BJ=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:null},H1e=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,f=l.length;f>=0;f--){var p=l[f];if(p&&p.nodeType===1&&p.hasAttribute(Q3))return p}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(Q3,"active"),r.setAttribute("data-styled-version","5.3.6");var o=BJ();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},L$e=function(){function n(t){var r=this.element=H1e(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}yg(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),k$e=function(){function n(t){var r=this.element=H1e(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),I$e=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),V1e=PJ,M$e={isServer:!PJ,useCSSOMInjection:!C$e},NT=function(){function n(t,r,i){t===void 0&&(t=W3),r===void 0&&(r={}),this.options=y2({},M$e,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&PJ&&V1e&&(V1e=!1,function(s){for(var o=document.querySelectorAll(D$e),a=0,l=o.length;a<l;a++){var f=o[a];f&&f.getAttribute(Q3)!=="active"&&(N$e(s,f),f.parentNode&&f.parentNode.removeChild(f))}}(this))}n.registerId=function(t){return aM(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(y2({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new I$e(o):s?new L$e(o):new k$e(o),new A$e(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(aM(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(aM(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(aM(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=T$e(o);if(a!==void 0){var l=t.names.get(a),f=r.getGroup(o);if(l&&f&&l.size){var p=Q3+".g"+o+'[id="'+a+'"]',_="";l!==void 0&&l.forEach(function(E){E.length>0&&(_+=E+",")}),s+=""+f+p+'{content:"'+_+`"}/*!sc*/
`}}}return s}(this)},n}(),P$e=/(a)(d)/gi,W1e=function(n){return String.fromCharCode(n+(n>25?39:97))};function jJ(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=W1e(e%52)+t;return(W1e(e%52)+t).replace(P$e,"$1-$2")}var L7=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},Q1e=function(n){return L7(5381,n)};function G1e(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(OT(t)&&!MJ(t))return!1}return!0}var B$e=Q1e("5.3.6"),j$e=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&G1e(e),this.componentId=t,this.baseHash=L7(B$e,t),this.baseStyle=r,NT.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=R_(this.rules,e,t,r).join(""),a=jJ(L7(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);t.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var f=this.rules.length,p=L7(this.baseHash,r.hash),_="",E=0;E<f;E++){var O=this.rules[E];if(typeof O=="string")_+=O;else if(O){var R=R_(O,e,t,r),q=Array.isArray(R)?R.join(""):R;p=L7(p,q+E),_+=q}}if(_){var z=jJ(p>>>0);if(!t.hasNameForId(i,z)){var L=r(_,"."+z,void 0,i);t.insertRules(i,z,L)}s.push(z)}}return s.join(" ")},n}(),q$e=/^\s*\/\/.*$/gm,U$e=[":","[",".","#"];function Y1e(n){var e,t,r,i,s=n===void 0?W3:n,o=s.options,a=o===void 0?W3:o,l=s.plugins,f=l===void 0?iM:l,p=new b1e(a),_=[],E=function(q){function z(L){if(L)try{q(L+"}")}catch{}}return function(L,B,P,G,ue,I,J,he,ve,Ve){switch(L){case 1:if(ve===0&&B.charCodeAt(0)===64)return q(B+";"),"";break;case 2:if(he===0)return B+"/*|*/";break;case 3:switch(he){case 102:case 112:return q(P[0]+B),"";default:return B+(Ve===0?"/*|*/":"")}case-2:B.split("/*|*/}").forEach(z)}}}(function(q){_.push(q)}),O=function(q,z,L){return z===0&&U$e.indexOf(L[t.length])!==-1||L.match(i)?q:"."+e};function R(q,z,L,B){B===void 0&&(B="&");var P=q.replace(q$e,""),G=z&&L?L+" "+z+" { "+P+" }":P;return e=B,t=z,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),p(L||!z?"":z,G)}return p.use([].concat(f,[function(q,z,L){q===2&&L.length&&L[0].lastIndexOf(t)>0&&(L[0]=L[0].replace(r,O))},E,function(q){if(q===-2){var z=_;return _=[],z}}])),R.hash=f.length?f.reduce(function(q,z){return z.name||yg(15),L7(q,z.name)},5381).toString():"",R}var qJ=qu.default.createContext(),x8t=qJ.Consumer,UJ=qu.default.createContext(),$$e=(UJ.Consumer,new NT),$J=Y1e();function K1e(){return(0,qu.useContext)(qJ)||$$e}function z$e(){return(0,qu.useContext)(UJ)||$J}function H$e(n){var e=(0,qu.useState)(n.stylisPlugins),t=e[0],r=e[1],i=K1e(),s=(0,qu.useMemo)(function(){var a=i;return n.sheet?a=n.sheet:n.target&&(a=a.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(a=a.reconstructWithOptions({useCSSOMInjection:!1})),a},[n.disableCSSOMInjection,n.sheet,n.target]),o=(0,qu.useMemo)(function(){return Y1e({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return(0,qu.useEffect)(function(){(0,q1e.default)(t,n.stylisPlugins)||r(n.stylisPlugins)},[n.stylisPlugins]),qu.default.createElement(qJ.Provider,{value:s},qu.default.createElement(UJ.Provider,{value:o},n.children))}var J1e=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=$J);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return yg(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=$J),this.name+e.hash},n}(),V$e=/([A-Z])/,W$e=/([A-Z])/g,Q$e=/^ms-/,G$e=function(n){return"-"+n.toLowerCase()};function X1e(n){return V$e.test(n)?n.replace(W$e,G$e).replace(Q$e,"-ms-"):n}var Z1e=function(n){return n==null||n===!1||n===""};function R_(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=R_(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(Z1e(n))return"";if(MJ(n))return"."+n.styledComponentId;if(OT(n)){if(typeof(f=n)!="function"||f.prototype&&f.prototype.isReactComponent||!e)return n;var l=n(e);return R_(l,e,t,r)}var f;return n instanceof J1e?t?(n.inject(t,r),n.getName(r)):n:IJ(n)?function p(_,E){var O,R,q=[];for(var z in _)_.hasOwnProperty(z)&&!Z1e(_[z])&&(Array.isArray(_[z])&&_[z].isCss||OT(_[z])?q.push(X1e(z)+":",_[z],";"):IJ(_[z])?q.push.apply(q,p(_[z],z)):q.push(X1e(z)+": "+(O=z,(R=_[z])==null||typeof R=="boolean"||R===""?"":typeof R!="number"||R===0||O in E1e?String(R).trim():R+"px")+";"));return E?[E+" {"].concat(q,["}"]):q}(n):n.toString()}var eme=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function tme(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return OT(n)||IJ(n)?eme(R_($1e(iM,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:eme(R_($1e(n,t)))}var Y$e=function(n,e,t){return t===void 0&&(t=W3),n.theme!==t.theme&&n.theme||e||t.theme},K$e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,J$e=/(^-|-$)/g;function zJ(n){return n.replace(K$e,"-").replace(J$e,"")}var nme=function(n){return jJ(Q1e(n)>>>0)};function uM(n){return typeof n=="string"&&!0}var HJ=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},X$e=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function Z$e(n,e,t){var r=n[t];HJ(e)&&HJ(r)?rme(r,e):n[t]=e}function rme(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(HJ(o))for(var a in o)X$e(a)&&Z$e(n,o[a],a)}return n}var ime=qu.default.createContext(),g8t=ime.Consumer;var VJ={};function sme(n,e,t){var r=MJ(n),i=!uM(n),s=e.attrs,o=s===void 0?iM:s,a=e.componentId,l=a===void 0?function(B,P){var G=typeof B!="string"?"sc":zJ(B);VJ[G]=(VJ[G]||0)+1;var ue=G+"-"+nme("5.3.6"+G+VJ[G]);return P?P+"-"+ue:ue}(e.displayName,e.parentComponentId):a,f=e.displayName,p=f===void 0?function(B){return uM(B)?"styled."+B:"Styled("+z1e(B)+")"}(n):f,_=e.displayName&&e.componentId?zJ(e.displayName)+"-"+e.componentId:e.componentId||l,E=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,O=e.shouldForwardProp;r&&n.shouldForwardProp&&(O=e.shouldForwardProp?function(B,P,G){return n.shouldForwardProp(B,P,G)&&e.shouldForwardProp(B,P,G)}:n.shouldForwardProp);var R,q=new j$e(t,_,r?n.componentStyle:void 0),z=q.isStatic&&o.length===0,L=function(B,P){return function(G,ue,I,J){var he=G.attrs,ve=G.componentStyle,Ve=G.defaultProps,ot=G.foldedComponentIds,lt=G.shouldForwardProp,et=G.styledComponentId,bt=G.target,Pt=function(Ht,Ct,xn){Ht===void 0&&(Ht=W3);var Tt=y2({},Ct,{theme:Ht}),Ot={};return xn.forEach(function(rn){var St,_e,ke,Se=rn;for(St in OT(Se)&&(Se=Se(Tt)),Se)Tt[St]=Ot[St]=St==="className"?(_e=Ot[St],ke=Se[St],_e&&ke?_e+" "+ke:_e||ke):Se[St]}),[Tt,Ot]}(Y$e(ue,(0,qu.useContext)(ime),Ve)||W3,ue,he),$e=Pt[0],te=Pt[1],Ze=function(Ht,Ct,xn,Tt){var Ot=K1e(),rn=z$e(),St=Ct?Ht.generateAndInjectStyles(W3,Ot,rn):Ht.generateAndInjectStyles(xn,Ot,rn);return St}(ve,J,$e,void 0),ye=I,Le=te.$as||ue.$as||te.as||ue.as||bt,Ce=uM(Le),pe=te!==ue?y2({},ue,{},te):ue,Je={};for(var ut in pe)ut[0]!=="$"&&ut!=="as"&&(ut==="forwardedAs"?Je.as=pe[ut]:(lt?lt(ut,kJ.default,Le):!Ce||(0,kJ.default)(ut))&&(Je[ut]=pe[ut]));return ue.style&&te.style!==ue.style&&(Je.style=y2({},ue.style,{},te.style)),Je.className=Array.prototype.concat(ot,et,Ze!==et?Ze:null,ue.className,te.className).filter(Boolean).join(" "),Je.ref=ye,(0,qu.createElement)(Le,Je)}(R,B,P,z)};return L.displayName=p,(R=qu.default.forwardRef(L)).attrs=E,R.componentStyle=q,R.displayName=p,R.shouldForwardProp=O,R.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):iM,R.styledComponentId=_,R.target=r?n.target:n,R.withComponent=function(B){var P=e.componentId,G=function(I,J){if(I==null)return{};var he,ve,Ve={},ot=Object.keys(I);for(ve=0;ve<ot.length;ve++)he=ot[ve],J.indexOf(he)>=0||(Ve[he]=I[he]);return Ve}(e,["componentId"]),ue=P&&P+"-"+(uM(B)?B:zJ(z1e(B)));return sme(B,y2({},G,{attrs:E,componentId:ue}),t)},Object.defineProperty(R,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(B){this._foldedDefaultProps=r?rme({},n.defaultProps,B):B}}),R.toString=function(){return"."+R.styledComponentId},i&&(0,U1e.default)(R,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),R}var WJ=function(n){return function e(t,r,i){if(i===void 0&&(i=W3),!(0,rM.isValidElementType)(r))return yg(1,String(r));var s=function(){return t(r,i,tme.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,y2({},i,{},o))},s.attrs=function(o){return e(t,r,y2({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(sme,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){WJ[n]=WJ(n)});var y8t=function(){function n(t,r){this.rules=t,this.componentId=r,this.isStatic=G1e(t),NT.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,r,i,s){var o=s(R_(this.rules,r,i,s).join(""),""),a=this.componentId+t;i.insertRules(a,a,o)},e.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.renderStyles=function(t,r,i,s){t>2&&NT.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,r,i,s)},n}();function ome(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=tme.apply(void 0,[n].concat(t)).join(""),s=nme(i);return new J1e(s,i)}var v8t=function(){function n(){var t=this;this._emitSheetCSS=function(){var r=t.instance.toString();if(!r)return"";var i=BJ();return"<style "+[i&&'nonce="'+i+'"',Q3+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return t.sealed?yg(2):t._emitSheetCSS()},this.getStyleElement=function(){var r;if(t.sealed)return yg(2);var i=((r={})[Q3]="",r["data-styled-version"]="5.3.6",r.dangerouslySetInnerHTML={__html:t.instance.toString()},r),s=BJ();return s&&(i.nonce=s),[qu.default.createElement("style",y2({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new NT({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?yg(2):qu.default.createElement(H$e,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return yg(3)},n}();var jn=WJ;m();m();m();var G3=dr(ame()),lM=dr(ume());var JJ=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"text.html.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["css","javascript","less","sass","scss","stylus","typescript","tsx"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample"},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample"},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json"},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"jupyter",scopeName:"source.jupyter",path:"jupyter.tmLanguage.json",embeddedLangs:["json"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","html","java","javascript","typescript","lua","python","julia","ruby","xml","yaml","cpp","haskell","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",samplePath:"marko.sample",embeddedLangs:["css","less","scss","javascript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"],embeddedLangs:["ruby","python","applescript","html","markdown"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["json","markdown","pug","haml","vue-html","sass","scss","less","stylus","postcss","css","typescript","coffee","javascript"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["\u6587\u8A00"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}],k7;(function(n){n[n.NotSet=-1]="NotSet",n[n.None=0]="None",n[n.Italic=1]="Italic",n[n.Bold=2]="Bold",n[n.Underline=4]="Underline"})(k7||(k7={}));var sh=class{static toBinaryStr(e){let t=e.toString(2);for(;t.length<32;)t="0"+t;return t}static printMetadata(e){let t=sh.getLanguageId(e),r=sh.getTokenType(e),i=sh.getFontStyle(e),s=sh.getForeground(e),o=sh.getBackground(e);console.log({languageId:t,tokenType:r,fontStyle:i,foreground:s,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&1792)>>>8}static getFontStyle(e){return(e&14336)>>>11}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static set(e,t,r,i,s,o){let a=sh.getLanguageId(e),l=sh.getTokenType(e),f=sh.getFontStyle(e),p=sh.getForeground(e),_=sh.getBackground(e);return t!==0&&(a=t),r!==0&&(l=r===8?0:r),i!==k7.NotSet&&(f=i),s!==0&&(p=s),o!==0&&(_=o),(a<<0|l<<8|f<<11|p<<14|_<<23)>>>0}};function eze(n){return n.endsWith("/")||n.endsWith("\\")?n.slice(0,-1):n}function tze(n){return n.startsWith("./")?n.slice(2):n}function nze(n){let e=n.split(/[\/\\]/g);return e[e.length-2]}function rze(...n){return n.map(eze).map(tze).join("/")}function ize(n,e){let t=new Map;for(let r of n){let i=e(r);t.has(i)?t.get(i).push(r):t.set(i,[r])}return t}function sze(n,e){e===void 0&&(e=!1);var t=n.length,r=0,i="",s=0,o=16,a=0,l=0,f=0,p=0,_=0;function E(P,G){for(var ue=0,I=0;ue<P||!G;){var J=n.charCodeAt(r);if(J>=48&&J<=57)I=I*16+J-48;else if(J>=65&&J<=70)I=I*16+J-65+10;else if(J>=97&&J<=102)I=I*16+J-97+10;else break;r++,ue++}return ue<P&&(I=-1),I}function O(P){r=P,i="",s=0,o=16,_=0}function R(){var P=r;if(n.charCodeAt(r)===48)r++;else for(r++;r<n.length&&I7(n.charCodeAt(r));)r++;if(r<n.length&&n.charCodeAt(r)===46)if(r++,r<n.length&&I7(n.charCodeAt(r)))for(r++;r<n.length&&I7(n.charCodeAt(r));)r++;else return _=3,n.substring(P,r);var G=r;if(r<n.length&&(n.charCodeAt(r)===69||n.charCodeAt(r)===101))if(r++,(r<n.length&&n.charCodeAt(r)===43||n.charCodeAt(r)===45)&&r++,r<n.length&&I7(n.charCodeAt(r))){for(r++;r<n.length&&I7(n.charCodeAt(r));)r++;G=r}else _=3;return n.substring(P,G)}function q(){for(var P="",G=r;;){if(r>=t){P+=n.substring(G,r),_=2;break}var ue=n.charCodeAt(r);if(ue===34){P+=n.substring(G,r),r++;break}if(ue===92){if(P+=n.substring(G,r),r++,r>=t){_=2;break}var I=n.charCodeAt(r++);switch(I){case 34:P+='"';break;case 92:P+="\\";break;case 47:P+="/";break;case 98:P+="\b";break;case 102:P+="\f";break;case 110:P+=`
`;break;case 114:P+="\r";break;case 116:P+="	";break;case 117:var J=E(4,!0);J>=0?P+=String.fromCharCode(J):_=4;break;default:_=5}G=r;continue}if(ue>=0&&ue<=31)if(IT(ue)){P+=n.substring(G,r),_=2;break}else _=6;r++}return P}function z(){if(i="",_=0,s=r,l=a,p=f,r>=t)return s=t,o=17;var P=n.charCodeAt(r);if(XJ(P)){do r++,i+=String.fromCharCode(P),P=n.charCodeAt(r);while(XJ(P));return o=15}if(IT(P))return r++,i+=String.fromCharCode(P),P===13&&n.charCodeAt(r)===10&&(r++,i+=`
`),a++,f=r,o=14;switch(P){case 123:return r++,o=1;case 125:return r++,o=2;case 91:return r++,o=3;case 93:return r++,o=4;case 58:return r++,o=6;case 44:return r++,o=5;case 34:return r++,i=q(),o=10;case 47:var G=r-1;if(n.charCodeAt(r+1)===47){for(r+=2;r<t&&!IT(n.charCodeAt(r));)r++;return i=n.substring(G,r),o=12}if(n.charCodeAt(r+1)===42){r+=2;for(var ue=t-1,I=!1;r<ue;){var J=n.charCodeAt(r);if(J===42&&n.charCodeAt(r+1)===47){r+=2,I=!0;break}r++,IT(J)&&(J===13&&n.charCodeAt(r)===10&&r++,a++,f=r)}return I||(r++,_=1),i=n.substring(G,r),o=13}return i+=String.fromCharCode(P),r++,o=16;case 45:if(i+=String.fromCharCode(P),r++,r===t||!I7(n.charCodeAt(r)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=R(),o=11;default:for(;r<t&&L(P);)r++,P=n.charCodeAt(r);if(s!==r){switch(i=n.substring(s,r),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(P),r++,o=16}}function L(P){if(XJ(P)||IT(P))return!1;switch(P){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function B(){var P;do P=z();while(P>=12&&P<=15);return P}return{setPosition:O,getPosition:function(){return r},scan:e?B:z,getToken:function(){return o},getTokenValue:function(){return i},getTokenOffset:function(){return s},getTokenLength:function(){return r-s},getTokenStartLine:function(){return l},getTokenStartCharacter:function(){return s-p},getTokenError:function(){return _}}}function XJ(n){return n===32||n===9||n===11||n===12||n===160||n===5760||n>=8192&&n<=8203||n===8239||n===8287||n===12288||n===65279}function IT(n){return n===10||n===13||n===8232||n===8233}function I7(n){return n>=48&&n<=57}var cM;(function(n){n.DEFAULT={allowTrailingComma:!1}})(cM||(cM={}));function oze(n,e,t){e===void 0&&(e=[]),t===void 0&&(t=cM.DEFAULT);var r=null,i=[],s=[];function o(l){Array.isArray(i)?i.push(l):r!==null&&(i[r]=l)}var a={onObjectBegin:function(){var l={};o(l),s.push(i),i=l,r=null},onObjectProperty:function(l){r=l},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var l=[];o(l),s.push(i),i=l,r=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(l,f,p){e.push({error:l,offset:f,length:p})}};return aze(n,a,t),i[0]}function aze(n,e,t){t===void 0&&(t=cM.DEFAULT);var r=sze(n,!1);function i(ve){return ve?function(){return ve(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function s(ve){return ve?function(Ve){return ve(Ve,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}var o=i(e.onObjectBegin),a=s(e.onObjectProperty),l=i(e.onObjectEnd),f=i(e.onArrayBegin),p=i(e.onArrayEnd),_=s(e.onLiteralValue),E=s(e.onSeparator),O=i(e.onComment),R=s(e.onError),q=t&&t.disallowComments,z=t&&t.allowTrailingComma;function L(){for(;;){var ve=r.scan();switch(r.getTokenError()){case 4:B(14);break;case 5:B(15);break;case 3:B(13);break;case 1:q||B(11);break;case 2:B(12);break;case 6:B(16);break}switch(ve){case 12:case 13:q?B(10):O();break;case 16:B(1);break;case 15:case 14:break;default:return ve}}}function B(ve,Ve,ot){if(Ve===void 0&&(Ve=[]),ot===void 0&&(ot=[]),R(ve),Ve.length+ot.length>0)for(var lt=r.getToken();lt!==17;){if(Ve.indexOf(lt)!==-1){L();break}else if(ot.indexOf(lt)!==-1)break;lt=L()}}function P(ve){var Ve=r.getTokenValue();return ve?_(Ve):a(Ve),L(),!0}function G(){switch(r.getToken()){case 11:var ve=r.getTokenValue(),Ve=Number(ve);isNaN(Ve)&&(B(2),Ve=0),_(Ve);break;case 7:_(null);break;case 8:_(!0);break;case 9:_(!1);break;default:return!1}return L(),!0}function ue(){return r.getToken()!==10?(B(3,[],[2,5]),!1):(P(!1),r.getToken()===6?(E(":"),L(),he()||B(4,[],[2,5])):B(5,[],[2,5]),!0)}function I(){o(),L();for(var ve=!1;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(ve||B(4,[],[]),E(","),L(),r.getToken()===2&&z)break}else ve&&B(6,[],[]);ue()||B(4,[],[2,5]),ve=!0}return l(),r.getToken()!==2?B(7,[2],[]):L(),!0}function J(){f(),L();for(var ve=!1;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(ve||B(4,[],[]),E(","),L(),r.getToken()===4&&z)break}else ve&&B(6,[],[]);he()||B(4,[],[4,5]),ve=!0}return p(),r.getToken()!==4?B(8,[4],[]):L(),!0}function he(){switch(r.getToken()){case 3:return J();case 1:return I();case 10:return P(!0);default:return G()}}return L(),r.getToken()===17?t.allowEmptyContent?!0:(B(4,[],[]),!1):he()?(r.getToken()!==17&&B(9,[],[]),!0):(B(4,[],[]),!1)}var uze=oze,lze=typeof self!="undefined"&&typeof self.WorkerGlobalScope!="undefined",ZJ=lze||typeof window!="undefined"&&typeof window.document!="undefined"&&typeof fetch!="undefined",eX="",lme="";function cme(n){eX=n}var tX=null;async function cze(){if(!tX){let n;if(ZJ)typeof lme=="string"?n=(0,G3.loadWASM)({data:await fetch(fme("dist/onig.wasm")).then(e=>e.arrayBuffer())}):n=(0,G3.loadWASM)(lme);else{let t=YJ().join(uk.resolve("vscode-oniguruma"),"../onig.wasm"),i=KJ().readFileSync(t).buffer;n=(0,G3.loadWASM)(i)}tX=n.then(()=>({createOnigScanner(e){return(0,G3.createOnigScanner)(e)},createOnigString(e){return(0,G3.createOnigString)(e)}}))}return tX}function fme(n){if(ZJ)return eX||console.warn("[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`"),`${eX}${n}`;{let e=YJ();return e.isAbsolute(n)?n:e.resolve(__dirname,"..",n)}}async function fze(n){let e=fme(n);return ZJ?await fetch(e).then(t=>t.text()):await KJ().promises.readFile(e,"utf-8")}async function dme(n){let e=[],t=uze(await fze(n),e,{allowTrailingComma:!0});if(e.length)throw e[0];return t}async function hme(n){let e=await dme(n),t=pme(e);if(t.include){let r=await hme(rze(nze(n),t.include));r.settings&&(t.settings=r.settings.concat(t.settings)),r.bg&&!t.bg&&(t.bg=r.bg),r.colors&&(t.colors=Object.assign(Object.assign({},r.colors),t.colors)),delete t.include}return t}async function dze(n){return await dme(n)}function hze(n){n.settings||(n.settings=[]),!(n.settings[0]&&n.settings[0].settings&&!n.settings[0].scope)&&n.settings.unshift({settings:{foreground:n.fg,background:n.bg}})}function pme(n){let e=n.type||"dark",t=Object.assign(Object.assign({name:n.name,type:e},n),pze(n));return n.include&&(t.include=n.include),n.tokenColors&&(t.settings=n.tokenColors,delete t.tokenColors),hze(t),t}var mme={light:"#333333",dark:"#bbbbbb"},xme={light:"#fffffe",dark:"#1e1e1e"};function pze(n){var e,t,r,i,s,o;let a,l,f=n.settings?n.settings:n.tokenColors,p=f?f.find(_=>!_.name&&!_.scope):void 0;return((e=p==null?void 0:p.settings)===null||e===void 0?void 0:e.foreground)&&(a=p.settings.foreground),((t=p==null?void 0:p.settings)===null||t===void 0?void 0:t.background)&&(l=p.settings.background),!a&&((i=(r=n)===null||r===void 0?void 0:r.colors)===null||i===void 0?void 0:i["editor.foreground"])&&(a=n.colors["editor.foreground"]),!l&&((o=(s=n)===null||s===void 0?void 0:s.colors)===null||o===void 0?void 0:o["editor.background"])&&(l=n.colors["editor.background"]),a||(a=n.type==="light"?mme.light:mme.dark),l||(l=n.type==="light"?xme.light:xme.dark),{fg:a,bg:l}}var gme=class{constructor(e,t){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=e,this._onigLibName=t}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(e){return this.languageMap[e]}async loadGrammar(e){let t=this.scopeToLangMap[e];if(!t)return null;if(t.grammar)return t.grammar;let r=await dze(JJ.includes(t)?`${this.languagesPath}${t.path}`:t.path);return t.grammar=r,r}addLanguage(e){this.languageMap[e.id]=e,e.aliases&&e.aliases.forEach(t=>{this.languageMap[t]=e}),this.scopeToLangMap[e.scopeName]=e}};function mze(n,e,t,r,i){let s=t.split(/\r\n|\r|\n/),o=lM.INITIAL,a=[],l=[];for(let f=0,p=s.length;f<p;f++){let _=s[f];if(_===""){a=[],l.push([]);continue}let E,O,R;i.includeExplanation&&(E=r.tokenizeLine(_,o),O=E.tokens,R=0);let q=r.tokenizeLine2(_,o),z=q.tokens.length/2;for(let L=0;L<z;L++){let B=q.tokens[2*L],P=L+1<z?q.tokens[2*L+2]:_.length;if(B===P)continue;let G=q.tokens[2*L+1],ue=sh.getForeground(G),I=e[ue],J=sh.getFontStyle(G),he=[];if(i.includeExplanation){let ve=0;for(;B+ve<P;){let Ve=O[R],ot=_.substring(Ve.startIndex,Ve.endIndex);ve+=ot.length,he.push({content:ot,scopes:xze(n,Ve.scopes)}),R++}}a.push({content:_.substring(B,P),color:I,fontStyle:J,explanation:he})}l.push(a),a=[],o=q.ruleStack}return l}function xze(n,e){let t=[];for(let r=0,i=e.length;r<i;r++){let s=e.slice(0,r),o=e[r];t[r]={scopeName:o,themeMatches:yze(n,o,s)}}return t}function yme(n,e){let t=n+".";return n===e||e.substring(0,t.length)===t}function gze(n,e,t,r){if(!yme(n,t))return!1;let i=e.length-1,s=r.length-1;for(;i>=0&&s>=0;)yme(e[i],r[s])&&i--,s--;return i===-1}function yze(n,e,t){let r=[],i=0;for(let s=0,o=n.settings.length;s<o;s++){let a=n.settings[s],l;if(typeof a.scope=="string")l=a.scope.split(/,/).map(f=>f.trim());else if(Array.isArray(a.scope))l=a.scope;else continue;for(let f=0,p=l.length;f<p;f++){let E=l[f].split(/ /),O=E[E.length-1],R=E.slice(0,E.length-1);gze(O,R,e,t)&&(r[i++]=a,f=p)}}return r}function vze(n,e={}){var t;let r=e.bg||"#fff",i=ize((t=e.lineOptions)!==null&&t!==void 0?t:[],o=>o.line),s="";return s+=`<pre class="shiki" style="background-color: ${r}">`,e.langId&&(s+=`<div class="language-id">${e.langId}</div>`),s+="<code>",n.forEach((o,a)=>{var l;let f=a+1,p=(l=i.get(f))!==null&&l!==void 0?l:[];s+=`<span class="${Eze(p).join(" ")}">`,o.forEach(E=>{let O=[`color: ${E.color||e.fg}`];E.fontStyle&k7.Italic&&O.push("font-style: italic"),E.fontStyle&k7.Bold&&O.push("font-weight: bold"),E.fontStyle&k7.Underline&&O.push("text-decoration: underline"),s+=`<span style="${O.join("; ")}">${bze(E.content)}</span>`}),s+=`</span>
`}),s=s.replace(/\n*$/,""),s+="</code></pre>",s}var _ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function bze(n){return n.replace(/[&<>"']/g,e=>_ze[e])}function Eze(n){var e;let t=new Set(["line"]);for(let r of n)for(let i of(e=r.classes)!==null&&e!==void 0?e:[])t.add(i);return Array.from(t)}var vme=class extends lM.Registry{constructor(e){super(e);this._resolver=e,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={}}getTheme(e){return typeof e=="string"?this._resolvedThemes[e]:e}async loadTheme(e){return typeof e=="string"?(this._resolvedThemes[e]||(this._resolvedThemes[e]=await hme(`${this.themesPath}${e}.json`)),this._resolvedThemes[e]):(e=pme(e),e.name&&(this._resolvedThemes[e.name]=e),e)}async loadThemes(e){return await Promise.all(e.map(t=>this.loadTheme(t)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(e){return this._resolvedGrammars[e]}async loadLanguage(e){let t=await this.loadGrammar(e.scopeName);this._resolvedGrammars[e.id]=t,e.aliases&&e.aliases.forEach(r=>{this._resolvedGrammars[r]=t})}async loadLanguages(e){for(let t of e)this._resolver.addLanguage(t);for(let t of e)await this.loadLanguage(t)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}};function _me(n){return typeof n=="string"?JJ.find(e=>{var t;return e.id===n||((t=e.aliases)===null||t===void 0?void 0:t.includes(n))}):n}function Sze(n){var e;let t=JJ,r=n.themes||[];return((e=n.langs)===null||e===void 0?void 0:e.length)&&(t=n.langs.map(_me)),n.theme&&r.unshift(n.theme),r.length||(r=["nord"]),{_languages:t,_themes:r}}async function bme(n){var e,t;let{_languages:r,_themes:i}=Sze(n),s=new gme(cze(),"vscode-oniguruma"),o=new vme(s);((e=n.paths)===null||e===void 0?void 0:e.themes)&&(o.themesPath=n.paths.themes),((t=n.paths)===null||t===void 0?void 0:t.languages)&&(s.languagesPath=n.paths.languages);let l=(await o.loadThemes(i))[0],f;await o.loadLanguages(r);let p={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function _(I,J){I.bg=p[I.bg]||I.bg,I.fg=p[I.fg]||I.fg,J.forEach((he,ve)=>{J[ve]=p[he]||he})}function E(I){let J=I?o.getTheme(I):l;if(!J)throw Error(`No theme registration for ${I}`);(!f||f.name!==J.name)&&(o.setTheme(J),f=J);let he=o.getColorMap();return J.name==="css-variables"&&_(J,he),{_theme:J,_colorMap:he}}function O(I){let J=o.getGrammar(I);if(!J)throw Error(`No language registration for ${I}`);return{_grammar:J}}function R(I,J="text",he,ve={includeExplanation:!0}){if(wze(J))return[...I.split(/\r\n|\r|\n/).map(bt=>[{content:bt}])];let{_grammar:Ve}=O(J),{_theme:ot,_colorMap:lt}=E(he);return mze(ot,lt,I,Ve,ve)}function q(I,J="text",he){let ve;typeof J=="object"?ve=J:ve={lang:J,theme:he};let Ve=R(I,ve.lang,ve.theme,{includeExplanation:!1}),{_theme:ot}=E(ve.theme);return vze(Ve,{fg:ot.fg,bg:ot.bg,lineOptions:ve==null?void 0:ve.lineOptions})}async function z(I){await o.loadTheme(I)}async function L(I){let J=_me(I);s.addLanguage(J),await o.loadLanguage(J)}function B(){return o.getLoadedThemes()}function P(){return o.getLoadedLanguages()}function G(I){let{_theme:J}=E(I);return J.bg}function ue(I){let{_theme:J}=E(I);return J.fg}return{codeToThemedTokens:R,codeToHtml:q,getTheme:I=>E(I)._theme,loadTheme:z,loadLanguage:L,getBackgroundColor:G,getForegroundColor:ue,getLoadedThemes:B,getLoadedLanguages:P}}function wze(n){return!n||["plaintext","txt","text"].includes(n)}m();var Eme={scopeName:"source.malloy",patterns:[{include:"#sql-statement"},{include:"#comments"},{include:"#strings"},{include:"#numbers"},{include:"#keywords"},{include:"#properties"},{include:"#functions"},{include:"#dates"},{include:"#identifiers-quoted"},{include:"#types"},{include:"#constants"},{include:"#timeframes"},{include:"#identifiers-unquoted"}],repository:{"sql-statement":{begin:"\\|\\|",end:";;",beginCaptures:{"0":{name:"punctuation.sql-block.open"}},endCaptures:{"0":{name:"punctuation.sql-block.close"}},name:"source.sql",patterns:[{include:"source.sql"}]},functions:{patterns:[{match:"(?i)\\b(count)(\\s*\\()(distinct)",captures:{"1":{name:"entity.name.function"},"3":{name:"entity.name.function.modifier"}}},{match:"(?i)\\b(AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE|TABLE|FROM|FROM_SQL|UNGROUPED)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}},{match:"(?i)\\b([a-zA-Z]*)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}}]},dates:{patterns:[{match:"(?i)@[0-9A-Z-]*(\\s[0-9A-Z-][0-9A-Z-](:[0-9A-Z-][0-9A-Z-])?(:[0-9A-Z-][0-9A-Z-])?)?",name:"constant.numeric.date"}]},"identifiers-quoted":{patterns:[{match:"(?i)`[A-z_][A-z_0-9]*`",name:"variable.other.quoted"}]},"identifiers-unquoted":{patterns:[{match:"(?i)\\b[A-z_][A-z_0-9]*\\b",name:"variable.other"}]},timeframes:{patterns:[{match:"(?i)\\b((year|quarter|month|week|day|hour|minute|second)s?)\\b",name:"keyword.other.timeframe"},{match:"(?i)\\b(day_of_year|day_of_month)\\b",name:"keyword.other.timeframe"}]},comments:{patterns:[{begin:"/\\*",end:"\\*/",beginCaptures:{"0":{name:"punctuation.definition.comment.begin"}},endCaptures:{"0":{name:"punctuation.definition.comment.end"}},name:"comment.block"},{begin:"//",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-slash"},{begin:"--",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-hyphen"}]},strings:{patterns:[{begin:"'",end:"'",beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.single",patterns:[{include:"#escapes"}]},{begin:'"',end:'"',beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.double",patterns:[{include:"#escapes"}]},{begin:"(?i)[r|/]'",end:"'",name:"string.regexp",patterns:[{include:"#escapes"}]}],repository:{escapes:{name:"constant.character.escape",match:"\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]|37[0-7]?|[4-7][0-7]?|.)",captures:{"0":{name:"constant.character.escape"}}}}},numbers:{match:"\\b((0|[1-9][0-9]*)(\\.[0-9]*)?| \\.[0-9]+)\\b",name:"constant.numeric"},constants:{patterns:[{match:"(?i)\\bnull\\b",name:"constant.language.null"},{match:"(?i)\\btrue\\b",name:"constant.language.true"},{match:"(?i)\\bfalse\\b",name:"constant.language.false"}]},types:{patterns:[{match:"(?i)\\bstring\\b",name:"entity.name.type.string"},{match:"(?i)\\bnumber\\b",name:"entity.name.type.number"},{match:"(?i)\\bdate\\b",name:"entity.name.type.date"},{match:"(?i)\\btimestamp\\b",name:"entity.name.type.timestamp"},{match:"(?i)\\bboolean\\b",name:"entity.name.type.boolean"}]},properties:{patterns:[{match:"(?i)\\baccept\\b",name:"keyword.control.accept"},{match:"(?i)\\bsql\\b",name:"keyword.control.sql"},{match:"(?i)\\baggregate\\b",name:"keyword.control.aggregate"},{match:"(?i)\\bdimension\\b",name:"keyword.control.dimension"},{match:"(?i)\\bexcept\\b",name:"keyword.control.except"},{match:"(?i)\\bexplore\\b",name:"keyword.control.explore"},{match:"(?i)\\bgroup_by\\b",name:"keyword.control.group_by"},{match:"(?i)\\bhaving\\b",name:"keyword.control.having"},{match:"(?i)\\bindex\\b",name:"keyword.control.index"},{match:"(?i)\\bjoin_one\\b",name:"keyword.control.join_one"},{match:"(?i)\\bwith\\b",name:"keyword.control.with"},{match:"(?i)\\bjoin_many\\b",name:"keyword.control.join_many"},{match:"(?i)\\bjoin_cross\\b",name:"keyword.control.join_cross"},{match:"(?i)\\blimit\\b",name:"keyword.control.limit"},{match:"(?i)\\bmeasure\\b",name:"keyword.control.measure"},{match:"(?i)\\bnest\\b",name:"keyword.control.nest"},{match:"(?i)\\border_by\\b",name:"keyword.control.order_by"},{match:"(?i)\\bprimary_key\\b",name:"keyword.control.primary_key"},{match:"(?i)\\bproject\\b",name:"keyword.control.project"},{match:"(?i)\\bquery\\b",name:"keyword.control.query"},{match:"(?i)\\brename\\b",name:"keyword.control.rename"},{match:"(?i)\\btop\\b",name:"keyword.control.top"},{match:"(?i)\\bwhere\\b",name:"keyword.control.where"},{match:"(?i)\\bdeclare\\b",name:"keyword.control.declare"}]},keywords:{patterns:[{match:"(?i)\\bis\\b",name:"keyword.control.is"},{match:"(?i)\\bon\\b",name:"keyword.control.on"},{match:"(?i)\\bnot\\b",name:"keyword.other.not"},{match:"(?i)\\bor\\b",name:"keyword.other.or"},{match:"(?i)\\bdesc\\b",name:"keyword.control.desc"},{match:"(?i)\\bby\\b",name:"keyword.control.by"},{match:"(?i)\\band\\b",name:"keyword.other.and"},{match:"(?i)\\basc\\b",name:"keyword.control.asc"},{match:"(?i)\\bfor\\b",name:"keyword.other.for"},{match:"(?i)\\belse\\b",name:"keyword.other.else"},{match:"(?i)\\bto\\b",name:"keyword.other.to"},{match:"(?i)\\bwhen\\b",name:"keyword.other.when"},{match:"(?i)\\bpick\\b",name:"keyword.other.pick"},{match:"(?i)\\bimport\\b",name:"keyword.control.import"}]}}};cme("https://unpkg.com/shiki/");function am(n){return n.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function v2(){return!0}var fM;function Aze(){return fM!==void 0||(fM=bme({theme:"light-plus",langs:["sql","json","md",{id:"malloy",scopeName:"source.malloy",embeddedLangs:["sql"],grammar:Eme}]})),fM}async function Tze(n,e){let t=await Aze();return t.getLoadedLanguages().includes(e)||(e="txt"),t.codeToHtml(n,{lang:e})}async function N_(n,e){let t=await Tze(n,e),r=document.createElement("div");return r.innerHTML=t,r}function Hh(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.type}function nX(n){return n.type==="struct"||n.type==="turtle"?"string":n.type}function Mp(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.aggregate?"measure":"dimension"}function dM(n){return n!==void 0}function T0(n,e){let t=Mp(n);if(n.type==="struct"||t==="source")throw new Error("Cannot make a summary item from a struct.");return{type:"field",field:n,path:e,saveDefinition:void 0,isRefined:!1,name:n.as||n.name,isRenamed:!1,fieldIndex:-1,kind:t}}function MT(n){return n.type!=="struct"&&n.type!=="turtle"&&!!n.aggregate}function PT(n){return n.type!=="struct"&&n.type!=="turtle"&&!n.aggregate}function hM(n){return n.type==="turtle"}function $c(n,e=[]){return n.fields.flatMap(t=>t.type==="struct"?$c(t,[...e,t.as||t.name]):[{field:t,path:[...e,t.as||t.name].join(".")}])}function Y3(n){return n.split(".").map(e=>`\`${e}\``).join(".")}function Fze(n){let e=n.split(".");return e.map((t,r)=>e.slice(r).join("."))}function F0(n,e){return[...Fze(e).reverse(),n.name,Mp(n),Hh(n)]}function D0(n){let e=n.split(".");return e[e.length-2]}function pM(n){return n<1e3?n.toLocaleString():n<1e4?(n/1e3).toFixed(1)+"K":n<1e6?Math.floor(n/1e3).toLocaleString()+"K":n<1e7?(n/1e6).toFixed(1)+"M":Math.floor(n/1e3).toLocaleString()+"M"}function rX(n,e,t,r){let i=document.createElement("a"),s=new Blob([n],{type:e}),o=URL.createObjectURL(s);i.setAttribute("href",o),r?i.setAttribute("target","_blank"):i.setAttribute("download",t),i.click()}function Sme(n,e){return`<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>${e}</title>
    <meta
  </head>
  <body>${n}</body>
</html>
  `}var Dze=/Error\(s\) compiling model:\nFILE: internal:\/\/internal.malloy\nline 1: (.*)\n/;function wme(n){let e=n.toString();if(n.message){e=n.message;let t=e.match(Dze);t&&(e=t[1])}return e}function Cme(n,e=2){return n.split(`
`).map(t=>" ".repeat(e)+t).join(`
`)}function Ame(n){navigator.clipboard.writeText(n)}m();var _9e=dr(v9e()),mC=dr(w1());m();function d1t(n){try{return JSON.parse(n)}catch(e){throw new Error(`Error compiling data styles: ${e.message}`)}}async function h1t(n,e,t){let r="--! styles ",i={};for(let s of e.split(`
`))if(s.startsWith(r)){let o=s.trimEnd().substring(r.length),a;try{a=await t.readURL(new URL(o,n))}catch(l){console.error(`Error loading data style '${o}': ${l}`),a="{}"}i={...i,...d1t(a)}}return i}var Pae=class{constructor(e){this.dataStyles={};this.urlReader=e}async readURL(e){let t=await this.urlReader.readURL(e);return this.dataStyles={...this.dataStyles,...await h1t(e.toString(),t,this.urlReader)},t}getHackyAccumulatedDataStyles(){return this.dataStyles}};var b9e=class{constructor(){this.connection=new _9e.DuckDBWASMConnection("duckdb")}async lookupConnection(e){return await this.connection.connecting,this.connection}},p1t=async n=>(await fetch(n)).text(),E9e=class{constructor(){this.contents={}}setContents(e,t){this.contents[e]=t}async readURL(e){let t=e.toString();return t in this.contents?this.contents[t]:p1t(e)}},Eb=new E9e,Lz=new b9e,kz=new mC.Runtime(Eb,Lz);async function S9e(){let n=window.location.href,e=new URL("composer.json",n),t=await Eb.readURL(e),r=JSON.parse(t);if("apps"in r){let i=r.readme&&await Eb.readURL(new URL(r.readme,n));return{...r,readme:i}}return{apps:[{id:"default",path:"composer.json"}]}}async function w9e(n){let e=window.location.href,t=new URL(n,e),r=await Eb.readURL(t),i=JSON.parse(r),s=i.title,o=i.readme&&await Eb.readURL(new URL(i.readme,t)),a=await Promise.all(i.models.map(async l=>{let f=await Lz.lookupConnection("duckdb");await Promise.all(l.tables.map(z=>f.database?.registerFileURL(z,new URL(z,t).toString())));let p=new URL(l.path,t),_=new Pae(Eb),O=await new mC.Runtime(_,Lz).getModel(p),R=_.getHackyAccumulatedDataStyles(),q=l.sources||Object.values(O._modelDef.contents).filter(z=>z.type==="struct").map(z=>({title:am(z.as||z.name),sourceName:z.as||z.name,description:`Source ${z.as} in ${l.id}`}));return{id:l.id,model:O._modelDef,path:l.path,readme:o,styles:R,sources:q}}));return{readme:o,linkedReadmes:i.linkedReadmes,title:s,models:a}}async function C9e(n,e,t){let r=await kz._loadModelFromModelDef(t).getModel(),i=await mC.Malloy.compile({urlReader:Eb,connections:Lz,model:r,parse:mC.Malloy.parse({source:n})}),s=kz._loadModelFromModelDef(i._modelDef).loadQueryByName(e),o=(await s.getPreparedResult()).resultExplore.limit;return s.run({rowLimit:o})}async function A9e(n,e,t,r){let i=e.as||e.name;return kz._loadModelFromModelDef(n).search(i,t,void 0,r)}async function T9e(n,e){let t=e.as||e.name;return kz._loadModelFromModelDef(n).searchValueMap(t)}function Bae(n){let{data:e}=gg(["datasets",n?n.id??"default":"empty"],async()=>n===void 0?void 0:v2()?w9e(n.path):(await(await fetch("api/datasets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({app:n})})).json()).datasets,{refetchOnWindowFocus:!1});return e}m();m();var gR=dr(Fr()),F9e=n=>gR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},gR.createElement("title",null,"chevron_left"),gR.createElement("g",{id:"chevron_left",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},gR.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-90.000000) translate(-55.000000, -55.000005) "})));m();var yR=dr(Fr()),Iz=n=>yR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},yR.createElement("title",null,"chevron_right"),yR.createElement("g",{id:"chevron_right",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},yR.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-270.000000) translate(-55.000000, -55.000005) "})));m();var mi={dimension:{fillLight:"rgb(240,246,255)",fillMedium:"#c3d7f7",fillStrong:"#4285f4"},measure:{fillStrong:"#ea8600",fillMedium:"#f3cfa1",fillLight:"#fff3e8"},filter:{fillStrong:"#8166da",fillMedium:"#d4d6d8",fillLight:"#f8f6ff"},query:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},source:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},other:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},error:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},mainBackground:"rgb(247, 249, 252)"};var RDt=jn.div`
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 22px;
  padding: 7px 10px 6px 20px;
  border-bottom: 1px solid #efefef;
  font-size: 11pt;
  font-weight: 500;
`,Mz=jn.div`
  display: flex;
  font-weight: normal;
  font-family: "Roboto Mono";
  gap: 5px;
  margin-top: -3px;
  align-items: center;
  user-select: none;
`,op=jn.label`
  font-size: 12px;
  color: #505050;
  font-family: Roboto;
  font-family: Roboto;
  text-transform: none;
  color: #9aa0a6;
  font-weight: normal;
`,Wa=jn.button`
  padding: 5.5px 10px;
  font-family: Google Sans;
  border-radius: 5px;
  cursor: pointer;
  min-width: 80px;

  ${({color:n="primary",outline:e=!1})=>`
    ${n==="primary"&&!e?`
        border: 1px solid #4285F4;
        background-color: #4285F4;
        color: white;

        &:active {
          background-color: #175cb7;
        }
      `:n==="primary"&&e?`
        border: 1px solid #d8dade;
        background-color: white;
        color: #4285F4;

        &:active {
          background-color: #efefef;
        }
      `:n==="secondary"&&!e?`
        border: 0;
        background-color: transparent;
        color: #343434;

        &:active {
          background-color: #adadad;
        }
      `:`
        border: 1px solid #343434;
        background-color: white;
        color: #343434;

        &:active {
          background-color: #343434;
          color: white;
        }
      `}
  `}
`,bh=jn.div`
  display: flex;
  justify-content: flex-end;
  gap: 5px;
  margin-top: 15px;
`,Pz=jn.form`
  display: flex;
  justify-content: space-between;
  gap: 5px;
`,D9e=({onClick:n})=>v.createElement(F9e,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),O9e=({onClick:n})=>v.createElement(Iz,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),e0=jn.div`
  color: #969696;
  text-align: center;
  margin-top: 30px;
  margin-bottom: 30px;
  font-family: Roboto;
  text-transform: none;
  font-size: 16px;
  font-weight: normal;
`,Cc=jn.div`
  font-family: Google Sans;
  font-size: 14px;
  color: #505050;
  text-transform: none;
  margin-bottom: 15px;
  user-select: none;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
`,Ac=jn.div`
  padding: 15px;
`,ql=jn.div`
  padding: 10px;
`,C1=jn.div`
  border-bottom: 1px solid #efefef;
  padding: 10px;
`,A1=jn.div`
  display: flex;
  flex-direction: column;
`,Eh=jn.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,ec=jn.div`
  overflow-y: auto;
  max-height: 400px;
`,jae=jn.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,Bz=jn(jae)`
  font-size: 12px;
`,xC=jn.div`
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
  display: flex;

  ${({color:n})=>`
      svg .primaryfill {
        fill: ${mi[n].fillStrong};
      }
      svg .primarystroke {
        stroke: ${mi[n].fillStrong};
      }
    `}
`,Bm=jn.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,m1t=jn.div`
  background: #ffdddd;
  display: flex;
  padding: 6px;
  margin-top: 10px;
  border-radius: 3px;
`,jz=({error:n})=>{if(n){let e=wme(n);return v.createElement(m1t,null,e)}else return null},qz=jn.div`
  overflow: hidden;
  width: 100%;
  height: 40px;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  background-color: ${mi.mainBackground};
  flex-shrink: 0;
`,Sb=jn.div`
  overflow: hidden;
  background-color: white;
  border-radius: 5px;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
`;m();m();m();m();m();var gC=dr(Fr()),R9e=n=>gC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},gC.createElement("title",null,"channel_about"),gC.createElement("g",{id:"channel_about",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},gC.createElement("g",{id:"article_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.250000, 4.250000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},gC.createElement("path",{d:"M19.9520833,71.29375 L54.9,71.29375 L54.9,63.66875 L19.9520833,63.66875 L19.9520833,71.29375 Z M19.9520833,49.5625 L71.5479167,49.5625 L71.5479167,41.9375 L19.9520833,41.9375 L19.9520833,49.5625 Z M19.9520833,27.83125 L71.5479167,27.83125 L71.5479167,20.20625 L19.9520833,20.20625 L19.9520833,27.83125 Z M7.625,91.5 C5.59166667,91.5 3.8125,90.7375 2.2875,89.2125 C0.7625,87.6875 0,85.9083333 0,83.875 L0,7.625 C0,5.59166667 0.7625,3.8125 2.2875,2.2875 C3.8125,0.7625 5.59166667,0 7.625,0 L83.875,0 C85.9083333,0 87.6875,0.7625 89.2125,2.2875 C90.7375,3.8125 91.5,5.59166667 91.5,7.625 L91.5,83.875 C91.5,85.9083333 90.7375,87.6875 89.2125,89.2125 C87.6875,90.7375 85.9083333,91.5 83.875,91.5 L7.625,91.5 Z M7.625,83.875 L83.875,83.875 L83.875,7.625 L7.625,7.625 L7.625,83.875 Z M7.625,7.625 L7.625,83.875 L7.625,7.625 Z",id:"Shape"}))));m();var yC=dr(Fr()),N9e=n=>yC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},yC.createElement("title",null,"channel_feedback"),yC.createElement("g",{id:"channel_feedback",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},yC.createElement("g",{id:"chat_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.000000, 4.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},yC.createElement("path",{d:"M18.4,55.315 L54.395,55.315 L54.395,48.415 L18.4,48.415 L18.4,55.315 Z M18.4,40.365 L73.6,40.365 L73.6,33.465 L18.4,33.465 L18.4,40.365 Z M18.4,25.415 L73.6,25.415 L73.6,18.515 L18.4,18.515 L18.4,25.415 Z M0,92 L0,6.9 C0,5.13666667 0.69,3.54583333 2.07,2.1275 C3.45,0.709166667 5.06,0 6.9,0 L85.1,0 C86.8633333,0 88.4541667,0.709166667 89.8725,2.1275 C91.2908333,3.54583333 92,5.13666667 92,6.9 L92,66.7 C92,68.4633333 91.2908333,70.0541667 89.8725,71.4725 C88.4541667,72.8908333 86.8633333,73.6 85.1,73.6 L18.4,73.6 L0,92 Z M6.9,75.325 L15.525,66.7 L85.1,66.7 L85.1,6.9 L6.9,6.9 L6.9,75.325 Z M6.9,6.9 L6.9,75.325 L6.9,6.9 Z",id:"Shape"}))));m();var vC=dr(Fr()),L9e=n=>vC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},vC.createElement("title",null,"channel_help"),vC.createElement("g",{id:"channel_help",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},vC.createElement("g",{id:"help_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},vC.createElement("path",{d:"M46.7125,73.190625 C47.9458333,73.190625 48.9864583,72.7666667 49.834375,71.91875 C50.6822917,71.0708333 51.10625,70.0302083 51.10625,68.796875 C51.10625,67.5635417 50.6822917,66.5229167 49.834375,65.675 C48.9864583,64.8270833 47.9458333,64.403125 46.7125,64.403125 C45.4791667,64.403125 44.4385417,64.8270833 43.590625,65.675 C42.7427083,66.5229167 42.31875,67.5635417 42.31875,68.796875 C42.31875,70.0302083 42.7427083,71.0708333 43.590625,71.91875 C44.4385417,72.7666667 45.4791667,73.190625 46.7125,73.190625 Z M42.665625,56.309375 L49.4875,56.309375 C49.4875,54.3052083 49.7380208,52.4744792 50.2390625,50.8171875 C50.7401042,49.1598958 52.3010417,47.2520833 54.921875,45.09375 C57.3114583,43.0895833 59.0072917,41.1239583 60.009375,39.196875 C61.0114583,37.2697917 61.5125,35.15 61.5125,32.8375 C61.5125,28.7520833 60.1828125,25.4760417 57.5234375,23.009375 C54.8640625,20.5427083 51.3375,19.309375 46.94375,19.309375 C43.1666667,19.309375 39.8328125,20.2536458 36.9421875,22.1421875 C34.0515625,24.0307292 31.9510417,26.6322917 30.640625,29.946875 L36.76875,32.259375 C37.6166667,30.1010417 38.8885417,28.4244792 40.584375,27.2296875 C42.2802083,26.0348958 44.284375,25.4375 46.596875,25.4375 C49.2177083,25.4375 51.3375,26.1505208 52.95625,27.5765625 C54.575,29.0026042 55.384375,30.8333333 55.384375,33.06875 C55.384375,34.7645833 54.8833333,36.3640625 53.88125,37.8671875 C52.8791667,39.3703125 51.4145833,40.93125 49.4875,42.55 C47.175,44.5541667 45.4598958,46.5390625 44.3421875,48.5046875 C43.2244792,50.4703125 42.665625,53.071875 42.665625,56.309375 L42.665625,56.309375 Z M46.25,92.5 C39.9291667,92.5 33.9552083,91.2859375 28.328125,88.8578125 C22.7010417,86.4296875 17.7869792,83.1151042 13.5859375,78.9140625 C9.38489583,74.7130208 6.0703125,69.7989583 3.6421875,64.171875 C1.2140625,58.5447917 0,52.5708333 0,46.25 C0,39.8520833 1.2140625,33.8395833 3.6421875,28.2125 C6.0703125,22.5854167 9.38489583,17.690625 13.5859375,13.528125 C17.7869792,9.365625 22.7010417,6.0703125 28.328125,3.6421875 C33.9552083,1.2140625 39.9291667,0 46.25,0 C52.6479167,0 58.6604167,1.2140625 64.2875,3.6421875 C69.9145833,6.0703125 74.809375,9.365625 78.971875,13.528125 C83.134375,17.690625 86.4296875,22.5854167 88.8578125,28.2125 C91.2859375,33.8395833 92.5,39.8520833 92.5,46.25 C92.5,52.5708333 91.2859375,58.5447917 88.8578125,64.171875 C86.4296875,69.7989583 83.134375,74.7130208 78.971875,78.9140625 C74.809375,83.1151042 69.9145833,86.4296875 64.2875,88.8578125 C58.6604167,91.2859375 52.6479167,92.5 46.25,92.5 Z M46.25,85.5625 C57.1958333,85.5625 66.484375,81.7276042 74.115625,74.0578125 C81.746875,66.3880208 85.5625,57.11875 85.5625,46.25 C85.5625,35.3041667 81.746875,26.015625 74.115625,18.384375 C66.484375,10.753125 57.1958333,6.9375 46.25,6.9375 C35.38125,6.9375 26.1119792,10.753125 18.4421875,18.384375 C10.7723958,26.015625 6.9375,35.3041667 6.9375,46.25 C6.9375,57.11875 10.7723958,66.3880208 18.4421875,74.0578125 C26.1119792,81.7276042 35.38125,85.5625 46.25,85.5625 Z",id:"Shape"}))));m();var _C=dr(Fr()),k9e=n=>_C.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},_C.createElement("title",null,"channel_preview"),_C.createElement("g",{id:"channel_preview",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},_C.createElement("g",{id:"analytics_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},_C.createElement("path",{d:"M21.0694444,72.3298611 L28.7777778,72.3298611 L28.7777778,45.9930556 L21.0694444,45.9930556 L21.0694444,72.3298611 Z M63.7222222,72.3298611 L71.4305556,72.3298611 L71.4305556,18.3715278 L63.7222222,18.3715278 L63.7222222,72.3298611 Z M42.3958333,72.3298611 L50.1041667,72.3298611 L50.1041667,57.1701389 L42.3958333,57.1701389 L42.3958333,72.3298611 Z M42.3958333,45.9930556 L50.1041667,45.9930556 L50.1041667,38.2847222 L42.3958333,38.2847222 L42.3958333,45.9930556 Z M7.70833333,92.5 C5.65277778,92.5 3.85416667,91.7291667 2.3125,90.1875 C0.770833333,88.6458333 0,86.8472222 0,84.7916667 L0,7.70833333 C0,5.65277778 0.770833333,3.85416667 2.3125,2.3125 C3.85416667,0.770833333 5.65277778,0 7.70833333,0 L84.7916667,0 C86.8472222,0 88.6458333,0.770833333 90.1875,2.3125 C91.7291667,3.85416667 92.5,5.65277778 92.5,7.70833333 L92.5,84.7916667 C92.5,86.8472222 91.7291667,88.6458333 90.1875,90.1875 C88.6458333,91.7291667 86.8472222,92.5 84.7916667,92.5 L7.70833333,92.5 Z M7.70833333,84.7916667 L84.7916667,84.7916667 L84.7916667,7.70833333 L7.70833333,7.70833333 L7.70833333,84.7916667 Z M7.70833333,7.70833333 L7.70833333,84.7916667 L7.70833333,7.70833333 Z",id:"Shape"}))));m();var bC=dr(Fr()),I9e=n=>bC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},bC.createElement("title",null,"channel_query"),bC.createElement("g",{id:"channel_query",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},bC.createElement("g",{id:"travel_explore_FILL0_wght400_GRAD0_opsz48",transform:"translate(2.685232, 3.500000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},bC.createElement("path",{d:"M43.9974969,93 C37.8673342,92.689612 32.1251564,91.2540676 26.7709637,88.6933667 C21.416771,86.1326658 16.7609512,82.7765957 12.8035044,78.6251564 C8.84605757,74.4737171 5.72277847,69.6433041 3.43366708,64.1339174 C1.14455569,58.6245307 0,52.7659574 0,46.5581977 C0,40.1176471 1.22215269,34.0650814 3.66645807,28.4005006 C6.11076345,22.7359199 9.42803504,17.8085106 13.6182728,13.6182728 C17.8085106,9.42803504 22.7359199,6.11076345 28.4005006,3.66645807 C34.0650814,1.22215269 40.1176471,0 46.5581977,0 C58.1201502,0 68.1689612,3.64705882 76.7046308,10.9411765 C85.2403004,18.2352941 90.4780976,27.3917397 92.4180225,38.4105131 L85.3178974,38.4105131 C83.9987484,31.8923655 81.2440551,26.0725907 77.0538173,20.951189 C72.8635795,15.8297872 67.6257822,11.9887359 61.3404255,9.42803504 L61.3404255,11.5231539 C61.3404255,14.2390488 60.4092616,16.6057572 58.5469337,18.6232791 C56.6846058,20.640801 54.3954944,21.649562 51.6795995,21.649562 L41.5531915,21.649562 L41.5531915,31.77597 C41.5531915,33.0951189 41.0294118,34.1814768 39.9818523,35.0350438 C38.9342929,35.8886108 37.7509387,36.3153942 36.4317897,36.3153942 L26.7709637,36.3153942 L26.7709637,46.5581977 L39.5744681,46.5581977 L39.5744681,61.1076345 L31.77597,61.1076345 L8.03128911,37.3629537 C7.64330413,38.9148936 7.37171464,40.4474343 7.21652065,41.9605757 C7.06132666,43.4737171 6.98372966,45.0062578 6.98372966,46.5581977 C6.98372966,57.0337922 10.514393,66.0738423 17.5757196,73.6783479 C24.6370463,81.2828536 33.4443054,85.3954944 43.9974969,86.0162703 L43.9974969,93 Z M89.6245307,89.9737171 L74.0275344,74.3767209 C72.3979975,75.5406758 70.6326658,76.4330413 68.7315394,77.0538173 C66.830413,77.6745932 64.8710889,77.9849812 62.853567,77.9849812 C57.3441802,77.9849812 52.6689612,76.0644556 48.8279099,72.2234043 C44.9868586,68.3823529 43.0663329,63.7071339 43.0663329,58.1977472 C43.0663329,52.6883605 44.9868586,48.0131414 48.8279099,44.1720901 C52.6689612,40.3310388 57.3441802,38.4105131 62.853567,38.4105131 C68.3629537,38.4105131 73.0381727,40.3310388 76.879224,44.1720901 C80.7202753,48.0131414 82.640801,52.6883605 82.640801,58.1977472 C82.640801,60.2152691 82.3110138,62.1745932 81.6514393,64.0757196 C80.9918648,65.9768461 80.1188986,67.7809762 79.0325407,69.4881101 L94.6295369,84.9687109 L89.6245307,89.9737171 Z M62.853567,71.0012516 C66.4230288,71.0012516 69.4493116,69.7596996 71.9324155,67.2765957 C74.4155194,64.7934919 75.6570713,61.767209 75.6570713,58.1977472 C75.6570713,54.6282854 74.4155194,51.6020025 71.9324155,49.1188986 C69.4493116,46.6357947 66.4230288,45.3942428 62.853567,45.3942428 C59.2841051,45.3942428 56.2578223,46.6357947 53.7747184,49.1188986 C51.2916145,51.6020025 50.0500626,54.6282854 50.0500626,58.1977472 C50.0500626,61.767209 51.2916145,64.7934919 53.7747184,67.2765957 C56.2578223,69.7596996 59.2841051,71.0012516 62.853567,71.0012516 Z",id:"Shape"}))));m();var Sy=dr(Fr()),M9e=n=>Sy.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Sy.createElement("title",null,"channel_samples"),Sy.createElement("g",{id:"channel_samples",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Sy.createElement("g",{id:"Group",transform:"translate(5.000000, 5.000000)",fill:"#4285F4",className:"primary-fill"},Sy.createElement("path",{d:"M20.25,6.75 L83.25,6.75 L83.25,70.875 L20.25,70.875 L20.25,6.75 Z M20.25,0 C18.45,0 16.875,0.675 15.525,2.025 C14.175,3.375 13.5,4.95 13.5,6.75 L13.5,69.75 C13.5,71.55 14.175,73.125 15.525,74.475 C16.875,75.825 18.45,76.5 20.25,76.5 L83.25,76.5 C85.05,76.5 86.625,75.825 87.975,74.475 C89.325,73.125 90,71.55 90,69.75 L90,6.75 C90,4.95 89.325,3.375 87.975,2.025 C86.625,0.675 85.05,0 83.25,0 L20.25,0 Z M6.75,90 C4.95,90 3.375,89.325 2.025,87.975 C0.675,86.625 0,85.05 0,83.25 L0,13.5 L6.75,13.5 L6.75,83.25 L76.5,83.25 L76.5,90 L6.75,90 Z",id:"Shape",fillRule:"nonzero"}),Sy.createElement("rect",{id:"Rectangle",x:30.1571655,y:21.9026527,width:42.7656174,height:6.46202087}),Sy.createElement("rect",{id:"Rectangle-Copy",x:30.1571655,y:36.2815933,width:42.7656174,height:6.46202087}),Sy.createElement("rect",{id:"Rectangle-Copy-2",x:30.1571655,y:50.2489586,width:22.6109238,height:6.46202087}))));m();var EC=dr(Fr()),P9e=n=>EC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},EC.createElement("title",null,"channel_settings"),EC.createElement("g",{id:"channel_settings",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},EC.createElement("g",{id:"settings_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},EC.createElement("path",{d:"M35.6125,92.5 L33.3,77.93125 C31.8354167,77.3916667 30.29375,76.659375 28.675,75.734375 C27.05625,74.809375 25.6302083,73.8458333 24.396875,72.84375 L10.753125,79.0875 L0,60.125 L12.4875,50.990625 C12.3333333,50.296875 12.2369792,49.5067708 12.1984375,48.6203125 C12.1598958,47.7338542 12.140625,46.94375 12.140625,46.25 C12.140625,45.55625 12.1598958,44.7661458 12.1984375,43.8796875 C12.2369792,42.9932292 12.3333333,42.203125 12.4875,41.509375 L0,32.375 L10.753125,13.4125 L24.396875,19.65625 C25.6302083,18.6541667 27.05625,17.690625 28.675,16.765625 C30.29375,15.840625 31.8354167,15.146875 33.3,14.684375 L35.6125,0 L56.8875,0 L59.2,14.56875 C60.6645833,15.1083333 62.2255208,15.8213542 63.8828125,16.7078125 C65.5401042,17.5942708 66.946875,18.5770833 68.103125,19.65625 L81.746875,13.4125 L92.5,32.375 L80.0125,41.278125 C80.1666667,42.0489583 80.2630208,42.8776042 80.3015625,43.7640625 C80.3401042,44.6505208 80.359375,45.4791667 80.359375,46.25 C80.359375,47.0208333 80.3401042,47.8302083 80.3015625,48.678125 C80.2630208,49.5260417 80.1666667,50.3354167 80.0125,51.10625 L92.5,60.125 L81.746875,79.0875 L68.103125,72.84375 C66.8697917,73.8458333 65.4630208,74.8286458 63.8828125,75.7921875 C62.3026042,76.7557292 60.7416667,77.46875 59.2,77.93125 L56.8875,92.5 L35.6125,92.5 Z M46.25,61.28125 C50.4125,61.28125 53.9583333,59.8166667 56.8875,56.8875 C59.8166667,53.9583333 61.28125,50.4125 61.28125,46.25 C61.28125,42.0875 59.8166667,38.5416667 56.8875,35.6125 C53.9583333,32.6833333 50.4125,31.21875 46.25,31.21875 C42.0875,31.21875 38.5416667,32.6833333 35.6125,35.6125 C32.6833333,38.5416667 31.21875,42.0875 31.21875,46.25 C31.21875,50.4125 32.6833333,53.9583333 35.6125,56.8875 C38.5416667,59.8166667 42.0875,61.28125 46.25,61.28125 Z M46.25,54.34375 C44.0145833,54.34375 42.1067708,53.5536458 40.5265625,51.9734375 C38.9463542,50.3932292 38.15625,48.4854167 38.15625,46.25 C38.15625,44.0145833 38.9463542,42.1067708 40.5265625,40.5265625 C42.1067708,38.9463542 44.0145833,38.15625 46.25,38.15625 C48.4854167,38.15625 50.3932292,38.9463542 51.9734375,40.5265625 C53.5536458,42.1067708 54.34375,44.0145833 54.34375,46.25 C54.34375,48.4854167 53.5536458,50.3932292 51.9734375,51.9734375 C50.3932292,53.5536458 48.4854167,54.34375 46.25,54.34375 Z M41.1625,85.5625 L51.3375,85.5625 L52.95625,72.6125 C55.5,71.9958333 57.9088542,71.0322917 60.1828125,69.721875 C62.4567708,68.4114583 64.51875,66.83125 66.36875,64.98125 L78.625,70.3 L83.25,61.975 L72.38125,53.996875 C72.6895833,52.6864583 72.9401042,51.3953125 73.1328125,50.1234375 C73.3255208,48.8515625 73.421875,47.5604167 73.421875,46.25 C73.421875,44.9395833 73.3447917,43.6484375 73.190625,42.3765625 C73.0364583,41.1046875 72.7666667,39.8135417 72.38125,38.503125 L83.25,30.525 L78.625,22.2 L66.36875,27.51875 C64.5958333,25.5145833 62.5916667,23.8380208 60.35625,22.4890625 C58.1208333,21.1401042 55.6541667,20.2729167 52.95625,19.8875 L51.3375,6.9375 L41.1625,6.9375 L39.54375,19.8875 C36.9229167,20.4270833 34.4755208,21.3520833 32.2015625,22.6625 C29.9276042,23.9729167 27.9041667,25.5916667 26.13125,27.51875 L13.875,22.2 L9.25,30.525 L20.11875,38.503125 C19.8104167,39.8135417 19.5598958,41.1046875 19.3671875,42.3765625 C19.1744792,43.6484375 19.078125,44.9395833 19.078125,46.25 C19.078125,47.5604167 19.1744792,48.8515625 19.3671875,50.1234375 C19.5598958,51.3953125 19.8104167,52.6864583 20.11875,53.996875 L9.25,61.975 L13.875,70.3 L26.13125,64.98125 C27.98125,66.83125 30.0432292,68.4114583 32.3171875,69.721875 C34.5911458,71.0322917 37,71.9958333 39.54375,72.6125 L41.1625,85.5625 Z",id:"Shape"}))));m();var SC=dr(Fr()),B9e=n=>SC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},SC.createElement("title",null,"channel_source"),SC.createElement("g",{id:"channel_source",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},SC.createElement("g",{id:"account_tree_FILL0_wght400_GRAD0_opsz48",transform:"translate(50.000000, 50.000000) scale(-1, -1) translate(-50.000000, -50.000000) translate(3.333333, 8.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},SC.createElement("path",{d:"M61.1333333,84 L61.1333333,69.4166667 L43.1666667,69.4166667 L43.1666667,21.5833333 L32.3166667,21.5833333 L32.3166667,36.75 L0,36.75 L0,0 L32.3166667,0 L32.3166667,14.5833333 L61.1333333,14.5833333 L61.1333333,0 L93.3333333,0 L93.3333333,36.75 L61.1333333,36.75 L61.1333333,21.5833333 L50.1666667,21.5833333 L50.1666667,62.4166667 L61.1333333,62.4166667 L61.1333333,47.25 L93.3333333,47.25 L93.3333333,84 L61.1333333,84 Z M7,7 L7,29.75 L7,7 Z M68.1333333,54.25 L68.1333333,77 L68.1333333,54.25 Z M68.1333333,7 L68.1333333,29.75 L68.1333333,7 Z M68.1333333,29.75 L86.3333333,29.75 L86.3333333,7 L68.1333333,7 L68.1333333,29.75 Z M68.1333333,77 L86.3333333,77 L86.3333333,54.25 L68.1333333,54.25 L68.1333333,77 Z M7,29.75 L25.3166667,29.75 L25.3166667,7 L7,7 L7,29.75 Z",id:"Shape"}))));m();var qae=dr(Fr()),j9e=n=>qae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100px",height:"100px",viewBox:"5 5 38 38",role:"img",...n},qae.createElement("path",{className:"primary-fill",d:"M11 39h7.5V26.5h11V39H37V19.5L24 9.75 11 19.5Zm-3 3V18L24 6l16 12v24H26.5V29.5h-5V42Zm16-17.65Z"}));var Uae=({name:n})=>{let e={width:"18px",height:"18px"};switch(n){case"about":return v.createElement(R9e,{...e});case"feedback":return v.createElement(N9e,{...e});case"help":return v.createElement(L9e,{...e});case"preview":return v.createElement(k9e,{...e});case"query":return v.createElement(I9e,{...e});case"samples":return v.createElement(M9e,{...e});case"settings":return v.createElement(P9e,{...e});case"source":return v.createElement(B9e,{...e});case"home":return v.createElement(j9e,{...e})}};var wC=({icon:n,text:e,onClick:t,selected:r,disabled:i=!1})=>v.createElement(x1t,{onClick:t,selected:r,disabled:i},v.createElement(Uae,{name:n}),e),x1t=jn.button`
  outline: none;
  border: none;
  color: ${mi.dimension.fillStrong};
  display: flex;
  flex-direction: column;
  background-color: transparent;
  gap: 8px;
  align-items: center;
  justify-content: center;
  padding: 10px;
  font-weight: 600;

  ${({selected:n,disabled:e})=>(e?`
      .primary-fill {
        fill: ${mi.other.fillMedium};
      }

      color: ${mi.other.fillMedium};
    `:`
      cursor: pointer;

      &:hover {
        background-color: ${mi.other.fillLight};
      }

      .primary-fill {
        fill: ${mi.other.fillStrong};
      }

      color: ${mi.other.fillStrong};
    `)+(n?`
      color: ${mi.dimension.fillStrong};

      &:hover {
        background-color: ${mi.dimension.fillLight};
      }

      .primary-fill {
        fill: ${mi.dimension.fillStrong};
      }
      `:"")}
`;m();m();var q9e=jn.div`
  padding: 5px;
  background-color: #fbb;
  font-family: "Google Sans", sans-serif;
  font-size: 12px;
  color: #4b4c50;
  border-radius: 5px;
`,g1t=jn(q9e)`
  white-space: pre-wrap;
  font-family: "Roboto Mono", monospace;
`,$ae=({error:n})=>{if(n){let{message:e}=n;return e.split(`
`).length>1?v.createElement(g1t,null,e):v.createElement(q9e,null,e)}return null};var NIe=dr(FAe());m();async function xmt(n,e,t){return t===void 0||n===void 0?void 0:v2()?T9e(n,t):(await(await fetch("api/top_values",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelPath:e,source:t})})).json()).result}function DAe(n,e,t){let{data:r}=gg(["top_values",e,t?.name],()=>xmt(n,e,t),{refetchOnWindowFocus:!1});return r}m();m();var OAe=dr(Fr());function O1(n,e){(0,OAe.useEffect)(()=>{let t=Array.isArray(n)?n:[n],r=!1,i=(l,f)=>!l.current||f.target instanceof Element&&l.current.contains(f.target),s=l=>t.some(f=>i(f,l)),o=l=>{!r||s(l)||(e(l),r=!1)},a=l=>{s(l)||(r=!0)};return document.addEventListener("mouseup",o),document.addEventListener("mousedown",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("mousedown",a)}},[n,e])}m();var Zz=dr(Fr());function eH(n){let e=(0,Zz.useRef)();return(0,Zz.useEffect)(()=>{e.current=n}),e.current}m();var S4=dr(Fr());m();m();function tH(n,e){if(n===void 0)return{stageIndex:e.stageIndex};if(e.fieldIndex===void 0)throw new Error("Invalid push to stage path");return{stageIndex:e.stageIndex,parts:[...n.parts||[],{stageIndex:n.stageIndex,fieldIndex:e.fieldIndex}]}}function Xae(n){if(n.parts&&n.parts.length>0){let e=n.parts[0];return{stageIndex:e.stageIndex,fieldIndex:e.fieldIndex,stagePath:{stageIndex:n.stageIndex,parts:n.parts.slice(1)}}}return{stageIndex:n.stageIndex}}function RAe(n){return n.parts?{stagePath:{stageIndex:n.parts[0].stageIndex,parts:n.parts?.slice(1)},stageIndex:n.stageIndex,fieldIndex:n.parts[0].fieldIndex}:{stagePath:void 0,fieldIndex:void 0,stageIndex:n.stageIndex}}var $0=dr(w1());var Zae=class{constructor(e){this._source=e}updateSource(e){this._source=e}getSource(){return this._source}getField(e,t){let r=t.split("."),i=e;for(;r.length>1;){let o=r[0],a=i.fields.find(l=>(l.as||l.name)===o);if(a===void 0)throw new Error(`Could not find (inner) ${o}`);if(a.type==="struct")i=a,r=r.slice(1);else if(a.type==="turtle"){let l=this.getSource();for(let f of a.pipeline)l=this.modifySourceForStage(f,l);i=l,r=r.slice(1)}else throw new Error("Inner segment in path is not a source")}let s=i.fields.find(o=>(o.as||o.name)===r[0]);if(s===void 0)throw new Error(`Could not find ${r[0]}`);return s}modifySourceForStage(e,t){return $0.Segment.nextStructDef(t,e)}},eue={pipeline:[{type:"reduce",fields:[]}],name:"new_query",type:"turtle"},tue=class extends Zae{constructor(e){super(e);this.query=JSON.parse(JSON.stringify(eue))}getWriter(){return new NAe(this.query,this._source)}getQuerySummary(e){return this._source===void 0?void 0:this.getWriter().getQuerySummary(e)}getQueryStringForModel(){return this._source===void 0?void 0:this.getWriter().getQueryStringForModel()}getQueryStringForSource(e){return this._source===void 0?void 0:this.getWriter().getQueryStringForSource(e)}getQueryStringForMarkdown(e,t){return this._source===void 0?void 0:this.getWriter().getQueryStringForMarkdown(e,t)}getQueryStrings(e,t){let r=this.getWriter();return{model:r.getQueryStringForModel(),source:r.getQueryStringForSource(this.query.name),markdown:r.getQueryStringForMarkdown(e,t),isRunnable:this.canRun()}}getName(){return this.query.name}isEmpty(){return JSON.stringify(this.query)===JSON.stringify(eue)}clearQuery(){this.query=JSON.parse(JSON.stringify(eue))}setQuery(e){this.query={pipeline:e.pipeline,name:e.as||e.name,type:"turtle"}}stageAtPath(e){let t=this.query.pipeline;for(;;){let{stagePath:r,stageIndex:i,fieldIndex:s}=Xae(e);if(s!==void 0){let o=t[i].fields[s];if(typeof o=="string"||(0,$0.isFilteredAliasedName)(o)||o.type!=="turtle")throw new Error("Path does not refer to a stage correctly");if(t=o.pipeline,r===void 0)throw new Error("Invalid stage path");e=r}else return t[i]}}sourceForStageAtPath(e){let t=this.query.pipeline,r=this.getSource();for(;;){let{stagePath:i,stageIndex:s,fieldIndex:o}=Xae(e);for(let a=0;a<s;a++)r=this.modifySourceForStage(t[a],r);if(o!==void 0){let a=t[s].fields[o];if(typeof a=="string"||(0,$0.isFilteredAliasedName)(a)||a.type!=="turtle")throw new Error("Path does not refer to a stage correctly");if(t=a.pipeline,i===void 0)throw new Error("Invalid stage path");e=i}else return r}}sortOrder(e){return e.type==="struct"?3:e.type==="turtle"?2:e.aggregate?1:0}fieldDefForQueryFieldDef(e,t){return typeof e=="string"?this.getField(t,e):(0,$0.isFilteredAliasedName)(e)?this.getField(t,e.name):e}getIndexToInsertNewField(e,t){let r=this.stageAtPath(e),i=this.sourceForStageAtPath(e),s=this.fieldDefForQueryFieldDef(t,i),o=this.sortOrder(s);for(let a=0;a<r.fields.length;a++){let l=r.fields[a];try{let f=this.fieldDefForQueryFieldDef(l,i);if(this.sortOrder(f)>o)return a}catch(f){console.log(f)}}return r.fields.length}insertField(e,t){let r=this.stageAtPath(e),i=this.getIndexToInsertNewField(e,t);r.fields.splice(i,0,t)}addField(e,t){this.insertField(e,t)}loadQuery(e){let t=this.getField(this.getSource(),e);if(t.type!=="turtle")throw new Error("Path does not refer to query.");t.pipeline.forEach((r,i)=>{if(this.query.pipeline[i]===void 0)this.query.pipeline[i]=JSON.parse(JSON.stringify(r));else{let s=this.query.pipeline[i];if(s.type!=="reduce"||r.type!=="reduce")throw new Error("Cannot load query with non-reduce stages");r.by&&(s.by={...r.by},s.orderBy=void 0),r.filterList&&(s.filterList=(s.filterList||[]).concat(...r.filterList.filter(o=>!s.filterList?.find(a=>a.code===o.code)))),r.limit&&(s.limit=r.limit),r.orderBy&&(s.orderBy=r.orderBy,s.by=void 0),s.fields=r.fields.map(o=>JSON.parse(JSON.stringify(o))).concat(s.fields.filter(o=>!r.fields.find(a=>this.nameOf(a)===this.nameOf(o))))}}),this.query.name=t.as||t.name}nameOf(e){return typeof e=="string"?e:e.as||e.name}replaceSavedField(e,t,r){this.stageAtPath(e).fields.splice(t,1,r)}removeField(e,t){let r=this.stageAtPath(e);if(r.type==="reduce"&&r.orderBy){let i=r.orderBy.findIndex(s=>{let o=r.fields[t];return s.field===this.nameOf(o)});i!==-1&&r.orderBy.splice(i,1)}r.fields.splice(t,1)}getFieldIndex(e,t){let i=this.stageAtPath(e).fields.findIndex(s=>s===t);return i===-1?void 0:i}hasField(e,t){return this.getFieldIndex(e,t)!==void 0}reorderFields(e,t){let r=this.stageAtPath(e),i=t.map(s=>r.fields[s]);r.fields=i}toggleField(e,t){let r=this.getFieldIndex(e,t);r!==void 0?this.removeField(e,r):this.addField(e,t)}getQuery(){return this.query}addFilter(e,t){let r=this.stageAtPath(e);r.filterList=[...r.filterList||[],t]}editFilter(e,t,r,i){let s=this.stageAtPath(e);if(t===void 0){if(s.filterList===void 0)throw new Error("Stage has no filters.");s.filterList[r]=i}else{let o=s.fields[t];if(!(0,$0.isFilteredAliasedName)(o))throw new Error("Cannot edit filter on non FAN.");if(o.filterList===void 0)throw new Error("Field has no filters");o.filterList[r]=i}}removeFilter(e,t,r){let i=this.stageAtPath(e);if(r===void 0)i.filterList&&i.filterList.splice(t,1);else{let s=i.fields[r];(0,$0.isFilteredAliasedName)(s)&&s.filterList?.splice(r,1)}}hasLimit(e){let t=this.stageAtPath(e);if(t.type!=="reduce")throw new Error("Don't know how to handle this yet");return t.limit!==void 0}addLimit(e,t,r,i){let s=this.stageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");s.limit=t,r&&(s.orderBy=[{field:r.path,dir:i}])}addOrderBy(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[];let s=i.fields[t],o=typeof s=="string"?s:s.as||s.name;i.orderBy.push({field:o,dir:r})}editOrderBy(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[],i.orderBy[t]={field:i.orderBy[t].field,dir:r}}removeLimit(e){let t=this.stageAtPath(e);t.limit=void 0}addStage(e,t){let r;if(e!==void 0){let i=this.stageAtPath(e);if(t===void 0)throw new Error("fieldIndex must be provided if stagePath is");let s=i.fields[t];if(typeof s!="string"&&!(0,$0.isFilteredAliasedName)(s)&&s.type==="turtle")r=s;else throw new Error("Invalid field to add stage to.")}else r=this.query;r.pipeline.push({type:"reduce",fields:[]})}removeStage(e){let{stagePath:t,fieldIndex:r,stageIndex:i}=RAe(e),s;if(t!==void 0){let o=this.stageAtPath(t);if(r===void 0)throw new Error("Invalid stage path");let a=o.fields[r];if(typeof a!="string"&&!(0,$0.isFilteredAliasedName)(a)&&a.type==="turtle")s=a;else throw new Error("Invalid field to add stage to.")}else s=this.query;s.pipeline.splice(i,1),s.pipeline.length===0&&s.pipeline.push({type:"reduce",fields:[]})}removeOrderBy(e,t){let r=this.stageAtPath(e);if(r.type!=="reduce")throw new Error("Don't know how to handle this yet");r.orderBy&&r.orderBy.splice(t,1)}canRun(){return this.query.pipeline[0].fields.length>0}renameField(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");let s=i.fields[t],o=this.nameOf(s);i.orderBy&&i.orderBy.forEach(a=>{a.field===o&&(a.field=r)}),typeof s=="string"?i.fields[t]={name:s,as:r}:((0,$0.isFilteredAliasedName)(s),s.as=r)}addFilterToField(e,t,r,i){i!==void 0&&this.renameField(e,t,i);let s=this.stageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");let o=s.fields[t];if(typeof o=="string"){if(i===void 0)throw new Error("As must be specified if field is not already renamed.")}else(0,$0.isFilteredAliasedName)(o)&&(o.filterList=[...o.filterList||[],r])}addNewNestedQuery(e,t){let r={name:t,type:"turtle",pipeline:[{type:"reduce",fields:[]}]};this.insertField(e,r)}addNewField(e,t){this.insertField(e,t)}editFieldDefinition(e,t,r){let i=this.stageAtPath(e);i.fields[t]=r}replaceWithDefinition(e,t,r){r===void 0&&(r=this._source);let i=this.stageAtPath(e),s=i.fields[t];if(typeof s!="string")throw new Error("Don't deal with this yet");let o=r.fields.find(a=>(a.as||a.name)===s);if(o===void 0)throw new Error("Field is not defined..");i.fields[t]=JSON.parse(JSON.stringify(o))}setName(e){this.query.name=e}},NAe=class extends Zae{constructor(e,t){super(t);this.query=e}getQueryStringForMarkdown(e,t){let r=this.getMalloyString(!1,this.query.name);return`<!-- malloy-query  
  name="${am(this.query.name)}"
  description="Add a description here." ${e?`
  renderer="${e}"`:""}
  model="${t}"
-->
\`\`\`malloy
${r}
\`\`\``}getQueryStringForSource(e){return this.getMalloyString(!0,e)}getQueryStringForModel(){return this.getMalloyString(!1,this.query.name)}getFiltersString(e){let t=[];e.length===1?t.push(" "):t.push(Ay,TC);for(let r=0;r<e.length;r++){let i=e[r];t.push(i.code),r!==e.length-1&&t.push(","),t.push(Ay)}return e.length>1&&t.push(FC),t}maybeQuoteIdentifier(e){let t=e.split(".");for(let r=0;r<t.length;r++)t[r].match(/^[A-Za-z_][A-Za-z_0-9]*$/)||(t[r]=`\`${t[r]}\``);return t.join(".")}codeInfoForField(e,t,r){try{if(typeof e=="string"){let i=this.getField(t,e);if(i.type==="struct")throw new Error("Don't know how to deal with this");return{property:i.type==="turtle"?"nest":i.aggregate?"aggregate":"group_by",malloy:[this.maybeQuoteIdentifier(e)]}}else if((0,$0.isFilteredAliasedName)(e)){let i=this.getField(t,e.name);if(i.type==="struct")throw new Error("Don't know how to deal with this");let s=i.type==="turtle"?"nest":i.aggregate?"aggregate":"group_by",o=[],a=e.as===void 0?"":`${this.maybeQuoteIdentifier(e.as)} is `;return o.push(`${a}${this.maybeQuoteIdentifier(e.name)}`),e.filterList&&e.filterList.length>0&&(o.push(" {",TC,"where:"),o.push(...this.getFiltersString(e.filterList||[])),o.push(FC,"}")),{property:s,malloy:o}}else if(e.type==="turtle"){let i=[];i.push(`${this.maybeQuoteIdentifier(e.as||e.name)} is`);let s=t,o=!0;for(let a of e.pipeline)o||i.push("->"),i.push(...this.getMalloyStringForStage(a,s,r+"  ")),s=this.modifySourceForStage(a,s),o=!1;return{property:"nest",malloy:i}}else{let i=e.aggregate?"aggregate":"group_by",s=[`${this.maybeQuoteIdentifier(e.as||e.name)} is ${e.code}`];return{property:i,malloy:s}}}catch(i){console.log(i)}}writeMalloyForPropertyValues(e,t){return t.length===0?[]:t.length===1?[e,": ",...t[0],Ay]:[e,": ",Ay,TC,...t.flatMap(r=>[...r,Ay]),FC]}getMalloyStringForStage(e,t,r=""){let i=[];i.push(" {",Ay,TC),e.filterList&&e.filterList.length>0&&i.push("where:",...this.getFiltersString(e.filterList));let s,o=[];for(let a of e.fields){let l=this.codeInfoForField(a,t,r);l&&(s!==void 0&&l.property!==s&&(i.push(...this.writeMalloyForPropertyValues(s,o)),o=[]),s=l.property,o.push(l.malloy))}return s&&i.push(...this.writeMalloyForPropertyValues(s,o)),e.limit&&i.push(`limit: ${e.limit}`,Ay),e.type==="reduce"&&e.orderBy&&e.orderBy.length>0&&(i.push("order_by: "),i.push(e.orderBy.map(a=>{let l;if(typeof a.field=="string"){let f=a.field.split(".");l=f[f.length-1]}else l=a.field;return`${typeof l=="string"?this.maybeQuoteIdentifier(l):l}${a.dir?" "+a.dir:""}`}).join(", "),Ay)),i.push(FC,"}"),i}getMalloyString(e,t){if(this.getSource()===void 0)return"";let r=[];r.push("query:"),t!==void 0&&r.push(`${this.maybeQuoteIdentifier(t)} is`),e||r.push(this.maybeQuoteIdentifier(this.getSource().as||this.getSource().name));let i=[r.join(" ")],s=this.getSource();for(let o of this.query.pipeline)e||i.push(" ->"),i.push(...this.getMalloyStringForStage(o,s)),s=this.modifySourceForStage(o,s);return LAe(i)}getSummaryItemsForFilterList(e){let t=[];for(let r=0;r<e.length;r++){let i=e[r];t.push({type:"filter",filterSource:i.code,filterIndex:r})}return t}getQuerySummary(e){let t=this.query.name,r=this.getSource();return{stages:this.query.pipeline.map((s,o)=>{let a=this.getStageSummary(s,r,e);if(r=this.modifySourceForStage(s,r),o===this.query.pipeline.length-1){let l=this.getStyleItemForName(t,"query",e);l&&a.items.push(l)}return a})}}nameOf(e){return typeof e=="string"?e:e.as||e.name}getStyleItem(e,t,r){let i,s;if(typeof e=="string"){i=e;let o=this.getField(t,e);if(o.type==="struct")throw new Error("Don't know how to deal with this");s=o.type==="turtle"?"query":o.aggregate?"measure":"dimension"}else if(i=e.as||e.name,(0,$0.isFilteredAliasedName)(e)){let o=this.getField(t,e.name);if(o.type==="struct")throw new Error("Don't know how to deal with this");s=o.type==="turtle"?"query":o.aggregate?"measure":"dimension"}else s=e.type==="turtle"?"query":e.aggregate?"measure":"dimension";return this.getStyleItemForName(i,s,r)}getStyleItemForName(e,t,r){let i=r[e];if(!(i===void 0||i.renderer===void 0))return{type:"data_style",renderer:i.renderer,styleKey:e,canRemove:e in r,allowedRenderers:t==="query"||t==="source"?["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]:["number","boolean","currency","image","link","percent","text","time"]}}getStageSummary(e,t,r){let i=[],s=[];e.filterList&&i.push(...this.getSummaryItemsForFilterList(e.filterList));for(let o=0;o<e.fields.length;o++){let a=e.fields[o];try{let l=this.getStyleItem(a,t,r),f=l?[l]:[];if(typeof a=="string"){let p=this.getField(t,a);if(p.type==="struct")throw new Error("Don't know how to deal with this");i.push({type:"field",field:p,saveDefinition:void 0,fieldIndex:o,isRefined:!1,styles:f.filter(_=>_.canRemove),isRenamed:!1,path:a,kind:p.type==="turtle"?"query":p.aggregate?"measure":"dimension",name:p.as||p.name}),p.type!=="turtle"&&s.push({name:a,fieldIndex:o,type:p.type})}else if((0,$0.isFilteredAliasedName)(a)){let p=this.getField(t,a.name);if(p.type==="struct")throw new Error("Don't know how to deal with this");p.type!=="turtle"&&s.push({name:a.as||a.name,fieldIndex:o,type:p.type}),i.push({type:"field",field:p,saveDefinition:t===this.getSource()&&p.type!=="turtle"?this.fanToDef(a,p):void 0,fieldIndex:o,filters:this.getSummaryItemsForFilterList(a.filterList||[]),styles:f.filter(_=>_.canRemove),isRefined:!0,path:a.name,isRenamed:a.as!==void 0,name:a.as||a.name,kind:p.type==="turtle"?"query":p.aggregate?"measure":"dimension"})}else if(a.type==="turtle"){let p=[],_=t;for(let E of a.pipeline)p.push(this.getStageSummary(E,_,r)),_=this.modifySourceForStage(E,_);i.push({type:"nested_query_definition",name:a.as||a.name,fieldIndex:o,saveDefinition:t===this.getSource()?a:void 0,stages:p,styles:f})}else i.push({type:"field_definition",name:a.as||a.name,fieldIndex:o,field:a,saveDefinition:t===this.getSource()?a:void 0,source:a.code,kind:a.aggregate?"measure":"dimension",styles:f}),s.push({name:a.as||a.name,fieldIndex:o,type:a.type})}catch(l){i.push({type:"error_field",field:a,name:this.nameOf(a),error:l.message,fieldIndex:o})}}if(e.limit&&i.push({type:"limit",limit:e.limit}),e.type==="reduce"&&e.orderBy)for(let o=0;o<e.orderBy.length;o++){let a=e.orderBy[o],l;typeof a.field=="string"?l=e.fields.findIndex(p=>this.nameOf(p)===a.field):l=a.field-1;let f=e.fields[l];if(f!==void 0){let p;if(typeof f=="string"?p=this.getField(t,f):(0,$0.isFilteredAliasedName)(f)?p=this.getField(t,f.as||f.name):p=f,p.type==="struct"||p.type==="turtle")continue;i.push({type:"order_by",byField:{type:p.type,fieldIndex:l,name:this.nameOf(p)},direction:a.dir,orderByIndex:o})}}return{items:i,orderByFields:s,inputSource:t}}fanToDef(e,t){let r=[e.name];e.filterList&&e.filterList.length>0&&(r.push(" {",TC,"where:"),r.push(...this.getFiltersString(e.filterList||[])),r.push(FC,"}"));let i=LAe(r);return{type:t.type,name:e.as||e.name,e:["ignore"],aggregate:t.aggregate,code:i}}},TC=Symbol("indent"),Ay=Symbol("newline"),FC=Symbol("outdent"),gmt=2;function LAe(n){let e="",t=0,r=!0;for(let i of n)i===Ay?(e+=`
`,r=!0):i===FC?t--:i===TC?t++:(r&&(e+=" ".repeat(t*gmt),r=!1),e+=i);return e}m();var kAe=dr(w1());async function ymt(n,e,t,r){if(v2()){let s=await C9e(n,r,e);if(s instanceof Error)throw s;return s}let i=await(await fetch("api/run_query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n,modelPath:t,queryName:r})})).json();return kAe.Result.fromJSON(i.result)}function IAe(n,e,t){let{data:r,mutateAsync:i,isLoading:s,reset:o}=uJ(({query:l,queryName:f})=>ymt(l,e,t,f),{onError:n});return{result:r,runQuery:(l,f)=>{o(),i({query:l,queryName:f})},isRunning:s,clearResult:o}}function nue(n,e,t,r){let i=(0,S4.useRef)(new tue(void 0)),[s,o]=(0,S4.useState)(),[a,l]=(0,S4.useState)(!1),[,f]=(0,S4.useState)(0),p=(0,S4.useRef)({size:0,position:0}),_=V3(),E=(0,S4.useRef)({}),O=Ie=>{i.current.updateSource(Ie)},R=i.current.getQuery()?.name,{result:q,runQuery:z,isRunning:L,clearResult:B}=IAe(o,n,e),P=()=>{let Ie=i.current.getQuerySummary({...r,...E.current}),re={stageIndex:Ie?Ie.stages.length-1:0};o(void 0),i.current?.hasLimit(re)||G(ct=>ct.addLimit(re,10),!0);let Ne=i.current.getQuery();if(i.current?.canRun()){let ct=i.current.getQueryStringForModel();z(ct,Ne.name),l(!1)}},G=(Ie,re=!1)=>{if(Ie(i.current),f(Ne=>Ne+1),i.current?.canRun()){let Ne=i.current.getQueryStringForModel();re||t({run:re,query:Ne,styles:E.current}),l(!0)}else l(!0);if(!re){let Ne=p.current.position+1;p.current.position=Ne,p.current.size=Ne}},ue=()=>{p.current.position>0&&(p.current.position--,_(-1))},I=()=>{p.current.position<p.current.size&&(p.current.position++,_(1))},J=()=>{p.current.position=0,p.current.size=0},he=(Ie=!1)=>{i.current.isEmpty()||(G(re=>{re.clearQuery(),E.current={}},Ie),B(),t({run:!1,query:void 0,styles:{}}))},ve=(Ie,re)=>{G(Ne=>Ne.toggleField(Ie,re))},Ve=(Ie,re)=>{G(Ne=>Ne.removeField(Ie,re))},ot=(Ie,re)=>{G(Ne=>Ne.addFilter(Ie,re))},lt=(Ie,re,Ne,ct)=>{G(_t=>_t.editFilter(Ie,re,Ne,ct))},et=(Ie,re,Ne)=>{G(ct=>ct.removeFilter(Ie,re,Ne))},bt=(Ie,re)=>{G(Ne=>Ne.addLimit(Ie,re))},Pt=(Ie,re)=>{G(Ne=>Ne.addStage(Ie,re))},$e=Ie=>{G(re=>re.removeStage(Ie))},te=(Ie,re,Ne)=>{G(ct=>ct.addOrderBy(Ie,re,Ne))},Ze=(Ie,re,Ne)=>{G(ct=>ct.editOrderBy(Ie,re,Ne))},ye=(Ie,re)=>{G(Ne=>Ne.removeOrderBy(Ie,re))},Le=Ie=>{G(re=>re.removeLimit(Ie))},Ce=(Ie,re,Ne)=>{G(ct=>ct.renameField(Ie,re,Ne))},pe=(Ie,re,Ne,ct)=>{G(_t=>_t.addFilterToField(Ie,re,Ne,ct))},Je=(Ie,re)=>{G(Ne=>Ne.addNewNestedQuery(Ie,re))},ut=(Ie,re)=>{G(Ne=>Ne.addNewField(Ie,re))},Ht=(Ie,re=!1)=>{G(Ne=>Ne.setQuery(Ie),re)},Ct=(Ie,re,Ne)=>{G(ct=>ct.editFieldDefinition(Ie,re,Ne))},xn=(Ie,re,Ne)=>{G(ct=>ct.editFieldDefinition(Ie,re,Ne))},Tt=(Ie,re)=>{G(Ne=>Ne.reorderFields(Ie,re))},Ot=(Ie,re)=>{G(Ne=>Ne.replaceWithDefinition(Ie,re))},rn=Ie=>{G(re=>re.loadQuery(Ie))},St=ut,_e=Ie=>{G(re=>{re.clearQuery();for(let Ne of Ie)re.addFilter({stageIndex:0},Ne)})},ke=(Ie,re,Ne=!1)=>{let ct={...E.current};return re===void 0?Ie in ct&&delete ct[Ie]:ct[Ie]={renderer:re},G(()=>{E.current=ct},Ne),ct},Se=(Ie,re=!1)=>{G(()=>{E.current=Ie},re)},ce={...r,...E.current},tt=i.current.getQuerySummary(ce);return{dirty:a,queryBuilder:i,queryMalloy:i.current.getQueryStrings(E.current[R]?.renderer,e),queryName:R,clearQuery:he,runQuery:P,isRunning:L,clearResult:B,source:i.current.getSource(),querySummary:tt,dataStyles:ce,result:q,error:s,canUndo:p.current.position>0,canRedo:p.current.position<p.current.size,setError:o,registerNewSource:O,undo:ue,redo:I,resetUndoHistory:J,isQueryEmpty:i.current.isEmpty(),canQueryRun:i.current.canRun(),queryModifiers:{setDataStyles:Se,setQuery:Ht,addFilter:ot,toggleField:ve,addLimit:bt,addOrderBy:te,addNewNestedQuery:Je,addNewDimension:ut,addNewMeasure:St,setDataStyle:ke,addStage:Pt,loadQuery:rn,updateFieldOrder:Tt,removeField:Ve,removeFilter:et,removeLimit:Le,removeOrderBy:ye,renameField:Ce,addFilterToField:pe,editLimit:bt,editFilter:lt,replaceWithDefinition:Ot,editDimension:Ct,editMeasure:xn,editOrderBy:Ze,removeStage:$e,clearQuery:he,onDrill:_e}}}m();m();var iRe=dr(Fr());m();m();m();var CR=dr(Fr()),MAe=n=>CR.createElement("svg",{width:"110px",height:"110px",viewBox:"6 6 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},CR.createElement("title",null,"insert_group_by"),CR.createElement("g",{id:"insert_group_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},CR.createElement("path",{d:"M31.7463881,49.3114698 C32.6824928,49.3083801 33.6154932,49.1963884 34.5261904,48.9793527 L45.0010173,67.8024842 L45.0010173,67.8032565 C43.2956473,70.2493007 42.5480527,73.2367133 42.8986175,76.1988173 C43.2492613,79.1601303 44.6742783,81.890304 46.9033203,83.870708 C49.1330544,85.851903 52.0117188,86.9463056 54.9937928,86.9463056 C57.9758669,86.9463056 60.8545313,85.8518634 63.0834745,83.870708 C65.3132086,81.890304 66.7382058,79.1601303 67.0889682,76.1988173 C67.4396121,73.2369111 66.6919779,70.2493007 64.9865684,67.8032565 L75.4613953,48.980125 L75.4613953,48.9793527 C78.5099046,49.699958 81.7183727,49.2180056 84.4200741,47.6338999 C87.1225664,46.0505653 89.1106817,43.4862425 89.9717699,40.4749053 C90.8328581,37.4635681 90.5008399,34.235723 89.0449384,31.4630387 C87.5882658,28.6903544 85.1197206,26.584791 82.151685,25.5847028 C79.1834516,24.5837248 75.9441385,24.7652355 73.1066007,26.0913707 C70.2688652,27.4167347 68.0507969,29.7848559 66.9138836,32.7028673 L43.0841815,32.7028673 C42.0044302,29.9371034 39.9514417,27.6601133 37.310837,26.3015513 C34.6702324,24.9429696 31.623898,24.5961814 28.7454313,25.32606 C25.8669647,26.0559385 23.3534966,27.8122421 21.6791694,30.2652067 C20.0046839,32.7173803 19.284138,35.6972794 19.6532888,38.644554 C20.021708,41.5910378 21.4544362,44.3012413 23.6819162,46.2662229 C25.9086844,48.2303345 28.776474,49.3139413 31.7460915,49.3115686 L31.7463881,49.3114698 Z M54.9987359,80.3146003 C53.5304767,80.3146003 52.1224442,79.7314725 51.0836021,78.6934213 C50.0455509,77.6545989 49.4624231,76.2465862 49.4624231,74.7782874 C49.4624231,73.3099887 50.0455509,71.9019957 51.0836021,70.8639445 C52.1224245,69.8251221 53.5304372,69.2419944 54.9987359,69.2419944 C56.4670347,69.2419944 57.8750277,69.8251221 58.9138698,70.8639445 C59.951921,71.9019957 60.5350488,73.3099887 60.5350488,74.7782874 C60.5350488,76.2465862 59.951921,77.6545792 58.9138698,78.6934213 C57.8750474,79.7314725 56.4670347,80.3146003 54.9987359,80.3146003 Z M78.2510838,31.5953952 C79.7193431,31.5953952 81.1273755,32.1785229 82.1654268,33.2165742 C83.203478,34.2553966 83.7873769,35.6634093 83.7873769,37.131708 C83.7873769,38.6000068 83.203478,40.0079998 82.1654268,41.046051 C81.1273755,42.0848734 79.7193826,42.6680011 78.2510838,42.6680011 C76.7828246,42.6680011 75.3740012,42.0848734 74.33595,41.046051 C73.2978987,40.0079998 72.714771,38.6000068 72.714771,37.131708 C72.714771,35.6634093 73.2978987,34.2554163 74.33595,33.2165742 C75.3740012,32.1785229 76.7827851,31.5953952 78.2510838,31.5953952 Z M43.7166018,39.3459801 L66.2808701,39.3459801 C66.7149337,41.7696815 67.8734779,44.0047541 69.6028318,45.75738 L59.7591401,63.5727121 C56.7137943,62.2774614 53.2720118,62.2774614 50.2258752,63.5727121 L40.3380911,45.75738 C42.0882652,44.0118524 43.2661865,41.7758109 43.7156132,39.3459801 L43.7166018,39.3459801 Z M31.7465858,31.5953952 C33.214845,31.5953952 34.6236684,32.1785229 35.6617196,33.2165742 C36.6997709,34.2553966 37.2828986,35.6634093 37.2828986,37.131708 C37.2828986,38.6000068 36.6997709,40.0079998 35.6617196,41.046051 C34.6236684,42.0848734 33.2148846,42.6680011 31.7465858,42.6680011 C30.2783266,42.6680011 28.8702941,42.0848734 27.8322428,41.046051 C26.7941916,40.0079998 26.2102927,38.6000068 26.2102927,37.131708 C26.2102927,35.6634093 26.7941916,34.2554163 27.8322428,33.2165742 C28.8702941,32.1785229 30.278287,31.5953952 31.7465858,31.5953952 L31.7465858,31.5953952 Z",id:"Shape-Copy-3",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"})));m();var Ix=dr(Fr()),PAe=n=>Ix.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ix.createElement("title",null,"insert_measure"),Ix.createElement("g",{id:"insert_measure",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ix.createElement("path",{d:"M64.4079772,43.4952662 C64.4079772,65.775216 64.4079772,77.6781315 64.4079772,79.2040126 C64.4079772,81.4928343 72.4309475,81.4935567 72.4309475,79.2040126 C72.4309475,77.6776499 72.4309475,65.7747344 72.4309475,43.4952662 L82.1242499,53.5032288 C82.9082803,54.3127101 83.9390395,54.7167092 84.9596343,54.7167092 C85.980229,54.7167092 87.0118722,54.3119686 87.7950187,53.5032288 C89.3623612,51.8850077 89.3623612,49.2552488 87.7950187,47.6371608 L71.2655269,30.5703346 C70.8943747,30.1871342 70.4404886,29.8781937 69.9456129,29.6650532 C69.9247535,29.6546561 69.9046123,29.6546561 69.883753,29.6435167 C69.4298852,29.4519166 68.9350096,29.3457171 68.4192709,29.3457171 C67.9035322,29.3457171 67.4086565,29.4519147 66.9547887,29.6435167 C66.9339294,29.6539139 66.9137882,29.6539139 66.8929288,29.6650532 C66.3980532,29.8781937 65.9441854,30.1863928 65.5730149,30.5703346 L49.0328429,47.6474271 C47.4655004,49.2656482 47.4655004,51.8954071 49.0328429,53.5134951 C50.6001855,55.1205753 53.1472623,55.1205753 54.714476,53.5023554 L64.4079772,43.4952662 Z",id:"Path-Copy-3",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero",transform:"translate(68.413931, 55.133308) rotate(-270.000000) translate(-68.413931, -55.133308) "}),Ix.createElement("rect",{id:"Rectangle-Copy-50",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 39.025784) rotate(-90.000000) translate(-32.019040, -39.025784) ",x:24.0122609,y:34.8667243,width:16.0135574,height:8.31811859}),Ix.createElement("rect",{id:"Rectangle-Copy-51",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 72.330197) rotate(-90.000000) translate(-32.019040, -72.330197) ",x:24.0122609,y:68.1711376,width:16.0135574,height:8.31811859}),Ix.createElement("circle",{id:"Oval-Copy-16",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 88.946306) rotate(-180.000000) translate(-32.019040, -88.946306) ",cx:32.0190396,cy:88.9463056,r:9.09652528}),Ix.createElement("circle",{id:"Oval-Copy-20",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 55.133308) rotate(-90.000000) translate(-32.019040, -55.133308) ",cx:32.0190396,cy:55.1333084,r:9.09652528}),Ix.createElement("circle",{id:"Oval-Copy-21",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",cx:32.0190396,cy:23.2007668,r:9.09652528})));m();var AR=dr(Fr()),BAe=n=>AR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},AR.createElement("title",null,"insert_filter"),AR.createElement("g",{id:"insert_filter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},AR.createElement("path",{d:"M87.3843313,20.5 C88.0702245,20.5 88.6794354,20.684137 89.1839151,20.9924545 C89.72968,21.3260038 90.1536978,21.8060023 90.4194477,22.364077 C90.6824778,22.9164401 90.7905536,23.5453405 90.7077209,24.1843828 C90.641307,24.6967561 90.4522801,25.21669 90.1181537,25.7073778 L89.9660074,25.9157747 L65.9667297,54.9330833 L65.9667297,86.0952768 C65.9667297,87.3578277 65.3421199,88.3687734 64.46847,88.9512067 C64.0000984,89.2634544 63.4591929,89.4523731 62.9014864,89.49211 C62.4335638,89.5254497 61.9536386,89.4542406 61.4987219,89.2647425 L61.3053966,89.1762469 L45.2981054,81.501442 C44.7448345,81.2248066 44.1940182,80.794047 43.8075879,80.2144017 C43.516589,79.7779032 43.3168206,79.2579753 43.2760203,78.6543848 L43.268304,78.4241163 L43.268304,54.9330833 L19.2778986,25.9265022 C18.8405281,25.4244753 18.5999563,24.8470099 18.5253334,24.2601464 C18.4451968,23.6299215 18.5577673,22.9877736 18.8297244,22.4166636 C19.0989541,21.8512813 19.5239716,21.3563425 20.06756,21.0111708 C20.5069962,20.7321343 21.0239609,20.5500465 21.6001779,20.5088845 L21.8507024,20.5 L87.3843313,20.5 Z M80.4108174,26.9794004 L28.8312662,26.9794004 L49.2106529,51.6044926 L49.3557497,51.8317181 C49.767411,52.5135117 49.9668805,53.1962297 49.9668805,53.8764024 L49.9668805,53.8764024 L49.9668805,76.3587304 L59.2681532,80.9104171 L59.2681532,53.6572264 L59.2765596,53.4785743 C59.3429907,52.7639199 59.7932531,52.0547544 60.2732157,51.568472 L60.2732157,51.568472 L80.4108174,26.9794004 Z",id:"Shape-Copy-2",stroke:"#4285F4",fill:"#4285F4",className:"primaryfill primarystroke",fillRule:"nonzero"})));m();var Ty=dr(Fr()),jAe=n=>Ty.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ty.createElement("title",null,"insert_limit"),Ty.createElement("g",{id:"insert_limit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ty.createElement("rect",{id:"Rectangle-Copy-46",className:"primaryfill",fill:"#4285F4",x:24,y:23,width:61.9377906,height:8,rx:4}),Ty.createElement("rect",{id:"Rectangle-Copy-47",className:"primaryfill",fill:"#4285F4",x:24,y:39,width:61.9377906,height:8,rx:4}),Ty.createElement("rect",{id:"Rectangle-Copy-48",className:"primaryfill",fill:"#4285F4",x:24,y:55,width:53.5,height:8,rx:4}),Ty.createElement("rect",{id:"Rectangle-Copy-49",className:"primaryfill",fill:"#4285F4",x:24,y:71.1904762,width:40,height:7.61904762,rx:3.80952381}),Ty.createElement("path",{d:"M77.1113683,65.3807638 L87.6203313,83.396129 C87.8986116,83.8731809 87.7374754,84.4854986 87.2604234,84.7637789 C87.1074874,84.8529916 86.933607,84.9 86.7565524,84.9 L65.7386264,84.9 C65.1863417,84.9 64.7386264,84.4522847 64.7386264,83.9 C64.7386264,83.7229454 64.7856348,83.549065 64.8748475,83.396129 L75.3838105,65.3807638 C75.6620908,64.9037119 76.2744085,64.7425757 76.7514604,65.020856 C76.9004641,65.1077747 77.0244495,65.2317602 77.1113683,65.3807638 Z",id:"Triangle-Copy-2",fill:"#4285F4",className:"primaryfill",transform:"translate(76.247589, 74.400000) rotate(-90.000000) translate(-76.247589, -74.400000) "})));m();var TR=dr(Fr()),qAe=n=>TR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},TR.createElement("title",null,"insert_nest"),TR.createElement("g",{id:"insert_nest",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},TR.createElement("path",{d:"M27.3181186,27 C29.5272576,27 31.3181186,28.790861 31.3181186,31 L31.318,59.317 L72.9431634,59.317258 L62.9360743,49.6237568 C61.3178543,48.0565431 61.3178543,45.5094664 62.9249345,43.9421238 C64.5430225,42.3747812 67.1727815,42.3747812 68.7910025,43.9421238 L68.7910025,43.9421238 L85.8680951,60.4822957 C86.2520369,60.8534663 86.560236,61.307334 86.7733764,61.8022097 C86.7845158,61.823069 86.7845158,61.8432103 86.7949129,61.8640696 C86.986515,62.3179374 87.0927126,62.812813 87.0927126,63.3285517 C87.0927126,63.8442904 86.9865131,64.3391661 86.7949129,64.7930338 C86.7837736,64.8138932 86.7837736,64.8340344 86.7733764,64.8548938 C86.560236,65.3497694 86.2512954,65.8036556 85.8680951,66.1748077 L85.8680951,66.1748077 L68.8012688,82.7042995 C67.1831809,84.2716421 64.5534219,84.2716421 62.9352009,82.7042995 C62.1264611,81.921153 61.7217204,80.8895099 61.7217204,79.8689151 C61.7217204,78.8483204 62.1257196,77.8175611 62.9352009,77.0335308 L62.9352009,77.0335308 L72.9431634,67.3402284 L27.234417,67.3402284 C25.2840646,67.3402284 23.6511005,66.037955 23.2100653,64.2817501 C23.0737364,63.8793045 23,63.4482633 23,63 L23,31 C23,28.790861 24.790861,27 27,27 L27.3181186,27 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var DC=dr(Fr()),UAe=n=>DC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},DC.createElement("title",null,"insert_order_by"),DC.createElement("g",{id:"insert_order_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},DC.createElement("path",{d:"M30.5506412,37.7046734 L30.5506412,81.9762916 C30.5506412,84.1931505 32.3445678,85.9877768 34.5621264,85.9877768 C36.7789852,85.9877768 38.5736115,84.1938502 38.5736115,81.9762916 L38.5736115,37.7046734 L48.2669139,47.3979757 C49.0509443,48.1820061 50.0817035,48.5733031 51.1022983,48.5733031 C52.122893,48.5733031 53.1545362,48.1812879 53.9376827,47.3979757 C55.5050252,45.8306331 55.5050252,43.2835564 53.9376827,41.7163427 L37.4081909,25.1861143 C37.0370387,24.8149622 36.5831526,24.515735 36.0882769,24.3092959 C36.0674175,24.2992257 36.0472763,24.2992257 36.026417,24.2884366 C35.5725492,24.1028605 35.0776736,24 34.5619349,24 C34.0461961,24 33.5513205,24.1028586 33.0974527,24.2884366 C33.0765934,24.2985068 33.0564522,24.2985068 33.0355928,24.3092959 C32.5407172,24.515735 32.0868494,24.814244 31.7156789,25.1861143 L15.1755069,41.7262862 C13.6081644,43.2936288 13.6081644,45.8407055 15.1755069,47.4079192 C16.7428495,48.9644712 19.2899263,48.9644712 20.85714,47.3971298 L30.5506412,37.7046734 Z",id:"Path-Copy",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"}),DC.createElement("path",{d:"M79.9439284,72.2964315 L79.9439284,28.0137648 C79.9439284,25.796906 78.1500018,24.0022797 75.9324432,24.0022797 C73.7155844,24.0022797 71.920958,25.7962062 71.920958,28.0137648 L71.920958,72.2853831 L62.2276557,62.5920808 C60.6603131,61.0247382 58.1233641,61.0247382 56.5460227,62.5920808 C54.9786801,64.1594234 54.9786801,66.7065001 56.5460227,68.2737138 L73.0861946,84.8138857 C73.4573467,85.1850378 73.9112329,85.484265 74.4061086,85.6907041 C74.4269679,85.7007743 74.4471091,85.7007743 74.4679685,85.7115634 C74.9218362,85.8971395 75.4167119,86 75.9324506,86 C76.4481893,86 76.943065,85.8971414 77.3969327,85.7115634 C77.4177921,85.7014932 77.4379333,85.7014932 77.4587926,85.6907041 C77.9536683,85.484265 78.407536,85.185756 78.7787066,84.8138857 L95.3188785,68.2737138 C96.8862211,66.7063712 96.8862211,64.1592945 95.3188785,62.5920808 C93.7515359,61.0355288 91.2044592,61.0355288 89.6372455,62.6028702 L79.9439284,72.2964315 Z",id:"Path-Copy-2",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));m();var Cb=dr(Fr()),$Ae=n=>Cb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Cb.createElement("title",null,"item_rename"),Cb.createElement("g",{id:"item_rename",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Cb.createElement("g",{id:"noun-rename-3187972",transform:"translate(19.000000, 29.000000)",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"},Cb.createElement("path",{d:"M70.5666667,14.4545455 L48.6666667,14.4545455 L48.6666667,4.81818182 L51.1,4.81818182 C51.9695899,4.81818182 52.7728819,4.35895403 53.2074057,3.61363636 C53.6419295,2.8683187 53.6419295,1.94984935 53.2074057,1.20454545 C52.7728819,0.459241558 51.9695621,0 51.1,0 L41.3666667,0 C40.4970768,0 39.6937848,0.459227792 39.259261,1.20454545 C38.8247371,1.94986312 38.8247371,2.86833247 39.259261,3.61363636 C39.6937848,4.35894026 40.4971046,4.81818182 41.3666667,4.81818182 L43.8,4.81818182 L43.8,14.4545455 L2.43333333,14.4545455 C1.78806895,14.4545455 1.1688621,14.7083673 0.712619048,15.1600649 C0.256376,15.6117626 0,16.2248005 0,16.8636364 L0,36.1363636 C0,36.7751995 0.256376,37.3882374 0.712619048,37.8399351 C1.1688621,38.2916327 1.78806895,38.5454545 2.43333333,38.5454545 L43.8,38.5454545 L43.8,48.1818182 L41.3666667,48.1818182 C40.4970768,48.1818182 39.6937848,48.641046 39.259261,49.3863636 C38.8247371,50.1316813 38.8247371,51.0501506 39.259261,51.7954545 C39.6937848,52.5407584 40.4971046,53 41.3666667,53 L51.1,53 C51.9695899,53 52.7728819,52.5407722 53.2074057,51.7954545 C53.6419295,51.0501369 53.6419295,50.1316675 53.2074057,49.3863636 C52.7728819,48.6410597 51.9695621,48.1818182 51.1,48.1818182 L48.6666667,48.1818182 L48.6666667,38.5454545 L70.5666667,38.5454545 C71.211931,38.5454545 71.8311379,38.2916327 72.287381,37.8399351 C72.743624,37.3882374 73,36.7751995 73,36.1363636 L73,16.8636364 C73,16.2248005 72.743624,15.6117626 72.287381,15.1600649 C71.8311379,14.7083673 71.211931,14.4545455 70.5666667,14.4545455 Z M4.86666667,33.7272727 L4.86666667,19.2727273 L43.8,19.2727273 L43.8,33.7272727 L4.86666667,33.7272727 Z M68.1333333,33.7272727 L48.6666667,33.7272727 L48.6666667,19.2727273 L68.1333333,19.2727273 L68.1333333,33.7272727 Z",id:"Shape"}),Cb.createElement("path",{d:"M36.5833621,24 L12.4166379,24 C11.553002,24 10.7552101,24.4765571 10.3236615,25.25 C9.89211284,26.0234429 9.89211284,26.9765714 10.3236615,27.75 C10.7552101,28.5234286 11.5530297,29 12.4166379,29 L36.5833621,29 C37.446998,29 38.2447899,28.5234429 38.6763385,27.75 C39.1078872,26.9765571 39.1078872,26.0234286 38.6763385,25.25 C38.2447899,24.4765714 37.4469703,24 36.5833621,24 Z",id:"Path"}))));m();var Ab=dr(Fr()),zAe=n=>Ab.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ab.createElement("title",null,"item_edit"),Ab.createElement("g",{id:"item_edit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ab.createElement("g",{id:"noun-edit-1269277",transform:"translate(24.000000, 19.000000)",fill:"#4285F4",fillRule:"nonzero",stroke:"#4285F4",className:"primaryfill primarystroke"},Ab.createElement("path",{d:"M3.59891474,39.407072 L3.06867736,55.867955 C3.03311545,56.9719519 3.89925313,57.8957468 5.00325002,57.9313087 C5.0461704,57.9326913 5.08912418,57.9326911 5.13204455,57.9313083 L21.5822973,57.4013025 C22.0903599,57.3849333 22.5731262,57.1757204 22.9324738,56.8161862 L59.5846859,20.1449445 C60.3655318,19.3636932 60.3652031,18.0973633 59.5839519,17.3165174 C59.5834627,17.3160285 59.5829732,17.3155398 59.5824835,17.3150514 L43.6370127,1.4108896 C42.8555349,0.631436244 41.5903551,0.632410128 40.8100781,1.41306566 L4.18332144,38.057592 C3.82420961,38.416878 3.61526942,38.8993513 3.59891474,39.407072 Z M19.6812157,53.0009522 L9.73874131,53.3226566 C8.63474957,53.358378 7.71082953,52.4923738 7.67510814,51.388382 C7.67371403,51.3452961 7.6737133,51.3021764 7.67510597,51.2590905 L7.99671088,41.3093667 C8.01311902,40.8017362 8.22204313,40.3193622 8.58108638,39.9601325 L30.3814317,18.1484685 C31.1612436,17.3682518 32.4255308,17.3667397 33.2072068,18.1450889 L42.8519496,27.7487844 C43.634662,28.5281657 43.6373624,29.7944927 42.8579812,30.5772051 C42.8571049,30.5780852 42.8562277,30.5789644 42.8553498,30.5798429 L21.0311311,52.4158307 C20.6718495,52.7753061 20.1891879,52.984516 19.6812157,53.0009522 Z M46.0079854,24.5968587 L36.3860729,14.9699505 C35.6062481,14.1882519 35.6062481,12.922488 36.3860729,12.1407894 L40.8083468,7.71621952 C41.5884586,6.93423458 42.8547885,6.93390593 43.6360397,7.71475178 C43.6362845,7.7149964 43.6365292,7.71524109 43.6360397,7.71621952 L53.2579523,17.3431277 C54.0377771,18.1248263 54.0377771,19.3905902 53.2579523,20.1722888 L48.8356784,24.5968587 C48.0555666,25.3788436 46.7892367,25.3791723 46.0079854,24.5983264 C46.0077407,24.5980818 46.007496,24.5978371 46.0079854,24.5968587 Z",id:"Shape"}),Ab.createElement("path",{d:"M2,64 L60,64 C61.1045695,64 62,64.8954305 62,66 C62,67.1045695 61.1045695,68 60,68 L2,68 C0.8954305,68 1.3527075e-16,67.1045695 0,66 C-1.3527075e-16,64.8954305 0.8954305,64 2,64 Z",id:"Path"}))));m();var OC=dr(Fr()),RC=n=>OC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},OC.createElement("title",null,"query_clear_hover"),OC.createElement("g",{id:"query_clear_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},OC.createElement("circle",{className:"circle hoverfill",fill:"transparent",cx:55,cy:55,r:55}),OC.createElement("path",{d:"M78.1428571,25 L85,31.8571429 L61.857,55 L85,78.1428571 L78.1428571,85 L55,61.857 L31.8571429,85 L25,78.1428571 L48.142,55 L25,31.8571429 L31.8571429,25 L55,48.143 L78.1428571,25 Z",className:"cross primaryfill",fill:"#4285F4"})));m();var NC=dr(Fr()),HAe=n=>NC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},NC.createElement("title",null,"query_add_hover"),NC.createElement("g",{id:"query_add_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},NC.createElement("circle",{id:"Oval",className:"hoverfill",fill:"transparent",cx:55,cy:55,r:55}),NC.createElement("path",{d:"M75.8285714,28 L82,34.1714286 L61.171,55 L82,75.8285714 L75.8285714,82 L54.999,61.171 L34.1714286,82 L28,75.8285714 L48.828,55 L28,34.1714286 L34.1714286,28 L55,48.829 L75.8285714,28 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",transform:"translate(55.000000, 55.000000) rotate(-315.000000) translate(-55.000000, -55.000000) "})));m();var LC=dr(Fr()),VAe=n=>LC.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},LC.createElement("title",null,"query_run_hover"),LC.createElement("g",{id:"query_run_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},LC.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),LC.createElement("path",{d:"M62,32.5734278 L89.4027789,80.75 L34.5972211,80.75 L62,32.5734278 Z",id:"Triangle",className:"primarystroke",stroke:"#4285F4",strokeWidth:6.5,transform:"translate(62.000000, 55.000000) rotate(-270.000000) translate(-62.000000, -55.000000) "})));m();var w4=dr(Fr()),WAe=n=>w4.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},w4.createElement("title",null,"query_save_hover"),w4.createElement("g",{id:"query_save_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},w4.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),w4.createElement("path",{d:"M55.9991771,28.3532333 L55.9991771,34.8532333 L32.864,34.8532333 L32.864,80.1272333 L53.9292984,65.9165518 L74.994,80.1272333 L74.9931771,54.8692333 L81.4941771,54.8692333 L81.4944197,92.3532333 L53.9292984,73.7573595 L26.3641771,92.3532333 L26.3641771,28.3532333 L55.9991771,28.3532333 Z",id:"Combined-Shape-Copy",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"}),w4.createElement("rect",{id:"Rectangle-Copy-2",className:"primaryfill",fill:"#4285F4",x:75.006375,y:19.6467667,width:6.48804474,height:24}),w4.createElement("rect",{id:"Rectangle-Copy-3",className:"primaryfill",fill:"#4285F4",transform:"translate(78.250397, 31.646767) rotate(-270.000000) translate(-78.250397, -31.646767) ",x:75.006375,y:19.6467667,width:6.48804474,height:24})));m();var FR=dr(Fr()),nH=n=>FR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},FR.createElement("title",null,"cahevron_down"),FR.createElement("g",{id:"cahevron_down",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},FR.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-180.000000) translate(-55.000000, -55.000005) "})));m();var kC=dr(Fr()),rue=n=>kC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},kC.createElement("title",null,"item_duplicate"),kC.createElement("g",{id:"item_duplicate",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},kC.createElement("rect",{id:"Rectangle",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,x:29.4307692,y:24,width:30.0923077,height:41.7692308,rx:5}),kC.createElement("rect",{id:"Rectangle-Copy",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,fill:"none",x:47.4769231,y:45.2307692,width:30.0923077,height:41.7692308,rx:5})));m();var Tb=dr(Fr()),rH=n=>Tb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Tb.createElement("title",null,"viz_scatter"),Tb.createElement("g",{id:"viz_scatter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Tb.createElement("path",{d:"M29.1340462,83.93 C36.5885775,83.93 42.6340462,77.8857969 42.6340462,70.43 C42.6340462,62.9742031 36.5885775,56.93 29.1340462,56.93 C21.679515,56.93 15.6340462,62.9742031 15.6340462,70.43 C15.6340462,77.8857969 21.679515,83.93 29.1340462,83.93 Z",id:"Path-Copy-3",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"}),Tb.createElement("path",{d:"M68.2840462,92.63 C73.6709212,92.63 78.0340462,88.264925 78.0340462,82.88 C78.0340462,77.495075 73.6709212,73.13 68.2840462,73.13 C62.8971712,73.13 58.5340462,77.495075 58.5340462,82.88 C58.5340462,88.264925 62.8971712,92.63 68.2840462,92.63 Z",id:"Path-Copy-2",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero",transform:"translate(68.284046, 82.880000) rotate(-360.000000) translate(-68.284046, -82.880000) "}),Tb.createElement("path",{d:"M67.8242963,57.43 C78.8701296,57.43 87.8242963,48.4758333 87.8242963,37.43 C87.8242963,26.3842917 78.8701296,17.43 67.8242963,17.43 C56.7784629,17.43 47.8242963,26.3842917 47.8242963,37.43 C47.8242963,48.4758333 56.7784629,57.43 67.8242963,57.43 Z",id:"Path-Copy",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"})));m();var Fb=dr(Fr()),QAe=n=>Fb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Fb.createElement("title",null,"alert_outline"),Fb.createElement("g",{id:"alert_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Fb.createElement("path",{d:"M54.0787732,20.8756898 C55.4385401,20.5119661 56.9370629,20.666976 58.2520419,21.4269314 C59.0865559,21.9092155 59.7796762,22.6023358 60.2619602,23.4368497 L60.2619602,23.4368497 L90.6657826,76.0457109 C91.425738,77.3606899 91.5807479,78.8592127 91.2170242,80.2189797 C90.8533006,81.5787466 89.9708433,82.7997576 88.6558643,83.559713 C87.8192733,84.0431974 86.8700737,84.2977528 85.9038224,84.2977528 L85.9038224,84.2977528 L25.0961776,84.2977528 C23.5773946,84.2977528 22.2023946,83.6821443 21.2070903,82.6868401 C20.2117861,81.6915359 19.5961776,80.3165359 19.5961776,78.7977528 C19.5961776,77.8315015 19.850733,76.8823018 20.3342174,76.0457109 L20.3342174,76.0457109 L50.7380398,23.4368497 C51.4979952,22.1218707 52.7190062,21.2394134 54.0787732,20.8756898 Z",id:"Triangle",stroke:"#EA4335",strokeWidth:7}),Fb.createElement("polygon",{id:"Path",fill:"#EA4335",fillRule:"nonzero",points:"50.4640684 39.8293463 60.4640684 39.8293463 60.4640684 60.8293463 50.4640684 60.8293463"}),Fb.createElement("path",{d:"M60.464247,71.3304517 C60.464247,74.092878 58.2250065,76.331047 55.4636517,76.331047 C52.7022969,76.331047 50.4630564,74.0929673 50.4630564,71.3304517 C50.4630564,68.5691861 52.7022969,66.331047 55.4636517,66.331047 C58.2250065,66.331047 60.464247,68.5691266 60.464247,71.3304517",id:"Path",fill:"#EA4335",fillRule:"nonzero"})));m();var DR=dr(Fr()),GAe=n=>DR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},DR.createElement("title",null,"pipeline"),DR.createElement("g",{id:"pipeline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},DR.createElement("path",{d:"M27,28 C27.5522847,28 28,28.4477153 28,29 L28,30.416 L54.4420782,30.4163284 C56.5842736,30.4163284 58.3331571,32.1002969 58.4371829,34.2166881 L58.4420782,34.4163284 L58.442,72.416 L82,72.416 L82,71 C82,70.4477153 82.4477153,70 83,70 L87,70 C87.5522847,70 88,70.4477153 88,71 L88,82 C88,82.5522847 87.5522847,83 87,83 L83,83 C82.4477153,83 82,82.5522847 82,82 L82,80.416 L54.4420782,80.4163284 C52.2998828,80.4163284 50.5509993,78.73236 50.4469735,76.6159688 L50.4420782,76.4163284 L50.442,38.416 L28,38.416 L28,40 C28,40.5522847 27.5522847,41 27,41 L23,41 C22.4477153,41 22,40.5522847 22,40 L22,29 C22,28.4477153 22.4477153,28 23,28 L27,28 Z",id:"Combined-Shape",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));m();var OR=dr(Fr()),iH=n=>OR.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},OR.createElement("title",null,"type-icon-projection"),OR.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},OR.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var Db=dr(Fr()),YAe=n=>Db.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Db.createElement("title",null,"move_icon_outline"),Db.createElement("g",{id:"move_icon_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Db.createElement("g",{id:"Group",transform:"translate(25.000000, 17.000000)",fillRule:"nonzero",stroke:"#979797",className:"primarystroke",strokeWidth:6},Db.createElement("path",{d:"M32.8776058,2.98037748 L53.4553591,24.2930505 C54.9898149,25.8823083 54.9453892,28.4145786 53.3561313,29.9490344 C52.6104198,30.6690317 51.6143254,31.0714286 50.5777533,31.0714286 L9.42224672,31.0714286 C7.21310772,31.0714286 5.42224672,29.2805676 5.42224672,27.0714286 C5.42224672,26.0348564 5.82464355,25.038762 6.54464088,24.2930505 L27.1223942,2.98037748 C28.65685,1.39111966 31.1891202,1.34669386 32.7783781,2.88114969 C32.8120317,2.91364284 32.8451127,2.94672386 32.8776058,2.98037748 Z",id:"Triangle"}),Db.createElement("path",{d:"M32.8776058,47.9803775 L53.4553591,69.2930505 C54.9898149,70.8823083 54.9453892,73.4145786 53.3561313,74.9490344 C52.6104198,75.6690317 51.6143254,76.0714286 50.5777533,76.0714286 L9.42224672,76.0714286 C7.21310772,76.0714286 5.42224672,74.2805676 5.42224672,72.0714286 C5.42224672,71.0348564 5.82464355,70.038762 6.54464088,69.2930505 L27.1223942,47.9803775 C28.65685,46.3911197 31.1891202,46.3466939 32.7783781,47.8811497 C32.8120317,47.9136428 32.8451127,47.9467239 32.8776058,47.9803775 Z",id:"Triangle-Copy",transform:"translate(30.000000, 60.535714) rotate(-180.000000) translate(-30.000000, -60.535714) "}))));m();var iue=dr(Fr()),KAe=n=>iue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px.0",viewBox:"-2 -2 24 24",width:"24px.0",fill:"#9aa0a6",className:"primaryfill",role:"img",...n},iue.createElement("path",{d:"M19.6 21.0 13.3 14.7Q12.55 15.3 11.575 15.65Q10.6 16.0 9.5 16.0Q6.775 16.0 4.8875 14.1125Q3.0 12.225 3.0 9.5Q3.0 6.775 4.8875 4.8875Q6.775 3.0 9.5 3.0Q12.225 3.0 14.1125 4.8875Q16.0 6.775 16.0 9.5Q16.0 10.6 15.65 11.575Q15.3 12.55 14.7 13.3L21.0 19.6ZM9.5 14.0Q11.375 14.0 12.6875 12.6875Q14.0 11.375 14.0 9.5Q14.0 7.625 12.6875 6.3125Q11.375 5.0 9.5 5.0Q7.625 5.0 6.3125 6.3125Q5.0 7.625 5.0 9.5Q5.0 11.375 6.3125 12.6875Q7.625 14.0 9.5 14.0Z"}));m();var RR=dr(Fr()),JAe=n=>RR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},RR.createElement("title",null,"project_folder"),RR.createElement("g",{id:"project_folder",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},RR.createElement("path",{d:"M24.1875,84 C22.7375,84 21.46875,83.4411458 20.38125,82.3234375 C19.29375,81.2057292 18.75,79.9520833 18.75,78.5625 L18.75,31.4375 C18.75,30.0479167 19.29375,28.7942708 20.38125,27.6765625 C21.46875,26.5588542 22.7375,26 24.1875,26 L49.5625,26 L55,31.4375 L85.8125,31.4375 C87.2020833,31.4375 88.4557292,31.9963542 89.5734375,33.1140625 C90.6911458,34.2317708 91.25,35.4854167 91.25,36.875 L91.25,78.5625 C91.25,79.9520833 90.6911458,81.2057292 89.5734375,82.3234375 C88.4557292,83.4411458 87.2020833,84 85.8125,84 L24.1875,84 Z M24.1875,31.4375 L24.1875,78.5625 L85.8125,78.5625 L85.8125,36.875 L52.734375,36.875 L47.296875,31.4375 L24.1875,31.4375 Z M24.1875,31.4375 L24.1875,78.5625 L24.1875,31.4375 Z",id:"Shape",fill:"#606368",fillRule:"nonzero"})));m();var Fy=dr(Fr()),XAe=n=>Fy.createElement("svg",{width:"15px",height:"14px",viewBox:"-2 -2 18 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Fy.createElement("title",null,"panel_icon_query"),Fy.createElement("g",{id:"window-org",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Fy.createElement("g",{id:"z",transform:"translate(-76.000000, -86.000000)",fill:"#939BA5",className:"primaryfill primarystroke",fillRule:"nonzero",stroke:"#939BA5",strokeWidth:.25},Fy.createElement("g",{id:"noun_explore_2232152-copy",transform:"translate(77.058375, 86.177891)"},Fy.createElement("path",{d:"M1.89319474,1.8964973 C0.960203984,2.8308601 0.313970678,4.05198036 0.0958154857,5.35679538 C-0.0112040426,5.99754051 -0.0331567664,6.6465179 0.0532820834,7.29137916 C0.142465024,7.96642542 0.327691131,8.61128668 0.614448585,9.22870704 C1.17698713,10.4429671 2.14839516,11.4761171 3.3173777,12.1264666 C4.44794297,12.7562353 5.77471072,13.0416207 7.06443324,12.9153926 C7.7092945,12.8522785 8.33769122,12.7054697 8.93590294,12.4543854 C9.58350829,12.1840925 10.1734877,11.8218725 10.7072133,11.3636094 C11.7101784,10.501965 12.4373624,9.31651793 12.7529328,8.03228359 C13.0602709,6.77960629 12.9944127,5.42814173 12.5388937,4.21936988 C12.0518177,2.92964736 11.1737087,1.82240685 10.0239348,1.06092175 C8.94139112,0.34334209 7.62834383,-0.0284821691 6.32901699,0.00170282605 C5.02557402,0.0318878212 3.72761922,0.457221844 2.67526053,1.23105536 C2.39810739,1.43411805 2.13604675,1.65364529 1.89319474,1.8964973 C1.74089772,2.04879432 1.72992136,2.32869155 1.89319474,2.47824448 C2.05784017,2.62916945 2.31166854,2.64014581 2.47494192,2.47824448 C2.61763463,2.33555177 2.76718756,2.19971929 2.92222867,2.07211909 C2.95790185,2.04330614 2.99494707,2.01449319 3.03062024,1.98568024 C3.08550205,1.94177479 2.9414373,2.05291045 3.02650411,1.98979637 C3.04296865,1.97744797 3.05806115,1.9664716 3.07452569,1.9541232 C3.15410432,1.89512525 3.23368294,1.8388714 3.31600565,1.78398959 C3.6329481,1.57269462 3.97047123,1.39158465 4.32171481,1.24340376 C4.28878573,1.25712422 4.25585664,1.27084467 4.22292755,1.28456512 C4.71411975,1.07875834 5.2313808,0.937437677 5.75961822,0.864719279 C5.722573,0.87020746 5.68689982,0.874323596 5.6498546,0.879811777 C6.19318451,0.807093379 6.7447467,0.807093379 7.28807661,0.879811777 C7.25103139,0.874323596 7.21535821,0.87020746 7.17831299,0.864719279 C7.70655041,0.937437677 8.22381146,1.07875834 8.71500366,1.28456512 C8.68207457,1.27084467 8.64914549,1.25712422 8.6162164,1.24340376 C8.8892534,1.35865556 9.15405813,1.493116 9.4078865,1.64815711 C9.53685875,1.72636369 9.66171487,1.8086864 9.7838269,1.8964973 C9.81538394,1.91982207 9.84831302,1.94314683 9.87987006,1.9664716 C9.90593892,1.98568024 10.0019821,2.06388682 9.89084642,1.97470388 C9.95258846,2.0240975 10.0157025,2.07349113 10.0760725,2.12562885 C10.3134364,2.32457541 10.5343356,2.5427306 10.7387704,2.77597829 C10.786792,2.8308601 10.8348135,2.88711396 10.8814631,2.94473986 C10.9061599,2.97492485 10.9308567,3.00648189 10.9555535,3.03803893 C10.9953428,3.08743256 10.9281126,3.00236576 10.9281126,3.00236576 C10.9445772,3.02294644 10.9596697,3.04489916 10.9761342,3.06547984 C11.0666892,3.18621982 11.151756,3.31107593 11.2327067,3.4373041 C11.4124446,3.71994541 11.5688577,4.01905128 11.699202,4.32776145 C11.6854816,4.29483237 11.6717611,4.26190328 11.6580407,4.2289742 C11.8638475,4.72016639 12.0051681,5.23742745 12.0778865,5.76566486 C12.0723983,5.72861964 12.0682822,5.69294646 12.062794,5.65590124 C12.1355124,6.19923116 12.1355124,6.75079334 12.062794,7.29412325 C12.0682822,7.25707803 12.0723983,7.22140486 12.0778865,7.18435964 C12.0051681,7.71259705 11.8638475,8.2298581 11.6580407,8.7210503 C11.6717611,8.68812121 11.6854816,8.65519213 11.699202,8.62226304 C11.5839502,8.89530004 11.4494898,9.16010477 11.2944487,9.41393314 C11.2162421,9.5429054 11.1339194,9.66776151 11.0461085,9.78987354 C11.0227837,9.82143058 10.999459,9.85435966 10.9761342,9.8859167 C10.9569256,9.91198556 10.878719,10.0080287 10.9679019,9.89689307 C10.9185083,9.9586351 10.8691147,10.0217492 10.816977,10.0821192 C10.6180304,10.319483 10.3998752,10.5403823 10.1666275,10.744817 C10.1117457,10.7928386 10.0554919,10.8408602 9.99786595,10.8875097 C9.96768096,10.9122065 9.93612392,10.9369034 9.90456688,10.9616002 C9.85517325,11.0013895 9.94024005,10.9341593 9.94024005,10.9341593 C9.91965937,10.9506238 9.89770665,10.9657163 9.87712597,10.9821808 C9.75638599,11.0727358 9.63152987,11.1578026 9.50530171,11.2387533 C9.22266039,11.4184912 8.92355453,11.5749044 8.61484435,11.7052487 C8.64777344,11.6915282 8.68070253,11.6778078 8.71363161,11.6640873 C8.22243942,11.8698941 7.70517836,12.0112148 7.17694095,12.0839332 C7.21398617,12.078445 7.24965934,12.0743289 7.28670457,12.0688407 C6.74337465,12.1415591 6.19181247,12.1415591 5.64848255,12.0688407 C5.68552778,12.0743289 5.72120095,12.078445 5.75824617,12.0839332 C5.23000876,12.0112148 4.7127477,11.8698941 4.22155551,11.6640873 C4.2544846,11.6778078 4.28741368,11.6915282 4.32034277,11.7052487 C4.04730576,11.5899969 3.78250103,11.4555365 3.52867267,11.3004953 C3.39970041,11.2222888 3.2748443,11.139966 3.15273227,11.0521552 C3.12117523,11.0288304 3.08824614,11.0055056 3.0566891,10.9821808 C3.03062024,10.9629722 2.93457708,10.8847656 3.04571274,10.9739486 C2.98397071,10.9245549 2.92085663,10.8751613 2.86048664,10.8230236 C2.62312281,10.624077 2.40222353,10.4059218 2.19778879,10.1726742 C2.1497672,10.1177923 2.10174562,10.0615385 2.05509608,10.0039126 C2.03039927,9.9737276 2.00570245,9.94217056 1.98100564,9.91061352 C1.94121633,9.86121989 2.00844654,9.94628669 2.00844654,9.94628669 C1.991982,9.92570602 1.9768895,9.90375329 1.96042496,9.88317261 C1.86986998,9.76243263 1.78480317,9.63757652 1.7038525,9.51134835 C1.52411458,9.22870704 1.36770142,8.92960118 1.23735712,8.620891 C1.25107757,8.65382008 1.26479803,8.68674917 1.27851848,8.71967825 C1.07271169,8.22848606 0.931391034,7.71122501 0.858672637,7.18298759 C0.864160818,7.22003281 0.868276953,7.25570599 0.873765134,7.29275121 C0.801046737,6.7494213 0.801046737,6.19785911 0.873765134,5.6545292 C0.868276953,5.69157442 0.864160818,5.72724759 0.858672637,5.76429282 C0.931391034,5.2360554 1.07271169,4.71879435 1.27851848,4.22760215 C1.26479803,4.26053124 1.25107757,4.29346032 1.23735712,4.32638941 C1.38553801,3.97514583 1.56664798,3.6376227 1.77794294,3.32068025 C1.83282475,3.23835754 1.88907861,3.15877891 1.94807655,3.07920029 C1.96042496,3.06273575 1.97140132,3.04764325 1.98374973,3.03117871 C2.04686381,2.94748395 1.93572815,3.0915487 1.97963359,3.03529484 C2.00844654,2.99824962 2.03725949,2.96257644 2.06607244,2.92690327 C2.19367265,2.77049011 2.32950513,2.62230923 2.47219783,2.47961652 C2.62449486,2.3273195 2.63684326,2.04742227 2.47219783,1.89786934 C2.3102965,1.74557232 2.05509608,1.73322391 1.89319474,1.8964973 Z",id:"Path"}),Fy.createElement("path",{d:"M6.16836964,6.17066644 C6.09118278,6.2541117 6.04424482,6.35633213 6.04320176,6.47211242 C6.04320176,6.58372045 6.08909665,6.69428542 6.16836964,6.77355841 C6.33004482,6.93731972 6.60854336,6.93731972 6.77126161,6.77355841 C6.93397986,6.60875403 6.93606599,6.33547082 6.77126161,6.17066644 C6.69198862,6.09139345 6.58142365,6.04549856 6.46981562,6.04549856 C6.35403533,6.04654162 6.25285796,6.09347958 6.16836964,6.17066644 C6.11100103,6.22386279 6.07657986,6.31460951 6.07657986,6.39179637 C6.07657986,6.46898323 6.11100103,6.55972994 6.16836964,6.61292629 C6.29770979,6.73183578 6.48233241,6.73183578 6.61062949,6.61292629 C6.61480176,6.60875403 6.62001708,6.60458177 6.62418935,6.60145257 C6.60332803,6.61814162 6.58246672,6.63378761 6.56056234,6.65047666 C6.5678638,6.64526133 6.57516526,6.64108907 6.58350978,6.63795987 C6.55847621,6.64839053 6.53344263,6.65882118 6.50840905,6.66925184 C6.51675358,6.66612264 6.52509811,6.66403651 6.53344263,6.66195038 C6.50527986,6.66612264 6.47816015,6.66925184 6.44999738,6.6734241 C6.4614711,6.67238104 6.47294482,6.67238104 6.48441854,6.6734241 C6.45625577,6.66925184 6.42913606,6.66612264 6.40097329,6.66195038 C6.41036088,6.66403651 6.41766234,6.66612264 6.42600687,6.66925184 C6.40097329,6.65882118 6.37593971,6.64839053 6.35090614,6.63795987 C6.35925066,6.64213213 6.36655212,6.6463044 6.37385358,6.65047666 C6.35299227,6.63378761 6.33213095,6.61814162 6.31022657,6.60145257 C6.32065723,6.60875403 6.32795869,6.61709856 6.33630322,6.62752921 C6.31961416,6.6066679 6.30396818,6.58580659 6.28727913,6.56390221 C6.29249446,6.57120367 6.29666672,6.57850513 6.29979592,6.58684965 C6.28936526,6.56181607 6.2789346,6.5367825 6.26850395,6.51174892 C6.27163314,6.52009345 6.27371927,6.52843797 6.27580541,6.5367825 C6.27163314,6.50861972 6.26850395,6.48150002 6.26433168,6.45333724 C6.26537475,6.46481096 6.26537475,6.47628469 6.26433168,6.48775841 C6.26850395,6.45959564 6.27163314,6.43247593 6.27580541,6.40431315 C6.27371927,6.41370075 6.27163314,6.42100221 6.26850395,6.42934673 C6.2789346,6.40431315 6.28936526,6.37927958 6.29979592,6.354246 C6.29562365,6.36259053 6.29145139,6.36989199 6.28727913,6.37719345 C6.30396818,6.35633213 6.31961416,6.33547082 6.33630322,6.31356644 C6.32900176,6.3239971 6.32065723,6.33129856 6.31022657,6.33964308 C6.33108789,6.32295403 6.3519492,6.30730805 6.37385358,6.29061899 C6.36655212,6.29583432 6.35925066,6.30000659 6.35090614,6.30313578 C6.37593971,6.29270513 6.40097329,6.28227447 6.42600687,6.27184381 C6.41766234,6.27497301 6.40931781,6.27705914 6.40097329,6.27914527 C6.42913606,6.27497301 6.45625577,6.27184381 6.48441854,6.26767155 C6.47294482,6.26871461 6.4614711,6.26871461 6.44999738,6.26767155 C6.47816015,6.27184381 6.50527986,6.27497301 6.53344263,6.27914527 C6.52405504,6.27705914 6.51675358,6.27497301 6.50840905,6.27184381 C6.53344263,6.28227447 6.55847621,6.29270513 6.58350978,6.30313578 C6.57516526,6.29896352 6.5678638,6.29479126 6.56056234,6.29061899 C6.58142365,6.30730805 6.60228497,6.32295403 6.62418935,6.33964308 C6.61375869,6.33234162 6.60645723,6.3239971 6.5981127,6.31356644 C6.61480176,6.33442775 6.63044774,6.35528907 6.64713679,6.37719345 C6.64192146,6.36989199 6.6377492,6.36259053 6.63462,6.354246 C6.64505066,6.37927958 6.65548132,6.40431315 6.66591197,6.42934673 C6.66278278,6.42100221 6.66069665,6.41265768 6.65861051,6.40431315 C6.66278278,6.43247593 6.66591197,6.45959564 6.67008424,6.48775841 C6.66904117,6.47628469 6.66904117,6.46481096 6.67008424,6.45333724 C6.66591197,6.48150002 6.66278278,6.50861972 6.65861051,6.5367825 C6.66069665,6.52739491 6.66278278,6.52009345 6.66591197,6.51174892 C6.65548132,6.5367825 6.64505066,6.56181607 6.63462,6.58684965 C6.63879227,6.57850513 6.64296453,6.57120367 6.64713679,6.56390221 C6.63044774,6.58476352 6.61480176,6.60562483 6.5981127,6.62752921 C6.6012419,6.62231388 6.60541416,6.61814162 6.60958643,6.61396936 C6.66591197,6.55347155 6.70137621,6.47628469 6.70137621,6.39283943 C6.70137621,6.31565257 6.66695504,6.22490586 6.60958643,6.17170951 C6.55013168,6.11747009 6.47190176,6.07679053 6.3884565,6.07991972 C6.30918351,6.08304892 6.22573825,6.11016863 6.16836964,6.17066644 Z",id:"Path"}),Fy.createElement("path",{d:"M3.68710555,9.70849202 C3.82738583,9.65557928 3.96889665,9.60389707 4.10917694,9.55098433 C4.44634184,9.42547039 4.78350674,9.29995644 5.12067165,9.1744425 C5.52551563,9.02308746 5.93159015,8.87296294 6.33643414,8.72160789 C6.68221275,8.59240236 7.02676082,8.46442736 7.37253943,8.33522183 C7.53004712,8.27615645 7.68878534,8.21955212 7.8450625,8.15925621 C7.84629303,8.15925621 7.84629303,8.15925621 7.84752356,8.15802568 C7.92504688,8.12726246 7.98780385,8.09280765 8.03948606,8.02512856 C8.07024928,7.98575164 8.08747668,7.94637472 8.10593462,7.89961462 C8.10716514,7.89592304 8.10839567,7.89346198 8.1096262,7.88977039 C8.11700938,7.8688514 8.12562308,7.84916294 8.13300625,7.82824395 C8.16746106,7.73841534 8.20068534,7.64981727 8.23514014,7.55998866 C8.3569625,7.24128169 8.47755433,6.92134419 8.59937668,6.60263722 C8.75196226,6.20025429 8.90577836,5.79787136 9.05836394,5.3942579 C9.19618317,5.03248242 9.3340024,4.67070694 9.47182163,4.30770093 C9.54688389,4.11081632 9.62194615,3.91270118 9.69700841,3.71581656 C9.70069999,3.70720286 9.70439158,3.69735863 9.70685264,3.68874493 C9.80283389,3.43648651 9.50504591,3.13869853 9.2527875,3.23467978 C9.11373774,3.28759252 8.97591851,3.34050526 8.83686875,3.393418 C8.50339543,3.52016248 8.16992212,3.64690695 7.8364488,3.77365142 C7.43283534,3.92746752 7.02799135,4.08128363 6.62437789,4.23509973 C6.27367717,4.36799685 5.92297645,4.50212449 5.57227573,4.63502161 C5.39877116,4.70147016 5.2252666,4.76545766 5.05176203,4.83313675 C5.04930097,4.83436728 5.04560939,4.83559781 5.04314833,4.83682834 C4.99638823,4.85528627 4.95701131,4.87251367 4.91763439,4.90327689 C4.85118583,4.9549591 4.81550049,5.01771608 4.78473727,5.09523939 C4.78473727,5.09646992 4.78473727,5.09646992 4.78350674,5.09770045 C4.7773541,5.1124668 4.77243198,5.12846367 4.76627934,5.14323002 C4.73551612,5.22444492 4.70598343,5.30689035 4.67522021,5.38810526 C4.55955049,5.69942905 4.44265025,6.01075285 4.32698054,6.32330718 C4.17685602,6.72569011 4.02673151,7.12807304 3.87660699,7.53045597 C3.74001829,7.89592304 3.60466011,8.2613901 3.46807141,8.62685717 C3.39300915,8.82743337 3.31917742,9.02677904 3.24411516,9.22735524 C3.24042358,9.23719947 3.23673199,9.24581318 3.23427093,9.25565741 C3.20227718,9.3405639 3.22688776,9.46484731 3.2711868,9.53990957 C3.31548584,9.61620236 3.40408391,9.69003409 3.49145146,9.70972255 C3.70064136,9.75771317 3.8729154,9.64573505 3.9455166,9.45131149 C3.99719881,9.31349226 4.04888103,9.1744425 4.10056324,9.03662327 C4.22361612,8.70684154 4.346669,8.37582928 4.46972189,8.04604755 C4.61984641,7.64489515 4.7687404,7.24374275 4.91886492,6.84135982 C5.04807044,6.49558121 5.17604544,6.14980261 5.30525097,5.80525453 C5.36800794,5.63667208 5.43568703,5.46932016 5.49352188,5.29827665 C5.49475241,5.29581559 5.49475241,5.29335454 5.49598294,5.29089348 C5.40984592,5.3770305 5.3237089,5.46316752 5.23757189,5.54930454 C5.37785217,5.4963918 5.51690193,5.44347905 5.65718222,5.38933579 C5.99065554,5.26259132 6.32535938,5.13584684 6.6588327,5.00787185 C7.06490722,4.85405574 7.47098173,4.69900911 7.87705625,4.545193 C8.22775697,4.41229589 8.57968822,4.27816824 8.93038894,4.14527113 C9.10020192,4.08128363 9.27247596,4.02098771 9.44105841,3.95084757 C9.44351947,3.94961704 9.44598052,3.94838651 9.44844158,3.94838651 C9.29708653,3.79703146 9.14573149,3.64567642 8.99437644,3.49432137 C8.9414637,3.63460166 8.88855096,3.77365142 8.83440769,3.9139317 C8.70766322,4.24740502 8.58091875,4.58210887 8.45294375,4.91558218 C8.29912764,5.3216567 8.14408101,5.72773122 7.9902649,6.13380574 C7.85736779,6.48450645 7.72324015,6.8364377 7.59034303,7.18713842 C7.52635553,7.3569514 7.45621539,7.52553385 7.39591947,7.69780789 C7.39468895,7.70026895 7.39345842,7.70273001 7.39345842,7.70519107 C7.47959544,7.61905405 7.56573245,7.53291703 7.65186947,7.44678001 C7.51405024,7.49846222 7.37500048,7.55014443 7.23718125,7.60182664 C6.90739952,7.72487953 6.57638727,7.84793241 6.24660554,7.9709853 C5.84545313,8.12110981 5.44430073,8.2700038 5.0419178,8.42012832 C4.6961392,8.54933385 4.35036059,8.67730885 4.00581252,8.80651438 C3.83723006,8.86927135 3.66741708,8.93079779 3.49883463,8.99478529 C3.49637358,8.99601582 3.49391252,8.99601582 3.49145146,8.99724635 C3.3991618,9.03170116 3.32163848,9.07969178 3.2711868,9.16705933 C3.2244267,9.24581318 3.20473824,9.36271342 3.23427093,9.45131149 C3.29087526,9.62850765 3.49391252,9.78109322 3.68710555,9.70849202 Z",id:"Path"})))));m();var Ob=dr(Fr()),ZAe=n=>Ob.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ob.createElement("title",null,"query_redo_hover copy"),Ob.createElement("g",{id:"query_redo_hover-copy",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ob.createElement("g",{id:"Group",transform:"translate(0.500000, 0.500000)"},Ob.createElement("circle",{id:"Oval-Copy",className:"hoverfill",fill:"#EAF2FF",cx:55.5,cy:55.5,r:55.5}),Ob.createElement("path",{className:"primaryfill",d:"M64.8866667,87.5 L34.1666667,87.5 L34.1666667,81.1 L64.9933333,81.1 C69.9711111,81.1 74.2555556,79.4466667 77.8466667,76.14 C81.4377778,72.8333333 83.2333333,68.7266667 83.2333333,63.82 C83.2333333,58.9133333 81.4377778,54.8066667 77.8466667,51.5 C74.2555556,48.1933333 69.9711111,46.54 64.9933333,46.54 L33.5266667,46.54 L45.6866667,58.7 L41.2066667,63.18 L21.3666667,43.34 L41.2066667,23.5 L45.6866667,27.98 L33.5266667,40.14 L64.8866667,40.14 C71.6422222,40.14 77.4555556,42.4155556 82.3266667,46.9666667 C87.1977778,51.5177778 89.6333333,57.1355556 89.6333333,63.82 C89.6333333,70.5044444 87.1977778,76.1222222 82.3266667,80.6733333 C77.4555556,85.2244444 71.6422222,87.5 64.8866667,87.5 Z",id:"Path",fill:"#4285F4",fillRule:"nonzero",transform:"translate(55.500000, 55.500000) scale(-1, 1) translate(-55.500000, -55.500000) "}))));m();var Rb=dr(Fr()),eTe=n=>Rb.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Rb.createElement("title",null,"query_undo_hover"),Rb.createElement("g",{id:"query_undo_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Rb.createElement("g",{id:"Group",transform:"translate(0.500000, 0.500000)"},Rb.createElement("circle",{id:"Oval-Copy",className:"hoverfill",fill:"#EAF2FF",cx:55.5,cy:55.5,r:55.5}),Rb.createElement("path",{d:"M64.8866667,87.5 L34.1666667,87.5 L34.1666667,81.1 L64.9933333,81.1 C69.9711111,81.1 74.2555556,79.4466667 77.8466667,76.14 C81.4377778,72.8333333 83.2333333,68.7266667 83.2333333,63.82 C83.2333333,58.9133333 81.4377778,54.8066667 77.8466667,51.5 C74.2555556,48.1933333 69.9711111,46.54 64.9933333,46.54 L33.5266667,46.54 L45.6866667,58.7 L41.2066667,63.18 L21.3666667,43.34 L41.2066667,23.5 L45.6866667,27.98 L33.5266667,40.14 L64.8866667,40.14 C71.6422222,40.14 77.4555556,42.4155556 82.3266667,46.9666667 C87.1977778,51.5177778 89.6333333,57.1355556 89.6333333,63.82 C89.6333333,70.5044444 87.1977778,76.1222222 82.3266667,80.6733333 C77.4555556,85.2244444 71.6422222,87.5 64.8866667,87.5 Z",id:"Path",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"}))));var sa=({action:n,onClick:e,color:t})=>{let s={...{width:"22px",height:"22px"},...{onClick:e,style:{cursor:e?"pointer":"unset"}}};return v.createElement(vmt,{color:t,doHover:e!==void 0},n==="group_by"?v.createElement(MAe,{...s}):n==="aggregate"?v.createElement(PAe,{...s}):n==="filter"?v.createElement(BAe,{...s}):n==="limit"?v.createElement(jAe,{...s}):n==="nest"?v.createElement(qAe,{...s}):n==="order_by"?v.createElement(UAe,{...s}):n==="remove"?v.createElement(RC,{...s}):n==="rename"?v.createElement($Ae,{...s}):n==="add"?v.createElement(HAe,{...s}):n==="save"?v.createElement(WAe,{...s}):n==="container-open"?v.createElement(nH,{...s}):n==="container-closed"?v.createElement(Iz,{...s}):n==="duplicate"?v.createElement(rue,{...s}):n==="copy"?v.createElement(rue,{...s}):n==="style"?v.createElement(rH,{...s}):n==="stage"?v.createElement(GAe,{...s}):n==="error"?v.createElement(QAe,{...s}):n==="load"?v.createElement(iH,{...s}):n==="move"?v.createElement(YAe,{...s}):n==="edit"?v.createElement(zAe,{...s}):n==="search"?v.createElement(KAe,{...s}):n==="open-directory"?v.createElement(JAe,{...s}):n==="run"?v.createElement(VAe,{...s}):n==="analysis"?v.createElement(XAe,{...s}):n==="undo"?v.createElement(eTe,{...s}):n==="redo"?v.createElement(ZAe,{...s}):null)},vmt=jn.div`
  display: flex;
  ${({color:n,doHover:e})=>n===void 0?"":`
      svg .hoverfill {
        fill: transparent;
      }
      ${n!==void 0&&`
        svg .primaryfill {
          fill: ${mi[n].fillStrong};
        }
        svg .primarystroke {
          stroke: ${mi[n].fillStrong};
        }
      `}
      ${n!==void 0&&e&&`
        svg:hover .hoverfill {
          fill: ${mi[n].fillLight};
        }
      `}
    `}
`;m();m();var qb=dr(Fr());m();m();var sH=dr(Fr());var sue=function(e){return e.reduce(function(t,r){var i=r[0],s=r[1];return t[i]=s,t},{})},oue=typeof window!="undefined"&&window.document&&window.document.createElement?sH.useLayoutEffect:sH.useEffect;m();var T4=dr(Fr()),wTe=dr(SI());m();m();var Ul="top",Jc="bottom",Fc="right",tc="left",oH="auto",C4=[Ul,Jc,Fc,tc],Dy="start",Nb="end",tTe="clippingParents",aH="viewport",IC="popper",nTe="reference",aue=C4.reduce(function(n,e){return n.concat([e+"-"+Dy,e+"-"+Nb])},[]),uH=[].concat(C4,[oH]).reduce(function(n,e){return n.concat([e,e+"-"+Dy,e+"-"+Nb])},[]),_mt="beforeRead",bmt="read",Emt="afterRead",Smt="beforeMain",wmt="main",Cmt="afterMain",Amt="beforeWrite",Tmt="write",Fmt="afterWrite",rTe=[_mt,bmt,Emt,Smt,wmt,Cmt,Amt,Tmt,Fmt];m();m();function Tf(n){return n?(n.nodeName||"").toLowerCase():null}m();m();function pl(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function R1(n){var e=pl(n).Element;return n instanceof e||n instanceof Element}function Xc(n){var e=pl(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function MC(n){if(typeof ShadowRoot=="undefined")return!1;var e=pl(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Dmt(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Xc(s)||!Tf(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Omt(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(l,f){return l[f]="",l},{});!Xc(i)||!Tf(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var iTe={name:"applyStyles",enabled:!0,phase:"write",fn:Dmt,effect:Omt,requires:["computeStyles"]};m();m();function Ff(n){return n.split("-")[0]}m();m();m();var qm=Math.max,Lb=Math.min,Oy=Math.round;m();m();function PC(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function NR(){return!/^((?!chrome|android).)*safari/i.test(PC())}function N1(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Xc(n)&&(i=n.offsetWidth>0&&Oy(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Oy(r.height)/n.offsetHeight||1);var o=R1(n)?pl(n):window,a=o.visualViewport,l=!NR()&&t,f=(r.left+(l&&a?a.offsetLeft:0))/i,p=(r.top+(l&&a?a.offsetTop:0))/s,_=r.width/i,E=r.height/s;return{width:_,height:E,top:p,right:f+_,bottom:p+E,left:f,x:f,y:p}}function kb(n){var e=N1(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}m();function LR(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&MC(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}m();m();function Nd(n){return pl(n).getComputedStyle(n)}m();function uue(n){return["table","td","th"].indexOf(Tf(n))>=0}m();m();function n0(n){return((R1(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ry(n){return Tf(n)==="html"?n:n.assignedSlot||n.parentNode||(MC(n)?n.host:null)||n0(n)}function sTe(n){return!Xc(n)||Nd(n).position==="fixed"?null:n.offsetParent}function Rmt(n){var e=/firefox/i.test(PC()),t=/Trident/i.test(PC());if(t&&Xc(n)){var r=Nd(n);if(r.position==="fixed")return null}var i=Ry(n);for(MC(i)&&(i=i.host);Xc(i)&&["html","body"].indexOf(Tf(i))<0;){var s=Nd(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Um(n){for(var e=pl(n),t=sTe(n);t&&uue(t)&&Nd(t).position==="static";)t=sTe(t);return t&&(Tf(t)==="html"||Tf(t)==="body"&&Nd(t).position==="static")?e:t||Rmt(n)||e}m();function Ib(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}m();function Mb(n,e,t){return qm(n,Lb(e,t))}function oTe(n,e,t){var r=Mb(n,e,t);return r>t?t:r}m();m();function kR(){return{top:0,right:0,bottom:0,left:0}}function IR(n){return Object.assign({},kR(),n)}m();function MR(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Nmt=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,IR(typeof e!="number"?e:MR(e,C4))};function Lmt(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Ff(t.placement),l=Ib(a),f=[tc,Fc].indexOf(a)>=0,p=f?"height":"width";if(!(!s||!o)){var _=Nmt(i.padding,t),E=kb(s),O=l==="y"?Ul:tc,R=l==="y"?Jc:Fc,q=t.rects.reference[p]+t.rects.reference[l]-o[l]-t.rects.popper[p],z=o[l]-t.rects.reference[l],L=Um(s),B=L?l==="y"?L.clientHeight||0:L.clientWidth||0:0,P=q/2-z/2,G=_[O],ue=B-E[p]-_[R],I=B/2-E[p]/2+P,J=Mb(G,I,ue),he=l;t.modifiersData[r]=(e={},e[he]=J,e.centerOffset=J-I,e)}}function kmt(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!LR(e.elements.popper,i)||(e.elements.arrow=i))}var aTe={name:"arrow",enabled:!0,phase:"main",fn:Lmt,effect:kmt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};m();m();function L1(n){return n.split("-")[1]}var Imt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mmt(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:Oy(e*i)/i||0,y:Oy(t*i)/i||0}}function uTe(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,f=n.adaptive,p=n.roundOffsets,_=n.isFixed,E=o.x,O=E===void 0?0:E,R=o.y,q=R===void 0?0:R,z=typeof p=="function"?p({x:O,y:q}):{x:O,y:q};O=z.x,q=z.y;var L=o.hasOwnProperty("x"),B=o.hasOwnProperty("y"),P=tc,G=Ul,ue=window;if(f){var I=Um(t),J="clientHeight",he="clientWidth";if(I===pl(t)&&(I=n0(t),Nd(I).position!=="static"&&a==="absolute"&&(J="scrollHeight",he="scrollWidth")),I=I,i===Ul||(i===tc||i===Fc)&&s===Nb){G=Jc;var ve=_&&I===ue&&ue.visualViewport?ue.visualViewport.height:I[J];q-=ve-r.height,q*=l?1:-1}if(i===tc||(i===Ul||i===Jc)&&s===Nb){P=Fc;var Ve=_&&I===ue&&ue.visualViewport?ue.visualViewport.width:I[he];O-=Ve-r.width,O*=l?1:-1}}var ot=Object.assign({position:a},f&&Imt),lt=p===!0?Mmt({x:O,y:q}):{x:O,y:q};if(O=lt.x,q=lt.y,l){var et;return Object.assign({},ot,(et={},et[G]=B?"0":"",et[P]=L?"0":"",et.transform=(ue.devicePixelRatio||1)<=1?"translate("+O+"px, "+q+"px)":"translate3d("+O+"px, "+q+"px, 0)",et))}return Object.assign({},ot,(e={},e[G]=B?q+"px":"",e[P]=L?O+"px":"",e.transform="",e))}function Pmt(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a;if(!1)var f;var p={placement:Ff(e.placement),variation:L1(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,uTe(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,uTe(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var lTe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Pmt,data:{}};m();var lH={passive:!0};function Bmt(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=pl(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(p){p.addEventListener("scroll",t.update,lH)}),a&&l.addEventListener("resize",t.update,lH),function(){s&&f.forEach(function(p){p.removeEventListener("scroll",t.update,lH)}),a&&l.removeEventListener("resize",t.update,lH)}}var cTe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Bmt,data:{}};m();m();var jmt={left:"right",right:"left",bottom:"top",top:"bottom"};function BC(n){return n.replace(/left|right|bottom|top/g,function(e){return jmt[e]})}m();var qmt={start:"end",end:"start"};function cH(n){return n.replace(/start|end/g,function(e){return qmt[e]})}m();m();m();m();m();function Pb(n){var e=pl(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Bb(n){return N1(n0(n)).left+Pb(n).scrollLeft}function lue(n,e){var t=pl(n),r=n0(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var f=NR();(f||!f&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Bb(n),y:l}}m();function cue(n){var e,t=n0(n),r=Pb(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=qm(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=qm(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Bb(n),l=-r.scrollTop;return Nd(i||t).direction==="rtl"&&(a+=qm(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}m();m();m();function jb(n){var e=Nd(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function fH(n){return["html","body","#document"].indexOf(Tf(n))>=0?n.ownerDocument.body:Xc(n)&&jb(n)?n:fH(Ry(n))}function A4(n,e){var t;e===void 0&&(e=[]);var r=fH(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=pl(r),o=i?[s].concat(s.visualViewport||[],jb(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(A4(Ry(o)))}m();function jC(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Umt(n,e){var t=N1(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function fTe(n,e,t){return e===aH?jC(lue(n,t)):R1(e)?Umt(e,t):jC(cue(n0(n)))}function $mt(n){var e=A4(Ry(n)),t=["absolute","fixed"].indexOf(Nd(n).position)>=0,r=t&&Xc(n)?Um(n):n;return R1(r)?e.filter(function(i){return R1(i)&&LR(i,r)&&Tf(i)!=="body"}):[]}function fue(n,e,t,r){var i=e==="clippingParents"?$mt(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(l,f){var p=fTe(n,f,r);return l.top=qm(p.top,l.top),l.right=Lb(p.right,l.right),l.bottom=Lb(p.bottom,l.bottom),l.left=qm(p.left,l.left),l},fTe(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}m();function PR(n){var e=n.reference,t=n.element,r=n.placement,i=r?Ff(r):null,s=r?L1(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(i){case Ul:l={x:o,y:e.y-t.height};break;case Jc:l={x:o,y:e.y+e.height};break;case Fc:l={x:e.x+e.width,y:a};break;case tc:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var f=i?Ib(i):null;if(f!=null){var p=f==="y"?"height":"width";switch(s){case Dy:l[f]=l[f]-(e[p]/2-t[p]/2);break;case Nb:l[f]=l[f]+(e[p]/2-t[p]/2);break;default:}}return l}function $m(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,l=a===void 0?tTe:a,f=t.rootBoundary,p=f===void 0?aH:f,_=t.elementContext,E=_===void 0?IC:_,O=t.altBoundary,R=O===void 0?!1:O,q=t.padding,z=q===void 0?0:q,L=IR(typeof z!="number"?z:MR(z,C4)),B=E===IC?nTe:IC,P=n.rects.popper,G=n.elements[R?B:E],ue=fue(R1(G)?G:G.contextElement||n0(n.elements.popper),l,p,o),I=N1(n.elements.reference),J=PR({reference:I,element:P,strategy:"absolute",placement:i}),he=jC(Object.assign({},P,J)),ve=E===IC?he:I,Ve={top:ue.top-ve.top+L.top,bottom:ve.bottom-ue.bottom+L.bottom,left:ue.left-ve.left+L.left,right:ve.right-ue.right+L.right},ot=n.modifiersData.offset;if(E===IC&&ot){var lt=ot[i];Object.keys(Ve).forEach(function(et){var bt=[Fc,Jc].indexOf(et)>=0?1:-1,Pt=[Ul,Jc].indexOf(et)>=0?"y":"x";Ve[et]+=lt[Pt]*bt})}return Ve}m();function due(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,f=l===void 0?uH:l,p=L1(r),_=p?a?aue:aue.filter(function(R){return L1(R)===p}):C4,E=_.filter(function(R){return f.indexOf(R)>=0});E.length===0&&(E=_);var O=E.reduce(function(R,q){return R[q]=$m(n,{placement:q,boundary:i,rootBoundary:s,padding:o})[Ff(q)],R},{});return Object.keys(O).sort(function(R,q){return O[R]-O[q]})}function zmt(n){if(Ff(n)===oH)return[];var e=BC(n);return[cH(n),e,cH(e)]}function Hmt(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,f=t.padding,p=t.boundary,_=t.rootBoundary,E=t.altBoundary,O=t.flipVariations,R=O===void 0?!0:O,q=t.allowedAutoPlacements,z=e.options.placement,L=Ff(z),B=L===z,P=l||(B||!R?[BC(z)]:zmt(z)),G=[z].concat(P).reduce(function(ut,Ht){return ut.concat(Ff(Ht)===oH?due(e,{placement:Ht,boundary:p,rootBoundary:_,padding:f,flipVariations:R,allowedAutoPlacements:q}):Ht)},[]),ue=e.rects.reference,I=e.rects.popper,J=new Map,he=!0,ve=G[0],Ve=0;Ve<G.length;Ve++){var ot=G[Ve],lt=Ff(ot),et=L1(ot)===Dy,bt=[Ul,Jc].indexOf(lt)>=0,Pt=bt?"width":"height",$e=$m(e,{placement:ot,boundary:p,rootBoundary:_,altBoundary:E,padding:f}),te=bt?et?Fc:tc:et?Jc:Ul;ue[Pt]>I[Pt]&&(te=BC(te));var Ze=BC(te),ye=[];if(s&&ye.push($e[lt]<=0),a&&ye.push($e[te]<=0,$e[Ze]<=0),ye.every(function(ut){return ut})){ve=ot,he=!1;break}J.set(ot,ye)}if(he)for(var Le=R?3:1,Ce=function(Ht){var Ct=G.find(function(xn){var Tt=J.get(xn);if(Tt)return Tt.slice(0,Ht).every(function(Ot){return Ot})});if(Ct)return ve=Ct,"break"},pe=Le;pe>0;pe--){var Je=Ce(pe);if(Je==="break")break}e.placement!==ve&&(e.modifiersData[r]._skip=!0,e.placement=ve,e.reset=!0)}}var dTe={name:"flip",enabled:!0,phase:"main",fn:Hmt,requiresIfExists:["offset"],data:{_skip:!1}};m();function hTe(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function pTe(n){return[Ul,Fc,Jc,tc].some(function(e){return n[e]>=0})}function Vmt(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=$m(e,{elementContext:"reference"}),a=$m(e,{altBoundary:!0}),l=hTe(o,r),f=hTe(a,i,s),p=pTe(l),_=pTe(f);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":_})}var mTe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Vmt};m();function Wmt(n,e,t){var r=Ff(n),i=[tc,Ul].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[tc,Fc].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Qmt(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=uH.reduce(function(p,_){return p[_]=Wmt(_,e.rects,s),p},{}),a=o[e.placement],l=a.x,f=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=o}var xTe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Qmt};m();function Gmt(n){var e=n.state,t=n.name;e.modifiersData[t]=PR({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var gTe={name:"popperOffsets",enabled:!0,phase:"read",fn:Gmt,data:{}};m();m();function hue(n){return n==="x"?"y":"x"}function Ymt(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,f=t.rootBoundary,p=t.altBoundary,_=t.padding,E=t.tether,O=E===void 0?!0:E,R=t.tetherOffset,q=R===void 0?0:R,z=$m(e,{boundary:l,rootBoundary:f,padding:_,altBoundary:p}),L=Ff(e.placement),B=L1(e.placement),P=!B,G=Ib(L),ue=hue(G),I=e.modifiersData.popperOffsets,J=e.rects.reference,he=e.rects.popper,ve=typeof q=="function"?q(Object.assign({},e.rects,{placement:e.placement})):q,Ve=typeof ve=="number"?{mainAxis:ve,altAxis:ve}:Object.assign({mainAxis:0,altAxis:0},ve),ot=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,lt={x:0,y:0};if(!!I){if(s){var et,bt=G==="y"?Ul:tc,Pt=G==="y"?Jc:Fc,$e=G==="y"?"height":"width",te=I[G],Ze=te+z[bt],ye=te-z[Pt],Le=O?-he[$e]/2:0,Ce=B===Dy?J[$e]:he[$e],pe=B===Dy?-he[$e]:-J[$e],Je=e.elements.arrow,ut=O&&Je?kb(Je):{width:0,height:0},Ht=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:kR(),Ct=Ht[bt],xn=Ht[Pt],Tt=Mb(0,J[$e],ut[$e]),Ot=P?J[$e]/2-Le-Tt-Ct-Ve.mainAxis:Ce-Tt-Ct-Ve.mainAxis,rn=P?-J[$e]/2+Le+Tt+xn+Ve.mainAxis:pe+Tt+xn+Ve.mainAxis,St=e.elements.arrow&&Um(e.elements.arrow),_e=St?G==="y"?St.clientTop||0:St.clientLeft||0:0,ke=(et=ot==null?void 0:ot[G])!=null?et:0,Se=te+Ot-ke-_e,ce=te+rn-ke,tt=Mb(O?Lb(Ze,Se):Ze,te,O?qm(ye,ce):ye);I[G]=tt,lt[G]=tt-te}if(a){var Ie,re=G==="x"?Ul:tc,Ne=G==="x"?Jc:Fc,ct=I[ue],_t=ue==="y"?"height":"width",Lt=ct+z[re],Yt=ct-z[Ne],Gt=[Ul,tc].indexOf(L)!==-1,fn=(Ie=ot==null?void 0:ot[ue])!=null?Ie:0,gn=Gt?Lt:ct-J[_t]-he[_t]-fn+Ve.altAxis,yn=Gt?ct+J[_t]+he[_t]-fn-Ve.altAxis:Yt,It=O&&Gt?oTe(gn,ct,yn):Mb(O?gn:Lt,ct,O?yn:Yt);I[ue]=It,lt[ue]=It-ct}e.modifiersData[r]=lt}}var yTe={name:"preventOverflow",enabled:!0,phase:"main",fn:Ymt,requiresIfExists:["offset"]};m();m();m();m();function pue(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function mue(n){return n===pl(n)||!Xc(n)?Pb(n):pue(n)}function Kmt(n){var e=n.getBoundingClientRect(),t=Oy(e.width)/n.offsetWidth||1,r=Oy(e.height)/n.offsetHeight||1;return t!==1||r!==1}function xue(n,e,t){t===void 0&&(t=!1);var r=Xc(e),i=Xc(e)&&Kmt(e),s=n0(e),o=N1(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((Tf(e)!=="body"||jb(s))&&(a=mue(e)),Xc(e)?(l=N1(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Bb(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}m();function Jmt(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function gue(n){var e=Jmt(n);return rTe.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}m();function yue(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}m();function vue(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var vTe={placement:"bottom",modifiers:[],strategy:"absolute"};function _Te(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function bTe(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?vTe:i;return function(a,l,f){f===void 0&&(f=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},vTe,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},_=[],E=!1,O={state:p,setOptions:function(L){var B=typeof L=="function"?L(p.options):L;q(),p.options=Object.assign({},s,p.options,B),p.scrollParents={reference:R1(a)?A4(a):a.contextElement?A4(a.contextElement):[],popper:A4(l)};var P=gue(vue([].concat(r,p.options.modifiers)));if(p.orderedModifiers=P.filter(function(ot){return ot.enabled}),!1){var G;if(getBasePlacement(p.options.placement)===auto)var ue;var I,J,he,ve,Ve}return R(),O.update()},forceUpdate:function(){if(!E){var L=p.elements,B=L.reference,P=L.popper;if(!!_Te(B,P)){p.rects={reference:xue(B,Um(P),p.options.strategy==="fixed"),popper:kb(P)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(ot){return p.modifiersData[ot.name]=Object.assign({},ot.data)});for(var G=0,ue=0;ue<p.orderedModifiers.length;ue++){if(p.reset===!0){p.reset=!1,ue=-1;continue}var I=p.orderedModifiers[ue],J=I.fn,he=I.options,ve=he===void 0?{}:he,Ve=I.name;typeof J=="function"&&(p=J({state:p,options:ve,name:Ve,instance:O})||p)}}}},update:yue(function(){return new Promise(function(z){O.forceUpdate(),z(p)})}),destroy:function(){q(),E=!0}};if(!_Te(a,l))return O;O.setOptions(f).then(function(z){!E&&f.onFirstUpdate&&f.onFirstUpdate(z)});function R(){p.orderedModifiers.forEach(function(z){var L=z.name,B=z.options,P=B===void 0?{}:B,G=z.effect;if(typeof G=="function"){var ue=G({state:p,name:L,instance:O,options:P}),I=function(){};_.push(ue||I)}})}function q(){_.forEach(function(z){return z()}),_=[]}return O}}m();var Xmt=[cTe,gTe,lTe,iTe,xTe,dTe,yTe,aTe,mTe],_ue=bTe({defaultModifiers:Xmt});var CTe=dr(STe());var r2t=[],bue=function(e,t,r){r===void 0&&(r={});var i=T4.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||r2t},o=T4.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],l=o[1],f=T4.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(O){var R=O.state,q=Object.keys(R.elements);wTe.flushSync(function(){l({styles:sue(q.map(function(z){return[z,R.styles[z]||{}]})),attributes:sue(q.map(function(z){return[z,R.attributes[z]]}))})})},requires:["computeStyles"]}},[]),p=T4.useMemo(function(){var E={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[f,{name:"applyStyles",enabled:!1}])};return(0,CTe.default)(i.current,E)?i.current||E:(i.current=E,E)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,f]),_=T4.useRef();return oue(function(){_.current&&_.current.setOptions(p)},[p]),oue(function(){if(!(e==null||t==null)){var E=r.createPopper||_ue,O=E(e,t,p);return _.current=O,function(){O.destroy(),_.current=null}}},[e,t,r.createPopper]),{state:_.current?_.current.state:null,styles:a.styles,attributes:a.attributes,update:_.current?_.current.update:null,forceUpdate:_.current?_.current.forceUpdate:null}};var i2t=jn.div`
  border: 1px solid #ececed;
  border-radius: 4px;
  position: fixed;
  box-shadow: 0px 1px 5px 1px #0000001a;
  background-color: white;
  font-size: 14px;
  ${({width:n,zIndex:e})=>`
    width: ${n}px;
    z-index: ${e};
  `}
`,s2t=jn.div`
  position: relative;
`,zm=({open:n,setOpen:e,children:t,width:r=350,placement:i="right-start",referenceDiv:s,zIndex:o=10,xOffset:a=0,yOffset:l=10,disabled:f=!1})=>{let p=(0,qb.useRef)(null),[_,E]=(0,qb.useState)(null),{styles:O,attributes:R}=bue(s?.current||p.current,_,{placement:i,modifiers:[{name:"offset",options:{offset:[a,l]}},{name:"preventOverflow",options:{altAxis:!0,padding:20,boundary:document.getElementsByTagName("body")[0]}},{name:"flip",options:{flipVariations:!1}}]});return O1(p,()=>e(!1)),qb.default.createElement(s2t,{ref:p},n&&!f&&qb.default.createElement(i2t,{width:r,ref:E,style:{...O.popper,position:"fixed"},...R.popper,zIndex:o},t))};m();m();var zx=dr(Fr());m();m();var zo=({icon:n,name:e,onClick:t,canRemove:r,onRemove:i,unsaved:s=!1,color:o,active:a=!1,disableHover:l=!1,detail:f,fullDetail:p=!1})=>v.createElement(l2t,{onClick:t,color:o,active:a,disableHover:l},v.createElement(a2t,null,v.createElement(xC,{color:o},n),v.createElement(jae,null,e),s?v.createElement(o2t,{color:o}):""),r&&v.createElement(hH,{className:"back"},v.createElement(pH,{color:o,width:"20px",height:"20px",className:"close",onClick:()=>i&&i()})),!r&&f!==void 0&&v.createElement(u2t,{style:{color:mi[o].fillStrong,opacity:.8},noShrink:p},f)),o2t=jn.div`
  width: 8px;
  margin-top: 3px;
  height: 8px;
  min-width: 8px;
  min-height: 8px;
  border-radius: 100px;

  ${({color:n})=>`
    background-color: ${mi[n].fillStrong};
    `}
`,a2t=jn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
`,hH=jn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
`,u2t=jn.div`
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  ${({noShrink:n})=>`flex-shrink: ${n?0:4};`}
  font-size: 12px;
  font-weight: normal;
  text-transform: none;
  margin-right: 5px;
  justify-content: start;
  text-overflow: ellipsis;
  color: #9aa0a6;
`,l2t=jn.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  cursor: pointer;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";

  ${({active:n,color:e})=>n?`
        background-color: ${mi[e].fillLight};
        .back {
          display: flex;
        }
      `:""}

  &:hover {
    .back {
      display: flex;
    }
  }

  .back {
    display: none;
  }

  ${({color:n,disableHover:e})=>{if(!e)return`
        &:hover {
          background-color: ${mi[n].fillLight};
        }
      `}}
`,pH=jn(RC)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${mi[n].fillMedium};
      }
      .circle {
        fill: transparent;
      }
      &:hover .cross {
        fill: ${mi[n].fillStrong};
      }
      &:hover .circle {
        fill: ${mi[n].fillMedium};
      }
    `}
`;m();m();m();m();var Due=dr(Fr());m();var Mx=dr(w1());var Eue=class{async readURL(){return""}},Sue=class{constructor(){this.name="dummy"}runSQL(){throw new Error("Dummy connection cannot run SQL.")}runSQLBlockAndFetchResultSchema(){throw new Error("Dummy connection cannot run SQL blocks.")}fetchSchemaForSQLBlocks(){throw new Error("Dummy connection cannot fetch schemas.")}fetchSchemaForTables(){throw new Error("Dummy connection cannot fetch schemas.")}isPool(){return!1}canPersist(){return!1}canFetchSchemaAndRunSimultaneously(){return!1}canStream(){return!1}canFetchSchemaAndRunStreamSimultaneously(){return!1}};async function wue(n,e){let r=await new Mx.Runtime(new Eue,new Sue)._loadModelFromModelDef(n).getModel();return await Mx.Malloy.compile({urlReader:new Eue,connections:new Mx.FixedConnectionMap(new Map([["dummy",new Sue]]),"dummy"),model:r,parse:Mx.Malloy.parse({source:e})})}async function mH(n,e){return(await wue(n,e))._modelDef}function xH(n){return{name:"model",exports:[],contents:{[n.as||n.name]:n}}}async function Px(n,e){let t=`query: the_query is ${n.as||n.name} -> { group_by: one is 1; where: ${e}}`,r=xH(n),s=(await mH(r,t)).contents.the_query;if(s.type!=="query")throw new Error("Expected the_query to be a query");let o=s.pipeline[0].filterList;if(o===void 0)throw new Error("Expected a filter list");return o[0]}async function ATe(n,e,t){let r=t?`${Y3(e)} is ${t}`:Y3(e),i=`query: the_query is ${Y3(n.as||n.name)} -> { group_by: ${r} }`,s=xH(n),a=(await mH(s,i)).contents.the_query;if(a.type!=="query")throw new Error("Expected the_query to be a query");let l=a.pipeline[0].fields;if(l===void 0)throw new Error("Expected a field list");return l[0]}async function TTe(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { group_by: ${e} is ${t} }`,i=xH(n),o=(await mH(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definition, not reference");if((0,Mx.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}async function FTe(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { aggregate: ${e} is ${t} }`,i=xH(n),o=(await mH(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definiton, not reference");if((0,Mx.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}var DTe="new_query";async function OTe(n,e){let t=await wue(n,e),r=/\s*query\s*:\s*([^\s]*)\s*is/,i=e.match(r),s=i?t.getPreparedQueryByName(i[1]):t.preparedQuery;return s._query.pipeHead&&(s=s.getFlattenedQuery(DTe)),s}async function RTe(n,e){return(await OTe(n,e)).preparedResult.sql}async function Cue(n,e){let t=await OTe(n,e),r="as"in t._query?t._query.as||t._query.name:DTe;return{...t._query,type:"query",name:r}}async function Aue(n,e){let t=await wue(n,e),r=/\s*query\s*:\s*([^\s]*)\s*is/,i=e.match(r);return(i?t.getPreparedQueryByName(i[1]):t.preparedQuery).preparedResult._sourceExploreName}m();m();async function c2t(n,e,t,r,i){if(t===void 0)return;if(v2()){let o=await A9e(n,t,r,i);if(o instanceof Error)throw o;return o}return(await(await fetch("api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelPath:e,searchTerm:r,source:t,fieldPath:i})})).json()).result||[]}function Ub(n,e,t,r,i){let{data:s,isLoading:o}=gg([t,r,i],()=>c2t(n,e,t,r,i),{refetchOnWindowFocus:!0});return{searchResults:s,isLoading:o}}m();m();var ap=({value:n,setValue:e,placeholder:t,autoFocus:r,onTab:i})=>v.createElement(f2t,null,v.createElement(d2t,null,v.createElement(sa,{action:"search",color:"other"})),v.createElement(h2t,{type:"text",placeholder:t,value:n,onChange:o=>e(o.target.value),autoFocus:r,tabIndex:1,onKeyDown:o=>{o.key==="Tab"&&(i&&i(),o.stopPropagation(),o.preventDefault())}})),f2t=jn.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  position: relative;
`,d2t=jn.div`
  position: fixed;
  left: 15px;
  top: 9px;
  pointer-events: none;
`,h2t=jn.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: none;
  padding: 3px 10px 1px 38px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;m();m();m();m();var F4=({fieldPath:n,topValues:e,filterExpression:t,definition:r})=>{let i=e?.find(s=>s.fieldName===n);return v.createElement(ec,null,v.createElement(p2t,null,v.createElement(x2t,null,n&&v.createElement(gH,null,v.createElement("div",null,"Path"),v.createElement(Tue,null,n.length<=32?n:v.createElement(NTe,{path:n.split(".")}))),r&&v.createElement(gH,null,v.createElement("div",null,"Definition"),v.createElement(Tue,null,r)),t&&v.createElement(gH,null,v.createElement("div",null,"Filter"),v.createElement(Tue,null,t)),i&&v.createElement(gH,null,v.createElement("div",null,"Top Values"),i.values.slice(0,8).map(s=>v.createElement(b2t,{key:s.fieldValue},v.createElement(y2t,null,v.createElement(_2t,null,s.fieldValue===null?v.createElement(m2t,null,"\u2205"):s.fieldValue)),v.createElement(v2t,null,pM(s.weight))))))))},p2t=jn(Ac)`
  padding: 20px;
  background-color: rgb(248, 248, 248);
`,m2t=jn.span``,Tue=jn.div`
  color: #505050;
  font-weight: normal;
  font-family: Roboto Mono;
  font-weight: normal;
  font-size: 14px;
  text-transform: none;
  overflow-wrap: break-word;
  padding: 4px 0px;
`,x2t=jn.div`
  display: flex;
  gap: 15px;
  flex-direction: column;
`,gH=jn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,NTe=({path:n,top:e=!0})=>v.createElement("div",null,e?"":".",n[0],n.length>1&&v.createElement(g2t,null,v.createElement(NTe,{path:n.slice(1),top:!1}))),g2t=jn.div`
  margin-left: 10px;
`,y2t=jn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #505050;
`,v2t=jn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
  color: #9aa0a6;
`,_2t=jn.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,b2t=jn.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 0px;
  text-align: left;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto"
  font-weight: normal;;
`;m();m();var $b=dr(Fr());var D4=({popoverContent:n,content:e,width:t,enabled:r=!0,zIndex:i=11})=>{let[s,o]=(0,$b.useState)(!1),a=(0,$b.useRef)(!1),l=(0,$b.useRef)(null),f=()=>{a.current=!0,o(!1)};return(0,$b.useEffect)(()=>{a.current=!1},[s]),v.createElement(E2t,{onMouseEnter:()=>!a.current&&o(!0),onMouseLeave:f},v.createElement("div",{ref:l},e({isOpen:s,closeMenu:f})),(()=>{let p=n({setOpen:o,closeMenu:f});return v.createElement(zm,{open:r&&s&&p!==null,setOpen:o,referenceDiv:l,zIndex:i,width:t},p)})())},E2t=jn.div`
  position: relative;
`;m();m();m();var Ny=dr(Fr()),LTe=n=>Ny.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ny.createElement("title",null,"type-icon-on-off"),Ny.createElement("g",{id:"type-icon-on-off",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ny.createElement("g",{id:"Group-Copy",transform:"translate(4.295444, 4.604157)",fill:"#4285f4",fillRule:"nonzero"},Ny.createElement("path",{d:"M1.61912392,3.08712961 L5.78998715,3.08712961 C6.6842046,3.08712961 7.40911107,2.39605211 7.40911107,1.54356481 C7.40911107,0.691077503 6.6842046,0 5.78998715,0 L1.61912392,0 C0.724906472,0 0,0.691077503 0,1.54356481 C0,2.39605211 0.724906472,3.08712961 1.61912392,3.08712961 Z M1.61912392,0.617425922 L5.78998715,0.617425922 C6.32651762,0.617425922 6.7614615,1.03207242 6.7614615,1.54356481 C6.7614615,2.05505719 6.32651762,2.46970369 5.78998715,2.46970369 L1.61912392,2.46970369 C1.08259345,2.46970369 0.647649569,2.05505719 0.647649569,1.54356481 C0.647649569,1.03207242 1.08259345,0.617425922 1.61912392,0.617425922 Z",id:"Shape-Copy-20"}),Ny.createElement("path",{d:"M1.83745135,2.13685198 C2.08762004,2.13888594 2.31428875,1.98975367 2.4114368,1.75920941 C2.50858486,1.52866515 2.45700749,1.2622842 2.28082919,1.08466199 C2.10465088,0.907039785 1.83869956,0.853289683 1.60736972,0.948552441 C1.37603988,1.0438152 1.22505383,1.26925874 1.22505383,1.51943543 C1.22505383,1.85847446 1.49842318,2.13409557 1.83745135,2.13685198 L1.83745135,2.13685198 Z",id:"Path-Copy-14"}),Ny.createElement("path",{d:"M5.78998714,3.70455553 L1.6191239,3.70455553 C0.724906454,3.70455553 0,4.39563305 0,5.24812034 C0,6.10060763 0.724906454,6.79168514 1.6191239,6.79168514 L5.78998714,6.79168514 C6.68420459,6.79168514 7.40911107,6.10060764 7.40911107,5.24812034 C7.40911107,4.39563304 6.68420459,3.70455553 5.78998714,3.70455553 L5.78998714,3.70455553 Z M5.78998714,6.17425922 L1.6191239,6.17425922 C1.08259342,6.17425922 0.647649538,5.75961272 0.647649538,5.24812034 C0.647649538,4.73662796 1.08259342,4.32198146 1.6191239,4.32198146 L5.78998714,4.32198146 C6.32651761,4.32198146 6.7614615,4.73662796 6.7614615,5.24812034 C6.7614615,5.75961272 6.32651761,6.17425922 5.78998714,6.17425922 L5.78998714,6.17425922 Z",id:"Shape-Copy-21"}),Ny.createElement("path",{d:"M5.54392378,4.67774545 C5.2937551,4.6757115 5.06708639,4.82484377 4.96993833,5.05538803 C4.87279028,5.28593228 4.92436765,5.55231324 5.10054595,5.72993544 C5.27672426,5.90755765 5.54267558,5.96130775 5.77400542,5.86604499 C6.00533526,5.77078224 6.15632131,5.5453387 6.15632131,5.295162 C6.15632131,4.95612297 5.88295196,4.68050187 5.54392378,4.67774545 Z",id:"Path-Copy-15"}))));m();var qC=dr(Fr()),Fue=n=>qC.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},qC.createElement("title",null,"type-icon-date"),qC.createElement("g",{id:"type-icon-date",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},qC.createElement("g",{id:"Group-Copy-22",transform:"translate(4.753763, 4.094719)",fill:"#4285f4",fillRule:"nonzero"},qC.createElement("path",{d:"M5.84322609,0.649247344 L5.51860242,0.649247344 L5.51860242,0 L4.86935508,0 L4.86935508,0.649247344 L1.62311836,0.649247344 L1.62311836,0 L0.973871015,0 L0.973871015,0.649247344 L0.649247344,0.649247344 C0.292161305,0.649247344 0,0.941408648 0,1.29849469 L0,6.49247344 C0,6.84955947 0.292161305,7.14172078 0.649247344,7.14172078 L5.84322609,7.14172078 C6.20031213,7.14172078 6.49247344,6.84955947 6.49247344,6.49247344 L6.49247344,1.29849469 C6.49247344,0.941408648 6.20031213,0.649247344 5.84322609,0.649247344 Z M5.84322609,6.49247344 L0.649247344,6.49247344 L0.649247344,2.2723657 L5.84322609,2.2723657 L5.84322609,6.49247344 Z",id:"Shape"}))));m();var BR=dr(Fr()),kTe=n=>BR.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},BR.createElement("title",null,"type-icon-number"),BR.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},BR.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#4285f4",fillRule:"nonzero"})));m();var jR=dr(Fr()),ITe=n=>jR.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},jR.createElement("title",null,"type-icon-string"),jR.createElement("g",{id:"type-icon-string",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},jR.createElement("path",{d:"M4.8045,10.45 L5.2245,9.253 L7.1425,9.253 L7.5625,10.45 L8.6055,10.45 L6.7225,5.438 L5.6375,5.438 L3.7615,10.45 L4.8045,10.45 Z M6.8345,8.385 L5.5255,8.385 L5.9735,7.125 L6.1555,6.523 L6.2115,6.523 L6.3935,7.125 L6.8345,8.385 Z M10.2505,10.562 C10.4791667,10.562 10.681,10.5176667 10.856,10.429 C11.031,10.3403333 11.1721667,10.226 11.2795,10.086 L11.2795,10.086 L11.3355,10.086 L11.3355,10.45 L12.2385,10.45 L12.2385,8.252 C12.2385,7.76666667 12.0961667,7.398 11.8115,7.146 C11.5268333,6.894 11.1115,6.768 10.5655,6.768 C10.2575,6.768 9.97283333,6.82866667 9.7115,6.95 C9.45016667,7.07133333 9.23316667,7.244 9.0605,7.468 L9.0605,7.468 L9.6485,7.93 C9.75116667,7.804 9.88066667,7.7025 10.037,7.6255 C10.1933333,7.5485 10.3555,7.51 10.5235,7.51 C10.7708333,7.51 10.968,7.57066667 11.115,7.692 C11.262,7.81333333 11.3355,7.972 11.3355,8.168 L11.3355,8.168 L11.3355,8.322 C11.0741667,8.21466667 10.7591667,8.161 10.3905,8.161 C10.1245,8.161 9.88183333,8.21 9.6625,8.308 C9.44316667,8.406 9.2705,8.546 9.1445,8.728 C9.0185,8.91 8.9555,9.12 8.9555,9.358 C8.9555,9.71733333 9.07683333,10.0078333 9.3195,10.2295 C9.56216667,10.4511667 9.8725,10.562 10.2505,10.562 Z M10.4675,9.848 C10.2761667,9.848 10.1291667,9.8025 10.0265,9.7115 C9.92383333,9.6205 9.8725,9.50266667 9.8725,9.358 C9.8725,9.00333333 10.1105,8.826 10.5865,8.826 C10.8478333,8.826 11.0975,8.882 11.3355,8.994 C11.3355,9.22266667 11.2573333,9.42216667 11.101,9.5925 C10.9446667,9.76283333 10.7335,9.848 10.4675,9.848 Z",id:"Aa-Copy",fill:"#4285f4",fillRule:"nonzero"})));m();var qR=dr(Fr()),MTe=n=>qR.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},qR.createElement("title",null,"type-icon-projection"),qR.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},qR.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var UR=dr(Fr()),PTe=n=>UR.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},UR.createElement("title",null,"type-icon-number"),UR.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},UR.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#ea8600",fillRule:"nonzero"})));var Ld=({type:n,kind:e})=>{let t={width:"22px",height:"22px"};if(e==="measure")return v.createElement(PTe,{...t});if(n==="string")return v.createElement(ITe,{...t});if(n==="boolean")return v.createElement(LTe,{...t});if(n==="number")return v.createElement(kTe,{...t});if(n==="date")return v.createElement(Fue,{...t});if(n==="timestamp")return v.createElement(Fue,{...t});if(n==="query")return v.createElement(MTe,{...t});if(n==="source")return v.createElement(iH,{...t});throw new Error("Invalid icon type")};var UC=({searchTerm:n,items:e,topValues:t})=>{let r=e.map(s=>({item:s,rank:w2t(s.terms,n)})).filter(({rank:s})=>s>0).sort(({rank:s},{rank:o})=>o-s);return{searchList:v.createElement(S2t,null,r.map(({item:s})=>{if(s.item.type==="field"){let o=s.item,a=Hh(s.item.field);return v.createElement(D4,{width:300,key:s.key,content:()=>v.createElement(zo,{icon:v.createElement(Ld,{type:a,kind:o.kind}),onClick:s.select,name:o.name,color:o.kind,detail:s.detail}),popoverContent:()=>v.createElement(F4,{fieldPath:o.path,topValues:t})})}else return v.createElement("div",null)}),r.length===0&&v.createElement(e0,null,"No results")),count:r.length}},Ly=n=>{let{searchList:e}=UC(n);return e},S2t=jn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function w2t(n,e){let t=e.split(" ").map(i=>i.trim()).filter(i=>i.length>0),r=0;for(let i of t)for(let s=0;s<n.length;s++){let o=n[s],a=n.length-s,l=o.split("_");o.toLowerCase().includes(i.toLowerCase())&&(r+=a),o.toLowerCase()===i.toLowerCase()&&(r+=a*10),o.toLowerCase().startsWith(i.toLowerCase())&&(r+=a*6),l.some(f=>f.toLowerCase().startsWith(i.toLowerCase()))&&(r+=a)}return r}m();m();var $C=dr(Fr());m();var ky=dr(Fr()),BTe=n=>ky.createElement("svg",{width:"25px",height:"25px",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ky.createElement("title",null,"malloy-icon-status-progress"),ky.createElement("defs",null,ky.createElement("circle",{id:"path-1",cx:7.5,cy:7.5,r:7.5}),ky.createElement("mask",{id:"mask-2",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:0,y:0,width:15,height:15,fill:"white"},ky.createElement("use",{xlinkHref:"#path-1"}))),ky.createElement("g",{id:"malloy-icon-status-progress",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeDasharray:16},ky.createElement("use",{id:"Oval-Copy-3",stroke:"#4285F4",className:"primarystroke",mask:"url(#mask-2)",strokeWidth:3,transform:"translate(7.500000, 7.500000) rotate(-240.000000) translate(-7.500000, -7.500000) ",xlinkHref:"#path-1"})));var Hm=({text:n})=>$C.default.createElement(F2t,null,$C.default.createElement(D2t,null,$C.default.createElement(T2t,null,n),$C.default.createElement(jTe,{size:25}))),jTe=({size:n,color:e})=>$C.default.createElement(A2t,{size:n,color:e||"dimension",width:n+"px",height:n+"px"}),C2t=ome`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,A2t=jn(BTe)`
  ${({size:n,color:e})=>`
    width: ${n}px;
    height: ${n}px;

    .primarystroke {
      stroke: ${mi[e].fillStrong}
    }
  `}
  animation: ${C2t} 2s infinite linear;
`,T2t=jn.div`
  margin-bottom: 10px;
  color: #505050;
  font-size: 15px;
`,F2t=jn.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
  width: 100%;
  height: 100%;
`,D2t=jn.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`;var nc=({model:n,modelPath:e,actions:t,closeMenu:r,searchItems:i,valueSearchSource:s,topValues:o,addFilter:a})=>{let[l,f]=(0,Due.useState)(t.length===1&&t[0].kind==="sub_menu"?t[0]:void 0),[p,_]=(0,Due.useState)(""),{searchResults:E,isLoading:O}=Ub(n,e,s,p),R=E&&E.filter(ue=>ue.fieldType==="string").slice(0,100),q=i!==void 0,{searchList:z,count:L}=UC({searchTerm:p,items:i||[],topValues:o}),B=R?.length||0,P=L>0,G=B>0||O;return v.createElement(O2t,null,l===void 0&&v.createElement(v.Fragment,null,q&&v.createElement(C1,null,v.createElement(ap,{value:p,setValue:_,placeholder:"Search",autoFocus:!0})),v.createElement(qTe,null,p===""&&v.createElement(ql,null,v.createElement(L2t,null,t.filter(ue=>ue.isEnabled!==!1).map(ue=>v.createElement(R2t,{key:ue.id,color:ue.iconColor,onClick:()=>{ue.kind==="one_click"?(ue.onClick(),r()):f(ue)}},v.createElement(sa,{action:ue.iconName,color:ue.iconColor}),v.createElement(N2t,null,ue.label))))),p!==""&&v.createElement(v.Fragment,null,P&&v.createElement(ec,{style:{borderBottom:P?"1px solid #efefef":"",maxHeight:G?"200px":"300px"}},v.createElement(ql,null,z)),G&&s&&v.createElement(ec,{style:{borderBottom:"1px solid #efefef",maxHeight:P?"200px":"300px"}},v.createElement(ql,null,R&&R.length>0&&R.map((ue,I)=>v.createElement(zo,{key:I,name:ue.fieldValue,detail:ue.fieldName,icon:v.createElement(sa,{action:"filter"}),color:"filter",onClick:()=>{Px(s,`${ue.fieldName} = '${ue.fieldValue}'`).then(J=>{a&&a(J),r()})}})),R!==void 0&&R.length===0&&v.createElement(e0,null,"No value results"),O&&v.createElement(e0,null,v.createElement(Hm,{text:"Loading value results..."})))),!G&&!P&&v.createElement(e0,null,"No results")))),l!==void 0&&v.createElement(v.Fragment,null,v.createElement(qTe,null,l.Component({onComplete:()=>{l.closeOnComplete?r():f(void 0)}}))))},O2t=jn.div``,R2t=jn.button`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  font-size: 14px;
  cursor: pointer;
  width: 100%;
  display: flex;
  justify-content: flex-start;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";
  color: #353535;

  ${({color:n})=>`
    &:hover {
      background-color: ${mi[n].fillLight};
    }
  `}
`,N2t=jn.div``,L2t=jn.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`,qTe=jn.div`
  flex-direction: column;
  display: flex;
`;m();m();var zb=dr(Fr());m();m();var zC=dr(Fr());var wu=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,autoSelect:s})=>{let o=(0,zC.useRef)(null);return(0,zC.useEffect)(()=>{s&&o.current&&o.current.select()},[s]),v.createElement(Bm,null,r&&v.createElement(op,null,r),v.createElement(k2t,{ref:o,placeholder:t,value:n,onChange:a=>e(a.target.value),autoFocus:i,type:"text"}))},k2t=jn.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`,Oue=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,autoSelect:s,rows:o=1,cols:a})=>{let l=(0,zC.useRef)(null);return(0,zC.useEffect)(()=>{s&&l.current&&l.current.select()},[s]),v.createElement(Bm,null,r&&v.createElement(op,null,r),v.createElement(I2t,{ref:l,placeholder:t,value:n,onChange:f=>e(f.target.value),autoFocus:i,rows:o,cols:a}))},I2t=jn.textarea`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  min-height: calc(1em + 5px);
  padding: 5px 10px;
  outline: none;
  resize: vertical;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;m();var JTe=dr(Fr());m();function Bx(n,e){if(e.length===0)throw new Error("Alternation must have some values");return e.join(" "+n+" ")}function Rue(n,e){switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${n} = ${Bx("|",e.values.map(t=>t.toString()))}`;case"is_not_equal_to":return e.values.length===0?"true":`${n} != ${Bx("&",e.values.map(t=>t.toString()))}`;case"is_between":return`${n}: ${e.lowerBound} to ${e.upperBound}`;case"is_greater_than":return`${n} > ${e.value}`;case"is_less_than":return`${n} < ${e.value}`;case"is_greater_than_or_equal_to":return`${n} >= ${e.value}`;case"is_less_than_or_equal_to":return`${n} <= ${e.value}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function Nue(n,e){switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${n} = ${Bx("|",e.values.map(O4))}`;case"is_not_equal_to":return e.values.length===0?"true":`${n} != ${Bx("&",e.values.map(O4))}`;case"contains":return e.values.length===0?"true":`${n} ~ ${Bx("|",e.values.map(HC).map(t=>`%${t}%`).map(O4))}`;case"does_not_contain":return e.values.length===0?"true":`${n} !~ ${Bx("&",e.values.map(HC).map(t=>`%${t}%`).map(O4))}`;case"starts_with":return e.values.length===0?"true":`${n} ~ ${Bx("|",e.values.map(HC).map(t=>`${t}%`).map(O4))}`;case"does_not_start_with":return e.values.length===0?"true":`${n} !~ ${Bx("&",e.values.map(HC).map(t=>`${t}%`).map(O4))}`;case"ends_with":return e.values.length===0?"true":`${n} ~ ${Bx("|",e.values.map(HC).map(t=>`%${t}`).map(O4))}`;case"does_not_end_with":return e.values.length===0?"true":`${n} !~ ${Bx("&",e.values.map(HC).map(t=>`%${t}`).map(O4))}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"is_blank":return`${n} = ''`;case"is_not_blank":return`${n} != ''`;case"custom":return`${n}: ${e.partial}`}}function Lue(n,e){switch(e.type){case"is_false":return`not ${n}`;case"is_true":return`${n}`;case"is_true_or_null":return`${n}: true | null`;case"is_false_or_null":return`${n}: false | null`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function kue(n,e){switch(e.type){case"is_in_the_past":return`${n}: now - ${e.amount} ${e.unit} for ${e.amount} ${e.unit}`;case"is_last":return`${n}.${e.period} = now.${e.period} - 1 ${e.period}`;case"is_this":return`${n}.${e.period} = now.${e.period}`;case"is_on":return`${n}.${e.granularity} = ${$R(e.date,e.granularity)}`;case"is_after":return`${n}.${e.granularity} > ${$R(e.date,e.granularity)}`;case"is_before":return`${n}.${e.granularity} < ${$R(e.date,e.granularity)}`;case"is_between":return`${n}.${e.granularity}: ${$R(e.start,e.granularity)} to ${$R(e.end,e.granularity)}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function HC(n){return n.replace(/%/g,"%%")}function O4(n){return`'${n}'`}function $R(n,e){switch(e){case"year":return`@${Cu(n.getUTCFullYear(),4)}`;case"quarter":{let t=Cu(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`@${t}-Q${r}`}case"month":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2);return`@${t}-${r}`}case"week":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2);return`@WK${t}-${r}-${i}`}case"day":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2);return`@${t}-${r}-${i}`}case"hour":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2),s=Cu(n.getUTCHours(),2);return`@${t}-${r}-${i} ${s}:00 for 1 hour`}case"minute":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2),s=Cu(n.getUTCHours(),2),o=Cu(n.getUTCMinutes(),2);return`@${t}-${r}-${i} ${s}:${o}`}case"second":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2),s=Cu(n.getUTCHours(),2),o=Cu(n.getUTCMinutes(),2),a=Cu(n.getUTCSeconds(),2);return`@${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}function Cu(n,e){return n.toString().padStart(e,"0")}function UTe(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":case"starts_with":case"does_not_start_with":case"contains":case"does_not_contain":case"ends_with":case"does_not_end_with":return{type:e,values:"values"in n?n.values:[]};case"is_blank":case"is_not_blank":case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function $Te(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":return{type:e,values:"values"in n?n.values:"value"in n?[n.value]:"lowerBound"in n?[n.lowerBound]:[]};case"is_greater_than":case"is_less_than":case"is_greater_than_or_equal_to":case"is_less_than_or_equal_to":return{type:e,value:"value"in n?n.value:"values"in n&&n.values[0]||0};case"is_between":return{type:e,lowerBound:"value"in n?n.value:"values"in n&&n.values[0]||0,upperBound:0};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function zTe(n,e){switch(e){case"is_in_the_past":return{type:e,unit:"days",amount:7};case"is_last":case"is_this":return{type:e,period:"day",amount:1};case"is_on":case"is_after":case"is_before":return{type:e,granularity:"granularity"in n?n.granularity:"day",date:"date"in n?n.date:"start"in n?n.start:new Date};case"is_between":return{type:e,granularity:"granularity"in n?n.granularity:"day",start:"date"in n?n.date:new Date,end:new Date};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function HTe(n,e){switch(e){case"custom":return{type:e,partial:""};default:return{type:e}}}m();var Iy=dr(Fr());var Vm=({values:n,setValues:e,autoFocus:t,placeholder:r,type:i="text",value:s,setValue:o,focusElement:a})=>{let[l,f]=(0,Iy.useState)(""),[p,_]=(0,Iy.useState)(!1),E=(0,Iy.useRef)(null),O=(0,Iy.useRef)(null),[R,q]=(0,Iy.useState)(void 0),z=s||l,L=o||f;(0,Iy.useEffect)(()=>{let P=G=>{if(G.key==="Backspace"){if(R!==void 0){let ue=[...n];ue.splice(R,1),e(ue),R===0?n.length===1?(q(void 0),E.current?.focus()):q(0):q(R-1)}}else G.key==="ArrowRight"?R===n.length-1?(q(void 0),E.current?.focus()):R!==void 0&&q(R+1):G.key==="ArrowLeft"?R!==void 0&&R>0&&q(R-1):E.current?.focus()};return window.addEventListener("keyup",P),()=>window.removeEventListener("keyup",P)});let B=()=>{z.length>0&&(e([...n,z]),L(""))};return O1(a?[O,a]:O,()=>{_(!1),B()}),v.createElement(M2t,{onClick:()=>E.current?.focus(),isFocused:p||R!==void 0,ref:O},n.map((P,G)=>v.createElement(P2t,{key:G,isSelected:R===G,onClick:ue=>{q(G),ue.stopPropagation()}},P)),v.createElement(B2t,{ref:E,type:i,placeholder:n.length===0?r:"",value:z,size:1,onChange:P=>{L(P.target.value)},onKeyDown:P=>{P.key==="Enter"&&z!==""&&(B(),P.stopPropagation(),P.preventDefault())},onKeyUp:P=>{P.key==="Backspace"?z===""&&n.length>0&&(B(),E.current?.blur(),q(n.length-1)):P.key==="ArrowLeft"&&(E.current?.selectionStart===0||E.current?.selectionStart===null)&&(B(),E.current?.blur(),q(n.length-1),P.preventDefault(),P.stopPropagation())},onFocus:()=>{_(!0),q(void 0)},autoFocus:t}))},M2t=jn.div`
  font-family: Roboto;
  font-size: 14px;
  font-weight: normal;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 2px 3px;
  outline: none;
  display: flex;
  overflow: hidden;
  gap: 3px;
  flex-wrap: wrap;

  ${({isFocused:n})=>n?"border-color: #4285F4;":""}
`,P2t=jn.div`
  ${({isSelected:n})=>`
    border: 1px solid ${n?mi.dimension.fillStrong:mi.dimension.fillMedium};
    background-color: ${n?mi.dimension.fillMedium:mi.dimension.fillLight};
  `}

  border-radius: 5px;
  color: ${mi.dimension.fillStrong};
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 1px 5px;
  text-transform: none;
  cursor: pointer;
  height: 20px;
`,B2t=jn.input`
  border: none;
  outline: none;
  font-family: Roboto;
  font-size: 14px;
  min-width: 95px;
  padding: 3.75px 7px;
  flex-grow: 1;
`,dBt=jn(RC)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${mi[n].fillStrong};
      }
    `}
`;m();m();var vH=dr(Fr());m();var yH=dr(Fr()),VTe=n=>yH.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,role:"img",...n},yH.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),yH.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}));var j2t=jn.div`
  position: relative;
`,q2t=jn.button`
  background-color: transparent;
  font-size: 14px;
  border: 1px solid #efefef;
  border-radius: 4px;
  padding: 3px 10px;
  cursor: pointer;
  color: #5f6368;
  display: flex;
  justify-content: space-between;
  text-transform: none;
  align-items: center;
  font-family: Arial;
  &:hover {
    border: 1px solid #ececed;
  }
  :focus {
    box-shadow: none;
    border: 1px solid #4285f4;
    outline: none;
  }
  &[disabled] {
    cursor: default;
    background-color: #f6f6f6;
  }
  width: 100%;
`,WTe=jn.label`
  padding: 0px 10px;
  height: 30px;
  cursor: pointer;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  color: #5f6368;
  display: flex;
  align-items: center;
  &:hover {
    background-color: ${mi.dimension.fillLight};
  }
`,QTe=jn.span`
  margin-left: 8px;
`,U2t=jn(VTe)`
  vertical-align: text-top;
  width: 20px;
  min-width: 20px;
  opacity: 70%;
  visibility: hidden;

  &.selected {
    visibility: visible;
  }
`,ml=({autoFocus:n,value:e,onChange:t,options:r,placeholder:i="Select",disabled:s=!1,valueEqual:o=(l,f)=>l===f,width:a=200})=>{let[l,f]=(0,vH.useState)(!1),p=(0,vH.useRef)(null),_=e!==void 0&&r.find(O=>o(O.value,e))?.label||i,E=O=>{t&&t(O),f(!1)};return O1(p,()=>{f(!1)}),v.createElement(j2t,{ref:p},v.createElement(q2t,{type:"button",autoFocus:n,onClick:O=>{O.preventDefault(),O.stopPropagation(),s||f(!0)}},_,v.createElement(nH,{width:"22px",height:"22px"})),v.createElement(zm,{open:l,setOpen:f,placement:"bottom-start",width:a,maxHeight:500},v.createElement(_H,{options:r,value:e,valueEqual:o,onChange:E})))};function _H({options:n,value:e,onChange:t,valueEqual:r=(i,s)=>i===s}){return v.createElement(YTe,null,n.reduce((i,s,o)=>{let a=e!==void 0&&r(e,s.value);return s.divider&&i.push(v.createElement(KTe,{key:"divider"+o})),i.push(v.createElement(WTe,{key:o,onClick:()=>t(s.value),className:a?"selected":""},v.createElement($2t,{type:"radio",defaultChecked:a}),v.createElement(U2t,{className:a?"selected":""}),v.createElement(QTe,null,s.label))),i},[]))}function GTe({options:n}){return v.createElement(YTe,null,n.reduce((e,t,r)=>(t.divider&&e.push(v.createElement(KTe,{key:"divider"+r})),e.push(v.createElement(WTe,{key:r,onClick:i=>t.onSelect(i)},v.createElement(QTe,null,t.label))),e),[]))}var $2t=jn.input`
  width: 0;
  height: 0;
`,YTe=jn.div`
  font-size: 14px;
  font-family: Roboto;
  text-transform: none;
  font-weight: normal;
  width: 100%;
  padding: 10px 0;
  overflow-y: auto;
  max-height: 400px;
`,KTe=jn.div`
  border-top: 1px solid #ececec;
  width: 100%;
  margin: 0 10px;
  margin: 5px 0;
`;var XTe=({model:n,modelPath:e,source:t,filter:r,setFilter:i,fieldPath:s})=>{let o=z=>{i(UTe(r,z))},a=V2t(n,e,t,r,i,s),l=W2t(r,i),f=Q2t(r,i),p=G2t(r,i),_=Y2t(r,i),E=K2t(r,i),O=J2t(r,i),R=X2t(r,i),q=!!(a.util||l.util||f.util||p.util||_.util||E.util||O.util||R.util);return v.createElement("div",null,v.createElement(z2t,null,v.createElement(ml,{value:r.type,onChange:o,options:[{value:"is_equal_to",label:"Is"},{value:"starts_with",label:"Starts with"},{value:"ends_with",label:"Ends with"},{value:"contains",label:"Contains"},{value:"is_blank",label:"Blank"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Is not"},{value:"does_not_start_with",label:"Does not start with"},{value:"does_not_end_with",label:"Does not end with"},{value:"does_not_contain",label:"Does not contain"},{value:"is_not_blank",label:"Not blank"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),a.builder,l.builder,f.builder,p.builder,_.builder,E.builder,O.builder,R.builder),q&&v.createElement(H2t,null,a.util,l.util,f.util,p.util,_.util,E.util,O.util,R.util))},z2t=jn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  padding: 0 15px;
`,H2t=jn.div`
  margin-top: 15px;
  border-top: 1px solid #efefef;
  border-bottom: 1px solid #efefef;
`;function V2t(n,e,t,r,i,s){let[o,a]=(0,JTe.useState)(""),{searchResults:l,isLoading:f}=Ub(n,e,t,o,s);if(r.type!=="is_equal_to"&&r.type!=="is_not_equal_to")return{builder:null,util:null};let p=v.createElement(Vm,{values:r.values,setValues:E=>i({...r,values:E}),placeholder:"Values...",value:o,setValue:a}),_=v.createElement(ec,null,v.createElement(ql,null,l&&l.length>0&&l.map((E,O)=>v.createElement(zo,{key:O,name:E.fieldValue,detail:pM(E.weight),icon:v.createElement(sa,{action:"filter"}),color:"filter",onClick:()=>{i({...r,values:[...r.values,E.fieldValue]}),a("")},fullDetail:!0})),l!==void 0&&l.length===0&&v.createElement(e0,null,"No value results"),f&&v.createElement(e0,null,v.createElement(Hm,{text:"Loading value results..."}))));return{builder:p,util:_}}function W2t(n,e){return n.type!=="contains"?{builder:null,util:null}:{builder:v.createElement(Vm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Q2t(n,e){return n.type!=="does_not_contain"?{builder:null,util:null}:{builder:v.createElement(Vm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function G2t(n,e){return n.type!=="starts_with"?{builder:null,util:null}:{builder:v.createElement(Vm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Y2t(n,e){return n.type!=="does_not_start_with"?{builder:null,util:null}:{builder:v.createElement(Vm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function K2t(n,e){return n.type!=="ends_with"?{builder:null,util:null}:{builder:v.createElement(Vm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function J2t(n,e){return n.type!=="does_not_end_with"?{builder:null,util:null}:{builder:v.createElement(Vm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function X2t(n,e){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(wu,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}),util:null}}m();m();m();var bH=dr(Fr());var k1=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i})=>{let[s,o]=(0,bH.useState)(n.toString());return(0,bH.useEffect)(()=>{o(n.toString())},[n]),v.createElement(Bm,null,r&&v.createElement(op,null,r),v.createElement(Z2t,{type:"number",placeholder:t,value:s,size:1,onChange:a=>{let l=a.target.value;o(l);let f=parseFloat(l);Number.isNaN(f)||e(f)},autoFocus:i}))},Z2t=jn.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
    background-color: ${mi.dimension.fillLight};
  }
`;var ZTe=({filter:n,setFilter:e})=>{let t=O=>{e($Te(n,O))},r=v.createElement(ml,{value:n.type,onChange:t,options:[{value:"is_equal_to",label:"Equal to"},{value:"is_greater_than",label:"Greater than"},{value:"is_less_than",label:"Less than"},{value:"is_greater_than_or_equal_to",label:"Greater than or equal to"},{value:"is_less_than_or_equal_to",label:"Less than or equal to"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Not equal to"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),i=txt(n,e,r),s=nxt(n,e,r),o=rxt(n,e,r),a=ixt(n,e,r),l=sxt(n,e,r),f=oxt(n,e,r),p=axt(n,e,r),_=uxt(n,e,r),E=n.type==="is_null"||n.type==="is_not_null"?v.createElement("div",{style:{width:"100%"}},r):null;return v.createElement(ext,null,i.builder,s.builder,o.builder,a.builder,l.builder,f.builder,p.builder,_.builder,E)},ext=jn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,zR=jn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,EH=jn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function txt(n,e,t){return n.type!=="is_equal_to"?{builder:null,util:null}:{builder:v.createElement(EH,null,t,v.createElement(Vm,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function nxt(n,e,t){return n.type!=="is_not_equal_to"?{builder:null,util:null}:{builder:v.createElement(EH,null,t,v.createElement(Vm,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function rxt(n,e,t){return n.type!=="is_greater_than"?{builder:null,util:null}:{builder:v.createElement(zR,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},t),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(k1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function ixt(n,e,t){return n.type!=="is_less_than"?{builder:null,util:null}:{builder:v.createElement(zR,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},t),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(k1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function sxt(n,e,t){return n.type!=="is_greater_than_or_equal_to"?{builder:null,util:null}:{builder:v.createElement(zR,null,v.createElement("div",{style:{width:"80%",flexShrink:1}},t),v.createElement("div",{style:{width:"20%",flexShrink:1}},v.createElement(k1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function oxt(n,e,t){return n.type!=="is_less_than_or_equal_to"?{builder:null,util:null}:{builder:v.createElement(zR,null,v.createElement("div",{style:{width:"70%",flexShrink:1}},t),v.createElement("div",{style:{width:"30%",flexShrink:1}},v.createElement(k1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function axt(n,e,t){return n.type!=="is_between"?{builder:null,util:null}:{builder:v.createElement(EH,null,t,v.createElement(zR,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(k1,{value:n.lowerBound,setValue:i=>e({...n,lowerBound:i})})),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(k1,{value:n.upperBound,setValue:i=>e({...n,upperBound:i})}))))}}function uxt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(EH,null,t,v.createElement(wu,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}m();var My=dr(Fr());m();m();var SH=dr(Mue()),wH=dr(Fr());var HR=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,granularity:s,onFocus:o,onBlur:a,isActive:l})=>{let f=s==="year"?"YYYY":s==="month"?"YYYY-MM":s==="quarter"?"YYYY-[Q]Q":s==="week"?"[WK]YYYY-MM-DD":s==="day"?"YYYY-MM-DD":s==="hour"?"YYYY-MM-DD HH:00":s==="minute"?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss",[p,_]=(0,wH.useState)((0,SH.default)(n).format(f));return(0,wH.useEffect)(()=>{_((0,SH.default)(n).format(f))},[n,f]),v.createElement(Bm,null,r&&v.createElement(op,null,r),v.createElement(lxt,{type:"text",placeholder:t||f,value:p,onFocus:o,onBlur:a,isActive:l,onChange:E=>{let O=E.target.value;_(O);let R=s==="year"?/\d\d\d\d/:s==="month"?/\d\d-\d\d\d\d/:s==="quarter"?/\d\d\d\d-Q\d/:s==="week"?/WK\d\d-\d\d-\d\d\d\d/:s==="day"?/\d\d-\d\d-\d\d\d\d/:s==="hour"?/\d\d-\d\d-\d\d\d\d \d\d:00/:s==="minute"?/\d\d-\d\d-\d\d\d\d \d\d:\d\d/:/\d\d-\d\d-\d\d\d\d \d\d:\d\d:\d\d/;if(O.match(R)){let q=(0,SH.default)(O,f);q.isValid()&&e(q.toDate())}},autoFocus:i}))},lxt=jn.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  ${({isActive:n})=>`
    border: 1px solid ${n?mi.dimension.fillStrong:"#efefef"};
    background-color: ${n?mi.dimension.fillLight:"white"};
    color: ${n?mi.dimension.fillStrong:"#505050"};
  `}

  &:focus {
    border-color: #4285f4;
    background-color: ${mi.dimension.fillLight};
  }
`;m();m();var WC=dr(Fr()),Ho=dr(Mue());function eFe(n){return["year","quarter","month","week","day","hour","minute","second"].indexOf(n)}function cxt(n){return["January","February","March","April","May","June","July","August","September","October","November","December"][n]}var CH=({value:n,setValue:e,maxLevel:t})=>{let[r,i]=(0,WC.useState)(n),s=Axt(r),[o,a]=(0,WC.useState)(t),l=Math.floor((0,Ho.default)(r).year()/10)*10;(0,WC.useEffect)(()=>{(eFe(t)<eFe(o)||o==="quarter"&&t!=="quarter"||o==="week"&&t!=="week")&&a(t)},[t,o]),(0,WC.useEffect)(()=>{i(n)},[n]);let f=L=>{let B=(0,Ho.default)(r).year(L).toDate();i(B),e(B),t!=="year"&&a(t==="quarter"?"quarter":"month")},p=L=>{let B=()=>f(l+L);return L===-1||L===10?v.createElement(bxt,{onClick:B,isSelected:!1},l+L):v.createElement(nFe,{onClick:B,isSelected:(0,Ho.default)(r).year()===l+L},l+L)},_=L=>{let B=(0,Ho.default)(r).month(L).toDate();i(B),e(B),t!=="month"&&a(t==="week"?"week":"day")},E=L=>{i(L),e(L),t!=="day"&&a(t)},O=L=>{i(L),e(L),t!=="week"&&a("day")},R=L=>{let B=(0,Ho.default)(r).quarter(L+1).toDate();i(B),e(B)},q=L=>v.createElement(vxt,{onClick:()=>_(L),isSelected:(0,Ho.default)(r).month()===L&&(0,Ho.default)(r).year()===(0,Ho.default)(n).year()},cxt(L)),z=L=>v.createElement(yxt,{onClick:()=>R(L),isSelected:(0,Ho.default)(r).quarter()-1===L&&(0,Ho.default)(r).year()===(0,Ho.default)(n).year()},"Q",L+1);return v.createElement(fxt,null,v.createElement(dxt,null,v.createElement(tFe,null,v.createElement(D9e,{onClick:()=>{o==="day"||o==="week"?i((0,Ho.default)(r).subtract(1,"month").toDate()):o==="month"||o==="quarter"?i((0,Ho.default)(r).subtract(1,"year").toDate()):o==="year"?i((0,Ho.default)(r).subtract(10,"years").toDate()):E((0,Ho.default)(r).subtract(1,"days").toDate())}})),v.createElement(hxt,{onClick:()=>{o==="day"||o==="week"?a("month"):o==="month"||o==="quarter"?a("year"):(o==="hour"||o==="minute"||o==="second")&&a("day")}},(o==="day"||o==="week")&&(0,Ho.default)(r).format("MMMM YYYY"),(o==="month"||o==="quarter")&&(0,Ho.default)(r).format("YYYY"),o==="year"&&v.createElement(v.Fragment,null,l,"-",l+9),(o==="hour"||o==="minute"||o==="second")&&v.createElement(v.Fragment,null,(0,Ho.default)(r).format("MMMM D, YYYY"))),v.createElement(tFe,null,v.createElement(O9e,{onClick:()=>{o==="day"||o==="week"?i((0,Ho.default)(r).add(1,"month").toDate()):o==="month"||o==="quarter"?i((0,Ho.default)(r).add(1,"year").toDate()):o==="year"?i((0,Ho.default)(r).add(10,"years").toDate()):E((0,Ho.default)(r).add(1,"days").toDate())}}))),o==="day"&&v.createElement(rFe,null,v.createElement(iFe,null,v.createElement(Sh,null,"S"),v.createElement(Sh,null,"M"),v.createElement(Sh,null,"T"),v.createElement(Sh,null,"W"),v.createElement(Sh,null,"T"),v.createElement(Sh,null,"F"),v.createElement(Sh,null,"S")),s.map((L,B)=>v.createElement(Ext,{key:B},L.map(P=>v.createElement(Cxt,{key:P.number,isCurrentMonth:P.isCurrentMonth,onClick:()=>{E(P.date)},isSelected:n.getTime()===P.date.valueOf()},P.number))))),o==="month"&&v.createElement(pxt,null,v.createElement(AH,null,q(0),q(1),q(2)),v.createElement(AH,null,q(3),q(4),q(5)),v.createElement(AH,null,q(6),q(7),q(8)),v.createElement(AH,null,q(9),q(10),q(11))),o==="year"&&v.createElement(_xt,null,v.createElement(TH,null,p(-1),p(0),p(1)),v.createElement(TH,null,p(2),p(3),p(4)),v.createElement(TH,null,p(5),p(6),p(7)),v.createElement(TH,null,p(8),p(9),p(10))),o==="quarter"&&v.createElement(gxt,null,z(0),z(1),z(2),z(3)),o==="week"&&v.createElement(rFe,null,v.createElement(iFe,null,v.createElement(Sh,null,"S"),v.createElement(Sh,null,"M"),v.createElement(Sh,null,"T"),v.createElement(Sh,null,"W"),v.createElement(Sh,null,"T"),v.createElement(Sh,null,"F"),v.createElement(Sh,null,"S")),s.map((L,B)=>v.createElement(Sxt,{key:B,onClick:()=>{O(L[0].date)},isSelected:n.getTime()===L[0].date.valueOf()},L.map(P=>v.createElement(wxt,{key:P.number,isCurrentMonth:P.isCurrentMonth},P.number))))),(o==="hour"||o==="minute"||o==="second")&&v.createElement(mxt,null,v.createElement(xxt,null,v.createElement(Eh,null,v.createElement(k1,{label:"Hours",value:parseInt((0,Ho.default)(r).format("hh")),setValue:L=>{let B=(0,Ho.default)(r).hour()>=12?"PM":"AM",P=parseInt((0,Ho.default)(`${L} ${B}`,["hh A"]).format("H"));e((0,Ho.default)(r).hour(P).toDate())}})),(t==="minute"||t==="second")&&v.createElement(Eh,null,v.createElement(k1,{label:"Minutes",value:(0,Ho.default)(r).minutes(),setValue:L=>{e((0,Ho.default)(r).minute(L).toDate())}})),t==="second"&&v.createElement(Eh,null,v.createElement(k1,{label:"Seconds",value:(0,Ho.default)(r).seconds(),setValue:L=>{e((0,Ho.default)(r).second(L).toDate())}})),v.createElement("div",{style:{display:"flex",justifyContent:"flex-end",flexDirection:"column"}},v.createElement(ml,{value:(0,Ho.default)(r).hour()>=12?"PM":"AM",onChange:L=>{let B=parseInt((0,Ho.default)(r).format("h")),P=parseInt((0,Ho.default)(`${B} ${L}`,["hh A"]).format("H"));e((0,Ho.default)(r).hour(P).toDate())},options:[{value:"AM",label:"AM"},{value:"PM",label:"PM"}]})))))},fxt=jn.div`
  user-select: none;
  font-size: 14px;
  font-family: Roboto;
`,dxt=jn.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 5px;
  margin-bottom: 5px;
`,tFe=jn.div`
  border-radius: 5px;
  padding-top: 2px;
  padding-left: 4px;
  padding-right: 4px;
  cursor: pointer;

  &:hover {
    background-color: #efefef;
  }
`,hxt=jn.div`
  border-radius: 5px;
  padding: 4px;
  padding-top: 5px;
  flex-grow: 1;
  text-align: center;
  cursor: pointer;
  text-transform: none;
  font-weight: normal;

  &:hover {
    background-color: #efefef;
  }
`,pxt=jn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,mxt=jn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 90px;
`,xxt=jn.div`
  display: flex;
  flex-direction: row;
  user-select: none;
  justify-content: space-around;
  gap: 10px;
`,gxt=jn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,AH=jn.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,yxt=jn.div`
  width: calc(100% - 22px);
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,vxt=jn.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,_xt=jn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,TH=jn.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 2px;
`,nFe=jn.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  font-weight: normal;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,bxt=jn(nFe)`
  color: #909090;
`,rFe=jn.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
  user-select: none;
`,iFe=jn.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,Ext=jn.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,Sxt=jn.div`
  display: flex;
  cursor: pointer;
  flex-direction: row;
  gap: 2px;
  border-radius: 50px;
  justify-content: space-between;
  border: 1px solid transparent;

  ${({isSelected:n})=>n?`
    background-color: ${mi.dimension.fillLight};
    color:  ${mi.dimension.fillStrong};
    border-color: ${mi.dimension.fillMedium};
  `:`
    &:hover {
      background-color: ${mi.dimension.fillLight};
    }
  `}
`,Pue=jn.div`
  width: 16.5px;
  height: 16.5px;
  min-width: 16.5px;
  max-width: 16.5px;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
`,Sh=jn(Pue)`
  font-weight: bold;
  color: #505050;
`,wxt=jn(Pue)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  ${({isCurrentMonth:n})=>`
    color: ${n?"#505050":"#909090"};
  `}
`,Cxt=jn(Pue)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  border: 1px solid transparent;
  ${({isCurrentMonth:n,isSelected:e})=>`
    color: ${n?"#505050":"#909090"};
    ${e?`
      background-color: ${mi.dimension.fillLight};
      color:  ${mi.dimension.fillStrong};
      border-color: ${mi.dimension.fillMedium};
    `:`
      &:hover {
        background-color: ${mi.dimension.fillLight};
      }
    `}
  `}
`;function Axt(n){let e=(0,Ho.default)(n).date(1),t=e.day(),r=e.daysInMonth(),i=e.clone().subtract(1,"day").daysInMonth(),s=[];for(let o=0;o<6;o++){let a=[];for(let l=0;l<7;l++)if(o===0&&l<t){let f=t-l;a.push({number:i-f+1,date:e.clone().subtract(f,"days").toDate(),isCurrentMonth:!1})}else{let f=o*7+l-t;f<r?a.push({number:f+1,date:e.clone().add(f,"days").toDate(),isCurrentMonth:!0}):a.push({number:f-r+1,date:e.clone().add(f,"days").toDate(),isCurrentMonth:!1})}s.push(a)}return s}var sFe=({filter:n,setFilter:e,type:t})=>{let r=E=>{e(zTe(n,E))},i=v.createElement(ml,{value:n.type,onChange:r,options:[{value:"is_in_the_past",label:"Past"},{value:"is_last",label:"Last"},{value:"is_this",label:"This"},{value:"is_on",label:"On"},{value:"is_after",label:"After"},{value:"is_before",label:"Before"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),s=Dxt(n,e,t,i),o=Nxt(n,e,t,i),a=Oxt(n,e,t,i),l=Rxt(n,e,t,i),f=Lxt(n,e,i),p=n.type==="is_null"||n.type==="is_not_null"?v.createElement("div",{style:{width:"100%"}},i):null,_=s.util||l.util||f.util||a.util||o.util;return v.createElement("div",null,v.createElement(Txt,null,s.builder,l.builder,f.builder,a.builder,o.builder,p),_&&v.createElement(Fxt,null,s.util,l.util,f.util,a.util,o.util))},Txt=jn.div`
  padding: 0 15px;
`,Fxt=jn.div`
  border-top: 1px solid #efefef;
  padding: 15px;
  margin-top: 10px;
  padding-bottom: 0;
`,QC=jn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,Bue=jn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function Dxt(n,e,t,r){if(n.type!=="is_in_the_past")return{builder:null,util:null};let i=[{value:"years",label:"Years"},{value:"quarters",label:"Quarters"},{value:"months",label:"Months"},{value:"weeks",label:"Weeks"},{value:"days",label:"Days"}];return t==="timestamp"&&i.push({value:"hours",label:"Hours"},{value:"minutes",label:"Minutes"},{value:"seconds",label:"Seconds"}),{builder:v.createElement(QC,null,v.createElement("div",{style:{width:"30%",flexShrink:1}},r),v.createElement("div",{style:{width:"30%",flexShrink:1}},v.createElement(wu,{value:n.amount.toString(),setValue:a=>e({...n,amount:parseFloat(a)})})),v.createElement("div",{style:{width:"40%",flexShrink:1}},v.createElement(ml,{value:n.unit,options:i,onChange:a=>e({...n,unit:a})}))),util:null}}function Oxt(n,e,t,r){if(n.type!=="is_this"&&n.type!=="is_last")return{builder:null,util:null};let i=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];return t==="timestamp"&&i.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"}),{builder:v.createElement(QC,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(ml,{value:n.period,options:i,onChange:a=>e({...n,period:a})}))),util:null}}function Rxt(n,e,t,r){let[i,s]=(0,My.useState)(!1),o=(0,My.useRef)(null),a=(0,My.useRef)(null);if(O1([o,a],()=>s(!1)),n.type!=="is_on"&&n.type!=="is_after"&&n.type!=="is_before")return{builder:null,util:null};let l=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&l.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let f=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,p=v.createElement(Bue,null,v.createElement(QC,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(ml,{value:n.granularity,options:l,onChange:E=>e({...n,granularity:E})}))),v.createElement(QC,null,v.createElement("div",{ref:o,style:{width:"100%",flexShrink:1}},v.createElement(HR,{value:n.date,setValue:E=>e({...n,date:E}),granularity:f,onFocus:()=>s(!0),isActive:i})))),_=i?v.createElement("div",{ref:a},v.createElement(CH,{value:n.date,setValue:E=>e({...n,date:E}),maxLevel:f})):null;return{builder:p,util:_}}function Nxt(n,e,t,r){let[i,s]=(0,My.useState)(void 0),o=(0,My.useRef)(null),a=(0,My.useRef)(null),l=(0,My.useRef)(null);if(O1([o,a,l],()=>{s(void 0)}),n.type!=="is_between")return{builder:null,util:null};let f=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&f.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let p=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,_=v.createElement(Bue,null,v.createElement(QC,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(ml,{value:n.granularity,options:f,onChange:O=>e({...n,granularity:O})}))),v.createElement(QC,null,v.createElement("div",{ref:o},v.createElement(HR,{value:n.start,setValue:O=>e({...n,start:O}),granularity:p,onFocus:()=>s({key:"start",date:n.start,setValue:O=>e({...n,start:O})}),isActive:i?.key==="start"})),v.createElement("div",{ref:a},v.createElement(HR,{value:n.end,setValue:O=>e({...n,end:O}),granularity:p,onFocus:()=>s({key:"end",date:n.end,setValue:O=>e({...n,end:O})}),isActive:i?.key==="end"})))),E=i?v.createElement("div",{ref:l},v.createElement(CH,{key:i.key,value:i.date,setValue:i.setValue,maxLevel:p})):null;return{builder:_,util:E}}function Lxt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(Bue,null,t,v.createElement(wu,{value:n.partial,setValue:s=>e({type:"custom",partial:s}),placeholder:"!= null"})),util:null}}m();var oFe=({filter:n,setFilter:e})=>{let t=o=>{e(HTe(n,o))},r=v.createElement(ml,{value:n.type,onChange:t,options:[{value:"is_true",label:"True"},{value:"is_false",label:"False"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"is_true_or_null",label:"True or null"},{value:"is_false_or_null",label:"False or null"},{value:"custom",label:"Custom"}]}),i=Mxt(n,e,r),s=n.type!=="custom"?v.createElement("div",{style:{width:"100%"}},r):null;return v.createElement(kxt,null,i.builder,s)},kxt=jn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,Ixt=jn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function Mxt(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(Ixt,null,t,v.createElement(wu,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}var VR=({model:n,modelPath:e,source:t,field:r,addFilter:i,needsRename:s,onComplete:o,fieldPath:a})=>{let l=Hh(r),f=Mp(r),[p,_]=(0,zb.useState)({type:"is_equal_to",values:[]}),[E,O]=(0,zb.useState)({type:"is_equal_to",values:[]}),[R,q]=(0,zb.useState)({type:"is_on",date:new Date,granularity:"day"}),[z,L]=(0,zb.useState)({type:"is_true"}),[B,P]=(0,zb.useState)(l==="string"?Nue(a,p):l==="number"?Rue(a,E):l==="date"||l==="timestamp"?kue(a,R):l==="boolean"?Lue(a,z):""),[G,ue]=(0,zb.useState)("");return v.createElement("div",null,v.createElement("form",null,v.createElement(Cc,{style:{padding:"15px",paddingBottom:0}},"Filter",v.createElement(Mz,null,v.createElement(xC,{color:"dimension"},v.createElement(Ld,{type:l,kind:f})),v.createElement(Bz,null,r.name))),s&&v.createElement(Pxt,null,v.createElement(Eh,null,v.createElement(wu,{value:G,setValue:ue,placeholder:"field name",label:"Field Name",autoFocus:!0}),v.createElement(op,null,"Filter"))),l==="string"&&v.createElement(XTe,{modelPath:e,model:n,source:t,fieldPath:a,filter:p,setFilter:I=>{_(I),P(Nue(a,I))}}),l==="boolean"&&v.createElement(oFe,{filter:z,setFilter:I=>{L(I),P(Lue(a,I))}}),l==="number"&&v.createElement(ZTe,{filter:E,setFilter:I=>{O(I),P(Rue(a,I))}}),(l==="date"||l==="timestamp")&&v.createElement(sFe,{type:l,filter:R,setFilter:I=>{q(I),P(kue(a,I))}}),v.createElement(bh,{style:{padding:"0 15px 15px 15px"}},v.createElement(Wa,{type:"button",color:"secondary",onClick:o},"Cancel"),v.createElement(Wa,{onClick:I=>{Px(t,B).then(J=>{i(J,G||void 0),o()}).catch(console.log),I.stopPropagation(),I.preventDefault()}},"Save"))))},Pxt=jn.div`
  margin: 15px;
  margin-top: 0;
  margin-bottom: 10px;
`;m();m();var FH=dr(Fr());var WR=({source:n,addDimension:e,onComplete:t,initialCode:r,initialName:i})=>{let[s,o]=(0,FH.useState)(r||""),[a,l]=(0,FH.useState)(i||""),[f,p]=(0,FH.useState)(),_=r===void 0;return v.createElement(Ac,null,v.createElement(Cc,null,_?"New":"Edit"," Dimension"),v.createElement("form",null,v.createElement(Eh,null,_&&v.createElement(wu,{value:a,setValue:l,placeholder:"field name",label:"Field Name",autoFocus:!0}),v.createElement(wu,{value:s,setValue:o,placeholder:"some_field * 10",label:_?"Definition":void 0})),v.createElement(jz,{error:f}),v.createElement(bh,null,v.createElement(Wa,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Wa,{onClick:E=>{E.stopPropagation(),E.preventDefault(),TTe(n,a,s).then(O=>{e(O),t()}).catch(p)}},"Save"))))};m();m();m();m();var QR=dr(Fr()),aFe=n=>QR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},QR.createElement("title",null,"viz_table"),QR.createElement("g",{id:"viz_table",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},QR.createElement("path",{d:"M81.0526316,23 L28.9473684,23 C25.1263158,23 22,26.1662162 22,30.036036 L22,79.2882883 C22,83.1581081 25.1263158,86.3243243 28.9473684,86.3243243 L81.0526316,86.3243243 C84.8736842,86.3243243 88,83.1581081 88,79.2882883 L88,30.036036 C88,26.1662162 84.8736842,23 81.0526316,23 Z M80.8648649,30.1351351 L80.8648649,40.8378378 L28.2432432,40.8378378 L28.2432432,30.1351351 L80.8648649,30.1351351 Z M63.9189189,79.1891892 L46.0810811,79.1891892 L46.0810811,47.972973 L63.9189189,47.972973 L63.9189189,79.1891892 Z M28.2432432,47.972973 L38.9459459,47.972973 L38.9459459,79.1891892 L28.2432432,79.1891892 L28.2432432,47.972973 Z M71.0540541,79.1891892 L71.0540541,47.972973 L81.7567568,47.972973 L81.7567568,79.1891892 L71.0540541,79.1891892 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));m();var Hb=dr(Fr()),uFe=n=>Hb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Hb.createElement("title",null,"viz_dashboard"),Hb.createElement("g",{id:"viz_dashboard",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Hb.createElement("g",{id:"dashboard_black_24dp",transform:"translate(13.000000, 13.000000)"},Hb.createElement("path",{d:"M5,0 L80,0 C82.7614237,-5.07265313e-16 85,2.23857625 85,5 L85,80 C85,82.7614237 82.7614237,85 80,85 L5,85 C2.23857625,85 3.38176876e-16,82.7614237 0,80 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),Hb.createElement("path",{d:"M67,18 L67,25 L53,25 L53,18 L67,18 M32,18 L32,39 L18,39 L18,18 L32,18 M67,46 L67,67 L53,67 L53,46 L67,46 M32,60 L32,67 L18,67 L18,60 L32,60 M69,11 L51,11 C48.2385763,11 46,13.2385763 46,16 L46,27 C46,29.7614237 48.2385763,32 51,32 L69,32 C71.7614237,32 74,29.7614237 74,27 L74,16 C74,13.2385763 71.7614237,11 69,11 Z M34,11 L16,11 C13.2385763,11 11,13.2385763 11,16 L11,41 C11,43.7614237 13.2385763,46 16,46 L34,46 C36.7614237,46 39,43.7614237 39,41 L39,16 C39,13.2385763 36.7614237,11 34,11 Z M69,39 L51,39 C48.2385763,39 46,41.2385763 46,44 L46,69 C46,71.7614237 48.2385763,74 51,74 L69,74 C71.7614237,74 74,71.7614237 74,69 L74,44 C74,41.2385763 71.7614237,39 69,39 Z M34,53 L16,53 C13.2385763,53 11,55.2385763 11,58 L11,69 C11,71.7614237 13.2385763,74 16,74 L34,74 C36.7614237,74 39,71.7614237 39,69 L39,58 C39,55.2385763 36.7614237,53 34,53 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));m();var Py=dr(Fr()),lFe=n=>Py.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Py.createElement("title",null,"viz_text"),Py.createElement("g",{id:"viz_text",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Py.createElement("rect",{id:"Rectangle-Copy",stroke:"#9aa0a6",strokeWidth:6,x:15.5,y:35,width:79,height:40,rx:5}),Py.createElement("g",{id:"abc",transform:"translate(33.090000, 44.134000)",fill:"#9aa0a6",fillRule:"nonzero"},Py.createElement("path",{d:"M4.81,19.032 C3.406,19.032 2.25333333,18.6203333 1.352,17.797 C0.450666667,16.9736667 0,15.8946667 0,14.56 C0,13.676 0.234,12.896 0.702,12.22 C1.17,11.544 1.81133333,11.024 2.626,10.66 C3.44066667,10.296 4.342,10.114 5.33,10.114 C6.69933333,10.114 7.86933333,10.3133333 8.84,10.712 L8.84,10.14 C8.84,9.412 8.567,8.82266667 8.021,8.372 C7.475,7.92133333 6.74266667,7.696 5.824,7.696 C5.2,7.696 4.59766667,7.839 4.017,8.125 C3.43633333,8.411 2.95533333,8.788 2.574,9.256 L0.39,7.54 C1.03133333,6.708 1.83733333,6.06666667 2.808,5.616 C3.77866667,5.16533333 4.836,4.94 5.98,4.94 C8.008,4.94 9.55066667,5.408 10.608,6.344 C11.6653333,7.28 12.194,8.64933333 12.194,10.452 L12.194,18.616 L8.84,18.616 L8.84,17.264 L8.632,17.264 C8.23333333,17.784 7.709,18.2086667 7.059,18.538 C6.409,18.8673333 5.65933333,19.032 4.81,19.032 Z M5.616,16.38 C6.604,16.38 7.38833333,16.0636667 7.969,15.431 C8.54966667,14.7983333 8.84,14.0573333 8.84,13.208 C7.956,12.792 7.02866667,12.584 6.058,12.584 C4.29,12.584 3.406,13.2426667 3.406,14.56 C3.406,15.0973333 3.59666667,15.535 3.978,15.873 C4.35933333,16.211 4.90533333,16.38 5.616,16.38 Z",id:"Shape"}),Py.createElement("path",{d:"M22.724,19.032 C21.8226667,19.032 21.021,18.8413333 20.319,18.46 C19.617,18.0786667 19.0926667,17.602 18.746,17.03 L18.538,17.03 L18.538,18.616 L15.34,18.616 L15.34,0 L18.746,0 L18.746,5.096 L18.538,6.968 L18.746,6.968 C19.11,6.396 19.6386667,5.915 20.332,5.525 C21.0253333,5.135 21.8226667,4.94 22.724,4.94 C23.92,4.94 25.0076667,5.239 25.987,5.837 C26.9663333,6.435 27.7333333,7.27133333 28.288,8.346 C28.8426667,9.42066667 29.12,10.634 29.12,11.986 C29.12,13.3553333 28.8426667,14.573 28.288,15.639 C27.7333333,16.705 26.9663333,17.537 25.987,18.135 C25.0076667,18.733 23.92,19.032 22.724,19.032 Z M22.126,15.886 C22.7673333,15.886 23.3653333,15.7213333 23.92,15.392 C24.4746667,15.0626667 24.9166667,14.6033333 25.246,14.014 C25.5753333,13.4246667 25.74,12.7486667 25.74,11.986 C25.74,11.2233333 25.5753333,10.5473333 25.246,9.958 C24.9166667,9.36866667 24.4746667,8.91366667 23.92,8.593 C23.3653333,8.27233333 22.7673333,8.112 22.126,8.112 C21.502,8.112 20.9126667,8.27233333 20.358,8.593 C19.8033333,8.91366667 19.3613333,9.36866667 19.032,9.958 C18.7026667,10.5473333 18.538,11.2233333 18.538,11.986 C18.538,12.7486667 18.7026667,13.4246667 19.032,14.014 C19.3613333,14.6033333 19.8033333,15.0626667 20.358,15.392 C20.9126667,15.7213333 21.502,15.886 22.126,15.886 Z",id:"Shape"}),Py.createElement("path",{d:"M37.986,19.032 C36.6513333,19.032 35.4553333,18.733 34.398,18.135 C33.3406667,17.537 32.513,16.7006667 31.915,15.626 C31.317,14.5513333 31.018,13.338 31.018,11.986 C31.018,10.634 31.317,9.425 31.915,8.359 C32.513,7.293 33.3406667,6.45666667 34.398,5.85 C35.4553333,5.24333333 36.6513333,4.94 37.986,4.94 C39.4593333,4.94 40.7246667,5.25633333 41.782,5.889 C42.8393333,6.52166667 43.602,7.41866667 44.07,8.58 L40.95,9.88 C40.3953333,8.70133333 39.4073333,8.112 37.986,8.112 C36.946,8.112 36.0923333,8.46733333 35.425,9.178 C34.7576667,9.88866667 34.424,10.8246667 34.424,11.986 C34.424,13.1646667 34.7576667,14.1093333 35.425,14.82 C36.0923333,15.5306667 36.946,15.886 37.986,15.886 C39.4246667,15.886 40.4646667,15.262 41.106,14.014 L44.2,15.366 C43.628,16.5273333 42.8133333,17.4286667 41.756,18.07 C40.6986667,18.7113333 39.442,19.032 37.986,19.032 Z",id:"Path"}))));m();var jx=dr(Fr()),cFe=n=>jx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},jx.createElement("title",null,"viz_currency"),jx.createElement("g",{id:"viz_currency",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},jx.createElement("g",{id:"Group",transform:"translate(19.000000, 19.000000)"},jx.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:36,cy:36,r:32.5}),jx.createElement("path",{d:"M35.7525,20.06 C38.5425,20.06 40.7775,20.7425 42.4575,22.1075 C44.1375,23.4725 45.2775,25.01 45.8775,26.72 L41.4225,28.61 C41.1225,27.53 40.4925,26.6 39.5325,25.82 C38.5725,25.04 37.3275,24.65 35.7975,24.65 C34.3275,24.65 33.0825,25.04 32.0625,25.82 C31.0425,26.6 30.5325,27.59 30.5325,28.79 C30.5325,29.9 30.99,30.8225 31.905,31.5575 C32.759,32.2435 34.0507333,32.8968333 35.7802,33.5175 L38.2275,34.37 C40.9875,35.33 43.1175,36.575 44.6175,38.105 C46.1175,39.635 46.8675,41.675 46.8675,44.225 C46.8675,46.325 46.335,48.0875 45.27,49.5125 C44.205,50.9375 42.84,51.995 41.175,52.685 C39.51,53.375 37.8075,53.72 36.0675,53.72 C33.3975,53.72 30.9975,52.94 28.8675,51.38 C26.7375,49.82 25.2525,47.63 24.4125,44.81 L29.0925,42.92 C29.5725,44.72 30.4275,46.19 31.6575,47.33 C32.8875,48.47 34.3725,49.04 36.1125,49.04 C37.7325,49.04 39.105,48.62 40.23,47.78 C41.355,46.94 41.9175,45.785 41.9175,44.315 C41.9175,42.965 41.4225,41.8475 40.4325,40.9625 C39.4975,40.1266667 37.9202778,39.3109028 35.7008333,38.5152083 L33.2775,37.655 C31.0875,36.875 29.265,35.7875 27.81,34.3925 C26.355,32.9975 25.6275,31.145 25.6275,28.835 C25.6275,27.245 26.055,25.775 26.91,24.425 C27.765,23.075 28.965,22.01 30.51,21.23 C32.055,20.45 33.8025,20.06 35.7525,20.06 Z",id:"Path",fill:"#9aa0a6",fillRule:"nonzero"}),jx.createElement("line",{x1:36,y1:14,x2:36,y2:21,id:"Line-Copy-4",stroke:"#9aa0a6",strokeWidth:5}),jx.createElement("line",{x1:36,y1:52,x2:36,y2:59,id:"Line-Copy-5",stroke:"#9aa0a6",strokeWidth:5})),jx.createElement("g",{id:"S",transform:"translate(43.412500, 37.060000)"})));m();var GR=dr(Fr()),fFe=n=>GR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},GR.createElement("title",null,"viz_image"),GR.createElement("g",{id:"viz_image",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},GR.createElement("path",{d:"M81.4444444,28.5555556 L81.4444444,81.4444444 L28.5555556,81.4444444 L28.5555556,28.5555556 L81.4444444,28.5555556 M81.4444444,21 L28.5555556,21 C24.4,21 21,24.4 21,28.5555556 L21,81.4444444 C21,85.6 24.4,89 28.5555556,89 L81.4444444,89 C85.6,89 89,85.6 89,81.4444444 L89,28.5555556 C89,24.4 85.6,21 81.4444444,21 Z M63.0844444,54.4711111 L51.7511111,69.0911111 L43.6666667,59.3066667 L32.3333333,73.8888889 L77.6666667,73.8888889 L63.0844444,54.4711111 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));m();var Vb=dr(Fr()),dFe=n=>Vb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Vb.createElement("title",null,"viz_time"),Vb.createElement("g",{id:"viz_time",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Vb.createElement("g",{id:"Group-Copy-19",transform:"translate(51.307692, 36.538462)",fill:"#9aa0a6",fillRule:"nonzero"},Vb.createElement("polygon",{id:"Path",points:"5.30769231 0 0 0 0 21.7906683 18.5769231 33.2307692 21.2307692 28.7636822 5.30769231 19.0668348"})),Vb.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:55,cy:55,r:32.5})));m();var Wb=dr(Fr()),hFe=n=>Wb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Wb.createElement("title",null,"viz_json"),Wb.createElement("g",{id:"viz_json",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Wb.createElement("g",{id:"{;}",transform:"translate(24.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Wb.createElement("path",{d:"M17.0296296,66 C13.2765432,66 10.3209877,64.871179 8.16296296,62.6135371 C6.00493827,60.3558952 4.92592593,57.3296943 4.92592593,53.5349345 L4.92592593,41.6462882 C4.92592593,39.9170306 4.45679012,38.5840611 3.51851852,37.6473799 C2.58024691,36.7106987 1.40740741,36.2423581 0,36.2423581 L0,29.7576419 C1.40740741,29.7576419 2.58024691,29.2893013 3.51851852,28.3526201 C4.45679012,27.4159389 4.92592593,26.0829694 4.92592593,24.3537118 L4.92592593,12.4650655 C4.92592593,8.67030568 6.00493827,5.6441048 8.16296296,3.38646288 C10.3209877,1.12882096 13.2765432,0 17.0296296,0 L19,0 L19,6.41266376 L17.7333333,6.41266376 C16.091358,6.41266376 14.7425926,6.98908297 13.687037,8.1419214 C12.6314815,9.29475983 12.1037037,10.8318777 12.1037037,12.7532751 L12.1037037,24.3537118 C12.1037037,26.7074236 11.7166667,28.5687773 10.9425926,29.9377729 C10.1685185,31.3067686 8.93703704,32.2554585 7.24814815,32.7838428 L7.24814815,33.2161572 C8.93703704,33.7445415 10.1685185,34.6812227 10.9425926,36.0262009 C11.7166667,37.371179 12.1037037,39.2445415 12.1037037,41.6462882 L12.1037037,53.2467249 C12.1037037,55.1681223 12.6314815,56.7052402 13.687037,57.8580786 C14.7425926,59.010917 16.091358,59.5873362 17.7333333,59.5873362 L19,59.5873362 L19,66 L17.0296296,66 Z",id:"Path"}),Wb.createElement("path",{d:"M44,59.5873362 L45.4074074,59.5873362 C47.0493827,59.5873362 48.3864198,59.010917 49.4185185,57.8580786 C50.4506173,56.7052402 50.9666667,55.1681223 50.9666667,53.2467249 L50.9666667,41.6462882 C50.9666667,39.2445415 51.3537037,37.371179 52.1277778,36.0262009 C52.9018519,34.6812227 54.1333333,33.7445415 55.8222222,33.2161572 L55.8222222,32.7838428 C54.1333333,32.2554585 52.9018519,31.3067686 52.1277778,29.9377729 C51.3537037,28.5687773 50.9666667,26.7074236 50.9666667,24.3537118 L50.9666667,12.7532751 C50.9666667,10.8318777 50.4506173,9.29475983 49.4185185,8.1419214 C48.3864198,6.98908297 47.0493827,6.41266376 45.4074074,6.41266376 L44,6.41266376 L44,0 L46.0407407,0 C49.7938272,0 52.7493827,1.12882096 54.9074074,3.38646288 C57.0654321,5.6441048 58.1444444,8.67030568 58.1444444,12.4650655 L58.1444444,24.3537118 C58.1444444,26.0829694 58.6018519,27.4159389 59.5166667,28.3526201 C60.4314815,29.2893013 61.5925926,29.7576419 63,29.7576419 L63,36.2423581 C61.5925926,36.2423581 60.4314815,36.7106987 59.5166667,37.6473799 C58.6018519,38.5840611 58.1444444,39.9170306 58.1444444,41.6462882 L58.1444444,53.5349345 C58.1444444,57.3296943 57.0654321,60.3558952 54.9074074,62.6135371 C52.7493827,64.871179 49.7938272,66 46.0407407,66 L44,66 L44,59.5873362 Z",id:"Path"}))));m();var R4=dr(Fr()),pFe=n=>R4.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},R4.createElement("title",null,"viz_list"),R4.createElement("g",{id:"viz_list",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},R4.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:24.1587742,y:27,width:61.9377906,height:8,rx:4}),R4.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:24.1587742,y:43,width:61.9377906,height:8,rx:4}),R4.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:24.1587742,y:59,width:62,height:8,rx:4}),R4.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:24.1587742,y:75.1904762,width:62,height:7.61904762,rx:3.80952381})));m();var I1=dr(Fr()),mFe=n=>I1.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},I1.createElement("title",null,"viz_list_detail"),I1.createElement("g",{id:"viz_list_detail",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},I1.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:22.1587742,y:27,width:15.983946,height:8,rx:4}),I1.createElement("rect",{id:"Rectangle-Copy-59",fill:"#9aa0a6",x:44.1587742,y:27,width:43.9558514,height:8,rx:4}),I1.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:22.1587742,y:43,width:15.983946,height:8,rx:4}),I1.createElement("rect",{id:"Rectangle-Copy-62",fill:"#9aa0a6",x:44.1587742,y:43,width:43.9558514,height:8,rx:4}),I1.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:22.1587742,y:59,width:16,height:8,rx:4}),I1.createElement("rect",{id:"Rectangle-Copy-66",fill:"#9aa0a6",x:44.1587742,y:59,width:44,height:8,rx:4}),I1.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:22.1587742,y:75.1904762,width:16,height:7.61904762,rx:3.80952381}),I1.createElement("rect",{id:"Rectangle-Copy-67",fill:"#9aa0a6",x:44.1587742,y:75.1904762,width:44,height:7.61904762,rx:3.80952381})));m();var qx=dr(Fr()),xFe=n=>qx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},qx.createElement("title",null,"viz_bar_chart"),qx.createElement("g",{id:"viz_bar_chart",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},qx.createElement("g",{id:"Group-3",transform:"translate(20.000000, 24.000000)",fill:"#9aa0a6"},qx.createElement("g",{id:"Group-2",transform:"translate(34.500000, 31.000000) rotate(-270.000000) translate(-34.500000, -31.000000) translate(3.500000, -3.500000)"},qx.createElement("path",{d:"M-26.056314,30.056314 L34.943686,30.056314 C37.152825,30.056314 38.943686,31.847175 38.943686,34.056314 L38.943686,34.943686 C38.943686,37.152825 37.152825,38.943686 34.943686,38.943686 L-26.056314,38.943686 C-28.265453,38.943686 -30.056314,37.152825 -30.056314,34.943686 L-30.056314,34.056314 C-30.056314,31.847175 -28.265453,30.056314 -26.056314,30.056314 Z",id:"Rectangle-Copy-59",transform:"translate(4.443686, 34.500000) rotate(-90.000000) translate(-4.443686, -34.500000) "}),qx.createElement("path",{d:"M-0.491247385,37.8466366 L44.9281075,37.8466366 C47.1372465,37.8466366 48.9281075,39.6374976 48.9281075,41.8466366 L48.9281075,42.7340086 C48.9281075,44.9431476 47.1372465,46.7340086 44.9281075,46.7340086 L-0.491247385,46.7340086 C-2.70038638,46.7340086 -4.49124739,44.9431476 -4.49124739,42.7340086 L-4.49124739,41.8466366 C-4.49124739,39.6374976 -2.70038638,37.8466366 -0.491247385,37.8466366 Z",id:"Rectangle-Copy-62",transform:"translate(22.218430, 42.290323) rotate(-90.000000) translate(-22.218430, -42.290323) "}),qx.createElement("path",{d:"M23.3837854,43.9469253 L56.6025627,43.9469253 C58.8117017,43.9469253 60.6025627,45.7377863 60.6025627,47.9469253 L60.6025627,48.8342973 C60.6025627,51.0434363 58.8117017,52.8342973 56.6025627,52.8342973 L23.3837854,52.8342973 C21.1746464,52.8342973 19.3837854,51.0434363 19.3837854,48.8342973 L19.3837854,47.9469253 C19.3837854,45.7377863 21.1746464,43.9469253 23.3837854,43.9469253 Z",id:"Rectangle-Copy-66",transform:"translate(39.993174, 48.390611) rotate(-90.000000) translate(-39.993174, -48.390611) "}),qx.createElement("path",{d:"M46.7286345,49.7286345 L68.8072017,49.7286345 C71.0163407,49.7286345 72.8072017,51.5194955 72.8072017,53.7286345 L72.8072017,54.1927983 C72.8072017,56.4019373 71.0163407,58.1927983 68.8072017,58.1927983 L46.7286345,58.1927983 C44.5194955,58.1927983 42.7286345,56.4019373 42.7286345,54.1927983 L42.7286345,53.7286345 C42.7286345,51.5194955 44.5194955,49.7286345 46.7286345,49.7286345 Z",id:"Rectangle-Copy-67",transform:"translate(57.767918, 53.960716) rotate(-90.000000) translate(-57.767918, -53.960716) "})))));m();var YR=dr(Fr()),gFe=n=>YR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},YR.createElement("title",null,"viz_line"),YR.createElement("g",{id:"viz_line",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},YR.createElement("path",{d:"M88.1848681,33.1583406 C89.7542734,31.6035859 92.2869054,31.6154626 93.8416601,33.1848679 C95.3445896,34.7019597 95.3835892,37.1191334 93.9668812,38.6829968 L93.8151328,38.84166 L66.2578818,66.14166 C64.8378618,67.5484238 62.6084032,67.6843587 61.0319068,66.4919462 L60.8595019,66.3539866 L45.2420004,53.1430003 L21.844917,76.8176775 C20.3437446,78.336508 17.927116,78.4009733 16.3484126,77.0008213 L16.1881594,76.850753 C14.6693289,75.3495806 14.6048635,72.932952 16.0050156,71.3542486 L16.1550839,71.1939954 L42.1550839,44.8881592 C43.5729843,43.4535802 45.8262314,43.3057778 47.4155704,44.5116324 L47.583248,44.646014 L63.2290004,57.8810003 L88.1848681,33.1583406 Z",id:"Path-10",fill:"#9aa0a6",fillRule:"nonzero"})));m();var Qb=dr(Fr()),yFe=n=>Qb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Qb.createElement("title",null,"viz_map_points"),Qb.createElement("g",{id:"viz_map_points",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Qb.createElement("g",{id:"Group-Copy-36",transform:"translate(30.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Qb.createElement("path",{d:"M25,0 C11.1785714,0 0,11.268 0,25.2 C0,44.1 25,72 25,72 C25,72 50,44.1 50,25.2 C50,11.268 38.8214286,0 25,0 Z M7.14285714,25.2 C7.14285714,15.264 15.1428571,7.2 25,7.2 C34.8571429,7.2 42.8571429,15.264 42.8571429,25.2 C42.8571429,35.568 32.5714286,51.084 25,60.768 C17.5714286,51.156 7.14285714,35.46 7.14285714,25.2 Z",id:"Shape"}),Qb.createElement("path",{d:"M25,34 C29.97052,34 34,29.97052 34,25 C34,20.029444 29.97052,16 25,16 C20.02948,16 16,20.029444 16,25 C16,29.97052 20.02948,34 25,34 Z",id:"Path"}))));m();var Wm=dr(Fr()),vFe=n=>Wm.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Wm.createElement("title",null,"viz_map_segment"),Wm.createElement("g",{id:"viz_map_segment",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Wm.createElement("g",{id:"Group-Copy-36",transform:"translate(11.000000, 27.000000)",fillRule:"nonzero"},Wm.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),Wm.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),Wm.createElement("g",{id:"Group-Copy-37",transform:"translate(62.000000, 27.000000)",fillRule:"nonzero"},Wm.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),Wm.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),Wm.createElement("line",{x1:28.5,y1:81.5,x2:79.5,y2:81.5,id:"Line-3",stroke:"#9aa0a6",strokeWidth:5,strokeLinecap:"round",strokeDasharray:"5,10"})));m();var Ux=dr(Fr()),_Fe=n=>Ux.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ux.createElement("title",null,"viz_map_shape"),Ux.createElement("g",{id:"viz_map_shape",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ux.createElement("g",{id:"noun-world-4667432-2",transform:"translate(19.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Ux.createElement("g",{id:"noun-world-4667432"},Ux.createElement("path",{d:"M36,5 C18.8798665,5 5,18.8793071 5,36 C5,53.1206929 18.8793071,67 36,67 C53.1206929,67 67,53.1206929 67,36 C67,18.8793071 53.1206929,5 36,5 Z M0,36 C0,16.1177143 16.1177143,0 36,0 C55.8822857,0 72,16.1177143 72,36 C72,55.8822857 55.8822857,72 36,72 C16.1177143,72 0,55.8822857 0,36 Z",id:"Shape"}),Ux.createElement("path",{d:"M37.2848685,1.50131372 C37.8999474,1.48477633 38.4631152,1.71654937 38.8767996,2.10376364 C39.2928262,2.49317029 39.5578301,3.03960333 39.57434,3.65023916 L39.57434,3.65023916 L40.0344656,20.7428771 C40.0487121,21.2893502 39.8586306,21.8212062 39.4992535,22.2375953 L39.4992535,22.2375953 L32.1172188,30.7832284 C31.7924232,31.1592888 31.3490374,31.4169308 30.8586892,31.5134813 L30.8586892,31.5134813 L24.6865498,32.7324332 L28.0628423,42.7359018 C28.4533111,43.8925701 28.4513039,45.0197005 28.1633304,46.0321806 C27.8503264,47.132665 27.1975708,48.0987342 26.3338575,48.8190181 C25.4716664,49.5380326 24.3999821,50.0114808 23.2508211,50.1317463 C22.1949716,50.2422462 21.0728206,50.0558305 19.9867908,49.4837618 L19.9867908,49.4837618 L1.68382097,39.8433672 C1.13885361,39.5565384 0.764084629,39.078393 0.597525292,38.5380041 C0.430427538,37.9958684 0.472619244,37.3906551 0.763987861,36.8508084 C1.05393693,36.3139129 1.53648052,35.9433066 2.08313472,35.7791188 C2.62798313,35.6154734 3.2361363,35.657153 3.77860632,35.9426925 L3.77860632,35.9426925 L22.0816454,45.5831236 C22.3171919,45.7071442 22.5603781,45.7498863 22.7897862,45.7258621 C23.0398735,45.6996723 23.2725259,45.5956093 23.4599703,45.4392842 C23.6458558,45.2842591 23.7880139,45.0772117 23.8554593,44.8399997 C23.9169381,44.6237728 23.9147045,44.383346 23.8314444,44.1367864 L23.8314444,44.1367864 L19.6527943,31.7569079 C19.4493668,31.1542234 19.517516,30.4944328 19.8403231,29.9450638 C20.1614725,29.3985413 20.7046793,29.014044 21.3323155,28.8900909 L21.3323155,28.8900909 L29.2286003,27.3302661 L35.5513871,20.0108413 L35.1144494,3.7686887 C35.0979491,3.15801867 35.3331708,2.59836837 35.7276711,2.18746751 C36.1199426,1.77888802 36.6699139,1.51752889 37.2848685,1.50131372 Z",id:"Path",stroke:"#9aa0a6"}),Ux.createElement("path",{d:"M42.2538467,56.3169014 C42.834665,56.3169014 43.3919278,56.5473051 43.8025756,56.957964 L43.8025756,56.957964 L50.5634819,63.7190531 C50.990585,64.1465338 51.2042254,64.7070592 51.2042254,65.267637 C51.2042254,65.8282064 50.9905908,66.3887389 50.5631792,66.8165562 C50.1353619,67.244019 49.5748515,67.4577465 49.0143336,67.4577465 C48.453827,67.4577465 47.893307,67.2440267 47.4652769,66.8163886 L47.4652769,66.8163886 L41.3467145,60.697095 L29.639469,60.697095 L23.5207389,66.8165562 C23.0929158,67.2440249 22.5323953,67.4577465 21.9719658,67.4577465 C21.4114352,67.4577465 20.8509999,67.2439558 20.4235838,66.8165562 C19.995665,66.388992 19.7816901,65.8283383 19.7816901,65.2676696 C19.7816901,64.7070094 19.9956592,64.1463486 20.4234173,63.7189168 L20.4234173,63.7189168 L27.1839229,56.9576493 C27.5952192,56.5470739 28.1516855,56.3169014 28.7323368,56.3169014 L28.7323368,56.3169014 Z",id:"Path",stroke:"#9aa0a6"}),Ux.createElement("path",{d:"M63.9378166,21.2379048 C64.4225216,20.8714311 65.0086399,20.7379975 65.5642349,20.8181856 C66.1191803,20.8982799 66.6440521,21.191578 67.006552,21.6798365 C67.3682973,22.1662502 67.5006358,22.75458 67.4216695,23.3126471 C67.3426278,23.8712474 67.0519787,24.3991735 66.5692317,24.7645164 L66.5692317,24.7645164 L53.5947929,34.5837331 L50.8571888,42.8725775 L63.4236834,55.5534973 C63.8498746,55.9835692 64.0634024,56.5474048 64.0634024,57.111468 C64.0634024,57.6755228 63.8498803,58.2393656 63.4235328,58.6696236 C62.9952729,59.1014133 62.434079,59.3169014 61.8731786,59.3169014 C61.3121772,59.3169014 60.7510686,59.1013441 60.3230649,58.6694716 L60.3230649,58.6694716 L46.8022881,45.0255804 C46.5094233,44.730049 46.31189,44.3642735 46.2203738,43.9732706 C46.1289585,43.5826987 46.1433461,43.1669732 46.2741073,42.7711741 L46.2741073,42.7711741 L49.6544877,32.5388634 C49.7943202,32.1133276 50.0607882,31.7409505 50.416846,31.4711161 L50.416846,31.4711161 Z",id:"Path",stroke:"#9aa0a6"})))));m();var By=dr(Fr()),bFe=n=>By.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},By.createElement("title",null,"viz_number"),By.createElement("g",{id:"viz_number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},By.createElement("g",{id:"Group",transform:"translate(20.000000, 20.000000)",fill:"#9aa0a6"},By.createElement("path",{d:"M-10.5,30.5 L51.5,30.5 C53.709139,30.5 55.5,32.290861 55.5,34.5 L55.5,35.5 C55.5,37.709139 53.709139,39.5 51.5,39.5 L-10.5,39.5 C-12.709139,39.5 -14.5,37.709139 -14.5,35.5 L-14.5,34.5 C-14.5,32.290861 -12.709139,30.5 -10.5,30.5 Z",id:"Rectangle-Copy-60",transform:"translate(20.500000, 35.000000) rotate(-90.000000) translate(-20.500000, -35.000000) "}),By.createElement("path",{d:"M19.5,30.5 L81.5,30.5 C83.709139,30.5 85.5,32.290861 85.5,34.5 L85.5,35.5 C85.5,37.709139 83.709139,39.5 81.5,39.5 L19.5,39.5 C17.290861,39.5 15.5,37.709139 15.5,35.5 L15.5,34.5 C15.5,32.290861 17.290861,30.5 19.5,30.5 Z",id:"Rectangle-Copy-61",transform:"translate(50.500000, 35.000000) rotate(-90.000000) translate(-50.500000, -35.000000) "}),By.createElement("path",{d:"M4,14 L66,14 C68.209139,14 70,15.790861 70,18 L70,19 C70,21.209139 68.209139,23 66,23 L4,23 C1.790861,23 2.705415e-16,21.209139 0,19 L0,18 C-2.705415e-16,15.790861 1.790861,14 4,14 Z",id:"Rectangle-Copy-63",transform:"translate(35.000000, 18.500000) rotate(-360.000000) translate(-35.000000, -18.500000) "}),By.createElement("path",{d:"M4,44 L66,44 C68.209139,44 70,45.790861 70,48 L70,49 C70,51.209139 68.209139,53 66,53 L4,53 C1.790861,53 2.705415e-16,51.209139 0,49 L0,48 C-2.705415e-16,45.790861 1.790861,44 4,44 Z",id:"Rectangle-Copy-62",transform:"translate(35.000000, 48.500000) rotate(-360.000000) translate(-35.000000, -48.500000) "}))));m();var GC=dr(Fr()),EFe=n=>GC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},GC.createElement("title",null,"viz_percent"),GC.createElement("g",{id:"viz_percent",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},GC.createElement("g",{id:"%-copy-5",transform:"translate(19.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},GC.createElement("path",{d:"M16.1194226,31.5251397 C19.1010499,31.5251397 21.8186789,30.8184358 24.2723097,29.4050279 C26.7259405,27.9916201 28.6671041,26.0712291 30.0958005,23.6438547 C31.5244969,21.2164804 32.2388451,18.5893855 32.2388451,15.7625698 C32.2388451,12.9357542 31.5244969,10.3086592 30.0958005,7.88128492 C28.6671041,5.45391061 26.7259405,3.53351955 24.2723097,2.12011173 C21.8186789,0.706703911 19.1010499,0 16.1194226,0 C13.1377953,0 10.4201662,0.706703911 7.96653543,2.12011173 C5.51290464,3.53351955 3.57174103,5.45391061 2.14304462,7.88128492 C0.714348206,10.3086592 0,12.9357542 0,15.7625698 C0,18.5893855 0.714348206,21.2164804 2.14304462,23.6438547 C3.57174103,26.0712291 5.51290464,27.9916201 7.96653543,29.4050279 C10.4201662,30.8184358 13.1377953,31.5251397 16.1194226,31.5251397 Z M19.9645575,62.4787112 L57.1929452,7.56550735 C58.3200259,5.90302296 57.8859954,3.64163362 56.223511,2.5145529 C56.2107419,2.50589603 56.1979177,2.49732049 56.1850394,2.48882682 C54.4804105,1.3645685 52.1887314,1.81914062 51.0422905,3.50893047 L13.7228276,58.5157377 C12.6107181,60.1549252 13.0379992,62.3852921 14.6771866,63.4974016 C14.7072768,63.5178164 14.7376757,63.5377723 14.7683727,63.5572626 C16.507245,64.6613129 18.8087263,64.1836036 19.9645575,62.4787112 Z M16.1194226,24.150838 C13.8832021,24.150838 12.0041557,23.3519553 10.4822835,21.7541899 C8.9604112,20.1564246 8.19947507,18.1592179 8.19947507,15.7625698 C8.19947507,13.3044693 8.9604112,11.2918994 10.4822835,9.72486034 C12.0041557,8.15782123 13.8832021,7.37430168 16.1194226,7.37430168 C18.4177603,7.37430168 20.3278653,8.15782123 21.8497375,9.72486034 C23.3716098,11.2918994 24.1325459,13.3044693 24.1325459,15.7625698 C24.1325459,18.2206704 23.3716098,20.2332402 21.8497375,21.8002793 C20.3278653,23.3673184 18.4177603,24.150838 16.1194226,24.150838 Z M54.8805774,66 C57.8622047,66 60.5798338,65.2932961 63.0334646,63.8798883 C65.4870954,62.4664804 67.428259,60.5460894 68.8569554,58.1187151 C70.2856518,55.6913408 71,53.0642458 71,50.2374302 C71,47.4106145 70.2856518,44.7835196 68.8569554,42.3561453 C67.428259,39.9287709 65.4870954,38.0083799 63.0334646,36.5949721 C60.5798338,35.1815642 57.8622047,34.4748603 54.8805774,34.4748603 C51.8989501,34.4748603 49.1813211,35.1815642 46.7276903,36.5949721 C44.2740595,38.0083799 42.3328959,39.9287709 40.9041995,42.3561453 C39.4755031,44.7835196 38.7611549,47.4106145 38.7611549,50.2374302 C38.7611549,53.0642458 39.4755031,55.6913408 40.9041995,58.1187151 C42.3328959,60.5460894 44.2740595,62.4664804 46.7276903,63.8798883 C49.1813211,65.2932961 51.8989501,66 54.8805774,66 Z M54.8805774,58.6256983 C52.644357,58.6256983 50.7653106,57.8268156 49.2434383,56.2290503 C47.7215661,54.6312849 46.9606299,52.6340782 46.9606299,50.2374302 C46.9606299,47.7793296 47.7215661,45.7667598 49.2434383,44.1997207 C50.7653106,42.6326816 52.644357,41.849162 54.8805774,41.849162 C57.1789151,41.849162 59.0890201,42.6326816 60.6108924,44.1997207 C62.1327647,45.7667598 62.8937008,47.7793296 62.8937008,50.2374302 C62.8937008,52.6340782 62.1172353,54.6312849 60.5643045,56.2290503 C59.0113736,57.8268156 57.1167979,58.6256983 54.8805774,58.6256983 Z",id:"%-copy-2"}))));m();var $x=dr(Fr()),SFe=n=>$x.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},$x.createElement("title",null,"viz_boolean"),$x.createElement("g",{id:"viz_boolean",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},$x.createElement("g",{id:"noun_switch_3350414-2",transform:"translate(20.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},$x.createElement("g",{id:"noun_switch_3350414"},$x.createElement("path",{d:"M15.2972028,30.8 L54.7027972,30.8 C63.151209,30.8 70,23.9051851 70,15.4 C70,6.89481485 63.151209,0 54.7027972,0 L15.2972028,0 C6.84879098,0 0,6.89481485 0,15.4 C0,23.9051851 6.84879098,30.8 15.2972028,30.8 Z M15.2972028,6.16 L54.7027972,6.16 C59.7718443,6.16 63.8811189,10.2968889 63.8811189,15.4 C63.8811189,20.5031111 59.7718443,24.64 54.7027972,24.64 L15.2972028,24.64 C10.2281557,24.64 6.11888112,20.5031111 6.11888112,15.4 C6.11888112,10.2968889 10.2281557,6.16 15.2972028,6.16 Z",id:"Shape"}),$x.createElement("path",{d:"M19.6340542,21.9997804 C22.2930484,22.0215224 24.7022661,20.4273668 25.7348338,17.9629544 C26.7674016,15.4985421 26.2191958,12.6510518 24.3466309,10.7523518 C22.474066,8.85365189 19.6473211,8.27908795 17.1885612,9.29740315 C14.7298014,10.3157183 13.125,12.7256064 13.125,15.3998806 C13.125,19.0240523 16.0305897,21.9703156 19.6340542,21.9997804 L19.6340542,21.9997804 Z",id:"Path"}),$x.createElement("path",{d:"M54.7027971,35.2 L15.2972025,35.2 C6.84879081,35.2 0,42.094815 0,50.6 C0,59.105185 6.84879081,66 15.2972025,66 L54.7027971,66 C63.151209,66 70,59.1051851 70,50.6 C70,42.0948149 63.151209,35.2 54.7027971,35.2 L54.7027971,35.2 Z M54.7027971,59.84 L15.2972025,59.84 C10.2281554,59.84 6.11888082,55.7031111 6.11888082,50.6 C6.11888082,45.4968889 10.2281554,41.36 15.2972025,41.36 L54.7027971,41.36 C59.7718442,41.36 63.8811189,45.4968889 63.8811189,50.6 C63.8811189,55.7031111 59.7718442,59.84 54.7027971,59.84 L54.7027971,59.84 Z",id:"Shape"}),$x.createElement("path",{d:"M50.3659458,44.0002196 C47.7069516,43.9784776 45.2977339,45.5726332 44.2651662,48.0370456 C43.2325984,50.5014579 43.7808042,53.3489482 45.6533691,55.2476482 C47.525934,57.1463481 50.3526789,57.720912 52.8114388,56.7025969 C55.2701986,55.6842817 56.875,53.2743936 56.875,50.6001194 C56.875,46.9759477 53.9694103,44.0296844 50.3659458,44.0002196 Z",id:"Path"})))));m();var KR=dr(Fr()),wFe=n=>KR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},KR.createElement("title",null,"viz_sparkline"),KR.createElement("g",{id:"viz_sparkline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},KR.createElement("polyline",{id:"Path-11",stroke:"#9aa0a6",strokeWidth:6,points:"10 54.8274509 25.9215088 61.0844803 40.1501567 54.8274509 53.3907166 68.7215958 69.5925598 42 83.3327332 64.4487228 100.431152 57.8274509"})));m();var Gb=dr(Fr()),CFe=n=>Gb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Gb.createElement("title",null,"viz_link"),Gb.createElement("g",{id:"viz_link",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Gb.createElement("g",{id:"link_black_24dp",transform:"translate(5.000000, 5.000000)"},Gb.createElement("path",{d:"M5,0 L96,0 C98.7614237,-5.07265313e-16 101,2.23857625 101,5 L101,96 C101,98.7614237 98.7614237,101 96,101 L5,101 C2.23857625,101 3.38176876e-16,98.7614237 0,96 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),Gb.createElement("path",{d:"M71,30 L58.4,30 C56.0804041,30 54.2,31.8804041 54.2,34.2 C54.2,36.5195959 56.0804041,38.4 58.4,38.4 L71,38.4 L71,38.4 C77.93,38.4 83.6,44.07 83.6,51 C83.6,57.93 77.93,63.6 71,63.6 L58.4,63.6 C56.0804041,63.6 54.2,65.4804041 54.2,67.8 C54.2,70.1195959 56.0804041,72 58.4,72 L71,72 L71,72 C82.592,72 92,62.592 92,51 C92,39.408 82.592,30 71,30 Z M41.6,63.6 L29,63.6 L29,63.6 C22.07,63.6 16.4,57.93 16.4,51 C16.4,44.07 22.07,38.4 29,38.4 L41.6,38.4 C43.9195959,38.4 45.8,36.5195959 45.8,34.2 C45.8,31.8804041 43.9195959,30 41.6,30 L29,30 L29,30 C17.408,30 8,39.408 8,51 C8,62.592 17.408,72 29,72 L41.6,72 C43.9195959,72 45.8,70.1195959 45.8,67.8 C45.8,65.4804041 43.9195959,63.6 41.6,63.6 Z M37.4,46.8 L62.6,46.8 C64.9195959,46.8 66.8,48.6804041 66.8,51 C66.8,53.3195959 64.9195959,55.2 62.6,55.2 L37.4,55.2 C35.0804041,55.2 33.2,53.3195959 33.2,51 C33.2,48.6804041 35.0804041,46.8 37.4,46.8 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));var DH=({renderer:n})=>{let e={width:"22px",height:"22px"};return n==="table"?v.createElement(aFe,{...e}):n==="dashboard"?v.createElement(uFe,{...e}):n==="text"?v.createElement(lFe,{...e}):n==="currency"?v.createElement(cFe,{...e}):n==="image"?v.createElement(fFe,{...e}):n==="time"?v.createElement(dFe,{...e}):n==="json"?v.createElement(hFe,{...e}):n==="list"?v.createElement(pFe,{...e}):n==="list_detail"?v.createElement(mFe,{...e}):n==="bar_chart"?v.createElement(xFe,{...e}):n==="scatter_chart"?v.createElement(rH,{...e}):n==="line_chart"?v.createElement(gFe,{...e}):n==="point_map"?v.createElement(yFe,{...e}):n==="segment_map"?v.createElement(vFe,{...e}):n==="shape_map"?v.createElement(_Fe,{...e}):n==="number"?v.createElement(bFe,{...e}):n==="percent"?v.createElement(EFe,{...e}):n==="boolean"?v.createElement(SFe,{...e}):n==="spark_line"?v.createElement(wFe,{...e}):n==="link"?v.createElement(CFe,{...e}):null};var kd=({setDataStyle:n,onComplete:e,allowedRenderers:t})=>v.createElement(A1,null,v.createElement(ec,null,v.createElement(ql,null,v.createElement(Bxt,null,t.map(r=>v.createElement(zo,{icon:v.createElement(DH,{renderer:r}),key:r,onClick:()=>{n(r),e()},name:r,color:"other"})))))),Bxt=jn.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;m();m();var AFe=dr(Fr());var jy=({byField:n,addOrderBy:e,onComplete:t,initialDirection:r})=>{let[i,s]=(0,AFe.useState)(r||"asc");return v.createElement(Ac,null,v.createElement(Cc,null,"Order By",v.createElement(Mz,null,v.createElement(xC,{color:"dimension"},v.createElement(Ld,{type:Hh(n),kind:Mp(n)})),v.createElement(Bz,null,n.name))),v.createElement("form",null,v.createElement(Eh,null,v.createElement(jxt,null,v.createElement(_H,{options:[{value:"asc",label:"Ascending"},{value:"desc",label:"Descending"}],value:i,onChange:s}))),v.createElement(bh,null,v.createElement(Wa,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Wa,{onClick:()=>{n!==void 0&&(e(n.fieldIndex,i),t())}},"Save"))))},jxt=jn.div`
  display: flex;
  border: 1px solid #efefef;
  border-radius: 5px;
  overflow: hidden;
`;m();m();var TFe=dr(Fr());var qy=({rename:n,onComplete:e})=>{let[t,r]=(0,TFe.useState)("");return v.createElement(Ac,null,v.createElement(Cc,null,"Rename"),v.createElement(Pz,null,v.createElement(wu,{value:t,setValue:r,placeholder:"new_name",autoFocus:!0}),v.createElement(Wa,{type:"button",color:"secondary",onClick:e},"Cancel"),v.createElement(Wa,{onClick:()=>{n(t),e()}},"Save")))};var jue=({source:n,model:e,modelPath:t,rename:r,name:i,closeMenu:s,setDataStyle:o,fieldIndex:a,beginReorderingField:l,isEditable:f,editDimension:p,definition:_,filterField:E,filterFieldPath:O,addFilter:R,stagePath:q,addOrderBy:z,orderByField:L})=>v.createElement(nc,{closeMenu:s,actions:[{kind:"sub_menu",id:"rename",iconName:"rename",label:"Rename",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(qy,{rename:r,onComplete:B})},{kind:"sub_menu",id:"filter_on",iconName:"filter",label:"Filter By",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:B})=>E&&O?v.createElement(VR,{model:e,modelPath:t,onComplete:B,source:n,field:E,fieldPath:O,needsRename:!1,addFilter:P=>R(q,P)}):v.createElement("div",null)},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(jy,{byField:L,addOrderBy:(P,G)=>z(q,P,G),onComplete:B})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(kd,{setDataStyle:o,onComplete:B,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",isEnabled:f,iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(WR,{source:n,addDimension:P=>p(a,P),onComplete:B,initialCode:_,initialName:i})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:l}]});m();m();m();m();var que=dr(Fr());m();m();var FFe=dr(Fr());m();m();var YC=({children:n})=>v.createElement(qxt,null,v.createElement(Uxt,null),v.createElement($xt,null,n)),qxt=jn.div`
  margin-top: 5px;
  display: flex;
  flex-direction: row;
  gap: 2px;
  margin-left: 13px;
`,Uxt=jn.div`
  width: 6px;
  min-width: 6px;
  padding: 5px 0px;
  margin: 0 1px;
  background-color: #efefef;
  border-radius: 100px;
`,$xt=jn.div`
  width: calc(100% - 10px);
`;var M1=({fields:n,selectField:e,filter:t,showNested:r,path:i=[],topValues:s})=>v.createElement(zxt,null,n.filter(o=>t(o)||r&&o.type==="struct").map(o=>{if(t(o)){let a=Hh(o),l=Mp(o),f=[...i,o.as||o.name].join(".");return v.createElement(D4,{width:300,key:o.as||o.name,content:()=>v.createElement(zo,{icon:v.createElement(Ld,{type:a,kind:l}),onClick:()=>e(f,o),name:o.as||o.name,color:l}),popoverContent:()=>v.createElement(F4,{fieldPath:f,topValues:s})})}else return o.type==="struct"&&DFe(o,t)?v.createElement(Hxt,{key:o.as||o.name,source:o,filter:t,selectField:e,path:[...i,o.as||o.name],topValues:s}):null})),zxt=jn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function DFe(n,e){return n.fields.some(e)||n.fields.some(t=>t.type==="struct"&&DFe(t,e))}var Hxt=({source:n,filter:e,selectField:t,path:r,topValues:i})=>{let[s,o]=(0,FFe.useState)(!1);return v.createElement("div",null,v.createElement(zo,{icon:v.createElement(sa,{action:s?"container-open":"container-closed",color:"other"}),onClick:()=>o(!s),name:n.as||n.name,color:"other"}),s&&v.createElement(YC,null,v.createElement(M1,{filter:e,selectField:t,fields:n.fields,showNested:!0,path:r,topValues:i})))};var Uy=({model:n,modelPath:e,source:t,addFilter:r,onComplete:i,needsRename:s,topValues:o})=>{let[a,l]=(0,que.useState)(""),[f,p]=(0,que.useState)(),{searchResults:_,isLoading:E}=Ub(n,e,t,a),O=_&&_.filter(G=>G.fieldType==="string").slice(0,100),R=$c(t).filter(({field:G})=>PT(G)).map(({field:G,path:ue})=>({item:T0(G,ue),terms:F0(G,ue),key:Vxt(ue),select:()=>p({path:ue,def:G})})),{searchList:q,count:z}=UC({searchTerm:a,items:R||[],topValues:o}),L=O?.length||0,B=z>0,P=L>0||E;return v.createElement("div",null,!f&&v.createElement(C1,null,v.createElement(ap,{placeholder:"Search",value:a,setValue:l,autoFocus:!0})),v.createElement("div",null,f&&v.createElement(VR,{model:n,modelPath:e,source:t,fieldPath:f.path,field:f.def,addFilter:r,onComplete:i,needsRename:s}),!f&&v.createElement(v.Fragment,null,a===""&&v.createElement(ec,null,v.createElement(ql,null,v.createElement(M1,{fields:t.fields,filter:PT,showNested:!0,selectField:(G,ue)=>p({path:G,def:ue}),topValues:o}))),a!==""&&v.createElement(v.Fragment,null,B&&v.createElement(ec,{style:{borderBottom:B?"1px solid #efefef":"",maxHeight:P?"200px":"300px"}},v.createElement(ql,null,q)),P&&t&&v.createElement(ec,{style:{borderBottom:"1px solid #efefef",maxHeight:B?"200px":"300px"}},v.createElement(ql,null,O&&O.length>0&&O.map((G,ue)=>v.createElement(zo,{key:ue,name:G.fieldValue,detail:G.fieldName,icon:v.createElement(sa,{action:"filter"}),color:"filter",onClick:()=>{Px(t,`${G.fieldName} = '${G.fieldValue}'`).then(I=>{r&&r(I),i()})}})),O!==void 0&&O.length===0&&v.createElement(e0,null,"No value results"),E&&v.createElement(e0,null,v.createElement(Hm,{text:"Loading value results..."}))))),!B&&!P&&v.createElement(e0,null,"No results"))))};function Vxt(n){return"field/"+n}m();m();var Qm=dr(Fr());m();var OFe=dr(w1());function RFe(n,e){let t=Y3(e);switch(n){case"count_distinct":return`count(distinct ${t})`;case"avg":case"sum":return`${t}.${n}()`;case"min":case"max":return`${n}(${t})`;case"percent":return`100 * ${t} / all(${t})`}}var Yb=n=>n.split(".").map(e=>e.replace(/(^`|`$)/g,"")).join(".");function KC(n,e){let t=(s,o)=>OFe.Segment.nextStructDef(o,s),r=(s,o)=>{let a=s.find(l=>(l.as||l.name)===o[0]);if(a)if(o.length>1){if(a.type==="struct")return r(a.fields,o.slice(1));if(a.type==="turtle"){let l=n;for(let f of a.pipeline)l=t(f,l);return r(l.fields,o.slice(1))}else return}else return a;else return},i=Yb(e).split(".");return r(n.fields,i)}var Wxt=/^count\(\)$/,Qxt=/^count\(distinct (.*)\)$/,Gxt=/^(.*)\.avg\(\)$/,Yxt=/^(.*)\.sum\(\)$/,Kxt=/^min\((.*)\)/,Jxt=/^max\((.*)\)/,Xxt=/^100 \* (.*) \/ all\((.*)\)$/;function NFe(n,e){let t;return t=Wxt.exec(e),t?{measureType:"count",path:"",field:void 0}:(t=Qxt.exec(e),t?{measureType:"count_distinct",path:Yb(t[1]),field:KC(n,t[1])}:(t=Gxt.exec(e),t?{measureType:"avg",path:Yb(t[1]),field:KC(n,t[1])}:(t=Yxt.exec(e),t?{measureType:"sum",path:Yb(t[1]),field:KC(n,t[1])}:(t=Kxt.exec(e),t?{measureType:"min",path:Yb(t[1]),field:KC(n,t[1])}:(t=Jxt.exec(e),t?{measureType:"max",path:Yb(t[1]),field:KC(n,t[1])}:(t=Xxt.exec(e),t&&t[1]===t[2]?{measureType:"percent",path:Yb(t[1]),field:KC(n,t[1])}:{measureType:"custom",path:"",field:void 0}))))))}function LFe(n){return n.type==="struct"?3:n.type==="turtle"?2:n.aggregate?1:0}function kFe(n){return n.sort((e,t)=>{let r=LFe(e.field),i=LFe(t.field);return r===i?e.field.name.localeCompare(t.field.name):i-r})}var Zxt={string:["count_distinct"],number:["count_distinct","avg","sum","min","max"],date:["count_distinct","min","max"],timestamp:["count_distinct","min","max"]},egt=[{label:"Count Distinct",value:"count_distinct"},{label:"Sum",value:"sum"},{label:"Average",value:"avg"},{label:"Max",value:"max"},{label:"Min",value:"min"},{label:"Percent of All",value:"percent"}];var JR=({source:n,addMeasure:e,onComplete:t,initialCode:r,initialName:i})=>{let s=0,o,a;if(r){let{measureType:I,field:J,path:he}=NFe(n,r);s=I==="custom"?2:I==="count"?1:0,J&&(o={field:J,path:he}),a=I}let[l,f]=(0,Qm.useState)(s),[p,_]=(0,Qm.useState)(r||""),[E,O]=(0,Qm.useState)(i||""),[R,q]=(0,Qm.useState)(a),[z,L]=(0,Qm.useState)(o),[B,P]=(0,Qm.useState)();(0,Qm.useEffect)(()=>{if(l===0&&z&&R){let I=RFe(R,z.path);I&&_(I)}else l===1&&_("count()")},[l,R,z]);let G=(0,Qm.useMemo)(()=>kFe($c(n)).reduce((I,{path:J,field:he})=>{let ve=Hh(he),Ve=Mp(he);if(["dimension","measure"].includes(Ve)){let ot=v.createElement(zo,{name:he.name,icon:v.createElement(Ld,{type:ve,kind:Ve}),color:Ve,detail:D0(J),disableHover:!0});I.push({label:ot,value:{field:he,path:J}})}return I},[]),[n]),ue=r===void 0;return v.createElement(Ac,null,v.createElement(Cc,null,ue?"New":"Edit"," measure"),v.createElement("form",null,v.createElement(Eh,null,v.createElement(Bm,null,v.createElement(op,null,"Type"),v.createElement(ml,{autoFocus:!0,value:l,options:[{label:"From a field",value:0},{label:"Count",value:1},{label:"Custom",value:2}],onChange:I=>f(I),width:300})),l==0&&v.createElement(Bm,null,v.createElement(op,null,"Field"),v.createElement(ml,{value:z,valueEqual:(I,J)=>I.path===J.path,options:G,onChange:I=>L(I),width:300})),l==0&&v.createElement(Bm,null,v.createElement(op,null,"Type"),v.createElement(ml,{value:R,options:z?egt.filter(({value:I})=>MT(z.field)?I==="percent":Zxt[z.field.type].includes(I)):[],onChange:I=>q(I),width:300})),l===2&&v.createElement(Oue,{autoFocus:!!i,value:p,setValue:_,placeholder:"count() * items_per_count",label:ue?"Definition":void 0,rows:3}),ue&&v.createElement(wu,{value:E,setValue:O,placeholder:"new_measure",label:"Name"})),v.createElement(jz,{error:B}),v.createElement(bh,null,v.createElement(Wa,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Wa,{onClick:I=>{if(I.preventDefault(),I.stopPropagation(),!E)return P(new Error("Enter a name"));if(l===2){if(!p)return P(new Error("Enter a definition"))}else if(l===0&&!z)return P(new Error("Select a field"));FTe(n,E,p).then(J=>{e(J),t()}).catch(J=>{P(J)})}},"Save"))))};var Uue=({model:n,modelPath:e,source:t,addFilter:r,rename:i,closeMenu:s,setDataStyle:o,beginReorderingField:a,isRenamed:l,editMeasure:f,name:p,definition:_,isEditable:E,fieldIndex:O,topValues:R,addOrderBy:q,orderByField:z,stagePath:L})=>v.createElement(nc,{closeMenu:s,actions:[{kind:"sub_menu",id:"filter",iconName:"filter",iconColor:"filter",label:"Filter",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Uy,{model:n,modelPath:e,source:t,addFilter:r,onComplete:B,needsRename:!l,topValues:R})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(qy,{rename:i,onComplete:B})},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(jy,{byField:z,addOrderBy:(P,G)=>q(L,P,G),onComplete:B})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(kd,{setDataStyle:o,onComplete:B,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",iconColor:"other",isEnabled:E,closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(JR,{source:t,addMeasure:P=>f(O,P),onComplete:B,initialCode:_,initialName:p})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:a}]});m();m();var $ue=({renameField:n,replaceWithDefinition:e,closeMenu:t,setDataStyle:r,beginReorderingField:i})=>v.createElement(nc,{closeMenu:t,actions:[{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:s})=>v.createElement(qy,{rename:n,onComplete:s})},{kind:"sub_menu",id:"style",label:"Style",iconColor:"other",iconName:"style",closeOnComplete:!0,Component:({onComplete:s})=>v.createElement(kd,{setDataStyle:r,onComplete:s,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"one_click",id:"expand_definition",label:"Duplicate",iconName:"duplicate",iconColor:"other",onClick:e},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:i}]});m();m();m();m();var IFe=dr(Fr());var $y=({existing:n,addLimit:e,onComplete:t})=>{let[r,i]=(0,IFe.useState)(n?.toString()||"10");return v.createElement(Ac,null,v.createElement(Cc,null,"Limit"),v.createElement(Pz,null,v.createElement(wu,{value:r,setValue:i,autoFocus:!0,autoSelect:!0})," ",v.createElement(Wa,{type:"button",color:"secondary",onClick:t},"Cancel"),v.createElement(Wa,{onClick:()=>{let s=parseInt(r);Number.isNaN(s)||(e(s),t())}},"Save")))};var zue=({limit:n,editLimit:e,closeMenu:t})=>v.createElement(nc,{closeMenu:t,actions:[{id:"edit",label:"Change limit",iconName:"limit",iconColor:"other",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:r})=>v.createElement($y,{addLimit:e,onComplete:r,existing:n})}]});m();m();m();m();var Hue=dr(Fr());var Kb=({source:n,selectField:e,addNewMeasure:t,onComplete:r})=>{let[i,s]=(0,Hue.useState)(!1),[o,a]=(0,Hue.useState)("");return v.createElement(A1,null,!i&&v.createElement(v.Fragment,null,v.createElement(C1,null,v.createElement(ap,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),v.createElement(ec,null,v.createElement(ql,null,o===""&&v.createElement(v.Fragment,null,v.createElement(zo,{icon:v.createElement(sa,{action:"add"}),onClick:()=>s(!0),name:"New Measure",color:"other"}),v.createElement(M1,{fields:n.fields,filter:MT,showNested:!0,selectField:e,topValues:void 0})),o!==""&&v.createElement(v.Fragment,null,v.createElement(Ly,{topValues:void 0,searchTerm:o,items:$c(n).filter(({field:l})=>MT(l)).map(({field:l,path:f})=>({item:T0(l,f),terms:[...F0(l,f),"aggregate"],detail:D0(f),key:tgt(f),select:()=>e(f)}))}))))),i&&v.createElement(JR,{addMeasure:t,source:n,onComplete:r}))};function tgt(n){return"aggregate/"+n}m();m();var JC=dr(Fr());m();m();var MFe=dr(Fr());var Vue=({field:n,path:e,addGroupBy:t,onComplete:r})=>{let[i,s]=(0,MFe.useState)("year"),o=Hh(n),a=Mp(n);return v.createElement(Ac,null,v.createElement(Cc,null,"Group by",v.createElement(zo,{name:n.name,icon:v.createElement(Ld,{type:o,kind:a}),color:a,disableHover:!0})),v.createElement("form",null,v.createElement(Eh,null,v.createElement(ml,{value:i,options:[{label:"Year",value:"year"},{label:"Quarter",value:"quarter"},{label:"Month",value:"month"},{label:"Week",value:"week"},{label:"Day",value:"day"},{label:"Hour",value:"hour"},{label:"Minute",value:"minute"},{label:"Seconds",value:"seconds"},{label:"Field Values",value:"",divider:!0}],onChange:s})),v.createElement(bh,null,v.createElement(Wa,{type:"button",color:"secondary",onClick:r},"Cancel"),v.createElement(Wa,{type:"submit",onClick:l=>{l.stopPropagation(),l.preventDefault(),i?t(`${e}_${i}`,`${Y3(e)}.${i}`):t(e),r()}},"Save"))))};var Jb=({source:n,toggleField:e,addNewDimension:t,onComplete:r,topValues:i})=>{let[s,o]=(0,JC.useState)(!1),[a,l]=(0,JC.useState)(),[f,p]=(0,JC.useState)(""),_=(0,JC.useCallback)((E,O)=>{O.type==="date"?l({field:O,path:E}):O.type==="timestamp"?l({field:O,path:E}):e(E)},[e]);return v.createElement(A1,null,!s&&!a&&v.createElement(v.Fragment,null,v.createElement(C1,null,v.createElement(ap,{placeholder:"Search",value:f,setValue:p,autoFocus:!0})),v.createElement(ec,null,v.createElement(ql,null,f===""&&v.createElement(v.Fragment,null,v.createElement(zo,{icon:v.createElement(sa,{action:"add"}),onClick:()=>o(!0),name:"New Dimension",color:"other"}),v.createElement(M1,{fields:n.fields,filter:E=>E.type!=="turtle"&&E.type!=="struct"&&!E.aggregate,showNested:!0,selectField:_,topValues:i})),f!==""&&v.createElement(v.Fragment,null,v.createElement(Ly,{topValues:i,searchTerm:f,items:$c(n).filter(({field:E})=>PT(E)).map(({field:E,path:O})=>({item:T0(E,O),terms:[...F0(E,O),"group_by"],detail:D0(O),key:ngt(O),select:()=>_(O,E)}))}))))),s&&v.createElement(WR,{addDimension:t,source:n,onComplete:r}),a&&v.createElement(Vue,{field:a.field,path:a.path,source:n,addGroupBy:async(E,O)=>{let R=await ATe(n,E,O);t(R)},onComplete:r}))};function ngt(n){return"group_by/"+n}m();m();var Que=dr(Fr());m();m();var PFe=dr(Fr());var Wue=({addNest:n,onComplete:e})=>{let[t,r]=(0,PFe.useState)("");return v.createElement(Ac,null,v.createElement(Cc,null,"New Nested Query"),v.createElement("form",null,v.createElement(wu,{value:t,setValue:r,placeholder:"query_name",autoFocus:!0}),v.createElement(bh,null,v.createElement(Wa,{type:"button",color:"secondary",onClick:e},"Cancel"),v.createElement(Wa,{onClick:()=>{n(t),e()}},"Save"))))};var Xb=({source:n,selectField:e,selectNewNest:t,onComplete:r})=>{let[i,s]=(0,Que.useState)(!1),[o,a]=(0,Que.useState)("");return v.createElement(A1,null,!i&&v.createElement(v.Fragment,null,v.createElement(C1,null,v.createElement(ap,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),v.createElement(ec,null,v.createElement(ql,null,o===""&&v.createElement(v.Fragment,null,v.createElement(zo,{icon:v.createElement(sa,{action:"add"}),onClick:()=>s(!0),name:"New Nested Query",color:"other"}),v.createElement(M1,{fields:n.fields,filter:l=>l.type==="turtle",showNested:!0,selectField:e,topValues:void 0})),o!==""&&v.createElement(v.Fragment,null,v.createElement(Ly,{topValues:void 0,searchTerm:o,items:$c(n).filter(({field:l})=>hM(l)).map(({field:l,path:f})=>({item:T0(l,f),terms:[...F0(l,f),"nest"],detail:D0(f),key:rgt(f),select:()=>e(f)}))}))))),i&&v.createElement(Wue,{addNest:t,onComplete:r}))};function rgt(n){return"nest/"+n}m();m();var BFe=dr(Fr());var Zb=({addOrderBy:n,orderByFields:e,onComplete:t})=>{let[r,i]=(0,BFe.useState)();return e.length===0?v.createElement(Ac,null,v.createElement(Cc,null,"Order By"),v.createElement(e0,null,"You must add some fields first.")):v.createElement("div",null,r===void 0&&v.createElement(A1,null,v.createElement(ql,null,v.createElement(igt,null,e.map(s=>v.createElement(zo,{icon:v.createElement(Ld,{type:s.type,kind:"dimension"}),key:s.name,onClick:()=>i(s),name:s.name,color:"dimension"}))))),r!==void 0&&v.createElement(jy,{addOrderBy:n,onComplete:t,byField:r}))},igt=jn.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;var Gue=({model:n,modelPath:e,source:t,toggleField:r,addFilter:i,addLimit:s,addOrderBy:o,addNewNestedQuery:a,stagePath:l,orderByFields:f,addNewDimension:p,addNewMeasure:_,closeMenu:E,setDataStyle:O,beginReorderingField:R,addStage:q,topValues:z,rename:L})=>v.createElement(nc,{topValues:z,model:n,modelPath:e,valueSearchSource:t,addFilter:B=>i(l,B),closeMenu:E,actions:[{kind:"sub_menu",id:"group_by",label:"Group By",iconColor:"dimension",iconName:"group_by",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Jb,{source:t,toggleField:P=>r(l,P),addNewDimension:P=>p(l,P),onComplete:B,topValues:z})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Kb,{source:t,selectField:P=>r(l,P),addNewMeasure:P=>_(l,P),onComplete:B})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Xb,{source:t,selectField:P=>r(l,P),selectNewNest:P=>a(l,P),onComplete:B})},{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Uy,{modelPath:e,model:n,source:t,addFilter:(P,G)=>i(l,P,G),onComplete:B,needsRename:!1,topValues:z})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement($y,{addLimit:P=>s(l,P),onComplete:B})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(Zb,{addOrderBy:(P,G)=>o(l,P,G),orderByFields:f,onComplete:B})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(kd,{setDataStyle:O,onComplete:B,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:B})=>v.createElement(qy,{rename:L,onComplete:B})},{kind:"one_click",id:"add_stage",label:"Add stage",iconName:"stage",iconColor:"other",onClick:q},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:R}],searchItems:$c(t).map(({field:B,path:P})=>({item:T0(B,P),terms:F0(B,P),detail:D0(P),key:P,select:()=>r(l,P)}))});m();m();m();m();var jFe=dr(Fr());var Yue=({existing:n,editFilter:e,source:t,onComplete:r})=>{let[i,s]=(0,jFe.useState)(n);return v.createElement(Ac,null,v.createElement(Cc,null,"Edit Filter"),v.createElement("form",null,v.createElement(wu,{value:i,setValue:s,placeholder:"filter_expression",autoFocus:!0}),v.createElement(bh,null,v.createElement(Wa,{type:"button",color:"secondary",onClick:r},"Cancel"),v.createElement(Wa,{onClick:()=>{Px(t,i).then(o=>{e(o),r()})}},"Save"))))};var Kue=({filterSource:n,editFilter:e,closeMenu:t,source:r})=>v.createElement(nc,{closeMenu:t,actions:[{id:"edit",label:"Change filter",iconName:"filter",iconColor:"filter",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:i})=>v.createElement(Yue,{editFilter:e,onComplete:i,existing:n,source:r})}]});m();m();var Jue=({closeMenu:n,editOrderBy:e,orderByField:t,existingDirection:r})=>v.createElement(nc,{closeMenu:n,actions:[{kind:"sub_menu",id:"edit",iconName:"order_by",iconColor:"other",label:"Edit Order By",closeOnComplete:!0,Component:({onComplete:i})=>v.createElement(jy,{addOrderBy:(s,o)=>e(o),onComplete:i,byField:t,initialDirection:r})}]});m();m();var Xue=({onComplete:n,setDataStyle:e,allowedRenderers:t})=>v.createElement(kd,{onComplete:n,setDataStyle:e,allowedRenderers:t});m();m();var OH=({source:n,toggleField:e,addFilter:t,addLimit:r,addOrderBy:i,addNewNestedQuery:s,stagePath:o,orderByFields:a,addNewDimension:l,addNewMeasure:f,closeMenu:p,setDataStyle:_,isLastStage:E,topValues:O,model:R,modelPath:q})=>v.createElement(nc,{topValues:O,closeMenu:p,actions:[{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement(Jb,{source:n,toggleField:L=>e(o,L),addNewDimension:L=>l(o,L),onComplete:z,topValues:O})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement(Kb,{source:n,selectField:L=>e(o,L),addNewMeasure:L=>f(o,L),onComplete:z})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement(Xb,{source:n,selectField:L=>e(o,L),selectNewNest:L=>s(o,L),onComplete:z})},{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement(Uy,{model:R,modelPath:q,source:n,addFilter:(L,B)=>t(o,L,B),onComplete:z,needsRename:!1,topValues:O})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement($y,{addLimit:L=>r(o,L),onComplete:z})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:z})=>v.createElement(Zb,{addOrderBy:(L,B)=>i(o,L,B),orderByFields:a,onComplete:z})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,isEnabled:E,Component:({onComplete:z})=>v.createElement(kd,{setDataStyle:_,onComplete:z,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})}],searchItems:$c(n).map(({field:z,path:L})=>({item:T0(z,L),terms:F0(z,L),detail:D0(L),key:L,select:()=>e(o,L)}))});m();m();var Zue=({remove:n,closeMenu:e})=>v.createElement(nc,{closeMenu:e,actions:[{kind:"one_click",id:"remove",iconName:"remove",iconColor:"other",label:"Remove",onClick:n}]});var ele=({model:n,modelPath:e,querySummary:t,stagePath:r,queryName:i,topValues:s,queryModifiers:o})=>t.stages[0].items.length===0&&t.stages.length===1&&(!r||!r.parts||r.parts.length===0)?v.createElement(e0,null,v.createElement("div",null,"Add fields to the query"),v.createElement("div",null,"with the \u201C+\u201D button")):v.createElement(tle,null,t.stages.map((a,l)=>{let f=tH(r,{stageIndex:l,fieldIndex:0});return v.createElement("div",{key:"stage/"+l},t.stages.length>1&&v.createElement(nle,{popoverContent:({closeMenu:p})=>v.createElement(OH,{model:n,modelPath:e,source:a.inputSource,toggleField:o.toggleField,addFilter:o.addFilter,addLimit:o.addLimit,addOrderBy:o.addOrderBy,addNewNestedQuery:o.addNewNestedQuery,stagePath:f,remove:()=>o.removeStage(f),orderByFields:a.orderByFields,addNewDimension:o.addNewDimension,addNewMeasure:o.addNewMeasure,closeMenu:p,isLastStage:l===t.stages.length-1,setDataStyle:_=>o.setDataStyle(i,_),stageSummary:a.items,updateFieldOrder:o.updateFieldOrder,topValues:s}),content:({isOpen:p})=>v.createElement($Fe,{active:p},"Stage ",l+1,v.createElement(hH,{className:"back"},v.createElement(pH,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>o.removeStage(f)})))}),v.createElement(qFe,{model:n,modelPath:e,stage:a,queryModifiers:o,stagePath:f,key:"stage/"+l,source:a.inputSource,topValues:s}))})),qFe=({model:n,modelPath:e,stage:t,topValues:r,queryModifiers:i,source:s,stagePath:o})=>{let[a,l]=(0,zx.useState)(),f=_=>{l(_)},p=t.items.map(_=>"fieldIndex"in _?_.fieldIndex:void 0).filter(dM);return(0,zx.useEffect)(()=>{let _=E=>{let O=p.findIndex(z=>z===a),R=E.key==="ArrowUp"?-1:E.key==="ArrowDown"?1:0,q=O+R;if(O>-1&&R!==0&&q>=0&&q<p.length){let z=[...p],L=z[O];z[O]=z[q],z[q]=L,i.updateFieldOrder(o,z),l(q)}};return window.addEventListener("keyup",_),()=>window.removeEventListener("keyup",_)}),v.createElement(tle,null,t.items.map((_,E)=>v.createElement(UFe,{model:n,modelPath:e,key:`${_.type}/${E}`,item:_,stageSummary:t.items,beginReorderingField:f,isSelected:"fieldIndex"in _&&_.fieldIndex===a,deselect:()=>l(void 0),topValues:r,queryModifiers:i,source:s,stagePath:o})))},tle=jn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,nle=({popoverContent:n,content:e})=>{let[t,r]=(0,zx.useState)(!1),i=(0,zx.useRef)(!1),s=(0,zx.useRef)(null),o=()=>{i.current=!0,r(!1)};return(0,zx.useEffect)(()=>{i.current=!1},[t]),v.createElement(v.Fragment,null,v.createElement(sgt,{onClick:()=>!i.current&&r(!0)},v.createElement("div",{ref:s,key:t?"open":"closed"},e({isOpen:t,closeMenu:o})),v.createElement(zm,{open:t,setOpen:r,referenceDiv:s},n({setOpen:r,closeMenu:o}))))},sgt=jn.div`
  position: relative;
`,UFe=({model:n,modelPath:e,item:t,source:r,stagePath:i,fieldIndex:s,stageSummary:o,isSelected:a,beginReorderingField:l,deselect:f,topValues:p,queryModifiers:_})=>{let E=(0,zx.useRef)(null),O=[];return"styles"in t&&t.styles&&O.push(...t.styles.map(R=>({childItem:R}))),"filters"in t&&t.filters&&O.push(...t.filters.map(R=>({childItem:R,fieldIndex:t.fieldIndex}))),O1(E,()=>a&&f()),v.createElement("div",{ref:E},v.createElement(nle,{popoverContent:({closeMenu:R})=>{if(t.type==="field"||t.type==="field_definition"){if(t.kind==="dimension")return v.createElement(jue,{model:n,modelPath:e,source:r,removeField:()=>_.removeField(i,t.fieldIndex),rename:q=>{_.renameField(i,t.fieldIndex,q)},closeMenu:R,setDataStyle:q=>_.setDataStyle(t.name,q),stagePath:i,stageSummary:o,updateFieldOrder:_.updateFieldOrder,fieldIndex:t.fieldIndex,beginReorderingField:()=>{l(t.fieldIndex),R()},filterField:t.type==="field"?t.field:void 0,filterFieldPath:t.type==="field"?t.path:void 0,name:t.name,isEditable:t.type==="field_definition",definition:t.type==="field_definition"?t.source:void 0,addFilter:_.addFilter,editDimension:(q,z)=>_.editDimension(i,q,z),addOrderBy:_.addOrderBy,orderByField:{name:t.name,fieldIndex:t.fieldIndex,type:nX(t.field)}});if(t.kind==="measure"){let q=t.type==="field_definition"||t.kind==="measure"&&t.isRenamed;return v.createElement(Uue,{model:n,modelPath:e,stagePath:i,source:r,removeField:()=>_.removeField(i,t.fieldIndex),addFilter:(z,L)=>_.addFilterToField(i,t.fieldIndex,z,L),rename:z=>{_.renameField(i,t.fieldIndex,z)},closeMenu:R,setDataStyle:z=>_.setDataStyle(t.name,z),isRenamed:q,beginReorderingField:()=>{l(t.fieldIndex),R()},fieldIndex:t.fieldIndex,name:t.name,isEditable:t.type==="field_definition",definition:t.type==="field_definition"?t.source:void 0,editMeasure:(z,L)=>_.editMeasure(i,z,L),topValues:p,addOrderBy:_.addOrderBy,orderByField:{name:t.name,fieldIndex:t.fieldIndex,type:nX(t.field)}})}else return v.createElement($ue,{source:r,removeField:()=>_.removeField(i,t.fieldIndex),addFilter:q=>_.addFilterToField(i,t.fieldIndex,q),renameField:q=>{_.renameField(i,t.fieldIndex,q)},addLimit:()=>{},replaceWithDefinition:()=>_.replaceWithDefinition(i,t.fieldIndex),closeMenu:R,setDataStyle:q=>_.setDataStyle(t.name,q),beginReorderingField:()=>{l(t.fieldIndex),R()}})}else{if(t.type==="filter")return v.createElement(Kue,{source:r,filterSource:t.filterSource,removeFilter:()=>_.removeFilter(i,t.filterIndex),editFilter:q=>_.editFilter(i,s,t.filterIndex,q),closeMenu:R});if(t.type==="limit")return v.createElement(zue,{removeLimit:()=>_.removeLimit(i),editLimit:q=>_.editLimit(i,q),closeMenu:R,limit:t.limit});if(t.type==="order_by")return v.createElement(Jue,{removeOrderBy:()=>_.removeOrderBy(i,t.orderByIndex),closeMenu:R,orderByField:t.byField,orderByIndex:t.orderByIndex,existingDirection:t.direction,editOrderBy:q=>_.editOrderBy(i,t.orderByIndex,q)});if(t.type==="data_style")return v.createElement(Xue,{onComplete:R,setDataStyle:q=>_.setDataStyle(t.styleKey,q),allowedRenderers:t.allowedRenderers});if(t.type==="nested_query_definition"){let q=tH(i,{fieldIndex:t.fieldIndex,stageIndex:0});return v.createElement(Gue,{model:n,modelPath:e,source:r,toggleField:_.toggleField,addFilter:_.addFilter,addLimit:_.addLimit,addOrderBy:_.addOrderBy,addNewNestedQuery:_.addNewNestedQuery,stagePath:q,remove:()=>_.removeField(i,t.fieldIndex),orderByFields:t.stages[0].orderByFields,addNewDimension:_.addNewDimension,addNewMeasure:_.addNewMeasure,closeMenu:R,setDataStyle:z=>_.setDataStyle(t.name,z),addStage:()=>_.addStage(i,t.fieldIndex),stageSummary:t.stages[0].items,updateFieldOrder:_.updateFieldOrder,topValues:p,rename:z=>{_.renameField(i,t.fieldIndex,z)},beginReorderingField:()=>{l(t.fieldIndex),R()}})}else return t.type==="error_field"?v.createElement(Zue,{remove:()=>_.removeField(i,t.fieldIndex),closeMenu:R}):v.createElement("div",null)}},content:({isOpen:R,closeMenu:q})=>{if(t.type==="field"||t.type==="field_definition"){let z=t.type==="field"&&!t.isRefined,L;return t.kind==="dimension"?L=v.createElement(zo,{icon:v.createElement(sa,{action:"group_by"}),name:t.name,unsaved:!z,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),q()},color:"dimension",active:R||a}):t.kind==="measure"?L=v.createElement(zo,{icon:v.createElement(sa,{action:"aggregate"}),name:t.name,canRemove:!0,unsaved:!z,onRemove:()=>{_.removeField(i,t.fieldIndex),q()},color:"measure",active:R||a}):L=v.createElement(zo,{icon:v.createElement(sa,{action:"nest"}),name:t.name,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),q()},color:"query",active:R||a}),v.createElement(D4,{width:300,enabled:!R,content:()=>L,zIndex:9,popoverContent:()=>v.createElement(F4,{fieldPath:t.type==="field"?t.path:void 0,definition:t.type!=="field"?t.source:void 0,topValues:void 0})})}else return t.type==="filter"?v.createElement(D4,{width:300,enabled:!R,zIndex:9,content:()=>v.createElement(zo,{icon:v.createElement(sa,{action:"filter"}),name:t.filterSource,canRemove:!0,onRemove:()=>{_.removeFilter(i,t.filterIndex,s),q()},color:"filter",active:R||a}),popoverContent:()=>v.createElement(F4,{filterExpression:t.filterSource,topValues:void 0})}):t.type==="limit"?v.createElement(zo,{icon:v.createElement(sa,{action:"limit"}),name:`limit: ${t.limit}`,canRemove:!0,onRemove:()=>{_.removeLimit(i),q()},color:"other",active:R||a}):t.type==="order_by"?v.createElement(zo,{icon:v.createElement(sa,{action:"order_by"}),name:`${t.byField.name} ${t.direction||""}`,canRemove:!0,onRemove:()=>{_.removeOrderBy(i,t.orderByIndex),q()},color:"other",active:R||a}):t.type==="data_style"?v.createElement(zo,{icon:v.createElement(DH,{renderer:t.renderer}),name:t.renderer,color:"other",canRemove:t.canRemove,onRemove:()=>{_.setDataStyle(t.styleKey,void 0),q()},active:R||a}):t.type==="nested_query_definition"?v.createElement(zo,{icon:v.createElement(sa,{action:"nest"}),name:t.name,unsaved:!0,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),q()},color:"query",active:R||a}):t.type==="error_field"?v.createElement(zo,{icon:v.createElement(sa,{action:"error"}),name:t.name,unsaved:!1,canRemove:!0,onRemove:()=>{_.removeField(i,t.fieldIndex),q()},color:"error",active:R||a}):v.createElement("div",null)}}),t.type==="nested_query_definition"&&(t.stages[0].items.length>0||t.stages.length>1)&&t.stages.map((R,q)=>{let z=tH(i,{fieldIndex:t.fieldIndex,stageIndex:q});return v.createElement(YC,{key:"stage/"+q},t.stages.length>1&&v.createElement(nle,{popoverContent:({closeMenu:L})=>v.createElement(OH,{model:n,modelPath:e,source:R.inputSource,toggleField:_.toggleField,addFilter:_.addFilter,addLimit:_.addLimit,addOrderBy:_.addOrderBy,addNewNestedQuery:_.addNewNestedQuery,stagePath:z,remove:()=>_.removeStage(z),orderByFields:R.orderByFields,addNewDimension:_.addNewDimension,addNewMeasure:_.addNewMeasure,closeMenu:L,setDataStyle:B=>_.setDataStyle(t.name,B),isLastStage:q===t.stages.length-1,stageSummary:R.items,updateFieldOrder:_.updateFieldOrder,topValues:p}),content:({isOpen:L})=>v.createElement($Fe,{active:L},"Stage ",q+1,v.createElement(hH,{className:"back"},v.createElement(pH,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>_.removeStage(z)})))}),v.createElement(qFe,{model:n,modelPath:e,stage:R,stagePath:z,source:r,topValues:p,queryModifiers:_}))}),O.length>0&&v.createElement(YC,null,v.createElement(tle,null,O.map(({childItem:R,fieldIndex:q},z)=>v.createElement(UFe,{model:n,modelPath:e,key:"child:"+z,item:R,source:r,stagePath:i,fieldIndex:q,stageSummary:o,isSelected:!1,beginReorderingField:()=>{},deselect:()=>{},topValues:p,queryModifiers:_})))))},$Fe=jn.div`
  text-transform: uppercase;
  font-size: 12px;
  border: none;
  overflow: hidden;
  background-color: transparent;
  border-radius: 50px;
  padding: 5px 7px 5px 10px;
  text-align: left;
  margin-bottom: 2px;
  user-select: none;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Google Sans";
  color: #9aa0a6;

  &:hover {
    .back {
      visibility: visible;
    }
  }

  .back {
    visibility: hidden;
  }

  &:hover {
    background-color: #f7f8f8;
  }

  ${({active:n})=>n?`
      background-color: #f7f8f8;
      .back {
        visibility: visible;
      }
    `:""}
`;m();m();var i0=dr(Fr()),eRe=dr(XOe());m();m();var P1=dr(Fr());m();var k4=dr(Fr()),ZOe=n=>k4.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},k4.createElement("title",null,"download_hover"),k4.createElement("g",{id:"download_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},k4.createElement("circle",{id:"Oval",fill:"#EAF2FF",className:"hoverfill",cx:55,cy:55,r:55}),k4.createElement("g",{id:"download_black_24dp",transform:"translate(8.000000, 9.133308)"},k4.createElement("rect",{id:"Rectangle",x:0,y:0,width:94,height:94}),k4.createElement("path",{d:"M19.5833333,78.3333333 L74.4166667,78.3333333 L74.4166667,70.5 L19.5833333,70.5 L19.5833333,78.3333333 Z M74.4166667,35.25 L58.75,35.25 L58.75,11.75 L35.25,11.75 L35.25,35.25 L19.5833333,35.25 L47,62.6666667 L74.4166667,35.25 Z",id:"Shape",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"}))));var Sle=({onDownloadHTML:n,onDownloadJSON:e,disabled:t=!1})=>{let[r,i]=(0,P1.useState)(!1),s=(0,P1.useRef)(),o=a=>l=>{if(!t){let f=l.metaKey;a(s.current?.checked?!f:f),i(!1)}};return P1.default.createElement(f3t,null,P1.default.createElement(c3t,{disabled:t,onClick:()=>!t&&i(!0),width:"26px",height:"26px"}),P1.default.createElement(zm,{open:r,setOpen:i,placement:"bottom-start",width:200,maxHeight:500,yOffset:25},P1.default.createElement(GTe,{options:[{label:"Download HTML",onSelect:o(n)},{label:"Download JSON",onSelect:o(e)}]}),P1.default.createElement(d3t,null,P1.default.createElement(h3t,{type:"checkbox",ref:s,id:"new-tab-check"}),P1.default.createElement(p3t,{htmlFor:"new-tab-check"},"Open in new tab"))))},c3t=jn(ZOe)`
  cursor: pointer;

  .hoverfill {
    fill: transparent;
  }

  ${({disabled:n})=>`
    .primaryfill {
      fill: ${n?mi.other.fillMedium:mi.other.fillStrong};
    }

    &:hover {
      .hoverfill {
        fill: ${n?"transparent":mi.dimension.fillLight};
      }

      .primaryfill {
        fill: ${n?mi.other.fillMedium:mi.dimension.fillStrong};
      }
    }
  `}
`,f3t=jn.div`
  display: flex;
  align-items: center;
  user-select: none;
`,d3t=jn.div`
  border-top: 1px solid #ececec;
  font-family: Roboto;
  padding: 10px 15px;
`,h3t=jn.input``,p3t=jn.label`
  margin-left: 8px;
  color: #5f6368;
`;m();m();var $V=dr(Fr()),zy=({element:n})=>{let e=(0,$V.useRef)(null);return(0,$V.useEffect)(()=>{let t=e.current;t&&(t.innerHTML="",t.appendChild(n))},[n]),v.createElement("div",{ref:e})};var wle=({model:n,source:e,result:t,dataStyles:r,malloy:i,onDrill:s,isRunning:o})=>{let[a,l]=(0,i0.useState)(),[f,p]=(0,i0.useState)(),[_,E]=(0,i0.useState)(),[O,R]=(0,i0.useState)(),[q,z]=(0,i0.useState)(),[L,B]=(0,i0.useState)("html"),[P,G]=(0,i0.useState)(!1),[ue,I]=(0,i0.useState)(!1),[J,he]=(0,i0.useState)("source"),[ve,Ve]=(0,i0.useState)(!1),ot=(0,i0.useRef)(0),lt=eH(t),et=eH(r);return(0,i0.useEffect)(()=>{N_(i.markdown,"md").then(R).catch(console.log),N_(Cme(i.source),"malloy").then(p).catch(console.log),N_(i.model,"malloy").then(E).catch(console.log)},[i]),(0,i0.useEffect)(()=>{let bt=!1;return(async()=>{let $e=t?.sql;if($e===void 0){if(n===void 0||i.model===void 0||i.model===""||!i.isRunnable)return;try{$e=await RTe(n,i.model)}catch(Ze){console.error(Ze)}}if($e===void 0)return;let te=await N_($e,"sql");bt||z(te)})(),()=>{bt=!0}},[t,i,n]),(0,i0.useEffect)(()=>{t===lt&&JSON.stringify(r)===JSON.stringify(et)||(I(!1),Ve(!1),l(void 0),t!==void 0&&setTimeout(async()=>{I(!0),console.log(t.sql);let bt=++ot.current,Pt=await new eRe.HTMLView(document).render(t.data,{dataStyles:r,isDrillingEnabled:!0,onDrill:($e,te,Ze)=>{Promise.all(Ze.map(ye=>Px(e,ye).catch(Le=>{console.log(Le)}))).then(ye=>{let Le=ye.filter(dM);Le.length>0&&s(Le)})}});setTimeout(()=>{ot.current===bt&&(I(!1),Ve(!0),setTimeout(()=>{ot.current===bt&&l(Pt)},0))},0)}))},[t,r,et,lt]),v.createElement(g3t,null,v.createElement(v3t,null,v.createElement(nRe,null,v.createElement(Cle,{onClick:()=>B("malloy"),selected:L==="malloy"},"Malloy"),v.createElement(Cle,{onClick:()=>B("sql"),selected:L==="sql"},"SQL"),v.createElement(Cle,{onClick:()=>B("html"),selected:L==="html"},"Results")),v.createElement(nRe,null,v.createElement(Sle,{disabled:!t||a===void 0||ue,onDownloadHTML:bt=>rX(a?Sme(a.outerHTML,"Malloy Download"):"","text/html","result.html",bt),onDownloadJSON:bt=>rX(JSON.stringify(t?.data.toObject()||{},null,2),"application/json","result.json",bt)}))),v.createElement(y3t,null,o&&L!=="malloy"&&v.createElement(Hm,{text:"Running"}),L==="html"&&v.createElement(v.Fragment,null,t!==void 0&&ue&&v.createElement(Hm,{text:"Rendering"}),!a&&ve&&v.createElement(Hm,{text:"Displaying"}),a&&ve&&v.createElement(x3t,null,v.createElement(zy,{element:a}))),q!==void 0&&L==="sql"&&v.createElement(tRe,null,q&&v.createElement(zy,{element:q})),L==="malloy"&&v.createElement(tRe,{style:{marginLeft:J==="source"?"-2ch":""}},J==="source"&&f&&v.createElement(zy,{element:f}),J==="model"&&_&&v.createElement(zy,{element:_}),J==="markdown"&&O&&v.createElement(zy,{element:O}),v.createElement(m3t,null,v.createElement(sa,{action:"copy",onClick:()=>{Ame(i[J]),G(!0)},color:P?"other":"dimension"}),v.createElement(ml,{value:J,onChange:bt=>{he(bt),G(!1)},options:[{value:"source",label:"Source"},{value:"model",label:"Model"},{value:"markdown",label:"Markdown"}]})))))},m3t=jn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  position: absolute;
  top: 0;
  right: 0;
  background-color: white;
  border-radius: 4px;
  width: 140px;
  justify-content: flex-end;
  align-items: center;
`,x3t=jn.div`
  font-size: 14px;
  font-family: "Roboto Mono";
`,g3t=jn.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: hidden;
`,y3t=jn(Sb)`
  padding: 20px;
  overflow: auto;
  width: auto;
`,v3t=jn(qz)`
  gap: 10px;
  justify-content: space-between;
  padding: 0px 20px;
  flex-direction: row;
  width: auto;
`,Cle=jn.div`
  padding: 8px;
  cursor: pointer;
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  border-top: 1px solid transparent;
  font-size: 11pt;
  ${({selected:n})=>`border-bottom: 1px solid ${n?"#4285F4":"transparent"}`}
`,tRe=jn.div`
  padding: 0 15px;
  font-family: "Roboto Mono";
  font-size: 14px;
  position: relative;
  width: 100%;
`,nRe=jn.div`
  display: flex;
  align-items: center;
  font-size: 11pt;
  color: #4d4d4d;
`;m();m();m();m();var rRe=dr(Fr());var Ale=({source:n,selectField:e,onComplete:t})=>{let[r,i]=(0,rRe.useState)("");return v.createElement(A1,null,v.createElement(C1,null,v.createElement(ap,{placeholder:"Search",value:r,setValue:i,autoFocus:!0})),v.createElement(ec,null,v.createElement(ql,null,r===""&&v.createElement(M1,{fields:n.fields,filter:s=>s.type==="turtle",showNested:!0,selectField:s=>{e(s),t()},topValues:void 0}),r!==""&&v.createElement(v.Fragment,null,v.createElement(Ly,{topValues:void 0,searchTerm:r,items:$c(n).filter(({field:s})=>hM(s)).map(({field:s,path:o})=>({item:T0(s,o),terms:[...F0(s,o),"query"],detail:D0(o),key:_3t(o),select:()=>e(o)}))})))))};function _3t(n){return"load/"+n}var Tle=({source:n,stagePath:e,orderByFields:t,closeMenu:r,queryName:i,topValues:s,queryModifiers:o,model:a,modelPath:l})=>v.createElement(nc,{topValues:s,valueSearchSource:n,addFilter:f=>o.addFilter(e,f),closeMenu:r,model:a,modelPath:l,actions:[{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(Jb,{topValues:s,source:n,addNewDimension:p=>o.addNewDimension(e,p),toggleField:p=>o.toggleField(e,p),onComplete:f})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconColor:"measure",iconName:"aggregate",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(Kb,{source:n,selectField:p=>o.toggleField(e,p),addNewMeasure:p=>o.addNewMeasure(e,p),onComplete:f})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(Xb,{source:n,selectField:p=>o.toggleField(e,p),selectNewNest:p=>o.addNewNestedQuery(e,p),onComplete:f})},{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(Uy,{modelPath:l,model:a,topValues:s,source:n,addFilter:(p,_)=>o.addFilter(e,p,_),onComplete:f,needsRename:!1})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement($y,{addLimit:p=>o.addLimit(e,p),onComplete:f})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(Zb,{addOrderBy:(p,_)=>o.addOrderBy(e,p,_),orderByFields:t,onComplete:f})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(kd,{setDataStyle:p=>o.setDataStyle(i,p),onComplete:f,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"one_click",id:"add_stage",label:"Add Stage",iconName:"stage",iconColor:"other",onClick:()=>o.addStage(void 0)},{kind:"sub_menu",id:"load_query",label:"Load Query",iconName:"load",iconColor:"query",closeOnComplete:!0,Component:({onComplete:f})=>v.createElement(Ale,{source:n,selectField:o.loadQuery,onComplete:f})}],searchItems:$c(n).map(({field:f,path:p})=>({item:T0(f,p),terms:F0(f,p),detail:D0(p),key:p,select:()=>o.toggleField(e,p)}))});m();var I4=dr(Fr()),zV=n=>I4.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},I4.createElement("title",null,"query_run_wide"),I4.createElement("g",{id:"query_run_wide",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},I4.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",className:"backgroundfill",fill:"#4285F4"}),I4.createElement("text",{id:"RUN-Copy",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF",className:"foregroundfill"},I4.createElement("tspan",{x:152.764,y:74.5},"RUN")),I4.createElement("path",{d:"M110,33.0734278 L135.127584,77.25 L84.8724165,77.25 L110,33.0734278 Z",id:"Triangle-Copy-2",className:"foregroundstroke",stroke:"#FFFFFF",strokeWidth:6.5,transform:"translate(110.000000, 53.500000) rotate(-270.000000) translate(-110.000000, -53.500000) "})));var Fle=({dirty:n,model:e,modelPath:t,source:r,queryName:i,topValues:s,runQuery:o,querySummary:a,result:l,dataStyles:f,isRunning:p,queryMalloy:_,queryModifiers:E,undo:O,canUndo:R,isQueryEmpty:q,canQueryRun:z})=>{let[L,B]=(0,iRe.useState)(!1);return v.createElement(b3t,null,v.createElement(E3t,null,v.createElement(C3t,null,r&&v.createElement(v.Fragment,null,v.createElement("div",null,v.createElement(sa,{action:"add",onClick:()=>B(!0),color:"dimension"}),v.createElement(zm,{open:L,setOpen:B},v.createElement(Tle,{model:e,modelPath:t,source:r,queryModifiers:E,stagePath:{stageIndex:0},orderByFields:a?.stages[0].orderByFields||[],closeMenu:()=>B(!1),queryName:i,stageSummary:a?.stages[0].items||[],isOnlyStage:a?.stages.length===1,topValues:s}))),v.createElement(sa,{action:"undo",onClick:()=>O(),color:R?"dimension":"other"}),v.createElement(sa,{action:"remove",onClick:()=>E.clearQuery(),color:q?"other":"dimension"}),v.createElement(A3t,{width:"80px",onClick:()=>o(),className:p?"running":q||!z?"blank":n?"dirty":"clean"}))),v.createElement(S3t,null,v.createElement(w3t,null,a&&v.createElement(ele,{model:e,modelPath:t,source:r,querySummary:a,queryModifiers:E,stagePath:void 0,queryName:i,topValues:s})))),v.createElement(wle,{model:e,source:r,result:l,dataStyles:f,malloy:_,onDrill:E.onDrill,isRunning:p}))},b3t=jn.div`
  overflow: hidden;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  gap: 10px;
`,E3t=jn.div`
  width: 300px;
  min-width: 300px;
  height: 100%;
  display: flex;
  flex-direction: column;
`,S3t=jn(Sb)`
  display: flex;
  overflow-y: auto;
  flex-direction: column;
`,w3t=jn.div`
  padding: 10px;
`,C3t=jn(qz)`
  gap: 20px;
  justify-content: center;
  align-items: center;
`,A3t=jn(zV)`
  cursor: pointer;
  &.running,
  &.clean,
  &.blank {
    .backgroundfill {
      fill: #e9e9e9;
    }
    .foregroundstroke {
      stroke: #a7a7a7;
    }
    .foregroundfill {
      fill: #a7a7a7;
    }
  }
`;m();m();var sRe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABAKADAAQAAAABAAABAAAAAABn6hpJAAA4h0lEQVR4Ae1dCXgV1fW/d+btLwshCSCKWtyquNZCCJsgi7JWlKBtXWvF2qqtCARUakCQ1bW1deliq22VKFbWivpnk926tm6tVkBlSQKB5C3JezP3f27gheTlzZt97iTc+b58eXPvueec+5uZc7ff3EGIHxwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEehYCOCOVR331ObiioqQL3zCJBnvHZaUD/QCoAsITgqEJJFI8pICLtgjkJz3vYmTX+154vdeffYmHHeP9/Z7Ujs9vyAmhm9prPFcmoh4zyYY5RMJC7KMkSeUaPTkJncjv/xuoEfd0q59617D30UJ+706/izwAGDxNS95+IkRMvliYQP55DyC4oIW9V6pZ8KLe270S92nbJhxw7tayrRXmT3Tu5VFv86ZHdkZOgseePX7DxAM9ojE/V2ia3BhZPLJMw993l7r7ka/1S+AG712oU8Xzfn1KULg0zca8SenIQLNmIEDIz8JygPe9x28cMTGeaOqDKhwbZHdd3U9L7Ynb3Vsd+hEo06KQYnkXXBwvSf369HdK1DUqB5e7hgChm7UY8X5L4pA6dxfzYx51/9SEg56rEBEREUJP/nO/dumls+zQh9rHf+b1v2xyHudb5cioqYekZq/vsLGeLhn/W0nP7r7WTVZnp8dAR4AsuOjmlsyd+Gfov43rkNIshZLDDME+LKXt0yeUqbqhHsF8Bd3nLS67p3Cy6x2UfDKpLD3gUe7L/p6stW6jyd91t60xxNyUNe+8xe/GPG8NhEh2baaB4U+q7ZPnjfaNgM2Kv7izh7r6/7ZeZBdJmAGgeT3OvTMKU99eatdNjq6Xku6ZB0dpEz1G7D49/Psfvip3Zi8fVTpw3N+l8kHN6ftnt79r3Y+/LTuhCB86F/5t+ydcuK9bsbCzb7xHoCBq1P62GP9Ism1GwmpcySAYhwkId/ogVvvuG2TAXcdL7J/2okT9u3ovERuFBy5v7y5klTQt/r0Eyr2ful4Zdu5QUdu4HaOUbr7uCHx/iqnHn5qnJAYboj/czn8dOSBSq+wnvP9FcU5Bz7Kf86ph5/6lqgTxchnuWv1+MlljyDAA4DOO6HvozOfT6Cd+TqLmRZP4v8V9Fk88zemFdmsILIrb0XDQW/AZjNt1AOv4NRdt/e4q00GT8iKgOtblKzeO5xZ8njFSbHEjp2EaCP4WO0eRrkNB4R9BV9N3hKzWrcV+vZOOrWk6uO8LcDmY3JfeQuStUtW/Luwws5ZWSuAcpEO3gPQcTFI8nAlq4efuklQnb+YnPGQDpcdFY3Ue59n9fDTiiYOejpdPfIc3gvQcdV5ANAIVr+FCy+Mk49LNIrbJibJ+2/utXBwN9sMGFT89V09vhfZFTrNYHHLiiXjnpm7S08KWqawgyviAUDjBW5Ee14gpJFJ17aliwQnfILX6zqGYHRv8Em6LNfSVxa/5UacXyMW3sPCdnu0yQOAhqtWOvfpyxqEf5+pQdQRESzJ157/2IhzHTGmwciuGd1ui+4KuqZXAjf1Lz4aePYJGlw/7kV4ANBwCyQ9XzxtOdVXg10lEYKQh0jEFXMBtNWPfxV+UMlXFungU45EfHNZ2G5vNnkAULlig+b+/Qdx4d2TVcScz5blERc8ernlHHu9Fdk3v/Ce2Bc5nfSWs1teRvj6D0rPO89uO+1dPw8AWa4gIQQTf/RBhJNZpNhlETm5CKwzG3eTtSiA6313s0Mgi2VCROwRF2eR4FmAAA8AWW6D0Qsj14aTo04RhaIsUuyyYChwXu/nx/2QlQdJAf08v//+AjFg38tQZuqGCRqxZ+jFQ8zo6OhleQBQuMI3/pEEYF+PuZh4UB65WkGKbbI334+w1zN38NobHWfeQetfBC9BzhCCEirs7869S/I8IvJg4SHak2N7pdxrnQcAhWuzf38ECCWkB80ONw6DG6m7giSbZMEnIjHkpS8KnBzff+jnTnshCeh+6IE0UaI799uPPGHJaRey2vPD3iMB+IMJwYtqhpfAfg38yIQADwAZUCl7nBQTGU0/liWgfPkHx05d8MvbKYDwUcYtTHjNGLz8+46NU8hGdCY8WM3v4GO/jIov2e8CVI65kCeKzScEkTmkrJSTg5oROfaDB4BjWDT/ikSiFXCS15wAP4LJgciLv9Uyidlv2vLTHkDzQUh+PNJwf/O5zT+SEloAAQC6H8eO/D5VyNvJHRv35tCuf4s3kcHXHlW1EqcIH7tczb94AGiG4siPcQviZ0HXdlJactNpvuSCniS0+nTsn37AesVPBiy92nayUmIdGggP1BXp9rGHoOIh+9KTHT+nz304w9aDMCFYXjdyYLHjDrncIA8AaRcoIUsLYWCdcXPPgHQx8pGz00o4e+rJ8yGc4QaHh9KTSCQW2OkN2KCTaYpLa3kX1SB/cYOdLqjqzoXWX8jwMiJMBObFEw2zVBUcZwI8ALS44GMXxi6Bh39ci6Q2P/Ol69ukOZWAPQLy5PgUzcFNfkWfygkDFQVMZkjr0TUQBPooqcFwNxUN3auUbXu6F5r/UIuxfxuDBN1SPaL0223Sj+MEHgCOXny6VCTJsmLrlrpH/OQcFCCKz0BKzJb/LSf+FA3Isi3LXuQ/8J0ehFQpv3nn1sKHPKKK7tmZkQ+tf7YDJgOBQp2EHh4/UgjwAHAUibEL4z+AIPDdFDDZ/ucnb4DsjKOEbMVM5QkBDxLhT/UgpHfJkgnXqMrpFEh+je6EDQlO1VKsy+XfaBGzVCYEwyKvoH47w/zO2KphfQdbarwdK1NHrB1XTqvrlPQjE1m1dUvp86KTUEgeljp15D9t/bUeGOoyctUdbWcKtSpIkyPbUCEk3ZOWrHgaOiWCcs85pJhvdQad+KNjf+2HvJj2+LTLd1xJHgDg2lbtjfwcbghdL/zkSz9AmIQduTM8uX4kwPhf6wGt3Kk19d/cqVVeTS4ZQ7+Esb+uF36KL4NeAKwMOHGEYdyfaeJPyTZc64trRvRlRqFW8otFuva7ioV3Dtgcu5gUwZf8Zug1JQIJLkf6nt5i+uWhefPk+vSXI+TeoUuvpy23qQMov6eDgtv0KvEXNqL879boLaZbnq73Z1r2U1NEiDyX3DhYe7dKTWE7zT/uA4CciN4PY1tDu/zmSeORKNtLwPNRxh/t4+o9gBxUn4j8Um+xdPkkbkv6SZdROu9y6V4khCSlbEvSKd8/xYjUoxB6NCfXfBX5hZ4yHVH2uA4Aox6Knwkz2z8xemGx4EO50veNFlct18z3V5XMLABd3dtKXrrqjMy56qmJDag/PChXqktmlvDAw1/Q3z5yEOX6+zVM/GX2DhZ8gUJ9eOxgeyO4knGXpB/XAQAlJCDOZCb9aL0+YTIUeaRvaRXXJadn4i+zYuJFSXl+5jwNqRIyvetQUf9q5Clo1GBMnwjl+tDW38wBATIvHo1UmNHR3ssetwFg9MIYUFpJG0qr3gtKu59HlgX1lswuL4Z9rfn+2cUVc2Ea7sqSJWUDFAUUMpLr0dVQ1vQuyAJMBNpBDsqBiT8xA+NPoTqKyRjhW6uG9jlTUaCDZxyXAQAefCxLsunWLXVvBPCFyJ/8TurU/H8Y82fi+xtWLEuqBKeWusm/kU8maF7LNDO/O11wEHlPtI4cRGf8jUz8ZaoDJQcBwfm4JQcdlwFg9KIYEGVI70w3hJE02gvIk26AohqIOhoMePNgow8jE38KuuEmL+m75ErNu5okq9EdMEC2bFxDG+qudFnQosPoxJ+SeWgQvrd/RO9BSvkdOf24CwB3PE78RCYPWn1R/cKpKJQYbFot9kLXNtzqTVvTOqkCmMybp4UcRDajzvDwW/657ZxvRVDo7FrTdfFBYAxmeBnKrGIso+OSHHTcBYDPIxGgtJJTzd4wmco3rQjIwUxZmtO8naD1p02mxQe0ct86UPf17Wpqkwk0E4JFgZqc3nxapeLhexASzZGDzE78KfkNde5dPbzEviUdJcOM04+rADD+16QQxnuaKa16r41XLEK5yTF6izXLi0EvEv3WDCOalbb4AUOB+0qXlHVukdTqJ9mEToPW/6etEi08CXVpRLkXGycHhYENqYXvb9hlgh4kI0daRqE27IeDBY+rANBQF9FNadV7LXLlq5AgKT5jWdV5Mmz0kbWA3kyg88pEmqlUDFr/+dASGqAdKmlsm14M5CAc0E8OolMidObfzgMC5Ck1yRrH91e0s05quo+bADDu4fjpBGPdlFY1ANPzBTGIchMT05NVzz0w8aeH76+qUEEAOuA/7ffK1aelZyfWoVJ4+Cekp1t97s+RUP6A/brVKm30oVuRSgEYKt1zeGgf0xRqFTOuyT5uAkCyEUg/BIgxDhw5eARsz3OKZkt0hx9DfH/NFloIEuKTGhOZyEGWLYu2sJbxZ3G/KiR00k4Ooht9BE0w/jI6oZAIQTA/jtH9CtkdLvm4CAAjF0aB0koMU1r1XnUsiCgvof1lM7sm/pT8BiwmlFZO6JfKT65DZXDjl6bO7f7v8RHU+VKYENR4WL3sp2YWE/KT/cNLDFOo1fS7Kf+4CACYwYc0g2Jv5Gu4QPVaN230AZN/Th/SUXKQ1aQfrfXofEEtErtHVMXpkp/PodY/5QwMk7xIJkAT7/hHhw8A0PoDpZWYprTqvRUw3LR5yWthAT77xJWljD89TkKL3+eF8WWJKvQzKNZmTkCPKiOydD6vaVkwS2G6dKhvo48synRnkfEHhpXoplDrNsO4QIcOAGVLiA/LxDJKq95r5feegQINAxWL0Q0+BSD+sDrCJLkoIQn3sbKff1oE+c5U3jnIKr6/0fpJiHR4clCHDgD1n8fuoAQYozeA2XJNLwrJwC3JRA6CiS0688/yGBz77JTX9xcaW7O0wHHas++iQA6iL/pYxfc36ircOyXVl/XVTKE2aodluQ4bAMoeJp0xki2ntOq9WF5vNxRquLxNsaYPe9LFbUZHgRxDA2Ofo8DBw+iQZOvSf9Ya5nRrQKEL25KDnJ74U3KS0sY7MjmowwaA+sbITJjMsZzSqnSjZEvPgwUIIXnMFbMbfWSzpTVvVOQjeHVJRiGSQGu/0bXdn1YTmuSaKMJp5KDUhz01KbBbCHqQ1YkDd9hthpX+DhkArlgYPw0TbBulVe/F8njzULhhfHMxTfv7N0tb/6NHshZd1PhVs+Liuhq0KxZqPnf6RyhfQjl9j5GDWn7Y02lfMtoj8r2HLitlNlTK6JNFiR0yADTI0nyY+WfXr81wcXKEy5HY2KPpk96tPuyZQdbupLHRf7UyIcILAO/sZRcAqDPF/Y+Qg9I/7NnKUUYn0JPslEgmTe+vyMj9rGY7XAAYPT/aDxh/tlNas6KaIVP0+OFFoR9Yu9FHBjtqSec27kE9E23H3N1iB9AHda0+iKymytJ8fxDIQUP2SDk2vOprhaMQBH5aO7Kf48ulVvieTUeHCwAyIbp2v8kGjtV5ub7+L2OP+IrVerXqoy39mOhHiuI797KblKROde1d+1vgT2xVdJBhBiUHNdr88VUW1etQAWD0vGgZMG8co7TqumAYJzw+cToWcTlCOKGrrEXCfeP/Q0VSvaK24kQd2ljNZqgLoeeQKKNZoiDeregg6wyCrqoZUdpMoWbtjhX2O0wAoKQfGPdnesnFCpxM68CI/GbZ5MB/t014+T+wJ8GTphXqVBAgSTQi9qlqqWhNA0oSBreFgObhIai6cM2WzYDPy6qOMhIACvVDjEzbYpbBlbalHijyeexnEAB62qPdnFZY6qr154QfSGkJhfyzYdsfZQpcStDC/0Njn6GwrP4GXr4UQ2/udbgXgNEuj4weS1XXL3qmQ4+ASS8p5YPif0L67h/WW//73ooK2WZ0iAAweh4pgH1+mVFa1S4h3MxzX7kdN8+8rRv7t2ooY/m+hEp+UNLPgPjnStlt0v21QA5KOreIAnyoe6D1j6ccyX9ty38Bs9+kzl34fx4pK3MOIBsB6BABgODIfTC/5XCzpfGqYPxlz1D4V+nSoS55j8Oe9DvT0+04HwUTf14C30DSeNDhwvpvDH0tTaOFY2LQO3pbHIT+eizlyC+vxzMbgoD5XUTTFVtxTlDP6gM7VfdXtMKU3TrafQAYPS/eExHs2oshwOenfnUnbki/kOuGPBsHLvw96elWn59EST8Nx0g/WvUX1h9Au+IOcAMENAWCAEyytz6gF3AA9kaf2zrVRWcY3Vc7esAxeqeLXNPjSrsPAAQn57mN9JO6APAy0PYV5cEXU+fp/zeXvfw3WBF4Oz3dyvNxkdakH6266ZLhe98EtIobkoMHf5l3EFqvVLjI2xl6TvhLpXyW6fCiUEGioXEmSx+ssN2uA8DYBdG+sJONaydkYE0bWjfcpnVLXTia58HItmWvJtJPsnnqIWVW8/8u8Vr04WF7yEHw8Cc9HjQtmzN49eoGWDadkU2GbR75We2wAT3Z+mDOersOAJLsXtIPzPK/snJacKPa5dl89dINMNZ9VU1Ob74a6Uervt37qCR4aPEBGp/GA5DqumTRa1tfBNntFpu3RB00Pr5G1OjapWctlWy3AWDUvOhV0PXvr6WSjssA6Qe+8DNdq12P4CmnLaJWeS1ypSqkHy06qEznRD16q9ratwWhroeB8VuhxQfaSxKxYFsvSYsPWWUIKasZVtI3q4yLM9tlAJj0FPG6mfQD1/vJVXcHPtN63TdNrISWUHhKq7yaHJ3FH66B9KOmJ5Ufr46jhLXkoPl4EKpK6Vf73/mNbW9BL4QZhVrNP4lY96FZNVtW57fLAPDVwdhPgfJ7utVgWKIPo0MeT2i2Xl0+LMyCru5hveUyyWsl/WQqmyktR25Aa/dYNOGN0W74YvgjmexkTRNwOeDjTnIQQv1qRpS47gW0rHgezWx3AeCKR0gnQmQ3z74+uHwKpkQfXcfGiZXwPqxgev/CTjpJP1qdDBwCclCj+d2L4Ya7tyXpR6v9Lq9v+w982MVxCrVW/yRJnk8mTTIPkFaDFsm1uwDQ0BC7F+peaFH9LVVDiT1du4YfN6o0WJz7KEwe7jJanpajO/3oIf1oteUjEnprr8kVAYzeES9Bz2u1mS4XIGgWzB8cSk93yflp1V+8T3dYbldHuwoAV8yLnQpd/ztcizAW7nn2JtxMadXrJyUHQRChAc7QQUk/32mx048hJVkKFdQfhJ2DglkksmdBFz4j6Sd7qWO5eW9ur4FJwQePpbjtF5l58IrB1s6Y2lzFdhUAGrA0Dzb7YLuVrsIFgRvz7ZXlASD2mDu2TnzpL6DrHSNaxkX/baSY5jL0ZvngG2PwQ8u9wjsYrdVsTEGw0FP4mFMUagUXFJOBHNQ5WRdz7TspmRxvNwFgzIJoH5gJdu0WzaIK6ScT+JnS4OEnQCDSvex1ZKcf3VMPmVzImlbUcBj9qzY3q0x6JrT8EhCespJ+0ssonVNykJ2feFeyqzUdXkq7vXZEn29plWct124CgETIQ9D6w73kvgMe2leXTwuut8qzrWUvrYO5gOVa9VHSz+gsO/1o1aNVbvd+Sm7UfimwgJ7Bl6CPtepXkyt6fdvfaI9LTY5JPkH+BMOP0eitc7sIAGPmRcfDwz9Ab+WckcdJDxZhlx9rD1HE06DbrIkc1Df+JSrOstOPtZ7BXuvJKNpUpe1tQahDneix9mu7tJdEBKK7l2Q1Dor6gJ5ePaJviWK+izJcHwAo6UfGsms/1Ag3+FPLygOqlFa913zLhJc/gQ7PM2rlmnb6iX6iJmZ5frxGIzkIowW4P9pvtQNd1uzYQHteVuu1Qh/0j7Asy4ut0GW3DtcHgK8Pxn4CnOsz7AbCoP7D4VBolsGyqsXgM9oVtAXNJnhp7D8oTNR3+smmw0ge3V1oncoHRcD3rzxe9LAR/ZrKeLxADsKaekma9FkpBD3W6mF9r7RSpR26XB0AyuaTfIJk1+7HDjf4vMo7sWZKq94LuPnKV2C0jRVfNqGkn4Hx/+pVa5l84PBhVJuFHAT43If7oZhlBtMUFf9j06dACbeMQp2m3vQp3LuuJwe5OgBEUOweaP2LTF8JWxTg3V26hh+1RXULpSIWH4Gu7lctkpp/jop+bAvpp9mAyg9KONq8R2FFAKP3YKef51RUmM4O+gKzAB9LKNSmnUlTAMuCZ1R9/u5tacmuOnVtABi1OHYKRPefuwqtFs4IJkk/LVRl/bllYmUMbqQ25KAm0k/D7qxlncgsiNSi3ZG25CCY+aekH+37kBl0Nnf1xirYUGieweL2F8P4lweGDdM2Y2q/N20suDYAoKT0oFtJP7BE986K8sBf2qBpU8K2q5dCS4rfbal+rM2kn5a2sv2mi4Ef7m29PyY8+Ktgp583s5WzMq/wpPCjYHOXlTot00VIoYQOtwngluk3qciVAWDUgsh3Yez7fZN1s604tP5Zd/qx2jB0cQkSyJSU3l6Ne9FpCftJPyl7av87N9QBOSinSQwCguQR0FS1Mlbm42fXxTEWXPuQQU/2zoOj+p1iZZ2t0uXKAAAtv2tJP5Sgs7I8uNaqC6BVz/aJr/wfBIKVR0g/9lJ+tfrUUu6bo+QgoGr9Ht71/6hlnhO/C9dspRTqfzphS7cNIAclG5OuHKa4LgCMmh/5Hkz8DdINsiMFcFLAHstJP5pdx+K00viXchcHST9afctLxtDmqrxGbwAxWbVp6iUhobmXpNVvx+QIuaZ6aL/ejtnTaMhVAaBiLYG9IohrST/Afn1mZbn/Y43YWi62tXvl7j74G9sn1ow6vq8W4yGxihqj5c2WK35j6zoYgmimUJu1p6c8JQcRlHQdOchVAWD7tuitQGs/Sw+wTsnCJFNdQAxVOGUvk51kEk0f2O2wpwGJmbKZp63xn+WNV314C0tHsOiZ5lZyEDRug6pH9LmCJT7ptl0TAH74OMmD5a770x10yzkl5LwyFVtOadVaP7IWnQSydxX74qiuk/teOf/CU4g+9HeH6RtS0f/VHymQA7TW1rhc0Zotn9CemnEN9pYE6sQCUjHYY68V7dpdEwAORmMzwO1i7a47KAlEnBxf6BEHLbYxlcBoLsyNNC24D+16EN6w8beRYZmwLOe8JvMQALpI8drpLH0JCJ4K6AVkpVCz8g/wObPmrehPWNlPt+uKADB2fuxkAOYX6c6555zcWzkZ20ZpVasnWY8ugrHtdSm5oJhEQudw6pT5/x3+k9FX4jGuC4x37xr092t6sHIsd83m/bCJsSKFmpVfKbsy9HRrRpaY3F8tpc3cf1cEAAlJc2Grr4C5qthUGuN3S8rDhvexs8KrJEGLofWnnJvm49LiGlTjObL23pzI4EcjFtHq0DmtLEMwDzY0NM5plejwSXEnoFCjzBRqh13JZK5IShDbvwuZyXB6GvMAMHpe5GK4t3+Y7phrzokwBV7JYzbzntyARsPDf2k6HvR7ml26sJ8MfDNwBjostB2OwITXdaUvXXVRut9OnePKLTGYuHUtOQgu388PDBtwslN4KNlhHgBkDJ/3cu9OPytXzwj+nxJ4dqfDgy/KMlqoZKd3p4Noj5/dhGCtGEQbQgpvakNUlyW2n24rfH3bcxAEWlGolbB0Pp0EJNTIfINTpgFgzPzIWIiEg50HX90iEEsk+Ea9JfvYqVvLLJHYgH4M+LTuX6eJnntCo/1v3KTZTJ2uhK5/AinfQjAUuLTPkitHp+Sd/k/JQVjAbiYH/aBqRMnFTuPS0p7y1WspZcNvSvqByRDF1s0Gk3pV/u7VKX7HKa0pJ2HZLwcGHrNS50r/zwjVo33hQqVs29J3egrQuz66Mpn9wDJZVLakjNlYpWjN9iYKdXYv2eRSchBivHMQswCwY1v0FgDg22ygV7OK6z2BEFNOQlJA5YBPVzVPaf6A7nXIaXLQsvCRZT81/6AOZ++UpR+rydmZL3jp/opYstOGUd0wzBtcNbzvOKPlzZZjEgDGLSC5MiIVZp23qzyMGxcs+wXeZ5d+Nb1kMzoRuv6T1eRS+cXeODrcyaJv96WUZvn/rv8kRHsAWg+YsJzFkhxUuHrbR4Dn77T667gckZiRg5gEAIlEp8MF6eI40BoMwtLR12JByL597DT4kGhEc6BlCGkQbRYZ1vUAqs8wG98sYNEPOuanY389B+3JJOO1TOdTgmEMPTpcr8dvp2ThWn+7ZmNsklP2WtpxPABcuSB6EtwQd7V0wl2/yX3Lb8VRVj6RjegCWPC/Xq99Sg5ChfaTg9YHz0C1QtsdgDT4e3fpkrITNcjZIpKzbNs+eB3HtS+awc7XFSzIQY4HgDghQGklhu4gW+6MFkphnPh+n+nhP7dIcvxnUmoi/Ri6LkNtJgfR9f61Sst+KkjRay7LEltyUIHnIdrDU3GVTTaBTzskZccp1IZuNKMIjZsXuQha/2ZKq1E9dpXDRGRL+lmHRkJ3cJjR+lFyUJGN5CDK+DMz2QjX/vp+S8ouNFo/s+WayEECuc+sHtvKy/gXNSMGOUqhdjQAJN1N+lm9ckbgDdsuropiePBFmaBFKmKq2SWUHBSwnhxEuf5vA+ff3EEEiUim62jGh8L+o6GHh983o8O+srSXFAdavHOHYwFg9PxIRkqrc1VVtkSXiOh75MoS9udI69GPwEovKyyd0zVhOTmIvu0HLbjpA4YCw/pWThhpWpFBBbiiQqZ7Ohosbn8xQq7dP6z0IvsNHbHgSAAoW0KgdXMv6Qcm3f6wcqr/X06Bnm6HvA8f90Fodnq60fOzwnWWkoM+8HVH9H1/qw5ZktmSg97Y+gZc89VW1cdKPXAfAH9ReshKndl0ORIAIl9EKRFE39pRNq+tzMM4Ah+a/KWVKvXqSh5E02AI0E1vuWzy/YEcRN/UM3tIQFZbEbKkY9LCFdJrN5Fpj4fZIXjQVNeSgxAZUjW0zxgnwLE9AJQ9QXLgZR9VSqsTlc1kAwBYuGpazt5MeU6kkbdQd7BjeZe0C5CDavPNzwVsCJ6ODoi6KAmaYAMi2OzBS8qYvc9c+NoO2FoZ/0GTsyyEMFpIyuynUNseACJ1Uc2UVsdxxvgboSDEdKPGRBI9AK2/9U8YgDkMdg4yQw6KYB96M3imPZeFkG4xOTnVHuXatAZ99LuTbiUHkbOra3feoq0mxqVsDQBjHo7qorQar4axkgJBM5mSftaj82AseqMx79VLhYAcREyQg/4RPhvFsUfdkEEJ+IbAlP6vXkN7QEyOnFU79sLbgkxXJbJVHPYPrKga19/W/RVtDQByI5kDG0PY0rplA05LHvD9P+w9PfSsFlm7ZI7u9GPrNRhaBDsHefX3tPeKuWib/1S7qn5EL/R8kvGGB+w1kl17UaDLYrgXvskuxSqXdMXRRLmd1m27+cbMr78A1o2ut9N5M7pF+Hgly51+4F3/y6DrP8JMHbSUFWA3+qJi/ZOB9G0/WYsBkzKwF8yNJS9ddb5JNYaL4+XLo/DdtZmGFdhcELghk6vHlNpGobYtAIDji6H1t02/Kdwxfm35tJw1pnSYKAwPvgDdO8e6nk3kIB07B33k64o+8zq1QTPcI0nZMSwyXbbiASOfhbmADzLlsU8DclAD3TPTnsOWB3Tk/MhIWM80TGm1p6pHtAIXXMbIw3TySdqAboLekbYX6i0C45wTEpqIPHTZb3noXIusalMD98qI0hevukybtPVSlBwkCpjpPZGtVpiQ6w4O720LhdryAEBJP7DDL9OIng1MuL//uGq6/8OsMjZmNpF+CHJ83HtWqA7tCRep1mxL4FuoStQ/Z6CqWEVARvKiClJh+f2oYrY5G/YPXAMUnNeaE1z0g/YYkwQvtsMlywGv/yL6I2hqetnhrGmdQPoJ+BHT8V6yFk2BC3qC6boYUND/hOzkoJjgRWtCbDZpAkzOW1X5wU0GqmVZEQ8SgRzkyNSHbp+BQj10//CSUboLqhSwNABQ0g8sa81WscksG+bDFi+9K7yHlQOwz183uL2YdTW7+mKoNk95J581gbNQFHtZwQMdR/TAiNeuC7NyoPMbWz5EBP+RlX01u7C/ouXkIEsDQH1ddCpEKksprWqgaM0H2ufeQk+I6dAEPu/1AIx3md3gFKuh3TLvHES7/ZsCPbXCaY8cISfU1kYsZ0XqctbjnwnDxIiuMg4Jw6R6r+qDu2620pxlAWDcgkh3aGHZXrxsyADp57mpmNmFhdb/XMCHaReXwhOm5KDObcf4y4DvL0P/l/lB0NSBL1/JZIhE61782sY9MFFsy3jbCmyhgZ1Fyga3vYAGlVsWABLQfXMt6Qehf4VPCzHt2iUxWgStv/4FeYMXNluxocXVrT4r9h9Y8vvY55aOGwk3JNkOI4uETosgFjIbKma7djBO6lZdG7Ps1XVLAsC4RQ3nQ+t2Y3bHGeaKaGrlRHbbQifWoeEwyXU5QwRamabkoMLiIxRfSvZZFj63VT7zE4J+1O+F8cycwmvWRGBFAN4TcOdBiHx31fD+llCoLQkAiWQSWjd3kn4gkr8Ob/v9g9WlpEs48Md07iFT3fsWHGj6rBil++4RXfGh2hZuEiGJ2XL0izqd8keYC/hXC6fc8xMo1IRY8/FV0wFg9Px6IHAQ2ymtRtCnpB+oILNZd+oz7PRzA/y7wIj/dpc5p3uyYU3oHCcYv/qrQsjlJUvGD9df0JoSuLJSEmE+whpt1muB2ZobDlxeYppCbSoAVBDYSgO5r3VrhhujP62YnsNs/zfyNo3UzpN+muuv8uPbocMP1Yne51TE2GXLeDFTctCbO2jP8XV2AChbpj3LZEI2PVlpKgDsWBi9CRxxlNKqDEnrHGj9o4IPsyX91KO7IUDa9iJH6xrrO4Oh0X6PB83HHnwfLJHG9JV2RhqGleevfvF92oNidni8whTAyp29JISG1wztbWpuyXAAuG4RCcOnqx9gdmVUDEMX6aEVk0Nfq4jZlk22Nn3Xz7LZWqsdhcBUgQegum1XLf0KlpaYfglJpW5zxi6fxOyV8s7/2PYBYPUnFR+ZZUt0dcnEzkGGA0CNHIU1f8JsvTYb4vDw7wvlhRZmk7E7LxFHs6F3ZNl6raX+YvSJl6BnUjq9wYIF0AvYnzp30394+Lrvj1bfzdInjH33wYQgs69FZa07QefCzkE3ZZXJkmkoAFz5SOQEuLldPEGCf1n5M3ZbPZEN6BxYabs5C+5Ms+CiT8NDEHxL7Mix6Xt/qIMh0/2pcxf+nwb7BzIjKhS/vukbjAXHdurVjT8hs8mIEYYYpoYCQLwRiBqEGDKou3L6C3wUOi30e/3FrCuRhHf9oeUSrdNonSYYz67zDEbL0zX2wMIz0HP6OD3dDecwRMmJydIslr4UdQpCjxIz2zw2W92hMT6hWq411CDrDgCjFzWcCy9tGO5yZKuIFXmiiNmSfjagoXBBRllRF6t1wMNPPALK2J2unFgpCaLo2jkL6ILf3P+lq3pZjYlWfbhyXT0Mk1zbS4IJ0ylVlw3UPSTXHQAIJf0Q+s6/Cw+M3lwxLbyKlWfw4NOdfkwvzdjlP/RK/oIHoXeU9G8pe2kF3ORrlfJZptN7Limx/bhMUcHJv4eh0r9Z4qBom8BLZkn9+yvqCgCjFsSHQ6QxteygWAGTGZT0g2GfP5NqTBWHnX6ug96RLTu3mHIMCkPrH/didI+aHpi7mAKtLcQK9x0QBEaVVk4YysozSg4iAnZxL4ncdGBYqa5lec0BoIn0Iyfd3Lo9B5Tf91jdHGQzCkIPYA4r+6p2MXoUX4J2q8ltvWbpO5jg59XkWOVLssSUHNTl9W2roJf0Jqv6Z7NLe6BJpO/jq5oDwPaFkRvAuGnqYbYKGM2DCxILCpjpZ5+TCTQZLsBJRutgZzlo/as8fjRPqw1/wHcv9KjiWuUdlYMe1j+WfHidozbTjHkwcS85iJDLaoaXaKbmawoAY58iQGnFrm3d4MF7eGl56Ku06+TYKdmEukCn2db9281UBj7AMQv3RYe16thwxQu7YRjwiFZ5p+VgGDq3dElZ0Gm7KXsFr+94j2D8XOrcbf8lmSwiFdr2V9QUAJK10bth2c+S1w8tBwsorV4htMByvToUSkk0C4JQro4iTop+6pXRU7oN5gbnw8RBle5yDhSAuYATCZInO2BK0YTgF++FmRVXUqiBoHd+1Vurb1R0vkWGagAYtbCe7mPn2okPujSzrBzXtaiToz/JenQ2zPzf4qhRHcYEEZW3JP1oLbpt1F8Ow4RghVZ5p+Xgnfjykle/39Vpuyl7RSu2fC1g5FoKNby+8AAZOzaU8lfpv2oAIBIGAgZ84deFB4xtP+7TJ/Q7lq7B570WwpS5K5dFgdiz3jMIvWoUn2DX85+GocCnRsvbWY72uEg8XmGnDTXdJOSFnifepybHIh/w6V4d36+6KpY1AIyd39ALHrKbWVRAk01YkqkYgpOaZG0QSqxDQwDoMTaoNq0Srhu4Zm5ZdN2QiqSA3bvsBROVt/RdevXZpsEyqKB42aY6WHquMFjc9mJEJlPrR/XOSqHOGgCSJLnQraQfuMHXrpoWXmE7igoG4OmCHrKrST9/8w1Bbyu4rzl568Sly6AXsF5zAQcF6b0pNzYCRZfdATsHPQPDUFdSqGnPPdYozM6GjmIAGLMgNhQUuJLSCpNTBD7lpNq9yVZxs3mw08+1MPP/HbN67CgPwTHu9aqTfrTaxthzt1vJQVCHMX2WjL9Ua12slqPkILgPXDtHBs/wj2ou661Ioc4YACjpRybmdxuxGuyUPkpUWT4trEhpTcnZ9R+2+A7ADhFz7dJvgd7HcX+00wI9TSq2Taz8J4x1/2qVPsv1wM5B0BuAKQ82R/Gb21fAcGQtG+vZrTb1kpLKu3ZlDAA7Fkaug4KupLTCjRj3+hAswbA7YIvvuyDq92DngbJlaP2rPTnoQWUJYzk+LN7jWnIQIhf1rbzqWmM1s6YUweLdEIFgVOi+A5waWT2s77BMnrUJAGUPw+eIXUz6AZAfefXu0O5MlXEiDd71LwY7052wZcQGXOzZ+LvokJGy2cq8NbFyF5BfHssmwzIPJryYkoO6vLHlXRiaPs8Sg2y2aY8+EzmoTQCIJqKTYf74pGzKGOZVFYRD8xnaR5KMYISE8lj6oGgbo8+8OehJxXyTGXlYoHTiapNq7CreQybSL+xSrkWvIATcTA66oGbTyuvT69EqAIxfRLpA19+1lFZBwBV/uRNrprSmV9bsOXkLnQUt7CSzeuwqDxdzOrT+Cbv0vzGx8hAShFl26Tevl8wYuKSM9tCYHIVrNuyGF8IfZWJcg1Ei4zmkrDTYUrRVAGhIRt1LaQVCSu8+oadbOu/072QSSD8EeZy2q8UejP03egajV7TImpEJFZ9HexifmdFhV1m4NrmNRKqwS78WvaJHAAo1cieFGpETqw4mW20I0xwAxi2InwWOu5fSCoQUxqSfgXCDjdNyEzgtAw8/rNuYI/1o9ZmSgxAWXNtLhHm4SQOWXn2m1vpYLVe4etthgQgVVuu1Sh+soE2rGzmwuZfUHACSRLqDLhlYZchiPetXloeXWaxTrzqm48tszsKw5EXfILQ9m4yVeduvfvnvMBm70UqdVumiPbTGROJ2q/QZ0VM4MPg0BOVPjJS1uwy8SZnbkIjfnLLTFABu/CMJQOT8YSrRVf+B9IMZk36O7vE/1lW4HHUGHsQG2OJ7htO+iQi7lhyECbl28Nob4Z5mc+CKddBLEl3bS5IRvhkae7h1EGoKAFX74hMgcnZiA5eKVUL+uqo8bJrSqmIla3Yyjm4AfLxZhVhlYvQ4vO33pdPmN1+zdAfcQS84bVeLPegRFTRUHb5Si6xdMsWvb10GvYB1duk3pZeQ06sv7zuY6mgKALB8crkphbYVxnEPEFBsU69dsSvxgQewxkOsJ/1ohQX7/PfAvFGDVnkn5WRCRjppL6MtAT4r5lJyEEoe2duzKQBApDo/YwWYJ+LHlk8P7mLuBnEnPjDx9wC0/rWs8Nk6/oUv4Y2ox1nZz24X69ocM7suY7nFa7b9E8hBfzVW2t5SMABoeuaFsiXEBy+2fdtec/q1Q1CqzsFBzfvY6begrQSs/XeHLmWhNmkHpTD6rzeMfuOgxYymcgXPXOgF1GTMZJgI1+zsSW9PYj5sE5EPerDu218RFo6OBIDE5/HusIjEHKj0ewVm/mZVTseWU1rT7aidw9r/KWoyLPJhN5pyO0k/WutEyUHQjZytVd4xOUJ8H31x8ATH7CkY6vzGW7sgQLqOQg1zWt1JxWCPAO2/pOA7s2QYN33Wo1PwKWYOtDAMC6Ou+zQ04LPJcwla2sJNpj/PP634t/Ci0H+YOpHBeEIE4rYLDtGLHwQ3XEihHiwLBAgALsColQvw8YXyp2/FtlFaWxlTO4GN1tVEnM4nnsyf93Laj5S9p7/7dAKLgutekApKIrPdolLY0P9N5CBMt9Zzz0EnJ3FFhSwIvlDUPW7BaAkIJqvLw393i09e0XWfhX7RNxBtcws+KT+2lr20FOZt3kqdu+E/cLZjbvCD+lA4IPQk7BzkGgo1TAI2YSP8/S4Ms8iY2eu1rS4Q3enHCwQTNx0S+gxu7LgbXAI/Gr2C86QfrXWHXgDTXZpa+glDkp1NLy+1TGT4m5KDYP9AF5GD8PsUjtQy4A6G2DSbBgbXC8unhF3hS8qpo1tqv5c6Z/z/1/B5r/8x9kHR/NYJL2+DB+9FRQEnM7D5/RCtdrdozXagUOMNVus1qK+JXNcUAIAfzL5LiXGDD7mC9NMWT8K+yw2t/wGP6OJvDx5FjQjiDHeQg4DA7cIDI48ryEHQ2DY9800BIIiFv8L4hOlkF9h//O8zgl+68JohePD+zNovWNeegweig6z9ULO/fWLl/6CV+7WanJ359F4WsOdvdtowqrvozc07gBz0gtHyVpQDfA4XdQ6/SnU1BYCj39VjtsU2+FHj8wXpUokrDzwIvQMtsGNv22UA4XNvMXoiQ7ork4K+vDlwkx1g5RwEy2VbJlZ+zcq+ml2Pz8O0lwQvAj2HK9fVUz+bAkDTDyz8Ss1xu/KxIMw+MhlplwXzemF1glmrBhdpOu6FGs3XwhkN68Y/WwvbYz7gjLUMVjBhdq0yeNMmqWDV5p3QS2JCoYaGTBY96Lcpp5oDwIry4JvgVGUqw7n/eEefPkHmlFa1+oqXoOcBPMffgYfAs9IzBL2k5p/b8i84vegJwAu2E3f2gHv4xe0TX/k/Z63qt1ZUEJoNcyVf6C9pusTjha/t+HdKS3MAoAl+T+h2cMqxrht0E2NeQbyO5U4/KSDU/sPNTGAu4Mfw37ElQbBVDWvZP1bzzY35lBwkiMK19Bo75h+8k+ATxDscs2fCEO2Cw5uu18M1do6tCAGnKNjt3pZutwoAr0zF+0UiwE3u2ITg1GXlgU9bOuTm3zAJ9xlwqO9yykdo/SfBMuRep+xZbWfLhJc/ga3EHflqzpF7VvjxxomVrtyPLxO2nV/fugkIOQsy5Vmf1vRq/fV4+fJWxL9WAYAaXTEj9AosC/6Ifn7LeieOaRQQfmDV9HC7mdhKeQ7f2wNGl72EDtAPL2iin3kc2OQzVS+7/m+f+PKv4eGcY5f+I3oxbHKDbqJbldlrx3rtxf1H3wfDlt9Zr/mYRrifGkVExtOAcyz1yC9oZDIfI+dHboHM39qxTyBEnekrZ+Q4FPky189samItug8ipOUTXYC5BH8/hnH/s2Z9dFP5kiVXTSeybPnr3bTlh1b01u0Tl/7eTfXV4wvdnqtmRN9HZVm+U085bbI4DpPsV9MdijLJKwYAKjxmUbRUSpI/w3sDp2cqbCCtSsDCnSunh5iugxrwO2MRCAKXQ8vzBxgWWPPaKUa7gC46yTsIvZbRYDtP7PPiVd9HRKaz30VWVAVaTvoG4vXbrlnqStKP3jpWDy/5GXzhaB7duFNv2Uzy0PK/K4joupaTfulybYYALQVWTA1tKfKELoQo+wQMCUy9nQc6/hzIDZ/dUR5+ipN3CPqHx4fOhZ9/AbANT+bQshCJH4PNPXt11Ief4gVd9L+FwoGz4cF9jp4bPjBuhCHkr7uEiy7sKA8/xaLo9W1PCGKgF9wLyw1jQwtiFIWGdk5Rz4tKsj38R0Q1Whq1sL4bfFnkNqAQ3gpd366aisGKAlTmORF5n1k+3d+89KCpbDsTgi8GnwrvntJVFNhxVdsGq/Dg74FqPuvxot/D13w/b2dVNuVuvxfGnyth4RboXV4LXeDOWpTBvbQPGpInA1h8ct3EynY7OaqlrtWXlfYhSekWeNauAYxytJSBwLoT7r8nvH7f7zqtfEsTaxQw1XfQLcTqv4z1FgjqDWO6PhBuzgSjIjgJf7B6QMincP4eUIzeOy0QXvurO3GDPgvtW5psRsFkAyoBDAAbwAihnjClB7toN5GuaC/qI3jw6ctF73pktOHoy0btu9ImvB+56g5/bf1XQ2QkXIhkciHB5Cy4KUXAjc6FSDA8/hT+7wDMdvTA4o7KiZXthhBlApbmoqRscE71ofgQJEmADboQ3uI/Mhxv6jWSBKyyfAS9oR1A79le2PnEd3BlJVNKf7Pj/AdHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQYIfD/M2Z1Cla5ouIAAAAASUVORK5CYII=";var Dle=()=>v.createElement(f1e,{to:"/"},v.createElement("img",{src:sRe,alt:"Malloy",style:{height:"30px",marginRight:"12px"}}));m();m();var cW=dr(Fr());m();m();m();m();function Ole(n){if(n)throw n}var ARe=dr(aRe(),1),Ile=dr(xRe(),1);m();function rN(n){if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}m();function gRe(){let n=[],e={run:t,use:r};return e;function t(...i){let s=-1,o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...f){let p=n[++s],_=-1;if(l){o(l);return}for(;++_<i.length;)(f[_]===null||f[_]===void 0)&&(f[_]=i[_]);i=f,p?F3t(p,a)(...f):o(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function F3t(n,e){let t;return r;function r(...o){let a=n.length>o.length,l;a&&o.push(i);try{l=n.apply(this,o)}catch(f){let p=f;if(a&&t)throw p;return i(p)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){t||(t=!0,e(o,...a))}function s(o){i(null,o)}}m();m();var wRe=dr(vRe(),1);m();m();function rE(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?_Re(n.position):"start"in n||"end"in n?_Re(n):"line"in n||"column"in n?Rle(n):""}function Rle(n){return bRe(n&&n.line)+":"+bRe(n&&n.column)}function _Re(n){return Rle(n&&n.start)+"-"+Rle(n&&n.end)}function bRe(n){return n&&typeof n=="number"?n:1}var Ch=class extends Error{constructor(e,t,r){let i=[null,null],s={start:{line:null,column:null},end:{line:null,column:null}};super();if(typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){let o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}t&&("type"in t||"position"in t?t.position&&(s=t.position):"start"in t||"end"in t?s=t:("line"in t||"column"in t)&&(s.start=t)),this.name=rE(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack=typeof e=="object"?e.stack:"",this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.source=i[0],this.ruleId=i[1],this.position=s,this.actual,this.expected,this.file,this.url,this.note}};Ch.prototype.file="";Ch.prototype.name="";Ch.prototype.reason="";Ch.prototype.message="";Ch.prototype.stack="";Ch.prototype.fatal=null;Ch.prototype.column=null;Ch.prototype.line=null;Ch.prototype.source=null;Ch.prototype.ruleId=null;Ch.prototype.position=null;m();var Jm={basename:D3t,dirname:O3t,extname:R3t,join:N3t,sep:"/"};function D3t(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');iN(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let o=-1,a=e.length-1;for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(n.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return t===r?r=o:r<0&&(r=n.length),n.slice(t,r)}function O3t(n){if(iN(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.charCodeAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.charCodeAt(0)===47?"/":".":e===1&&n.charCodeAt(0)===47?"//":n.slice(0,e)}function R3t(n){iN(n);let e=n.length,t=-1,r=0,i=-1,s=0,o;for(;e--;){let a=n.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}t<0&&(o=!0,t=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function N3t(...n){let e=-1,t;for(;++e<n.length;)iN(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":L3t(t)}function L3t(n){iN(n);let e=n.charCodeAt(0)===47,t=k3t(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.charCodeAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function k3t(n,e){let t="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=n.length;){if(o<n.length)a=n.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",r=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,o):t=n.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return t}function iN(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}m();var ERe={cwd:I3t};function I3t(){return"/"}m();m();function a9(n){return n!==null&&typeof n=="object"&&n.href&&n.origin}function SRe(n){if(typeof n=="string")n=new URL(n);else if(!a9(n)){let e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){let e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return M3t(n)}function M3t(n){if(n.hostname!==""){let r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}let e=n.pathname,t=-1;for(;++t<e.length;)if(e.charCodeAt(t)===37&&e.charCodeAt(t+1)===50){let r=e.charCodeAt(t+2);if(r===70||r===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}var Nle=["history","path","basename","stem","extname","dirname"],VV=class{constructor(e){let t;e?typeof e=="string"||(0,wRe.default)(e)?t={value:e}:a9(e)?t={path:e}:t=e:t={},this.data={},this.messages=[],this.history=[],this.cwd=ERe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Nle.length;){let s=Nle[r];s in t&&t[s]!==void 0&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)Nle.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(e){a9(e)&&(e=SRe(e)),kle(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?Jm.dirname(this.path):void 0}set dirname(e){CRe(this.basename,"dirname"),this.path=Jm.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?Jm.basename(this.path):void 0}set basename(e){kle(e,"basename"),Lle(e,"basename"),this.path=Jm.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?Jm.extname(this.path):void 0}set extname(e){if(Lle(e,"extname"),CRe(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jm.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?Jm.basename(this.path,this.extname):void 0}set stem(e){kle(e,"stem"),Lle(e,"stem"),this.path=Jm.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,r){let i=new Ch(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,t,r){let i=this.message(e,t,r);return i.fatal=null,i}fail(e,t,r){let i=this.message(e,t,r);throw i.fatal=!0,i}};function Lle(n,e){if(n&&n.includes(Jm.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Jm.sep+"`")}function kle(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function CRe(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}var Mle=FRe().freeze(),TRe={}.hasOwnProperty;function FRe(){let n=gRe(),e=[],t={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=l,s.parse=f,s.stringify=p,s.run=_,s.runSync=E,s.process=O,s.processSync=R,s;function s(){let q=FRe(),z=-1;for(;++z<e.length;)q.use(...e[z]);return q.data((0,Ile.default)(!0,{},t)),q}function o(q,z){return typeof q=="string"?arguments.length===2?(jle("data",r),t[q]=z,s):TRe.call(t,q)&&t[q]||null:q?(jle("data",r),t=q,s):t}function a(){if(r)return s;for(;++i<e.length;){let[q,...z]=e[i];if(z[0]===!1)continue;z[0]===!0&&(z[0]=void 0);let L=q.call(s,...z);typeof L=="function"&&n.use(L)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(q,...z){let L;if(jle("use",r),q!=null)if(typeof q=="function")ue(q,...z);else if(typeof q=="object")Array.isArray(q)?G(q):P(q);else throw new TypeError("Expected usable value, not `"+q+"`");return L&&(t.settings=Object.assign(t.settings||{},L)),s;function B(I){if(typeof I=="function")ue(I);else if(typeof I=="object")if(Array.isArray(I)){let[J,...he]=I;ue(J,...he)}else P(I);else throw new TypeError("Expected usable value, not `"+I+"`")}function P(I){G(I.plugins),I.settings&&(L=Object.assign(L||{},I.settings))}function G(I){let J=-1;if(I!=null)if(Array.isArray(I))for(;++J<I.length;){let he=I[J];B(he)}else throw new TypeError("Expected a list of plugins, not `"+I+"`")}function ue(I,J){let he=-1,ve;for(;++he<e.length;)if(e[he][0]===I){ve=e[he];break}ve?(rN(ve[1])&&rN(J)&&(J=(0,Ile.default)(!0,ve[1],J)),ve[1]=J):e.push([...arguments])}}function f(q){s.freeze();let z=sN(q),L=s.Parser;return Ple("parse",L),DRe(L,"parse")?new L(String(z),z).parse():L(String(z),z)}function p(q,z){s.freeze();let L=sN(z),B=s.Compiler;return Ble("stringify",B),ORe(q),DRe(B,"compile")?new B(q,L).compile():B(q,L)}function _(q,z,L){if(ORe(q),s.freeze(),!L&&typeof z=="function"&&(L=z,z=void 0),!L)return new Promise(B);B(null,L);function B(P,G){n.run(q,sN(z),ue);function ue(I,J,he){J=J||q,I?G(I):P?P(J):L(null,J,he)}}}function E(q,z){let L,B;return s.run(q,z,P),RRe("runSync","run",B),L;function P(G,ue){Ole(G),L=ue,B=!0}}function O(q,z){if(s.freeze(),Ple("process",s.Parser),Ble("process",s.Compiler),!z)return new Promise(L);L(null,z);function L(B,P){let G=sN(q);s.run(s.parse(G),G,(I,J,he)=>{if(I||!J||!he)ue(I);else{let ve=s.stringify(J,he);ve==null||(j3t(ve)?he.value=ve:he.result=ve),ue(I,he)}});function ue(I,J){I||!J?P(I):B?B(J):z(null,J)}}}function R(q){let z;s.freeze(),Ple("processSync",s.Parser),Ble("processSync",s.Compiler);let L=sN(q);return s.process(L,B),RRe("processSync","process",z),L;function B(P){z=!0,Ole(P)}}}function DRe(n,e){return typeof n=="function"&&n.prototype&&(P3t(n.prototype)||e in n.prototype)}function P3t(n){let e;for(e in n)if(TRe.call(n,e))return!0;return!1}function Ple(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function Ble(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function jle(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ORe(n){if(!rN(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function RRe(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function sN(n){return B3t(n)?n:new VV(n)}function B3t(n){return Boolean(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function j3t(n){return typeof n=="string"||(0,ARe.default)(n)}m();m();m();m();m();function NRe(n,e){var{includeImageAlt:t=!0}=e||{};return LRe(n,t)}function LRe(n,e){return n&&typeof n=="object"&&(n.value||(e?n.alt:"")||"children"in n&&kRe(n.children,e)||Array.isArray(n)&&kRe(n,e))||""}function kRe(n,e){for(var t=[],r=-1;++r<n.length;)t[r]=LRe(n[r],e);return t.join("")}m();m();m();function s0(n,e,t,r){let i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),[].splice.apply(n,o);else for(t&&[].splice.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(n,o),s+=1e4,e+=1e4}function Md(n,e){return n.length>0?(s0(n,n.length,0,e),n):e}var IRe={}.hasOwnProperty;function MRe(n){let e={},t=-1;for(;++t<n.length;)q3t(e,n[t]);return e}function q3t(n,e){let t;for(t in e){let i=(IRe.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t],o;for(o in s){IRe.call(i,o)||(i[o]=[]);let a=s[o];U3t(i[o],Array.isArray(a)?a:a?[a]:[])}}}function U3t(n,e){let t=-1,r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);s0(n,0,0,r)}m();m();m();m();var PRe=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var lp=M4(/[A-Za-z]/),oN=M4(/\d/),BRe=M4(/[\dA-Fa-f]/),Pd=M4(/[\dA-Za-z]/),jRe=M4(/[!-/:-@[-`{-~]/),qle=M4(/[#-'*+\--9=?A-Z^-~]/);function aN(n){return n!==null&&(n<32||n===127)}function Dc(n){return n!==null&&(n<0||n===32)}function Yi(n){return n!==null&&n<-2}function Ra(n){return n===-2||n===-1||n===32}var qRe=M4(/\s/),URe=M4(PRe);function M4(n){return e;function e(t){return t!==null&&n.test(String.fromCharCode(t))}}function no(n,e,t,r){let i=r?r-1:Number.POSITIVE_INFINITY,s=0;return o;function o(l){return Ra(l)?(n.enter(t),a(l)):e(l)}function a(l){return Ra(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}var $Re={tokenize:$3t};function $3t(n){let e=n.attempt(this.parser.constructs.contentInitial,r,i),t;return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),no(n,e,"linePrefix")}function i(a){return n.enter("paragraph"),s(a)}function s(a){let l=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return Yi(a)?(n.consume(a),n.exit("chunkText"),s):(n.consume(a),o)}}m();var zRe={tokenize:z3t},HRe={tokenize:H3t};function z3t(n){let e=this,t=[],r=0,i,s,o;return a;function a(P){if(r<t.length){let G=t[r];return e.containerState=G[1],n.attempt(G[0].continuation,l,f)(P)}return f(P)}function l(P){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&B();let G=e.events.length,ue=G,I;for(;ue--;)if(e.events[ue][0]==="exit"&&e.events[ue][1].type==="chunkFlow"){I=e.events[ue][1].end;break}L(r);let J=G;for(;J<e.events.length;)e.events[J][1].end=Object.assign({},I),J++;return s0(e.events,ue+1,0,e.events.slice(G)),e.events.length=J,f(P)}return a(P)}function f(P){if(r===t.length){if(!i)return E(P);if(i.currentConstruct&&i.currentConstruct.concrete)return R(P);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(HRe,p,_)(P)}function p(P){return i&&B(),L(r),E(P)}function _(P){return e.parser.lazy[e.now().line]=r!==t.length,o=e.now().offset,R(P)}function E(P){return e.containerState={},n.attempt(HRe,O,R)(P)}function O(P){return r++,t.push([e.currentConstruct,e.containerState]),E(P)}function R(P){if(P===null){i&&B(),L(0),n.consume(P);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),q(P)}function q(P){if(P===null){z(n.exit("chunkFlow"),!0),L(0),n.consume(P);return}return Yi(P)?(n.consume(P),z(n.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(n.consume(P),q)}function z(P,G){let ue=e.sliceStream(P);if(G&&ue.push(null),P.previous=s,s&&(s.next=P),s=P,i.defineSkip(P.start),i.write(ue),e.parser.lazy[P.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<o&&(!i.events[I][1].end||i.events[I][1].end.offset>o))return;let J=e.events.length,he=J,ve,Ve;for(;he--;)if(e.events[he][0]==="exit"&&e.events[he][1].type==="chunkFlow"){if(ve){Ve=e.events[he][1].end;break}ve=!0}for(L(r),I=J;I<e.events.length;)e.events[I][1].end=Object.assign({},Ve),I++;s0(e.events,he+1,0,e.events.slice(J)),e.events.length=I}}function L(P){let G=t.length;for(;G-- >P;){let ue=t[G];e.containerState=ue[1],ue[0].exit.call(e,n)}t.length=P}function B(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function H3t(n,e,t){return no(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}m();m();m();m();function Ule(n){if(n===null||Dc(n)||qRe(n))return 1;if(URe(n))return 2}m();function u9(n,e,t){let r=[],i=-1;for(;++i<n.length;){let s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}var uN={name:"attention",tokenize:W3t,resolveAll:V3t};function V3t(n,e){let t=-1,r,i,s,o,a,l,f,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;l=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let _=Object.assign({},n[r][1].end),E=Object.assign({},n[t][1].start);VRe(_,-l),VRe(E,l),o={type:l>1?"strongSequence":"emphasisSequence",start:_,end:Object.assign({},n[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:E},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},n[r][1].end=Object.assign({},o.start),n[t][1].start=Object.assign({},a.end),f=[],n[r][1].end.offset-n[r][1].start.offset&&(f=Md(f,[["enter",n[r][1],e],["exit",n[r][1],e]])),f=Md(f,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),f=Md(f,u9(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),f=Md(f,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,f=Md(f,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,s0(n,r-1,t-r+3,f),t=r+f.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function W3t(n,e){let t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ule(r),s;return o;function o(l){return n.enter("attentionSequence"),s=l,a(l)}function a(l){if(l===s)return n.consume(l),a;let f=n.exit("attentionSequence"),p=Ule(l),_=!p||p===2&&i||t.includes(l),E=!i||i===2&&p||t.includes(r);return f._open=Boolean(s===42?_:_&&(i||!E)),f._close=Boolean(s===42?E:E&&(p||!_)),e(l)}}function VRe(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}m();var $le={name:"autolink",tokenize:Q3t};function Q3t(n,e,t){let r=1;return i;function i(R){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(R),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(R){return lp(R)?(n.consume(R),o):qle(R)?f(R):t(R)}function o(R){return R===43||R===45||R===46||Pd(R)?a(R):f(R)}function a(R){return R===58?(n.consume(R),l):(R===43||R===45||R===46||Pd(R))&&r++<32?(n.consume(R),a):f(R)}function l(R){return R===62?(n.exit("autolinkProtocol"),O(R)):R===null||R===32||R===60||aN(R)?t(R):(n.consume(R),l)}function f(R){return R===64?(n.consume(R),r=0,p):qle(R)?(n.consume(R),f):t(R)}function p(R){return Pd(R)?_(R):t(R)}function _(R){return R===46?(n.consume(R),r=0,p):R===62?(n.exit("autolinkProtocol").type="autolinkEmail",O(R)):E(R)}function E(R){return(R===45||Pd(R))&&r++<63?(n.consume(R),R===45?E:_):t(R)}function O(R){return n.enter("autolinkMarker"),n.consume(R),n.exit("autolinkMarker"),n.exit("autolink"),e}}m();var P4={tokenize:G3t,partial:!0};function G3t(n,e,t){return no(n,r,"linePrefix");function r(i){return i===null||Yi(i)?e(i):t(i)}}m();var WV={name:"blockQuote",tokenize:Y3t,continuation:{tokenize:K3t},exit:J3t};function Y3t(n,e,t){let r=this;return i;function i(o){if(o===62){let a=r.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return Ra(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function K3t(n,e,t){return no(n,n.attempt(WV,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function J3t(n){n.exit("blockQuote")}m();var QV={name:"characterEscape",tokenize:X3t};function X3t(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return jRe(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}m();m();var WRe=document.createElement("i");function l9(n){let e="&"+n+";";WRe.innerHTML=e;let t=WRe.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}var GV={name:"characterReference",tokenize:Z3t};function Z3t(n,e,t){let r=this,i=0,s,o;return a;function a(_){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),l}function l(_){return _===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(_),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),s=31,o=Pd,p(_))}function f(_){return _===88||_===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(_),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=BRe,p):(n.enter("characterReferenceValue"),s=7,o=oN,p(_))}function p(_){let E;return _===59&&i?(E=n.exit("characterReferenceValue"),o===Pd&&!l9(r.sliceSerialize(E))?t(_):(n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)):o(_)&&i++<s?(n.consume(_),p):t(_)}}m();var YV={name:"codeFenced",tokenize:e5t,concrete:!0};function e5t(n,e,t){let r=this,i={tokenize:ue,partial:!0},s={tokenize:G,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0,f;return p;function p(I){return n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f=I,_(I)}function _(I){return I===f?(n.consume(I),l++,_):(n.exit("codeFencedFenceSequence"),l<3?t(I):no(n,E,"whitespace")(I))}function E(I){return I===null||Yi(I)?z(I):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),O(I))}function O(I){return I===null||Dc(I)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),no(n,R,"whitespace")(I)):I===96&&I===f?t(I):(n.consume(I),O)}function R(I){return I===null||Yi(I)?z(I):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),q(I))}function q(I){return I===null||Yi(I)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),z(I)):I===96&&I===f?t(I):(n.consume(I),q)}function z(I){return n.exit("codeFencedFence"),r.interrupt?e(I):L(I)}function L(I){return I===null?P(I):Yi(I)?n.attempt(s,n.attempt(i,P,a?no(n,L,"linePrefix",a+1):L),P)(I):(n.enter("codeFlowValue"),B(I))}function B(I){return I===null||Yi(I)?(n.exit("codeFlowValue"),L(I)):(n.consume(I),B)}function P(I){return n.exit("codeFenced"),e(I)}function G(I,J,he){let ve=this;return Ve;function Ve(lt){return I.enter("lineEnding"),I.consume(lt),I.exit("lineEnding"),ot}function ot(lt){return ve.parser.lazy[ve.now().line]?he(lt):J(lt)}}function ue(I,J,he){let ve=0;return no(I,Ve,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Ve(et){return I.enter("codeFencedFence"),I.enter("codeFencedFenceSequence"),ot(et)}function ot(et){return et===f?(I.consume(et),ve++,ot):ve<l?he(et):(I.exit("codeFencedFenceSequence"),no(I,lt,"whitespace")(et))}function lt(et){return et===null||Yi(et)?(I.exit("codeFencedFence"),J(et)):he(et)}}}m();var lN={name:"codeIndented",tokenize:n5t},t5t={tokenize:r5t,partial:!0};function n5t(n,e,t){let r=this;return i;function i(f){return n.enter("codeIndented"),no(n,s,"linePrefix",4+1)(f)}function s(f){let p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(f):t(f)}function o(f){return f===null?l(f):Yi(f)?n.attempt(t5t,o,l)(f):(n.enter("codeFlowValue"),a(f))}function a(f){return f===null||Yi(f)?(n.exit("codeFlowValue"),o(f)):(n.consume(f),a)}function l(f){return n.exit("codeIndented"),e(f)}}function r5t(n,e,t){let r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):Yi(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):no(n,s,"linePrefix",4+1)(o)}function s(o){let a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Yi(o)?i(o):t(o)}}m();var zle={name:"codeText",tokenize:o5t,resolve:i5t,previous:s5t};function i5t(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function s5t(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function o5t(n,e,t){let r=this,i=0,s,o;return a;function a(E){return n.enter("codeText"),n.enter("codeTextSequence"),l(E)}function l(E){return E===96?(n.consume(E),i++,l):(n.exit("codeTextSequence"),f(E))}function f(E){return E===null?t(E):E===96?(o=n.enter("codeTextSequence"),s=0,_(E)):E===32?(n.enter("space"),n.consume(E),n.exit("space"),f):Yi(E)?(n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),f):(n.enter("codeTextData"),p(E))}function p(E){return E===null||E===32||E===96||Yi(E)?(n.exit("codeTextData"),f(E)):(n.consume(E),p)}function _(E){return E===96?(n.consume(E),s++,_):s===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(E)):(o.type="codeTextData",p(E))}}m();m();function KV(n){let e={},t=-1,r,i,s,o,a,l,f;for(;++t<n.length;){for(;t in e;)t=e[t];if(r=n[t],t&&r[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,a5t(n,t)),t=e[t],f=!0);else if(r[1]._container){for(s=t,i=void 0;s--&&(o=n[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(n[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},n[i][1].start),a=n.slice(i,t),a.unshift(r),s0(n,i,t-i+1,a))}}return!f}function a5t(n,e){let t=n[e][1],r=n[e][2],i=e-1,s=[],o=t._tokenizer||r.parser[t.contentType](t.start),a=o.events,l=[],f={},p,_,E=-1,O=t,R=0,q=0,z=[q];for(;O;){for(;n[++i][1]!==O;);s.push(i),O._tokenizer||(p=r.sliceStream(O),O.next||p.push(null),_&&o.defineSkip(O.start),O._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),O._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),_=O,O=O.next}for(O=t;++E<a.length;)a[E][0]==="exit"&&a[E-1][0]==="enter"&&a[E][1].type===a[E-1][1].type&&a[E][1].start.line!==a[E][1].end.line&&(q=E+1,z.push(q),O._tokenizer=void 0,O.previous=void 0,O=O.next);for(o.events=[],O?(O._tokenizer=void 0,O.previous=void 0):z.pop(),E=z.length;E--;){let L=a.slice(z[E],z[E+1]),B=s.pop();l.unshift([B,B+L.length-1]),s0(n,B,2,L)}for(E=-1;++E<l.length;)f[R+l[E][0]]=R+l[E][1],R+=l[E][1]-l[E][0]-1;return f}var Hle={tokenize:c5t,resolve:l5t},u5t={tokenize:f5t,partial:!0};function l5t(n){return KV(n),n}function c5t(n,e){let t;return r;function r(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Yi(a)?n.check(u5t,o,s)(a):(n.consume(a),i)}function s(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function f5t(n,e,t){let r=this;return i;function i(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),no(n,s,"linePrefix")}function s(o){if(o===null||Yi(o))return t(o);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):n.interrupt(r.parser.constructs.flow,t,e)(o)}}m();m();function JV(n,e,t,r,i,s,o,a,l){let f=l||Number.POSITIVE_INFINITY,p=0;return _;function _(L){return L===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(L),n.exit(s),E):L===null||L===41||aN(L)?t(L):(n.enter(r),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),q(L))}function E(L){return L===62?(n.enter(s),n.consume(L),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),O(L))}function O(L){return L===62?(n.exit("chunkString"),n.exit(a),E(L)):L===null||L===60||Yi(L)?t(L):(n.consume(L),L===92?R:O)}function R(L){return L===60||L===62||L===92?(n.consume(L),O):O(L)}function q(L){return L===40?++p>f?t(L):(n.consume(L),q):L===41?p--?(n.consume(L),q):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(L)):L===null||Dc(L)?p?t(L):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(L)):aN(L)?t(L):(n.consume(L),L===92?z:q)}function z(L){return L===40||L===41||L===92?(n.consume(L),q):q(L)}}m();function XV(n,e,t,r,i,s){let o=this,a=0,l;return f;function f(O){return n.enter(r),n.enter(i),n.consume(O),n.exit(i),n.enter(s),p}function p(O){return O===null||O===91||O===93&&!l||O===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?t(O):O===93?(n.exit(s),n.enter(i),n.consume(O),n.exit(i),n.exit(r),e):Yi(O)?(n.enter("lineEnding"),n.consume(O),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),_(O))}function _(O){return O===null||O===91||O===93||Yi(O)||a++>999?(n.exit("chunkString"),p(O)):(n.consume(O),l=l||!Ra(O),O===92?E:_)}function E(O){return O===91||O===92||O===93?(n.consume(O),a++,_):_(O)}}m();function ZV(n,e,t,r,i,s){let o;return a;function a(E){return n.enter(r),n.enter(i),n.consume(E),n.exit(i),o=E===40?41:E,l}function l(E){return E===o?(n.enter(i),n.consume(E),n.exit(i),n.exit(r),e):(n.enter(s),f(E))}function f(E){return E===o?(n.exit(s),l(o)):E===null?t(E):Yi(E)?(n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),no(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(E))}function p(E){return E===o||E===null||Yi(E)?(n.exit("chunkString"),f(E)):(n.consume(E),E===92?_:p)}function _(E){return E===o||E===92?(n.consume(E),p):p(E)}}m();function iE(n,e){let t;return r;function r(i){return Yi(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):Ra(i)?no(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}m();function Hy(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Vle={name:"definition",tokenize:h5t},d5t={tokenize:p5t,partial:!0};function h5t(n,e,t){let r=this,i;return s;function s(l){return n.enter("definition"),XV.call(r,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=Hy(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(n.enter("definitionMarker"),n.consume(l),n.exit("definitionMarker"),iE(n,JV(n,n.attempt(d5t,no(n,a,"whitespace"),no(n,a,"whitespace")),t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):t(l)}function a(l){return l===null||Yi(l)?(n.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):t(l)}}function p5t(n,e,t){return r;function r(o){return Dc(o)?iE(n,i)(o):t(o)}function i(o){return o===34||o===39||o===40?ZV(n,no(n,s,"whitespace"),t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):t(o)}function s(o){return o===null||Yi(o)?e(o):t(o)}}m();var Wle={name:"hardBreakEscape",tokenize:m5t};function m5t(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.enter("escapeMarker"),n.consume(s),i}function i(s){return Yi(s)?(n.exit("escapeMarker"),n.exit("hardBreakEscape"),e(s)):t(s)}}m();var Qle={name:"headingAtx",tokenize:g5t,resolve:x5t};function x5t(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},s0(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function g5t(n,e,t){let r=this,i=0;return s;function s(p){return n.enter("atxHeading"),n.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&i++<6?(n.consume(p),o):p===null||Dc(p)?(n.exit("atxHeadingSequence"),r.interrupt?e(p):a(p)):t(p)}function a(p){return p===35?(n.enter("atxHeadingSequence"),l(p)):p===null||Yi(p)?(n.exit("atxHeading"),e(p)):Ra(p)?no(n,a,"whitespace")(p):(n.enter("atxHeadingText"),f(p))}function l(p){return p===35?(n.consume(p),l):(n.exit("atxHeadingSequence"),a(p))}function f(p){return p===null||p===35||Dc(p)?(n.exit("atxHeadingText"),a(p)):(n.consume(p),f)}}m();m();var QRe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Gle=["pre","script","style","textarea"];var Yle={name:"htmlFlow",tokenize:_5t,resolveTo:v5t,concrete:!0},y5t={tokenize:b5t,partial:!0};function v5t(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function _5t(n,e,t){let r=this,i,s,o,a,l;return f;function f(pe){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(pe),p}function p(pe){return pe===33?(n.consume(pe),_):pe===47?(n.consume(pe),R):pe===63?(n.consume(pe),i=3,r.interrupt?e:ye):lp(pe)?(n.consume(pe),o=String.fromCharCode(pe),s=!0,q):t(pe)}function _(pe){return pe===45?(n.consume(pe),i=2,E):pe===91?(n.consume(pe),i=5,o="CDATA[",a=0,O):lp(pe)?(n.consume(pe),i=4,r.interrupt?e:ye):t(pe)}function E(pe){return pe===45?(n.consume(pe),r.interrupt?e:ye):t(pe)}function O(pe){return pe===o.charCodeAt(a++)?(n.consume(pe),a===o.length?r.interrupt?e:ot:O):t(pe)}function R(pe){return lp(pe)?(n.consume(pe),o=String.fromCharCode(pe),q):t(pe)}function q(pe){return pe===null||pe===47||pe===62||Dc(pe)?pe!==47&&s&&Gle.includes(o.toLowerCase())?(i=1,r.interrupt?e(pe):ot(pe)):QRe.includes(o.toLowerCase())?(i=6,pe===47?(n.consume(pe),z):r.interrupt?e(pe):ot(pe)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(pe):s?B(pe):L(pe)):pe===45||Pd(pe)?(n.consume(pe),o+=String.fromCharCode(pe),q):t(pe)}function z(pe){return pe===62?(n.consume(pe),r.interrupt?e:ot):t(pe)}function L(pe){return Ra(pe)?(n.consume(pe),L):ve(pe)}function B(pe){return pe===47?(n.consume(pe),ve):pe===58||pe===95||lp(pe)?(n.consume(pe),P):Ra(pe)?(n.consume(pe),B):ve(pe)}function P(pe){return pe===45||pe===46||pe===58||pe===95||Pd(pe)?(n.consume(pe),P):G(pe)}function G(pe){return pe===61?(n.consume(pe),ue):Ra(pe)?(n.consume(pe),G):B(pe)}function ue(pe){return pe===null||pe===60||pe===61||pe===62||pe===96?t(pe):pe===34||pe===39?(n.consume(pe),l=pe,I):Ra(pe)?(n.consume(pe),ue):(l=null,J(pe))}function I(pe){return pe===null||Yi(pe)?t(pe):pe===l?(n.consume(pe),he):(n.consume(pe),I)}function J(pe){return pe===null||pe===34||pe===39||pe===60||pe===61||pe===62||pe===96||Dc(pe)?G(pe):(n.consume(pe),J)}function he(pe){return pe===47||pe===62||Ra(pe)?B(pe):t(pe)}function ve(pe){return pe===62?(n.consume(pe),Ve):t(pe)}function Ve(pe){return Ra(pe)?(n.consume(pe),Ve):pe===null||Yi(pe)?ot(pe):t(pe)}function ot(pe){return pe===45&&i===2?(n.consume(pe),Pt):pe===60&&i===1?(n.consume(pe),$e):pe===62&&i===4?(n.consume(pe),Le):pe===63&&i===3?(n.consume(pe),ye):pe===93&&i===5?(n.consume(pe),Ze):Yi(pe)&&(i===6||i===7)?n.check(y5t,Le,lt)(pe):pe===null||Yi(pe)?lt(pe):(n.consume(pe),ot)}function lt(pe){return n.exit("htmlFlowData"),et(pe)}function et(pe){return pe===null?Ce(pe):Yi(pe)?n.attempt({tokenize:bt,partial:!0},et,Ce)(pe):(n.enter("htmlFlowData"),ot(pe))}function bt(pe,Je,ut){return Ht;function Ht(xn){return pe.enter("lineEnding"),pe.consume(xn),pe.exit("lineEnding"),Ct}function Ct(xn){return r.parser.lazy[r.now().line]?ut(xn):Je(xn)}}function Pt(pe){return pe===45?(n.consume(pe),ye):ot(pe)}function $e(pe){return pe===47?(n.consume(pe),o="",te):ot(pe)}function te(pe){return pe===62&&Gle.includes(o.toLowerCase())?(n.consume(pe),Le):lp(pe)&&o.length<8?(n.consume(pe),o+=String.fromCharCode(pe),te):ot(pe)}function Ze(pe){return pe===93?(n.consume(pe),ye):ot(pe)}function ye(pe){return pe===62?(n.consume(pe),Le):pe===45&&i===2?(n.consume(pe),ye):ot(pe)}function Le(pe){return pe===null||Yi(pe)?(n.exit("htmlFlowData"),Ce(pe)):(n.consume(pe),Le)}function Ce(pe){return n.exit("htmlFlow"),e(pe)}}function b5t(n,e,t){return r;function r(i){return n.exit("htmlFlowData"),n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),n.attempt(P4,e,t)}}m();var Kle={name:"htmlText",tokenize:E5t};function E5t(n,e,t){let r=this,i,s,o,a;return l;function l(Ce){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(Ce),f}function f(Ce){return Ce===33?(n.consume(Ce),p):Ce===47?(n.consume(Ce),J):Ce===63?(n.consume(Ce),ue):lp(Ce)?(n.consume(Ce),Ve):t(Ce)}function p(Ce){return Ce===45?(n.consume(Ce),_):Ce===91?(n.consume(Ce),s="CDATA[",o=0,z):lp(Ce)?(n.consume(Ce),G):t(Ce)}function _(Ce){return Ce===45?(n.consume(Ce),E):t(Ce)}function E(Ce){return Ce===null||Ce===62?t(Ce):Ce===45?(n.consume(Ce),O):R(Ce)}function O(Ce){return Ce===null||Ce===62?t(Ce):R(Ce)}function R(Ce){return Ce===null?t(Ce):Ce===45?(n.consume(Ce),q):Yi(Ce)?(a=R,Ze(Ce)):(n.consume(Ce),R)}function q(Ce){return Ce===45?(n.consume(Ce),Le):R(Ce)}function z(Ce){return Ce===s.charCodeAt(o++)?(n.consume(Ce),o===s.length?L:z):t(Ce)}function L(Ce){return Ce===null?t(Ce):Ce===93?(n.consume(Ce),B):Yi(Ce)?(a=L,Ze(Ce)):(n.consume(Ce),L)}function B(Ce){return Ce===93?(n.consume(Ce),P):L(Ce)}function P(Ce){return Ce===62?Le(Ce):Ce===93?(n.consume(Ce),P):L(Ce)}function G(Ce){return Ce===null||Ce===62?Le(Ce):Yi(Ce)?(a=G,Ze(Ce)):(n.consume(Ce),G)}function ue(Ce){return Ce===null?t(Ce):Ce===63?(n.consume(Ce),I):Yi(Ce)?(a=ue,Ze(Ce)):(n.consume(Ce),ue)}function I(Ce){return Ce===62?Le(Ce):ue(Ce)}function J(Ce){return lp(Ce)?(n.consume(Ce),he):t(Ce)}function he(Ce){return Ce===45||Pd(Ce)?(n.consume(Ce),he):ve(Ce)}function ve(Ce){return Yi(Ce)?(a=ve,Ze(Ce)):Ra(Ce)?(n.consume(Ce),ve):Le(Ce)}function Ve(Ce){return Ce===45||Pd(Ce)?(n.consume(Ce),Ve):Ce===47||Ce===62||Dc(Ce)?ot(Ce):t(Ce)}function ot(Ce){return Ce===47?(n.consume(Ce),Le):Ce===58||Ce===95||lp(Ce)?(n.consume(Ce),lt):Yi(Ce)?(a=ot,Ze(Ce)):Ra(Ce)?(n.consume(Ce),ot):Le(Ce)}function lt(Ce){return Ce===45||Ce===46||Ce===58||Ce===95||Pd(Ce)?(n.consume(Ce),lt):et(Ce)}function et(Ce){return Ce===61?(n.consume(Ce),bt):Yi(Ce)?(a=et,Ze(Ce)):Ra(Ce)?(n.consume(Ce),et):ot(Ce)}function bt(Ce){return Ce===null||Ce===60||Ce===61||Ce===62||Ce===96?t(Ce):Ce===34||Ce===39?(n.consume(Ce),i=Ce,Pt):Yi(Ce)?(a=bt,Ze(Ce)):Ra(Ce)?(n.consume(Ce),bt):(n.consume(Ce),i=void 0,te)}function Pt(Ce){return Ce===i?(n.consume(Ce),$e):Ce===null?t(Ce):Yi(Ce)?(a=Pt,Ze(Ce)):(n.consume(Ce),Pt)}function $e(Ce){return Ce===62||Ce===47||Dc(Ce)?ot(Ce):t(Ce)}function te(Ce){return Ce===null||Ce===34||Ce===39||Ce===60||Ce===61||Ce===96?t(Ce):Ce===62||Dc(Ce)?ot(Ce):(n.consume(Ce),te)}function Ze(Ce){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(Ce),n.exit("lineEnding"),no(n,ye,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ye(Ce){return n.enter("htmlTextData"),a(Ce)}function Le(Ce){return Ce===62?(n.consume(Ce),n.exit("htmlTextData"),n.exit("htmlText"),e):t(Ce)}}m();var sE={name:"labelEnd",tokenize:F5t,resolveTo:T5t,resolveAll:A5t},S5t={tokenize:D5t},w5t={tokenize:O5t},C5t={tokenize:R5t};function A5t(n){let e=-1,t;for(;++e<n.length;)t=n[e][1],(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++);return n}function T5t(n,e){let t=n.length,r=0,i,s,o,a;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);let l={type:n[s][1].type==="labelLink"?"link":"image",start:Object.assign({},n[s][1].start),end:Object.assign({},n[n.length-1][1].end)},f={type:"label",start:Object.assign({},n[s][1].start),end:Object.assign({},n[o][1].end)},p={type:"labelText",start:Object.assign({},n[s+r+2][1].end),end:Object.assign({},n[o-2][1].start)};return a=[["enter",l,e],["enter",f,e]],a=Md(a,n.slice(s+1,s+r+3)),a=Md(a,[["enter",p,e]]),a=Md(a,u9(e.parser.constructs.insideSpan.null,n.slice(s+r+4,o-3),e)),a=Md(a,[["exit",p,e],n[o-2],n[o-1],["exit",f,e]]),a=Md(a,n.slice(o+1)),a=Md(a,[["exit",l,e]]),s0(n,s,n.length,a),n}function F5t(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(Hy(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelEnd"),l):t(p)}function l(p){return p===40?n.attempt(S5t,e,o?e:f)(p):p===91?n.attempt(w5t,e,o?n.attempt(C5t,e,f):f)(p):o?e(p):f(p)}function f(p){return s._balanced=!0,t(p)}}function D5t(n,e,t){return r;function r(l){return n.enter("resource"),n.enter("resourceMarker"),n.consume(l),n.exit("resourceMarker"),iE(n,i)}function i(l){return l===41?a(l):JV(n,s,t,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return Dc(l)?iE(n,o)(l):a(l)}function o(l){return l===34||l===39||l===40?ZV(n,iE(n,a),t,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(n.enter("resourceMarker"),n.consume(l),n.exit("resourceMarker"),n.exit("resource"),e):t(l)}}function O5t(n,e,t){let r=this;return i;function i(o){return XV.call(r,n,s,t,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Hy(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):t(o)}}function R5t(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}m();var Jle={name:"labelStartImage",tokenize:N5t,resolveAll:sE.resolveAll};function N5t(n,e,t){let r=this;return i;function i(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),s}function s(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}m();var Xle={name:"labelStartLink",tokenize:L5t,resolveAll:sE.resolveAll};function L5t(n,e,t){let r=this;return i;function i(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}m();var cN={name:"lineEnding",tokenize:k5t};function k5t(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),no(n,e,"linePrefix")}}m();m();var oE={name:"thematicBreak",tokenize:I5t};function I5t(n,e,t){let r=0,i;return s;function s(l){return n.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(n.enter("thematicBreakSequence"),a(l)):Ra(l)?no(n,o,"whitespace")(l):r<3||l!==null&&!Yi(l)?t(l):(n.exit("thematicBreak"),e(l))}function a(l){return l===i?(n.consume(l),r++,a):(n.exit("thematicBreakSequence"),o(l))}}var H0={name:"list",tokenize:B5t,continuation:{tokenize:j5t},exit:U5t},M5t={tokenize:$5t,partial:!0},P5t={tokenize:q5t,partial:!0};function B5t(n,e,t){let r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(O){let R=r.containerState.type||(O===42||O===43||O===45?"listUnordered":"listOrdered");if(R==="listUnordered"?!r.containerState.marker||O===r.containerState.marker:oN(O)){if(r.containerState.type||(r.containerState.type=R,n.enter(R,{_container:!0})),R==="listUnordered")return n.enter("listItemPrefix"),O===42||O===45?n.check(oE,t,f)(O):f(O);if(!r.interrupt||O===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(O)}return t(O)}function l(O){return oN(O)&&++o<10?(n.consume(O),l):(!r.interrupt||o<2)&&(r.containerState.marker?O===r.containerState.marker:O===41||O===46)?(n.exit("listItemValue"),f(O)):t(O)}function f(O){return n.enter("listItemMarker"),n.consume(O),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||O,n.check(P4,r.interrupt?t:p,n.attempt(M5t,E,_))}function p(O){return r.containerState.initialBlankLine=!0,s++,E(O)}function _(O){return Ra(O)?(n.enter("listItemPrefixWhitespace"),n.consume(O),n.exit("listItemPrefixWhitespace"),E):t(O)}function E(O){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(O)}}function j5t(n,e,t){let r=this;return r.containerState._closeFlow=void 0,n.check(P4,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,no(n,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ra(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(P5t,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,no(n,n.attempt(H0,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function q5t(n,e,t){let r=this;return no(n,i,"listItemIndent",r.containerState.size+1);function i(s){let o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):t(s)}}function U5t(n){n.exit(this.containerState.type)}function $5t(n,e,t){let r=this;return no(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){let o=r.events[r.events.length-1];return!Ra(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}m();var eW={name:"setextUnderline",tokenize:H5t,resolveTo:z5t};function z5t(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);let o={type:"setextHeading",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",o,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end=Object.assign({},n[s][1].end)):n[r][1]=o,n.push(["exit",o,e]),n}function H5t(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(p){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(n.enter("setextHeadingLine"),n.enter("setextHeadingLineSequence"),s=p,l(p)):t(p)}function l(p){return p===s?(n.consume(p),l):(n.exit("setextHeadingLineSequence"),no(n,f,"lineSuffix")(p))}function f(p){return p===null||Yi(p)?(n.exit("setextHeadingLine"),e(p)):t(p)}}var GRe={tokenize:V5t};function V5t(n){let e=this,t=n.attempt(P4,r,n.attempt(this.parser.constructs.flowInitial,i,no(n,n.attempt(this.parser.constructs.flow,i,n.attempt(Hle,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}m();var YRe={resolveAll:ZRe()},KRe=XRe("string"),JRe=XRe("text");function XRe(n){return{tokenize:e,resolveAll:ZRe(n==="text"?W5t:void 0)};function e(t){let r=this,i=this.parser.constructs[n],s=t.attempt(i,o,a);return o;function o(p){return f(p)?s(p):a(p)}function a(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),l}function l(p){return f(p)?(t.exit("data"),s(p)):(t.consume(p),l)}function f(p){if(p===null)return!0;let _=i[p],E=-1;if(_)for(;++E<_.length;){let O=_[E];if(!O.previous||O.previous.call(r,r.previous))return!0}return!1}}}function ZRe(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function W5t(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){let r=n[t-1][1],i=e.sliceStream(r),s=i.length,o=-1,a=0,l;for(;s--;){let f=i[s];if(typeof f=="string"){for(o=f.length;f.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(f===-2)l=!0,a++;else if(f!==-1){s++;break}}if(a){let f={type:t===n.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},f.start),r.start.offset===r.end.offset?Object.assign(r,f):(n.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return n}m();function eNe(n,e,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},s=[],o=[],a=[],l=!0,f={consume:G,enter:ue,exit:I,attempt:ve(J),check:ve(he),interrupt:ve(he,{interrupt:!0})},p={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:q,sliceSerialize:R,now:z,defineSkip:L,write:O},_=e.tokenize.call(p,f),E;return e.resolveAll&&s.push(e),p;function O(et){return o=Md(o,et),B(),o[o.length-1]!==null?[]:(Ve(e,0),p.events=u9(s,p.events,p),p.events)}function R(et,bt){return G5t(q(et),bt)}function q(et){return Q5t(o,et)}function z(){return Object.assign({},r)}function L(et){i[et.line]=et.column,lt()}function B(){let et;for(;r._index<o.length;){let bt=o[r._index];if(typeof bt=="string")for(et=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===et&&r._bufferIndex<bt.length;)P(bt.charCodeAt(r._bufferIndex));else P(bt)}}function P(et){l=void 0,E=et,_=_(et)}function G(et){Yi(et)?(r.line++,r.column=1,r.offset+=et===-3?2:1,lt()):et!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=et,l=!0}function ue(et,bt){let Pt=bt||{};return Pt.type=et,Pt.start=z(),p.events.push(["enter",Pt,p]),a.push(Pt),Pt}function I(et){let bt=a.pop();return bt.end=z(),p.events.push(["exit",bt,p]),bt}function J(et,bt){Ve(et,bt.from)}function he(et,bt){bt.restore()}function ve(et,bt){return Pt;function Pt($e,te,Ze){let ye,Le,Ce,pe;return Array.isArray($e)?ut($e):"tokenize"in $e?ut([$e]):Je($e);function Je(Tt){return Ot;function Ot(rn){let St=rn!==null&&Tt[rn],_e=rn!==null&&Tt.null,ke=[...Array.isArray(St)?St:St?[St]:[],...Array.isArray(_e)?_e:_e?[_e]:[]];return ut(ke)(rn)}}function ut(Tt){return ye=Tt,Le=0,Tt.length===0?Ze:Ht(Tt[Le])}function Ht(Tt){return Ot;function Ot(rn){return pe=ot(),Ce=Tt,Tt.partial||(p.currentConstruct=Tt),Tt.name&&p.parser.constructs.disable.null.includes(Tt.name)?xn(rn):Tt.tokenize.call(bt?Object.assign(Object.create(p),bt):p,f,Ct,xn)(rn)}}function Ct(Tt){return l=!0,et(Ce,pe),te}function xn(Tt){return l=!0,pe.restore(),++Le<ye.length?Ht(ye[Le]):Ze}}}function Ve(et,bt){et.resolveAll&&!s.includes(et)&&s.push(et),et.resolve&&s0(p.events,bt,p.events.length-bt,et.resolve(p.events.slice(bt),p)),et.resolveTo&&(p.events=et.resolveTo(p.events,p))}function ot(){let et=z(),bt=p.previous,Pt=p.currentConstruct,$e=p.events.length,te=Array.from(a);return{restore:Ze,from:$e};function Ze(){r=et,p.previous=bt,p.currentConstruct=Pt,p.events.length=$e,a=te,lt()}}function lt(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Q5t(n,e){let t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex,o;return t===i?o=[n[t].slice(r,s)]:(o=n.slice(t,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(n[i].slice(0,s))),o}function G5t(n,e){let t=-1,r=[],i;for(;++t<n.length;){let s=n[t],o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}var Zle={};DG(Zle,{attentionMarkers:()=>nvt,contentInitial:()=>K5t,disable:()=>rvt,document:()=>Y5t,flow:()=>X5t,flowInitial:()=>J5t,insideSpan:()=>tvt,string:()=>Z5t,text:()=>evt});m();var Y5t={[42]:H0,[43]:H0,[45]:H0,[48]:H0,[49]:H0,[50]:H0,[51]:H0,[52]:H0,[53]:H0,[54]:H0,[55]:H0,[56]:H0,[57]:H0,[62]:WV},K5t={[91]:Vle},J5t={[-2]:lN,[-1]:lN,[32]:lN},X5t={[35]:Qle,[42]:oE,[45]:[eW,oE],[60]:Yle,[61]:eW,[95]:oE,[96]:YV,[126]:YV},Z5t={[38]:GV,[92]:QV},evt={[-5]:cN,[-4]:cN,[-3]:cN,[33]:Jle,[38]:GV,[42]:uN,[60]:[$le,Kle],[91]:Xle,[92]:[Wle,QV],[93]:sE,[95]:uN,[96]:zle},tvt={null:[uN,YRe]},nvt={null:[42,95]},rvt={null:[]};function tNe(n={}){let e=MRe([Zle].concat(n.extensions||[])),t={defined:[],lazy:{},constructs:e,content:r($Re),document:r(zRe),flow:r(GRe),string:r(KRe),text:r(JRe)};return t;function r(i){return s;function s(o){return eNe(t,i,o)}}}m();var nNe=/[\0\t\n\r]/g;function rNe(){let n=1,e="",t=!0,r;return i;function i(s,o,a){let l=[],f,p,_,E,O;for(s=e+s.toString(o),_=0,e="",t&&(s.charCodeAt(0)===65279&&_++,t=void 0);_<s.length;){if(nNe.lastIndex=_,f=nNe.exec(s),E=f&&f.index!==void 0?f.index:s.length,O=s.charCodeAt(E),!f){e=s.slice(_);break}if(O===10&&_===E&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),_<E&&(l.push(s.slice(_,E)),n+=E-_),O){case 0:{l.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,l.push(-2);n++<p;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:r=!0,n=1}_=E+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}m();function iNe(n){for(;!KV(n););return n}m();function tW(n,e){let t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}m();var ivt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function sNe(n){return n.replace(ivt,svt)}function svt(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){let i=t.charCodeAt(1),s=i===120||i===88;return tW(t.slice(s?2:1),s?16:10)}return l9(t)||n}var ece={}.hasOwnProperty,tce=function(n,e,t){return typeof e!="string"&&(t=e,e=void 0),ovt(t)(iNe(tNe(t).document().write(rNe()(n,e,!0))))};function ovt(n={}){let e=oNe({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(_t),autolinkProtocol:lt,autolinkEmail:lt,atxHeading:l(Ie),blockQuote:l(_e),characterEscape:lt,characterReference:lt,codeFenced:l(ke),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:l(ke,f),codeText:l(Se,f),codeTextData:lt,data:lt,codeFlowValue:lt,definition:l(ce),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:l(tt),hardBreakEscape:l(re),hardBreakTrailing:l(re),htmlFlow:l(Ne,f),htmlFlowData:lt,htmlText:l(Ne,f),htmlTextData:lt,image:l(ct),label:f,link:l(_t),listItem:l(Yt),listItemValue:q,listOrdered:l(Lt,R),listUnordered:l(Lt),paragraph:l(Gt),reference:Ct,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:l(Ie),strong:l(fn),thematicBreak:l(yn)},exit:{atxHeading:_(),atxHeadingSequence:he,autolink:_(),autolinkEmail:St,autolinkProtocol:rn,blockQuote:_(),characterEscapeValue:et,characterReferenceMarkerHexadecimal:Tt,characterReferenceMarkerNumeric:Tt,characterReferenceValue:Ot,codeFenced:_(P),codeFencedFence:B,codeFencedFenceInfo:z,codeFencedFenceMeta:L,codeFlowValue:et,codeIndented:_(G),codeText:_(Ze),codeTextData:et,data:et,definition:_(),definitionDestinationString:J,definitionLabelString:ue,definitionTitleString:I,emphasis:_(),hardBreakEscape:_(Pt),hardBreakTrailing:_(Pt),htmlFlow:_($e),htmlFlowData:et,htmlText:_(te),htmlTextData:et,image:_(Le),label:pe,labelText:Ce,lineEnding:bt,link:_(ye),listItem:_(),listOrdered:_(),listUnordered:_(),paragraph:_(),referenceString:xn,resourceDestinationString:Je,resourceTitleString:ut,resource:Ht,setextHeading:_(ot),setextHeadingLineSequence:Ve,setextHeadingText:ve,strong:_(),thematicBreak:_()}},n.mdastExtensions||[]),t={};return r;function r(It){let un={type:"root",children:[]},Mn=[un],tr=[],Rn=[],Re={stack:Mn,tokenStack:tr,config:e,enter:p,exit:E,buffer:f,resume:O,setData:s,getData:o},He=-1;for(;++He<It.length;)if(It[He][1].type==="listOrdered"||It[He][1].type==="listUnordered")if(It[He][0]==="enter")Rn.push(He);else{let De=Rn.pop();He=i(It,De,He)}for(He=-1;++He<It.length;){let De=e[It[He][0]];ece.call(De,It[He][1].type)&&De[It[He][1].type].call(Object.assign({sliceSerialize:It[He][2].sliceSerialize},Re),It[He][1])}if(tr.length>0){let De=tr[tr.length-1];(De[1]||aNe).call(Re,void 0,De[0])}for(un.position={start:a(It.length>0?It[0][1].start:{line:1,column:1,offset:0}),end:a(It.length>0?It[It.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<e.transforms.length;)un=e.transforms[He](un)||un;return un}function i(It,un,Mn){let tr=un-1,Rn=-1,Re=!1,He,De,Bt,pt;for(;++tr<=Mn;){let mt=It[tr];if(mt[1].type==="listUnordered"||mt[1].type==="listOrdered"||mt[1].type==="blockQuote"?(mt[0]==="enter"?Rn++:Rn--,pt=void 0):mt[1].type==="lineEndingBlank"?mt[0]==="enter"&&(He&&!pt&&!Rn&&!Bt&&(Bt=tr),pt=void 0):mt[1].type==="linePrefix"||mt[1].type==="listItemValue"||mt[1].type==="listItemMarker"||mt[1].type==="listItemPrefix"||mt[1].type==="listItemPrefixWhitespace"||(pt=void 0),!Rn&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||Rn===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if(He){let nn=tr;for(De=void 0;nn--;){let Qt=It[nn];if(Qt[1].type==="lineEnding"||Qt[1].type==="lineEndingBlank"){if(Qt[0]==="exit")continue;De&&(It[De][1].type="lineEndingBlank",Re=!0),Qt[1].type="lineEnding",De=nn}else if(!(Qt[1].type==="linePrefix"||Qt[1].type==="blockQuotePrefix"||Qt[1].type==="blockQuotePrefixWhitespace"||Qt[1].type==="blockQuoteMarker"||Qt[1].type==="listItemIndent"))break}Bt&&(!De||Bt<De)&&(He._spread=!0),He.end=Object.assign({},De?It[De][1].start:mt[1].end),It.splice(De||tr,0,["exit",He,mt[2]]),tr++,Mn++}mt[1].type==="listItemPrefix"&&(He={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start)},It.splice(tr,0,["enter",He,mt[2]]),tr++,Mn++,Bt=void 0,pt=!0)}}return It[un][1]._spread=Re,Mn}function s(It,un){t[It]=un}function o(It){return t[It]}function a(It){return{line:It.line,column:It.column,offset:It.offset}}function l(It,un){return Mn;function Mn(tr){p.call(this,It(tr),tr),un&&un.call(this,tr)}}function f(){this.stack.push({type:"fragment",children:[]})}function p(It,un,Mn){return this.stack[this.stack.length-1].children.push(It),this.stack.push(It),this.tokenStack.push([un,Mn]),It.position={start:a(un.start)},It}function _(It){return un;function un(Mn){It&&It.call(this,Mn),E.call(this,Mn)}}function E(It,un){let Mn=this.stack.pop(),tr=this.tokenStack.pop();if(tr)tr[0].type!==It.type&&(un?un.call(this,It,tr[0]):(tr[1]||aNe).call(this,It,tr[0]));else throw new Error("Cannot close `"+It.type+"` ("+rE({start:It.start,end:It.end})+"): it\u2019s not open");return Mn.position.end=a(It.end),Mn}function O(){return NRe(this.stack.pop())}function R(){s("expectingFirstListItemValue",!0)}function q(It){if(o("expectingFirstListItemValue")){let un=this.stack[this.stack.length-2];un.start=Number.parseInt(this.sliceSerialize(It),10),s("expectingFirstListItemValue")}}function z(){let It=this.resume(),un=this.stack[this.stack.length-1];un.lang=It}function L(){let It=this.resume(),un=this.stack[this.stack.length-1];un.meta=It}function B(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function P(){let It=this.resume(),un=this.stack[this.stack.length-1];un.value=It.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function G(){let It=this.resume(),un=this.stack[this.stack.length-1];un.value=It.replace(/(\r?\n|\r)$/g,"")}function ue(It){let un=this.resume(),Mn=this.stack[this.stack.length-1];Mn.label=un,Mn.identifier=Hy(this.sliceSerialize(It)).toLowerCase()}function I(){let It=this.resume(),un=this.stack[this.stack.length-1];un.title=It}function J(){let It=this.resume(),un=this.stack[this.stack.length-1];un.url=It}function he(It){let un=this.stack[this.stack.length-1];if(!un.depth){let Mn=this.sliceSerialize(It).length;un.depth=Mn}}function ve(){s("setextHeadingSlurpLineEnding",!0)}function Ve(It){let un=this.stack[this.stack.length-1];un.depth=this.sliceSerialize(It).charCodeAt(0)===61?1:2}function ot(){s("setextHeadingSlurpLineEnding")}function lt(It){let un=this.stack[this.stack.length-1],Mn=un.children[un.children.length-1];(!Mn||Mn.type!=="text")&&(Mn=gn(),Mn.position={start:a(It.start)},un.children.push(Mn)),this.stack.push(Mn)}function et(It){let un=this.stack.pop();un.value+=this.sliceSerialize(It),un.position.end=a(It.end)}function bt(It){let un=this.stack[this.stack.length-1];if(o("atHardBreak")){let Mn=un.children[un.children.length-1];Mn.position.end=a(It.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(un.type)&&(lt.call(this,It),et.call(this,It))}function Pt(){s("atHardBreak",!0)}function $e(){let It=this.resume(),un=this.stack[this.stack.length-1];un.value=It}function te(){let It=this.resume(),un=this.stack[this.stack.length-1];un.value=It}function Ze(){let It=this.resume(),un=this.stack[this.stack.length-1];un.value=It}function ye(){let It=this.stack[this.stack.length-1];o("inReference")?(It.type+="Reference",It.referenceType=o("referenceType")||"shortcut",delete It.url,delete It.title):(delete It.identifier,delete It.label),s("referenceType")}function Le(){let It=this.stack[this.stack.length-1];o("inReference")?(It.type+="Reference",It.referenceType=o("referenceType")||"shortcut",delete It.url,delete It.title):(delete It.identifier,delete It.label),s("referenceType")}function Ce(It){let un=this.stack[this.stack.length-2],Mn=this.sliceSerialize(It);un.label=sNe(Mn),un.identifier=Hy(Mn).toLowerCase()}function pe(){let It=this.stack[this.stack.length-1],un=this.resume(),Mn=this.stack[this.stack.length-1];s("inReference",!0),Mn.type==="link"?Mn.children=It.children:Mn.alt=un}function Je(){let It=this.resume(),un=this.stack[this.stack.length-1];un.url=It}function ut(){let It=this.resume(),un=this.stack[this.stack.length-1];un.title=It}function Ht(){s("inReference")}function Ct(){s("referenceType","collapsed")}function xn(It){let un=this.resume(),Mn=this.stack[this.stack.length-1];Mn.label=un,Mn.identifier=Hy(this.sliceSerialize(It)).toLowerCase(),s("referenceType","full")}function Tt(It){s("characterReferenceType",It.type)}function Ot(It){let un=this.sliceSerialize(It),Mn=o("characterReferenceType"),tr;Mn?(tr=tW(un,Mn==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):tr=l9(un);let Rn=this.stack.pop();Rn.value+=tr,Rn.position.end=a(It.end)}function rn(It){et.call(this,It);let un=this.stack[this.stack.length-1];un.url=this.sliceSerialize(It)}function St(It){et.call(this,It);let un=this.stack[this.stack.length-1];un.url="mailto:"+this.sliceSerialize(It)}function _e(){return{type:"blockquote",children:[]}}function ke(){return{type:"code",lang:null,meta:null,value:""}}function Se(){return{type:"inlineCode",value:""}}function ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function tt(){return{type:"emphasis",children:[]}}function Ie(){return{type:"heading",depth:void 0,children:[]}}function re(){return{type:"break"}}function Ne(){return{type:"html",value:""}}function ct(){return{type:"image",title:null,url:"",alt:null}}function _t(){return{type:"link",title:null,url:"",children:[]}}function Lt(It){return{type:"list",ordered:It.type==="listOrdered",start:null,spread:It._spread,children:[]}}function Yt(It){return{type:"listItem",spread:It._spread,checked:null,children:[]}}function Gt(){return{type:"paragraph",children:[]}}function fn(){return{type:"strong",children:[]}}function gn(){return{type:"text",value:""}}function yn(){return{type:"thematicBreak"}}}function oNe(n,e){let t=-1;for(;++t<e.length;){let r=e[t];Array.isArray(r)?oNe(n,r):avt(n,r)}return n}function avt(n,e){let t;for(t in e)if(ece.call(e,t)){let r=t==="canContainEols"||t==="transforms",s=(ece.call(n,t)?n[t]:void 0)||(n[t]=r?[]:{}),o=e[t];o&&(r?n[t]=[...s,...o]:Object.assign(s,o))}}function aNe(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+rE({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+rE({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+rE({start:e.start,end:e.end})+") is still open")}function nce(n){Object.assign(this,{Parser:t=>{let r=this.data("settings");return tce(t,Object.assign({},r,n,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var uNe=nce;var TIe=dr(CIe());m();var Sce=/\s*([a-zA-Z\d-]+)(\s+([\s\S]*))?\s*/,S6t=new RegExp("(\\s*\\/\\*"+Sce.source+"\\*\\/\\s*)"),w6t=new RegExp("(\\s*<!--"+Sce.source+"-->\\s*)");function AIe(n){if(A6t(n)&&(n.type==="html"||n.type==="comment"||n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")){let e=2,t;if(n.type==="comment"?(t=n.value.match(Sce),e=1):n.type==="html"?t=n.value.match(w6t):(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")&&(t=n.value.match(S6t)),t&&t[0].length===n.value.length){let r=C6t(t[e+1]||"");if(r)return{name:t[e],attributes:(t[e+2]||"").trim(),parameters:r,node:n}}}return null}function C6t(n){let e={};return n.replace(/\s+([-\w]+)(?:=(?:"((?:\\[\s\S]|[^"])+)"|'((?:\\[\s\S]|[^'])+)'|((?:\\[\s\S]|[^"'\s])+)))?/gi,t).replace(/\s+/g,"")?null:e;function t(r,i,s,o,a){let l=s||o||a||"";return l==="true"||l===""?l=!0:l==="false"?l=!1:Number.isNaN(Number(l))||(l=Number(l)),e[i]=l,""}}function A6t(n){return Boolean(n&&typeof n=="object"&&"type"in n)}function FIe(n){let e=Mle().use(uNe).use(TIe.default).use(T6t),t=e.parse(n);return e.runSync(t)}function B1(n,e){return n.parameters?.[e]?.toString()}var T6t=()=>{let n,e;function t(r){function i(s){let o=s;if(o.type==="html"){let a=AIe(o);if(a)if(a.name==="malloy-set-model")e=B1(a,"model");else if(a.name==="malloy-query")n=a;else{if(a.name==="malloy-source")return{source:B1(a,"source"),description:B1(a,"description"),model:B1(a,"model"),title:B1(a,"title"),type:"malloySourceLink"};if(a.name==="malloy-app")return{name:B1(a,"name"),description:B1(a,"description"),appId:B1(a,"app"),type:"malloyAppLink"}}return o}else{if("children"in o)return{...o,children:o.children.map(a=>i(a))};if(o.type==="code"){let a=n;return a?(n=void 0,{model:B1(a,"model")||e,query:o.value,name:B1(a,"name"),description:B1(a,"description"),renderer:B1(a,"renderer"),type:"malloyQueryLink"}):o}else return o}}return i(r)}return t};m();var lE=dr(Fr()),DIe=n=>lE.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},lE.createElement("title",null,"source_view"),lE.createElement("g",{id:"source_view",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},lE.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",fill:"#4285F4"}),lE.createElement("text",{id:"VIEW",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF"},lE.createElement("tspan",{x:75.312,y:74.5},"QUERY"))));m();var cE=dr(Fr()),OIe=n=>cE.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},cE.createElement("title",null,"source_view"),cE.createElement("g",{id:"source_view",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},cE.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",fill:"#4285F4"}),cE.createElement("text",{id:"VIEW",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF"},cE.createElement("tspan",{x:98.312,y:74.5},"VIEW"))));var dN=({content:n,loadQueryLink:e,loadApp:t,loadSource:r})=>{let i=FIe(n);return v.createElement(RIe,{node:i,loadQueryLink:e,loadApp:t,loadSource:r})},RIe=({node:n,loadQueryLink:e,loadApp:t,loadSource:r})=>{let i=s=>v.createElement(F6t,{nodes:s.children,loadQueryLink:e,loadApp:t,loadSource:r});switch(n.type){case"root":return v.createElement(B6t,null,v.createElement(j6t,null,i(n)));case"heading":switch(n.depth){case 1:return v.createElement(N6t,null,i(n));case 2:return v.createElement(L6t,null,i(n));case 3:return v.createElement(k6t,null,i(n));case 4:return v.createElement(I6t,null,i(n));case 5:return v.createElement(M6t,null,i(n));case 6:return v.createElement(P6t,null,i(n))}return v.createElement("div",null);case"text":return v.createElement("span",null,n.value);case"strong":return v.createElement("b",null,i(n));case"paragraph":return v.createElement(U6t,null,i(n));case"link":return v.createElement(q6t,{href:n.url},i(n),n.title);case"emphasis":return v.createElement("i",null,i(n));case"blockquote":return v.createElement("blockquote",null,i(n));case"break":return v.createElement("br",null);case"code":return v.createElement(D6t,{code:n.value,language:n.lang});case"delete":return v.createElement("del",null,i(n));case"html":return v.createElement("span",null);case"image":return v.createElement("img",{src:n.url,alt:n.alt,title:n.title??void 0});case"inlineCode":return v.createElement("code",null,n.value);case"listItem":return v.createElement("li",null,i(n));case"list":return v.createElement("ul",null,i(n));case"table":return v.createElement(O6t,{align:n.align},v.createElement("tbody",null,i(n)));case"tableRow":return v.createElement("tr",null,i(n));case"tableCell":return v.createElement(R6t,null,i(n));case"thematicBreak":return v.createElement("hr",null);case"malloyQueryLink":return v.createElement(Cce,{onClick:()=>{e(n.model,n.query,n.name,n.renderer)}},v.createElement(wce,null,v.createElement(Ace,null,n.name),v.createElement(Tce,null,n.description)),v.createElement(zV,{width:"80",height:"22"}));case"malloyAppLink":return v.createElement(Cce,{onClick:()=>{t(n.appId)}},v.createElement(wce,null,v.createElement(Ace,null,n.name),v.createElement(Tce,null,n.description)),v.createElement(OIe,{width:"80",height:"22"}));case"malloySourceLink":return v.createElement(Cce,{onClick:()=>{r(n.model,n.source)}},v.createElement(wce,null,v.createElement(Ace,null,n.title),v.createElement(Tce,null,n.description)),v.createElement(DIe,{width:"80",height:"22"}))}},F6t=({nodes:n,loadQueryLink:e,loadApp:t,loadSource:r})=>v.createElement(v.Fragment,null,n.map((i,s)=>v.createElement(RIe,{node:i,key:s,loadQueryLink:e,loadApp:t,loadSource:r}))),D6t=({code:n,language:e})=>{let[t,r]=(0,cW.useState)();return(0,cW.useEffect)(()=>{N_(n,e).then(r)},[n,e]),t?v.createElement($6t,null,v.createElement(zy,{element:t})):v.createElement("pre",null,n)},O6t=jn.table`
  border: 1px solid #eaeaea;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
  border-collapse: collapse;
  width: 100%;

  tr:first-child {
    font-weight: 500;
  }

  ${({align:n})=>n.map((e,t)=>`
        tr td:nth-child(${t+1}) {
          text-align: ${e??"left"};
        }
      `).join(`
`)}
`,R6t=jn.td`
  padding: 8px;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
`,N6t=jn.h1`
  font-size: 21px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,L6t=jn.h2`
  font-size: 19px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,k6t=jn.h3`
  font-size: 17px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,I6t=jn.h4`
  font-size: 15px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,M6t=jn.h5`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,P6t=jn.h6`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,B6t=jn.div`
  padding: 10px 30px 30px 30px;
  width: 100%;
  font-family: Google Sans;
  overflow-y: auto;
`,j6t=jn.div`
  max-width: 900px;
`,q6t=jn.a`
  color: ${mi.dimension.fillStrong};
`,U6t=jn.p`
  font-size: 14px;
  margin-block-start: 8px;
  color: #4b4c50;
`,$6t=jn.div`
  pre {
    font-size: 14px;
    border: 1px solid #efefef;
    border-radius: 5px;
    padding: 10px;
    background-color: #fbfbfb;
  }
`,wce=jn.div`
  width: 100%;
  gap: 5px;
  display: flex;
  flex-direction: column;
`,Cce=jn.div`
  border: 1px solid #d7d7d7;
  border-radius: 7px;
  padding: 15px;
  background-color: white;
  display: flex;
  flex-direction: row;
  gap: 2px;
  margin-bottom: 15px;
  align-items: center;
  cursor: pointer;
  font-size: 15px;
  color: #595959;

  &:hover {
    background-color: #f0f6ff;
    border-color: #4285f4;
  }
`,Ace=jn.div`
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  font-weight: bold;
`,Tce=jn.div`
  color: #929292;
  font-size: 14px;
`;m();function fW(){let{data:n}=gg(["apps"],async()=>v2()?S9e():await(await fetch("api/apps")).json(),{refetchOnWindowFocus:!1});return n}m();m();var dW=()=>{let n=fW(),e=V3();return v.createElement(dN,{content:n?.readme||z6t(n),loadApp:t=>e(`/${t}`)})};function z6t(n){let e=`# Welcome to Malloy Composer

`;e+=`Select one of the following datasets to get started!

`;for(let t of n.apps){let r=t.id||"default",i=am(t.path);e+=`
<!-- malloy-app 
  app="${r}" 
  name="${i}" 
  description="Generated from ${am(t.path)}" 
-->`}return e}var H6t="https://looker-open-source.github.io/malloy/documentation/",V6t={REMOVE_FIELDS:"command+k",RUN_QUERY:"command+enter",UNDO:"command+z",REDO:"shift+command+z"},pN=()=>{let n=fW(),{appId:e}=vJ(),t=n&&n.apps&&n.apps[0]?.id===void 0,r=t?n.apps[0]:n?.apps?.find(Tt=>Tt.id===e),i=Bae(r),[s,o]=p1e(),a=i?.models.find(Tt=>Tt.id===s.get("model")),l=s.get("source"),f=(0,hN.useRef)(""),p=(Tt,Ot)=>{f.current=Tt.toString(),o(Tt,Ot)};(0,hN.useEffect)(()=>{i&&(document.title=i.title||"Malloy Composer")},[i]);let _=({run:Tt,query:Ot,styles:rn})=>{let St=s.get("query")||void 0,_e=JSON.stringify(rn);_e==="{}"&&(_e=void 0);let ke=s.get("styles")||void 0;St===Ot&&ke===_e||(Ot===void 0?s.delete("query"):(s.set("query",Ot),s.delete("name")),Tt?s.set("run","true"):s.delete("run"),_e===void 0?s.delete("styles"):s.set("styles",_e),p(s))},E=a?.model,O=a&&r?new URL(a?.path,new URL(r.path,window.location.href)).pathname:void 0,R=E&&l?E.contents[l]:void 0,{queryMalloy:q,queryName:z,clearQuery:L,clearResult:B,runQuery:P,isRunning:G,queryModifiers:ue,querySummary:I,dataStyles:J,result:he,registerNewSource:ve,error:Ve,setError:ot,dirty:lt,canUndo:et,undo:bt,redo:Pt,resetUndoHistory:$e,isQueryEmpty:te,canQueryRun:Ze}=nue(E,O,_,a?.styles),ye=s.get("page")||"datasets";t&&ye==="datasets"&&(ye="about");let Le=Tt=>{s.set("page",Tt),Tt!=="query"&&(s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),L(!0),$e(),ot(void 0)),p(s)},Ce=(Tt,Ot,rn=!1)=>{ve(Tt.model.contents[Ot]),rn||(s.set("source",Ot),s.set("model",Tt.id),s.set("page","query"),s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),L(!0),p(s))};(0,hN.useEffect)(()=>{(async()=>{let Ot=s.get("model"),rn=s.get("query")?.replace(/->\s*{\n}/g,""),St=s.get("source"),_e=s.get("styles"),ke=s.get("page");if(Ot&&(rn||St)&&i){if(s.toString()===f.current)return;let Se=i.models.find(ce=>ce.id===Ot);if(Se===void 0)throw new Error("Bad model");try{let ce=St||await Aue(Se.model,rn);if(ve(Se.model.contents[ce]),rn){if(ke!=="query")return;B();let tt=await Cue(Se.model,rn);ue.setDataStyles(_e?JSON.parse(_e):{},!0),ue.setQuery(tt,!0),s.has("run")&&s.get("page")==="query"&&P()}else s.delete("query"),s.delete("run"),s.delete("name"),s.delete("styles"),L(!0);f.current=s.toString()}catch(ce){ot(ce)}}else i&&!a&&!ke&&(s.set("page","about"),p(s,{replace:!0}))})()},[s,i]);let pe=Tt=>{let Ot=window.location.href,rn=new URL(Tt,new URL(r.path,Ot)).href,St=i?.models.find(_e=>new URL(_e.path,new URL(r.path,Ot)).href===rn);if(St===void 0)throw new Error(`Bad model '${Tt}' referenced in Markdown link. Options are: ${i.models.map(_e=>`'${_e.path}'`).join(", ")}.`);return St},Je=async(Tt,Ot)=>{try{let rn=pe(Tt);Ce(rn,Ot),s.set("page","query"),p(s,{replace:!0})}catch(rn){ot(rn)}},ut=async(Tt,Ot,rn,St)=>{try{let _e=pe(Tt),ke=await Aue(_e.model,Ot);s.set("model",_e.id),s.set("source",ke),s.set("query",Ot),s.set("page","query"),s.set("run","true"),s.set("name",rn),ve(_e.model.contents[ke]);let Se=await Cue(_e.model,Ot);if(ue.setQuery(Se,!0),St){let ce=ue.setDataStyle(Se.name,St,!0);s.delete("renderer"),s.set("styles",JSON.stringify(ce))}P(),p(s)}catch(_e){ot(_e)}},Ht=()=>{P(),s.set("run","true"),p(s,{replace:!0})},Ct={REMOVE_FIELDS:()=>L(),RUN_QUERY:Ht,UNDO:bt,REDO:Pt},xn=DAe(E,O,R);return v.createElement(W6t,{handlers:Ct,keyMap:V6t},v.createElement(X6t,null,v.createElement(Z6t,null,v.createElement(Dle,null),i&&v.createElement("span",null,i.title||"Malloy",l&&ye==="query"&&v.createElement("span",null," \u203A"," ",am(l),(s.get("name")||z)&&ye==="query"&&v.createElement("span",null," \u203A"," ",s.get("name")||am(z)))))),v.createElement(G6t,null,v.createElement(LIe,null,v.createElement(Y6t,null,v.createElement(K6t,null,!t&&v.createElement(wC,{onClick:()=>Le("datasets"),text:"Home",icon:"home",selected:ye==="datasets",disabled:n===void 0}),v.createElement(wC,{onClick:()=>Le("about"),text:"Dataset",icon:"about",selected:ye==="about",disabled:i===void 0}),v.createElement(wC,{onClick:()=>Le("query"),text:"Query",icon:"query",selected:ye==="query",disabled:R===void 0})),v.createElement(J6t,null,v.createElement(wC,{onClick:()=>window.open(H6t,"_blank"),text:"Malloy Docs",icon:"help",selected:!1,disabled:!1}))),v.createElement(ebt,null,v.createElement(Q6t,null,ye==="query"&&v.createElement(Fle,{dirty:lt,model:E,modelPath:O,source:R,queryModifiers:ue,topValues:xn,queryName:z,querySummary:I,queryMalloy:q,dataStyles:J,result:he,isRunning:G,runQuery:Ht,canUndo:et,undo:bt,isQueryEmpty:te,canQueryRun:Ze}),ye==="about"&&v.createElement(Sb,null,i&&v.createElement(dN,{content:i.readme||rbt(i),loadQueryLink:ut,loadSource:Je})),ye==="datasets"&&n&&v.createElement(Sb,null,v.createElement(dW,null)),v.createElement($ae,{error:Ve}))),v.createElement(tbt,null))),v.createElement(nbt,null))},W6t=jn(NIe.HotKeys)`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  outline: none;
  background-color: ${mi.mainBackground};
`,Q6t=jn.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 10px;
`,G6t=jn.div`
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
`,LIe=jn.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
  background-color: ${mi.mainBackground};
`,Y6t=jn.div`
  width: 70px;
  min-width: 70px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
  justify-content: space-between;
  align-items: center;
`,K6t=jn.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
`,J6t=jn.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
`,X6t=jn.div`
  height: 40px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 5px 10px 5px 20px;
  background-color: ${mi.mainBackground};
`,Z6t=jn.div`
  display: flex;
  align-items: center;
  gap: 5px;
`,ebt=jn(LIe)`
  margin-top: 10px;
  height: unset;
`,tbt=jn.div`
  width: 10px;
  min-width: 10px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
`,nbt=jn.div`
  width: 100%;
  min-height: 10px;
  height: 10px;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
`;function rbt(n){let e="";e+=`# ${n.title||"Malloy"}

`,e+=n.title?`Welcome to the Malloy Composer for the ${n.title} dataset!

`:`Welcome to the Malloy Composer. See below for a list of available sources.

`,e+=`## Sources

`;for(let r of n.models)for(let i of r.sources)e+=`
<!-- malloy-source
title="${am(i.sourceName)}"
description="${i.description}"
source="${i.sourceName}"
model="${r.path}"
-->
      `;return e}var ibt=new nJ,sbt=c1e([{path:"/:appId",element:fE.default.createElement(pN,null)},{path:"*",element:fE.default.createElement(pN,null)}]);kIe.default.render(fE.default.createElement(fE.default.StrictMode,null,fE.default.createElement(oJ,{client:ibt},fE.default.createElement(bJ,{router:sbt}))),document.getElementById("root"));ape();})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.4
